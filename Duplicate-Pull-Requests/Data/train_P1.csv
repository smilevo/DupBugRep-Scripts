providerfastly Make requestcondition optional;Makes the requestcondition setting optional for Fastly requestsettings as seen hereThis also updates the relevant documentation.       The text was updated successfully but these errors were encountered
add validatecredentials option to provideraws;My dev team is planning to use Terraform to manage our AWS resources in all of our environments Dev Test and Prod.We develop locally fakesqs and DynamoDB Local and do not have access to AWS credentials. We'd like to use Terraform to stand up tables against DynamoDB Local or any other local AWS service.I added a validatecredentials option to the provideraws Schema. It defaults to true. When set to false the credentials are not validated at all against IAM or the white black list of account ids.Since DynamoDB Local does not check the validity of the credentials we can create tables against it.       The text was updated successfully but these errors were encountered
Update environments.html.md;kind of confusing example right below is different than quoted command.       The text was updated successfully but these errors were encountered
Remove redundant const from command package;Replace usages of DefaultDataDir with the equivalent DefaultDataDirectoryRemove now unused DefaultDataDir const
provideraws Fixing IAM data source policy generation to prevent spurious diffs;Just resubmitting this as a new PR this was submitted in .As mentioned there there are a number of things AWS likes to do with a policy namely resource policies versus IAM ones that cause spurious diffs in Terraform even though nothing has changed ie sorting arrays inserting an empty Sid attribute and converting singleelement lists to a string value.Having the data source affords us the opportunity to ensure that these problems do not persist as we can now tweak the policy generation in one place.Again an example of the issue in actionhttpsgist.github.comvanclueverecdebfbfThe changes in this commit fixes things to allow a policy generated via the awsiampolicydocument data source to properly pass a TF planapply without any changes when nothing has indeed changed.References for this I list a few here however if you search in the issue backlog there are moreS SNS S discussing ordering ElasticSearch My original PR
provideraws Skip importing routes for VPC endpoints;Same logic as in resourceAwsRouteTableReadFixes
provideraws Allow ELB name to be generated;Since ELB has a hard limit of characters it may be sometimes hard to come up with a unique name so user may end up just using tags for human labels but the name still need to be filled in with something unique although useless for humans.This PR is adding new helper indirectly related to and makes elb name optional i.e. generated as tflbUNIQUEID.I can add an acceptance test case for ELB wout a name but first I want to get general feedback on this idea.
provideraws Lb cookie stickiness;This is based off and incorporates the feedback from radeksimko. Decided to open a PR for this because the issue has been inactive since Sept thcc radeksimko       The text was updated successfully but these errors were encountered
command Add flag for updating modules on init.;Add a flag updatemodules to enable updating modules as part of a terraform init and supporting test case.The justification behind this is to enable the use of terraform init as part of a Jenkins CI pipeline whereby we are running a terraform init on every build. Currently after the modules are initially downloaded they'll never be updated unless eitherThe workspace is clearedorA terraform get update is run       The text was updated successfully but these errors were encountered
Fix ECS field inconsistency;ECS has some inconsistency in the way it sends downfield names and the way it expects them in the api.MEMORY and CPU are expected capitalized and instanceId should be sent asis.The previous fixed lowercased everything meaning instanceId is beingsaved as instanceid and causing a change in the resource.PRs and issues       The text was updated successfully but these errors were encountered
Make the device name for attached disks equal to the disk name making provisioning disks easier;No description provided.
Add support for SNS topics;Chips away at . This would have been the simplest thing in the world to do were it not for one uh feature of the SNS API. There is no way to describe or filter for an individual topic.Instead you have to page results back from a complete topic list and unlike autoscaling groups whose paging limit is something like the paging limit for SNS topics is . I didn't feel right not supporting result paging here it's entirely possible a TF user could have more than SNS topics if they really love the product so I wrote a pager.The file is snstopicseeker.go and implements a basic state machine whose design will look mighty familiar if you've ever seen this presentation by Rob Pike or read the source code to texttemplateparselex.go in the stdlib. It's basically a slimmed down implementation of the same pattern and I've covered it with a bunch of unit tests to make sure it works and works well.For what it's worth I think it could be abstracted to an interface and used to page anything in AWS that returns a NextToken but I didn't want to build a generalized version if this is the only AWS resource that'll use it.Anyway let me know if there are any problems here. I'm going to add SNS topic support to AS groups too per but that file's a bit complex and I didn't feel like biting it off quite yet. I need it though so I'll try to finish it off later this week.
providergce Convert instance scopes to TypeSet;providergce Convert instance scopes to TypeSetThe GCE API or library always returns service account scopes in apredefined order. So if you specify the following configserviceaccount  scopes  userinfoemail computero storagero You will get the following change on every applyserviceaccount..scopes. httpswww.googleapis.comauthcompute.readonly httpswww.googleapis.comauthuserinfo.email forces new resourceserviceaccount..scopes. httpswww.googleapis.comauthdevstorage.readonly httpswww.googleapis.comauthcompute.readonly forces new resourceserviceaccount..scopes. httpswww.googleapis.comauthuserinfo.email httpswww.googleapis.comauthdevstorage.readonly forces new resourceFix this by converting scopes from TypeList to TypeSet. This ensures thatwe have the correct entries by ignores the order that they appear in.providergce Acceptance test for serviceaccountAdd a new acceptance test for googlecomputeinstance.serviceaccountwhich will confirm the change I'm about to make to convert it fromTypeList to TypeSet will work. Since I already broke it during mymanual testing.This didn't seem related to any of the existing tests so I've created a newone. Although this will increase the runtime of the acceptance test suite.I also can't see that any of the existing tests do comparisons of sets e.g.making sure that there aren't more tags or disk than we have specified. So Ihave stuck with this convention and am just testing for the scopes that havebeen specified.The exception to this is the number of ServiceAccounts entries. Wecurrently only support one so we can error if we have more or less thanthis number.Things I'm unsure aboutis a separate acceptance test OKshould the test be more thoroughshould it test that it's idempotent on the second run Is that possibleI assume this doesn't need a state file migration       The text was updated successfully but these errors were encountered
provideraws Add IAM Server Certificate resource;Adds a new AWS Resource IAM Server Certificatehttpdocs.aws.amazon.comIAMlatestUserGuideManagingServerCerts.htmlVerifyCertObjectServer certs uploaded to IAM can be used in a few placesAWS Elastic BeanstalkElastic Load BalancingCloudFrontAWS OpsWorksAdding docs now wanted to open for any thoughts from phinzeUPDATE docs added squashed
AWS SQS policy normalization;Apply existing normalizeJson as StateFunc to SQS policy to prevent AWS from detecting policy changes when stripping whitespace characters. Labeled as bug in . Different resource but appears to be a similar issue in as well.       The text was updated successfully but these errors were encountered
provideraws Fix OnceADayWindowFormat Validator;If an attribute that would normally be validated by validateOnceADayWindowFormat is an empty string in every case AWS supplies a default time window to use.Thus an empty string for these attributes is a valid value.Fixes        The text was updated successfully but these errors were encountered
provideraws Network Interface private ips can be computed;Fixes
Implement restart policy support in Docker provider.;Fixes        The text was updated successfully but these errors were encountered
WIP providerazurerm add dns zone resource;Scaffold the ARM DNS Zone resource Schema CRUD Acceptance Tests DocumentationTest ResultsUnfortunately there seems to be a bug in the Azuregosdk right now AzureazuresdkforgoThis will need fixed before I can fix this
switch to updated awssdkgo credentials;Seems awssdkgo has changed a bit..rant golang dependency management or lack thereof sucks should we vendor deps
Update Travis to use Go .;No description provided.
provideraws CloudFront Distribution;Schema Create Implementation Read Implementation Update Implementation Delete Implementation Acceptance Tests DocsSeems like a few other folks started doing this before and didn't finish. I'm hoping I can do better by focusing only on the primary functionality in this first changeset and then progressively more features in subsequent changesets.
instanceprofile is a required parameter when creating an EMR instance group;When creating an EC instance group to process data in an EMR clusterspecifying instanceprofile as an attribute inside ecattributes ismandatory it would appear.Not setting it results in an error from Terraform complaining that it isn'tset and the AWS SDK for Go appears at least in my interpretation not todefault it anywherehttpsgithub.comawsawssdkgoblobmasterserviceemrapi.goThis PR also includes some basic style and grammatical fixes.
provideraws expose Route zone nameservers;This PR attempts to expose the NS elements of Route zone. Refs
provideraws Added the ability to import awsiamrole's;Not much to it needed this to build a tf configuration for our core configs.
AWSRouteZone create private hosted zone associated with VPC.;Add ability to create a private Hosted Zone that is associated to a VPC.Currently only supports a single VPC at creation time.Future question is how to support multiple VPCs. Amazon uses a AssociateDisassociate request however this is problematic since you must specify one and only one VPC during creation.Alternatively we could model it as a VPC Set and and use the first entry as the entry for creating and then associate the others.
Propagate AWS CodePipeline action roles;CodePipeline stage actions can optionally specify an IAM execution role. The provider nominally supports them but they don't seem to be getting passed tofrom AWS.Please forgive any nonidiomatic Go syntax. It is not in my wheelhouse.
Breaking security group rules out into it's own resource to address;No description provided.
get profile name even if profile path exists;When terraform started persisting the instance profile name to the state the code used the second part of the instance profile ARN split on where it should be using the last part of the ARN split on
provideraws Fix issue with updating VPC Security Group IDs for an Instance;Currently we aren't correctly setting the ids and are setting bothsecuritygroups and vpcsecuritygroupids in the state. As a result we really only usethe former but the latter never goes away in the state file We also don't actually update the remote security groups in the update method.This PR fixes both issues correctly reading securitygroups vs.vpcsecuritygroupids and allows users to update the latter withoutdestroying the Instance when in a VPC.Should fix
Aws volume size;This resolves and allows for larger volume sizes on aws instances.
provideraws require db option group name to be lower case;AWS is automatically changing these names to lower case as described in This is causing errors when terraform apply is rerun.I don't believe this needs any documentation updates.Closes
providerazurerm Fixes for azurerm subnet properties;Partially fixes GHSo far this implements the setting of address range route table association and network security group association for azurerm subnet resource.There is still failure when going from a set resource to none for route tables and nsg e.g.resource azurermsubnet test  name testsubnet resourcegroupname azurermresourcegroup.test.name virtualnetworkname azurermvirtualnetwork.test.name addressprefix ... routetableid azurermroutetable.test.id networksecuritygroupid azurermnetworksecuritygroup.test.idtoresource azurermsubnet test  name testsubnet resourcegroupname azurermresourcegroup.test.name virtualnetworkname azurermvirtualnetwork.test.name addressprefix ... routetableid  networksecuritygroupid        The text was updated successfully but these errors were encountered
provideraws Add support for AWSConfig service;TODO Implementation of awsconfigconfigurationrecorder Implementation of awsconfigconfigurationrecorderstatus Implementation of awsconfigdeliverychannel Implementation of awsconfigconfigrule Docs for awsconfigconfigurationrecorder Docs for awsconfigconfigurationrecorderstatus Docs for awsconfigdeliverychannel Docs for awsconfigconfigrule Acceptance tests for awsconfigconfigurationrecorder Acceptance tests for awsconfigconfigurationrecorderstatus Acceptance tests for awsconfigdeliverychannel Acceptance tests for awsconfigconfigrule ValidateFunc functions on all fields of all resources where it makes sense Import of all resources tests Guard against deletion of all resources outside of Terraform
provideraws adding support for SQS queues;Disclaimer I'm pretty new to Go but this seems to be working in my tests for addingeditingdelete a queue. It also passed make test but I might be doing things wrongThis adds basic SQS functionality to createeditdelete a SQS queue. Right now it doesn't support anything like dead letter or permissions.Let me know if anything really bad or something I missed sticks out
Use the new AWSClient.accountid when generating ARNs;With the merge of we are now able to leverage the onetime collection of the AWS account id rather than trying to fetch it from multiple places in the code.
google Expand tilde in accountfile path;This will allow the followingprovider google  project yadayada region uscentral accountfile .gcloudanything.json       The text was updated successfully but these errors were encountered
Bug Only prefix hashcode with TypeSet diff marker.;This fixes the immediate problem discussed in by limiting the hyphen to tilde substitution with computed hashcodes only.       The text was updated successfully but these errors were encountered
providergoogle Move checking into a function in provider.go call it from instance and IGM;Initial PR for . It fixes the specific concern by adding in checking for resourcecomputeinstancegroupmanager and also shows the new function being reused in resourcecomputeinstance note that it also exposed a bug if there is a we should return nil instead of an error. If this looks good I'll check it in and then open up a separate PR for the rest of the resources.
helperschema Make nested Sets in Lists work;This is a second patched version of which had to be reverted because some acceptance tests were failing as part of the nightly run.Related to Supersedesfixes Blocking The only difference from the original PR is the last commit fbe.I managed to reproduce schema diff edge cases from the failing tests in aws provider and fix those. I added new unit tests to cover this new functionality.I ran the previously failing aws acceptance tests all are now passing. I also ran first aws of total acceptance tests which all eventually passed.I don't have a Fastly account so I would appreciate if someone could double check all acceptance tests are passing there too and generally run the whole shebang once again with this patch possibly before merging.
Correct Proxy setting for openstack provider issue;Correction of the Issue to use openstack provider trought a proxy.       The text was updated successfully but these errors were encountered
provideraws fix the datasource awsroutetable support for id argument;This PR implements the id argument in the datasource awsroutetable.But I hava an issue in the testsvagrantterraformoptgopathsrcgithub.comhashicorpterraform TFACCtrue go test v github.comhashicorpterraformbuiltinprovidersaws run TestAccDataSourceAwsRouteTable RUN TestAccDataSourceAwsRouteTable FAIL TestAccDataSourceAwsRouteTable .stesting.go Step error After applying this step and refreshing the plan was not emptyDIFFUPDATE data.awsroutetable.byfilter associations. computed filter.  filter..name association.routetableassociationid filter..values.  filter..values. rtbassocdf routes. computed subnetid computed tags. computed vpcid computedUPDATE data.awsroutetable.byid associations. computed routes. computed subnetid computed tags. computed vpcid computedUPDATE data.awsroutetable.bysubnet associations. computed routes. computed subnetid subnetdebea tags. computed vpcid computedUPDATE data.awsroutetable.bytag associations. computed routes. computed subnetid computed tags.  tags.Name terraformtestaccroutetabledatasource vpcid computedSTATEawsroutetable.test ID rtbcbffa propagatingvgws.  route.  tags.  tags.Name terraformtestaccroutetabledatasource vpcid vpcf Dependencies awsvpc.testawsroutetableassociation.a ID rtbassocdf routetableid rtbcbffa subnetid subnetdebeaCan you explain me how to fix this please Thanks       The text was updated successfully but these errors were encountered
add resource awsrdsclusterparametergroup;This PR adds support for RDS Cluster Parameter Groups see . It's more or less a carbon copy of awsdbparametergroup.I have a small question regarding error handling. awsdbparametergroup compares against DBParameterGroupNotFoundFault not DBParameterGroupNotFound which is the error code I've been observing in docs and during tests. Is that correct I'm using DBParameterGroupNotFound for now.       The text was updated successfully but these errors were encountered
provideraws Support S bucket object upload with AES serverside encryption;Add optional awssbucketobject boolean encrypt attribute to allow AES serverside encryption modeled after the S Remote State BackendIf encrypt true and no AWS KMS Key ID is specified then a serverside encryption value of AES is usedSetting a value for kmskeyid implicitly sets encrypt trueUpdate documentationAdd new acceptance test make testacc TEST.builtinprovidersaws TESTARGS'runTestAccAWSSBucketObjectsseaes'  Checking that code complies with gofmt requirements...go generate go list .... | grep v terraformvendor Generated commandinternalpluginlist.goTFACC go test .builtinprovidersaws v runTestAccAWSSBucketObjectsseaes timeout m RUN TestAccAWSSBucketObjectsseaes PASS TestAccAWSSBucketObjectsseaes .sPASSok github.comhashicorpterraformbuiltinprovidersaws .sVerify no regression make testacc TEST.builtinprovidersaws TESTARGS'runTestAccAWSSBucketObjectkms'  Checking that code complies with gofmt requirements...go generate go list .... | grep v terraformvendor Generated commandinternalpluginlist.goTFACC go test .builtinprovidersaws v runTestAccAWSSBucketObjectkms timeout m RUN TestAccAWSSBucketObjectkms PASS TestAccAWSSBucketObjectkms .sPASSok github.comhashicorpterraformbuiltinprovidersaws .s       The text was updated successfully but these errors were encountered
Update buffer swap test to use better variable names;testsparallelbufferswap.js has all variables defined at the top level scope and hence the variable names are variations of buf buf buf etc.This PR puts each setupassertion code block into its own block and renames the variables to be easier to read.Checklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemstest
readline concievably typo in readline.js;close
doc fix out of date napicallback doc;The earlier version napicallback returns void but now is napivalue. The document of this section hasn't been modified.Fixes Fixes Checklist make j test UNIX or vcbuild test Windows passes documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdoc napi
upgrade npm to ..;Checklist tests and code linting passes a test andor benchmark is included documentation is changed or added the commit message follows commit guidelinesAffected core subsystemsdepsDescription of changeThe biggest thing in this release is that it fixes the tests on Windows.There are a couple of Windows related bug fixes that were exposed by fixing the tests on Windows. NotablyThe use of npm explore to run a command from the directory of a dependency didn't work correctly on Windows.npm init and others that inferred the module name from the path failed with scoped modules on Windows.Removing globally installed bins for scoped modules previously failed on Windows. And was incorrect but working byaccident elsewhere.Correct npm cache ls to output real filenames?Çô previously it sometimes mistakenly double the package name in the path resulting paths that don't exist.npm now warns if you paste in a command line that uses nonascii dashes like emdashes or endashes as this is almost certainly not intended.And one new featureIf we got a cachehit for module metadata but the version requested does not exist in the metadata we then explicitly ask the registry for updated metadata. This removes one of the primary pain points of using a very high cachemin.Changelogsv..Reviewersr zkatr thealphanerdr Fishrock
feature Add Promises interface for fs;Initially I've implemented a promise interface just for the readFile method. If this feature is approved I'll implement for others fs methods And the callback keeps working
LICENSE update from dependencies;Changes in licensebuilder.sh and LICENSE resulting from that.Update libuv license they changed it upstreamUpdate vinspector license their license file was removed from tree when it was reorganised pulling from file header nowReorder LICENSE file to put vinspector along with the runtime components and its build components down with the rest of the build components this is how it should have been in the first place
tls fix session resumption check;Before checking server's identity call to OpenSSL internals to ensurethat the session was not reused. In such case certificate is going tobe empty and validation will crash.Fix P.S.This is introducing big thing as a part of commit which should probably be eventually exposed to userland.cc nodejscrypto
doc fix minor style issue in code examples;Checklist make j test UNIX or vcbuild test nosign Windows passes documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdocDescription of changeI've noticed that a few of the code examples have an minor indentationissue with the first line for examplehttpsnodejs.orgapichildprocess.htmlchildprocesschildprocessThis commit attempt to fix this issue by using the suggestion providedby Brain White which is to add a separate style for code with apaddingright and paddingleft of .em.Fixes
doc fix anchor links from stream to HTTP;No description provided.
deps upgrade to npm ..;HiiiThis PR includes two releaseshttpsgithub.comnpmnpmreleasestagv..httpsgithub.comnpmnpmreleasestagv..The main thing to note is a hopefully welcome update to our licensing to clarify scope of both the open source side and the registry TOS. There's a further clarification coming later this week so we're not done with that bit yet so keep an eye out for v...This PR supersedes but have a looksee over there for some discussion. That PR should be closeable though. was closed because I made it against the wrong branch. Sorry about that. r jasnellr Fishrockr chrisdickinsonr thealphanerd       The text was updated successfully but these errors were encountered
build remove quiet from eslint invocation;Pull Request checklistPlease make sure to review and check all of these items Does make j test UNIX or vcbuild test nosign Windows pass withthis change including linting Is the commit message formatted according to CONTRIBUTING.md If this change fixes a bug or a performance problem is a regressiontest or a benchmark included Is a documentation update included if this change modifiesexisting APIs or introduces new onesNOTE these things are not required to open a PR and can be doneafterwards while the PR is open.Affected core subsystemsPlease provide affected core subsystems like buffer cluster crypto etcbuildDescription of changePlease provide a description of the change here.fixes        The text was updated successfully but these errors were encountered
net Fixing error message;When I was trying to understand the problem in I found out that we show error messages like thisError connect EMFILE ... Local undefinedundefinedIt is because we ran out of file descriptors and we don't have a valid socket. So if the return value of getsockname doesn't have valid address and port properties we just don't include them in the error message.The problem can be reproduced with the following codevar net require'net' Servernet.createServer.listen function  console.log'server bound'console.log'Launched' Connect to serverfor var i i i  net.connect port  cc bnoordhuis
WIP events optimize emit;EventEmitteremit can be called with many different arguments butthere are a few that are most common. Increase performance by optimizingthose most common cases. It also drastically decreases the amount ofoutput from tracedeopt.This is a hyper optimization and will probably on save ns or so at actual runtime. One thing I find most advantageous is that tracedeopt will show far less output.There is still plenty that I would like to do. For example implement a sort of IC in JS that will preempt what will be called. Would like feedback during development. Also one of the message tests is failing because of the change in the call stack. Will take care of that before WIP is removed.Rindutny
Revert recent contextify changes;This reverts Refs R ofrobots evanlucas       The text was updated successfully but these errors were encountered
test refactor the code in testutildebug.js;use const and let instead of varuse assert.strictEqual instead of assert.equalChecklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemstestDescriptionuse const and let instead of varuse assert.strictEqual instead of assert.equal
src fix Wunusedfunction warning;Reugeneo       The text was updated successfully but these errors were encountered
tools suggest python command in configure;Checklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemstoolsAs suggested by jbergstroem this text should be helpful to people on systems where python is python. Will printPlease use either Python . or .You can try using a different interpreter like this PYTHONusrbinpython .configureRef comment
src do not join an uninitialized thread;A uvthreadtpthreadt cannot be initialized to an explicitly invalidvalue access to it must be guarded by some state tracking.Attempt to fix CID Uninitialized members UNINITCTORsrcinspectorio.cc in nodeinspectorInspectorIoInspectorIonodeEnvironment vPlatform const stdbasicstringchar stdchartraitschar stdallocatorchar const nodeDebugOptions  platformplatform dispatchingmessagesfalse sessionid scriptnamepath  CHECKEQ uvasyncinitenveventloop mainthreadreq InspectorIoMainThreadAsyncCb uvunrefreinterpretcastuvhandletmainthreadreq CHECKEQ uvseminitstartsem  CID Uninitialized members UNINITCTOR Nonstatic class member thread is not initialized in this constructor nor in any functions that it calls.  bool InspectorIoStart  CHECKEQuvthreadcreatethread InspectorIoThreadCbIO this  uvsemwaitstartsemThough I may need some lint markup as well.Checklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemssrcto bnoordhuis eugeneo
fix compile bug in vlookup.h;Fixed a small error that manifests when debug is specified. Seems to be fixed in .x when v was pulled from upstream.Sorry if this is the wrong branch but it doesn't apply to master as this is for the .x series.Checklistx make j test UNIX or vcbuild test Windows passesx commit message follows commit guidelinesAffected core subsystemsbuild
src fix line numbers on core errors;In dfeee the module wrapper and line offset used when wrapping module code was changed to better report errors on the first line of modules. However that commit did not update the runInThisContext call used to execute the core modules so their error line numbers have been off by one. This commit provides the correct lineOffset for core modules.Refs
buffer add indexOflastIndexOf method;Expanded on srijs code to add a Buffer.prototype.lastIndexOf. I used a strategy of divideconquer but since I'm a total c idiot I have no idea whether there is a better way some reverse memcmp variant. Also I rebased both srijs and these commits against v. hoping it would make it out sooner
test add crypto's setEngine test;Add tests for crypto.setEngine.httpsgithub.comnodejsnodeblobmasterlibcrypto.jsLThere is not a normal test because I did not have an idea that how to designate the enginepath or id in the test 'errorDSO support routinesDLFCNLOADcould not load the shared libraryChecklist make j test UNIX or vcbuild test Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemstest       The text was updated successfully but these errors were encountered
doc removed old git conflict markers form fs.md;Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsDescription of changedocapifs.md file had some conflict markers like HEAD that are visible at the bottom of httpsnodejs.orgapifs.html       The text was updated successfully but these errors were encountered
doc fix timout typo in timeout;Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsNoneDescription of changeCorrected doc typo to timeout       The text was updated successfully but these errors were encountered
Android support;Pull Request checklistPlease make sure to review and check all of these items Does make j test UNIX or vcbuild test nosign Windows pass withthis change including lintingI have one test failing testhttpcurlchunkproblem but this test also fails on a clean master branch so it's not because of my patches Is the commit message formatted according to CONTRIBUTING.md If this change fixes a bug or a performance problem is a regressiontest or a benchmark included Is a documentation update included if this change modifiesexisting APIs or introduces new onesAffected core subsystemsbuildDescription of changeThe provided patches add support for building node for Android systems Brillo is also supported. This include building node with both NDK building node outside of Android build system and Bionic building node inside Android build system.Building node with Bionic inside an AndroidBrillo build system is useful mostly for vendors who wants to include node in their products.In order to successfully build node with Bionic I have another patch inside libuv but I will submit that patch directly to libuv.
assert enforce type check in deepStrictEqual;For a writeup on this PR see commentThe lessbreaking part of this PR has been moved to Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemsassert testDescription of changeAdd checks for the builtin tags and refactor deepEqualmost userland modules do this for a strict deep comparison.nodejsnodev.xarchive already addedthis check for argument objects even in nonstrict tests.Fixes .Docs updates are postponed due to .See httpstc.github.ioecmasecobject.prototype.tostringfor a partial list of the tags.
errors console migrate to use internalerrors.js;Migrate libconsole.js to use internalerrors.js.Refs cc jasnellChecklist make j test UNIX or vcbuild test Windows passes tests andor benchmarks are included documentation is changed or added commit message follows commit guidelinesAffected core subsystemserrors console
buffer Added Bufferincludes to keep parity with TypedArray.;Simply adds Buffer.prototype.includes by wrapping an indexOf andperforming a strict equals check to .The includes method takes the search value byteOffset andencoding as arguments.The test is a modified version of the indexOf test.Addresses .
test use dynamic port in testclusterdgramreuse;Use of common.PORT in parallel tests is not completely safe becausethe same port can be previously assigned to another test running inparallel if that test uses port to get an arbitrary available port.Remove common.PORT from testclusterdgramreuse.Checklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemstest cluster
doc add timer classes;Checklist documentation is changed or added the commit message follows commit guidelinesAffected core subsystemsdocDescription of changeThe timers returned by setTimeout and friends are actually instancesof Timeout and Immediate. Documenting them as such so that theref and unref methods can be identified as methods on Timeoutobjects.Sparked by discussion in w Fishrock
fs fix fd leak in ReadStream.destroy;this is a file descriptor leak PR that was opened in joyentnode for a while but had no traction. please pull this or give us directions on the testsnodejsnodev.xarchivecc rlidwka dougwilson       The text was updated successfully but these errors were encountered
inspector wait for both sides closing;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemsInspector test no runtime changes.Description of changeRemoves race condition when test relied on both sides of the socketto be closed on the same UV event loop iteration.Fixes
crypto ecdh generate public key when setting private key and more;crypto ecdh updates to support using previously known private keysgenerate public key when setting private keyremove generated checks from gettersadded testsupdated docscheck the key pair before computing the secret to avoid computing a garbage shared secretadded ECDH.validKeyPairmarked ECDH.setPublicKey as deprecatedThis pull request shares many similarities with .I decided not to add the public key generation as a separate method like was proposed in .Rather I made it part of setting the private key.I liked this way more because then it leaves two main ways to use the class. Either generate the keys or set the private key then compute the shared secret.Originally I started looking at this code because the following error was annoying and unnecessary and is why I removed the generated member from ECDH node p require'crypto'.createECDH'secpk'.setPrivateKeynew Buffer'' 'hex'.getPublicKey crypto.js var key this.handle.getPublicKeyf  Error You should generate ECDH keys first at Error native at ECDH.getPublicKey crypto.js
meta move code of conduct to it's own file;Currently the code of conduct exists but it is somewhat hidden inCONTRIBUTING.mdThis PR creates CODEOFCONDUCT.md that contains the copy originallyfound in CONTRIBUTING.md       The text was updated successfully but these errors were encountered
test skip testpreload on AIX;Checklist tests and code linting passes the commit message follows commit guidelinesAffected core subsystemstestDescription of changeRefs commentFixes cc bmeck mhdawsonMaybe we should be changing this to only skip the stdin part of the test It seems like that is the bit causing issuesCI httpsci.nodejs.orgjobnodetestpullrequest
test make cluster test more time tolerant on more platforms;The problemnodejsnodev.xarchivefferesolves also affects Alpine Linux musl libc so use increased timeoutfor all platforms and not only for AIX.
doc fix inconsistencies in code examples;This is essentially the same as my other pull request with a few more additions. Sorry about opening multiple I somehow really messed it with the rebasing there so I closed it.Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdocDescription of changeAdded missing semicolons braces and fixed indentation.       The text was updated successfully but these errors were encountered
Revert module preserve symlinks when requiring;After much discussion it seems that the changebroke the way require detects unique identity ofthe binary modules. While resolving module'sfull path is not sufficient and maybe evennot elegant like anything that requires the useof realpath except for certain security scenarioswe cannot break multiple inclusions of binarymodules across symlinked substed or otherwisehidden paths.There should be a test case invoving a binarymodule to check for issues related to the binarymodule identity.Revert This reverts commit dedca.       The text was updated successfully but these errors were encountered
net return if not connecting;Fixes regression introduced in affa.With connect being deferred to the next tick Socket.destroy could becalled before connect. Socket.destroy sets connecting to false whichwould cause an assertion error.Fixes
deps upgrade npm to ..;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdepsDescription of changeHey y'all was created a while back to track stuff surrounding this release and I think it's a good decision to wait to do a minor bump later rather than rush this release out in any way. Thanks a bunch for your patienceAs you can see this is a semvermajor bump for npm. That said the actual impact of the release to the ecosystem is relatively small. Most certainly much smaller in impact than npm was. We're still sniffing out a couple of issues and might even put together an npm.. soon to iron that out before npm becomes latest.THIS IS NOT A FINAL RELEASE as mentioned in this is a preview of npm so y'all can start testing and taking a look at changes and make sure everything looks good before considering including it with official node releases.One more note With the release of npm we've decided to move both npm and npm to maintenance that means we're unlikely to continue adding features to either of those but will include critical patches specially security patches if something comes up. Regular bugfixes will not be done as it's much better for our team to be able to focus on the latest release which we're standing behind. As far as Node Core is concerned though npm continues what we consider to be a sort of LTS release for y'all's sake. Maintenance doesn't mean it's no longer maintained and users should continue to have a working experience with npm until node leaves LTS. npm.. which I'll be downstreaming soon might end up being our last npm release.So without further ado npmBreaking Changesnpm search rewritten to stream results and no longer supports sorting.npm scripts no longer prepend the path of the node executable used to run npm before running scripts. A scriptsprependnodepath option has been added to configure this behavior. cc addaleaxprepublish has been deprecated replaced by prepare. A prepublishOnly script has been temporarily added which will only run on npm publish. NOTE This change only affects users publishing new versions of their packages and developers installing through git and local deps. Registry installs should be mostly unaffected by this change.npm outdated exits with exit code if it finds any outdated packages. cc watildenpm tag has been removed after a deprecation cycle. Use npm disttag.Partial shrinkwraps are no longer supported. npmshrinkwrap.json is considered a complete installation manifest except for devDependencies. This will affect certain projects that relied heavily on this feature most notably hapi.devDependencies are now included in npmshrinkwrap.json by default. This should make the transition to npm easier.Other Notable Changesnpm now sends two extra http headers to the registry npmnpmNpmInCI whether npm was run within a Continuous Integration environment.NpmScope the scope of the toplevel package this installation is for. For example if you have a nodefoo package all dependency requests for that package will include node in the header even if those dependencies themselves are not scoped or are for a different scope.Changelogsv..v..v..r Fishrockr addaleaxr jasnell
test fix lint error regarding unused commons const;Checklist make j test UNIX or vcbuild test nosign Windows passes commit message follows commit guidelinesAffected core subsystemstestDescription of changeCurrently make lint is failing with the following error error 'common' is assigned a value but never used nounusedvars?£û problem error warnings
build make buildaddons execute parallel;Currently the building of addons and addonsnapi are done sequentiallybut could be done in parallel which this commit tries to address.Checklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelinesAffected core subsystemsbuild       The text was updated successfully but these errors were encountered
v forward compatibility to current V master;As discussed in nodejsCTC we are aiming for a upgrade to V . in the Node .x lifecycle. Therefore it makes sense to apply changes that are semvermajor because they break the API or ABI before that upgrade actually happens.Changes that are marked deps are cherrypicks the rest is manual work and needs review.This is a bit WIP because I?ÇÖm still compiling to see if everything works out. CI httpsci.nodejs.orgjobnodetestcommitCI httpsci.nodejs.orgjobnodetestcommitCI httpsci.nodejs.orgjobnodetestcommitV CI httpsci.nodejs.orgjobnodetestcommitvlinuxV CI httpsci.nodejs.orgjobnodetestcommitvlinuxV CI httpsci.nodejs.orgjobnodetestcommitvlinuxV CI httpsci.nodejs.orgjobnodetestcommitvlinuxV CI httpsci.nodejs.orgjobnodetestcommitvlinuxCITGM httpsci.nodejs.orgviewNode.jscitgmjobcitgmsmokerCITGM on master for comparison httpsci.nodejs.orgviewNode.jscitgmjobcitgmsmokernodejsv targos jasnellChecklist make j test UNIX or vcbuild test Windows passes commit message follows commit guidelines figure out whether to do anything about removed command line flagsAffected core subsystemsdepsv
test fix debugportcluster flakiness;The test was assuming that the all workers are running text was receivedby the parent process in a separate chunk from the other texts. This mightnot always be the case causing the test never reaches the exit condition.Fix it by checking every line received.This test was timing out from time to time in OS X. To check what the problem was I added the indexof the lines array into the log and could verify what I described beforeusrbinpython toolstest.py moderelease message parallel sequential J release testdebugportcluster Path paralleltestdebugportcluster Debugger listening on port  Debugger listening on port  Debugger listening on port  all workers are runningCommand outReleasenode Userssgimenonodenodetestparalleltestdebugportcluster.js TIMEOUT
Add arrow function rules to eslint;This PR enforces the following linting rulesarrowparens requires parens around arrow function argumentsarrowspacing ensures a space on each side of the noarrowcondition prevents accidental use of in caseswhere the user really intends to use The only code that violated these rules existed in the test directory.R rvagg
doc Deprecate old debug protocol;Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdocDescription of changeAs discussed in we'd want to add a soft deprecation of the debug flag to the docs.This just adds the deprecation to the advanced usage section not to the overall page. I think we can actually keep supporting node debug filename since it doesn't leak the protocol used as pid and url do both of which could have been started with a different version of node.
srctools speed up startup by .;Use zerocopy external string resources for storing the builtin JSsource code. Saves a few hundred kilobyte of memory and consistentlyspeeds up benchmarkmiscstartup.js by ..Everything old is new again Commit ce Add string class thatuses ExternalAsciiStringResource. from did the same thing butI removed that in in commit ba src don't use NewExternalwith unaligned strings because of a limitation in the V API.V no longer requires that strings are aligned if they are onebytestrings so it should be safe to reenable external strings again.CI httpsci.nodejs.orgjobnodetestpullrequest
resolve failopen scenario with fs nullCheck;Solves
doc update AUTHORS list;Update AUTHORS list using toolsupdateauthors.shIncludes modifications to .mailmapAdds new contributors.I've replaced all of the nonsense email addresses mainly noreply.github with user too.Contributors nontrivially impacted by this change please see how .mailmap changes are impacting your entry and speak up if there is a problem.shigekironkorvingaviedoHavvyfundonpmqzbjornsonsaadqNew contributors without full names. It's not a strict requirement that we have real names for everyone you're free to leave your entry in AUTHORS as it is here however having more information may assist us in the future on the legal side. e.g. if we were to attempt to change license. If you'd like your entry updated please let me know and I'll add a .mailmap entry for you to insert a new name.AlexisatstojanovLtrlgRachBLondonpmatzavinrainabbampmckennanohmappfenelarissayvettejessicaquynhsoleboxymarzelinDeverickSimpsonanujseagullNew contributors with no full name or email address. You're welcome to keep your entry blank but if you could provide more information about yourself including full name andor contact address it would be appreciated. Let me know.oogzsseverAnnaMag       The text was updated successfully but these errors were encountered
querystring avoid conflicts with Object.prototype and proto;Currently the literal returned object is swallowing allmethods and properties inherited from the Object.prototype.This includes the proto special case and this PRaim is to fix all these inherited properties at onceusing the in operator before checking the array ofknown keys.This PR has been previously described and tested in and it has been made from scratch to avoid confusion.The benchmark shows overall out of tests are up to faster and one test the worst case scenario with many pairsslower between and than before.       The text was updated successfully but these errors were encountered
module prioritize current directory for local lookup;Does make j test UNIX or vcbuild test nosign Windows pass withthis change including linting Is the commit message formatted according to CONTRIBUTING.md If this change fixes a bug or a performance problem is a regressiontest or a benchmark included Is a documentation update included if this change modifiesexisting APIs or introduces new onesAffected core subsystemsmodule testDescription of changeThis fixes an issue reported in about module in nodemodules being preferred over a local file with the same name when resolved in repl or eval mode. The bug originates from the fact that Module.resolveLookupPaths puts nodemodules before the current directory when run from repl or eval.Previous results from Module.resolveLookupPaths'.lodash' '.lodash' 'UsersphillipjDevrepllookuptestnodemodules' 'UsersphillipjDevnodemodules' 'Usersphillipjnodemodules' 'Usersnodemodules' 'nodemodules' '.' 'Usersphillipj.nodemodules' 'Usersphillipj.nodelibraries' 'UsersphillipjDevnodeoutlibnode' Fixed results from Module.resolveLookupPaths'.lodash' '.lodash' '.' 'UsersphillipjDevrepllookuptestnodemodules' 'UsersphillipjDevnodemodules' 'Usersphillipjnodemodules' 'Usersnodemodules' 'nodemodules' 'Usersphillipj.nodemodules' 'Usersphillipj.nodelibraries' 'UsersphillipjDevnodeoutlibnode'
doc Update CONTRIBUTING.md with backport info;Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdocDescription of changeAdd information on getting fixes into the LTS releases and alsosome information on what is needed for getting fixes to dependenciesback into the Node.js codebase.While the top level CONTRIBUTING.md is great for people contributing into the master branch it's not so clear on the process for getting changes into the current and LTS releases. This PR has some proposed additions to describe the process that contributors should know about and what they may have to do to get their fixes back into the LTS releases after they have got them into master.
util Add format for SharedArrayBuffer;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemsutilDescription of changeSharedArrayBuffer is a new global object to share memories between workers.Currently workers does not work in node but future v has those new global objects.This change supports a format for SharedArrayBuffer.Note this PR is from codeandlearnnodejscodeandlearn comment
inspector fix request path nullptr dereference;Reugeneo cc ofrobotsCI httpsci.nodejs.orgjobnodetestpullrequest
benchmark separate RegExp benchmark from v basic bench;RegExp bench is separated from run.js. And I created runRegExp.js for running another contexts.RegExp bench creates global RegExp httpsgithub.comiojsio.jsblobv.xdepsvbenchmarksregexp.jsL.However the RegExp causes a error. The detail is here.
test fix coverity UNINITCTOR cctest warning;Explicitly initialize platform to nullptr. Coverity cannot divineit is set and cleared by the Setup and TearDown methods.cc danbevCI httpsci.nodejs.orgjobnodetestpullrequest
doc add missing changelog heading for ..;When the release was cut the changelog heading in CHANGELOGVwas accidentally omitted.Fixes Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdoc
test fix forkdgram on AIX;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemstestDescription of changeCloses the server as soon as the child receives a messageI'm not sure that this is the correct fix but I've tried this with some debugging information see this gist and both parent and child do seem to be receiving a message on AIX.Fixes RefsPrevious PR to fix on SmartOS nodejsnodev.xarchivePrevious Issue ditto nodejsnodev.xarchiveOriginal Commit bdfacOriginal PR nodejsnodev.xarchive
test change from setTimeout to setImmediate;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included documentation is changed or added commit message follows commit guidelinesAffected core subsystemstestDescription of changeChange test method from setTimeout to setImmediate.This is a part of Code And Learn at NodeFest Challenge       The text was updated successfully but these errors were encountered
upgrade npm to ..;This contains these releaseshttpsgithub.comnpmnpmreleasestagv..httpsgithub.comnpmnpmreleasestagv..Notable changes arePerformance improvementsSupport for git submodulesr Fishrockr zkat       The text was updated successfully but these errors were encountered
Introduce 'make doclint' command and tooling;Checklist make j test UNIX or vcbuild test nosign Windows passes documentation is changed or added commit message follows commit guidelinesAffected core subsystemstoolsDescription of changeNote there were some more changes in this PR those were extracted to and were merged already.Add remarkcli and remarklint to toolsremarkcli introducing new make mdlint command.make mdlint now lints all docs make test now executes make mdlint.A complete make mdlint check takes seconds on my notebook.Previous work in .cc Trott jasnell addaleax.
src introduce process.release object WIP;I'm messing around in nodegyp to see how workable this is and I haven't actually tested this on Windows yet although I've modified vcbuild.bat. Putting this up early to get feedback.supersedes and see also nodejsnodegyp for further discussion and an apparent ?æì from TooTallNate on the proposal.
test improve the code in testcryptodh;validate the errors for some assert.throwsuse arrow functionsChecklist make j test UNIX or vcbuild test Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemstest
net improve error message when no address;when use 'listen' will get the 'listen EACCES null'. this fix willmake the error message better. like 'listen EACCES ...'.
net Socket.prototype.connect should accept args like net.connect;Checklist make j test UNIX or vcbuild test Windows passes tests andor benchmarks are included commit message follows commit guidelinesAffected core subsystemsnet.Socket.prototype.connect
httpserver correct order prefinishfinish;It is very important to wait for prefinish event.It is emitted only when the response becomes active in the pipeline.The ordering of requestsresponses in httpserver.js is dependenton this doing it in different order will result in crash.Fix cc nodejscollaborators trevnorris rvaggThis is very important bug fix. We should consider reviewing it very carefully and merging ASAP after users will confirm that it fixes stuff for them.
tools align the jslint summary like the test runner;Checklist tests and code linting passes the commit message follows commit guidelinesAffected core subsystemstoolsDescription of changeNow looks likeusrbinpython toolstest.py moderelease J \ addon doctool knownissues message parallel sequential| | | Done ApplicationsXcode.appContentsDeveloperusrbinmake lint.node toolsjslint.js J benchmark lib src test toolsdoc \ toolseslintrules toolsjslint.js| | | Done mscdex
http Reject paths containing nonASCII characters;http would previously accept paths with nonASCII characters. Thisproved problematic because multibyte characters were encoded as'binary' that is the first byte was taken and the remaining bytes weredropped for that character.There is no sensible way to fix this without breaking backwardscompatibility for paths containing U to UFF characters.We already reject paths with unescaped spaces with an exception. Thiscommit does the same for paths with nonASCII characters too.The alternative would have been to encode paths in UTF but this wouldcause the behaviour to silently change for paths with singlebytenonASCII characters eg the copyright character UA ??. I find itpreferable to to add to the existing prohibition of bad paths withspaces.Fixes
doc add note to parallelize make;Checklist documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdocDescription of changeAdds a note to the BUILDING doc to encourage parallelizing make. When Ifirst built node I didn't know this trick and thought that the build wasjust stuck in an infinite loop after waiting for minutes.
stream reset awaitDrain after manual .resume;Checklist tests and code linting passes a test andor benchmark is included the commit message follows commit guidelinesAffected core subsystemsstreamDescription of changeReset the readableState.awaitDrain counter after manual calls to .resume.What might happen otherwise is that a slow consumer at the end of the pipe could end up stalling the piping in the following scenarioThe writable stream indicates that its buffer is full.This leads the readable stream to pause and increase its awaitDrain counter which will be decreased by the writable?ÇÖs next drain event.Something calls .resume manually.The readable continues to pipe to the writable but once again the writable stream indicates that the buffer is full.The awaitDrain counter is thus increased again but since it has now been increased twice for a single piping destination the next drain event will not be able to reset awaitDrain to zero.The pipe is stalled and no data is passed along anymore.The solution in this commit is to reset the awaitDrain counter to zero when resume is called.Fixes This bug is has been around at least since . and I don?ÇÖt currently know why it never popped up before when the awaitDrain mechanism worked like it does today.cc nodejsstreams       The text was updated successfully but these errors were encountered
EventEmitter use a Map to store event listeners;This is a fix for .I ran the events benchmarks to compare this with master and there seems to be a significant performance drop for some cases though I'm not sure of how I should compare the runs.BenchmasterMapeeaddremove eeemitmultiargs eeemit eelistenercount eelistenersmany eelisteners
test mark testutilsigintwatchdog FreeBSD flaky;Checklist make j test UNIX or vcbuild test nosign Windows passes commit message follows commit guidelinesAffected core subsystemstest utilDescription of changeTest is currently failing intermittently on FreeBSD only.Refs        The text was updated successfully but these errors were encountered
repl Remove magic mode;Checklist make j test UNIX or vcbuild test nosign Windows passes tests andor benchmarks are included documentation is changed or added commit message follows commit guidelinesAffected core subsystemsdoc replDescription of changeCurrently magic mode retries the executed command with 'use strict' only when the BLOCKSCOPEDERROR is thrown and v is no longer emitting BLOCKSCOPEDERROR.From the v . release noteClasses lexical declarations in sloppy modeV has supported lexical declarations let const blocklocal function and classes since versions . and . respectively but so far strict mode has been required in order to use them. As of V release . all of these features are now enabled outside of strict mode as well per the ES spec. This makes prototyping in the DevTools Console much easier although we encourage developers in general to upgrade to strict mode for new code.Also IMHO magic mode is tightly coupled with JS engine'sv implementation.
Fix broken links to collaborator list;No description provided.
repl allow multiline function call;Currently the repl allows multiline function declarations strings andall sorts of niceties by catching the SyntaxErrors they issue andignoring them. However the SyntaxError raised by multiline functioncalls was not caught. This commit adds to the whitelist.Behaviour before this commit console.logconsole.log... SyntaxError missing after argument listAfter console.logconsole.log... ...  undefined undefined
MRG EHN Allow specifying arbitrary kernel for semisupervised learning.;I needed a custom kernel for a research project I am working on for calculating euclidean distance between cities based on longitudelatitude.If there is interest in including these changes I will be willing to polish the code further.
MRG allow y to be a list in GridSearchCV crossvalscore and traintestsplit;Fixes .This makes input validation consistent across the three crossvalidating functions and less intrusive.I am not entirely sure this is the right thing to do as it has some slight backwardincompatibilities. When X or y was given as a list to traintestsplit it was converted to an array before but is no longer. In the case of X this could be considered a bugfix for lists of strings. There is an offchance that this breaks someone's code though. GridSearchCV now passes y though as a list without converting. I think that is fine and very unlikely to break anyone's code as I think an estimator should handle exactly the same kind of input GridSearchCV gets.
MRG Added partialfit method to OneVsRestClassifier from;No description provided.
MRG Integration of GSoC Gaussian Mixture first step;ogrisel agramfort TomDLT I've created a new PR to solve the problem with travis of the .Sorry for the noise.httpwww.mixmod.orghttpscran.rproject.orgwebviewsCluster.html bgmm for instanceogrisel Mixmod and bgmm don't divide the
DOC Minor documentation fixes Fixes and;Fixes and Fixes formatting issues in warning after LOLO.Fixes Error Page not found in contributing section
MRG Issue w tfidf computation;Fixes
MRG fix logistic regression class weights;This PR tests that these two classifiers are equivalentclassweights computeclassweightbalanced np.uniquey yclf LogisticRegressionmulticlassmultinomial classweightbalancedclf LogisticRegressionmulticlassmultinomial
Fixed Issue;Reference IssueWhat does this implementfix Explain your changes.add's pairwise to OneVsOneRestClassifierAny other comments
WIP Overhaul of featureselection;It seems to me there are commonalities between feature selection processes that are not being exploited and places where adhoc code are used instead of a library.Some of these things may be split off into a separate PR especially on request and all are up for discussion. create a mixin to provide inversetransform given getsupportmask in all feature selectors but what to call it given that SelectorMixin is taken by something else split off into The following are included in  provide SelectByScore scorefunc minimum maximum scalingfunc limit for more generic score thresholding e.g. supporting twosided document frequency cutoffs. This implementation also reduces work at transform time by pretransformingscaling scores to match the threshold. work out how to deal with nando we want a way to force exclusion of nans documentation and testing of above hopefully use SelectByScore for SelectKBestPercentileFdrFprFweorMixin closing  use SelectByScore to handle thresholding in featureextraction.text.CountVectorizer use same in randomizedl support dummy cases selection by given indices selection by feature name given a feature extractor or union thereof documentation and testing of above move chi fclassify etc. to sklearn.metrics.featurescores or similar and add document frequency countnonzero what else
MRG Hierarchical Agglomerative Clustering;Introduces complete and average linkage with structure.TODO Narrative documentation docstring Increase test coverage Implement other distances for average and complete linkage half done only callable and precompute are still needed Probably deprecate Ward classes Probably move the FloatIntDict to the utils module Finish the exampleSingle linkage will come in a later PR as it should use a different algorithm based on minimum spanning tree.vene do I remember right that you had expressed interest in working with me on having different distances in this PR
MRG Isotonic calibration;calibration module with platt and Isotonic calibration.A few issues  nice calibration plots add tests for metrics add narrative doc speed up the test execution as much as possible fix multiclass support for the isotonic regression method
MRG Fix in plotoutofcoreclassification.py;Just added conditions to check which one to use from colorcycle or propcycle depending on matplotlib version. Fix for
issue Fixed warnings for DataDimensionalityWarning decisionfunction and decisionfunctionshape.;amueller issue Fixed warnings for DataDimensionalityWarning decisionfunction and decisionfunctionshape.
MRG DOC Added rebasing and squashing section to contributing.rst;Added rebasing and squashing section to contributing.rst as agreed here. Used this comment to add to the section.
add sampleweights to logloss;No description provided.
Updated code example;
Random hidden layer and Extreme Learning Machine implementation;still missing some docsdoctestsdemo IPython notebook in httpsgist.github.comdclambertbdbddaaf
MRG BUG getparam in FeatureUnion disjoint for shallowdeep params;Previously params in a FeatureUnion or Pipeline were differentwhen deepFalse and deepTrue making it impossible to set shallowparams during GridSearch issue Added test to enforce deepTrue results to be superset of deepFalse.Updated deep getparam output in pipeline estimators with shallow params.TST Test estimators for getparams invariance issue Estimators that support getparams should always be consistentin that getparamsdeepFalse should be a subset of getparamsdeepTrueImplemented test over all normal and other estimators provided byallestimatorsIgnoring gridsearch estimators for now
WIP RollingWindow crossvalidation;A crossvalidation strategy for timeseries see httprobjhyndman.comhyndsighttscvexampleInitial commit tests and unfinished docsI don't really like the name of the class. Hopefully someone will find a better name for this.       The text was updated successfully but these errors were encountered
Added poslabel parameter to rocaucscore function;To be able to run rocaucscore on binary tagets that aren't or .
Add numpy dev wheel to travis build matrix.;No description provided.
MRG Fix estimators to work if sampleweight parameter is pandas Series type;This change is
WIP Adding tests for estimators implementing partialfit and a few other related fixes enhancements;Fixes New partialfit testsThe below tests are based off arjoly's suggestion. . General testsAssert that partialfit returns self. Thanks jnothman for the suggestion.Clone test... assert cloneest.partialfit est.partialfit . Check that an error is raised if the number of features changes. . Estimator reset testCheck that doing fit after a set of fit partialfit restarts the estimator.Assert that partialfit and then fit with a different number of features works without raising any Exceptions... Thanks amueller for the suggestion . Check if partialfit does not overwrite the previous model.Based on jnothman suggestion . Check that classifier handles correctly the classes argument in the partialfit.a. Check if mismatch between classes argument and np.uniqueyi raises ValueError.b. Check that error is raised if classes is not specified during first partialfit call.c. Check error is not raised if classes is not specified during subsequent calls. Helper functionsvalidateyagainstclasses Check label mismatch between y and classes argassertsamemodelX est estassertnotsamemodelX est estUse predict transform decisionfunction and predictproba to check equality of models.In sklearn.utils.estimatorchecks partialfit and fit to use the appropriate parameters.assertattributesequalest estassertattributesnotequalest estassertarraynotequalRefsAlso see This PR fixes st under not so easy for pfitable estimators via a of this PR This change is
Parallelize the feature selection loop in RFECV;No description provided.        The text was updated successfully but these errors were encountered
MRG Added variable type check for hyperparameter.bounds;Reference IssueFixes What does this implementfix Explain your changes.Added variable type check for hyperparameter.bounds before comparison with fixed.Any other commentsNope.
BUG avoid infinite weights in kNN regression;Same issue as but in the regressor instead of the classifier.       The text was updated successfully but these errors were encountered
Bugfixes in gaussianprocess subpackage;Hi listIt's been a while... I've been told the randomstart feature of the GaussianProcess estimator was making it worse rather than making it better.It was indeed due to a bad handling of sign in the randomly restarted maximization of the reduced likelihood function implemented as the minimization of the opposite reduced likelihood function with fmincobyla.While running GP tests and examples I spotted another mistake in the gpdiabetesdataset example which appeared when the optimized theta value stored in the estimator was made private by renaming it to theta.Cheers
Deprecated negative valued scorers;deprecated X meansquarederror meanabsoluteerror medianabsoluteerror logloss when called print Function returns negative of X so that greaterbetter. This function is deprecated in version. and will be removed in a future version .. Use neg insteadreplaced Xscorer by negXscorer throughout scikitlearn source code as well as tests. Documented in docmodulesmodelevaluation.rstStill need to do add a new test that checks if you use deprecated one you get deprecation warning and same behavior
ENH Add LinearSVR;Fix
Fixing boolean test in transform method;Fix for issue
MRG MLP traintestsplit is now in modelselection;This fixes a spurious warning of the multilayer perceptron which was still importing traintestsplit from crossvalidation.       The text was updated successfully but these errors were encountered
fix quantile loss call function;Fixed up the loss function for QuantileLossFunction and added a regression test comparing its output to LeastAbsoluteError.       The text was updated successfully but these errors were encountered
Fix bug fixes.py line error;Reference IssueFixes .What does this implementfix Explain your changes.Any other commentsThere is a new bug in master brunch scikitlearnsklearnutilsfixes.pyin line if npversion an error occured TypeError unorderable types str int.It's because in the function def parseversionversionstringversion for x in versionstring.split'.'tryversion.appendintxexcept ValueError x may be of the form deveaversion.appendxreturn tupleversionI filing the bug by change line .I changed if npversion to if npversion Also can we don't compare the third index value in the tuple because numpy version is not sure such as 'b' etc the parseversion just return 'b'. So we just compare the first two of the numpy version.So in fixes.py line also should change to if npversion and line should change to if npversion        The text was updated successfully but these errors were encountered
WIP DOC Description of X missing in KMeans.fit;Addressed issue Added Training instances to cluster as explanation in fit methods in kmeans.py. Also made both docstring match in terms of parameter descriptions for X in fit X arraylike or sparse matrix shapensamples nfeatures. This convention is according to that proposed by amueller in .
Updated README removed git clone with write reference;Reference IssueIssue What does this implementfix Explain your changes.Removed redundant line regarding git clones with write privileges. Basic git command untouched.Any other commentsNone       The text was updated successfully but these errors were encountered
DOC fix outdated information in doc string of GridSearchCV;The old docstring implied that the wrapped object had to be a supervised estimator.       The text was updated successfully but these errors were encountered
MRG Fix for issue;This is a fix and tests for issue which allows to generate fill colors for degraded learning set.
MRG don't use deprecated randomintegers function use randint instead.;This removes the use of the deprecated in numpy dev randomintegers function replacing it with randint. All the values for high need to be adjusted because randomintegers uses inclusive bounds and randint uses exclusive bounds.This makes the travis output on the numpy dev branch much more readable.       The text was updated successfully but these errors were encountered
bugFixed bugs when rendering dot file into graphics which is introduced by tree.exportgraphviz;When exporting a tree into a dot file using tree.exportgraphviz the dot file is usually like this digraph Tree  labelA .\nerror .\nsamples \nvalue . . shapebox  labelB .\nerror .\nsamples \nvalue . . shapebox   labelC .\nerror .\nsamples \nvalue . . shapebox   However when sample number is large tree.exportgraphviz will create a dot file like this digraph Tree  labelA .\nerror .\nsamples . e\nvalue . e . e  labelB .\nerror .\nsamples . e\nvalue .e .e shapebox   labelC .\nerror .\nsamples . e\nvalue . e . e shapebox   The scientific notationlike value . e . e will broke the dot file rendering process like follows dot Tpdf file.dot o file.pdfThe patch will transform the scientific notationlike value .e .e into normal onelike value . .. httpscikitlearn.orgstablemodulestree.htmlclassification httpscikitlearn.orgstablemodulesgeneratedsklearn.tree.exportgraphviz.htmlsklearn.tree.exportgraphviz
Add decision tree plotting;raghavrv GaelVaroquaux amuellerDue to accidental rebase I recreated here.I don't really like how plotting looks in my example so I can move implementation details to separate function in exportgraphviz.pyThis change is
MRG FIX LogisticRegressionCV to correctly handle string labels;Fixes In master  import numpy as np from sklearn.linearmodel import LogisticRegression LogisticRegressionCV X np.arange np.newaxis y 'a' 'b' 'c'  LogisticRegressionCVsolver'lbfgs' multiclass'multinomial'.fitX y.predictXValueError could not convert string to float 'a'In this branch  LogisticRegressionCVsolver'lbfgs' multiclass'multinomial'.fitX y.predictXarray'a' 'a' 'a' 'a' 'b' 'b' 'b' 'b' 'c' 'c' 'c' 'c' dtype'U'agramfort GaelVaroquaux
MRG fix failing assertraisesregexp;Got a test failure in Python . let's see if this fixes it.       The text was updated successfully but these errors were encountered
MRG support sampleweight in silhouettescore;I sought sampleweight in silhouettescore to account for multiple points that are merged into one when calculating average distances. Hacking it into the current implementation resulted in a very slow solution. Thus this PR also rewrites the implementation yielding something that's a bit slower than the solution at master but supports sampleweight.I've also added tests for correctness which I haven't otherwise found in the code.
ENH extensible parameter search results;GridSearch and friends need to be able to return more fields in their results e.g. composite score.More generally the conceivable results from a parameter search can be classified intoperparameter setting perfold currently only the test score for each foldperparameter setting currently the parameters and mean test score across foldspersearch bestparams bestscore bestestimator however bestparams and bestscore are redundantly available in gridscores as long as the index of the best parameters is known.Hence this patch changes the output of a parameter search to be attribute names are open for debategridresults . a structured array a numpy array with named fields with one record per set of parametersfoldresults . a structured array with one record per fold per set of parametersbestindex .bestestimator if refitTrue .The structured arrays can be indexed by field name to produce an array of values alternatively they can be indexed as an array to produce a single record akin to the namedtuples introduced in cb not in ... In any case it allows numpy vectorised operations as used here when calculating the mean score for each parameter setting in aggregatescores.Given this data the legacy gridscores already deprecated bestparams and bestscores are calculated as properties.This approach is extensible to new fields in particular new fields within foldresults records which are compiled from dicts returned from fitfold formerly fitgridpoint.This PR is cut back from there you can see this extensibility exemplified to store training scores training and test times and precision and recall together with Fscore.
MRG ENH Feature selection based on mutual information;Hi This is my attempt to finishrework I tried to address code style issues and also added algorithms estimating mutual information with continuous variable involved.There are places for trivial optimization but for now I tried to keep the code as transparent as possible.It would be great if some of the core developers can start seriously reviewing with PR.
Undefined model variable for postDeleteHook in delete method in admin.php model in wrong scope;model is undefined at line for thispostDeleteHookmodel cid because model was instantiated within the scope of the else block. If you try to delete an item from an admin list you will get a PHP Notice and a PHP Catchable Fatal Error. So it is better to declareinstantiate the model outside of the else block within the same scope of the call to postDeleteHook.
downloaded vcard is empty;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Bind Variable Fix Within PDO Driver;This fix is to revert back to original behavior needed to allow bounded variables to be used within the PDO Driver and specifically within the Oracle Driver that inherits from it.Without the fix above what happens is the instance of JDatabaseQuery stored in query ends up getting replaced with a simple string on line and that eventually gets stored in the parentsetQuery call on line .Later when execute is called since the string is not an instance of JDatabaseQuery the checks within execute that trigger the bounded variables to be set no longer function correctly and the variables end up being unbounded and results in a query error.With the simple corrections above the query instance remains intact with a separate sql variable being used instead to hold the stringified version of the query with the database prefix replacements and that gets used to prepare the query within the database connection.This allows the parentsetQuery call on line to still store a reference to the JDatabaseQuery instance properly and for everything to work as expected for the bounded variables.Omar
CAPTCHA and reCAPTCHA Legacy;We were wrong to call it nocaptcha. We were too fast. To avoid confusion and to ensure that NEW users use the NEW plugin and are aware of the Global Site Key issueRename the pluginsCAPTCHA reCAPTCHA LegacyCAPTCHA reCAPTCHAThe description for CAPTCHA reCAPTCHA Legacy should be changed. Add this to the endThis legacy plugin is included for backwards compatibility. It should only be used if you are using a now discontinued Global Site Key.The description for CAPTCHA reCAPTCHA should be changed. Add this to the endThis plugin will not accept the now discontinued Global Site Key. Either create a unique site key preferred or use the Legacy plugin.
Fix a failing unit test;This should fix a unit test that is currently failing like JRegistryFormatXMLTesttestObjectToStringFailed asserting that two strings are equal. Expected Actual  'xml version.registrynode namefoo typestringbarnodenode namequoted typestringstringwithquotesnodenode namebooleantrue typebooleannodenode namebooleanfalse typebooleannodenode namenumericint typeintegernodenode namenumericfloat typedouble.nodenode namesection typeobjectnode namekey typestringvaluenodenodenode namearray typearraynode namenestedarray typearraynode nametest typestringvaluenodenodenoderegistryregistrynode namefoo typestringbarnodenode namequoted typestringstringwithquotesnodenode namebooleantrue typebooleannodenode namebooleanfalse typebooleannode namenumericint typeintegernodenode namenumericfloat typedouble.nodenode namesection typeobjectnode namekey typestringvaluenodenodenode namearray typearraynode namenestedarray typearraynode nametest typestringvaluenodenodenoderegistry 'Ref httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart
Normalize some parameters in comcontact comcontent commenus xml files;Pull Request for PR that conflicted with merged PR .Normalize some parameters in comcontact comcontent commenus xml files some parameters was missing in some xml new attributes was added see below.Reorder some parameters as they shown in views.Code style httpsjoomla.github.iocodingstandardscodingstandardschaptersxml.md.administratorcomponentscommenusmodelsformsitemcomponent.xml replace the option JGLOBALUSEGLOBAL with the attribute useglobaltrue code style.administratorcomponentscomcontactmodelsformscontact.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue code style.administratorcomponentscomcontactconfig.xml add showcategoryheadingtitletext parameter reorder parameters of the category categories listdefaultparameters fieldsets code style.componentscomcontactmodelsformsform.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue normalize language constants code style.componentscomcontactviewscategoriestmpldefault.xml add showcategoryheadingtitletext showimageheading initialsort showtags showinfo showusercustomfields parameters replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters reorder parameters of the basic category advanced fieldsets code style.componentscomcontactviewscategorytmpldefault.xml add showcategoryheadingtitletext parameter replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters reorder parameters of the category fieldset code style.componentscomcontactviewscontacttmpldefault.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters code style.componentscomcontactviewsfeaturedtmpldefault.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters code style.administratorcomponentscomcontentconfig.xml fix double names of spacers reorder parameters of the category categories listdefaultparameters fieldsets code style.componentscomcontentviewscategoriestmpldefault.xml add showcategoryheadingtitletext showcattags pagesubheading parameters reorder parameters of the basic category advanced fieldsets code style.componentscomcontentviewscategorytmplblog.xml reorder parameters of the category fieldset code style.componentscomcontentviewscategorytmpldefault.xml remove unnecessary reorder parameters of the category fieldset code style.Testing InstructionsUse a fresh Joomla install with sample items.Create a tree of some contact categories.Create contacts with default options and place they to some contact categories.Create menu items of the types Contacts ? List All Contact Categories and Contacts ? List Contacts in a Category for the root contact category.Check the contact categories in the frontend. All should be fine.Play with option 'Show Subcategories Text' in Global Configuration ? Contacts in the Category tab of the menu items you created. Check everything is fine. The same for other added options.NB When testing List All Categories menu item other menu items must be unpublished.The same for content menutypes Articles ? List All Categories Articles ? Category List Articles ? Category Blog
Add No direct access code;This PR adds the No direct access code to the read more layout.
Remove some absolute paths from sysinfo download;Pull Request for Issue Summary of ChangesThe following values in the downloaded sysinfo text are obfuscated for the following correctlylogpath xxxxxxtmppath xxxxxxThe absolute path is still available in the information downloaded from the PHP informationExample errorlog  Local Value ApplicationsMAMPlogsphperror.log Master Value ApplicationsMAMPlogsphperror.log uploadtmpdir  Local Value ApplicationsMAMPtmpphp Master Value ApplicationsMAMPtmpphphr subThis comment was created with the a hrefhttpsgithub.comjoomlajissuesJTracker Applicationa at a hrefhttpsissues.joomla.orgtrackerjoomlacmsissues.joomla.orgjoomlacmsa.subNote that the absolute path being shown in the folder permissions will be solved in another PR
Update behavior.php Fixed broken menu tooltip.;For menu Items the Link Title Attribute was nor resolved correctly. It contained the text an the path.
Fixes HTML errors in cominstaller;This is just a small fix for the missing closing tags mentioned in . You won't be able to see any visual changes since browsers were already suppressing the errors.Locations fixedExtensions Extension Manager Install missing closing div tag for div idjmaincontainerExtensions Extension Manager Database missing closing div for  and for No default text filters found.
Fix utfmb database errors;This Fixes the issues introduced here and reported here Maybe nikosdion can have a look here.maybe he has a idea to fix for hosts that don't support utfmbAn error has occurred. Unknown character set 'utfmb' SQLALTER TABLE osvltbanners MODIFY alias varchar CHARACTER SET utfmb COLLATE utfmbbin NOT NULL DEFAULT '' As the file is preset in the update SQL Directory it will be picked up by the default updater anyway. Maybe just move the file httpsgithub.comjoomlajoomlacmsblobstagingadministratorcomponentscomadminsqlupdatesmysql...sql to another directoryzjwHere I'm fixing your point and the third point Unknown character set 'utfmb' is not fixed yet.Original IssueTested with Joomla ..dev current master as of abef.Database Version MySQL .. mysqlnd ..Database Connection Collation utfgeneralciPHP Version ..To test requires using a system that does not support utfmb see PR Perform a fresh install using the Test English GB Sample DataLog in and configureGlobal ConfigurationSystem Settings Debug system yesGlobal ConfigurationServer Settings Error Reporting DevelopmentGo to ExtensionsManageDatabaseNote the errors shown Database Problems found Table 'osvltbanners' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltcategories' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltcontactdetails' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltcontent' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltmenu' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltnewsfeeds' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvlttags' does not have column 'alias' with type 'varchar'. From file ...sql. Table 'osvltucmcontent' does not have column 'corealias' with type 'varchar'. From file ...sql.Tap the Fix button. Note the errorAn error has occurred. Unknown character set 'utfmb' SQLALTER TABLE osvltbanners MODIFY alias varchar CHARACTER SET utfmb COLLATE utfmbbin NOT NULL DEFAULT '' The errors obviously relate to PR .I'm not sure what the proper fix is but I do see a couple things in that PR that I have questions about administratorcomponentscominstallermodelsdatabase.php line has a hardcoded file name which doesn't actually exist fileName JPATHADMINISTRATOR . componentscomadminsqlupdatesserverType...sql. I believe the file it is referring to is actually mysql...sql note the different date.As noted in the errors above Numerous columns are reported as having an incorrect type. The SQL file attempts to set the type to varchar but the actual type found in the database is varchar. So the SQL file is obviously not being applied properly hence the errors. But that also raises the point that the default schema installationsqlmysqljoomla.sql needs updating so that the columns at issue are created as varchar not varchar.
Fix Install from URL and Install from WEB be more flexible;Currently the Install from URL and Install from WEB tasks fail in some special cases.TestTry the Install from URL task with the following URLhttpsgithub.comjtesterTestExtensionarchive..zipExpected Installation successfulActual Unable to find install packageTestDownload the package first and install via UploadExpected Installation successfulActual Installation successfulApply the patchThe Install from URL task should work now.Ref Old bug tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Made reference to fulltext alt instead of introtext alt;It seems that this makes reference to the imagefulltextalt but the rest of the code seems to be targeting the intro text. Shoot me down if I'm wrong I only noticed this because I was trying to merge a conflict.I would also question and I really don't know the proscons as to whether this could use a JLayout instead. The pro in my eyes would be code maintainability and standardisation. There may be an argument against this I really am not skilled enough to know.Pull Request for Issue .Summary of ChangesIt referenced the intro text instead of the full text. Fill in both items differently so you can test.Testing InstructionsSet up an article with different intro text and full text I suggest the text introtext and fulltext.Make sure intro image is set up with an image. Make sure intro image is set to show.Go to a tag view ensuring the article is showing. View the source of the image and ensure there is an alt text.Expected resultAlt Text Shows.Alt text matches intro image.Actual resultarticle full image alt text showsDocumentation Changes Requiredna
Added missing iniget check in JHttpTransportStream to fix updater issues;We have two issues addresses with this commit JHttpTransportStream doesn't check for the status of allowurlfopen. This causes JHTTPFactory to return it as a transport even when it's not working. JHttpFactory was missing a check for the case that we have no working transport at all.
Add script version to all js files and replace deprecated script signatures usage;Pull Request for Issue js part.Summary of ChangesFollowing merge this PR replaces all deprecated script methods signature usage across the CMS.Alsoadds script version to all js files to solve use the api in conditional ie statements html.jsTesting InstructionsCode review.Apply patch and navigate in the frontendbackend. Confirm all is working fine and check all external js files are loaded and with script versionDocumentation Changes RequiredNone.pinging dgt
Update references to JRegistry for libraries folder;Updates references to no longer present JRegistry to the namespaced \Joomla\Registry\Registry
Adding option showon for global config of core component;Finalise showon for global config text area for offline messagechange default option for
Adds an onAfterRenderModule trigger;This PR adds an extra event trigger to the module rendering process.This way plugins can manipulate the rendered output of modules separately.To test create a system plugin foobar with thisclass PlgSystemFooBar extends JPlugin public function onAfterRoute  JFactorygetApplicationregisterEvent'onAfterRenderModule' arraythis 'onAfterRenderModule'  public function onAfterRenderModulemodule  if isnullmodule  return  modulecontent 'p stylecolorredModule content replacedp' Or add the registerEvent and onAfterRenderModule code to an existing plugin.
Archived articles view year selection is set to;Archived articles view year selection is set to instead of going from current year to years before.
Fixes favicon issues in Windows;See for details
Error on linking a category of another language;This PR for fix issue Original ReportSteps to reproduce the issuecreate a content category for a language.create another content category for the second langauge.link the two categories with each other.Expected resultlinked categoriesActual resulterrors in linking popupWarning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line Warning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line Warning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line System information as much as possiblejoomla ..Additional commentssometimes the linking works but on some parcticular categories i get the errors above.
Load the tabs save script only on the edit form;This PR moves the call to save the state from the content.php bootstrap file to the form view where it belongs to. At the moment it is also useless to have it there because there is no apply function in the front where the state of the tabs needs to be save check the comment below.The tracker item httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid is already opened.As stated in the tracker item httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid in the comment from JeanMarie SimonetNote for now it is useless on frontend but it may one day if we introduce Save Apply and correct checkin.
Load custom.css if exist in Admin templates.;See tracker .This change was previously submitted as and as per Bakual I am resubmitting it as a way to reopen it. The background to this is as followsA lot of Fabrik users want to make lists more compact since there is no custom.css in the standard Joomla admin templates at present we are using localebased CSS i.e. engb.css how weird is that to achieve this. Custom.css would be a more standard way of achieving this and will be more convenient when developing a multicountry website where admin users might change locale frequently to test how it looksworks.Clearly a user can change the basic css files for the template however that will be overwritten when you apply a Joomla update.It was previously suggested that the way to achieve this is to copy the template e.g. create myisis and make changes to the CSS there. Copying an Admin template just to change small CSS seems to me to be a little overkill and will then provide a potential minefield of incompatibility where you are using a copy of an old template against an updated rest of Joomla and a maintenance overhead to recopy and reapply the css changes every time there is a joomla update.This is a small and simple change with little risk so I am not clear why there should be any issue with implementing it.
Admin app Use the autoloader;Summary of ChangesLoad files in the admin app by including the required classes to the autoloader.Testing InstructionsThe admin app should still function correctly.
Fix showing user fields in a contact;Currently fields specified in a user don't show up in the contact if the user is assigned to that contact. The Fieldgroup sliders appear but no fields within it.Summary of ChangesThis PR changes the userData'params' from a JSON string to the array we expect in the onContentAfterSave method.Testing InstructionsCreate some user fields and save some values into it.Create a contact and assign the user with the save fields to it.Check out the contact in frontend.Expected resultGet the sliders for each fieldgroup filled with the saved fields.Actual resultOnly get the sliders without any fields in it.Documentation Changes RequiredNone
Code Style joomla.sql;If you export a live site's database and compare it to the core joomla.sql you'll see lots of minor differences. This hardens the database examination and shows that joomla.sql contains many code style mistakes.
RTL URL fields should be align left and LTR. BE patch;No description provided.
Fix black areas in JPGs when resize with JImage;If you for example create thumbnails from a JPG and use the method SCALEFIT the new areas will be black.After this fix they will be white.Test take an image JPG with a ratio e.g. xpx and the following codejimage new JImagepathtofilejimagecreateThumbsarray . 'x' . JImageSCALEFITBefore patch the area around the images are blackAfter patch the area around the images are white
Remove deprecated code JLanguageparseXMLLanguageFile;Summary of ChangesReplace the only deprecated JLanguageparseXMLLanguageFile left in the code base after for JLanguageHelperparseXMLLanguageFileTesting InstructionsCode review.Documentation Changes RequiredNone.
Extensions Update show current version of extension;This PR adds to Extensions Update the current version of an extension. The current list of extensions that could be updated to a newer version only shows the new version number.This feature was requested by wkone in Joomla forum httpforum.joomla.orgviewtopic.phpft. I think that showing the current and new version gives an administrator more information about possible issues If the extensions uses semantic versioning then . to . is a minor update with little issues. An update from . to . might give somewhat more issues.Testing InstructionsI had to test this feature on a Joomla .. website because I was not able to use the Extension Update funtion in Joomla .Beta. After installing some old versions of some extensions in .Beta I did not get the list of updates for those extensions. Probably because those extensions do not have new versions for .Beta...Edit Workaround to test this patch on Joomla .Betamanually edit librariescmsversionversion.php and temporary change the constant for Release Development levelconst RELEASE '..'const DEVLEVEL 'stable'With these values Joomla will find new extension updates for old rd party extensions.Don't forget to change it back to the original values after testing this patch. Original valuesconst RELEASE '.'const DEVLEVEL 'beta'Before the PRI've installed older versions of extensions that use Joomla's update functionality.Extensions Update via Extensions Manage Update shows that there are updates that can be installed. It shows the version of the extension that will be installed but not the current versionAfter the PRAfter installing this PR the Extensions Update via Extensions Manage Update shows Current version and Version that will be installed
Cleaning up datalist for JFormfieldText;IssueThere is a phpcs issue with the signature of JHtmlSelectsuggestionlist. It contains a required idtag after the optional optkey and optText which essentially makes those two required as well.Fixing this correct is basically not possible without creating a new function and proxy it.The produced datalist also has some errors in it.SolutionThis PR will deprecate JHtmlSelectsuggestionlist which was introduced with J. to implement the datalist tag into the text formfield.The datalist will be created directly in the getInput function of the formfield instead. It's a very simple code and the current usage of JHtmlSelectoptions within JHtmlSelectsuggestionlist to generate the items created more problems and was basically overkill.Deprecated getSuggestions in the text formfield and replaced it with getOptions like we use in every other formfield. getSuggestions is proxied to getOptions in case someone was extending the class and actually used it.TestingAdd some options to a text field and see if the datalist works. For example change the title for the article form to field nametitle typetext labelJGLOBALTITLE descriptionJFIELDTITLEDESC classinputxxlarge inputlargetext size requiredtrue   optionOptionoption option valueValueOptionoption option valueValue  fieldIt should show a list with suggestions as soon as you start typing or click into the field.Please note that the first option will not show because there is no value given. The second option will show with both the value and the text depending on browser Chrome shows the text rigth aligned a bit smaller. The third option will show the value only.RemarksThis is based on a Codestyle PR and some discussions we had after it.Unfortunately I forgot to do the PR then and now can't find the discussion anymore.
Fix for JDatabaseQueryunion method. See .;Also minor corrections and improvements to docblocks for union methods.Union method currently just doesn't work at all. This fixes it. See tracker and PR . If accepted this fix also needs to go into Joomla . and Framework .x.
Cleanup of canDelete canEdit and canEditState in Component Models;This cleans up canDelete canEdit and canEditState functions so they always return a boolean and are consistent in how they operate they can return null in many cases instead of the documented boolean. There are no actual changes to functionality here so theoretically this is code review.But feel free to test that the authorisation checks on ability to edit publishunpublish and delete are unaffected
unexpected navigation links on brochure sample data homepage;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Remove usage of deprecated JArrayHelper from comcache;This is one from the series of edits in which we try to remove usage of deprecated JArrayHelper from the entire Joomla core system. Taking one extensionlibrary at a time for easy tests.
remove index.html files;Remove index.html files from the joomlacms. Used from the CLIfind . name 'index.html' type f delete
Silence PHP Notice on no items tagged;Pull Request for Issue .Summary of ChangesDont run code block when there are no items linked to a tagTesting InstructionsInstall JoomlaCreate a taggo to front end and load that tags page with url likehttpjoomlacmsindex.phpoptioncomtagsviewtagidExpected resultNo PHP noticesActual resultPHP noticeNotice Trying to get property of nonobject in ...componentscomtagsviewstagview.html.php on line Documentation Changes RequiredNone
UX showon Dynamic options in the Joomla Backend;Integration of the new feature made during the Bug Squad of the JBeyond with Peter van Westen and myself.The new feature allow to hide and show some elements in the configuration depending other configured elements. So the FTP options are not displayed if the FTP is not activated. Same thing for the SMTPSendmail options.Different views in the configuration has been updated in order to use a new generic layout which support the showon option.
Improve Datetime validation;ProblemCurrently when you enter an invalid datetime value for a calendar form field Joomla will throw a system error like thisDateTimeconstruct datetime.construct Failed to parse time string jerror ......There were atleast two issues reported and which I can seeSolutionI attempt to fix this issue by introducing a new form rule JFormRuleDatetime which uses strtotimevalue false command to validate the value of the field. If it return false the date is invalid and an exception will be returnedTesting instructionsWith this PR I just modify the addedit article form in the backend of Joomla to show how it works.Please try to edit an article before this patch if you enter a wrong value for any Calendar field for example Start Publishing Finish Publishing.. you will see a system errorAfter this patch there will be an error message like this being showed and it will prevent you from saving the articleWarningValue you entered for Start Publishing is invalid datetime format
editor buttononclick SyntaxError expected expression got '';tinymce is concatenating button callback with and it generates the SyntaxError.It is fixed removing To test it a callback can be added to any of the current editorsxtd plugins. For instance in pluginseditorsxtdimageimage.php line buttononclick 'alerttest'When the patch is applied there is no console error editor loads fine and when you click on the button it shows 'test'
Implementing caching for getRootId to save queries;The method getRootId is executed numerous times per page load for example when editing an article around times. At the same time that method always returns the same value. By adding a static variable as cache we save us all those duplicate queries and they are only run once per table.
End use of metadata to store tags information;Tag information was stored in metadata to solve a specific problem with processing. This pull request implements a solution to the same problem without requiring that store. Use of the metadata store make using tags in extensions much more complex than does using an approach that does not require storage.
STRICTTRANSTABLES' on MySQL .;With this parameter 'STRICTTRANSTABLES' on MySQL ..When I try to save a module I get an errorSave failed with the following error Incorrect datetime value '' for column 'publishup' at row When I try to save the content language I get an errorSave failed with the following error Field 'assetid' doesn't have a default value
Removed unsafe eval from compressed treeselectmenu script;referring to issue I'm using CSP on my server. Sadly I have to allow unsafeeval because of Joomla. There are more secure alternatives to evalhttpsdeveloper.mozilla.orgenUSdocsWebJavaScriptReferenceGlobalObjectsevalDon.tuseeval.See also httpwww.w.orgTRCSPscriptsrc
Remove catslug in content modules;The request is to use the same principle for creating links to articles in content modules. Since catslug is used in some modules and is not used in other module this potentially leads to double article URLs when SEF is disabled. But there is no need to use catslug in Joomla .x because process link function ContentHelperRoutegetArticleRoute requires only catid integer value.componentscomcontenthelpersroute.phppublic static function getArticleRouteid catid language After going deeper into the issue I came to conclusion that only catid must be used and catslug must be removed.Steps to reproduce the issuedisable SEF SEO Settings set all fields Nopublish thee content modules Articles Category Module Latest News Module Articles Newsflash Module in the same page for comparison.In the module settings select the same one category as source the same for three modules.Compare URLs to the same article in different modules.The results I gotArticles Category Modulehttptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidcategoryaliasItemidArticles Newsflash Modulehttptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidItemidExpected resulthttptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidItemidAll the links to the same article must be identical in all modules. Otherwise it's a serious SEO mistake.
menuparams is already a Registry object.;Pull Request for Issue .Summary of ChangesJApplicationSitegetParams tried to instantiate a new registry object from menuparams but that is already a registry object.This PR removes that step and directly merges the component and menu params.Testing InstructionsSet up a menu item for a component of your choice and set some parameters different from the global counterpartCheck that the menu parameter overrides the component ones.Documentation Changes RequiredNone
Error are not reported due to thisconnected call;Due to the fact that thethiserrorNum int mysqlerrnothisconnectionthiserrorMsg string mysqlerrorthisconnection . ' SQL' . querywas after the call to if thisconnectedthen the error message was empty because it contains the result of the thisconnected call.See bugtracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeridtrackeritemid
Menu manager pagination broken in .. beta;Simple fix for .A copy of the original issue descriptionSteps to reproduce the issueInstall Joomla .. betaOpen AdministratorMenusMain menuAdd at least new menu itemsChange limit dropdown to Open search tools select Published.Change to page everything ok.Change back to page everything ok.Open search tools again select Select status.Try going to page again.Expected resultPage shownActual resultPage shown againAdditional commentsPlease note that this is using .. beta so the changes regarding pagination included here do not fix this problem.For details see that issue.
Correct spelling;Summary of ChangesThe word information is incorrectly spelled.Testing InstructionsCheck the diff against a dictionary to ensure the correct spelling is used Documentation Changes RequiredNA
Fix error message is not displayed in comconfig;While building a custom JFormRule to validate the options in my custom component's configuration I realize that the rule's error message is not displayed after redirecting back to the configuration form.class JFormRuleFoo extends JFormRule public function testSimpleXMLElement element value group null JRegistry input null JForm form null Validation fails enqueue error message it must be displayed when we are taken back to the form. JFactorygetApplicationenqueueMessageJText'Validation fails' 'warning' return falseBut if we try to go to somewhere elseJFactorygetApplicationenqueueMessageJText'test' 'warning'JFactorygetApplicationredirect'index.php'Then the message is displayed as usual.The problem is in httpsgithub.comjoomlajoomlacmsblobstagingcomponentscomconfigmodelform.phpLIt should beforeach formgetErrors as message if message instanceof Exception  JFactorygetApplicationenqueueMessagemessagegetMessage 'error'  else  JFactorygetApplicationenqueueMessagemessage 'error' 
comwrapper autoheight error in IE;fix for Original issue descriptionjavascript code in mediacomwrapper should havedocument.frames'blockrandom'.document.body.scrollHeightbut notdocument.frames'blockrandom'.document.body.scrollHeightNote that autoheight actually works for IE only.
Support collection of custom stats in stats frontend module;Summary of ChangesSimilar to how the backend module triggers an event to add additional items to its output this adds support for the modstats module to do the same.A new onGetStats event is published with a single parameter a context hardcoded to modstatsadmin and any plugin responding to this event is expected to return an array matching this schemaarray 'title' 'Stats Item Title' 'data' 'Data to be displayed' 'icon' 'Optional IcoMoon font icon for the row defaulting to info if not set'The title and data attributes MUST be defined or a row is not added.Similar to the quickicons implementation items can NOT be removed via the plugin event.Testing InstructionsAdd the following method to a system plugin public function onGetStatscontext  return array array 'title' 'Plays Audio' 'data' JText'JNO' 'icon' 'music'   With the admin stats module enabled you should see a new row with this data.Based on the same thing that mbabker did for the backend The weblinks part is moved here httpsgithub.comjoomlaextensionsweblinkspullfiles to be included in the . version.
Code Style Line exceeds characters contains characters;Code Style Line exceeds characters contains characters
OCI Versions of Oracle Database Driver Iterator and Query Classes;Pull Request for Issue .Summary of ChangesRenaming of existing PDO Oracle Driver Iterator and Query classes to pdooracle.php.Creation of new OCI versions of Oracle Driver Iterator and Query classes which are named oracle.phpThis primarily came up because I've been wanting to do some Joomla work that will need to utilize an Oracle database for some data retrieval but PHP 's support for the pdooci extension is not very good and it's unclear whether or not that will improve so in order to better support PHP and things that work well with it it's best that we have an OCI version of the Oracle Driver Iterator and Query classes available.I'm not sure if the Framework's Database package is being actively maintained but I could submit these changes over there as well too if needed.Testing InstructionsThis is going to be difficult for most since not everybody has an Oracle database available to test with and this would really only apply to the few developers utilizing Joomla in this fashion to connect to external Oracle databases from within their custom extensions inside of a Joomla site.I almost want to say that it would simply be easiest if the submissions could be reviewed for general correctness but not necessarily for functional correctness due to the difficulty doing so might require.However generally on Windows with XAMPP and the bit version of the Oracle instant client downloaded and added to the Windows Path it is pretty easy to be able to enable your local PHP install for Oracle support. The next step would be to grab a copy of Oracle's Express Edition and install that onto your local machine or a VM and with the sample database connect to it from within Joomla using something like this I added this code right before the closing body tag in the protostar template of a default Joomla install for testing from my endoptions  'database' 'TEST' 'user' 'yourusername' 'password' 'yourpassword' 'host' 'localhost' 'driver' 'oracle'php oracle JDatabasegetInstanceoptions php result oracleconnected rows oraclegetTableColumns'SOMETABLE' false rows oraclegetTableCreate'SOMESCHEMA.SOMETABLE' rows oraclegetTableKeys'SOMETABLE' rows oraclegetTableListnull true rows oraclegetTableList'SOMESCHEMA' true rows oraclegetVersion oraclesetDateFormat oraclesetQuery'SELECT FROM SOMETABLE WHERE SOMEID '  pidm  query oraclegetQuerytrue queryselect'' queryfrom'SOMETABLE' querywhere'SOMEID someid' querybind'someid' someid oraclesetQueryquery  oraclesetQuery'SELECT FROM SOMETABLE WHERE SOMEID someid' oraclegetQuerybind'someid' someid oraclesetQuery'select from SOMETABLE'   oracletoUpper it oraclegetIteratornull 'ArrayObject' rows array foreachit as row  rows row   rows oracleloadObjectList affected oraclegetAffectedRows numRows oraclegetNumRows result oracleconnected echo pre echo printrrows true echo preMore info on what I've tested so far can be found over on the Issue page and I'm happy to answer questions that might come up too.I'm pretty sure this initial PR will fail due to code consistency checks so I'll work on correcting those tomorrow morning.Documentation Changes Required
Pagination user manager when Search Tools present;IssuePagination doesn't work when you select a value in the SearchTools. In the user manager this is for example Activated or the state Enabled. In the Article Manager this would be the state Disabled btw consistency ftw.See for the original issueSolutionI tried to fix that originally with but did a stupid mistake. Of course is a valid filter value but my boolean check would take that as an invalid value.This PR fixes it by only threating an empty string nothing selected as invalid.TestingTest that the pagination the managers with Search Tools work with any values. Also test that it still works in Hathor and modal layouts.Known issue so farThe Groups filter in the user manager still acts wrong. I haven't found yet why that is. maybe someone has an idea.
combanners Fix;Thanks joomdonation for the fix.Pull Request for Issue .Testing InstructionsSwitch to Hathor style.Go to Components Banners Clients.Edit a client.Actual resultNo more warnings.
The sidebar arrow jumps fix;
Ensure the session close method is called instead to e?Çª;Ensure the session close method is called instead to ensure that sessionwriteclose is called before redirectBefore this change we called the applications close method which was just a exit command the sessions close method has more specific code to base encode and write the session explicitly with sessionwriteclose so doing this on the redirect should fix any session write lag issues as per the PHP comments section and See PHP.net httpphp.netmanualenfunction.sessionwriteclose.php commentsIts VERY VERY hard to replicate unless you have a crap webhost and slow session savingTo test just edit some articles on the frontend nothing should be broken.Closes
loadmodule breaking the output of article category module;Summary of ChangesThe function ModArticlesCategoryHelpertruncate uses JHtmlStringtruncateComplex instead of JHtmlStringtruncateTesting InstructionsFollow the instruction in the issue .Expected resultActual resultApply this PR
update to phpass .;Pull Request for Issue new version of phpass .Summary of ChangesUpdate to current version of phpass found at httpcvsweb.openwall.comcgicvsweb.cgiprojectsphpassPasswordHash.phpr.rev.additional release note information in the official announcmenthttpwww.openwall.comlistsannounceDropped PHP support in favor of PHP friendliness no deprecation warnings. SpecificallyAdded the newphpstyle constructor.Just assume md supports a second argument which it does since PHP .Use the and comparison operators.While at it dropped the fallback to CRYPTEXTDES if there's no working CRYPTBLOWFISH fallback to the portable hashes right away.Testing Instructionsunit tests pass code reviewDocumentation Changes RequirednoneNoteRemember within Joomla this is only used to verify then migrate old passwords to the new hashing methods.CC mbabker wilsonge rdeutz
Simplified spaghetti code;Removed duplicated code
email cloaking kills email value of input field;Solved issue from The issueThe plugin kills the email value of an input field when ohter inputs of the form don't validate.Expected resultDefect resultinput valueThe solutionThe issue are solved in stepsBefore the email cloaker comes into action all form script image picture and noemailcloak tags will be extracted from the content.Extracted elements with numbered placeholders like formelement formelement ... formelementn are replaced.The email cloaker comes into action.Eventually the numbered placeholders with the extracted elements in step are replaced.The file of the email cloaker is located at .pluginscontentemailcloakemailcloak.php . The function wich extracted the formelements calls extractFormElements And the function which inserts the extracted elements into the content calls insertFormElementsHow to testCreate a new Content. Put in the Content an inputfield with valueÆemailexample.orgÆ attribute likeAnd Save this Content. Then navigate to the Content like a visitor.With the old emailcloaker the emailcloaker will distroy the htmlstructure.Then load the pull request and opend the same Content.Expected Result after solutionThe htmlstructure is still correct. The email in the inputfield is shown.Worked as a group on that issue icampus FPerisa Flow and kathastaden
Detect Google Search App GSA NOT as Safari;Google Search App on IPad or IPhone others throws Can't Identify Browser Version because is identfiied as Safari.So 'function identifyBrowserVersion' in 'browser.php' fails because it tries to identify the BrowserVersion via a RegEx that uses Version as identifier but not GSA.See my comments concerning user agent strings at httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Missing colspan;Check administratorindex.phpoptioncomlanguagesviewlanguages. There is missing a colspan in the table footer.This PR changes colspan to colspanTracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Fix for email addresses validation rules;DescriptionThis fixes regular expressions used for email validation see Joomla didn't allow the ' char in user email addresses because JMailHelperisEmailAddress and JFormRuleEmailtest used Æ Unicode Right single quotation mark instead of ' ASCII apostrophe x in their regexp.According to RFC it is allowed to have apostrophes in email addresses as long as they are ASCII character x Irish email example o'sullivanexample.com.Testing instructionsYou can test this patch by trying to enter valid andor invalid email addresses in User Manager and in Contacts. In most cases anyway you will be actually testing JS validation PHP validation has been tested by unit test.Only expected cases accepted by JS and rejected by PHP are those of these kinds.userexample.comuser.example.comuser..nameexample.comAdditional CommentsReference material for email addresses validation ruleshttpstools.ietf.orghtmlrfchttpsen.wikipedia.orgwikiEmailaddress
Proxy JApplicationWebClient to the framework class;This removes JApplicationWebClient in favour of the version found in the framework. It adds an alias similar to that used with JRegistry to keep bc. To test ensure that navigating your website works as expected web apps only
hathor postinstall typos;Pull Request for typos introduced in Issue
RECAPTCHAAPISERVER URL no longer accessible;Since yesterday httpapi.recaptcha.net is not accessible. It must be replaced by httpwww.google.comrecaptchaapiRelevant bughttpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart
Permissions status not translated on the fly Solving;Pull Request for Issue Summary of ChangesAdded the js ini constantsTesting InstructionsOn staging install at least one language more than enGB.Switch to this language in backend.Edit the permissions Global or any component.Select a new setting for a user group.Before patch the Calculated Setting will be displayed as harcoded English Allowed or Not Allowed. One has to save to get the correct translation in the language used.After patch the Calculated setting will display in the language of the UI.
imp Adding a dropdown with flags display in language switcher;Redo because of a conflict in This improvement adds a new parameter to let display a bootstrap dropdown with flags and language names instead of the older dropdown. It is BC. Test on Protostar. Beez is untouched by adding an override.It was requested by many users on the forums.Until now choosing dropdown display we would getNew parameters in the language SwitcherUse simple dropdown as in the pastYes to Flags for dropdownDo not use dropdown as well as do not use Image flagsNo to dropdown and yes to Image flagsResults of the new type of dropdown in frontend other types are unchangedif choosing Yes to decrease line heightandrepereiradasilvadgtrichard
Fixed calendar field hint;The code to display hint property in calendar fields is there but it doesn't work.Testing InstructionsCreate a new or modify an existing calendar field in the frontend or backend and ensure to assign it a hint property as shown in the pictureI have temporary modified the calendar fields already present in Article Manager to save me a lot of time.Before the patch the hint does not show.After the patch the hint is there.
comfields Define the batch commands;Pull Request for Issue .Summary of ChangesRemoves the notice from the issue.Testing InstructionsCreate some field groupsCreate a Content field.Select this Content field and Batch copy or moveDocumentation Changes Required
Remove from extensions useless columns systemdata and customdata;Pull Request for Issue Summary of ChangesRemove columns from extensions table and all files.Fix template copy functionality.Fix postgresql installation some plugins in extension table has missing column value.Set correct PK value for template style protostar in mysqlSet correct auto increment value for postgresql copy template errorTesting InstructionsTry to copy template style for protostar before patch it does not work.a. Install dev. joomla branch and then apply patch and go to database fix button. Mentioned columns should be deleted from databases.b. Test installation of patched Joomla on mysql andor postgresql.Try to copy template style again now it should workExpected resultTemplate copy works.Actual resultError.Documentation Changes RequiredMaybe. Two columns has been deleted from extensions table.
Fixes initial comfields sql update file for mysql.;Summary of ChangesFixed two issues with the initial comfields sql update file for MySQL I don't have PostgreSQL or MSSQL so someone should probably look at possible constraints of those too.Due to the length of the context field combined with the utfmb unicode default for the table it will not create the index. That is because it would surpass the max length of bytes for MySQL.I changed the specific fields to utf so the max length of bytes is not surpassed.TEXTBLOBS cannot have a defaultRemoved defaults for those in this specific file.Testing InstructionsRun the sql file before the patch notice the errors.Run the sql file after the patch notice the errors missing.Documentation Changes RequiredThe issue with the max key length for mysql and maybe others should probably be noted in the docs.
Resolves Issue;This resolve an issue with TinyMCE and the use of width and height on JForm editor field element.How to testBefore applying the patch try to resize the TinyMCE editor via a JForm xml field definition. Add width and height attributes to the editor definition in the xml file field namedefaultdescription typeeditor buttonstrue labelCONTENTTEXTLABEL descriptionCONTENTTEXTDESC classinputbox filterJComponentHelperfilterText assetidcomcontent width heightpx then open the form to confirm that the editor widthheight has not changed.After applying the patch confirm that the width and height do change.
Missing form field attribute maxlength.;This patch adds the attribute maxlength to the form field textarea.JoomlaCode Tracker Pagehttpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Update Codemirror to .;Changelog for Codemirror . can be found herecodemirrorCodeMirror.......
Feature jquery keepalive;Change the keepalive function to use jQuery instead of MooTools.Tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart
fix Bug in setting startOffset to tabs using localStorage all the time;To reproduce the issueDo this before applyting patchAdd the following code in any joomla template file for example anycomponentviewstmpldefault.php We are setting start offset to and setting browser storage to falseoptions array 'startOffset'  'useCookie' falseecho JHtml'tabs.start' 'pane' optionsecho JHtml'tabs.panel' Tab 'tab' echo Tab contentecho JHtml'tabs.panel' 'Tab' 'tab' echo Tab contentecho JHtml'tabs.panel' 'Tab' 'tab' echo Tab contentecho JHtml'tabs.panel' 'Tab' 'tab' echo Tab contentecho JHtml'tabs.end'Ideally you should have open Tab as we have set offset to . Now if you have Tab as selected then select Tab and simply refresh the page. We have disabled the broweser storage it means Tab should be selected. But it's not.Reasonhttpsgithub.comjoomlajoomlacmsblobstagingmediasystemjstabs.jsL this line of code is expecting boolean but when you will check in cosole with codeconsole.logtypeof this.options.useStorageit will show string and because of that condition in above file always become true.Test Confirm fixApply this patch and confirm with enabling or disabling browser storage.
error fix;Pull Request for Issue .Summary of ChangesTesting InstructionsExpected resultActual resultDocumentation Changes Required
Added safemode ini setting compatibility check before setting incompati...;Added safemode ini setting compatibility check before setting incompatible curl options.See httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid
Very slow of JavaScript performance in Isis...;previous pull I made some updates based on Bakual idea about apply chosen only for .advancedSelectso here I removed JHtml'formbehavior.chosen' 'select' from all tmpl and added options to the template for allow to enabledisable JHtml'formbehavior.chosen' ... that will work only for select with class .advancedSelectand I made new pull because previous have conflicts....Linksoriginal pull  Very slow of JavaScript performance in Isis in Operachosen.js is the cause of the low backend performance in google group
Fix menu icon for trashed menu item state;Issue descriptionTrashed menu items use the unpublished icon instead of the trashed icon in backend. This patch should fix this issue without affecting any other behavior. Issue was originally reported by user Cartho on joomlabugs.de httpwww.joomlabugs.deforumindex.phptopic..htmlTesting instructionsGo to Menus Your Menu in backend to see the list of menu items.Trash one or more menu items.Set the state filter to trashed or all to display trashed items.Apply the patch.Make sure the icon is now correct and all actions still work in particularuntrash an item by clicking the trash icon.untrash one or more items by selecting some and clicking the clear trash button when the state filter is set to trashed.trash one or more items by selecting some and clicking the trash button.Further proposalsAs mentioned the patch only changes the icon. For reasons of consistency I have two more proposals where I'd like to request for some comments Change the tooltipsI'm not sure if the tooltips Publish menu itemComponent disabled and Component disabled and menu item unpublished. are the correct ones to use for the trashed state . Use the same state buttons as in comcontentIn comcontent list of articles we have a button group containing the status icon featured icon and a dropdown with the actions trash and archive. Is there any point against doing this the same way in commenus Instead of featured we could use the default marker instead of having a separate column the dropdown could be replaced with a single trash icon because we don't have an archived state for menu items AFAIK.
MSSQL fix install extensions crash;Steps to reproduce the issuetry to install an extension for example the compatchtester or the pkgweblinks or....Expected resultextension installed or some error msgsActual resultjoomla crashthe issue is better described here System informationWindows R ..Apache ..PHP ..Joomla ..devAdditional commentsnow handle the exception that was unhandled Installation of a module Add a new menu item to the Main Menu
Union should not apply settings to the set;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstartThe union applied settings like grouphavingorder to the result set instead of the first select. This corrects that they now apply to the first select.Currently the query object doesn't support set settings. Use the string manipulation instead.
fix APCu cache storage;this fix for APC caching when server use PHP . with APCuin my configuration itPHP ..APCu ..how to testmake sure that you have installed PHP . or higher and APCu extensionenable APC caching in Global Configuration and go to the Clean Cache page there you will see a lot errorsthen apply patch and again go to the Clean Cache page and check whether you are now able to see the cache info and able to clean up the cachePS it seems bug in PHP APCu extension in compatibility with old APC
Corrected links in Contacts List All Contact Categories;The links generated in view categories of component comcontact link to the current page. The changed line removed all computed parameters in the link
fixngClass handle index change correctly;changed the oddeven calculation to be done using modulo operation instead of bitwise operation. the bitwise operation caused issues with operator precedance mod oldindex is actually parsed as mod oldindex and not mod oldindex as might be expected. decided it is better to just use modulo operation for readibility instead of adding parentheses.fixes
fixcompileremove controllerAs requirement;What kind of change does this PR introduce Bug fix feature docs update ...Bug fixWhat is the current behavior You can also link to an open issue hereBinding a directive to a controller without a controllerAs property throws an error unnecessarily.What is the new behavior if this is a feature changeBinding a directive to a controller without a controllerAs property does not throw an error.Does this PR introduce a breaking changenoPlease check if the PR fulfills these requirements The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat Tests for the changes have been added for bug fixes features Docs have been added updated for bug fixes featuresOther informationRemove the controllerAs requirement when binding a directive to acontroller
Fixed incomplete merge;No description provided.
choreIE remove all IE specific code;Remove all code that was IE specific
WIP angular.component implementation ci skip;Needs tests and experimentation it would be nice to make this work wellwith TypeScript decorators for ease of use.The whole controller instantiated after templateUrl is loaded thing seemsnotideal it would be cool if a templateUrl function could be a method ofthe component controller.
featparse support unicode identifier names;Support unicode identifier names as defined in Section . Identifier Namesand Identifiers ECMAScript Language Specificationhttpwww.ecmainternational.orgecma.sec.except for unicode escape sequences which is hard to implementwithout changing too much existing code.Closes
fixCHANGELOG missing version number for ..;Well the version number was missing there.
Add support for multiple ignored directives;Sometimes it is useful to have a possibility to ignore more than one directive.
Fix compile remove templateUrl directive splitting;How did compiling a templateUrl async directive with replacetrue work before this commitapply all directives with higher priority than the templateUrl directivepartially apply the templateUrl directive create beforeTemplateNodeLinkFnfetch the templateapply second part of the templateUrl directive on the fetched templateafterTemplateNodeLinkFnThat is the templateUrl directive is basically split into two parts two nodeLinkFn functionswhich has to be both applied.Normally we compose linking functions nodeLinkFn using continuation calling the linkingfunction of a parent element passing the linking function of the child elements as an argument. Theparent linking function then doesexecute its prelink functionscall the child elements linking function traverseexecute its postlink functionsNow we have two linking functions for the same DOM element level because the templateUrl directivehas been split.There has been multiple issues because of the order of these two linking functions creatingcontroller before setting up scope locals running linking functions before instantiatingcontroller etc.. It is easy to fix one use case but it breaks some other use case. It is hard todecide what is the correct order of these two linking functions as they are essentially on thesame level.Running them sidebyside screws up prepost linking functions for the high priority directivesthose executed before the templateUrl directive. It runs postlinking functions before traversingbeforeTemplateNodeLinkFnnull do not traversafterTemplateNodeLinkFnafterTemplateChildLinkFnComposing them in any order screws up the order of postlinking functions. We could fix this byhaving postlinking functions to execute in reverse order from the lowest priority to the highestwhich might actually make a sense.My solution is to remove this splitting. This commit removes the beforeTemplateNodeLinkFn. Thefirst run before we have the template only schedules fetching the template. The rest creatingscope locals instantiating a controller linking functions etc is done when processing thedirective again in the context of the already fetched template this is the clonedderivedSyncDirective.We still need to passthrough the linking functions of the higher priority directives thoseexecuted before the templateUrl directive that's why I added preLinkFns and postLinkFnsarguments to applyDirectivesToNode.This also changes the compile transclude should make the result of a transclusion available to theparent directive in post linking phase templateUrl unit test. It was testing that a parentdirective can see the content of transclusion in its prelink function. That is IMHO wrong as thengTransclude directive inserts the translusion in its linking function. This test was only passing because ofcca which changed the behavior of the compiler to traversebefore executing the parent linking function. That was wrong and also caused the issue whichthis change fixes.Closes        The text was updated successfully but these errors were encountered
featngMock add flushByIndex function;Request Type featureHow to reproduceComponents ngMockImpact smallComplexity smallThis issue is related toDetailed DescriptionI've recently needed to flush httpBackend requests in an arbitrary order to add unit tests around an edge case. This PR satisfies that need.Other CommentsAdds a flushByIndex function to allow pending requests on httpBackend to be flushed in an arbitraryorder.
fixjqLite properly handle dashdelimited node names in jqLiteBuildFragment;Closes
fixinterval call fn even if invokeApply is false;Becasue calling the interval function relies on a promise notifyhandler the interval function would not get called withoutinvokeApply being true. With this update if invokeApply is false thefunction is called normally.Closes        The text was updated successfully but these errors were encountered
fixcompile fix memory leak;For functions that have a '' binding on the scope change the function from an inline definition to an external definition so the function closure has no access to the parent scope.Closes Note I am not sure this if this is a Chrome GC bug as the function never uses the parent scope but for the scenario from the issue the patch fixes the leak       The text was updated successfully but these errors were encountered
chorengLocale regenerate locale files;No description provided.
Extended customizability of resource;Added an option to resource's action parameters. The user can define a custom httpConfig and a custom parseResponse function. These allow the user to work with a lot more systems sending custom headers through action.httpConfig and parsing weird responses with parseResponse.Example use case. these additions let me use www.parse.com and resource together easily.var myHttpConfig headers myHeaders Our predefined custom headers to use parse.comvar ParseResource resource'httpsapi.parse.comclassesclassid'  class 'class' id 'id'  get method 'GET' httpConfig myHttpConfig  create method 'POST' httpConfig myHttpConfig  save method 'PUT' httpConfig myHttpConfig  query  httpConfig myHttpConfig isArray true Parse.com's response from a query is stored in response.data.result a parseResponse function allows us to use this parseResponse functionresponse  return response.data.result   remove method 'DELETE' httpConfig myHttpConfig I don't know if action.httpConfig and action.parseResponse are the best names but I think the idea of adding these two simple things adds a lot more flexibility to resource.       The text was updated successfully but these errors were encountered
Support for 'extending' data;By adding 'extendtrue' to action params you can have the data returned from server extend deeply the client side object rather than overwrite it.This is useful primarily for updates e.g. when you save the object and get a returned object with some of the data changed and yet have client data which must be kept.One possible flowYou have an object on the client which has an array displayed by a carousel thus each item has an 'isActive' property on the client side.When saving the object you need to return the object for many reasons one of which ight be to get updated IDs when some items are new and must be created on server side getting an ID.This scenario would normally overwrite the entire client object making the carousel slide to the first slide rather than maintaining the selected slide as needed.By extending the client data with the server data you can avoid that.
fixngClass when reversing the orderByFilter ngClassOdd and ngClassEven is not updated.;Related to issue        The text was updated successfully but these errors were encountered
docsie no fixes needed for IE but still relevant;Closes None of the mentioned fixes are needed anymore but information on where Angular stands regarding IE is still relevant.       The text was updated successfully but these errors were encountered
npm install to npm install karma;No description provided.        The text was updated successfully but these errors were encountered
fixlocation absUrl does not return undefined for base href and à;àhtmlModelocation's absUrl incorrectly returned undefined when using base href and htmlMode. Initializaing it to fix this issue.Closes
docsngDisabled describe your change...;disabled should be written as ngdisabled.
Add chinese readme.md;docs update
Karma installation on MacLinux command fix;No description provided.
feathttp promisebased request interceptors;Currently there is no easy way to globally intercept requests sent with http û similar to the way responses can be intercepted with response interceptors. Furthermore there are many legitimate scenarios and usecases where the need for request interception arises for exampleif security tokens parameters or headers need to be calculated for each individual requestfor collecting statistics like request counts measuring turnaround times etc.for dynamic clientside redirects e.g. rewrite apix to apiexperimentalx for resource x but not resource yPlease see for a further discussion and usecases on this topic.ImplementationThe request interceptor registration works exactly like the registration of response interceptors in fact I have put this into a separate routine to make it more explicit. If request interceptors are present they are prepended to the promise chain returned by http û this was mostly devised and written by splondike û this gives the interceptors a lot of flexibility and fits very well into the Angular API.Tests and DocumentationThis pull requests includes both tests and documentation of the new feature.A note on testing a separate call to rootScope.apply is necessary to test the interceptors with the mocked http backend.Example register interceptor using an anonymous functionhttpProvider.requestInterceptors.pushfunction  return functionpromise  return promise.thenfunctionconfig  the config object will be used by the actual request you can modify it here config.url 'intercepted' config.url return the config object to pass it on to the next interceptor return config if you reject the promise the promise returned by http will be rejected  CompatibilityWhen no request interceptors are registered no promises are prepended to the chain. Therefore this feature should be completely backwards compatible û if you register not interceptors everything stays the same.
Removed duplicated require section in directives guide;No description provided.        The text was updated successfully but these errors were encountered
fixinput ngrequired conflicts with ngtruevalue;Before this change overridden isEmpty method which is called in requiredDirective would return a wrong result when the parameter is given as true. This change corrects the statement value within method.Closes
fixlocation consider baseHref in relative link for legacy browsers;Request Type bugHow to reproduceIn a legacy browser that doesn't support HTML push state ie IE have the followinglocationProvider.htmlModetrue.hashPrefix'' in app configurationa number of routes such as foo bar in the routeProvider configurationbase hrefen in page headersa hrefenfoo in a link.When clicking a link it is rewritten as httphostenenfooExpected httphostenfooComponents locationImpact mediumComplexity smallThis issue is related toOther CommentsI couldn't yet devise any test for covering this case. This fix concern a click handler on the rootElement which afaik is not covered in the current tests.Please let me know if you find it reasonable and if you have ideas on how to test for it.Thanks
Add precision for currency filter;Depends on .This adds the fractionSize parameter to the currency filter.For some the common fractionSize of needs to be overridden in certain scenarios.Example gas pricing in the US where the price is actually accurate to decimal places.       The text was updated successfully but these errors were encountered
fixcopy preserve prototype chain when copying object;So far angular.copy was copying all properties including those fromprototype chain and was losing the whole prototype chain except for DateRegexp and Array.Deep copy should exclude properties from the prototype chain because itis useless to do so. When modified properties from prototype chain areoverwritten on the object itself and will be deeply copied then.Moreover preserving prototype chain allows instanceof operator to beconsistent between the source object and the copy.Before this changevar Foo function var foo new Foovar fooCopy angular.copyfoofoo instanceof Foo truefooCopy instanceof Foo falseNowfoo instanceof Foo truefooCopy instanceof Foo trueThe new behaviour is useful when using http transformResponse. Whenreceiving JSON data we could transform it and instantiate real objecttypes from it. The transformed response is always copied by Angular.The old behaviour was losing the whole prototype chain and broke alltypes from thirdparty libraries depending on instanceof.This PR is somewhat related to issues and .
docsguidemigration remove duplicate IE section;Remove duplicate IE section from . migration guidehttpsgithub.comangularangular.jsblobmasterdocscontentguidemigration.ngdocLLhttpsgithub.comangularangular.jsblobmasterdocscontentguidemigration.ngdocLL
chorengMock Encapsulated ngMock in module wrapper;I know this issue is very old but maybe this will help spark discussion on the subject of Testing.Fixes issue encapsulate angularmocks.js into closure vojtajinaLeaving mocks out of 'min' grunt task because it probably doesn't belong in most production implementations of angularjs i.e. for testing purposes. Well probably the same for the unminified version. This might spark further talk.
fixinputs ignoring input events in IE caused by placeholder changes o...;...r focusblur on inputs with placeholdersThis is my attempt at fixing as well as the extra placeholder issues with focusblur. I'm assuming I'm missing a weird test case that still breaks somewhere but I still think this is an improvement it definitely is for my use cases.
fixinjector do not use inherited inject;Ensure that a function has its own inject property and not an inheritedproperty when annotating. This ensures that derived functions classes do notget the dependencies of their super class.Fixes What kind of change does this PR introduce Bug fix feature docs update ...Bug fixWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changeYesPlease check if the PR fulfills these requirements The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat Tests for the changes have been added for bug fixes features Docs have been added updated for bug fixes featuresOther informationBREAKING CHANGEPrior to this PR derived classes with no dependencies could extend base classes with dependencies as long as the derived classes did not have constructors. As of this PR the derived class would be seen as having no dependencies and the base class's constructor would be called with no arguments.       The text was updated successfully but these errors were encountered
fixngSanitize use the smallest match on searching end tags;ngSanitize searches the string of the end tag with the longest match.So it removes all of the HTML strings between script elements.We should use the smallest possible match.Closes        The text was updated successfully but these errors were encountered
Added namespace tracking to compile;This is in relation to Things to noteThis is a work in progress.This needs cleaned up badly.The commits need flattened.etc.Basic IdeaAdded namespace tracking to the compile process.When a namespace change is detected it updates a namespace context object that contains methods to wrap and clone elements appropriately. There is some ugliness where the namespace context had to be ferried around via some monkeypatches to get them into the appropriate closures.       The text was updated successfully but these errors were encountered
Fixes Argentina's currency.;Currency symbol is ''. The symbol is placed before the number.Closes        The text was updated successfully but these errors were encountered
fixngAnimate do not use event.timeStamp anymore for time tracking;Due to recent changes in Chrome Firefox and Webkit use of theevent.timeStamp value will lead to unpredictable behaviour due toprecision changes. Therefore it's best to stick entirely to useDate.now when it comes to confirming the end of transitionending values. See for more info.Applies to . . . and ..Closes        The text was updated successfully but these errors were encountered
fixhttpBackend remove ContentType header on DELETE requests;Sending empty string with XMLHttpRequest's post method causes browsers adding unneeded ContentType request header on DELETE requests. Chrome adds ContentTypeapplicationxml Firefox and IE adds ContentType textplain. Sending null insted of empty string fixes the problem.More detail comment       The text was updated successfully but these errors were encountered
fixhttp stop httpBackend coersion of falsy values to null before xh...;...r.sendstop httpBackend from potentially overriding false values to null when sending a falsy value to a web service via POST or PUT et al       The text was updated successfully but these errors were encountered
featMockHttpExpectation matchData supports function as data;Add support for passing function as validating dataTo avoid hacking test method of RegExpOptionally overwrite toString method of fn to show validation tips
choredocs fix layout between px and px;Left nav and main content were tucked slightly under the version picker breadcrumb navbar
fixparse ternary should give assignment precedence in middle and right expressions;Closes
fixinput validate minlengthmaxlength for nonstring values;Use viewValue for minlengthmaxlength validation if model value is not astring. This allows ngMinlength and ngMaxlength to be used for number inputs.Closes        The text was updated successfully but these errors were encountered
docswindow move use of window to controller;Move use of window from expression to controller because accessingwindow in expressions is now dissalowed and doesn't work.Code example doesn't work this PR will fix this.
featGrunt Switch from Rake to Grunt;Migrates the Angular project from Rake to Grunt.BenefitsDrops Ruby dependencyLowers barrier to entry for contributions from JavaScript ninjasSimplifies the Angular project setup and build processAdopts industrystandard tools specific to JavaScript projectsWindows support for the build and endtoend testsBREAKING CHANGERake is completely replaced by Grunt. Below are the deprecated Rake tasks and their Grunt equivalentsrake gruntrake package grunt packagerake init NArake clean grunt cleanrake concatscenario grunt buildscenariorake concat grunt buildrake concatscenario grunt buildscenariorake minify grunt minifyrake version grunt writeversionrake docs grunt docsrake webserver grunt webserverrake test grunt testrake testunit grunt testunitrake testjqlite|jquery|modules|ee grunt testjqlite|jquery|modules|endend|eerake testFirefoxSafari grunt test inFirefoxSafarirake testSafari grunt test inSafarirake autotest grunt autotestNOTESFor convenience grunt testee starts a webserver for you while grunt testendend doesn't.Use grunt testendend if you already have the webserver running.Removes duplicate entry for Describe.js in the angularScenario section of angularFiles.jsUpdates docssrcgendocs.js to use done intead of the deprecated endUses gruntcontribconnect instead of libnodeserver removedRemoves nodeserver.sh travis now uses grunt webserverBuilt and minified files are identical to Rake's output with the exception of one lesscharacter for git revisions using short and a couple minor whitespace differencesCloses
fixngHref allow setting href to empty string;Fixed issue ngHref should now allow empty strings and ngSrc will not accept empty strings as intended bea       The text was updated successfully but these errors were encountered
featresource expose promise and response in promisebased api;This is a WIP to show a possible resource promisebased api discussed in dbabcMain changespromise and response http response are exposed on resource instance object in addition to then and resolved.on success the promise resolves to the same resource instance object filled with data. This is as expected to enable using it in resolve section of route.when.Arguably then and response.resource are not needed anymore what do you think
fixngAnimate Fix text node animation;Change to comment stripping code to return text nodes in addition to element nodesCloses        The text was updated successfully but these errors were encountered
fixngAria trigger digest on ngclick via keypress pass event to expression;Minor improvement to ngclick directive from ngAria. Now if bindings are updatedduring the click handler the DOM will be updated as well. Additionally the eventobject is passed in to the expression via locals as is done for core event directives.Closes
featLogProvider flag to allow hideshow of log.infolog.log;Add method to set a flag to enabledisable log.info and log.log messages.logProvider.enableMessagesfalse|trueThis is similar to how logProvider.debugEnabled works.I havenÆt gotten the tests to pass yet thereÆs an error in the logSpec saying LogProvider undefined.
fixhttpBackend Fix for IE AJAX request aborting error.;Aborting AJAX requests in IE makes the XHR object's properties inaccessible and throws the following errorSCRIPT Could not complete the operation due to error ccf.       The text was updated successfully but these errors were encountered
fix filterFilter;allow both dotted predicate object fields and nested predicate objects in filters.
encode uri Matrix urls semicolons fix;Solved issue Support for Matrix URIsadded to the list of replacementsadded a unit test
fixngMobile touch event handling fix for when jQuery is present.;originalEvent was not being handled properly.       The text was updated successfully but these errors were encountered
fixinput create max andor min validation whatever the initial value is;fix issue change tests to corresponding changesalso change tests for ngmax and ngmin though they have no some issueCloses
fixhttp promise chain for helper methods;can has less promise chain breakingangular.module'app' .factory'Auth' functionhttp  return  login functiondata  return http.post'signup' data .successfunctiondata  return data  .errorfunctionerr  return q.rejecterr  end login end module end factory.controller'MainCtrl' functionscope state Auth  scope.login functionuser  Auth.loginuser.thenfunctiondata  state.go'dashboard'  .catchfunctionerr  alerterr  end login end ctrlsince the promise chain is broken when using Auth.login.thenotherStuff.catcherrorStuff you get the result from the http and not the error from .error.       The text was updated successfully but these errors were encountered
Update animator.js;Added support for transitiondelay property.
featorderBy speed optimization;Closes .
fixforEach add the arrayobject as the rd param like the native forEach;This makes all the different object types supported by angular.forEach more like the native Array.forEach by adding the rd argument to the callback. Also adding tests to make sure all the different object types invoke the iterator with all arguments and the context.
feathttp add option for unsafe xhr requests in FirefoxOS;Previously it was not possible to pass settings to the constructor of the XMLHttpRequest. Thisadds an optional config property xhrConfig to the http constructor allowing us to do so. Thisis required for use of the mozAnon and mozSystem options for FirefoxOS.See httpsdeveloper.mozilla.orgenUSdocsDOMXMLHttpRequestXMLHttpRequest for details.Closes
Copy prototype bug with enumerable properties;Per this threadCreating a placeholder for a possible fix which includes associated tests.
chore remove accidentally created file;This removes a file which most likely was added unintentionally.       The text was updated successfully but these errors were encountered
featroute express style route matching;visionmediaexpress style route matchingoptional paramswildcard paramsregexes.when'barfoo location.path'bar' routePrams  location.path'barfoovalue' routePrams foo 'foovalue'.when'bar' location.path'barfoovalue' routeParams 'foovalue'.when'bar. location.path'barfoo.js' routeParams 'foo' 'js.when\\d location.path'' routeParams ''
fixngTouch don't prevent the click event after a touchmove;Remove the touchmove handler so that resetState is not called on touchmove. The touchend event handler already prevents the click from being triggered if the distance moved exceeds the MOVETOLERANCE so detection of touchmove is not needed. Previously because of resetState on touchmove the click would not be triggered even if the event coordinates changed by only px or px which seems to be very common for taps on mobile browsers.       The text was updated successfully but these errors were encountered
fixrootScope ngRepeat add support for objects created with Object.createnull for ngRepeat and watchCollection;Basically the hasOwnProperty method was being called from an object gotten from the user. When that object was initially created with Object.createnull it didn't inherit from Object so it didn't have the hasOwnProperty method throwing an undefined is not a function error.This was fixed by executing hasOwnProperty.callobject key instead of object.hasOwnPropertykey       The text was updated successfully but these errors were encountered
fixparse mark empty expressions as constants and literals;In response of commentI decided to mark it as a literal because parse'undefined' is a literal.
fixq pass promiseaplustests v.. WIP;This is still a work in progress but this implementation is now passing thefull promisesaplustests v...It is still necessary to shrink this down and hopefully provide a betterflyweightprototypebased implementation.Fixes        The text was updated successfully but these errors were encountered
fixform input inputemail and ngRequired not working together;ngRequired added to an email field wasn't working properly. nginvalidrequiredstayed true unless a valid email was entered.correct behaviour is that it turns to ngvalidrequired at first entered key.closes
refactorngAria remove usused dependency;As mentioned in decommitcomment.
Update step.ngdoc;A simple typo correction delete duplicate 'the' word.       The text was updated successfully but these errors were encountered
fixhttp add missing shortcut methods and missing docs;There was some inconsistency in version .. regarding the definition and documentation of shortcut methods in ng.http and ngMockEE.httpBackend. Some methods didn't exist although documented as existing whereas some methods did exist but wheren't documented.This commit fixes the above errors and adds tests to verify the existence of all shortcut methods.More specificcally the following issues were addressedng.http Add the missing patch shortcut method and related docs.ng.http spec Add test to verify the existence and functionality of the patch shortcut method.ngMockEE.httpBackend Add docs for the existing whenPATCH shortcut method add the missing expectHEADwhenHEAD shortcut methods fix grammatical errors.ngMockEE.httpBackend spec Add test to verify the existence of shortcut methods for all HTTP verbs.Closes
in Taking numberformatsymbolsext into account;There are some errors in certain locale files I noticed most latin american currencies were wrong. The problem is that closure library keeps a separate file numberformatsymbolsext.js for some languages.This change uses this file too to generate the correct currency chars.The locale generation process now downloads number format symbols fromthis url toohttpclosurelibrary.googlecode.comsvntrunkclosuregooginnumberformatsymbolsext.jsMost locales should now be correct       The text was updated successfully but these errors were encountered
featinput allow templates on the name attribute of an input;Handle the name attribute on an input as a template       The text was updated successfully but these errors were encountered
Changed from phonelist.html to index.html;Changed from apppartialsphonelist.html to appindex.html at Animating ngView with CSS Keyframe Animations title.       The text was updated successfully but these errors were encountered
Fixing missing dependency in Step of tutorial;No description provided.
Simple fix to bootstrapdropdown.js to allow it to be compressed by Asset Packager and other packaging tools;Added semicolons so that the file can easily be compressed by tools such as Asset Packager       The text was updated successfully but these errors were encountered
README.md clarify the process of running tests.;As seen here and here it is troublesome for a newcomer to run tests. You want people submitting pull requests to run and write tests. Ergo you want the process to be clear.
make less files compile with strict maths in ..;In .. the default mode is that operations are not operated unless they are inside brackets. This means that font gradient properties and calc functions do not need escaping in .. in the default mode.There is an option to turn this off but we would like to phase people onto doing maths in brackets so we can remove that option.This change compiles to the same css with less .. and less ..It just means people won't have to specify strictmathsoff in order to get bootstrap to compile with less.MatthewDL and jonschlinkert FYI.There are some things I could tidy up with .. .. features but we can wait until you have raised your requirements.
A little mistake on .pageheader was .pagehaeder L;No description provided.        The text was updated successfully but these errors were encountered
Update dependecies.;CC cvrebert
Include color scheme support for navbartoggler;The navbartoggler should use the navbarlightcolor andnavbardarkcolor for the light and dark color schemes respectively.       The text was updated successfully but these errors were encountered
Add tooltip viewport option respect bounds of the viewport;Currently tooltips do not respect their container. eg. I have a button jammed up against the right side of the page and place a tooltip on the top it will stick out of the page.So I added two new optionsviewport defaults to 'body'. It's the selector the tip should stay inside.viewport padding how far in px should it stay from the edgesWith changes from the original at . The tests pass for me in firefox.fat What was the new offset method you mentioned in the other pull
Flexbox grid column wrapping bug;With flexbox enabled please take a look at this in IE all browsersdiv classcontainer div classrow div classcolxs div classbgprimarycontentdiv div div classcolxs div classbgprimarysidebardiv div divdivThis is what i get
Rename .active to .show;Fixes .Also fixes tabs by changing .in to .show
.inputgroupaddon lineheight should be the same as .formcontrol;When lineheight is changed the .formcontrol line height is increased see httpsgithub.comtwbsbootstrapblobvdevscssforms.scssL. But the line height of .inputgroupaddon was hard coded so it would not increase in size. The text .inputgroupaddon will not center vertical that way.This change fixes that issue.Found which looks similar but am to big of a git nub to see that change probably       The text was updated successfully but these errors were encountered
Added responsive textalign classes;This allows you to set textalignment for specific screen width. For example if you want to centre text to improve readability on xsmall screens.       The text was updated successfully but these errors were encountered
Improve JS style;CC twbsteam
Documentation link cleanup;This is a v rebase of with several other broken links fixed.
Fix missing e in slide.bs.carousel;No description provided.        The text was updated successfully but these errors were encountered
Update tooltip.js;Don't reference Tether via attachment to window with the update one can import bootstrap providing the dependencies in webpack withnew webpack.ProvidePlugin 'jquery' jQuery 'jquery' Tether 'tether'Then inside one's own bootstrapglobals import 'bootstrap' will simply work and jQuery can be used from there.I had wanted to do this but also expose jQuery Tether etc when in development build in my code but if I provide window.Tether I can't then expose it to the outside...
Update bower.json;Main files in bower.json are outdated like so main .docsassetsjsbootstrap.js .docsassetscssbootstrap.cssI think it should reference the dist files.
Repaint fixes;Hey heyApplied translateZ translated to fixed elements to prevent browser repaint when scrolling.These changes were originally part of a Bootstrap reset I made called Lil' Bhttpitsjonq.github.iolilbAlso added a new mixin under vendorprefixes.less .translateZz. This targets translateZ directly.I initially wanted to use .translated to target the Z axis for the repaint fixes.. but I believe translateZ has IE whereas translated doesn'thttpcaniuse.comtransformsdHope this helpsFor you guyshttpspbs.twimg.commediaBlXWPkIUAAmk.jpglarge       The text was updated successfully but these errors were encountered
Fixed URLs in JavaScript comment blocks;Just a small fix to the URLs in the header comment blocks in the JavaScript files a couple had the wrong URL fragment.       The text was updated successfully but these errors were encountered
Panel title collapse toggle should displayed as block;Display collapse toggle as block so panel can collapse when panel heading clicked.       The text was updated successfully but these errors were encountered
Fix getSelectorFromElement when is a selector;Check if datatarget contain to avoid JQuery errorClose
Make spacer utils responsive;This makes the spacer utilities responsive. Instead of .mt for example we have .mtsm. Bit longer of a class name but more versatile.       The text was updated successfully but these errors were encountered
Clear tooltip timeout on destroy.;No description provided.        The text was updated successfully but these errors were encountered
Fix progress colors in IE;IE support color for value not backgroundcolor. By this fix it works now in IE
Fix selectable disabled toggle radio buttons;Currently if when using a toggle button radio group with disabled Inputs or Label input container despite having the correct cursor and styling those inputs are still selectableThis pull request makes it so disabled radio toggle button is not selectableThey can be disabled either byadding a disabled class on Label containerdecorating the Input with a disabled attribute
v Fix Typo in Forms docs;No description provided.        The text was updated successfully but these errors were encountered
Fix double space in wells bottom.;If we have blockelements in well instead of text we will get a double space issue well's padding and element's margin.div classwell table classtable ... tablediv       The text was updated successfully but these errors were encountered
Update QUnit to v...;No description provided.
Add jekyll plugins to group in gemfile;Trying to run jekyll serve would fail if the plugins in config.yml aren't also in the Gemfile as per Jekyll docs       The text was updated successfully but these errors were encountered
Fix transitiontimingfunction mixin;The mixin introduced in contains a bug I think.While it is supposed to set the transitiontimingfunction attribute it's actually setting the animationtimingfunction attribute.This fixes that.
typeahead do not store item data in an attribute;By using a datavalue attribute each item is forcefullyconverted into a string. If the items are not simple valuesthe resulting retrieval is useless at select time.Storing it with the jQuery data function instead means theobject is stored without problems.This is the same as and rebased against the ..wip branch       The text was updated successfully but these errors were encountered
Update equalwidth example numbering;PR simply updates the numbering in the equalwidth example in the grid docs.
Suppress spacebar keyup for dropdowns;Firefox and Chrome both fire click events when the spacebar is released on a button however Chrome suppresses this event if preventDefault is called from the keydown handler and Firefox still fires it so it must be explicitly prevented from the keyup as well to get them both working the same.Alternatively could change the dropdown to work with the keyup event instead of keydown but I took this approach as it seemed less destructive with existing code.Fix for issue        The text was updated successfully but these errors were encountered
store typehead item value as a object not string;now the typehead control can only use string to build the listwe can't store more data in the items.so i change the attr'datavalue' to data'value' to get object value from the select so we can extend the item object like this. var TypeHeadItemfunctionitemvalue this.itemitem this.valuevalue  TypeHeadItem.prototype toString function  return this.value  toLowerCasefunction return String.prototype.toLowerCase.applythis.value  indexOffunctionvalue return String.prototype.indexOf.applythis.valuearguments  replacefunction return String.prototype.replace.applythis.valuearguments   TypeHeadItem.prototype.defineGetter'length'functionreturn this.value.lengththen we can get more information from the typehead selected item so we don't need to use a cache to store the object which match to the key.It's useful when u have same keyword for different items.although typehead is not desgined for thisbut we use it       The text was updated successfully but these errors were encountered
Fix cards cut of when in columns;This changes the cards to use display inlineblock when in columns to stop themwrapping when in columns and therefore stopping them getting cut off.Fixes
Fixed responsive label selector;No description provided.        The text was updated successfully but these errors were encountered
bind dataapi events to document instead of body to allow body replacement;By binding dataapi events to document we can replace the body element without losing the bindings.This is necessary to be compatible with httpsgithub.comrailsturbolinks and other javascript libraries that replace body.
Added column offset for small devices;Added in the ability to offset small columns using .colsmoffset when using the colsm class
do not show tab when disabled;attempts to fix
v docs Change incorrect LESS references to SCSS;No description provided.
Improve alignment of the dashboard placeholder images;Clean solution to not pollute responsive images overall but to fix placeholder images.Fixes .
Some quick doc link fixes and listinline ref fix;fixed a few links to javascript pagefixed listinline reference
Rename order utilities to intended class names;Somehow I screwed this up in Alpha . These utilities should be propertyvalue whenever possible so instead of flexfirst and the like it should be orderfirst. I've left the and as last and first but renamed unordered to . Is that weird I'm not sure how best to handle this one.Closes .
fix the modal bug;the backdrop peeping out the white when the height of modal has increased and scroll down
horizontal collapse fixes;add CSS for collapsing over width fix collapse plugin to use innerWidth instead of innerHeight in the hide function when collapsing over width
Add distcssbootstrap.css to bower.json main;It's useful when you use gulp wiredep to have css when needed being injected       The text was updated successfully but these errors were encountered
Fix link;No description provided.        The text was updated successfully but these errors were encountered
Use .data instead of .attr in typeahead for more flexibility.;Typeahead queries that correspond to arbitrary JavaScript objects cannot be easily attached to the HTML DOM objects using .attr changing this to .data solves this.       The text was updated successfully but these errors were encountered
v Fix link to narrow jumbotron example;Fix Correct URL httpvalpha.getbootstrap.comexamplesnarrowjumbotron
Meteor Switch to manual installation instructions for v;Accurate Meteor install instructions
split .forminline .inputgroup into separate docs example;Refs httpsgithub.compatrickhlaukebootstrapcommitecfadcfdbcddccommitcommentCC patrickhlauke       The text was updated successfully but these errors were encountered
Change breakpoint of docs navbar from sm to xs;àHTML codeshould close
Updated copyright in LICENSE to;No description provided.        The text was updated successfully but these errors were encountered
Fix duplicated popover content on reopening;BUG FIX fixing a problem when dynamic content is added to popover through content function. In this case if element wasn't in DOM detached element popover content will be duplicated on popover reopening.Here is a JS fiddle demonstrating the problemhttpjsfiddle.netzFZ
Fixes alignment issue in static control example;Fix . Replaced controllabel with formcontrollabel class whichis new in v.       The text was updated successfully but these errors were encountered
ARIA screenreader support for collapse.js;Added handling of ariaexpandedtruefalse to collapse.js updateddocumentation to include advice on making expandcollapse controlsaccessible updated examples and javascript documentation to useariaexpanded and ariacontrols when targetting single collapsibleelement using ID rather than class selector
WIP Transition from Grunt to Gulp;As said in in the super ambitious nice to haves I have transitioned from Grunt to Gulp.Some things still need to be done and not everything works.This is a base for the transition from Grunt to Gulp.I have done my best to try to create all the tasks it wan't that easy trying to find what each task does.Also note that gruntsaucelabs does not have a gulp equivalent so something will need to be thought out as an alternative.Another note the hound config needs updating.If anyone has any improvements please post them here.
Changed all the attr'data... to data'...;Instead of accessing the data.. attributes with the .attr everywhere changed to use the .data
Fixes Use box sizing inheritance;Fixes .Updated the docs too.Interested to see people thoughts on this and wether resetting whole regions was more or less common than reseting a single element.Right now I'm thinking that resetting the whole region is most likely what people would want to do especially to fix problems like the google maps bug described.       The text was updated successfully but these errors were encountered
Button hover class;Add button hover class for use with another class iebutton classbtn btndefault btnsuccesshoverSuccess on hoverbutton
modal.jsoptions.cache added;tests and docs includedallows you to specify whether a modal caches its content after hidden or notfor reference
Use higher precision when calculating breakpointmax values;No description provided.        The text was updated successfully but these errors were encountered
Reorder var affectation;Reorder var affectation to work with the .Net compiler dotless httpwww.dotlesscss.org
Tooltip arrow fixes;This fixes two bugs in the tooltips pluginThe tooltip arrow orientation was chosen using the truthiness of the delta.left value returned by getCalculatedOffset however there are cases when this value is but the placement of the plugin is still top or bottom which means the arrow should be positioned using the left property. This fix uses the existing placement variable fixes If the page layout changes after the tooltip has been shown the tooltip orientation could change in which case the alternate CSS property was never reset couldn't find an existing issue for this
Dropdown remove dependency to rolemenu rolelistbox a and li elements fix keyboard navigation;Per migration documentation in ddbdRebuilt dropdown styles and markup to provide easy builtin support for a and button based dropdown items.Dropdown items now require .dropdownitem.Per comment rolemenu should have been dropped.This PRRemove the dependency to rolemenu or rolelistbox and rely on the class dropdownmenu insteadRemove the dependency to the a element for the dropdownitem and rely on the class dropdownitem insteadRemove the necessity to wrap dropdownitem in li elementsAll this problems affected only the keyboard navigation in the dropdown.With this modification the javascript now matches the markup in the documentation.The keyboard navigation works again now in dropdowns.
Force LF line endings for the dist files.;This should make things more consistent on all platforms.CC cvrebert       The text was updated successfully but these errors were encountered
Add 'bootstrap' directory to .gitignore;Ignores the bootstrap directory that is created when you make bootstrap. Noneed to track these files since they're generated. conzett's commit to Add'dist' directory to .gitignore is the same idea but for Bootstrap the generated files are place in abootstrap directory by default not a dist directory like jQuery. Leftthe dist directory in the .gitignore since it may be a convention others areusing already.Is this line If modifying the .less files always recompile and commit the compiled files bootstrap.css and bootstrap.min.css in CONTRIBUTING.md supposed to be there Assume that refers to make bootstrap not make build
Fix package.json;For example resolve npm module can't resolve path to bootstrap.
typo in components.html split buttons;classe classes       The text was updated successfully but these errors were encountered
v Navbar improvements;WIP as I slog through .New Sass variables for various navbar components. Improved and highly flexible responsive behaviors added. Dropdown example for navbars. Navbar togglers don't respect color scheme.a Update collapsible navbar docs to demonstrate color scheme functionality of navbar toggler. Clear the floats within .navbartoggleable to avoid broken animation on close. Restore .navbartext and add some docs examples. Docs for examples of using images in navbar brand component. Clarify usage of .active in navbar navs. Improve color contrast of navbar nav links. Navbar brand and image options solved thanks to utilities.Still to do Container adding extra padding Revisit lightdark nomenclature Make sure docs navbar is updated Input group sizing in navbar Flexbox navbar Migration docs
Add CDNJS version badge in readme;This will add a badge that shows the lib version on CDNJS and link to its page on CDNJSThanks       The text was updated successfully but these errors were encountered
Overlay fix after hide modal;Fix scroll after overlay two or more extensive modals.       The text was updated successfully but these errors were encountered
Add font colors to contextual table variants;Closes        The text was updated successfully but these errors were encountered
fix dropdown event listener;fixes middle click in firefox and other issuessee also commentthis fix is currently running on httpszkillboard.com with what seems to be no issues EVEKILLzKillboardea
Affix no longer jumps when using sticky footer fixes .;This doesn't fix the other jumping issue .       The text was updated successfully but these errors were encountered
Rearrange tooltip and popover documentation examples;from top left bottom right left top bottom rightThis way they do not overlap with each other.Tooltips ExamplePopovers Example       The text was updated successfully but these errors were encountered
Correct spelling of our.;No description provided.
Dropdowns update keyboard touch and submenus;FixesKeyboard navigation using submenus acts similar to rightclick in Mac going up first starts to top of list bottom the bottom moves from there etc. Only difference is that the submenus display on item focusTakes into account the .dropup .dropdown and .pullleft modifier classes. E.g. If it's pullleft the left and right arrows switch around if it's a dropup submenu we start by focusing the last item vs the first which is at the top.Touch navigation now works prevents the default click events from happening with the delay looks uglyesc key will bring you back in focus with the initial button no matter where in the dropdown you are and tapping it again reopens the dropdown like previous behaviour       The text was updated successfully but these errors were encountered
Triggering event on when affix is changed;I need to trigger an event when affix is set or unset.
Typo fix Sprited Striped;No description provided.        The text was updated successfully but these errors were encountered
enforceFocus event.target event is undefined;event.target should be e.target within enforceFocus method.       The text was updated successfully but these errors were encountered
Updated jQuery to v..;Fix for        The text was updated successfully but these errors were encountered
Implements a custom.scss resolves and todo on;I added a custom.scss file and added it to the bootstrap.scss file to be compiled for user customizations to variables. This resolves issue that was closed and added as a todo on . The todo states Consider implementing a custom.sccss for easier builtin variable overrides       The text was updated successfully but these errors were encountered
Tooltip Options not propagated correctly;Tooltip's enter function is not propagating options correctly. In my case I'm using jQuery .. while also trying to use the container option. However when the tooltip is displayed the container option is lost reset to the default false resulting in an insertAfter call in show rather than appendTo.This is a fix that uses jQuery's .extend to propagate tooltip options.
Fix documentation for allside spacing classes.;Fixes . I debated the wording but this is the cleanest I can think of for now.       The text was updated successfully but these errors were encountered
Fix element precision bug in at media CSS elements widths;Add more precision with media maxwidth .em changed to media maxwidth .em.For bug example httpvalpha.getbootstrap.comlayoutresponsiveutilities with a layout of px hiddensmdown and hiddenmdup are visible both.
Translucent .inputgroupaddon borders;Added backgroundclip paddingbox like .formcontrol
..wip Fixed 'Running Doc. Locally Link;httpgetbootstrap.dev does not work when running the documentation locally. Should be httplocalhost instead.
add Chinese translations website boot.com;No description provided.
fix uses luajit for android;instead of using Lua it uses LuaJIT for androidfixes github issue        The text was updated successfully but these errors were encountered
Fixed memory leaks in CCLabel.cpp;flener pointed out that there's a memory leak when executingauto ttf LabelcreateWithTTFTTF fontsMarker Felt.ttf ttfsetPositionvisibleSizettfsetOverflowLabelOverflowSHRINKttfsetDimensionsttfgetContentSize.width
update external library add iOS x and arm architectures support...;... Xcode. iPhone simulator bit       The text was updated successfully but these errors were encountered
normalize path on android.;because AAssetManageropen do not support '..' in path.for examplecan not open test..img.png in android.open img.png is ok.this patch will change test..img.png to img.png.
fixed scrolling bug when scroll view is not at CCPointZero position in w...;if ccscrollview or cctableview is not at CCPointZero postion in world the scrolling behaviour is not correct.       The text was updated successfully but these errors were encountered
Fix the variable isTween value error.;In the function FrameDatacopy the variable isTween had notassigned correctly.       The text was updated successfully but these errors were encountered
dispatchPendingRunnables is not called from any where;In case of Java activity dispatchPendingRunnables is not called from any where.So runOnGLThread is not work well.       The text was updated successfully but these errors were encountered
Fix compileTimeDefines not end;Fix for        The text was updated successfully but these errors were encountered
Fixed MenuItemImage Camera Issue.;related issue 
hot fixedclosed issuefixed label is unsharp if it's created by smaller font.;No description provided.        The text was updated successfully but these errors were encountered
Fix UIWebViewImplloadHTMLString;As described here.       The text was updated successfully but these errors were encountered
Clang build fix;This fixes the Linux build and adds a Travis build for clang
Add AudioEngine js bindings;No description provided.
cocosdlibs.xcodeproj Add CCTweenFunc.cpp to cocosdx Mac target.;CCTweenFunc.cpp is not included in the mac target.The reason the tests still build is because it is in CocosDenshion so the symbols are present. However if you are just using the cocosdxmac static lib Ease Actions will fail to link.       The text was updated successfully but these errors were encountered
Fix a bug in Scheduler which may case Force Close;Fix a bug in Scheduler which may case Force Close       The text was updated successfully but these errors were encountered
No CCUNUSEDPARAM;In I tried to make cocosdx more consistent in the use of CCUNUSEDPARAM but to keep the code more simple and cleaner it was suggested it might be better to just ignore this type of warning.This PR adds the Wnounusedparameter which is turned on in DEBUG with Wextra and removed all the uses of the macro CCUNUSEDPARAM. The macro itself is kept as it might be in use by some game devs in their own code.
add issue;refer to        The text was updated successfully but these errors were encountered
reset texture parameter of CCTMXLayer after coming to foreground on android;No description provided.
Enhance egl select config;I notice that when we are using glContextAttrs in AppDelegate and when using configchooser to choose the config it will search whether it has the config if it's not exists then it will select the first config available. But in ASUS Nexus one of the many configs available is but instead the old codes chooses and it makes UIScrollView implementation in Nexus become all green and white..This changes need to be addressed further by testing it onto many devices.       The text was updated successfully but these errors were encountered
fix debug draw remains after remove the last PhysicsBody.;Split drawing process into two parts and always perform detachFromScene will solve the problem.
bugfix SimpleAudioEngine misreporting whether music is playing when pausedresumed;Issue Flag was not being changed when background music was paused or resumed on Windows       The text was updated successfully but these errors were encountered
Fix;Fix        The text was updated successfully but these errors were encountered
CGBitmapContextCreate param type error in iOS .;Fixes CGBitmapContextCreate param type error visible in iOS when running test JS projects tested w Developer Preview for iPhoneXCodeJun XXX.local YYY Error CGBitmapContextCreate unsupported parameter combination integer bitscomponent bitspixel component color space kCGImageAlphaPremultipliedLast bytesrow.Reference Image resized error CGBitmapContextCreate unsupported parameter       The text was updated successfully but these errors were encountered
Remove accum.a .;tested with jstestsOpenGL testbeforeafter
fix crash in CCAnimation.h on vs.;No description provided.        The text was updated successfully but these errors were encountered
This is a small optimization about TextReader.;No description provided.
Out of bound error fix in CCFileUtilsgetWriteablePath for BlackBerry;This cause crash for CCUserDefault test.
Fixed a type bug in CCDeprecated;Fixed a minor type bug.       The text was updated successfully but these errors were encountered
fix richText UTF;No description provided.        The text was updated successfully but these errors were encountered
fixing label being missaligned after glow effect applied bug;Due to DistanceFieldFontSize being set to during creating font atlas for label with glow effectlabel size is wrongly calculated. After applying value all effects on label seems to work fineso do the correct allignment please reffer to bug for details
Removed CCSAFEDELETE of the static CCUserDefault object in the UserDefault destructor;The existing code caused the UserDefault destructor to call itselfrecursively an infinte number of times causing stack overflow.Test case is to call the following from anywhere in your codeCCUserDefaultpurgeSharedUserDefaultOnly applies to iOS. Tested on iOS.       The text was updated successfully but these errors were encountered
add screenshot and corresponding test.;No description provided.
Branch fix cc scale sprite anchorpint bug;fix cc scale sprite anchorpint bug       The text was updated successfully but these errors were encountered
fix scalesprite flip issue;Problem description.When set ScaleSprite's setFlippedXfalse and setFlippedYfalse the scaleSprite will be flipped.When settings the scale and flip property at the same time the result would be wrong.After apply this patchIt shouldn't be flipped when set flip to false.And it also fix the the scale and flip conflict issue.
receive content data even though status code is not xx;No description provided.
Fix crash when websocket close by server side. send an error message to UI when libwebsocketclientconnect return nullptr;No description provided.
Fix ccCArray;Please see my comments on this commit for an explanation of the issue fc       The text was updated successfully but these errors were encountered
SpriteDReader and test case completed;Now the SpriteD can saved in CSB file and can be loaded frome CSB file.The test case for it is done.
link pthread to fix compiline error on ubuntu .;Please don't merge it.       The text was updated successfully but these errors were encountered
crystaxndk.. needs stdint.h to be included in cocosuiUIWebViewImplandroid.h.;No description provided.        The text was updated successfully but these errors were encountered
add project function to camera;project d space position to screen position
Fixed Propagated reverse foreign keys from proxy models to their concrete class.;No description provided.
Fixed Made simplifyregex handle named capture groups correctly;httpscode.djangoproject.comticket
Fixed Added negative timedelta support to parseduration.;No description provided.
Fixed Refactor of lazy model operations;See Trac ticket at httpscode.djangoproject.comticket.
Fixed Improved template extending algorithm.;No description provided.
Fixed squashmigrations nooptimize still optimizes;I opted to not remove it because it might become useful when the migration optimizer breaks for some reason.
Don't automatically collapse '' and None for keys.;Ticket which I forgot to send this for.Many databases treat these differently including MySQL and there arelegitimate cases where '' is a valid value in key fields. This changeupdates both the ForeignKey class and the row cache to check theconnection feature interpretsemptystringsasnulls and will collapsethese two values if that's True otherwise it will treat themdifferently.
AuthRouter docs;httpscode.djangoproject.comticketticket
Make sure to never catch SystemExit.;If a SystemExit is raised one way or another it should not be caught.In some places there are already some guards against catching SystemExit but it's good to add some more.
Speedup migration rendering;httpscode.djangoproject.comticket
Fixed fixed the assertXMLEqual behavior.;Fixed the issue that caused two identical XMLs to be treated asdifferent if one of them had some extra whitespaces in the beginingor the end of the xml string. Now it is ignoring all whitespaces as itis expected to be. The corresponding test case was added.Fix for ticket httpscode.djangoproject.comticket
Fixed GeoDjango contrib.gis does not create geometry columns in .a;httpscode.djangoproject.comticketFixed Added new method getcolumntype to BaseDatabaseCreation allowing child classes to have more logic then just string formatting a value in the datatypes dict. This was nessecary for postgis creation where the name of the column type would change from geometryPOINT to geographyPOINT given the geography flag on GeometryField e.g. PointFieldsrid geographyTrue.Updated the datatypes field in each Creation class under contribgisdbbackends to include all the Geodjango fields.Added a test and supporting classes in the contrib.gis module. This code follows the way tests are setup in the test folder under djangotestsmigrations.       The text was updated successfully but these errors were encountered
Don't cache nonContentTypes in the ContentTypeManager cache;Migrationtime virtual models were being cached which wreaks havoc with postmigration ORM queries that expect actual live ContentTypes to be passed in.In case someone stumbles across the same problemValueError Cannot assign ContentType something Something.contenttype must be a ContentType instance. can be worked around by calling ContentType.objects.cache.clear at the end of migration steps that call any of the caching ContentType manager methods.
Fixed fieldname no longer raises KeyError;fieldname was added in de to the part thatbuilds the output list but not to the part that inserts hidden fieldsto the last row when the last row doesn't end with rowender.Added the fieldname to the dict in said location.
Fixed Fixed Korean date formatting;F' translates a month to Korean name with a month number so 'F ' becomes ' ' for example for October.'F ' should be fixed to either 'F' or 'n' and I followed conventions in other languages like Japanese and Chinese.
Fixed Typo in PostGISOperators;Fixes 'strictlyabove' dictionary key typo in PostGISOperators.httpscode.djangoproject.comticket       The text was updated successfully but these errors were encountered
Fixed Added block.super to bodyclass blocks in relevant admin templates.;No description provided.
Fixed Added PointZField model field.;Add support for postgis field like location geographyPointZ or GeoRuby like t.stpoint location geographic true hasz true
Fixed Fixed default User model Meta inheritance.;Updated default User model Meta class to extend AbstractUser Metawhere translated verbosename and verbosenameplural aredefined.
Fix docstrings of MonthArchiveViews;MonthArchiveView and BaseMonthArchiveView refer to year in their docstrings instead of month.
Fixed Added GiST Index to contrib.postgres.;We can already create them on spatial fields but they are generally useful for other fields such as hstore.httpswww.postgresql.orgdocs.staticgistexamples.htmlhttpscode.djangoproject.comticket
Fixed Documented what INTERNALIPS does under the DEBUG setà;àting.
Fixed Added getorset method to dummy cache backend;httpscode.djangoproject.comticket
Fixed Conditional aggregation over subqueries;httpscode.djangoproject.comticket
Disable failed tests for issues.;Disabled following issuescc danmosemsft safern
Update CoreClr ProjectNTfs Standard to beta beta beta respectively master;Fixes httpsgithub.comdotnetcorefxissues       The text was updated successfully but these errors were encountered
Cleanup Array tests;The Array. test files were removed because their functionality wasduplicated in Array.cs or I added tests that did the same thing in abetter way in Array.This was not done to combine test files into a single class.Increases coverage to over
Move src\dirs.props properties into the root;Avoids issues where setting Configuration to anything will cause the build to fail because of checks in the Microsoft common targets.
Fix VectorToStringTest to use correct variable for assertion and to wor...;...k on non enUS culture machines       The text was updated successfully but these errors were encountered
Update core fx dependencies and remove System.Private.Xml workaround;fixes replaces FYI krwq weshaggard
Remove FormatterServices from System.Runtime contract;No description provided.        The text was updated successfully but these errors were encountered
WIP Expose string.Join APIs in System.Runtime;Description This PR exposes and adds tests for string.Join overloads accepting a char in System.Runtime.Notes I'm very hopeful that this will build but unable to test or even compile this locally because I'm consistently running into an issue httpsgithub.comdotnetcorefxissues. So I will try to inspect any errors raised by CI and hopefully fix them and then unWIP this.Fixes        The text was updated successfully but these errors were encountered
Modify NetworkInformation tests to search deeper for test files.;Helix builds for the Open tests for System.Net.NetworkInformation.FunctionalTests are failing because the testdata is being binplaced differently from in the open. The Helix build is placing the testdata into a NetworkFiles subdirectory like it is in the project structure whereas it is binplaced to the dnxcore directory when running them normally. Rather than add complicated specialcasing for Helix for this particular test project I instead modified the only place we use that testdata to check both possible places before performing the file read.CIPop MattGal joshfree davidsh
Disable CancelConnectAsyncInstanceConnectCancelsInProgressConnect test;It appears to be suffering the same random failures as its static counterpart which was disabled yesterday.       The text was updated successfully but these errors were encountered
Crosscompilation support for native code;Add support for compiling the native code via cross compilation.It uses almost the same setup as CoreCLRCoreRT.
Make fields readonly in System.IO.MemoryMappedFiles;No description provided.
Net standard.library package;Moves NETStandard.Library MS.NETCore.Targets and MS.NETCore.Platforms to corefx.Fixes httpsgithub.comdotnetcorefxissues
Port Misc InteropServices APIs;Port the following miscellenous InteropServices API ChangesMSystem.Runtime.InteropServices.COMException.ToStringMSystem.Runtime.InteropServices.CriticalHandle.CloseMSystem.Runtime.InteropServices.HandleRef.opExplicitSystem.Runtime.InteropServices.HandleRefSystem.IntPtrMSystem.Runtime.InteropServices.HandleRef.ToIntPtrSystem.Runtime.InteropServices.HandleRef
DoNotMerge Revert Update to BuildTools version;This reverts commit fdefc. seeing if the Linux builds get better       The text was updated successfully but these errors were encountered
Package baseline;This enables the package baseline to live in the repo that builds thepackages avoiding a roundtrip to buildtools every time we updatepackage versions.I've updated the baseline with the latest changes to corefx packageversions.Requires dotnetbuildtools
Update buildtools to pick up newer code coverage tools;cc weshaggard mmitche
Update BuildTools version to ..prerelease;Update BuildTools version to ..prerelease       The text was updated successfully but these errors were encountered
Update projects to netcoreapp. and netstandard.;Fixes
Updating External dependencies to rc;Update to new TFS package drop manually because the autoPR failed httpsdevdiv.visualstudio.comDevDivbuildasummarybuildId due to dotnetversions       The text was updated successfully but these errors were encountered
Use BlockExpression subclasses more widely.;BlockExpression has several subclasses that cover various numbers of subexpressions when the type is the same as the last expression and there areno variables. These are only used in one or two of the possible paths underwhich they make sense. Use them more widely.       The text was updated successfully but these errors were encountered
ZipFile Reduce string allocations;When creating entry names reuse a single char buffer across all entries to avoid intermediary char array allocations for each entry. Append the PathSeparator if necessary as part of this operation to avoid additional string concatenation allocations.
Update buildtools to;No description provided.        The text was updated successfully but these errors were encountered
Bump glimmer;No description provided.        The text was updated successfully but these errors were encountered
Ability to specify the view class used by the outlet Handlebars helper;Currently the outlet Handlebars helper always creates an OutletView Metamorph extension of ContainerView that manages the views rendered into the outlet. While this handles simple view replacement on navigation through connectOutlet class in routes for example it makes it difficult to animate between views since the outgoing view is immediately destroyed upon connecting the incoming view.This change allows the view class used by the outlet to be set. A simple use case is animating between views rendered into an outlet on a route change. E.g. sliding jQuery mobilestyle between masterdetail views. The pseudocode for a naive replacement outlet container view for this would be something likeoutlet viewClassApp.SlideContainerApp.SlideContainer Ember.ContainerView.extend currentViewWillChange Ember.beforeObserverfunction  Hold on to old view 'currentView' currentViewDidChange Ember.observerfunction  Append new current view to container Slide all views in container to the left When animation is complete destroy old view 'currentView'PR addressed a similar issue but in curgtt's case the problem could be easily solved by specifying tagName and other general view properties in the outlet helper call since it's an extension of the view helper. The problem being addressed here involves the need for custom view lifecycle handling code that requires replacing not adding bindings to a hardcoded OutletView class.PR appears to be somewhat of a duplicate of . wycats' proposed solution does allow a custom class to be used but no longer is a sufficient replacement for the role of an outlet since the base view helper does not find and set the outletSource property of the parent view.
Glimmer port input helper tests;Part of UPDATE This is ready for reviewTODO port main tests port remaining two tests refactor to remove boilerplate build there are some tests failing in saucelabs possible due to a bug with input on firefox annotatedeleted moved tests comment on commented out null tests comment here
Support jQuery versions . and .;The .. and .. release of jQuery have been tagged a couple of hours ago.The regex for checking jQuery versions for Ember Views didn't pass for ..x or ..x
CLEANUP beta Removed deprecated currentWhen of LinkComponent;Use currentwhen instead
PreGlimmer Remove references to HTMLBars and keywords;Remove all references to HTMLBars and keywords in test file that covers Ember's test helpers.Q Should I also remove all references to View Or is okay to do that as part of unskipping tests for Glimmer
Change ember click patch assertion to a warning;This is a sortof fix for . The assertion has been changed into a warning so that application tests can continue to work on Firefox.       The text was updated successfully but these errors were encountered
BUGFIX beta Increase precedence of route.controllerName;Currently a controller specified for a route via the controllerNameproperty is considered too late when the controller for the route isdetermined when a controller with the routeName already exists forexample it has been used elsewhere in the app before then it is usedregardless of controllerName being present on the route.This fix moves the check for a specified controllerName before theroutenamecontrollerlookup.       The text was updated successfully but these errors were encountered
fallback for browsers that don't support domElement.outerHTML;If you look at the element.outerHTML page below outer.outerHTML is available in most browsers just not Firefox versions . Even old IE has it.Also let me know if I can improve the test. I tried deleting the outerHTML property from the element but that raised an exception. I tried also stubbing XMLSerializer by redefining it on window which also threw an exception.I know that the string I provide in the test is not really a DOM element but I'm stuck on how to stub this out in a better way. Happy for suggestions.Resourceshttpstackoverflow.comquestionshowdoidoouterhtmlinfirefoxhttpsdeveloper.mozilla.orgenUSdocsXMLSerializerhttpsdeveloper.mozilla.orgenUSdocsDOMelement.outerHTMLEDIT httpjsfiddle.netRCLd This is the updated version of emberhandlebars from the original issue that I tested in Firefox .fixes
Call preventDefault and stopPropagation on events handled through action;The idea is that we'd like to be able to use arbitrary view methods asaction handlers. As it is they need to return false or calle.preventDefault e.stopPropagation to be usable as handlers.For the presumably few cases where propagation or default handling isdesired we can still register our own handlersdelegates with jQueryor use event handling on views or with eventManagers which does nothave automatic preventDefaultstopPropagation.I realize this change potentially breaks compatibility so I'm targeting it at master not stable.What do you guys thinkAlso can someone with a larger Ember app please test this and report back whether it breaks thingsCc ebryn who introduced the test I'm changing.IRC discussionpm joliss I'm bothered by the fact that all of my action handlers have to call e.preventDefault e.stopPropagation. It means I can't just call arbitrary methods on my views as actions. Is there anything that's fundamentally stopping us from changing it to do this automaticallypm michaellatta joliss returning false from click events seems to be sufficient in the experimenting I have done to date.pm joliss michaellatta Right unless they throw an exception though. And it's still the same problem with fewer characters.pm joliss Hm there used to be an automatic stopProgagation but dmarcotte changed it in ed. I'm not sure why. Note This actually seems to be a different one relating to event methods like doubleClick not action handlers.pm knassar joliss i am a bit bothered by the same thingpm peterwagenet joliss automatic stop propagation wasn't well implementedpm knassar seems like the case is that you don't want the events to propagateàpm peterwagenet if anyone has a solution for normalizing that seems finepm joliss peterwagenet Can you elaborate what the issue waspm peterwagenet inconsistentpm joliss Looking at the diff I'm just thinking preventDefault should be called as well and it should be called before calling the handler.pm joliss Hm you mean there were cases other events where it didn't stop propagationpm endash man there are certainly states where I'd like to ensure the end of propogation.pm joliss peterwagenet ping before I submit a pull request do you happen to remember what the issue with stopping event propagation waspm peterwagenet we weren't doing it across the boardpm peterwagenet so it only worked some placespm peterwagenet and not others       The text was updated successfully but these errors were encountered
BUGFIX Changing eager routing on linkto without href;When eager routing occurs on a linkto with a tagNamespecified the router attemps to find an href attributeand fails.
BUGFIX beta Align Em.isArray behavior with Array.isArray for FileList type;FileList type is currently detected as array however it doesn't provide it's methods like forEach or map.Also Array.isArray doesn't consider FileType as an array.This PR unifies this behavior and fixes .       The text was updated successfully but these errors were encountered
WIP Deprecate render and outlet orphaning;Want to get the ball rolling on so it's not forgotten.
Doc;Make ArrayController show up in JsDocFix router docsserialize not deserialize is called with the context object whentransitioning between states from within the application.       The text was updated successfully but these errors were encountered
Add underscore and camelize to String.prototype.;I thought that these methods mix automatically to String.prototype because tests passes with thisif Ember.EXTENDPROTOTYPES  same'innerHTML'.underscore 'innerhtml'But that code is never called.Q How to run tests with extended prototypesThanks.
FEATURE emberruntimesortablesortorder Sort order per proeprty in Sortable mixin;This is a non breaking change that would allow one to specify a different sort order per property in sortProperties array.Let's say you have an array of users each of who has a weight. Weight can be the same for users so then one would want the order to use the names and logically the user with the most weight should be on the top of the list. With this feature it's possible now by adding a desc at the end of the property which needs to be inverted before being included in the sort ordersortProperties 'weightdesc' 'name'Basically the Sortable mixin has the same behaviour as before related to sortProperties and sortAscending except that now you can append one or more property names in sortProperties array with a desc so that for that propertyies the order function will work the other way around.
DOC Update license year;No description provided.        The text was updated successfully but these errors were encountered
DOC Add missing link to handlebars.helpers.input in Ember.Checkbox.;No description provided.        The text was updated successfully but these errors were encountered
Allow multiple calls to App.Router.map;I've found a need to be able to add new routes at runtime one of my apps allows plugins. Upon looking through docs and API I couldn't find a way to do this so I went to source and still didn't find anything.Attached is code that allows you to call App.Router.map multiple times without overwriting the previous behavior.I've written two tests for it because the change is minor. I'm happy to write additional tests or receive guidance from the team.
Ensure top level destroys DOM;Prior to this change the render nodes are cleared replaced with but not removed from the DOMcc krisselden
BUGFIX release Allow currentwhen to be specified via a variable;Per guidance from stefanpenner this fixes the issue where we are not able to set currentwhen to a variable property in ..Fixes
Adds warning for nested key passed to mapBy;When a nested dependent key is passed to a mapBy e.g.computed.mapBy'todos' 'owner.name' it will nowwarn the user that nested dependent keys aren't supported.       The text was updated successfully but these errors were encountered
Create CODEOFCONDUCT.md;Thank you so much for this tweet httpstwitter.comtrekstatusIt would be great to formalize your support with the inclusion of CoralineAda's code of conduct.Thanks for your consideration.
Ember.SortableMixin Add support of custom sortFunction;The default sorting algorithm used in the Routable mixin based on Ember.compare was not satisfying in our case.For example we want 'a' to appear before 'B' in ascending ordernew clean PR I closed
LocationApi Added notes about how to extend;Put some notes about how ember scans applocations and an example of how to extend to make a custom location.
GLIMMER Fix emberglimmer iterators when handling dupes in each;The purpose of this PR is to fix array iteration via each in Glimmer when the iteratee contains duplicate items. The following tests from emberglimmertestsintegrationsyntaxeachtest.js are now passing for Glimmerit can render duplicate primitive itemsit can render duplicate objectsKey changesThe order that we check objects for arraylikeness changed such that we look for Emberish arrays before plain JS arrays. Emberish arrays seemed to be falling into the plain JS array check which seems wrong.ArrayIterator and EmberArrayIterator now keep track of the keys they've seen and when a duplicate key is seen it creates a composite key using a GUID of the array as a separator.
FEATURE emberviewsbindableattributes;Any properties listed in bindableAttributes that exist on theat the time of the first render will be bound and observed.However any properties that do not exist will not have observerssetup.The main difference here from attributeBindings is the fact that theobservers are only setup when needed.The Ember.BindableAttributesMixin is mixed into Ember.TextSupport bydefault and all HTML attributes for input type'text' and textarea.Credit for the idea goes to lukemelia. Any errorsmistakes in implementation are my own.
DOC beta Add API docs for the component lifecycle hooks.;These hooks were originally described here httpemberjs.comblogemberreleased.htmltoccomponentlifecyclehooks
Update State.transitionTo transition generator to allow multiple contexts;Right now if you do action someAction context context the generated transition only passes the first context.I think I covered every weird contextcontexts edge case. I'm pretty sure the jQuery event always has a contexts property which would clean this up quite a bit but I wanted someone else to chime in.Could use a hint on how to write a test that involves presence of Event. I can't seem to fake the typeof Event if no matter how many things I tried.       The text was updated successfully but these errors were encountered
BUGFIX release Remove jQuery version assertion.;No description provided.
action will target a template's controller;If a function whose name matches an an action is implemented ona template's controller that method will be called instead ofdelegating the action to the application's current state.Not sure why a check of hasOwnProperty was used butit prevented this new behavior from occurring.tomdale and I discussed this briefly last night.
Fix render helper with model when used multiple times;No description provided.
Add emberhttp package;No description provided.        The text was updated successfully but these errors were encountered
DOC Use as |obj| syntax for each examples;The parameters still needs some work though as well as the helper itself since it says that it requires the each item in list form.
Allow Route to render a View correctly when the View's Template is explicitly set.;If template is explicitly set on an Ember.View I would expect the view to render with that template as it would normally. However a template explicitly set on an Ember.View that is obtained from the container in Ember.Route.render is ignored and the container is asked to provide the corresponding template. For view's that have simple one line templates i.e. template Em.Handlebars.compile'My name is name' it is desirable from my perspective at least that one should still be able to specify a template directly on a view and not be forced to use defaultTemplate or a separate file along with templateName.       The text was updated successfully but these errors were encountered
Decouple embertestinghelperstest from default resolver;       The text was updated successfully but these errors were encountered
Document Ember.Route controllerName and viewName properties;In reference to .
Glimmer Implement mut and readonly helpers;Also implement support for the INVOKE symbol in closure actions.This also enables partial reference pooling on components û when doing rending a foo in the foobar layout it first checks if foo is an arg passed from the outside foobar foo... and if so it tries to reuse the same reference instead of making a newone. This should reduce the total number of references created and also reduce the number of value computation as the same reference can be reused across multiple curlies.This also allows Glimmer to better optimize things û for example if the component is invoked with literals foobar footrue and foo is then used in a conditional in its layout if foo... Glimmer will be now able to see that foo is a const reference and optimize out the updating step. This works recursively as well û if foobar then passes the same property down barbaz barfoo we now propagate the same reference all the way down.Thanks Joelkang for doing most of the work on this one in Closes
Better error message for calling set on a destroyed object.;cf httpdiscuss.emberjs.comtcouldcallingsetondestroyedobjecterrorbemoredescriptive
Component sendAction code sample;I think that the API evolved and the code sample wasn't adapted right sendAction is just a simpler version for triggerAction. But it can't be triggerAction because that one takes a hash as input. Correct me if I'm wrong.
Fixes leading slash being added to componenttest module name;Fixes leading slash being added to componenttest module name when not generated alongside a component.embercliembercliembercliembercli       The text was updated successfully but these errors were encountered
Revert withtests;Reverts        The text was updated successfully but these errors were encountered
Prevent race condition in Router;This defends against deleting the wrong view from the Router's activeViews when we have a newer view with the same template name. It closes .       The text was updated successfully but these errors were encountered
Build test and install embedding example.;Addresses . Should catch basic regressions in the embedding example.
Add promotion rules for Nullable;These are consistent with convert.Cc johnmyleswhite
IO fixes;just going back through old IO issues and trying to close a few
fix imII should be shown as imI;No description provided.
RFC Make Tuple types with defined lengths iterable;More abstract tuple types like Tuple or NTuple without parameters and vararg tuples remain without any iteration methods defined.This is something I'd really like to see but I understand that it may be contentious. For the most part this is fairly straightforward but I did discover one minor confusion stemming from a definition for eltype for NTuples of all the same type. Since eltype works in the type domain there is no way to tell whether eltypeNTTypeNTupleNT should be T or TypeT. I have removed these definitions. This broke one unrelated test since collect is now Any and indexing with an Any array isn't implemented.
Move markdown types into their own file.;cc onemoreminute I know we discussed this but after hacking on some other bits it seems clearer that this is a significant improvement in terms of clearer code simplicity.... Also I realised that after doing this as a proof of concept it's is going to be difficult to rebase and I don't really want to do it again... so selfishly wanted to punt it as a PR. All this does is reorder methods so that the rendering utils are available when markdown types are defined e.g. group all the methods related to Code together.This also adds in a couple of missing methods which I spotted were missing once in individual files.Edit I don't think the linux travis failure is me
WIP Improve accuracy of for illconditioned matrices;Add the algorithm for At from Higham and Lin . See .I split the old version of logm into several functions to reuse some of the code.
RFC Give AbstractArrays smart and performant indexing behaviors for free;This is still a work in progress but I'd like to get some feedback on the architecture and design here before applying this same sort of scheme to setindex.The basic idea is that the only getindex method defined in base for abstract arrays is getindexAbstractArray I.... And the only methods that an AbstractArray subtype must define are size and just one getindex methodgetindexT Int if linearindexingT LinearFastgetindexT Int Int ...ndimsA indices... if LinearSlowUnfortunately it is currently impossible to express the latter method for arbitrary dimensionalities but in practice it's not a big issue most LinearSlow arrays have a fixed dimension.This is achieved through dispatch on an internal getindex method which recomputes the indices such that it can call the canonical getindex method that the user must define. If the user has not defined their canonical method it will fall back to an error method in getindex. I use similar scheme for unsafegetindex with the exception that we can fallback to the safe version if the subtype hasn't defined the canonical unsafe method. This enables fast vector indexing by checking bounds of the index vectors instead of on each element. And once inbounds is extensible AbstractArrays will be able to support it by default.The difficulty with all this redirection is that an extra function call can wreck indexing performance and it can be hard to avoid. I've had particular difficulty getting good performance with CartesianIndexes and I still lag in performance there by x for big arrays. I think call site inline annotations would be a magic bullet but there may be other tricks we can use too. I've not looked into this very carefully yet though. Fixed with a more sensible inlining strategyTLDRIn my cursory performance tests hacked onto Tim's indexing perf suite from his reshape work more tests are needed I'm close to matching or outperforming master with Array with only these definitionsjulia methodsgetindex Array Any...element ArrayAny getindexAArrayTNiInt at array.jl getindexTRealAArrayTNIRangeTReal at array.jl Needed for bootstrap getindexAAbstractArrayTNI... at abstractarray.jlOf course in places where we're not quite able to close the gap we can always reinstate the specialized methods. This is just a very useful stresstest of both functionality and performance.cc timholy
make countfitr count the number of nonzero countnzitr countitr;Closes .
fix embedding docs of jlatexithook;It seems that this now takes a return value parameter.
Fix embedding example simplify Makefile and test it;get rid of makefile cruftbuild inplace instead of putting in usrbinuse juliaconfig for flags as documented in manualrelated
Improve apropos searching of markdown;Search the entire plaintext markdown wholistically instead of searching each markdown element independently. Before docsearchmdfoo bar rfoo.bar would return false it now properly returns true.This does have significant overhead it is about x slower than the current implementation but it still searches the entire standard library on my wimpy laptop in less than . seconds after compilation. This does get slightly worse as more packages are imported but I am not aware of any packages that even come close to defining as many docstrings as there are in the standard library.As a bonus the implementation is much simpler too.       The text was updated successfully but these errors were encountered
Include deferredalloc in total allocation count;This was caused by which should have been obvious since the issue was reported days after the PR was merged.....Fix        The text was updated successfully but these errors were encountered
Key and value iterators show their contents on the REPL;simonster suggested this idea. Since showing a key iterator on the REPL is currently dumping the whole dictionary using the most generic show routine it seems we might as well show just the dictionary keys. A frequent complaint about Python is that it
fix the read and write methods of DevNull;This patch fixes the IOrelated behaviors of DevNull.In the current revision writeDevNull x is not callablevjulia master|à juliadev  | A fresh approach to technical computing | | Documentation httpdocs.julialang.org | | | Type help for help. | | | | | | | | | | | || | | | | | | Version ..dev UTC |\'|||\'| | Commit dcad days old master| | xappledarwin..julia writeDevNull xERROR Base.DevNullStream does not support byte IO inlined code from error.jl in write at io.jlAnd readDevNull UInt throws an incorrect exception due to a typo EOFErorr.So I fixed these problems and added tests in testio.jl which is a newly created file for these tests since I couldn't find a suitable place to put them.       The text was updated successfully but these errors were encountered
Fix type inference problem for eigSymTridiagonal;by changing the catch all kwargs... argument in eigStridedMatrix to specific keywords and by addinga fallback eig method without keywords.Also changing the formatting of the eig methods for SymTridiagonal to makethem easier to read.       The text was updated successfully but these errors were encountered
WIP datesio coverage;Test show representation of DateDateTime.Refshttpscoveralls.iobuildssourcefilenamebaseFdatesFio.jlLhttpscoveralls.iobuildssourcefilenamebaseFdatesFio.jlLav skip
Added ConjArray wrapper type for conjugate array views;By default this is used only in conjugation with RowVector so that both transposevec and ctransposevec both return views.However this will pave the way for views for transposed matrices and replacement of AcmulB etc by specialized methods on simplifying parsing.
Don't bail out on test errors by default;I don't always run testsBut when I do I ignore the failures.Seriously though when I run all tests locally it is because I want to know the status of all of them for individual investigation later e.g. . Tests are slow in general really slow on Windows and painfully slow with MCJIT on Windows. Stopping the run due to a possibly random failure in the middle of the list is unhelpful because it only tells me about one test failure at a time. I usually go away when running tests because my core gets really sluggish.This PR makes the test suite continue through errors by default and adds a check for the environment variable JLTESTFAILURESTOP for use on the CI systems.
Fix typo in variablesandscoping.rst;Fixed to in output of soft local scope example.
WIP Add methods optional RNG argument to randrng Array... and r...;...andrng Array... that create arraysFor some reason dsfmtfillarray with state is not deterministic in my tests right now       The text was updated successfully but these errors were encountered
remove unnecessary doc string macros resync documentation;No description provided.
WIP Clean up arraylistt handling ci skipav skip;This compiles cleanly but it crashes and I haven't had time to look into it yet but I thought it might give people an idea of just what I was saying about changing the code to not depend ever on sticking integers into pointer values at least for right now for things using arraylistt.My digging into this has also exposed some things I'd like to ask about where it looks like there is potential for memory leaks...
helpdb.jl Turn into explicit code blocks;Avoids Sphinx getting upset or incorrectly parsing blocksNote There are still blocks in the manual using that are preceded with comments.. Docstring generated from Julia sourceAre these autogenerated somewhere I couldn't find a script that extracted these blocks. onemoreminute       The text was updated successfully but these errors were encountered
NTuples made me sad so I nixed them;This rabbit hole turned out to be a giant dungeon instead and I haven't yet found the exit. I think I'm very close but I've spent far too much time on this and I'm beginning to run out of ideas and energy. but yay I found the exit.This is the latest attempt at NTupleNT TupleVarargTN aka . Julia builds and passes many all tests but borks on some e.g. subarray. The current problem seems to be that a VarStateTupleVarargTNfalse gets injected somewhere leading ultimately to an attempted TupleVararg ASCIIString and Vararg type in nonfinal position error. It's probably a line fix but I have not yet succeeded in finding the correct lines inference.jl is difficult for notJeff to hack on.This still containsThe intermediate commits contain a lot of debugging code that will eventually be was deleted in the later commits. In the end the way I got this farto work was to write new versions of jlintersecttype jlsubtypele typemorespecific and typematch which called the old algorithm and stored the result then translated NTuples onthefly and then called the new algorithm with the translated arguments and printed some output if the two disagreed. This branch is partway through the deletion of all that debugging code before completing the migration I'd love to figure out where the problem is.It turns out that we have enough differences in how NTuples and TupleVarargs behave that some disagreements are unavoidable one of the best things about this presumably is that such differences will go away. I even went to the trouble to catalog the differences in the best column I use N to indicate that I think the new algorithm yields the most sensible result and O to indicate the old algorithm. Only two of those four algorithms had differences of which representative examples arejlintersecttypenone as measured by a b b ajlsubtypeleabtainvariantold resultnew resultbestTupleTupleNTupleVarargTAny NAnyTupleVarargTAny NAnyNTupleNTupleAny TAnyOsameTupleTupleTupleAny AnyTupleTupleTupleAny AnyNTupleVarargInt NAnyTupleVarargTAny AnyNTupleSymbol IntegerTupleVarargTAny NAnyTupleChar CharTupleVarargTAny NAnyNTupleTypeTupleInt IntTupleTypeTupleInt VarargInt NAnyNTupleTypeTupleChar TupleVarargAny NAnyTupleTypeTupleVarargTAny NAny TupleNTupleTupleTupleVarargAny NAny IntTupleTupleTupleVarargAny NAny IntNTupleTupleSymbol VarargSymbol NAny DataType TypeTAnyTupleVarargTAny NAnyNTupleSymbol VarargSymbol NAnyTupleNTupleDataType TypeTupleVarargTAny NAnyNTupleTupleSymbol VarargSymbol NAny DataType TypeTAnyTupleTupleVarargAny NAny DataType VarargAny NAnyNTupleTypeTupleTypeBase.IteratorsMD.CartesianIndex TupleInt Int Int UIntTupleTypeTupleTypeBase.IteratorsMD.CartesianIndex TupleVarargInt NAny UIntNjltypemorespecificnonetypematchchildparentmorespecificinvariantold resultnew resultbestNTupleNAny IntNTupleNAny IntegerNTuplePtrTAny NTupleNAny IntTuplePtrTAny NTupleNAny IntegerNNote that in only one case doesthere are no cases where the result in current master seems to make more sense to me than the version here. I think there's some chance that once working this will fix some ambiguity and similar problems.
Bump to openlibm v. and openspecfun v.;Bump openlibm and openspecfun versions. This is primarily to run all the tests in CI and upstream versions will be tagged if everything passes. This PR will then be updated to then use the released upstream versions.       The text was updated successfully but these errors were encountered
use sigwait for threadsafe and multithreadaware signal handling;this is a redesign of the unix signal handling so that it will be more threadsafe and extensible.yyc Close
maybe fix juliadebug on windows;... by loading sys.dll but ignoring the code in it. cc tkelmanI haven't tried this yet on windows.
BUG CategoricalBlock shift GH;Should resolve .CategoricalBlocks always seem to have ndim even if multiplecategoricals are in a frame with the same categories. This simplifiesthe axis shift logic somewhat.Note that dataframe shift with axis still doesn't work with multiplecategorical columns since they are each a different block.
BUG isnull doesnt handle PeriodNaT properly;Related to isnull and notnull is required to be changed.
Changed uin to uint in response to issue;closes
PERF releasing the GIL;closes closes This is now implemented for all groupbys with the factorization part as well which is actually a big part fo the timeIn N In ngroups In np.random.seedIn df DataFrame'key' np.random.randintngroupssizeN ... 'data' np.random.randnN def f df.groupby'key''data'.sum run consecutivilydef g for i in range fdef g for i in range fdef g for i in range f run in paralleltestparallelnumthreadsdef pg ftestparallelnumthreadsdef pg ftestparallelnumthreadsdef pg fSo seeing a nice curve as far as addtl cores are used as compared to some of my previous posts.In dfOut  after before speedup . . . . . . . . .
BUG Fix subtraction with timezone Series;Addresses issue in with timezone Series subtraction in which single element Seriesobjects containing tzaware objects would return a timedelta of zero even though it visually could not be the case.The bug was traced to the conversion of the contained timezones to UTC in which the method call was somehow returning NaT even though attempts to replicate that behaviour were unsuccessful. This newmethod call fixes the issue and is in some ways more intuitive given the comment above the conversions.
Timestamp replace compatibility;x closes  tests added passed passes git diff upstreammaster | flake diff whatsnew entry
BUG fix for index name lost and also added the corresponding test in testindex.py;closes issue
ENHBUGDOC allow propogation and coexistance of numeric dtypes;Support for numeric dtype propogation and coexistance in DataFrames. Prior to .. numeric dtypes passed to DataFrames were always casted to int or float. Now if a dtype is passed either directly via the dtype keyword a passed ndarray or a passed Series then it will be preserved in DataFrame operations. Furthermore different numeric dtypes will NOT be combined. The following example will give you a taste. This closes GH other changes introduced in this PR i removed all datetime like issues to PR should be merged firstENHvalidated getnumericdata returns correct dtypesadded blocks attribute and asblocks method that returns adict of dtype homogeneous dtyped DataFrame analagous to values attributeadded keyword 'raiseonerror' to astype which can be set to false to exluded nonnumeric columnschanged getdtypecounts to use blocks attributechanged convertobjects to use the internals method convert which is block operatedadded option to convertnumericFalse to convertobjects to force numeric conversion or set to np.nan turned off by defaultadded option to convertdates'coerce' to convertobjects to force datetimelike conversions or set to NaT for invalid values turned off by default returns datetimens dtypegroupby operations to respect dtype inputs wherever possible even if intermediate casting is required obviously if the input are ints and nans are resulting this is castedall cython functions are implementedauto generation of most groupby functions by type is now in generatedcode.pye.g. groupaddgroupmeanadded full floatintint support for all numeric operations including diff backfill pad takeadded dtype display to show on Series as a defaultBUGfixed up tests from fromrecords to use record arrays directlyNOTE using tuples will remove dtype info from the input stream using a record array is ok thoughfixed merging to correctly merge on multiple dtypes with blocks e.g. float and float in other merger can be fixed but is dependent on fixed bug in padbackfill with len framefixed very obscure bug in DataFrame.fromrecords with dictionary and columns passed and hash randomization is oninteger upcasts will now happend on where when using inplace ops TSTtests added for merging changes astype convertfixes for testexcel on bitfixed testresamplemedianbugseparated out testfromrecordsdictlikeadded tests for GH added lots of tests forwhereDOCadded DataTypes section in Data Structres introwhatsnew examplesIt would be really helpful if some users could give this a test run before merging. I have put in test cases for numeric operations combining with DataFrame and Series but I am sure there are some corner cases that were missedIn df DataFramerandn columns 'A' dtype 'float'In dfOut  A . . . . . . . .In df.dtypesOut A floatIn df DataFramedict A Seriesrandndtype'float'  B Seriesrandn  C Seriesrandndtype'uint' In dfOut  A B C . .  . .  . .  . .  . .  . .  . .  . . In df.dtypesOut A floatB floatC uintIn here you get some upcastingIn df df.reindexlikedf.fillnavalue. dfIn dfOut  A B C . .  . .  . .  . .  . .  . .  . .  . . In df.dtypesOut A floatB floatC floatthe example from In a np.arraynp.random.randint sizeedtype'int'In b np.arraynp.random.randint sizeedtype'int'In df pandas.DataFramedicta a b bIn df.dtypesOut a intb intConversion examples conversion of dtypesIn df.astype'float'.dtypesOut A floatB floatC float mixed type conversionsIn df'D' '.'In df'E' ''In df.convertobjectsconvertnumericTrue.dtypesOut A floatB floatC floatD floatE int same but specific dtype conversionIn df'D' df'D'.astype'float'In df'E' df'E'.astype'int'In df.dtypesOut A floatB floatC floatD floatE int forcing date coercionIn s Seriesdatetime 'foo' .  .... Timestamp'' ''dtype'O' ....In s.convertobjectsconvertdates'coerce'Out   NaT NaT NaT  Dtype datetimens       The text was updated successfully but these errors were encountered
BUG GH where nulls contributed to normalized valuecounts;closes  tests added passed passes git diff upstreammaster | flake diff whatsnew entry
BUG The 'jobComplete' key may be present but False in the BigQuery query results;xref Fixes an issue when looking for 'totalRows' on a large dataset that is not finished in between two subsequent checks.
BUG need better inference for path in Series construction GH;closes .
ENH Keep original stack when exception happened in dataframe.apply;when using raise e the error stack app user received will begin in applystandard method.Use raise instead so that user could received error stack in funvv call. Easier for user to debug.
BUG Issue in the gbq module when authenticating on remote servers;Resolve issue where gbq authentication on remote servers fails silently.
BUG googleapipythonclient minimum version check;Fixes bug with version check for googleapipythonclient
Modest performance address;closes closes closes closes Major performance improvements through use of Cython
BUG incorrectly defined Memoridal Day holiday;closes Memorial Day was incorrectly defined.It is the last Monday in May so the earliest it could be is the th not the th.This change fixes the problem. from pandas.tseries.holiday import AbstractHolidayCalendar USMemorialDay class MemorialDayCalendarAbstractHolidayCalendarrulesUSMemorialDay MemorialDayCalendar.holidays''''Will now return Timestamp' ' instead of Timestamp' '
Fix Improve toclipboard for objects containing unicode;Superceded by  closes  tests added passed passes git diff upstreammaster | flake diff whatsnew entryI added the whatsnew entry to ...
BUG unstack fails for mixed dtype subset;closes        The text was updated successfully but these errors were encountered
DOC reorg whatsnew file v..;No real edits just some rearranging.I added an automatic 'contents' in the beginning so this gives all headers automatically and in this way restricted the list in the beginning to just the highlights then it can be copied exactly like this to the release notes in release.rst
Skip tests on network error;No description provided.
Show Index Headers on DataFrames with Style;Partial solution for Conditional HTML styling hides MultiIndex structure and Followup to Conditional HTML Styling.The Style API is inconsistent with DataFrame.tohtml when printing index names. Currently the style API doesn't print any index names but tohtml and the standard notebook repr functions do.This PR adds a row for index headings in the Styler.translate method. This PR does not cause multiindex rownames to span multiple rows but I can work on adding that if people want.Reproducing Outputimport pandas as pdimport numpy as npnp.random.seeddf pd.DataFrame'A' np.linspace df pd.concatdf pd.DataFramenp.random.randn  columnslist'BCDE' axisdf.setindex'A' 'B'.styleCurrent Output Patched Output TODO X Add Tests
add traintestsplit function to DataFrame;Use random sample to split a DataFrame to train set and test set which ready for cross validation.
COMPAT DataFrame construction compat with xarray.Dataset;closes        The text was updated successfully but these errors were encountered
ENH readexcel MultiIndex;closes xref Output of toexcel should now be fully roundtrippable with readexcel with theright combination of indexcol and header.To make the semantics match readcsv an index column name hasindexnamesTrue isalways assumed if something is passed to indexcol this should be nonbreakingif there are no names it will be just filled to None as before.In df pd.DataFrame ... columns pd.MultiIndex.fromproduct'foo''bar''a''b'... names 'col' 'col'... index pd.MultiIndex.fromproduct'j' 'l' 'k'... names 'i' 'i'In dfOut col foo bar col a b a bi i j l  k In df.toexcel'test.xlsx'In df pd.readexcel'test.xlsx' header indexcolIn dfOut col foo bar col a b a bi i j l  k
WIP Refactoring SQL code into perflavor classes.;Still don't have down the code to dispatch appropriately though I'm noteven clear why the existing code has individual flavors given that itappears to only accept SQLAlchemy objects anyways. Also would behelpful to cover additional cases where we get connections and want toconvert to cursors.
Use correct random choice function in code snippet;A hidden code snippet uses tm.choice when it should use np.random.choice
DOC Update computation.rst;A wider span means a smaller alpha which means each xt has less impact on the ewma.       The text was updated successfully but these errors were encountered
BUG Fix Empty DataFrame.style.render raises IndexError;Fix attempt for Issue Handles DataFrames and Series with no rows or columnsusing pd.DataFrame.empty or pd.Series.emptyIn import pandas as pdIn pd.DataFrame.style.renderOut '\n style typetextcss \n \n \n style\n\n table idTdebeceeabbafbb None\n \n\n thead\n \n thead\n tbody\n \n tbody\n table\n ' closes  tests added passed passes git diff upstreammaster nameonly '.py' | flake diff whatsnew entry
ENHBUG color cannot be applied to line subplots;Specifying subplotsTrue in line and kde plot draws all lines in black and may not accept colors and styles keyword. Summarized a table to compare current expected fixed behaviour.Sample datadf pd.DataFramenp.random.randn CommandCurrent BehaviorExpected Behaviordf.plotsubplotsTrueAll lines are in black OK lines are in default color cycle.df.plotstyle'r' subplotsTrueAll lines are in red OKNo changedf.plotcolor'r' subplotsTrueAll lines are in red OKNo changedf.plotcolor'red' subplotsTrueAll lines are in red OK thanks to No changedf.plotcolor'r' 'g' 'b' subplotsTrueValueError torgba Invalid rgba arg 'r' 'g' 'b' NG lines are drawn in red green bluedf.plotstyle'r' 'g' 'b' subplotsTrue lines are drawn in red green blue OKNo change
ENH GH Add option infoverbose;This adds a infoverbose to the options. There's a small section in faq and basic introduction. Entry in v. is still missing.Closes
Custom column formatters for HTML in IPython e.g. can show np Darray as image;I've created a gist to explain in more detail and with a screenshot.
add support for microsecond periods GH;Continues Alrighty. This should be fine. There may be a few formatting changes that I rolled back through the git diff apply patch but all notskipped tests pass so I figured it wasn't a big deal. Here's what I did to fix the problem which was continually merging with upstreamfunction getmycommits  local curdirpwd cd  n adds a newline in addition to the file name sed removes blank lines here sort u sorts and removes duplicates lines git log nameonly prettyn authorPhillip eeff..master | sort u | sed 'd' oldpandaspathtoevilpandasmergeofdeathnewpandasshinynewcheckoutofpandasgetmycommits oldpandas | while read file do some boolean tests to filter out setup.py and missing files between versions diff pu oldpandasfile newpandasfile | patch p newpandasfiledoneNeedless to say I won't be doing any more merging of upstream into my branch. Thanks to those who helped me out here.
BUG Fixed plot label shows as None.;Fixes
BUG pivottable always returns a DataFrame;closes  tests added passed passes git diff upstreammaster | flake diff whatsnew entryBefore this commit ifvalues is not list likecolumns is Noneaggfunc is not instance of listpivottable returns a Series.This commit adds checking for columns.nlevels isgreater than to prevent from casting table toa Series.This will fix .
BUGCITST fix format strings;Also test against an unsupported version of openpyxl ..closes
Configurability of unicodeconsole encoding;checks whether there are nonascii characters and tries to convert them if possibleallows encoding to be set in setprintoptions default UTF       The text was updated successfully but these errors were encountered
BUG Bug in DataFrame.reindexlabelslevel with with reordered labels GH;closes
BUG Matched Round Signature with NumPy's;Closes by reaccepting the out parameter as a kwargs argument. Also removes the out parameter from the signature for DataFrame.round and replaces it with kwargs like its Series counterpart. Furthermore since out is a parameter that is not supported in pandas checks that out is None and throws an error if it isn't.
BUG query modifies the frame when you compare with;Fix for . The simplest way to fix this involved adding an assignmentallowedTrue arg to the internal eval function. All existing behaviour should be preserved. If adding the arg isn't okay I'm not quite sure how else to do it as it's only once we reach the internal eval function that the expression is actually parsed and we know that it includes the assignment.It also seems like a pretty bad side effect if query can silently overwrite values obviously only if you accidentally include an assignment so hopefully that's a good argument in favour of having theassignmentallowed arg.
Fix a lint error;No description provided.
Create section on using React with package managers.;Our getting started experience is pretty rough. A user comes to our site wanting to learn about React and we start telling them about es npm babel webpack gulp and a whole ton of other infrastructurerelated stuff. This is all super important and does belong in our documentation but it's a bit much for a new user who just wants to get a Hello World example working.This is the first step toward solving . It gives us a page where we can talk about configuring esnpmbabelwebpackgulpbower with React. We can freely add stuff to this page without worrying about complicating our gettingstartedwithReact experience.cc zpao
Update tutorial.md;Before submitting a pull request please make sure the following is done...Fork the repo and create your branch from master.If you've added code that should be tested add testsIf you've changed APIs update the documentation.Ensure the test suite passes npm test.Make sure your code lints npm run lint we've done our best to make sure these rules match our internal linting guidelines.If you haven't already complete the CLA.fix unknown Unexpected token in codepen.io.
Add missing index for array in tutorial;Hello I was reading and following steps in the tutorial. I realised the example missed an key property otherwise I got this error in the consoleWarning Each child in an array or iterator should have a unique key prop. Check the render method of CommentList. See httpsfb.mereactwarningkeys for more information.       The text was updated successfully but these errors were encountered
add capture property;see
Bump Commoner version to fix EMFILE errors;Finally found a more robust solution for the too many open filesproblem benjamncommoneradba.Closes .Closes .cc zpao jeffreylin       The text was updated successfully but these errors were encountered
Fixes bug where animation has not finished before component remà;àoved from DOM       The text was updated successfully but these errors were encountered
docs Better clarification on passing callbacks to children;Improvement to since it's stale.       The text was updated successfully but these errors were encountered
Don't skip reconcilation if context differs;This adds a reconciliation bailout condition asserting that context has not changed which fixes the other half of ryanflorence's discovery in .For those following along the first half of this bug was fixed in . The assertion that there may be a bug in the reconciler turned out to be due to a bug in jest facebookjest if you're bored and want to have fun see if you can identify the 'fix' in this diff that avoids that bug. But I digress...This diff results in a divergence between dev and prod behavior specifically more components will rerender more often in dev because we no longer bail out of reconciliation in dev mode due to httpsgithub.comfacebookreactpullfiles causing there to always be a context variable change. This means not only that we should start running React unit tests in both dev and prod mode but also has ramifications for developers who only test in dev before shipping their components to prod.sebmarkbage spicyj
No whitespace warning;Resolves Includes some misc. lint fixes. Will squash if accepted.cc spicyj jimfb
Fixed shallowEqual for arguments that are not objects;Fixed shallowEqual implementation to handle the case when inputs are not objects.If either argument is not an object and unequal then shallowEqual should return false.If only one argument is an object then shallowEqual should return false.Fixes
Oneclick benchmark runner script;It's a bit verbose to run our benchmark script now and I'm thinking about ways to make it easier open to better ideas..scriptsbenchbenchmarkrunner devIt takes bundles from your local build folder and compares them with React's latest master build from httpreact.zpao.combuildsmasterlatest. Notice that it doesn't build React by default you can run npm run build manually before invoking the benchmark runner like npm run build .scriptsbenchbenchmarkrunner.cc spicyj gaearon zpao       The text was updated successfully but these errors were encountered
set className with setAttribute for SVG compat;Fixes SVG bug where changes to the className prop are not changed in the svg element.
Added handleHidden method to BootstrapModal in examples;Added handleHidden method for        The text was updated successfully but these errors were encountered
Resolve eslint error;I was about to begin work on an issue and usually run the linter and tests before starting to be sure I'm starting with a clean slate. I noticed that the linter had one error so I thought it would be a good idea to have it be a separate PR and not lump it in randomly with the actual issue fix.       The text was updated successfully but these errors were encountered
Another fix for TransitionGroup errors;If the component has unmounted before a transition completes sometimes the ref is undefined therefore it will throw. By adding a check to make sure we actually successfully got the ref we avoid the error.This is a fix for
docs Move React Elements post to right place fix typo;The URL already made its way around so we can't just break it. We mightwant to just live with it instead of even doing this redirect.httpsgithub.complaxdanreactcommitbcbefecfeacommitcommentReviewers spicyj vjeux sebmarkbageTest Plan used the redirect locally
Fix home page code samples;This change defaults the ReactPlayground to JSX compilation by default which fixes the errors with the samples on the home page.       The text was updated successfully but these errors were encountered
Add unknown property warning for use of autofocus;Resolves This PR alsoResurrects property warnings when ReactDOMFeatureFlags.useCreateElement is onAdds property validity event to debug toolI wrote some tests for this work but didn't notice any other DEV specific warnings being tested. I can include them with this PR if they're wanted.       The text was updated successfully but these errors were encountered
Add support for SVG tspan and image elements and the preserveAspectRatio attribute;This pull request adds this support and updates the documentation.
Change warning text 'a uncontrolled' 'an uncontrolled';Changes new React warning regarding controlled component status switching to properly use an rather than a before uncontrolled which begins with a vowel sound.
Update examples for and other examples fixes;No code in here had to change unlike the . upgrade we're warning free in here. I only fixed up a little bit of code to match our other examples and upgraded where we're pointing for several remote files pulling in from their cdns where appropriate. I also removed webcomponents.js from the examples and just pointed that at a cdn like we do for our other third party deps.       The text was updated successfully but these errors were encountered
tutorial Use ids in comments data;Just the same bits from reactjsreacttutorial minus a comment and with simplified ids for illustrative purposes.See previous discussion in TODO Update the code in the translated pages. Will do once we're certain on the code.
NEEDS WORK Try to fix;This is my attempt at fixing the regression in ..beta.I also included a fix for onBeforeInput which I expect has the same bug as onChange.However I could not get the test system to work change listeners aren't fired by the mock input event like they're supposed to.Someone more experienced than me is going to have to write a test for this bug that actually works.
Fiber Throw on undefined component output;This removes an in my opinion unnecessary duplicate warning from Stack so that I don't have to reimplement it in Fiber. Then it changes Fiber to throw on undefined component output.See individual commits. Only the last commit affects Fiber the rest are tweaking Stack and tests.
Added component displayName to warning message in ReactUpdateQueue.js;ref New message will look like thisWarning setState... Can only update a mounted or mounting component. This usually means you called setState on an unmounted component. Please check the code for the ExampleApplication component. This is a noop.
Fix minor typo in cloneWithProps doc;No description provided.
Fiber Move memoization to begin phase;Because memoizedProps and memoizedState are read from the instance theinstance's input pointers props state context should be updated evenwhen shouldComponentUpdate causes a bailout.UpdateThe scope of this PR changed a bit. The main change is to move memoization to the begin phase right after reconciliation.Currently we update the memoized inputs props state during the complete phase as we go back up the tree. That means we can't reuse work until of its children have completed.By moving memoization to the begin phase we can do a shallow bailout reusing a unit of work even if there's still work to do in its children.Memoization now happens whenever a fiber's child property is updated typically right after reconciling. It's also updated when shouldComponentUpdate returns false because that indicates that the given state and props are equal to the memoized state and props.
Only reuse serverrendered React nodes if there are no unexpected siblings;PR for I choose to believe that users should be correcting their own mistakes rather than have React transparently fix and unknowingly introduce weird edgecases and visual artifacts.Quite simply this PR enforces that there are no other nodes except the node rendered by React inside the target it obviously does not warn if there isn't a node rendered by React inside the target. It only performs this check in DEV.There is another test in which complements this PR.
Lintcleanup;Lint was not happy about some files. So I made him happy again partially.I was not quite sure what the format was when placing expressions over multiple llines. So If there some tabs necessary or other things please let me know I will update it asap .       The text was updated successfully but these errors were encountered
opt out of input events for ie and;while supported the input event is too noisy in IE. It Fires onplaceholder sets and when an input is focused with a placeholder.This is an potential alternative fix to cc syranidefixes and fixes
Make Simulate.mouseEnterLeave use direct dispatch;Fixes .onMouseEnter and onMouseLeave shouldn't actually use direct dispatch but doing so is more useful than doing nothing and I don't think it precludes adding proper enterleave dispatching later either.Test Plan grunt test
Add support for SVG image tag;A support for SVG image tag.This is used in lhausermannthegraphfafNote This is not enough to be able to load an external SVG|PNG|JPGimage file. The main issue is we can not create valid JS to havea property name xlinkhref. As today we should use it usinga container object say 'g' and set the image tag usinga dangerouslysetinnerhtml       The text was updated successfully but these errors were encountered
Error boundaries;Implements error boundaries for initial render which allow React components to become isolation boundaries. If a child of an error bounadry crashes the error boundary has the ability to handle the error and render something different like an error message or a frown face. This allows application authors to partition their app into regions and a crash in a single region won't take down the entire pageapplication.Fixes
Grunt lint and syntax fixes;Consistent spacing for class functions in examplesConsistency for render spaced to avoid line overflow in basicclickcounterindex.htmlFixed grunt lint errors in ResponderTouchHistoryStore.js ReactEmptyComponenttest.js
Use removeAttribute to forcefully remove properties from the DOM;Proper implementation of because now there's something factual to discuss.The DOM now statelessly reflects the props provided to DOM components. No more getDefaultValueForProperty. null and undefined no longer behave differently depending on the value being an attribute or property with being an actual value and distinct from null and undefined. I would dare say that this is the correct fix for .As is mentioned and benchmarked in the there should be a theoretically measurable impact of this in some browsers. But I dare anyone to suggest a reasonable reallife usecase where it is actually at all measurable unless my benchmark is flawed.If we want to push the performance of edgebrowsers to the limit we could conditionally make the default type be attribute instead of property as FF and Chrome perform significantly better but they're basically an order of magnitude faster already making it quite pointless and fragile IMHO.Basic tests added removed an existing test that has been halfbroken as it no longer makes sense. raw gz Compared to master baceabacffdbdca buildJSXTransformerprevious.js buildJSXTransformer.js buildreactprevious.min.js buildreacttest.js buildreactwithaddons.js buildreactwithaddons.min.js buildreact.js buildreact.min.js
Warn for functional refs on stateless functional components;Resolves Currently React warns if you doStatelessComponent ref'foo' But it doesn't warn if you doStatelessComponent refnode ... It seems like a generally good idea to have a consistent warning when using refs with any SFC.
Fix Calling setState inside getChildContext should warn;It doesn't pass one of the tests but I'm curious if this is the right direction or not.
A more descriptive createElement warning;See This PR creates a doc to explain the possible causes of a createElement warning when used with invalid types.
Fix confusing whitespace nesting warning;If any cases are missing please let me know
Using https URLs for embedded fiddles;Official announcement from jsfiddlehttpstwitter.comjsfiddlestatus       The text was updated successfully but these errors were encountered
Fix . Resolve to default props when config key is set to undefined in cloneElement;Fix . Resolve to default props when config key is set to undefined in cloneElementvar Foo React.createClass getDefaultProps function  return foo 'bar'  render function  return React.createElement'span' null this.props.prop clonedElement React.cloneElementReact.createElementFoo foo 'foo' foo undefinedconsole.logelement.props.foo Should be 'bar' instead of undefined
Fix spacing in documentation;Replace nonbreaking space by space in refs and the dom.Fixes       The text was updated successfully but these errors were encountered
CSS transition fix;Hey React TeamI was playing around with transition groups and found that adding a call to requestAnimationFrame seems to help a lot with webkit transitionEnd events firing more consistently. I added a basic catch for browsers without the api call but this is a bandaid solution targeted at recent versions of evergreen browsers. This chromium bug thread helped me a ton in diagnosing the issue on Chrome.
Correct highlighted block;The top block stops one line too soon and the second block is one line too hight.       The text was updated successfully but these errors were encountered
Update Flow version to v..;This PR is to update Flowtype version to v.. and fix some errors.In Flowtype v.. dictionary types are treated as invariant.httpsgithub.comfacebookflowreleasestagv..In the following case it has to explicit covariance with .ReactNativeAttributePayload.jstype AttributeConfiguration  key string  CustomAttributeConfiguration | AttributeConfiguration | boolean But I avoid the error by using FlowFixMe comment because it's needed some works like this.The covariant syntax causes a parse error in ESLint.To fix it we have to update babylon for parse covariant syntax with .. causes other ESLint errors which are noundef for type parameters.To fix them We have to use eslintpluginflowtype.To install eslintpluginflowtype We have to update ESLint to .. because of peerDependencies.. causes other ESLint errors We have to fix them.Can I work on thisIf so I'll work on this as other PRs.       The text was updated successfully but these errors were encountered
FiberFix tests for mountupdate callback errors;This PR fixes some failing Fiber tests.This is passing callerName to validate callback arguments.callerName is being passed as an optional argument. Should I annotate it as a required argument       The text was updated successfully but these errors were encountered
Fix ReactTransitionGroup behavior when removing several children at once;If several children complete leaving before rendering TransitionGrouponly the last one was removed. This could easily happen ifcallback in componentWillLeave is called synchronously and several itemsare removed from array. The other case is when ReactCSSTransitionGrouphas transitionLeavefalse and array is also cleaned up.The bug was happening because this.state.children was used as a base forchildren removal and it wasn't updated until the render so only the lastremoval was actually happening.Fix involves keeping the updated children state between invocations ofhandleDoneLeaving. After updating this.state and renderingupdatedState is cleaned up and ready for subsequent array modifications.Test case included.       The text was updated successfully but these errors were encountered
Support for JSX tag namespaces ReactDOMdiv;This has been suggested and discussed before facebookarchiveesprima etc.But it seems to me like the discussions rather died out than a rejection of the issue. So here's for one final resurrection of the issue with a proper implementation using the XMLnamespaces as seemed to be preferred by jeffmo.In my opinion this issue points to a very pleasant but not required feature that vanilla JS has that JSX currently lacks. To me it also highlights a possible issue with respect to best practices for sharing components and frameworks as this may have impact design decisions depending on the authors preference for JS or JSX. Having to locally require and assign every single component intended to be used is tedious and unnecessarily verbose. Simply being able to refer to a collection of components as we easily can in JS should be available to JSX as well. In plain JSvar MyDOM require'MyDOM'MyDOM.ComponentAnullMyDOM.ComponentBnull In existing JSXvar MyDOM require'MyDOM'var MyDOMComponentA MyDOM.ComponentAvar MyDOMComponentB MyDOM.ComponentBMyDOMComponentA MyDOMComponentB  In enhanced JSXvar MyDOM require'MyDOM'MyDOMComponentA MyDOMComponentB This brings JS and JSX to parity on this issue in my opinion without inventing custom features or weird syntaxes and it seems to me that this should not block any important future design decisions that would be compatible with JSX and it's entirely optional for the user.Technically the JSX implementation quotes invalid JS identifiers resulting from unusual characters in namespaces or tags when possible which explains the implementation of quoteNamespacedTagName.This PR depends on facebookarchiveesprima for fbesprima which is why the tests are failing.All feedback and criticisms are appreciated.Fixes .
Unit Test for Context Updates;Fixes But not well       The text was updated successfully but these errors were encountered
Make it easy to run the browser tests on saucelabs;This adds a bunch of tasks for manually running the tests in a browser on saucelabs.I haven't enabled any of these for travisci yet. I plan to do that in a separate pull request.
Adding a new webidl and websocket.rs file;Closes .       The text was updated successfully but these errors were encountered
Update mpmetadata version;This change is
Update androidrsglue for loading SpiderMonkey on android;fixes r mbrubeck
Fixes;No description provided.        The text was updated successfully but these errors were encountered
Remove remaining unused imports;Closes
Resolves Composite data only if the target is ready to receive a new paint job;I'm not entirely sure that this is what you had in mind. Also I'm pretty sure that it doesn't solve anything wrt to vsync as this would require us to receive vsync ticks which we don't at the moment.Also this does not contain tests yet. I need to understand how I can write tests for Servo.Fixes .
Default is toptobottom if unset not bottomtotop;Reverse linear gradient direction if not explicitly specified to match expected default behavior .mach build d does not report any errors .mach testtidy does not report any errors These changes fix github issue number if applicable. There are tests for these changes OR These changes do not require tests because This change is
Revert Update glutin;This reverts commit ffa.notriddle and Jayflux reported that this breaks Linux desktop on both Fedora and Ubuntu with a backtrace like httpsgist.github.comnotriddlecdffbdcaabfThey confirmed that backing it out fixes Servo.r noxor whomever
making image element areas good at finding areas;.mach build d does not report any errors .mach testtidy does not report any errors These changes fix This change is
Fix intrelated warnings in netmimeclassifier.;Also replaced for ranges with a..b notation.
Revert Auto merge of servorustup rMsger;This reverts commit ad reversing changes made to cba.This change is
Move ParseErrorReporter from msg to style;close        The text was updated successfully but these errors were encountered
stylo Use implappunits for webkittextstrokewidth property.;This is a follow up for .After gecko bug we now use nscoord for webkittextstrokewidthproperty. So we can use implappunits for the gecko glue code. .mach build d does not report any errors .mach testtidy does not report any errors These changes fix github issue number if applicable. There are tests for these changes OR These changes do not require tests because After gecko bug we now use nscoord for webkittextstrokewidthproperty. So we can use implappunits for the gecko glue code.This change is
Upgrade cssparser;Pick up the fix for servorustcssparser.ini files removal based on running .mach testcss testswptcsstestscssdevhtmlcolor I didnÆt run the whole test suite.r larsbergstrom       The text was updated successfully but these errors were encountered
Added verbosity to buildcommands.py;As per this issue I have added verbosity to buildcommands.pyFirst time contributing to mozilla community please be gentle
Upgrade some dependencies;
Add warning for building without release;Fixes issue adds warning to python build script when built without release flagWarning This is an unoptimized debug build. For performance testing use .mach build release to enable compiler optimizations.Followed debug warning conventions in rest of file and omitted colon.
stylo Get rid of one of the copies of the expand function.;This change is       The text was updated successfully but these errors were encountered
Fix README homebrew install regarding glfw;No description provided.
Update WR st stage of new clipping embedded shaders.;This change is       The text was updated successfully but these errors were encountered
Rename checknounwrap.sh to checknopanic.sh;Hello I fixed .This change is
Attempt to fix webfontrelated intermittent test failures.;I'm not completely sure the race condition outlined in this patch isactually the race condition causing failures... but it's a possibility.I plan to run this through try a couple of times to see if it actually helps.       The text was updated successfully but these errors were encountered
Check the type attribute for scripts.;
Changes on comments in servolib.rs;converted the first comments in servolib.rs into doc comments.moved doc comment of impl Browser to pub struct Browser.resolves
Update WR version add latest shaders to resources.;.mach build d does not report any errors .mach testtidy does not report any errors These changes fix github issue number if applicable. There are tests for these changes OR These changes do not require tests because webrender updateSignedoffby Sam swoodmozilla.comThis change is        The text was updated successfully but these errors were encountered
Add hr to PR template;Gives some space for the original PR text to go.This change is
Add support of textcombineupright for stylo;.mach build d does not report any errors .mach testtidy does not report any errors These changes fix github issue number if applicable. There are tests for these changes OR These changes do not require tests because it is just a trivial change for stylo onlyThis change is       The text was updated successfully but these errors were encountered
Fix CSSStyleDeclarationsetPropertyPriority and some refactoring;r Msger       The text was updated successfully but these errors were encountered
Remove and ignore .rej and .orig files;This change is
Misc cleanup for DOM attributes;No functional change just cleanups related to parsing attributes.
Overwrite the last servolatest.ext with current file;So we kinda changed the naming scheme at the last minute and this PR will make it so we actually upload packages to the location servolatest.ext that we're telling people to download them from.If none of this makes any sense please ping me in the morning and I'll fix it all up and be mildly embarrassed  .mach build d does not report any errorsetcci is unrelated to the build .mach testtidy does not report any errorsIt's all mad about some wpt stuff I never touched These changes fix github issue number if applicable.IRC conversation There are tests for these changes OR These changes do not require tests because I hope someone fluent in bash takes a look and tells me if they're badThis change is
Enable refcounting arbitrary DOM types;This replaces the specialized TrustedXHRAddress and TrustedWorkerAddress code that was used for the same purpose. A nonzero refcount pins the given DOM object's reflector and prevents it from being GCed even when there are no other outstanding references visible to SpiderMonkey. This will enable us to implement asynchronous operations that refer to particular DOM objects such as queue a task to fire a simple event named load at the iframe element from the spec safely and conveniently and paves the way for things like asynchronous network responses.Some concerns about the resulting size of XHR progress messages have been expressed but I believe optimizations to reduce that can be implemented in subsequent PRs.r Msger note in particular the changes to the worker lifetime code. I couldn't figure out how to achieve an identical lifetime to the previous addrefrelease pairing and I also was having trouble figuring out why the existing setup was safe. The new implementation now holds the main script task Worker object alive via the TrustedWorkerAddress field in the dedicated worker global scope which is a significant difference.       The text was updated successfully but these errors were encountered
Fix warning Use iterator.minbykey instead of iterator.minby;
Don't try to unwrap the result of requestAnimationFrame callback;The text was updated successfully but these errors were encountered
Stop using stdslicebytescopymemory.;Fixes .
Implement discarding Document objects to reclaim space.;This PR implements document discarding. Active documents are kept alive strongly but inactive documents are only kept alive weakly. When a document is GCd it is marked as discarded and if it is every reactivated a reload of the URL is triggered.Note that this PR is pretty aggressive about discarding and can any inactive document other than those being kept alive by other sameorigin pipelines. We might want to damp it down a bit.Also note that this interacts with browser.html in that the reloading triggered by reactivating a document triggers mozbrowser events.To test this I added a Zdiscardinactivedocuments debug flag which discards all inactive documents even ones which are reachable through other sameorigin pipelines. .mach build d does not report any errors .mach testtidy does not report any errors These changes fix . These changes do not require tests because we should be able to use the existing tests with Zdiscardinactivedocuments.This change is
Drop support for boxsizing paddingbox;This reverts commit adab PR .The CSS Working Group resolved to drop this value from the spechttplog.csswg.orgirc.w.orgcsseThe group was unable to come up with even a theoretical use case. Gecko only implemented this value for completeness. Other browsers vendors have clearly expressed they have no interest in implementing this.       The text was updated successfully but these errors were encountered
DO NOT MERGE style Assert the style sharing candidate cache is empty before restyling;cc bholleyThis change is
compositing Send mouse events to the right pipeline when using WebRender.;Fixes mouse events in browser.html.Requires servowebrendertraits and servowebrender.r glennwcc paulrougetThis change is        The text was updated successfully but these errors were encountered
Wrap extern static usage in unsafe block.;This avoids a softwarning from rustc which will become a hard error in the future.This change is        The text was updated successfully but these errors were encountered
Change default fonts to Liberation form badlylicensed Microsoft fonts.;Here is what I didBuild masterRun .servo httpexyr.org. Renders fine.Uninstall the ttfmsfonts package.Run .servo httpexyr.org. Fails with No matching fonts are the appropriate fonts installedApply the changes in this PRRun .servo httpexyr.org. Renders fine.
Fixed typo in di compilation article;No description provided.        The text was updated successfully but these errors were encountered
DX Security Renamed key to secret;QADoc fixnoNew docsyes symfonysymfonyApplies to.Fixed ticketsna
Removed all occurences of thisgetRequest;QADoc fixnoNew docsnoApplies to.Fixed ticketsHello.The request is a data object and so the request should not beinside the container. That's why the request will be removedfrom the container in Symfony .So it is better to let the HttpKernel injects the request whenthe user want to use the request.More over it is faster. The HttpKernel will always check if therequest should be injected. So injecting the request is time constant.However retrieve the request from the container will execute morecalls.
remove 'placeholder' from emptydata example;This snippet is also included on the TextType Field page httpsymfony.comdoccurrentreferenceformstypestext.html and might trick novice Symfony dev's into using the placeholder for the TextType as well. I think the placeholder can be removed here making the example even more to the point.       The text was updated successfully but these errors were encountered
Fix typos in cookbooktestingdatabase;QADoc fixyesNew docsnoApplies to.Fixed tickets
Don't use deprecated functions in Callback.rst;QADoc fixyesNew docsnoApplies to.Fixed ticketsThe addViolationAt function is marked as deprecated and should be replaced by buildViolation according to the Symfony update guides.       The text was updated successfully but these errors were encountered
Update varnish.rst;fixed missing semicolon       The text was updated successfully but these errors were encountered
Fixed typo in file uploads article;No description provided.
typo fixed;There was a typo in httpsymfony.comdoc.cookbookworkflownewprojectgit.html       The text was updated successfully but these errors were encountered
Update the docs about overriding services;This fixes . In Symfony .x we no longer use or recommend to define classes as parameters.       The text was updated successfully but these errors were encountered
BookValidation fix code block syntax;QADoc fixyesNew docsnoApplies to.Fixed ticketsThe examples should render properly even if . isn't maintained anymore.       The text was updated successfully but these errors were encountered
Update routing.rst;QADoc fixyesNew docsnoApplies toallFixed ticketsnoneThe described version of the file was breaking default value functionality and if user would access this page without name variable it'll get warningNotice Undefined variable name in ..srcpageshello.php on line
CookbookDynamic Form Modification Fix sample code;No description provided.        The text was updated successfully but these errors were encountered
Documented the new labelformat option;QADoc fixnoNew docsyesApplies to.Fixed tickets
move assets options from templating to assets section and add basepath documentation;QADoc fixyesNew docsnoApplies to.Fixed tickets
Form fixed CollectionType options;Complicated doc fix.Target branch .Cautionin . revert the choices uppercase and add choicesasvalues true in options examplein . revert everything except choicesasvalues in examplein . revert choicesasvalues.       The text was updated successfully but these errors were encountered
fix include directive so that the contents are really included;QADoc fixyesNew docsnoApplies to.Fixed tickets
Added note about using the Validator TypeTestCase in form unit testing;This update ads the usage of the validator TypeTestCase class to use for testing when validation is required.
Fixed typos .;This PR affects some new files so I can't base my changes on .. branches.
Cookbook Make registrationform follow best practices;QADoc fixyesNew docsnoApplies to.Fixed tickets
Update datatransformers.rst;Add missing        The text was updated successfully but these errors were encountered
Removing moved container dumping section;This is currently appearing in two places as a merge reintroduced it into the introduction pages. This PR is to take it out of the intro section so it is just in the compilation part
Add note about using choicelabel as a callback;I was wondering how to call a method with an argument for some time and then I've came with an idea of using ArrayAccess that can be used with PropertyAccessor.Then I found I can actually use callback in choicelabel but this was not documented. Is this correct usage
Fix some typos;No description provided.
BookPropel fix url of Propel Documentation;QADoc fixyesNew docsnoApplies toallFixed ticketsThe Propel Documentation was updated and these reference is in Propel .x documentation       The text was updated successfully but these errors were encountered
Fixed a broken link to FastCgiExternalServer directive documentation;This fixes .The previous official website fastcgi.com is down and I can't find this doc on the official Apache website. This is the only link that I found.
Fixed a syntax issue in customconstraint article;Here you can see how the render is broken httpsymfony.comdoccurrentvalidationcustomconstraint.htmlconstraintvalidatorswithdependencies
Hackday Update Heroku doc with SYMFONYENV param;QADoc fixyesNew docsnoApplies to. . .Fixed tickets
Changed slash to backslash in use statement.;No description provided.
Update formats.rst;In this case the requestgetRequestFormat will give back html as default value. Possible solution is set format as parameter in the route to overwrite the format. In my example without format parameter it will render the articleindex.html.twig and with pdf format it will render the articleindex.pdf.twig.       The text was updated successfully but these errors were encountered
Document spool type;This is a known thing httpsgithub.comsymfonysymfonystandardissues but not documented. I think many people will trip over this so I'm suggesting adding a tip about it.QADoc fixyesNew docsnoApplies toallFixed tickets
Update csrfinloginform.rst;change 'csrfprovider' to 'csrftokengenerator'change 'intention' to 'csrftokenid'       The text was updated successfully but these errors were encountered
Remove remaining LdapClient usages;No description provided.        The text was updated successfully but these errors were encountered
Normalization of method listings;QADoc fixnoNew docsnoApplies toallFixed ticketsfixes
Update hostnamepattern.rst;Error in xml
Syntax Error on Options FollowSymlinks;A missing s made the VirtualHost crash when symlink lines were uncommented.
Formtypes should be placed in Form\TypeDirectory;No description provided.
Form fixed reference to addViewTransformer method call;No description provided.
Fixing some build errors;QADoc fixyesNew docsnoApplies toallFixed tickets
Updated Cookies Caching section;Correct code for Varnish unset instead of remove
fix broken merge;No description provided.        The text was updated successfully but these errors were encountered
ComponentsForm describe how to access form errors;QADoc fixyesNew docsnoApplies toallFixed ticketsThe getErrors and getErrorsAsString methods haven't been documented before. This pull request adds a short description for them. This forms as basis for the solution of .
Removeupdate lines causing build failures;This pull request amends the invalid code blocks within the documentation to fix the build errors both locally and on platform.sh. Additionally this normalizes the dependency installation and build calls executed by both travis and platform.sh so they both use the same environment to build the documentation. This is important as currently often one will fail while the other will succeed this should not ever happen and they should both either fail or succeed.See comment and comment for the origin story.Note This should likely be applied to the . branch which is where the errors originate will update the target branch once this is confirmed.
fix types;QADoc fixyesNew docsnoApplies to. masterFixed tickets       The text was updated successfully but these errors were encountered
Update pdosessionstorage.rst;Changes after the .. release keeping the names of the values as they where.
Update commandsasservices.rst;Missing parent construct
Update customconstraint.rst;QADoc fixyesNew docsnoApplies to.Fixed ticketsYou MUST specify an alias becauseSymfony\Bundle\FrameworkBundle\Validator\ConstraintValidatorFactory.php... name will be a FQCN and will not be present in thisvalidators arrayname constraintvalidatedByif issetthisvalidatorsname  thisvalidatorsname new name LOOK HERE IF I DON'T SPECIFY THIS ALIAS I WILL END HERE NO SERVICE elseif isstringthisvalidatorsname  thisvalidatorsname thiscontainergetthisvalidatorsname...So if custom validator is a service that needs to be taken from Container there is no valid alternative to alias it should be mandatory and should be reported onto documentation as you can see from this factory.
ContributingCode fix indentation so that the text is rendered properly;QADoc fixyesNew docsnoApplies toallFixed tickets       The text was updated successfully but these errors were encountered
Typo when expression language is used to configure a service.;Typo in XML and PHP code block when expression language is used to configure a service. Symfony\Component\ExpressionLanguage\SyntaxError  Unexpected character around position .
Fixed syntax highlighting;Fixed syntax highlighting for the PostVoter example
PropertyInfo Add Component Documentation;QADoc fixnoNew docsyes symfonysymfonyApplies to. .Fixed ticketsNAThis is still a work in progress but I'd like feedback from anyone regarding structure grammar and any other improvements while I continue. After speaking with dunglas I'm creating a new PR due our branches differing by about commits.
Misc changes;QADoc fixyesNew docsnoApplies to.Fixed tickets
Fix;QADoc fixyesNew docsnoApplies to .Fixed ticketsRewritten this page from talking about the deprecated SecureRandom class to talking about the randombytes replacement.
Update thecontroller.rst;Corrected error in the sample code.
removed semicolon typo.;There was a typo in one of the code examples.
Form remove the getName function as it is deprecated;QADoc fixyesNew docsnoApplies to.Fixed ticketsnone
Add link for psr psr psr;imho it's interesting to have link to each psr       The text was updated successfully but these errors were encountered
Remove duplicate link introduction.rst;Remove duplicate link
reflect the EOM of Symfony .;No description provided.
Remove choices as values in .;QADoc fixyesNew docsnoApplies to.Fixed ticketsnaI think we must have just forgotten to remove this option
Remove diff info from cookbooksecurityvoters.rst;No description provided.
Fix two minor typos in the contributing section;QADoc fixyesNew docsnoApplies to.Fixed ticketsFix two minor typos in contributingdocumentationoverview.html       The text was updated successfully but these errors were encountered
MicroKernel Fixed the display of a code block;QADoc fixyesNew docsnoApplies to.Fixed ticketsThe display of a php code block was a quote.       The text was updated successfully but these errors were encountered
Fixed typo in UglifyCss usage example;QADoc fixyesNew docsnoApplies to.Fixed tickets       The text was updated successfully but these errors were encountered
Update checkboxcompound.rst.inc;very small typo       The text was updated successfully but these errors were encountered
Update translation.rst;A simple typo correction.
CookbookTestingDatabase Add missing configurationblock;QADoc fixyesNew docsnoApplies to.Fixed tickets
Add note on the difference given how you attach a transformer to a form;Just a minor issue but I thought it was worth adding.
update cache and logs folder locations;Since Sy they are under var instead of app.
Form Fix ChoiceType options;QADoc fixyesNew docsnoApplies toallFixed tickets
Update eventdispatcher.rst for consistency;Improve event naming for example consistency with the what appends next.The event is initially named foo.action that break the consistency with the lines and of the document.
Process missing constant colon;QADoc fixyesNew docsnoApplies to.Fixed ticketsX       The text was updated successfully but these errors were encountered
Api key user provider should use implements instead of extends;No description provided.        The text was updated successfully but these errors were encountered
Uninitialized variable;totalFiles may not always be initialized which causes a noticelevelerror message.
Cache Add adhoc TTL support fix peritem ttl handling.;Why can't I specify TTL Since I remember working with codelevel cache solutions there was always an easy method to specify TTL on peritem basis. It is a common feature among most wellknown libraries and extensions and was present in ZF ZendCache. Sadly zf is missing this. APCapcstore string key mixed var int ttl  MemcacheMemcacheadd string key mixed var int flag int expire  Wincachewincacheucacheadd string key mixed value int ttl  Zend ServerzendshmcachestoreinternalKey value ttl ZendCacheZendCacheBackendFilesavedata id tags array specificLifetime false etc.Problem ZF Cache Storage does not allow to store items with specific TTL.The first problem was missing ttl parameter in all Cache\StorageInterface write methods i.e. setItem replaceItem etc.. Without this the only way to set an item with a specific TTL was var cache StorageInterface oldTtl cachegetOptionsgetTtlcachegetOptionssetTtl set to minutecachesetItem'foo''bar' store the itemcachegetOptionssetTtloldTtl restore previous ttl phewProblem Unfortunately the above code does not work properly. This is because many ZF adapters do not support or understand itemlevel TTL unless it is handled internally by the backend i.e. apcstore natively supports TTL and it's getting fed with the one from options.For example Storage\Memory and Storage\Filesystem would exhibit unexpected behavior when discarding old items or fetching items if we tried to manipulate ttl var cache StorageInterface cache new \Zend\Cache\Storage\Adapter\MemorycachegetOptionssetTtl set TTL to hourcachesetItem'foo' store an itemcachegetOptionssetTtl set TTL to minutecachesetItem'bar' store another itemsleepvardumpcachehasItem'bar' falsevardumpcachehasItem'foo' false poof foo item disappeared but should live for an hourThe goal var cache StorageInterface cachesetItem'foo''' store the item for scachesetItem'bar''' store the item for hour store the item with default TTL setting from the storagecachesetItem'bar'''  replace multiple items and set their TTL to scachereplaceItems'foo''bar'  increment item by and make it live for hcacheincrementItem'foo' Solution Add ttl support to StorageInterface. Refactor Cache\Storage\Adapter\AbstractAdapter to handle ttl in write operations. Pass on ttl to listeners plugins. Refactor all Adapter\ classes to use peritem ttl and pass it on to underlying backend. Refactor Adapter\Memory to support peritem TTL. Refactor Adapter\Filesystem to support peritem TTL. Add TTL tests that work with adhoc ttl setting. Add overlapping temporal peritem ttl tests.       The text was updated successfully but these errors were encountered
phpunit version bump commit for BC breaks detection with Travis CI;This commit is only for test purpose. The aimed goal is to detect BC breaks using Travis CI.Real PR to come.
Another fix for;This pull request give problem with null values and with InputFilter\InputgetValueexamplepublic function testGetNotScalarValue filter thisgetMockBuilder'Zend\Filter\FilterInterface' disableOriginalConstructor getMock filterexpectsthisany method'filter' willthisthrowExceptionnew \Zend\Filter\Exception\InvalidArgumentException Filters such as StripTags StringToUpper StringToLower HtmlEntities throw exception if value is not scalar filterChain new \Zend\Filter\FilterChain filterChainattachfilter input new Input inputsetFilterChainfilterChain value null or any not scalar value array object closure inputsetValuevalue thisassertSamevalue inputgetValue fail give exception thisassertFalseinputisValid also give exception       The text was updated successfully but these errors were encountered
Found some PHPCS errors causing build failures.;These PHPCS errors were causing travis builds to fail. ?æè
Increment thiscount when adding new elements to the Collection;This gives the Collection an accurate count of the current elements attached to it.       The text was updated successfully but these errors were encountered
copyright date update;All copyrights updated from to        The text was updated successfully but these errors were encountered
ZF Reworked classmapgenerator;I reworked the classmapgenerator simplifying the code and fixing some issues with the relative paths in Windows platforms       The text was updated successfully but these errors were encountered
Move test components to requiredev;Close        The text was updated successfully but these errors were encountered
GData SVN Sync;rZF Update ZendGdataYouTube to work with v. APIradd ZendGdataAnalyticsrZF Added string cast to ctypedigit call in ZendGdataAppUtilrZF Use HTTPS for YouTube API requestsrFixes ZF usage of https schema over http which is supported by APIrZF stop output buffering in case of exception fix problem in complete test executionrZF ZendGdata ZendGdataAuthSub should not accept vanilla ZendHttpClient instancesrZF ZendGdata Improved test suite for ZendGdataAuthSubrResolves ZF Wrote test testCalendarOnlineFeed to test ZendGdataCalendargetCalendarEventFeedrZF backport from . release branchrZF Update ZendGdata to use HTTPS by default for all services that fully support it.rZF ZF ZendGdatarZF ZendGdata
Fix mongo handler;HelloFirst of all tests pass php runtests.php Session OK but incomplete or skipped tests Tests Assertions Skipped This fix is about the last version of phpmongo driver where safe option is deprecated.More informations here httpwww.php.netmanualfrmongo.writeconcerns.phpmongo.writeconcerns.optionsOn my dev environnement archlinux a lot of deprecated messages are present without this fix.
fixesimplements ZF;No description provided.
Zend\Code file reads on eval'd code;No description provided.
Adding missing NOT IN predicate;Added NOT IN predicate.Can be used while chaining where expressionswherenotIn... ...
Zend\Db\Sql Create NotIn predicate;httpframework.zend.comissuesbrowseZFRebase branch to develop       The text was updated successfully but these errors were encountered
Zend\Mvc\Controller\AbstractControllergetRequest docblock return value should be HttpRequest;Currently this method showsreturn RequestIt should showreturn HttpRequestThe issue this solves is that Zend\Stdlib\RequestInterface does not implement such methods as isPost or getPost making IDE intellisense break. This fixes that.       The text was updated successfully but these errors were encountered
Validator Code cleanup;Fix PHPDocFix CS remove underscore
Reset stoppropagation flag when triggering event;macnibblet noticed that if an event listener on say the dispatch event called stopPropagation on the event nothing was rendered in the response. On investigation I discovered that the stop propagation flag on the MvcEvent was not being reset betwee
Introduce JsonSerializable polyfill and support in Zend\Json\Encoder;This is an alternative to It introduces a polyfill into Zend\Stdlib which can be used by legacy PHP implementations. Zend\Json\Encoder then tests for the PHP builtin interface which will work even on PHP implementations where \JsonSerializable doesn't exist.       The text was updated successfully but these errors were encountered
ZF Cannot Count rows in a MySQLi Result Set;In case a mysqlistmt class is the resource for the result no mysqlistmtstoreresult was called. This will prevent some functions count rewind etc. to work correctly. Furthermore the result is not transferred from the prepared statement performance loss and multiple loop over the result set is also not possible.This commit should fix the above bug.
Reduced code duplication in FlashMessenger plugin;ZendMvcControllerPluginFlashMessenger.php
Hotfixzend db code cleanup;Merge this after
removed anchor after redirect for validate host;server side when you are redirected to a url with an anchor in this this is not removedwith this modification are removed allowing proper verification of the host       The text was updated successfully but these errors were encountered
Let FormElementErrors view helper translate error messages;Added translation for form element errors       The text was updated successfully but these errors were encountered
correcting ConsoleResponseSender's invoke;Just an argument fix causing an error in recent PR        The text was updated successfully but these errors were encountered
. Added msgpack serializer;see httpsgithub.commsgpackmsgpackphp
New escape strategy for view;Escaping the value for these decorators was broken due to a change in the view layer       The text was updated successfully but these errors were encountered
Add controller's implemented interfaces to its shared event manager default identifiers;Apparently from the shared manager it is not possible to attach a callback to a controller dispatch event from an interface id it implements.I simply added the list of the implemented classes to the identifiers. This adds the possibility to do this Module.php this was never triggeredeventManagergetSharedManagerattachLambdaControllerInterfaceclass 'dispatch'  this 'myCallback' MyController.phpclass MyController extends AbstractActionController implements LambdaControllerInterfaceI am not an expert on the event managers waiting for some feedback before adding some tests.
zen Renamed abstract classes in Zend\Service;Renamed abstract classesFixed exceptionsRenamed interfacesFixed phpdoc
Added missing method call brackets to Zend\Mvc\Router\Http\TreeRouteStack;When setting up a base URL in ZendSkeletonApplication I add this method to my Application\Module class and register it to be called on bootstrappublic function registerBaseUrle app egetParam'application' router appgetRouter routersetBaseUrlegetParam'config'baseurl When I run the app I get the following noticeNotice Undefined property Zend\Http\PhpEnvironment\RequestgetBaseUrl in ZendMvcRouterHttpTreeRouteStack.php on line This is because the call to getBaseUrl in TreeRouteStack is missing the        The text was updated successfully but these errors were encountered
Use Timestamp with IntlDateFormatterformat in DateSelect and MonthSelect view helpers.;This is a fix for issue        The text was updated successfully but these errors were encountered
csfixer Centralize configuration in a single file;No description provided.
Composer dependencies fixed;Added needed packages to require requiredev and suggest sections in composer.json.See
Zend\Db\Sql\Select problems with Reset containing Joins;Actually the RESET on columns works only with the actual tables columns but this RESET should reset each JOIN column too because when you do a \Zend\Paginator\Adapter\DbSelectCOUNT on a PostgreSQL database you need to reset all columns including columns on joins.
Adding HHVM to build matrix;Fixes PHP
Issue Zend\Db\PDO adapter driver ignores charset option;No description provided.
Fix docblock typo;No description provided.        The text was updated successfully but these errors were encountered
Properly pass context to input filter;HiI was quite surprised to see this bug. Basically the isValid method of input filter did not allow to pass any context which in hence could not be transfered to various validators that made it impossible to use some validators that relied on context.The problem is that input filter actually considered the whole array data as context and pass it to various inputs.To avoid any BC I just checked if a context was explicitly given in the input filter. If that's the case this context is preferred over the data as array.Thanks
Set response returned from dispatch event to MvcEvent test.;No description provided.        The text was updated successfully but these errors were encountered
Fixes Zend\In\Validator\Float set error message for NOTFLOAT;Fixes
Support commas in names;Bad things happen when an email header has a comma in the name this fixes that.
update DocComment in SharedEventManager;No description provided.
Fix controller tests to support HTTP PATCH method;No description provided.        The text was updated successfully but these errors were encountered
driver perform stripping before and after macro expansion.;This allows macros to both be conditionally defined and expandto items with cfg's.This seems to have a performance improvement e.g. for std Before time . s expansiontime . s configuration Aftertime . s configuration time . s expansiontime . s configuration And for extra Beforetime . s expansiontime . s configuration Aftertime . s configuration time . s expansiontime . s configuration This seems a little peculiar but it is possibly because the expansion AST traversal is very slow so removing as much as possible as early as possible has big benefits.       The text was updated successfully but these errors were encountered
Do not dropinplace elements of VecT if T doesn't need dropping;With O LLVM's inliner can remove this code but this does not happenwith O and lower. As a result dropping Vec was linear with lengthresulting in abysmal performance for large buffers.See issue .       The text was updated successfully but these errors were encountered
fix Remove abi foo attributes from codebase;No description provided.        The text was updated successfully but these errors were encountered
Add a link validator to rustbuild;This commit was originally targeted at just adding a link checking script to the rustbuild system. This ended up snowballing a bit to extend rustbuild to be amenable to various tools we have as part of the build system in general.There's a new srctools directory which has a number of scriptsprograms that are purely intended to be used as part of the build system and CI of this repository. This is currently inhabited by rustbook the error index generator and a new linkchecker script added as part of this PR. I suspect that more tools like compiletest tidy scripts snapshot scripts etc will migrate their way into this directory over time.The commit which adds the error index generator shows the steps necessary to add new tools to the build system namelyNew steps are defined for building the tool and running the toolThe dependencies are configuredThe steps are implementedIn terms of the link checker these commits do a few thingsA new srctoolslinkchecker script is added. This will read an entire documentation tree looking for broken relative links HTTP links aren't followed yet.A large number of broken links throughout the documentation were fixed. Many of these were just broken when viewed from core as opposed to std but were easily fixed.A few rustdoc bugs here and there were fixed       The text was updated successfully but these errors were encountered
Fixed deprecation warnings on Unicode literals;No description provided.        The text was updated successfully but these errors were encountered
Fix typo in Getting Started section of the book;Closes r steveklabnik       The text was updated successfully but these errors were encountered
test Add a compilefailfulldeps test suite;Compilefail tests for syntax extensions belong in this suite which has correctdependencies on all artifacts rather than just the target artifacts.Closes        The text was updated successfully but these errors were encountered
correct ExactSizeIterator examples;No description provided.        The text was updated successfully but these errors were encountered
Stable Compatibility fixes for LLVM .;Based on the pull request from Luca Bruno I'm trying to get the .. release running on a Fedora system using the system supplied llvm.It's still not running but i getting somewhere.Is this patch correct This was my first practical contact with Rust code and hey it's the rust compiler itself Now i'm having a dynamical system llvm linked stage rustc which can compile small rust programms. Next stages still don't work not the referenced ICE i get here illegal instructions but only if i activate optimizations in rustc need to investigate this.       The text was updated successfully but these errors were encountered
Fixed snippet to return the proper error.;This PR fixes a snippet of code on the error handling chapter of The Rust Programming Language.cc steveklabnikThe docs state that trying to compile the snippet will yield the following erroranon error nonexhaustive patterns not covered EBut instead the error received isanon error unresolved name NewReleaseanon stdioprintlndescriptiveprobabilityNewRelease anon error unresolved name stdioprintlnanon stdioprintlndescriptiveprobabilityNewRelease error aborting due to previous errorsplaypen application terminated with error code After applying this PR the expected error is returnedanon error nonexhaustive patterns not covered Eanon match probabilityevent anon . certainanon . impossibleanon . ... . very unlikelyanon . ... . unlikelyanon . ... . likely ...anon help see the detailed explanation for Eerror aborting due to previous error       The text was updated successfully but these errors were encountered
fix make install;There seems to be a problem introduced bybc that causes make installto fail when the build is not configured to skip doc building.       The text was updated successfully but these errors were encountered
std Change escapeunicode to use new escapes;This changes the escapeunicode method on a char to use the new style ofunicode escapes in the language.Closes Closes        The text was updated successfully but these errors were encountered
Skip coherence checks for error types;Fix .       The text was updated successfully but these errors were encountered
libc unbreak severals osplatform;affected structsockaddrstoragesockaddrunapply the same method used for linux forbitrigopenbsdfreebsddragonflythis commit unbreak build for openbsd and bitrig freebsd and dragonfly too I thinkr alexcrichton       The text was updated successfully but these errors were encountered
Fixed invalid JavaScript;No description provided.        The text was updated successfully but these errors were encountered
Partial implementation for UFCS traitless associated paths.;Adds moduleTypemethod support and makes moduleTypemethod a shorthand for it.This is most of except that chaining multiple associated types is not yet supported.It also fixes as impls are no longer treated as modules in resolve.Unfortunately this is still a breakingchangeIf you used a global path to a primitive type i.e. bool i etc. that was a bug I had to fix.Solution remove the leading .If you passed explicit implside type parameters to an inherent method e.g.struct FooTTimplA B FooA B  fn paira A b B FooA B Fooa b FooA Bpaira b Now that is sugar forFooA Bpaira b Which isn't valid because Foo has only one type parameter. Solution replace withFooA Bpaira b And if possible remove the explicit type param entirelyFoopaira bIf you used the QPathrelated AstBuilder methods hugwijst added in .The methods still exist but QPath was replaced by QSelf with the actual path stored separately.Solution unpack the pair returned by cx.qpath to get the two arguments for cx.exprqpath.       The text was updated successfully but these errors were encountered
Some struct visibility fixes;No description provided.        The text was updated successfully but these errors were encountered
sTHRADSTHREADS;No description provided.        The text was updated successfully but these errors were encountered
Fixed CFLAGS and CXXFLAGS propagation for platform.mk to use;I tested this Brian and it seemed to propagate the CFLAGS and CXXFLAGS correctly now.       The text was updated successfully but these errors were encountered
Add ARM MUSL targets;The targets arearmunknownlinuxmusleabiarmunknownlinuxmusleabihfarmvunknownlinuxmusleabihfThese mirror the existing gnueabi targets.All of these targets produce fully static binaries similar to thex MUSL targets.For now these targets can only be used with rustbuild builds asrustlangcompilerrt only made thenecessary compilerrt changes in the CMake configs not the plainGNU Make configs.I've tested these targets GCC .. compiled again musl..downloaded from httpmusl.codu.org. An example .configureinvocation is.configure \ enablerustbuild targetarmunknownlinuxmusleabi \ muslrootMUSLROOTwhere MUSLROOT points to the armlinuxmusleabi prefix.Usually that path will be of the formfoobararmlinuxmusleabiarmlinuxmusleabi.Usually the crosscompile toolchain will live underfoobararmlinuxmusleabibin. That path should either by addedto your PATH variable or you should add a section to yourconfig.toml as followstarget.armunknownlinuxmusleabicc foobararmlinuxmusleabibinarmlinuxmusleabigcccxx foobararmlinuxmusleabibinarmlinuxmusleabigAs a prerequisite you'll also have to put a crosscompiled staticlibunwind.a library in MUSLROOTlib. This is similar to howthe x MUSL targets are built.r alexcrichton       The text was updated successfully but these errors were encountered
rustdoc Handle concurrent mkdir requests;It's likely that rustdoc as a tool is run concurrently in the same outpute.g. documenting multiple crates as Cargo does in which case it needs tohandle concurrent calls to fscreatedir.       The text was updated successfully but these errors were encountered
Fix up build warnings about use of;Simple PR to fix some build warnings on a clean clone of master.homeubuntusrcrustsrclibrustcmiddleastconvutil.rs warning obsolete syntax homeubuntusrcrustsrclibrustcmiddleastconvutil.rs Someprimtytotytcx path.segments nty note write .. instead...homeubuntusrcrustsrclibrustcresolvelib.rs warning obsolete syntax homeubuntusrcrustsrclibrustcresolvelib.rs self.resolveerrortraitpath.span msg note write .. instead       The text was updated successfully but these errors were encountered
remove explicit iflet and tupleindexing feature enables;Now they trigger warnings.       The text was updated successfully but these errors were encountered
Enable and make stage landing pads optional;Part of Landing pads during stage are now enabled by defaullt. Since this has its downsides and upsides either way I made it possible to change the option through configure.       The text was updated successfully but these errors were encountered
Rollup of pull requests;Successful merges Failed merges       The text was updated successfully but these errors were encountered
Fix native failure and improve licenseck;No description provided.        The text was updated successfully but these errors were encountered
Rollup of pull requests;Successful merges Failed merges       The text was updated successfully but these errors were encountered
Add error explanation for E;I'd like to have added examples for each case but the overall error explanation started getting uncomfortably long. Instead I've lifted and rewritten notes from srclibrustcmiddletraitsobjectsafety.rs to be somewhat clearer.Personally I feel this should become five separate error codes for each ObjectSafetyViolation case also counting MethodViolationCodes.cc        The text was updated successfully but these errors were encountered
Register new snapshots;Closes Closes        The text was updated successfully but these errors were encountered
extend the iterator tutorial fix zerosize element vec iterators;b rsanxiyndocuments conversion size hints and doubleended iterators and addsmore of the traits to the prelude       The text was updated successfully but these errors were encountered
fix expandquotety function as parsety was changed and needs no args now;Subj. expandquotety produces wrong call to parsety now.       The text was updated successfully but these errors were encountered
Correct fns exp that were calling exp;Fixes .I was working on adding examples to the documentation in stdnumFloat. I got to exp which says Returns raised to the power of the number self.So I tried running this codeuse stdnumFloattestfn testexp  asserteq. ..expand it resulted in a failure of left right .. That . is the value for e which is exp not exp.Sure enough exp is calling exp and shouldn't be looks like a copypaste error.I haven't added any tests for this since it's unlikely to break again but I will happily do so if people think that would be a good idea. The doc examples are coming I scanned through the other functions in these files for similar sorts of errors and didn't notice any.       The text was updated successfully but these errors were encountered
Fixes by adding new snapshot for dragonfly bsd;alexcrichton please upload the following snapshotshttpsgithub.comdhusebyrustmanualsnapshotsrawmasterruststagedragonflyxedeacdebdafddaeeb.tar.bzthanks   
book replace the deprecated sleep function;No description provided.        The text was updated successfully but these errors were encountered
Update of the the Rust Reference so that it mentions isizeusize instead of intuint;No description provided.        The text was updated successfully but these errors were encountered
rustc Fix make install;Move a few docblocks from 'ignore' to something that's not rust e.g. 'text'.Closes        The text was updated successfully but these errors were encountered
Fix a few links in the docs;r steveklabnik       The text was updated successfully but these errors were encountered
cleanup use the for x in xs form instead of for x in xs.iter;This also implements IntoIterator for HashMaps and HashSets and changes the conditionals for x in option.iter statements to the more readable form if let Somex option. The former looks like an ordinary forloop the later clearly states conditional execution.r alexcrichtonThis needs a snapshot before it can land.       The text was updated successfully but these errors were encountered
Use the improved submodule handling;r alexcrichtonThat was a crap...Updating submodulesTraceback most recent call last File .x.py line in module bootstrap.main File homeishitatsuyukiDocumentsrustsrcbootstrapbootstrap.py line in main bootstrap File homeishitatsuyukiDocumentsrustsrcbootstrapbootstrap.py line in bootstrap rb.updatesubmodules File homeishitatsuyukiDocumentsrustsrcbootstrapbootstrap.py line in updatesubmodules path line.split' 'TypeError a byteslike object is required not 'str'Maybe we need to confirm the compatibility of git options such as git config or git C I believe they existed long before though. This is tested locally.       The text was updated successfully but these errors were encountered
Task killing linked failure and exit code propagation in the new runtime.;Some notes about the commits.Exit code propagation commitsReimplement unwrap has the same old code from arcunwrap ported to use modern atomic types and finally it's considerably nicer this wayAdd tryunwrap has some new slightlytricky but pretty simple concurrency primitive codeAdd KillHandle and Add killDeath are the bulk of the logic.Task killing commitsImplement KillHandlekill and friends Do a taskkilled check and Add BlockedTask implement the killing logicChange the HOF context switchers turns said logic onLinked failure commitsReplace rusttask ptrs adapts the taskgroup code to work for both runtimesEnable taskgroup code does what it says on the tin.r brson       The text was updated successfully but these errors were encountered
Implement BorrowFrom'a T for T with mutable variants;This should be a more general version of .       The text was updated successfully but these errors were encountered
WIP Add RawVec to unify raw Vecish code;Per the top level commentA lowlevel utility for more ergonomically allocating reallocating and deallocating aa buffer of memory on the heap without having to worry about all the corner casesinvolved. This type is excellent for building your own data structures like Vec and VecDeque.In particularProduces heapEMPTY on zerosized typesProduces heapEMPTY on zerolength allocationsCatches all overflows in capacity computations promotes them to capacity overflow panicsGuards against bit systems allocating more than isizeMAX bytesGuards against overflowing your lengthAborts on OOMAvoids freeing heapEMPTYContains a ptrUnique and thus endows the user with all related benefitsThis type does not in anyway inspect the memory that it manages. When dropped it willfree its memory but it won't try to Drop its contents. It is up to the user of RawVecto handle the actual things stored inside of a RawVec.Note that a RawVec always forces its capacity to be usizeMAX for zerosized types.This enables you to use capacity growing logic catch the overflows in your lengththat might occur with zerosized types.However this means that you need to be careful when roundtripping this typewith a BoxT cap won't yield the len. However withcapacityshrinktofit and frombox will actually set RawVec's private capacityfield. This allows zerosized types to not be specialcased by consumers ofthis type.Editfixes and fixes        The text was updated successfully but these errors were encountered
Move base out of extra.;In accordance with the dissolution of libextra this moves base out of libextra and into its own module.       The text was updated successfully but these errors were encountered
iOS fallout of env stab;No description provided.        The text was updated successfully but these errors were encountered
Show span for trait that doesn't implement Copy;Point at span for trait that doesn't implement Copy.Given the following codestruct NoCopyenum Test  MyVariantNoCopyimpl Copy for Test fn main show the following outputerrorE the trait Copy may not be implemented for this type file.rs | | MyVariantNoCopy | MyVariant defined here... | impl Copy for Test  | variant MyVariant does not implement Copyerror aborting due to previous errorRe .       The text was updated successfully but these errors were encountered
Allow syntax extensions which modify and decorate;This adds a new SyntaxExtension type Renovator.A renovator is a syntax extension which can modify and decorate the items it is attached to the union of MultiModifier and MultiDecorator.This allows things such as syntax extensions which modify existing methods for types and implement traits all in one.This shouldn't break any existing code and it only touches unstable compiler internals.       The text was updated successfully but these errors were encountered
Remove implicit shrinking from hashmap.;Part of enforcing capacityrelated conventions for the collections reform.Implements fn shrinktofit for HashMap.The reserve method now takes as an argument the extra space to reserve.       The text was updated successfully but these errors were encountered
Show impl for RefCell;Safe Show impl for RefCell.I'm open to debate about how to handle the case where tryborrow fails. I went with displaying that the refcell is borrowed to minimize surprises       The text was updated successfully but these errors were encountered
resolveunexported resolveunexported to fix pretty printing;Without this change we were unable to do rustc test pretty expanded foo.rs bar.rs rustc bar.s       The text was updated successfully but these errors were encountered
Add accessors for ioError's inner Error;The first commit simply forwards ioError's cause implementation to the inner error.The second commit adds accessor methods for the inner error. Method names mirror those used elsewhere like BufReader.r alexcrichton       The text was updated successfully but these errors were encountered
Add saveanalysis data to nightly manifests.;For use by RLS.r alexcrichton       The text was updated successfully but these errors were encountered
Rename Option in tutorial to workaround iteration bug.;Fix for .I opted to rename Option to MyOption so we won't get an error if we simply type in all code.Explicitly mention that rust has an Option type and in the following code snippets we use rust's built in type. It should be clear what's going on I hope.       The text was updated successfully but these errors were encountered
. release notes;No description provided.        The text was updated successfully but these errors were encountered
Add a missing errorreturn case.;Fixes .It was a little mistake in .       The text was updated successfully but these errors were encountered
Add Mathjax Support to Rustdoc;I'm not super clear on the best way to use TLDs and doc configs but this seems to work and isn't obviously wronghttpcg.scs.carleton.caabeingesdoccollectionsvecstruct.Vec.htmlHowever the current design interacts weirdly with reexportshttpcg.scs.carleton.caabeingesdocstdvecstruct.Vec.htmlDetailed designMathjax support will only be enabled on crates that declare docenablemathjax. When enabled mathjax can be used by wrapping math in doubledollars like so \sqrtx \logn . If the dollars are part of a larger block element the content will be rendered inline. If they surround an entire block the math will be rendered in display mode as seen in my example pages. Note the opening 's must be lead by whitespace and the closing 's must be followed by whitespace. Therefore blah blah x. will not render as math because there is no whitespace between the last and the ..Closes Trivializes        The text was updated successfully but these errors were encountered
adding Dragonfly x snapshot d;alexcrichton please upload the following snapshot with this PR.httpsgithub.comdhusebyrustmanualsnapshotsrawmasterruststageddragonflyxeabddfeccdbbbfaac.tar.bz   
Remove reference to str in documentation;Update docs       The text was updated successfully but these errors were encountered
more int and cloned cleanup in collections;No description provided.        The text was updated successfully but these errors were encountered
Reorganize doc index add pointer guide;This reorganizes the documentation index to be more focused on the intree docs and to clean up the style and it also adds steveklabnik's pointer guide.       The text was updated successfully but these errors were encountered
test Ignore prettyhugevec.rs to fix nightlies;This ignores a test added in because unfortunately the nightly bots arenow broken but this is now tracked in .       The text was updated successfully but these errors were encountered
std Implement Iteratorsizehint method for Option iterators;No description provided.        The text was updated successfully but these errors were encountered
Remove feature gate directives for iflet whilelet and tupleindexing .;This is a revival of per request of alexcrichton now that the new snapshots have landed. We can now remove the last feature gates for iflet whilelet and tupleindexing scattered throughout the test sources since these features have been added to Rust.Closes .       The text was updated successfully but these errors were encountered
Don't generate dochidden elements;Fixes .r brson       The text was updated successfully but these errors were encountered
Add a few missing stability attributes;I?ÇÖd kind of like to be able to use HashState in AnyMap which I can?ÇÖt do without a stability attribute on it. While I was at it I looked around and found a few more missing.Closes .       The text was updated successfully but these errors were encountered
Move simd out of unstable;It's still marked experimental. Also add documentation.       The text was updated successfully but these errors were encountered
Obsolete message for capture clauses.;See .This will only detect obsolete capture clause using 'copy'. It seems the move keyword has been completely removed from the parser. Is this alright       The text was updated successfully but these errors were encountered
Fix issue number for typemacros gate;No description provided.        The text was updated successfully but these errors were encountered
r Intpocalypse book edition.;Fix all usage of intuintiu in the book.r nikomatsakis who called this to my attention.       The text was updated successfully but these errors were encountered
libcore make iterator adaptors Clone able;closes cc Valloriccc r aturon alexcrichtonBecause of I had to move the struct bounds from the where clause into the parameter list       The text was updated successfully but these errors were encountered
Generalize MacExpr MacPat MacItems;Might be a bit clumsy ...Closes        The text was updated successfully but these errors were encountered
fix in the guide;There was a link to a non existing guide       The text was updated successfully but these errors were encountered
Don't run travis tests on master.;This saves us builders for more helpful purposes.       The text was updated successfully but these errors were encountered
When elaborating predicates purge duplicates from the initial vector.;We were already building a hashset to check for duplicates but we assumed that the initial vector had no duplicates. Fixes .r pnkfelix       The text was updated successfully but these errors were encountered
Rename two instances of MAPNONRESERVE;To the correct MAPNORESERVE. Every other instance is known as MAPNORESERVE so this is just a basic typo.I really doubt this will break anybody's but my own code.breakingchange       The text was updated successfully but these errors were encountered
Minor doc updates;No description provided.        The text was updated successfully but these errors were encountered
f inline msvcdispatched methods;Should fix but I don't have MSVC and I don't really know how to test whether a function got inlined or not.This adds featurestmtexprattributes to std in order to eliminate the inner functions.I also added inline to the functions in mod shims but I am not sure if they are also necessary legal on the extern declarations.r eddyb       The text was updated successfully but these errors were encountered
osd fix null pointer access and race condition;We are risking of accessing a null osdmap pointer when we failed to handle an osdmap message due to network error.Also it is not safe to change failurepending without protection of hearbeatlock.FixesSignedoffby xie xingguo xie.xingguozte.com.cn       The text was updated successfully but these errors were encountered
clsrgw listplainentries stops before bilog entries;listplainentries was using encodeobjversioneddatakey to setits endkey which gives a prefix of BIBUCKETOBJINSTANCEINDEXthat range between startkey and endkey would not only span theBIBUCKETOBJSINDEX prefixes but BIBUCKETLOGINDEX prefixesas well. this can result in listplainentries trying and failing todecode a rgwbilogentry as a rgwbucketdirentryFixes httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
testfio fix compiler error.;When call .docmake.sh DWITHFIO met the following errorLoptcephsrctestfiofiocephobjectstore.cc In constructor?ÇÿanonymousJobJobanonymousEngine const threaddata?ÇÖoptcephsrctestfiofiocephobjectstore.cc error invalidconversion from ?Çÿuintt aka unsigned int?ÇÖ to ?Çÿvoid?ÇÖ fpermissivefenginedata ioptcephsrctestfiofiocephobjectstore.cc In function ?Çÿintanonymousfiocephosqueuethreaddata iou?ÇÖoptcephsrctestfiofiocephobjectstore.cc error invalidconversion from ?Çÿvoid?ÇÖ to ?ÇÿstdvectoranonymousObjectsizetypeaka long unsigned int?ÇÖ fpermissiveauto object jobobjectsufileenginedataIn file included from usrincludec..vectorfrom optcephsrctestfiofiocephobjectstore.ccusrincludec..bitsstlvector.h note initializingargument of ?ÇÿstdvectorTp Allocreference stdvectorTpAllocoperatorstdvectorTp Allocsizetype with Tp anonymousObject Alloc stdallocatoranonymousObjectstdvectorTp Allocreference anonymousObjectstdvectorTp Allocsizetype long unsigned int?ÇÖoperatorsizetype n GLIBCXXNOEXCEPTSignedoffby Jianpeng Ma jianpeng.maintel.com       The text was updated successfully but these errors were encountered
doc document rgw bucket quota ttl setting;Signedoffby Ken Dreyer kdreyerredhat.com       The text was updated successfully but these errors were encountered
jewel msg IPv Heartbeat packets are not marked with DSCP QoS simple messenger;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
cmake use LINKPRIVATE instead of PRIVATE for CMake version ..;with version .. i.e. the minimum version required by the buildingsystem we will hit a compile error as follows usrbinld cannot find lPRIVATE collect error ld returned exit status make liblibrbd.so... Error  make srclibrbdCMakeFileslibrbd.dirall Error Signedoffby runsisi runsisizte.com.cn       The text was updated successfully but these errors were encountered
luminous cephbluestoretool primeosddir update symlinks instead of bailing;If the symlink points to the right location do nothing. If it doesn'treplace it. If it's not a symlink bail with EEXIST.Signedoffby Sage Weil sageredhat.comcherry picked from commit dedc       The text was updated successfully but these errors were encountered
DNM qa qasuitesupgradejewelxpointtopointx Removed librgw from excludes;Signedoffby Yuri Weinstein yweinsteredhat.com       The text was updated successfully but these errors were encountered
rbd return error if we specified a wrong image name for rbd du;Fixes httptracker.ceph.comissuesSignedoffby Dongsheng Yang dongsheng.yangeasystack.cn       The text was updated successfully but these errors were encountered
mds fix potential null pointer access message reference leak;No description provided.        The text was updated successfully but these errors were encountered
DNM jewel rbdmirror gracefully handle missing sync point snapshots;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
mailmap updates;No description provided.        The text was updated successfully but these errors were encountered
rbdmirror minor fixups for initial skeleton implementation;No description provided.        The text was updated successfully but these errors were encountered
librbd API changes to support separate data pool;No description provided.        The text was updated successfully but these errors were encountered
Doc add comment explaining the method safecat;Fixes Signedoffby johan coquillaud johancoquillaudgmail.com       The text was updated successfully but these errors were encountered
osd fixes for makewriteable;No description provided.        The text was updated successfully but these errors were encountered
checkgenerated.sh can't source bash from sh;source' is not sh command and executing bash commands in sh won'twork. We could try to replace it with'. ..qaworkunitscephhelpers.sh'but the above file uses bash.Signedoffby Michal Jarzabek stiopagmail.com       The text was updated successfully but these errors were encountered
doc v.. dev release notes;.. release notes upto c added all pending changes as per the PendingReleaseNotes and a small section on RGW server side encryption       The text was updated successfully but these errors were encountered
systemd drop setusergroup options from cephosdprestart.sh call;The setuser and setgroup options were added to thecephosdprestart.sh call in cfdfbut that script does not support these options.I peeked at how cephosdprestart.sh is being called inupstartcephosd.conf and these options are not being provided there.I don't think they are necessary but if they are they would need to beimplemented in the script somehow.httptracker.ceph.comissues Fixes Signedoffby Nathan Cutler ncutlersuse.com       The text was updated successfully but these errors were encountered
doc rm reference to Inktank;Let's avoid refering to a specific commercial vendor in the upstream documentation.Signedoffby Ken Dreyer kdreyerredhat.com       The text was updated successfully but these errors were encountered
WIP|DNM cmake compile libcephfs java native part;Handy to have this for development ultimately willneed extending to all the java bits for a full cmakebuild.Signedoffby John Spray john.sprayredhat.com       The text was updated successfully but these errors were encountered
Don't loop forever when reading data from sized segment.;The sized segment can arise depending on howthe client uploads the object in the first place.The cpu loop then happens during a swift GET'.Signedoffby Marcus Watts mwattsredhat.com       The text was updated successfully but these errors were encountered
More CMake package check fixes;These fix the check for yasm and the inclusions of gperftools. CMake now fails if yasm isn't installed and the stub CPU profiler is used if gperftools wasn't found.       The text was updated successfully but these errors were encountered
mon calculate reportersbysubtree when adjustheartbeatgrace is false;In the case monosdadjustheartbeatgrace is set to false shouldalso calculate reportersbysubtree.       The text was updated successfully but these errors were encountered
common typofix for osdcheckmaxobjectnamelenonstartup;Fixes a typo introduced in fSignedoffby Robin H. Johnson robin.johnsondreamhost.com       The text was updated successfully but these errors were encountered
rgw fix CORSACLs metadata processing in Swift API;Fixes httptracker.ceph.comissuesCC yehudasa oritwas.       The text was updated successfully but these errors were encountered
crush add missing tunable in tests;Signedoffby Loic Dachary loicdachary.org       The text was updated successfully but these errors were encountered
Fast read for erasure coding pool and erasure code error handling;No description provided.        The text was updated successfully but these errors were encountered
rbdnbd code cleanup and fix generic option issue;Fixes httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
kraken tests qaworkunitsrbdimportexport.sh breaks jewelxsingleton test;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
cmake fix the build on AArch;The PR comes from because the origin one is in a mess.Reconstruct the cmake files extrace one common module from srcCMakeLists.txt.And update the related CMakeLists.txt files.When compile the Ceph UT because the msse and msse are hardcoded inthe testCMakeLists.txt the Ceph UT build fail in AArm. Fix the issue.Signedoffby tone.zhang tone.zhanglinaro.org       The text was updated successfully but these errors were encountered
Don't loop forever when reading data from sized semgment.;The sized segment can arise depending on howthe client uploads the object in the first place.The cpu loop then happens during a swift GET'.This version of the patch no assert handles DLO with only empty segments.Signedoffby Marcus Watts mwattsredhat.com       The text was updated successfully but these errors were encountered
jewel rgw make sending ContentLength in and controllable;This commit introduces a new configurable rgw print prohibitedcontent length to let operator decide whether RadosGW compliesto RFC a part of the HTTP specification or violates itbut follows the Swift's behavior.Fixes httptracker.ceph.comissuesSignedoffby Radoslaw Zarzynski rzarzynskimirantis.comcherry picked from commit deeSignedoffby Matt Benjamin mbenjaminredhat.comcherry picked from commit acabaaea       The text was updated successfully but these errors were encountered
rgw don't store empty chains in gc;Fixes httptracker.ceph.comissuesSignedoffby Yehuda Sadeh yehudaredhat.com       The text was updated successfully but these errors were encountered
jewel radosgw valgrind invalid read size RGWGetObj;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
jewel osd do not send ENXIO on misdirected op by default;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
cleanup code for RecoveyMessages;liewegas log time ago i sent first patch but it don't merge into masteri think it's my fault see this . Send again.       The text was updated successfully but these errors w
test Thrasher update pgpnum of all expanded pools if not yet;?Çªfore waiting for healthyotherwise the ceph health complains withall OSDs are running luminous or later but the 'requireluminousosds'osdmap flag is not setceph.restart task will timeout and fail at seeing this warning.so we need to set the osdmap flag after upgrading all OSDs. and callceph.restart again to see if the cluster is healthy or not.Signedoffby Kefu Chai kchairedhat.com       The text was updated successfully but these errors were encountered
ceph.spec.inBuildRequires sharutils;sharutils rpm is not needed in fedora.sharutils rpm only a dependency on opensuse.So this conditional is not needed.Signedoffby Owen Synge osyngesuse.com       The text was updated successfully but these errors were encountered
buffer make usable outside of ceph source again;Add a radosbufferfwd.h symlink and remove the include prefix frombuffer.h.Signedoffby Josh Durgin jdurginredhat.com       The text was updated successfully but these errors were encountered
DNM tests.testobjectcopycannedacl ... FAIL;httptracker.ceph.comissues       The text was updated successfully but these errors were encountered
FileStoredofiemap do not reference fiemap after it is freed;It looks like cfa tried to fix this but didn't go far enough. We stillaccess last which is derived from fiemapfmextends if islast is false.Signedoffby Brad Hubbard bhubbardredhat.com       The text was updated successfully but these errors were encountered
rbdmirror potential crash during image status update;No description provided.        The text was updated successfully but these errors were encountered
pybindcephargparse remove the invalid test;remove the invalid test intestcephargparse.TestOSD.testreweightbyutilizationintroduced in aadFixes Signedoffby Kefu Chai kchairedhat.com       The text was updated successfully but these errors were encountered
osd kill all remaining MOSDSubOp users;Replace them with new messages. Keep some handling around for the jewel luminous upgrade we can remove MOSDSubOpReply entirely postluminous.       The text was updated successfully but these errors were encountered
msgasyncrdma Preparation for RDMACM multidevice support;Hi yuyuyu Adirl orendu saritz Couldn't find the alias of DanielThis code is not a final version yet it is only an RFCI wanted you to take a look to let me know if there is something fundamentally wrong with it.This is a preparation for RDMACM support.It moves the device initialization into the moment that the first connection is established In RDMACM we don't know which device will be used before we start the connection establishment process.Also since now multidevices could be used polling had to be changed.Lots of stuff was moved from Infiniband into the Device class since it is per device now.Amir       The text was updated successfully but these errors were encountered
DNM Parallel Mon client connect Fixes httptracker.ceph.comissues;Signedoffby Steven Dieffenbach sdieffenredhat.com       The text was updated successfully but these errors were encountered
rgwcommon fix error return value of hextobuf.;We should return negative value if error happens otherwisethe caller may run into exceptions. eg rgwswiftverifysignedtokenwill not return as follow int ret hextobuftoken p.cstr len if ret  return ret       The text was updated successfully but these errors were encountered
DNM Client flush dirty caps when forcing sync setattr;The comment was incorrect and we want to make it true.Signedoffby Greg Farnum gfarnumredhat.com       The text was updated successfully but these errors were encountered
rbd refactor cli command handling;In preparation for new RBD features such as RBD mirroring that will required numerous new CLI commands the current monolithic rbd utility has been refactored to simplify its future maintenance.commands are selfregistering with the cli command argument processorhelp is dynamically generated for a given command via rbd help command name       The text was updated successfully but these errors were encountered
Wip rgw highres;Depends on the librados stat change.There are unfixed warnings marking places where new header parseemit may be needed. Will fix after merge.       The text was updated successfully but these errors were encountered
cmake update FUSEINCLUDEDIRS to match autoconf;clientfusell.cc is now including fuse.h and fuselowlevel.hinstead of fusefuse.h and fusefuselowlevel.h so we need to addthe fuse directory to the FUSEINCLUDEDIRS variableusing findpath with just fuse.h was finding a usrincludefuse.hinstead of the one in usrincludefuse. looking for fusecommon.h andfuselowlevel.h first causes it to generate the correctFUSEINCLUDEDIRSusrincludefuseFixes Signedoffby Casey Bodley cbodleyredhat.com       The text was updated successfully but these errors were encountered
add scrub persistquery API;httptracker.ceph.comissues Fixes test for this PR cephcephqasuiterelated blueprintdiscussion can be found athttpcomments.gmane.orggmane.comp.filesystems.ceph.develhttptracker.ceph.comprojectscephwikiOsdScrubandRepairhttppad.ceph.compscrubrepair       The text was updated successfully but these errors were encountered
common remove basename dependency;No description provided.        The text was updated successfully but these errors were encountered
mdsMDCache kill a comipler warning;homejenkinsbuildbuildworkspacecephpullrequestssrcmdsMDCache.cc In member function ?Çÿvoid MDCacherequestcleanupMDRequestRef?ÇÖhomejenkinsbuildbuildworkspacecephpullrequestssrcmdsMDCache.cc warning unused variable ?Çÿwasreplay?ÇÖ Wunusedvariablebool wasreplay mdrclientrequest mdrclientrequestisreplaySignedoffby xie xingguo xie.xingguozte.com.cn       The text was updated successfully but these errors were encountered
rgwadd a new error message for accesskey conflict when using Admin Ops;Fixed Signedoffby Weijun Duan duanweijunhc.com       The text was updated successfully but these errors were encountered
doc fix mon osd down out subtree limit option name;The name of the parameter mon osd down out subtree limitwas incorrect with downout instead of down out.Furthermore the description seemed to me a little bitambiguous.Signedoffby Fran?ºois Lafont francois.lafontacversailles.fr       The text was updated successfully but these errors were encountered
jewel tests drop old rados singleton upgrade tests;These two tests have been failing consistently in all runs. The old packagesthey need are not available in the build system and fixing this is not worththe trouble.Inspired by httpgithub.comcephcephqasuitecommitdbebebeabededcfFixes httptracker.ceph.comissuesSignedoffby Nathan Cutler ncutlersuse.com       The text was updated successfully but these errors were encountered
Check that deltasum.stats.sum.numobjectcopies and deltasum.stats.sum...;....numobject are greater than zeroThis fixes division by zero.Signedoffby BJ Lougee almightybeeijgmail.com       The text was updated successfully but these errors were encountered
jewel several backports;httptracker.ceph.comissueshttptracker.ceph.comissues       The text was updated successfully but these errors were encountered
activerecord Apply associations to base class' descendants;currently associations added later with freedom patching are not propagated into descendants.       The text was updated successfully but these errors were encountered
safeconstantize Added Object scoped missing test cases;For more details please see Closes        The text was updated successfully but these errors were encountered
Always use SQL limit in Relationlast when limit argument given;Using Relationlast causes entire relation to be loaded into memory.In most cases it is unacceptable Topic.ordercreatedat.last SELECT FROM topics ORDER BY createdatWe can still use reverseorder to let SQL do heavy lifting AR is quite bad at that. Topic.ordercreatedat.last SELECT FROM topics ORDER BY createdat DESC LIMIT Unfortunately back to in this commit fc it wasn't done. And x unfortunately this commit added tests that need to be modified now.dmathieu do you still remember something about it       The text was updated successfully but these errors were encountered
Added Edited ActiveModelErrors test cases.;Added test cases to demo the difference between include and emptyMake size and count behave consistently.       The text was updated successfully but these errors were encountered
Fix broken link to ActiveJob documentation;Since ActiveJob is in a beta release the current link returns httpapi.rubyonrails.orgclassesActiveJobQueueAdapters.htmlIn order to have a valid link the URL must behttpedgeapi.rubyonrails.orgclassesActiveJobQueueAdapters.htmlI think it's better to point at edgeapi than to a broken link.The original URL can be restored as soon as .. is officially released.ci skip       The text was updated successfully but these errors were encountered
Fix info page style;When I click link About your application's environment at welcome page the page style such as font background color etc are broken. see the following images.This cause is that the partial page loaded by xhr contains their own css.So I stop containing css in loaded page.Before clickAfter click       The text was updated successfully but these errors were encountered
updated unicode version;I was testing how Active Support encode decode works and reading about unicodeFound from here httpwww.unicode.orgversionsUnicode.. that unicode latest version is ..Would it be feasible to update the unicode version        The text was updated successfully but these errors were encountered
fixforreverseorderwithfunctions;fix for reversesqlorder using regexp for details of bug see pull request        The text was updated successfully but these errors were encountered
ci skip Remove links to railsdocrails;Since httpsgithub.comrailsdocrails is not publicly availableare we better off without Not Found links in the documentation       The text was updated successfully but these errors were encountered
Support local in TextHelper.pluralize;Add support for locale in TextHelper.pluralize. Make argument optional and en by default. Unless the helper use String.pluralize without local and it's always en       The text was updated successfully but these errors were encountered
ARBasebecomes should change errors base to new object;The current implementation of ARBasebecomes throws an exception whenever the new class validates something the super class doesn't 'know' e.g. the presence of an associated object.class Company ActiveRecordBaseendclass Client Company belongsto account validatespresenceof accountendcompany Company.newclient company.becomesClientclient.valid NoMethodError undefined method account' for CompanyxacdThis happens because since ARBasebecomes copies the errors information but doesn't change the base instance variable of the related ActiveModelErrors object to the transformed object.In my opinion there are two alternativesFix the bug I attached a pull request with a failing test and bugfixRevert . The whole behaviour could be misleading because your errors object could contain messages of validations which were overwritten by the new class.       The text was updated successfully but these errors were encountered
Change mysql waittimeout default value to avoid exceeding the max value allowed by MySQL;I had some trouble with the mysql gem and my remote database it kept losing the connection MysqlError MySQL server has gone away. I discovered that the default timeout value set by activerecord for mysql exceed the max value allowed by MySQL . Perhaps it should cap it to this max value...It's my very first pull request so be indulgent if I don't respect some basic rules I may not know...Everything is explained here httpstackoverflow.comquestionsrailsmysqlerrormysqlserverhasgoneawaybrianmariomysqlJulien       The text was updated successfully but these errors were encountered
Replaced Latch with CountDownLatch in concurrentruby gem;Replaced the usage of Latch in actionpacktestdispatchliveresponsetest.rb actionpacktestcontrollerlivestreamtest.rb activerecordtestcasesconnectionpooltest.rb and activerecordtestcasesbasetest.rb with CountDownLatch in concurrentruby gem. Also changed Gemfile to add the gem and deleted the latch.rb file because it is not needed any more.       The text was updated successfully but these errors were encountered
Update ActionCable Rebroadcasting a Message documentation;SummaryReplace broadcastto with ActionCable.server.broadcast to be inline with its partner streamfrom.       The text was updated successfully but these errors were encountered
Correct caller tracking in delegated deprecation methods;Without this we're relying on the pathbased caller stripping to skip over the extra level of inframework caller... and that doesn't always work. Fixes closes .The filenamebased caller filter makes this hard to test at the moment but it basically changesirbmain def retiredmethod ActiveSupportDeprecation.warn use bettermethod instead nil end retiredmethodirbmain retiredmethodDEPRECATION WARNING use bettermethod instead called from retiredmethod at irb nilirbmain retiredmethodDEPRECATION WARNING use bettermethod instead called from retiredmethod at irb nilincorrectly blaming retiredmethod as being the callerintoirbmain def retiredmethod ActiveSupportDeprecation.warn use bettermethod instead nil end retiredmethodirbmain retiredmethodDEPRECATION WARNING use bettermethod instead called from irbbinding at irb nilirbmain retiredmethodDEPRECATION WARNING use bettermethod instead called from irbbinding at irb nil       The text was updated successfully but these errors were encountered
Refactor handling of action default in routing;The longstanding convention in Rails is that if the action parameter is missing or nil then it defaults to 'index'. Up until Rails ...beta this was handled slightly differently than other routing defaults bydeleting it from the route options and adding it to the recall parameters.With the recent focus of removing unnecessary duplications this has exposed a problem in this strategy we are now mutating the request's path parameters and causing problems for later url generation. This will typically affect urlfor rather a named url helper since the latter explicitly pass controller action etc.The fix is to add a default for action in the route class if the path contains an action segment and no default is passed. This change also revealed an issue with the parameterized part expiry in that it doesn'tfollow a right to left order as soon as a dynamic segment is required then all other segments become required.       The text was updated successfully but these errors were encountered
database.yml.example created in app generator;database.yml.example is created with project along with database.ymldatabase.yml has also been gitignored.       The text was updated successfully but these errors were encountered
Fixing the active record has many association test which is failing w?Çª;SummaryTest failed when run bundle exec rake testsqlite. So I thought just fix it.Please let me know more information on thisOther Informationbut working fine when i ran single file       The text was updated successfully but these errors were encountered
config.ignoreforcesslfilter so filter can be ignored in any desired;This is revised request of which simply hardcoded the production environment. Not sure about grabbing Rails.configuration from forcessl works but nothing else seems to be doing that...config.forcessl the name which was suggested already exists for globally forcing ssl.       The text was updated successfully but these errors were encountered
Better support for ARB.wherebelongstoassoc val which previously generated invalid SQL;Using the name of an association in where previously worked onlyif the value was a single ActiveRecrdBase object. e.g.Post.whereauthor Author.firstAny other values including nil would cause invalid SQL to begenerated. This change supports arguments in the where queryconditions where the key is a belongsto association name and thevalue is nil an Array of ActiveRecordBase objects or anActiveRecordRelation object. Given the Post modelclass Post ActiveRecordBase belongsto authorend nil value finds records where the association is not setPost.whereauthor nil SELECT posts. FROM posts WHERE posts.authorid IS NULL Array values find records where the association foreign key matches the ids of the passed ActiveRecord models resulting in the same query as Post.whereauthorid authorsarray Author.find Author.findPost.whereauthor authorsarray ActiveRecordRelation values find records using the same query as Post.whereauthorid Author.wherelastname EmdePost.whereauthor Author.wherelastname EmdePolymorphic belongsto associations will continue to be handledappropriately with the polymorphic associationtype field addedto the query to match the base class of the value. This featurepreviously only worked when the value was a single ActveRecordBase.class Post ActiveRecordBase belongsto author polymorphic trueendPost.whereauthor Author.wherelastname Emde Generates a query similar toPost.whereauthorid Author.wherelastname Emde authortype Author       The text was updated successfully but these errors were encountered
Added assertrequiredkeys method to hash;Similar to assertvalidkeys method assertrequiredkeys method validates if all requiredkeys that was passed exists in hash keysFor example year .assertrequiredkeysyear month raises ArgumentError Key month is requiredUseful when you need check if required options was passed       The text was updated successfully but these errors were encountered
distanceoftimeinwords inconsistency between code and documentation;distanceoftimeinwords documentation isn't consistent on what the method does.distanceoftimeinwords.minute .secondsshould return minutesbut is returning minuteSo either the method documentation or the code itself are wrong.I've pullrequested a solution assuming that the error is in the code rather than in the documentation.Any suggestions       The text was updated successfully but these errors were encountered
Adding support for passing a block to the addsource action of a custom generator;This PR adds support for passing a block to a call to addsource in a custom generator.class AddSourceGenerator RailsGeneratorsBase def addsourcewithblock addsource 'httpsgems.github.com' do gem 'rspecrails' end endendI do have a question about the best way to add the gems to the Gemfile. The addsource action uses prependfile instead of appendfile to place the source call at the top of the Gemfile. In order to get the gem calls inside the block to also prepend I needed to change the gem method to use prependfile when called from addsource. This seems to work OK. My concern with this is that the gems are added in reverse order that they are declared in. If we wanted to preserve the order I think I would need to change this to append the source calls if addsource is passed a block.Let me know if you have a preference on the above or anything else in the PR.       The text was updated successfully but these errors were encountered
Support for custom regular expression for numbertodelimeted;The format for placement of delimiter varies in currencies like INR where instead of . the number would be .. This adds support to allow user to provide custom handling of how the placement of delimiter is derived.Changes Extracted DELIMITEDREGEX to delimitedregex method and made use of user passed optionsdelimitedregex if available. Changed DELIMITEDREGEX to DEFAULTDELIMITEDREGEX to signify what it means.Added tests for number to delimited and number to currency in both actionview and activesupport.       The text was updated successfully but these errors were encountered
Accept channel identifiers with no backslashesescaping;Fixes Allow channel identifiers with no backslahesescaping to be accepted bythe subscription storer. Also subscriptions are now identified by theirescaped JSON keys. For example \channel\\RoomChannel\ isnow identified by channelRoomChannel in the globalsubscriptions hash.       The text was updated successfully but these errors were encountered
Fix default key length on cipher;We default to using aescbc as our verificationsigning cipher. It can accept key lengths of or bit whereas currently we were providing twice the acceptable value.ruby . allowed accepting these values as extra key bits were ignored. Since rubyrubyce this now has a strict checking on key length.Default to key length bytes to match the compatible length for aescbcFixes        The text was updated successfully but these errors were encountered
When deleting through records take into account association conditions;Fixes .When deleting through records it didn't take into account theconditions that may have been affecting join model table but wasdefined in association definition.       The text was updated successfully but these errors were encountered
Allow accessing the current nested index for a form builder.;When using fieldfornestedattributes you should be able to access the current autogenerated nested index so that you can embed it in a view for use by JS.       The text was updated successfully but these errors were encountered
Convert ping from an identifier to a messagetype;Removes notion of internal identifiers.       The text was updated successfully but these errors were encountered
Fix FinderMethodsexists sql generation to make picky sql servers happy;Minimal change to query generation of FinderMethodsexists that makes SQLServer and others happy that do not like columns without an alias.Without this patch MSSQLServer doesn't like the generated SQL and barks for FinderMethodsexists ieActiveRecordStatementInvalid ActiveRecordJDBCError No column was specified for column of 't'. SELECT t. FROM SELECT ROWNUMBER OVERORDER BY huhu.id AS rownum FROM huhu WHERE huhu.id AS t WHERE t.rownum BETWEEN AND        The text was updated successfully but these errors were encountered
Improve Action Cable message encoding decoding;This centralizes all parsing and processing methods ina ActionCableConnectionUtils concern which is then included foruse within the library.All payload parsingprocessing is done immediately inActionCableConnectionBasereceiveActionCableConnectionSubscriptions once again uses idkey asthe identifier for subscriptions within the global hash. This was onlychanged in the first place to accomodate payload parsingprocessing.See and for previous discussion regarding this.Likely still more work to be done with this but this is a start attrying to organize this logic in a way that is easier to understand.       The text was updated successfully but these errors were encountered
Add defaultproc copying in HashWithIndifferentAccess;Add defaultproc copying for HashWithIndifferentAccess.newfromhashcopyingdefault HashWithIndifferentAccessdup HashWithIndifferentAccesstohash       The text was updated successfully but these errors were encountered
Inverse of on build;ProblemWhen building a new relationsany type of relation we need to setup the inverseof association.See SolutionCall .setinverseinstance on the association parent. Also remove setinverseinstance from addtotarget on collection as we build it before and we dont need that extra call.review rafaelfranca robin       The text was updated successfully but these errors were encountered
Use sh instead of Ruby script for yarn binstub;Seeing as yarn already uses sh for their binstub httpsgithub.comyarnpkgyarnblobmasterbinyarn we opt to use sh as well. The main reason for this being that boot times for some interpreters i.e. jruby are rather slow. This makes for a much better UX for these users.See        The text was updated successfully but these errors were encountered
Fixe reverseorder incorrect behavior;Fixed incorrect behavior in situations when the string containing function comes in method order. for example SUBSTR Sybase SUBSTRfield  MySql SUBSTRfield  Postgresql SUBSTRfield  Sqlite SUBSTRfield  Oracle SUBSTRfield  DB SUBSTRfield ?Ç£?Ç¥ was used as means for dividing fields where sorting takes place as a result of that invalid sql was generated examplePost.order'SUBSTRname '.reverseorder.tosqlexpectedSELECT posts. FROM posts ORDER BY SUBSTRname DESCgotSELECT posts. FROM posts ORDER BY SUBSTRname DESC DESC DESCThis fixes the incorrect behavior. for that purpose i added private method splitorderexpressions that split only by expected Other behavior was not affected.       The text was updated successfully but these errors were encountered
Corrected secretkeybase;No description provided.        The text was updated successfully but these errors were encountered
Hashdeepkeys recurse into nested arrays.;Update of .Fix a typo.Squash commits.Rebase to recent upstream.       The text was updated successfully but these errors were encountered
show correct class name in migration inherited directly error;Follow up to fa       The text was updated successfully but these errors were encountered
Add support for using nested travel method;One of my friend saw that while working on an issue about rubygems it would be great if we can use nested travel methods and asked me to implement this.By this way we can use nested travel methods in our tests. For exampletravel .day do Foo.dosomething This method depends on Time.now and it has mock value lets say A travel .day do Bar.doanotherthing This method depends on Time.now and it has mock value lets say B end Zoo.doyetanotherthing This method depends on Time.now and it has mock value as AendIn current implementation we can't use nested travel methods because when the execution of deepest travel method finishes Time.now returns back to original Time.now.Lets see this in an example like abovetravel .day do Foo.dosomething This method depends on Time.now and it has mock value lets say A travel .day do Bar.doanotherthing This method depends on Time.now and it has mock value lets say B end Zoo.doyetanotherthing This method depends on Time.now and it returns the original Time.nowendAs you can see we've expected that Time.now will return A but it returns original Time.now.       The text was updated successfully but these errors were encountered
Fix default value in guide ci skip;No description provided.        The text was updated successfully but these errors were encountered
Modified usage of if .empty to if .any which reads better;cc NZKozThanks       The text was updated successfully but these errors were encountered
add ActionControllerParametersreversemerge;SummaryCurrenty ActionControllerParameters dosen't have reversemerge and reversemerge.By using reversemerge you can write behaviors like default values. beforeparamsage unless paramsage afterparams.reversemergeage        The text was updated successfully but these errors were encountered
ActiveSupportHashWithIndifferentAccess select and reject should return enumerator if called without block;According to Ruby spec select and reject should return enumerator if called without block. Until now if no block was given HashWithIndifferentAccess returned self instead of enumerator this commit fixes such behavior.Fixes        The text was updated successfully but these errors were encountered
Small typo fix;No description provided.        The text was updated successfully but these errors were encountered
Prevent raising RangeError in AR presence validation;SummaryAfter updating ActiveRecord version from . in my application I noticed a strange behavior. If I call valid method for an ActiveRecord model it may raise an unexpected RangeError exception. For exampleuser User.createaccount Account.firstuser.accountid user.valid  RangeError is out of range for ActiveRecordTypeInteger with limit What happened was that during a presence validation for association it called a method ensureinrange several times which checks whether a value in a DB type range or not.To fix this issue I would suggest catching the exception and adding invalid attribute error to a record.Other InformationHere is a stack trace when I run tests without these changesRangeError is out of range for ActiveModelTypeInteger with limit  railsactivemodellibactivemodeltypeinteger.rbin ensureinrange' railsactivemodellibactivemodeltypeinteger.rbin serialize' railsactiverecordlibactiverecordattribute.rbin valuefordatabase' railsactiverecordlibactiverecordrelationqueryattribute.rbin valuefordatabase' railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin block in execquery' railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin map' railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin execquery' railsactiverecordlibactiverecordconnectionadaptersabstractdatabasestatements.rbin selectprepared' railsactiverecordlibactiverecordconnectionadaptersabstractdatabasestatements.rbin selectall' railsactiverecordlibactiverecordconnectionadaptersabstractquerycache.rbin selectall' railsactiverecordlibactiverecordquerying.rbin findbysql' railsactiverecordlibactiverecordstatementcache.rbin execute' railsactiverecordlibactiverecordassociationssingularassociation.rbin getrecords' railsactiverecordlibactiverecordassociationssingularassociation.rbin findtarget' railsactiverecordlibactiverecordassociationsassociation.rbin loadtarget' railsactiverecordlibactiverecordassociationsassociation.rbin reload' railsactiverecordlibactiverecordassociationssingularassociation.rbin reader' railsactiverecordlibactiverecordassociationsbuilderassociation.rbin man' railsactivemodellibactivemodelerrors.rbin generatemessage' railsactivemodellibactivemodelerrors.rbin normalizemessage' railsactivemodellibactivemodelerrors.rbin add' railsactivemodellibactivemodelvalidationspresence.rbin validateeach' railsactiverecordlibactiverecordvalidationspresence.rbin block in validate' railsactiverecordlibactiverecordvalidationspresence.rbin each' railsactiverecordlibactiverecordvalidationspresence.rbin validate' railsactivesupportlibactivesupportcallbacks.rbin publicsend' railsactivesupportlibactivesupportcallbacks.rbin block in makelambda' railsactivesupportlibactivesupportcallbacks.rbin call' railsactivesupportlibactivesupportcallbacks.rbin block levels in halting' railsactivesupportlibactivesupportcallbacks.rbin call' railsactivesupportlibactivesupportcallbacks.rbin block levels in defaultterminator' railsactivesupportlibactivesupportcallbacks.rbin catch' railsactivesupportlibactivesupportcallbacks.rbin block in defaultterminator' railsactivesupportlibactivesupportcallbacks.rbin call' railsactivesupportlibactivesupportcallbacks.rbin block in halting' railsactivesupportlibactivesupportcallbacks.rbin call' railsactivesupportlibactivesupportcallbacks.rbin block in call' railsactivesupportlibactivesupportcallbacks.rbin each' railsactivesupportlibactivesupportcallbacks.rbin call' railsactivesupportlibactivesupportcallbacks.rbin runcallbacks' railsactivesupportlibactivesupportcallbacks.rbin runvalidatecallbacks' railsactivemodellibactivemodelvalidations.rbin runvalidations' railsactivemodellibactivemodelvalidationscallbacks.rbin block in runvalidations' railsactivesupportlibactivesupportcallbacks.rbin runcallbacks' railsactivesupportlibactivesupportcallbacks.rbin runvalidationcallbacks' railsactivemodellibactivemodelvalidationscallbacks.rbin runvalidations' railsactivemodellibactivemodelvalidations.rbin valid' railsactiverecordlibactiverecordvalidations.rbin valid' testcasesvalidationsassociationvalidationtest.rbin block in testvalidatespresenceofbelongstoassociationoutofrangeerror' railsactiverecordtestcasesvalidationsrepairhelper.rbin repairvalidations' testcasesvalidationsassociationvalidationtest.rbin testvalidatespresenceofbelongstoassociationoutofrangeerror'Probably similar issues .       The text was updated successfully but these errors were encountered
Add an ignore file;I added an ignore file.DSStore.       The text was updated successfully but these errors were encountered
ActiveRecordQueryMethodsorder support for nested hashes;Quite often we have to order the query by attribute of the related table. We canuse a String to do thisPost.ordercomments.body ASCI really like the where syntax when dealing with relatedtablesassociations.This commit adds support to order for nested hashes as arguments.Using the new syntax the query above looks like thisPost.ordercomments body asc       The text was updated successfully but these errors were encountered
changing ruby version in getting startedci skip;No description provided.        The text was updated successfully but these errors were encountered
Fix warning mismatched indentations at 'end' with 'class' at;No description provided.        The text was updated successfully but these errors were encountered
dbschemaload with migrations in subdirectories;Getting pending migrations errors after running rake dbschemaloadwhen dbmigrate directory contains any migrations in its subdirectories.Example directories structuredb migrate archive createpeople.rb addagetopeople.rb addphonenumbertopeople.rbIf the dbmigrate directory contains any migrations in its subdirectories their versions are not inserted into schemamigrations table.As for the example above ActiveRecordConnectionAdaptersSchemaStatements.assumemigrateduptoversion method inserts only the rd version into the schemamigrations table.But ActiveRecordMigrator.migrations method expects the table to include all of the versions. and are perceived as pending and this fact causes the pending migrations error.The assumemigrateduptoversion fetched migrations files usingpaths migrationspaths.map |p| p.rb So there was no subdirectories support.The behaviour is fixed bypaths migrationspaths.map |p| p.rb Added a test case.       The text was updated successfully but these errors were encountered
Fix generated root path inside namespaces;In Rails . we can generate root path inside a namespace like thisroot to welcomeindexnamespace admin do root to homeindex adminrootpathendBut in the master branch adminrootpath is not generated because of the previous definition of rootpath.So I fixed the matchrootroute method in order to handle root path inside namescapes correctly.       The text was updated successfully but these errors were encountered
Ensure that assets are enabled back after the test that tests assets are disabled;No description provided.        The text was updated successfully but these errors were encountered
Fix undefined error for ActionControllerParameters;This was introduced as apart of the CVEpush aka ...beta..r tenderlove       The text was updated successfully but these errors were encountered
Singular Resources passing a symbole;No description provided.        The text was updated successfully but these errors were encountered
Fix collection labels not including form namespace.;Present in Rails stable and in master.This bug would prevent clicks on labels for collection form elements radio buttons and check boxes from selecting the associated input because the label's for attribute doesn't include the form namespace.The bug can be replicated with the following code. formfor Struct.newterms.new as 'fakemodel' url '' namespace 'NAMESPACE' do |f|  f.label terms emNoncollection label has correct ID that includes namespaceembr f.collectionradiobuttons terms Test option tos tos emCollection label has incorrect FOR attribute value that doesn't include the namespaceem end I'm unsure of how to test this as the formcollectionshelpertest.rb doesn't seem to have any way to set up the form options. Any suggestions are welcome.       The text was updated successfully but these errors were encountered
Ignore warnings caused by bundled gems;Checking all warnings makes the test case fragile.For example testshouldnotimposechildlesshtmltagsinxml failedby these warnings.hometravisbuildrailsrailsvendorbundleruby..gems\nokogiri...libnokogirixmldocument.rb \warning constant Fixnum is deprecated\nThis commit will suppress these noise.       The text was updated successfully but these errors were encountered
make disablewith default in submittag;I heard on the Bike Shed podcast that the idea of possibly making disablewith a default for submittag to prevent double submission by default thought I would draft up a pull request for it and take a stab at it.       The text was updated successfully but these errors were encountered
delgated delegated;delgated delegated       The text was updated successfully but these errors were encountered
Avoid loading all records in Relationinspect;Calling records without a limit can potentially put a lot of pressure on resources of the running machine as seen in BetterErrorsbettererrors. Instead I apply the same limit here in a way that avoids unnecessary loading of all records.       The text was updated successfully but these errors were encountered
We want to allow aria to pass like data in tag options;Exactly like data attributes on HTML elements it is now common topass aria style attributes to tags bootstrap for example. Thespec is defined herehttprawgithub.comwcariainhtmlmasterindex.htmlIn this PR I?ÇÖve cleaned up some of the previous tag option formattingto be a bit faster smaller to reason and opens up to future additionsof similar hashlike options. If for instance we wanted to add therails hashlike we?ÇÖd just change HASHLIKEATTRIBUTEKEYS to?Çÿdata?ÇÖ ?Çÿaria?ÇÖ ?Çÿrails?ÇÖ       The text was updated successfully but these errors were encountered
Try out the new Docker queue;Also a little .travis.yml cleanupPlease don't merge yet       The text was updated successfully but these errors were encountered
Fixes addcolumn not creating array columns in PostgreSQL;When then PostgreSQL visitor was addedaddcolumn was no longer receiving the column options directly. Thiscaused the options to be lost along the way.       The text was updated successfully but these errors were encountered
Use log method instead of ActiveSupportNotifications.instrument;SummaryI encountered the following error.Could not log sql.activerecord event. TypeError wrong argument type NilClass must respond to each homemtsmfm.rbenvversions..librubygems..bundlergemsrailscaeaeaactiverecordlibactiverecordlogsubscriber.rbin zip'It seems that we forgot to care about cachesql in        The text was updated successfully but these errors were encountered
Fix documentation for endyear option of datehelper ci skip;While editing an existing record endyear is equal to currentselectedyear by default.Fixes        The text was updated successfully but these errors were encountered
Fix incorrect serialization state after loading;Fixes Selfcontained gist tested on ruby ..p httpsgist.github.comhundredwattException TypeError no implicit conversion of ActiveSupportHashWithIndifferentAccess into String       The text was updated successfully but these errors were encountered
Fix eager loading a hasmany association with a join and order clause;A hasmany association ordering on a joined table would omit the joinwhen eager loaded.class Character ActiveRecordBase hasmany appearances joinsbooks.orderbooks.publishedon endCharacter.wherename Gandalf.includesappearances.first SQLiteSQLException no such column books.publishedon SELECT appearances. FROM appearances WHERE appearances.characterid IN  ORDER BY books.publishedon       The text was updated successfully but these errors were encountered
Add support for PostgreSQL index operator classes;This adds support for setting and dumping the index operator class when using the PostgreSQL adapter.This is especially useful for search because it is needed to make use of the operators provided by the pgtrgm extension and also the builtin patternops classes that enable LIKEREGEX queries on nonClocale columns.The current code checks that the operator class is a valid opclass provided by the current database but it does not yet check wether the combination of index type and operator class is valid. This would be possible by using a slightly more comlicated query for determining the valid opclassesSELECT am.amname AS indexmethod opc.opcname AS opclassname FROM pgam am pgopclass opc WHERE opc.opcmethod am.oid ORDER BY indexmethod opclassnameThe code is very loosely based on a previous implementation in the postgresext . gem which provided an indexopclass option when working with Rails ..x.Usage Examplesaddindex people lastname opclass varcharpatternopsaddindex people lastname using gist opclass gisttrgmopsRelevant Postgres Docs Operator Classes and Operator Families       The text was updated successfully but these errors were encountered
Don't fall back to HTML if requested js format exists anywhere in path set;ActionView has a fallback feature to render an html format template as a template of last resort even when js is the only format specified to support rendering HTMLformatted responses to XHR requests.I believe this fallback is broken when using multiple view paths. LookupContext treats a requested js format as js html when rendering anything except a layout. So the first view path will be matched against formats of js html before the second view path is considered. Thus an index.html.erb in the first path will prevent an index.js.erb in any subsequent view paths from being rendered even though the only format requested was JS.My fix pushes down the fallback to lookup time it attempts to look up the JS template in the PathSet rescues any MissingTemplate and retries with html. I was conflicted about using exceptions for flow control here but I wanted to do as little violence to the PathSet API as possible and it currently raises MissingTemplate on missing templates.Some care had to be taken to ensure that layouts still only render their first format so for example a JS request never renders an HTML template. That motivated the introduction of the layoutformat ivar.Major props to the Rails team especially josevalim for how accessible this code is. I went from hmm that's weird to a failing test case in about minutes. Thanks       The text was updated successfully but these errors were encountered
Rename ActiveModelModel to ActiveModelBasicModel;This module provides the sets of features required to support the ActiveModel API and no more. Its naming is meant to be reminiscent of Ruby's Object and BasicObject.       The text was updated successfully but these errors were encountered
Ensure ActiveResource serialization obeys ActiveResourceBase.includerootinjson;The root element in JSON serialization in Rails .. is always present regardless of the setting of ActiveResourceBase.includerootinjson. This fix makes ActiveResourceBasetojson obey the setting and includes a test to make sure the setting works.       The text was updated successfully but these errors were encountered
Fix a bug with initialize schemamigrations table;Performing a command bundle exec rake dbdrop dbcreate dbschemaload trace I get the following error initializeschemamigrationstable .srake abortedActiveRecordStatementInvalid PGSyntaxError ERROR syntax error at or near LINE ...NSERT INTO schemamigrations version VALUES v v...  INSERT INTO schemamigrations version VALUES v v v v v v v v v v v v v v v v v v v v v v v v v vUsersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadapterspostgresqldatabasestatements.rbin asyncexec'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadapterspostgresqldatabasestatements.rbin block in execute'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadaptersabstractadapter.rbin block in log'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactivesupportlibactivesupportnotificationsinstrumenter.rbin instrument'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadaptersabstractadapter.rbin log'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadapterspostgresqldatabasestatements.rbin execute'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordconnectionadaptersabstractschemastatements.rbin assumemigrateduptoversion'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordschema.rbin define'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordschema.rbin define'Usersmgrachevmmdbschema.rbin top required'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactivesupportlibactivesupportdependencies.rbin load'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactivesupportlibactivesupportdependencies.rbin block in load'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactivesupportlibactivesupportdependencies.rbin loaddependency'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactivesupportlibactivesupportdependencies.rbin load'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin loadschema'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin block in loadschemacurrent'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin block in eachcurrentconfiguration'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin each'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin eachcurrentconfiguration'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordtasksdatabasetasks.rbin loadschemacurrent'Usersmgrachevmmvendorbundlebundlergemsrailsbceecfdactiverecordlibactiverecordrailtiesdatabases.rakein block levels in top required'Usersmgrachevmmvendorbundlegemsrake..libraketask.rbin call'Usersmgrachevmmvendorbundlegemsrake..libraketask.rbin block in execute'Usersmgrachevmmvendorbundlegemsrake..libraketask.rbin each'Usersmgrachevmmvendorbundlegemsrake..libraketask.rbin execute'       The text was updated successfully but these errors were encountered
Add force option to droptable for ignoring a missing table;sometimes you don't know if a previous migration ran so it's usefulto unconditionally drop a table       The text was updated successfully but these errors were encountered
STI cast new instances to default type on initialize.;fixes        The text was updated successfully but these errors were encountered
Sti class name;I outlined what I'm trying to accomplish with this pull request here httpsgroups.google.comforumtopicrubyonrailscoreQVjtcsNLA brief summary of the link aboveI had a class 'Code' and a database table 'codes'.'Code' had an attribute 'units' which could be either '' or ''I wanted the STI classes to be CodeDollar or CodePercentI was able to get this by redefining findsticlass and stiname but it didn't work with build or new on the parent classThese changes will attempt to get a class for inheritance from findsticlass and if that doesn't work will fall through to the old way of doing things.This allows you to match whatever string is in your inheritance column in your database with whatever class you want by redefining findsticlass and stiname.       The text was updated successfully but these errors were encountered
Added support for conditional fragment caching using if and unless options.;This allows fragment caching to be used conditionally by passing ifunless to the cache helper method. This comes in especially handy when caching forms that may contain changed valueserrors.Usage cache user 'form' unless user.changed do  render partial 'sharederrormessages' locals instance user  formfor user do |f|  div classfield div f.label name div div f.textfield name div div div classactions f.submit  div end  end        The text was updated successfully but these errors were encountered
Add a failing test case for issue;HelloThis pull request add a failing test case for . I'm ciskipping since the build should fail. I will add the changelog entry etc. when we can get it fixed.Have a nice day.       The text was updated successfully but these errors were encountered
Return a plaintext missing translation message for nonhtml keys;ActionViewHelpersTranslationHelpertranslate returns an html error message regardless of whether the key ends with html which completely breaks the convention for translations containing html and results invalid output.Seen as there's no way to configure this message globally without monkeypatching the helper I think the default behaviour should be a little smarter.       The text was updated successfully but these errors were encountered
Don't HTML escape ActionMailer plaintext templates;Here's a test case and fix for issue .The problem only exists when the evaluating block expressions.       The text was updated successfully but these errors were encountered
ActiveJob Sucker Punch adapter Enqueueat implementation;Adds enqueueat implementation for the suckerpunch adapter.       The text was updated successfully but these errors were encountered
Hashdeepmerge does not yield block for false boolean value.;When applying deepmerge with block on Hash with false keys the block does not get yielded.   railsactivesupportlibactivesupportcoreexthashdeepmerge.rb   Line  in efd       selfk block tv block.callk tv v v    The value tv should be properly checked for nil e.g. tv.nil.Failing test def testdeepmergewithblockforbooleanvalues hash c c false c false  hash c c true  expected c c c false true c false  assertequalexpected hash.deepmergehash |key old n| key old n  hash.deepmergehash |key old n| key old n  assertequal expected hash endTest output expected actual ccc false true cfalsecctrue cfalse       The text was updated successfully but these errors were encountered
scopechain should not be mutated for other reflections;Currently scopechain uses same array for building differentscopechain for different associations. During processingthese arrays are sometimes mutated and because of inplacemutation the changed scopechain impacts other reflections.Fix is to dup the value before adding to the scopechain.Fixes .       The text was updated successfully but these errors were encountered
Fix NameError undefined local variable or method result;Caused by ed. was closed in favor of dcbe.But dcbe is only fixed sqlite adapter and still broken mysqladapter with preparedstatements true execstmtandfree.diff git aactiverecordtestconfig.example.yml bactiverecordtestconfig.example.ymlindex ed..bca  aactiverecordtestconfig.example.yml bactiverecordtestconfig.example.yml connections username rails encoding utf collation utfunicodeci preparedstatements true arunit username rails encoding utf preparedstatements true oracle arunit be rake testmysql verbose...Using mysqlUserskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersmysqldatabasestatements.rb warning assigned but unused variable resultUserskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersmysqldatabasestatements.rbin block in execstmtandfree' NameError undefined local variable or method result' for ActiveRecordConnectionAdaptersMysqlAdapterxfeceb SELECT arinternalmetadata. FROM arinternalmetadata WHERE arinternalmetadata.key LIMIT ActiveRecordStatementInvalid from Userskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersabstractadapter.rbin block in log'...       The text was updated successfully but these errors were encountered
Fix inherited tablename from abstract class;Hi guys I found this when I worked on my project. Let me explain situation.Whenclass Parent ActiveRecordBaseself.abstractclass truein the end it call tablename methoddefaultscope where... for exampleendclass Child ParentendThen Child has an incorrect tablename method because Parent is loaded first and already has overrided tablename method like thisdef tablename ?Ç£parents?Ç¥ endwhich inherits Child.       The text was updated successfully but these errors were encountered
Use the correct connection for resetpksequence;When a fs.modelclass.connection uses a different database than connection connection.resetpksequence will fail with an exception causing fixture load to rollback. This is reproducible for any ActiveRecordBase class that calls establishconnection with a different database.       The text was updated successfully but these errors were encountered
Fix README heading according to Markdown conventions;In this patch I changed the heading of the main README and the automatically generated README by Railties. In my opinion the title of the README is of incorrect structure because it uses a second level heading instead of a first level heading.       The text was updated successfully but these errors were encountered
Rails Custom Flash Type Undefined After Error;A suggested fix to After an error is raised the custom flash methods are unavailable it seems that they disappear from the scope of from where they were defined.The class instance variable which holds the name of the custom flash types persists but it does not redefine the method upon a new request perhaps exceptions clear out the scope of the dynamically inserted methods of a controller.The suggested fix checks whether the controller has the new method and if it doesn't it definemethod it.I was not able to reproduce the error in the integration test while imitating a route that raises an exception so I added a unit test.       The text was updated successfully but these errors were encountered
Fix a bug where ASDependencies changes the behaivior of NameErrorname;I noticed that NameError objects loses a const name after require 'activesupportdependencies'. The following example replicates the bug fixed in this commitbegin DoesNotExistrescue NameError e e.name DoesNotExistendclass A endbegin ADoesNotExistNeitherrescue NameError e e.name DoesNotExistNeitherendrequire 'activesupportdependencies'begin DoesNotExistrescue NameError e e.name nilendbegin ADoesNotExistNeitherrescue NameError e e.name nilendThis commit changes ASDependencies to not just raise NameError but create an object first and raise the object so NameErrorname will never be nil.I'll send other pull requests if I find this bug in more places in Rails.       The text was updated successfully but these errors were encountered
sanitiser helper may be remove in . update doc ci skip;using railshtmlsanitizer gem still Rails providing striptags striplinks features. May be it'll not remove in according that updated dockaspth rafaelfranca       The text was updated successfully but these errors were encountered
Pass instance to In when translating error;It'll allow to do like this inside model that has .titlevalidatesnumericalityof quantity greaterthen  title h hinstance.title with translationserrors models mymodel greaterthen of title must be greater than count       The text was updated successfully but these errors were encountered
Do not call db in pluck when collection is already loaded;Hi.I am more then sure this is not a bug but probably somebody will tell me how to do it in correct way.What do I haveIn REST controller I try to show all models of specific type. One method of this model is dependent on hasmany relationship def mymethod hasmanyrelation.pluckmymethod endSo I try to preload this relationship in controllerdef index render json Model.includehasmanyrelationendEager loading works but pluck does not care about it so I came with this hackhasmanyrelation.loaded offers.maphasmanyrelation offers.pluckhasmanyrelationThis works but looks like dirty hack. PR fix works but of course it is not correct.We also notice that pluck itself has more of less common functionality def pluckcolumnnames if loaded columnnames.maptos klass.attributenames klass.attributealiases.keys.empty return records.pluckcolumnnames endbut it does not work because it is different loaded and here it is false in case of my eager loadQuestion is How to do it in correct way       The text was updated successfully but these errors were encountered
Make .findeach return an Enumerator if no block given;Previously findeach required a block. This is incongruent with other enumerable behavior which can be chained.By returning a potentially lazy enumerable the benefit of memory management is maintained but with the added benefit of chainable operations.       The text was updated successfully but these errors were encountered
SetCookie values must be strings according to rack spec;But it's still possible makesetcookieheader return nil in a empty rails app.Once I think it should be handle via rack but according to the rack SPEC seems this is a better place.Notice it's still not perfect way to fix because if I add RackLint to application.rb still ActionDispatchRequestSessionxcd not yet loaded error happen. ActionDispatchSessionCookieStore can not pass RackLint and report below error. session ActionDispatchRequestSession not yet loaded must respond to store and config.middleware.insertafter ActionDispatchSessionCookieStore RackLint       The text was updated successfully but these errors were encountered
Default rendering behavior if respondto collector doesn't have a block.;When a respondto collector doesn't have a response then a nocontent response should be rendered. This brings the default rendering behavior introduced by to controller methodsemploying respondto       The text was updated successfully but these errors were encountered
Fixes possible backward incompatibility;No description provided.        The text was updated successfully but these errors were encountered
Escape multibyte line terminators in JSON encoding;Currently jsonencoding respects the JSON spec as it should which disallows \n and \r inside strings escaping them as expected.Unfortunately ECMA Javascript disallows not only \n and \r in strings but Line Terminators which includes U and U. See here httpbclary.coma.This pull request adds U and U to be escaped.Why?áIt's very common to see something like this in a Rails templatescript typetextjavascript?ávar posts posts.tojson scriptIf U or U are part of any attributes output in the tojson call you will end up with an exception. In Chrome?áUncaught SyntaxError Unexpected token ILLEGAL.In other words if one of your users pastes something into a textarea that happens to include these fancy unicode line terminators and you run tojson on that model and stick it in a template that page is probably broken now.Why notThis is JSON encoding and the JSON spec is specific about how to?áencode strings. U and U don't get special treatment.That being said this is nonobvious counterintuitive and can be tough to debug httpswww.google.comqu.What do you do in your apps to deal with this Is there a convention I'm missing       The text was updated successfully but these errors were encountered
AMDelivery job configuration;matthewd senny       The text was updated successfully but these errors were encountered
Add Active Record and PostgreSQL to guides table of contents ciskip;This commit also changes the formatting of code samples a little bit sothat they are more adapter to the limited width of Guides webpage.       The text was updated successfully but these errors were encountered
assigning '.' to a nullable numeric column does not make it dirty;This is a fix for the issue described in It treats '.' the same way as ''. This makes sure that nullable numeric column don't get changed when you assign '.'.If it's ok I'll backport that change since the behavior was reported from ..x       The text was updated successfully but these errors were encountered
reload with new record which is not persisted should throw error fix the issue;reload with new record which is not persisted should throw error.fix the issue Thanks to rafaelfranca       The text was updated successfully but these errors were encountered
Code cleanup for ActionDispatchFlashcall;Here I include a fix for the broken specs in railties as reported here comment       The text was updated successfully but these errors were encountered
PostgreSQL jsonb support;Adding support to ActiveRecord for jsonb column type when using Postgresql .For details about Json vs Jsonb implementationshttpwww.postgresql.orgdocs.staticdatatypejson.htmlFor ease of testing I've setup a Vagrant box with PostgreSQL . Beta a Ruby . environment ready to go if that's your thingvagrant init christeaguecentospostgresqlruby       The text was updated successfully but these errors were encountered
Closes . Fix simpleformat with sanitizing option when the text contains single line feed.;If we call simpleformat method with sanitizing option a single line feed \n is replaced with unexpected characters .ltbr gtI think we should backport to stable.       The text was updated successfully but these errors were encountered
Http token parser bug;Fixing a problem detailed in . Not ready to pull until that discussion is resolved.       The text was updated successfully but these errors were encountered
fix testcase ruby.. warned unused variables;ruby .. r later warned unused variables. if you run rake test some testcase is fail. because this testcase read stderr with .. warning messages.I think this testcase is enough for confirmation of display warning messages.       The text was updated successfully but these errors were encountered
ActiveRecordBaseattributes return HashWithIndifferentAccess instance instead of Hash instance.;In current behavior ActiveRecordBaseattributes return Hash instance.But instance instance support not only string key but also symbol key.And other many api support string symbol key.I think ActiveRecordBaseattributes also return HWIA instance to support string symbol keys.       The text was updated successfully but these errors were encountered
Respond to PUTPATCH API request with ok;This commits changes the behavior of respondto for successful PUTPATCHrequests on format associated with APIs such as xml and json.Previously respondto would just return nocontent and no body.After this commit it returns ok and the entire updated object asthe response body.The rationale behind this commit is that a PUT POST or PATCH call may makemodifications to fields of the underlying resource that weren't part of theprovided parameters for example createdat or updatedat timestamps.This commit prevents an API consumer from having to hit the API again for anupdated representation. Rails already provides the created representation aftera POST so it is coherent to have the same behavior on PUT and PATCH.See discussion at        The text was updated successfully but these errors were encountered
Make Time and DateTime endof methods consistent;BeforeTime.now.endofmonth.todatetime DateTime.now.endofmonthAfterTime.now.endofmonth.todatetime DateTime.now.endofmonthThat's because of Time using secfractions for endof methods while DateTime's methods ignored secfractions even though it's supported by the class.This fixes        The text was updated successfully but these errors were encountered
Remove distinct from relation when doing a relation count;Remove distinct from relation when doing a relation count since it gets added on subquery part when selecting a distinct count.Fixes        The text was updated successfully but these errors were encountered
Updating docs for config.actionview.erbtrimmode;I would like to help resolve .This documents that Erubis is now the default engine being used by Rails. This also adds an ERB example to remove trailing white spaces.       The text was updated successfully but these errors were encountered
Don't parallelize tests running on jruby;Running tests using Minitest's parallelizeme leads to the followingerrorArgumentError marshal data too short load at orgjrubyRubyMarshal.java run athometravisbuildrailsrailsactivesupportlibactivesupporttestingisolation.rb runsuite athometravisbuildrailsrailsvendorbundlejruby.gemsminitest..libminitestunit.rb each athometravisbuildrailsrailsvendorbundlejruby.gemsminitest..libminitestparalleleach.rbrake abortedFull Log herehttpss.amazonaws.comarchive.travisci.orgjobslog.txtAbove Error Occurs in many railties ap amo av when tests are run on jruby. with this patch atleast the tests would compete not due due weird threading issues.       The text was updated successfully but these errors were encountered
Backport a supersimplified version of fixing that exists can produce invalid SQL SELECT DISTINCT DISTINCT;To recap the combination of a uniq true association and the distinct callin constructlimitedidscondition combine to create invalid SQL becausewe're explicitly selecting DISTINCT and also sending distinct on to ARELvia the relationdistinctvalue.Where was the forever fix this is the minimal fix. Instead ofproperly indicating the distinctness of the query through uniqvalue alonewe use the literal DISTINCT select statement produced by distinct andset uniqvalue to always be falseyHappy to backport the full change but have the sense this is a simplerintervention for the . line.       The text was updated successfully but these errors were encountered
Fix for failing uniqueness validation on enum.;Adding test case and fix for the issue described in here        The text was updated successfully but these errors were encountered
Optimize none and one relation query methods to use LIMIT and COUNT.;I was surprised to find out that relation's none method was loading the entire collection as an arrayeven if no block or limit was given. This contrasts how any and many work which is to use LIMIT and COUNT respectively if no block and limit is given.IMO it's more natural to use .none query rather than either empty because empty is an Array method while none is an Enumerable method and thus seems more suitable for a generic set such a a set of database rows. I therefore changed none to follow the already existing behavior for any and many.I also implemented an optimized one for similar reasons and for completion sake just as me others could be surprised that one behaves differently than any and many and I don't see a drawback to being consistent in providing an efficient implementation if possible.This change applies to relations e.g. User.all as well as associations e.g. account.users.Beforeusers.noneSELECT users. FROM usersusers.oneSELECT users. FROM usersAfterusers.noneSELECT AS one FROM users LIMIT users.oneSELECT COUNT FROM usersNullRelation has been updated to shortcurciut none and one as it already does with any and many.Also improved method documentation a bit.I added the appropriately modified same set of tests as present for any and many methods in relationstest.rb and associationshasmanyassociationtest.rb unit tests.       The text was updated successfully but these errors were encountered
Change Integeryear to return a Fixnum instead of a Float to improve consistency;Integeryears returns a Float while the rest of the accompanying methods return a Fixnum.This PR converts the constant ..days to an integer to ensure that Integeryears returns a Fixnum as well and improve the consistency of the API.Closes .       The text was updated successfully but these errors were encountered
Make pg adapter use bigserial for pk by default;This PR makes postgres adapter generate tables using bigserial type for primary keys. There are no performance implications by doing this and it should be fully backwards compatible.Also see httpstwitter.compvhstatuscc tenderlove pvh schneems hone       The text was updated successfully but these errors were encountered
Do not run rake test tasks with atexit;For rake test tasks call Minitest.run explicitly instead of using the atexit hook. This executes test tasks at their specified position and not only at the end of the rake run.E.g.rake testmodels othertask testcontrollersThis first runs the model tests then othertask and finally the controller tests. Before this change othertask was run first then the model and controller tests were run in one go.If a test task fails rake exits with exit code same as before without running the remaining tasks.Fixes .       The text was updated successfully but these errors were encountered
Update urlhelper.rb;add block to linktoif when condition is true       The text was updated successfully but these errors were encountered
fix infinite retry loop in Marshal.load autoloading logic;Fix an infiniteretry loop in the Marshal.load autoloading logic extension by shortcircuiting if the name has already been processed for autoloading and yet continues to fail to load.As shown in the test case and in this gist httpsgist.github.comseanwalbrandbcaf the issue is triggered specifically in the scenario where an object had been dumped as a 'concrete' nested class i.e. defined on the subclass but is being loaded in a context where the nested class has since been rendered 'nonconcrete' i.e. defined only by the superclass.A reallife hang example occurs if you take an ActiveRecordBase object dumped e.g. to memcached under rails ..x and attempt to load it under rails .. where ActiveRecordConnectionAdaptersMysqlAdapterColumn is no longer a concrete nested class as of the following commit eaadiffedeadeccdbdfL       The text was updated successfully but these errors were encountered
Creating application model template;This PR creates the ApplicationModel class. This class will serve as an intermediate between a model and ActiveRecordBase. Currently to create a model one follows the following procedureclass MyModelName ActiveRecordBaseendThis inherits directly from ActiveRecordBase and means that all configurations on ActiveRecordBase are global to all of its subclasses unless the subclass redefines the configuration on its own.I'm introducing ApplicationModel so that models have an intermediary layer for inheritance like soclass MyModelName ApplicationModelendWhat the ApplicationModel class does is allow different sets of configurations to be defined on multiple applications. Each Rails application will have its own ApplicationModel. The ApplicationModel figures out which application it belongs when it is pulled in through the railtie and configsfrom is specified.\cc spastorino josevalim Can you guys take a look I'm sure there's something I forgot so please let me know.       The text was updated successfully but these errors were encountered
Reorder query in active record query of rails guide;I checked the rails guides recently and found that query in the reorder is not correct. I corrected it and pushed that yesterday and it was merged. But today there was a change i.e to move from post to article and found the same mistake.In getting the the comments of article reordered by name there must be two thingsCurrent QuerySELECT FROM articles WHERE id ORDER BY nameIdeally It should beSELECT FROM articles WHERE id SELECT FROM comments WHERE articleid ORDER BY nameIt hit two queries on database first to load article and then comments but It is showing one.Ordering is done of post but it should be of commentsSame case for default case without any reorder i.e order by postedat Current query isSELECT FROM articles WHERE id ORDER BY postedat DESCIt should beSELECT FROM articles WHERE id SELECT FROM comments WHERE articleid ORDER BY postedat DESC       The text was updated successfully but these errors were encountered
Remove log message broadcast flag;This change forces nonASLogger objects to support thebroadcastmessages flag which means loggers such as the one in Ruby'sstandard library cannot be used.Fixes cc schneems       The text was updated successfully but these errors were encountered
Fix unscoping bug in preload and includes;This PR fixes .Currently unscoped block does not work for includes and preload.I changed ActiveRecordAssociationsPreloader to use all instead of defaultscoped.And ignore preload and includes scope to pass .       The text was updated successfully but these errors were encountered
Define Hashtransformvalues and transformvalues on only Ruby . and Ruby .;SummaryHashtransformvalues and Hashtransformvalues is implemented on ruby . httpsgithub.comrubyrubyblobtrunkhash.cLL so it should define these methods only on ruby . and ..       The text was updated successfully but these errors were encountered
Suppress DEPRECATION WARNING introduced with eae;After this commit DEPRECATION WARNINGs are left. of theme are related with destroy method ex httpsgithub.comrailsrailsblobmasteractiverecordtestcasesassociationsjoinmodeltest.rbL.So reloading destroyed model raises error.I cannot find out why of theme is failed httpsgithub.comrailsrailsblobmasteractiverecordtestcasesassociationstest.rbL.       The text was updated successfully but these errors were encountered
Moduledelegate cannot delegate to receivers named args or block for normal methods or arg for setters.;I found this bug while trying to delegate to a method called block. Consider the following coderequire 'activesupportcoreext'class Foo def block block || Object.new end  delegate dup to blockend Foo.new.dupI expected this to return a new instance of Object but instead it raised the following errorTypeError can't dup NilClassThis is because block is an argument in the dynamically generated dup method on Foo. The signature of that method looks like thisclass Foo def dupargs block ... endendNo block is given to the dup call so block is nil thus the error. The same problem exists with delegating to args and delegating to arg if the method you're delegating happens to be an attribute writer.I'm not super thrilled with how the tests turned out and would appreciate suggestions on how to make them a bit clearer and possibly shorter but they fail without the patch and pass with it.Please let me know if there's anything I should have done differently.       The text was updated successfully but these errors were encountered
Callback collision;Rebased version of previous pull request see       The text was updated successfully but these errors were encountered
ConncectionPool Prevent reuse of a connection with open transactions;Checking in a connection with an open transaction can lead to flaky issues as thread started the transaction might or might not get back the same connection.See        The text was updated successfully but these errors were encountered
Ensure Action Cable files are removed when skipactioncable is set.;The Action Cable generators creates four files which need to be removedif skipactioncable is set. In addition skipactioncable shouldbe set to true when optionsapi is set.appassetsjavascriptscable.coffeeappchannelsapplicationcablechannel.rbappchannelsapplicationcableconnection.rbconfigrediscable.ymlFixes .       The text was updated successfully but these errors were encountered
make UrlGenerationError message more generic fixes .;This is the minimal solution. Would be nice to distinguish between missing keys and values that do not match constraints some day.       The text was updated successfully but these errors were encountered
Fix postgresql line type test suite teardown;Setup skips before initialising connection variable so we should check this in teardown.       The text was updated successfully but these errors were encountered
Add ARBasevalid method;This is helper method in case when some operations should be done on a record before saving. But they doesn't make sence if record is invalid.def createdeveloperfromlinkedinparameters d Developer.newparameters d.valid d.importlinkedinprofile d.saveend       The text was updated successfully but these errors were encountered
Added support for LCCOLLATE and LCCTYPE for PostgreSQL adapter.;Since version . PostgreSQL supports specifying custom LCCOLLATE and LCCTYPE for CREATE DATABASE so one database cluster can now contain databases with different collations.This adds support for lccollate and lcctype options for database.yml       The text was updated successfully but these errors were encountered
Improve Getting Started Guide;Connected with Removed permitting of the params in the section . because it's will be added only in ..       The text was updated successfully but these errors were encountered
PostgreSQL JSONB columns do not preserve the key order of hashes;SummaryPostgreSQL JSONB columns do not preserve the key order of hasheshttpswww.postgresql.orgdocs.staticdatatypejson.htmlDue to this setting a JSONB column to the same hash twice can cause model.changed to return false positives       The text was updated successfully but these errors were encountered
Add missing test for;Adds missing test cases for        The text was updated successfully but these errors were encountered
Properly discover a connection is closed in postgresqladapter;PQstatus doesn't properly test if future operations will succeed. APQping function is added to libpq in PostgreSQL . but if we relyon it everyone on earlier versions of Postgres is out of luckand the pg gem wouldn't have the 'fix' until the next release.Thanks to cbrecabarren and ged for handling all the dirty details.Closes .cc tenderlove jonleighton       The text was updated successfully but these errors were encountered
Refactor debug view;Avoid logic in ERB and use helpers.       The text was updated successfully but these errors were encountered
Recursive hash key methods;I've updated Hashstringifykeys Hashstringifykeys Hashsymbolizekeys and Hashsymbolizekeys to accept an option which applies the method recursivelya foo bar foo nestedfoo bar morefoo bar a.stringifykeys  foo bar foo nestedfoo bar morefoo bar a.stringifykeysrecursive true foo bar foo nestedfoo bar morefoo bar It also handles hashes nested within arrays well.       The text was updated successfully but these errors were encountered
Optout of always writing of serialized columns serialize someattr dirty never;This is a first cut at a simple patch that allows developers to protect certain serialized columns from being written to the database on every update. The default behavior is not affected and this patch is backwards compatible. Quick exampleclass MyModel ActiveRecordBase somefield gets written on every write serialize field same as above serialize field dirty always serialize field Object dirty always field only gets written if fieldwillchange was called serialize field dirty neverendThe current second argument classname still works and is optional as well.This patch fixes in a very lightweight way. If this gets any interest I'd love to discussAllowing values clone and hash to the dirty option. This would store a hash or copy of the object after initialization and compare it when saving. This is rather expensive so it has to be strictly optin.Consolidating the existing serializedattributes and the new serializedattributeoptions class attributes. IMO it would be nice to have something like MyModel.serializedattributeoptions myfield dirty always coder XXX. This could be implemented by first deprecating serializedattributes in case somebody is directly using it. It may even make sense to simplify the serialize method more by making the current classname argument a part of the options hashI've never attempted to contribute to rails so forgive my ignorance wrt process. I'm also more than happy to change the naming formatting and structure of the code as needed. I'll also write some specs I already wrote some but wasn't able to run them... .Brief rationale Consider a system with two separate processes A and B. A reads your model object does something for a second and then call save on it. Whatever your serialized column's value was when A read it is now written to the database. In the meantime B might have modified that column. Those changes are now lost.       The text was updated successfully but these errors were encountered
Extract datasourcesql to refactor data source statements;No description provided.        The text was updated successfully but these errors were encountered
Fix ARMigrator to create schemamigrations table for MySQL utfmb encoding;conditionsMysqlAdapterencoding utfmbsteps to reproducerake dbcreaterake dbmigrateMysqlError Specified key was too long max key length is bytes CREATE UNIQUE INDEX uniqueschemamigrations ON schemamigrations versionThis commit fixed dbschemaload but didn't apply to dbmigrate.refs        The text was updated successfully but these errors were encountered
Remove passing original exception;Passing original exception was deprecated by .This produced the warning when we use activerecord with sqlite adaper and call drop taskDEPRECATION WARNING Passing originalexception is deprecated and has no effect. Exceptions will automatically capture the original exception.I think this is just unfinished work of .       The text was updated successfully but these errors were encountered
Fix appgenerator for api only apps when Action Cable is skipped;It was giving error trying to gsub application.html.erb which doesn'texist for api only app.r rafaelfrancaxref comment       The text was updated successfully but these errors were encountered
Strip extra controller from a generated controller name;This happens to me all the timerails generate controller AdminFoosControllerand so I end up with crap called FoosControllerController. This strips the extra controller at the end. I'm not sure about the implementation though I'd never overridden a protected method before... feedbackcc. mperham vipulnsward       The text was updated successfully but these errors were encountered
Update activesupportlibactivesupportjsonbackendsokjson.rb;handling single quote in json data while decoding. Ex 'key' 'value'Issue        The text was updated successfully but these errors were encountered
Issue with JSON serialization;Suppose we have simple model with custom asjsonclass TestModel ActiveRecordBase def somemethod 'test output' end def asjsonoptions optionsmethods ||  optionsmethods.pushsomemethod super options endendAnd we want to serialize array of recordsTestModel.new .asjsonExpected behaviour for me is that somemethod will be called just times. But I get instead ?ÿä. This is because of modification of options variable which passed in superI've tested it with rails . .. and latest master. With ActiveRecord and MongoMapper.       The text was updated successfully but these errors were encountered
Save join data with hasmany through.;Fixes .If you have conditions on a hasmany through it does notsave the data. This patch fixes that by generating thecorrect SQL.This is based on work done by clarkgr on .I don't have a test written because I'm an AR noob but you have to start somewhere...All the existing tests pass.       The text was updated successfully but these errors were encountered
Update secrets to use modern crypto;Fixes by replacing the default mode with AESGCM allowing the mode to be configured manually correctly generating keys and using a random initialization vector on every encryption.       The text was updated successfully but these errors were encountered
ActionMailerBasemail should allow overriding templatename for default template rendering when a block is passed;No description provided.        The text was updated successfully but these errors were encountered
Fix retrieving duplicated columns with mysql;This fixes SQL queries with MySQL where the same name is used several times for the same column therefore breaking the build.When a field is named several times second and further occurencies get prepended the name x where x is the index.       The text was updated successfully but these errors were encountered
Gemfile is even more cleaner now.;cleaned       The text was updated successfully but these errors were encountered
Set default precision for ActiveModelTypeDecimal to;SummaryActive Model expects the default precision to be . If precision is which it is by default MRI will autocorrect this to be but JRubydoes not. In order to prevent an error being raised we have to manuallydefault the precision to be .There is no need for a regression test the test suite already has one.       The text was updated successfully but these errors were encountered
HashWithIndifferentAccessselect working as intended;Before this commit reject returned a HashWithIndifferentAccess whereas select returned a Hash. Now select also returns a HashWithIndifferentAccess.I think the behavior was confusing refactoring some code I changed a couple of hashwithindifferentaccess.reject |kv| v.blank by a hashwithindifferentaccess.select |kv| v.present because I found it a lot more readable in the context it was and was surprised that the behavior changed.I'm not sure if testing both bang methods is necessary but I thought it might not hurt.Hope to hear what you think.Fixes        The text was updated successfully but these errors were encountered
Destroy marked child records before new child records inserted;This pull request should resolve issue.There was a bugannoying problem whenthere are some child records for has many association marked for destructionin the the same transaction added new child records which conflicts with marked records by schema constraints like unique values for some attributeson save there is Rollback Exception because new conflicted records have been inserted before marked for destruction records are destroyed.Example code httpsgist.github.compftg       The text was updated successfully but these errors were encountered
fix test error when running with postgresql.;This Sqlite should be in if block.Was giving error because sqlite is not loaded       The text was updated successfully but these errors were encountered
globalid method name change from 'globalid' to 'toglobalid' breaks activejob;This is in reference to httpsgithub.comrailsglobalidblobmasterlibglobalididentification.rbLThis change should be merged in once whenever ActiveJob is updated to reference the latest globalid.       The text was updated successfully but these errors were encountered
When running plugin new the generated .gitignore should include nonproject files in test dummy;The current behavior is that the ignored nonproject files are hardcoded to testdummy in the generated .gitignore. The patch makes .gitignore a template and ensures that the test dummy directory corresponds to the supplied path if the dummypath option is supplied or not.I included a sanity check test that passes for the current behavior and one for the new behavior.MikeP.s. First time committing hope things look OK. Thanks       The text was updated successfully but these errors were encountered
Fixes Additional select columns are removed when using includes;No description provided.        The text was updated successfully but these errors were encountered
Add data type support to storeaccessor;Add type casting for storeaccessors. First exampleclass TypedUser User storeaccessor settings loginat datetimeendu TypedUser.newactive false loginat ' ' u.loginat.isaDateTime true u.loginat DateTime.newu.reload after loading record from db store contains raw datau.settings'loginat' ' ' but accessor returns type casted valueu.loginat DateTime.new trueThis feature is the most efficient when working with Postresql hstore because hstore stores all values as strings. Example without typed accessorsclass User ActiveRecordUser suppose we store some counter within hstore 'settings' storeaccessor settings counter we have to override getter to get value as integer def counter super.toi  endend with typed accessorclass User ActiveRecordUser storeaccessor settings counter integerendThis makes code depend less on store type.Another feature is data normalizationclass User ActiveRecordUser storeaccessor settings birthday dateendUser.newbirthday '' stores 'birthday' as '' User.newbirthday '' stores 'birthday' as '' tooCustom types are also supported they must inherits from ActiveRecordTypeValueclass User ActiveRecordUser provide class or instance itself storeaccessor settings birthday BirthdayValue money MoneyValue.newend       The text was updated successfully but these errors were encountered
Fix an issue with malformed HTTP headers in tokenandoptions.;HelloThe following PR solves the issue .Please feel free to give me some feedback on the PR this is my first attempt to contribute. ?æì       The text was updated successfully but these errors were encountered
Mapping Fix delete mapping race condition.;If multiple clients attempted to delete a mapping or a single client attempted to delete a mapping as an index is beingcreated a NPE could be observed in the MetaDataMappingService. This fix makes sure we don't try to access a null indexMetaData object.Also add a test to spawn multiple create and delete threads to provoke this race condition.Closes        The text was updated successfully but these errors were encountered
maven use elasticsearchparent project;We created another parent project elasticsearchparent which contains all dependencies that might be used in elasticsearch java projects including elasticsearch core itself.This commit is the first step to this goal and could require some cleanup though mvn clean install is working fine.Also goal is to have in elasticsearchparent one branch per major elasticsearch maintained version master .x so this commit will be applied as well in .x branch but with a parent dependency on ..SNAPSHOT.The build release script must be also tested and modified if needed.It might be interested to join the efforts done in plugins repos and in core repo to have at the end of the day one single release script available in elasticsearchcommon project and that might be used as well by thirdparty plugins developers.Note that releasing an elasticsearch version will require first to release the elasticsearchparent related version then update elasticsearch pom.xml to depend on the final version remove SNAPSHOT that is.       The text was updated successfully but these errors were encountered
Qualify termQuery method under the Boolean Query section;As static keyword was not used when importing QueryBuilders the termQuery method needs properly qualified when being passed to the mustmustNot methods in the Boolean Query section of the documentation       The text was updated successfully but these errors were encountered
Add support for pathstyleaccess;From elasticelasticsearchcloudawsAdd a new option pathstyleaccess for S buckets. It adds support for path style access for virtual hosting of buckets.Defaults to false.Closes elasticelasticsearchcloudaws.       The text was updated successfully but these errors were encountered
id route value is required;id route value is required       The text was updated successfully but these errors were encountered
new ScriptProcessor for Ingest;Enable running arbitrary scripts from within an ingest pipeline.       The text was updated successfully but these errors were encountered
Only use dateline fix when polygon crosses dateline.;es.x attempts to split polygons on the dateline alongwith holes and then reassign the holes to the newpolygons. In certain circumstances this assignmentfails The geojson format makes it clear which hole belongs to whichpolygon and these issues can be avoided for polygons whichdo not span the dateline.there are additional issues with splitting polygons on thedateline. Some shapes are lost in certain circumstances bugyet to be filed.Sample shape httpsgist.github.comanonymousfbbdecdfc       The text was updated successfully but these errors were encountered
Add permission to access groovy.lang.Reference from Groovy scripts;Closes        The text was updated successfully but these errors were encountered
Startup Disable globbing in shell script;In order to not accidentally expand wilcard argumentslike http.cors.alloworigin '' on startup globbingneeds to be disabled before Elasticsearch is started.Closes        The text was updated successfully but these errors were encountered
Grouping prototype implementation;HiI am trying to implement grouping feature and want to contribute to es. This is a proofofconcept prototype to start conversation it is not meant to be pulled.What do i mean by groupingLets say i have Documents id name Doc field A  id name Doc field A  id name Doc field B  id name Doc field B I want to execute search that is something like this query matchall group field With result field A hits id source id name Doc field A  id source id name Doc field A B hits id source id name Doc field B  id source id name Doc field B Implementation.First i looked at lucenegrouping module but later decided to make a simple slower onepass solution based on Facets. Basically in aggregator i collect docs in maps and later sort them and merge into one map.The code is a workinprogress for now because i was unable to fit nicely it into current hierarchy SearchPhaseController operates only with flat ScoreDocs array or i have to reimplement whole Search stack from sratch.Any thoughtThank       The text was updated successfully but these errors were encountered
add support for resetting dynamic cluster settings;This PR implements support for resetting transient persistent cluster settings to either the configuration file value defined at node startup or if it does not existed the default value.Resetting settings is done using the normal cluster update settings API by just assigning a JSON null to the setting one want to reset. See updatesettings.asciidoc for details.There are maybe othersmarter ways to do that but I think this is just straightforward and it works This is related to but does only apply to cluster settings not custom analyzer.       The text was updated successfully but these errors were encountered
Create PIDDIR in init.d script;Since the varrunelasticsearch directory is cleaned when the operating system starts the init.d script must ensure that the PIDDIR is correctly created.Closes        The text was updated successfully but these errors were encountered
fix typo in docsreferencemodulescluster.asciidoc;No description provided.        The text was updated successfully but these errors were encountered
Fix typo in JVM checker user help.;When checking the JVM currently running ES we provide the user withhelp on which environment variable to use to disable the check incase the check fails. The variable we point to however is the wrongone.As discussed by mail previously.       The text was updated successfully but these errors were encountered
Version bump AWS SDK ..;bump versionfixed issue with double md signature generation       The text was updated successfully but these errors were encountered
Raise proper failure if not fully reading translog entry;When reading a translog entry raise a proper error when not reading it fully.       The text was updated successfully but these errors were encountered
Bootstrap.java fix PID file creation;This change fixes various failure modes on PID file creation which have beenintroduced by using niocheck if PID file has a directory partAllow PID directory creation fail w FileAlreadyExistsExceptionthrown if directory exists and is a soft linkcreate PID file if it doesn't exist truncate it if it doesfixes        The text was updated successfully but these errors were encountered
background startup use PID file to signal success;This change introduces the use of elasticsearch's PID file to signal asuccessful startup. The start script binelasticsearch will wait aconfigurable amount of time default s for the PID file to appear. Afterthis timed out the script will print an error and return an error code.Note that if no PID file was specified on the command line the script will nowuse mktemp to create a private PID file only if ES is to be started in thebackground though. The command line help was updated correspondingly.Also the PID file generation code has been moved from the beginning of thebootstrap main method to the end.Fixes .NOTEPlease review my changes to srcmainjavaorgelasticsearchbootstrapBootstrap.java very closely I'm not too familiar with ES code and am not sure if I broke something.NOTE This change introduces a theoretical new error condition If elasticsearch requires longer than the timeout to bootstrap a false positive startup error will be reported by the script even though elasticsearch will be up and running eventually. This can be worked around by setting an appropriately long timeout via the new w command line option.       The text was updated successfully but these errors were encountered
Remove unused code from TransportShardReplicationOperationAction;This code can only be executed if primary and replica were on the same nodein which case an exception or something of the likes would be more appropriate.I still find it a little tricky to figure out how replica requests end up in the indexing threadpool and will try to make a pr for that as well.       The text was updated successfully but these errors were encountered
Added an optimizebbox option for geopolygon queries.;This setting is analogous to the one for geodistance queries and defaults to memory. Notethat the optimization will need to be updated when addressing .Closes .       The text was updated successfully but these errors were encountered
Use https to talk to blob.core.windows.com;... because security and stuff       The text was updated successfully but these errors were encountered
Added missing module registration in TransportClient for Significant Terms;Required for serialising significantterms agg responsesCloses        The text was updated successfully but these errors were encountered
Update checkstyle and fix violations;This PR updates the version of Checkstyle from current . to . and fix a bunch of new violations.A more recent version would allow us to use some new checkstyle modules like Javadocs.RedundantModifier is improved and now detects more violations that are fixed by this PR. The changes fall into three categories thanks nik for the nice summarypublic methods on nonpublic classes don't make sense. Remove the modifier and let the method inherit the modifier.trywithresources variables should not be declared final because they are implicitly final. final adds no extra information for the reader. I guess that makes them names rather than variables....enums are alway static so there is no need to declare them static.final doesn't do anything on anonymous classes because they can't be extended anyway. So we just remove the modifier.Classes declared inside of interfaces are always static so we shouldn't also declare them as static.For the record most of the changes were automated using this small Bash scriptbinbashinputtmpviolations.txt File is composed of lines like tmpelasticsearchsrctestjavaorgelasticsearchactionAction.javapublic while IFS'' read ra ADDR do if ADDR then echo ADDR | xargs sed i ADDRsADDR  else  echo Skipping file ADDR line ADDR word ADDR fidone inputCheckstyle was not updated to the latest version .. because it reports violations for final parameters in interface methods checkstylecheckstyle and we have a lot of these for good reason.I'm really sorry for the boringness of this kind of pull request.       The text was updated successfully but these errors were encountered
Add javadocs jars;This change adds javadoc jars to core testframework and plugins. Therewere a couple issues which javadoc found but doclint did not alreadyfind.       The text was updated successfully but these errors were encountered
Remove working directory;This commit removes the unused working directory and its associated environment variable WORKDIR       The text was updated successfully but these errors were encountered
upgrading to . docs;Thought it might be helpful to mention the full cluster restart in a more prominent location.       The text was updated successfully but these errors were encountered
Cleaner query parse error feedback;Provides the line and column number in user input where errors were spotted and a succinct parse error message free of serverside stack trace info.Many parser classes are changed but the core framework changes areXContentParser can now return a new XContentLocation object describing position of last token parsedExisting SearchParseException and QueryParsingException classes have all constructors changed to take an XContentLocation object to encourage supply of detailed parse feedbackCommon UserInputException interface introduced for exceptions relating to user input the above.SearchPhaseExecutionException that gathers results from many shards holds onto only the first of several typically duplicate UserInputExceptions from shardsBytesRestResponse outputs extra JSON fields for parse failures including line column and succinct error message.Closes        The text was updated successfully but these errors were encountered
Search Template conditional clauses not rendering correctly;implemented the conditional parsing capabilitiesattached few junit test cases to test itCloses        The text was updated successfully but these errors were encountered
DOC Fix the other default values for filter cache size and field data ...;...circuitRelates to        The text was updated successfully but these errors were encountered
Remove and forbid use of CollectionsshuffleList and Randominit;This commit removes and now forbids all uses ofCollectionsshuffleList and Random across the codebase. Therationale for removing and forbidding these methods is to increase testreproducibility. As these methods use nonreproducible seeds productioncode and tests that rely on these methods contribute tononreproducbility of tests.Instead of CollectionsshuffleList the methodCollectionsshuffleList Random can be used. All that is required thenis a reproducible source of randomness. Consequently the utility classRandomness has been added to assist in creating reproducible sources ofrandomness.Instead of Random Randomlong with a reproducible seedor the aforementioned Randomess class can be used.Closes        The text was updated successfully but these errors were encountered
add section header to systemd unit extension;Have you signed the contributor license agreementHave you followed the contributor guidelinesIf submitting code have you built your formula locally prior to submission with gradle checkIf submitting code is your pull request against master Unless there is a good reason otherwise we prefer pull requests against master and will backport as needed.If submitting code have you checked that your submission is for an OS that we supportWithout Service in the etcsystemdsystemelasticsearch.service.delasticsearch.conf file the following error is shown and the setting is not usedNov esebbjg systemd etcsystemdsystemelasticsearch.service.delasticsearch.conf Assignment outside of section. Ignoring.       The text was updated successfully but these errors were encountered
Nonmaster node cannot commit changes to the cluster state;There was only one remaining place where a nonmaster node wouldalter the cluster state on its own local node to update theNOMASTER cluster block. In order to ensure that the authoritativecluster state on each node is only updated by the master node thiscommit removes updating the NOMASTER block in the cluster state viaa cluster state update task. Instead the ClusterService now usesthe newly created ClusterServiceState see to maintain thecurrent cluster state and the local view of the cluster includingwhether there is currently a master from the point of view of theClusterService. In order to minimize the impact of this changewhenever the ClusterServicestate method is invoked to retrievethe current state if the no master flag is set the returnedcluster state will contain a NOMASTER block overlayed on theauthoritative state without altering the authoritative cluster state.       The text was updated successfully but these errors were encountered
fix mismatched curly bracket;No description provided.        The text was updated successfully but these errors were encountered
implement externalrelaxed versioning type Doesn't throw VersionConfl...;...ictExceptionsI wanted to change elasticsearch so it didn't throw a VersionConflictException if it received a createindexdelete request for a version less than the current index version. It returns the normal 'ok' response but the version number returned is the latest index version.The reasoning behind this is I am writing a very thin wrapper to elasticsearch and any request into the wrapper after elasticsearch is put onto a messagequeue if putting on that queue fails I return a specific 'temporary' error and the client is supposed to resend the request. When they resend the request I didn't want it to fail at elasticsearch hence this version type of externalrelaxed....feedback appreciated.       The text was updated successfully but these errors were encountered
Startup Prevent potential loop in binelasticsearch;If binelasticsearch is started with a single long argument it couldpotentially be caught up in a loop on bash dash handles this correctly.This commit adds an additional check that prints out an error messageCloses        The text was updated successfully but these errors were encountered
build enforce maven version for rpm module;When RPM module is supposed to be built we need to have at least maven .. to build the package.Otherwise the finalName we get is elasticsearch..betaSNAPSHOT.noarch.rpm instead of elasticsearch..betaSNAPSHOT.rpm.       The text was updated successfully but these errors were encountered
Include closed indices as well for filter;Fix for        The text was updated successfully but these errors were encountered
Update pathhierarchytokenizer.asciidoc;The docs seem to contain a bug regarding the type of the path hierarchy tokenizer.       The text was updated successfully but these errors were encountered
Make highlight query also work in the percolate api;Percolate is throwing unsupported operation exception when highlight query is being used. This PR fixes that.       The text was updated successfully but these errors were encountered
Only check existence for absolute paths in env.resolveConfig;When resolving a path using env.resolveConfigString it first checks for the path existence in the current working directory. This can fails when the security manager is enabled and elasticsearch not started from the ESHOME directory like with init.dsystemd scripts or also with .pathtoelasticsearchbinelasticsearch Files.exist resolves against the working directory and fails with a SecurityException.I'm not sure we always need to set user.dir so I add a check for absolute path. This couldn't hurt much since the following f.toUri.toURL expects an absolute path.What do you think       The text was updated successfully but these errors were encountered
Expose queryfetch timing to IndexEventListener;Elasticsearch collects a limited number of stats that can be collected in a veryperformant manner. Other stats such as latency percentiles are perhaps out ofscope of the main elasticsearch project. This allows plugins to add their ownstat collection routines to the existing shard stats collection.Closes        The text was updated successfully but these errors were encountered
Setting 'other' bucket on empty aggregation;Closes        The text was updated successfully but these errors were encountered
Scripting move ScriptType outside of ScriptService to its own class file;Opening this up for discussion. I find it very weird that java api users have to import some ScriptService inner class when using scripts. ScriptType should belong to its own class at the same level of ScriptContext org.elasticsearch.script package.The only problem with this change is that it breaks the Java api and plugins as ScriptType needs to passed in as argument when using scripts. That is why the change is targeted for ..       The text was updated successfully but these errors were encountered
IT for plugins should use plugin name and not artifactId;In mapper attachments plugin we needed to change the default value for elasticsearch.plugin.name. It was by default artifactId elasticsearchmapperattachments but it should have been mapperattachments.So we changed in pom.xmlelasticsearch.plugin.namemapperattachmentselasticsearch.plugin.nameThe problem is that integration tests expect to install a plugin which name is the project.artifactId and not the elasticsearch.plugin.name.This commit fixes that.Note that I have no idea on how to fix that in master branch. So I propose for now to push this in .x . and . branches.       The text was updated successfully but these errors were encountered
Double negation removing;It seems like the sentence would be more understandable without the double negation.       The text was updated successfully but these errors were encountered
Indexed script fixes;On Disk Scripts Make on disk scripts reload timing dynamically configurable.This change adds a new resource watcher level of CUSTOM and allows the addition of custom levels of timing.This is used by the ScriptService to register the FileWatcher.Search Templates Add render endpoint for rendering templatesThis commit adds a render endpoint to allow rendering of templates.POST rendertemplate' template  query  foo   size mysize  params foo matchall mysize 'Will render template   query  matchall   size  Closes        The text was updated successfully but these errors were encountered
Better extension point for custom cluster state parts;This adds a better extension point for custom cluster state parts by only allowing adding custom cluster state parts via the ClusterPlugin interface.This is a WIP and would be great to get feedback.By piggybacking on the named writeable infrastructure we can serialize custom cluster state parts for the internal protocol. This seems to workout nice as the serialization code doesn't need to know about custom cluster metadata implementations.For the xcontent serialization there is no such thing as named writaebles so I passed down a registry holding prototypes for the custom cluster state parts on all the places we need to do deserialization. We can maybe consider adding something like named writable on top of XContentParser However passing down the registry doesn't seem to be too bad.Should custom index metadata be removed It isn't used in any place. I think it should but in a follow up change.This change needs tests.PR for        The text was updated successfully but these errors were encountered
Add '' one character matching in index name wildcard patterns;Expands wildcard comparison patterns with that represents exactly one character. Uses Pattern and Matcher classes instead of previous custom implementation. Closes Does this feature make sense I used Pattern and Matcher classes for this with whitelisted . and . sequences. I also have a custom matching implementation but currently it doesn't work for some rare cases.       The text was updated successfully but these errors were encountered
make bg pulling wrong bg version for v.v.t;No description provided.        The text was updated successfully but these errors were encountered
Bug sdaatadata in First Time Experience of Cost Control app;I think this was an unintentional misspell.       The text was updated successfully but these errors were encountered
Dont merge;No description provided.        The text was updated successfully but these errors were encountered
Update PDF.JS build for bug Don't use localStorage in pdf.js;No description provided.        The text was updated successfully but these errors were encountered
Bug RTL Notifications Open button misplaced autoland;No description provided.        The text was updated successfully but these errors were encountered
Only turn off wifi in cleanup when restarting device;Only turn cel data and wifi off when the restart option is set. This reduces gaiatest failure and test dev time by avoiding wifi connection issues.       The text was updated successfully but these errors were encountered
Bug Thumbs redraw on applying effect or border;Fix for .When you apply an effect or a border to an image in the gallery all thumbs get redrawn. This is very easy to spot on the Unagi or GeeksPhone but takes a large image e.g. grab a MB one from your photo camera to see in the emulator.After quite some testing I tracked this down to the moment that the filter is applied through WebGL gl.texImageD line. During this moment which runs on the main thread can't offload GL to a worker at the moment the background images of the buttons disappear as well even though there is no actual change on them. This is not only due to buttons or anything but seem to happen on all backgroundimages on the current view. Maybe a gecko flake or anything.I worked around the above by writing the image information to a canvas object embedded within the button as an tag crashes BG desktop there. This works great the effects are also faster applied on the Unagi and no redraws are triggered. Also I now delay the rendering of these elements until the panel is actually used.       The text was updated successfully but these errors were encountered
Fix homescreen redirect and appcache manifest generation;No description provided.        The text was updated successfully but these errors were encountered
Bug undo;note do not merge this until httpsbugzilla.mozilla.orgshowbug.cgiid lands       The text was updated successfully but these errors were encountered
Bug first run tutorial ?¼ü in noti?¼ücations is one character should be two notifications and other nitpicking. rfcampo;No description provided.        The text was updated successfully but these errors were encountered
SMS Add carrier info on sms details;The info shown is based on this criteriaWhen there's a matching contact for the numberIf contact have a name Name is main header type and carrier as secondary carrier unknown if no carrier field.If contact doesn't have a name Number is shown as a main header type and number as secondaryWhen there's no matching contact for the number secondary header is hidden       The text was updated successfully but these errors were encountered
Bug Dialer Call Log broken due to mcc being null if no SIM retiennesegonzac.;If we start the device with no SIM the Call Log does start correctly since mozMobileConnection.voice.network.mcc is null and the toString function is invoked on it httpsgithub.commozillabggaiablobmasterappscommunicationsdialerjsrecents.jsLThe problem is due to mcc being a string and not a number anymore. No need to call .toString on it.       The text was updated successfully but these errors were encountered
Use curl on Mac OS X for xulrunner downloads;wget is not installed by default on Mac OS X. This patch uses curlinstead which is available.See also        The text was updated successfully but these errors were encountered
ln rename 'localeln.ini' to 'localeslocales.ini' cleanup;I can?ÇÖt merge the PR any more here?ÇÖs a rebase.This has been requested to match Mozilla's ln infrastructure. No code involved.       The text was updated successfully but these errors were encountered
Bug Parse vcards using \r\n endoflines.;See httpsbugzilla.mozilla.orgshowbug.cgiid       The text was updated successfully but these errors were encountered
Bug Timezone and City change not visible in the FTU menu;No description provided.        The text was updated successfully but these errors were encountered
Bug SMSBB Apply lists BB rfcampo;BB applied to list Work done by rnowm and I've added JavaScript part.       The text was updated successfully but these errors were encountered
Bug Settings button separator not visible on wide screens;httpsbugzilla.mozilla.orgshowbug.cgiid       The text was updated successfully but these errors were encountered
Bug Updated gaiaheader to v..;No description provided.        The text was updated successfully but these errors were encountered
Implement ability to limit module documentation building;SUMMARYThe purpose of this pull request is to introduce option for limiting which module documentation gets built. Implementation achieves this via MODULES environment variable that can get passedin to make webdocs.The reason for this change is to allow both module developers and documentation contributors to more quickly see and test their changes. Building entire documentation for all modules can take quite a while and it deters from fixing small syntax typos and similar errors.ISSUE TYPEDocs Pull RequestCOMPONENT NAMEDocumentation build systemANSIBLE VERSIONansible .. docmoduleselection bddfd last updated GMT  config file  configured module search path u'REDACTED' u'usrshareansiblepluginsmodules' ansible python module location REDACTED executable location REDACTED python version .. default Dec GCC ..ADDITIONAL INFORMATIONIn order to test the change you can do the followingcd docsdocsite Build documentation for apt module.MODULESapt make webdocs Build documentation for a couple of modules.MODULESaptsetupyum make webdocs Don't build documentation for modules.MODULESnone make webdocs Build documentation for all modules.MODULESall make webdocsmake webdocs       The text was updated successfully but these errors were encountered
support starting and stopping ec instances;This seems to be working locally for me        The text was updated successfully but these errors were encountered
Update eclc with missing LaunchConfig params;Add support for instanceprofilename and associatepublicipaddress.       The text was updated successfully but these errors were encountered
Fixing login for VCD service type in VCA module;Login to vCloud Director Standalone service vcd fails with the error Login to VCA failed because the login routine is missing required org parameter. This requirement is documented in the pyvcoloud library.       The text was updated successfully but these errors were encountered
IAM role support for EC dynamic inventory;ISSUE TYPEFeature Pull RequestANSIBLE VERSIONansible .. config file etcansibleansible.cfg configured module search path Default wo overridesTested on both .. and ..SUMMARYThis change allows the EC dynamic inventory to assume an IAM role prior to connecting to the AWS modules.We needed this functionality at my company due to how we have structured our AWS setup and I thought others might find it useful.       The text was updated successfully but these errors were encountered
Add availability zone parameter;This commit adds the availability zone parameter which allows a user to specify their zone and thus by extension the region. We need to have this to enable us to deploy consistent stacks regardless of location i.e. I want to deploy my playbook stack in EU now kthx..It should also resolve the issue where launch fails when EC cannot find an image.       The text was updated successfully but these errors were encountered
add vault inventory value encryption example;No description provided.        The text was updated successfully but these errors were encountered
ssh port not working as the if clause is wrong;The ssh port always results in port as the if clause is never executed this means that hosts on nonstandard ssh port cannot be accessed       The text was updated successfully but these errors were encountered
Change ssh header to sshconnection header;Pretty self explanatory. Just a minor typo in the OpenSSH section of the ansible.cfg documentation.       The text was updated successfully but these errors were encountered
Fail when installing from Githubgenerated .zip;SUMMARYThe .zip files generated by GitHub for download do not support symbolic links however the bin directory in the source tree depends on symlinks being there to work. When installing from a GitHub generated .zipfile when the user runs any script except ansible e.g. ansibleplaybook they are given an error as if they were trying to run ansible.This patch makes setup.py bomb out with a helpful error message in the case that ansibleplaybook is not a symlink.ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEsetup.pyANSIBLE VERSIONansible .. config file  configured module search path u'Usersjginsberg.ansiblepluginsmodules' u'usrshareansiblepluginsmodules' python version .. default Dec GCC .. Compatible Apple LLVM .. clang...ADDITIONAL INFORMATIONNew output when installing from .zip filegithubfix PluckyBadgerbin jginsberg pip install httpsgithub.comjbaransiblearchivefailongithubzipfile.zipCollecting httpsgithub.comjbaransiblearchivefailongithubzipfile.zip Downloading httpsgithub.comjbaransiblearchivefailongithubzipfile.zip .MB .MBs Complete output from command python setup.py egginfo It appears that you are installing Ansible from an archive that does not support symbolic links usually a .zip file downloaded from GitHub. This renders your copy of Ansible unusable.   Please reacquire Ansible from PyPI or from the git repository and try again.  Command python setup.py egginfo failed with error code in privatevarfolderswgdzmtndpwgctwgpTpipedBgADbuildOutput when installing from git repo or PyPi remains unchanged.       The text was updated successfully but these errors were encountered
Fix racecondition in preparewriteabledir;All ansible invocations will try to create HOME.ansiblecp. When two runs are triggered at the exact same moment they will both see os.path.exists return False and then try to create the dir. They will then collide and one run will fail with errno.EEXIST.We can fix this by simplifying the code just create the dir and accept failure because of preexistence. This is what the original code intended anyway.       The text was updated successfully but these errors were encountered
Refactor and fix the slaac filter.;ISSUE TYPEBugfix Pull RequestANSIBLE VERSIONansible .. slaacfixandincludeprefix ccf last updated GMT  libansiblemodulescore detached HEAD dbde last updated GMT  libansiblemodulesextras detached HEAD dbdde last updated GMT  config file homechristian.ansible.cfg configured module search path Default wo overridesSUMMARYThe implementation of the slaac filter doesn't work and may have never worked introduced in cff . It calls a method on string instead of the corresponding netaddrClass see libansiblepluginsfilteripaddr.py cff L vs L.This implementation tries to do be more a wrapper to the existing functions instead of reinventing the wheel. Only respecting the RFC requires the code around the lines LL.While developing a fix for the slaac filter I also tried another approach. This will be a separate pull request.Due to this pull request will be obsolete.       The text was updated successfully but these errors were encountered
Do variable expansion for 'register' variable names;Allows to use expansion in 'register' variable names. Goes very well with parametrized roles       The text was updated successfully but these errors were encountered
vmwareguest improvements annotations customvalues;ISSUE TYPEFeature Pull RequestCOMPONENT NAMEvmwareguestANSIBLE VERSIONansible ...SUMMARYvmwareguest improvementsIdempotency fix on annotations permitting to change them on reconfigurationPermit to set VMware customvalues attributes on VMGather annotation customvalues and report it into module factsNew factschanged ... changed true failed false instance annotation this is a huge vm customvalues components apache datacenter production hwguestfullname null hwguestid null hwinterfaces hwmemtotalmb hwname testvm hwpowerstatus poweredOn hwprocessorcount hwproductuuid affcbdebdae ipv null ipv null modulehw true       The text was updated successfully but these errors were encountered
fixing mime types in ssync module;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEssyncANSIBLE VERSIONansible .. ssyncmimefix ab last updated GMT  config file  configured module search path Default wo overridesSUMMARYThe ssync module does not appropriately set the mime type of the files that it syncs to S. This change makes a minor update to ensure that the mime type is set. Before this a file like index.html would have a contentType of binaryoctetstream per sapi headobject. After it has a contentType of texthtml.       The text was updated successfully but these errors were encountered
Added ability to create EBS volume based off of snapshot.;Changed the ecvol module so it allows for someone to use a snapshot.       The text was updated successfully but these errors were encountered
AWSACCESSKEY misspelt in shared EC connection library;No description provided.        The text was updated successfully but these errors were encountered
vmwareguest Add multiple nics management Bug fixes;ISSUE TYPEFeature Pull RequestBugfix Pull RequestCOMPONENT NAMEvmwareguestANSIBLE VERSIONansible ...SUMMARYFix var namefunction getfolder return foldermap instead of foldermap.Fix bug in deploytemplate functionIf folder not start by vm there is a no folder matched the path errorPower on VM if state is set to poweredonNew feature Move nic creation out of customizations Add multiple nics management       The text was updated successfully but these errors were encountered
Fixed issue with legacy jenkins instances following;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEjenkinsjob moduleANSIBLE VERSIONansible .. Fixclassissuewithjenkinsjob dcfee last updated GMT  config file  configured module search path Default wo overridesSUMMARYAs a fix for the bug in it was added an option to check if class for the internal jenkins plugin is in the excluded list and it was done by using getjobinfo API call from pythonjenkins module.Unfortunately this call give different result for the Jenkins ver. . compare to the Jenkins ver. ..Output for Jenkins .u'scm' u'class' u'hudson.scm.NullSCM'u'color' u'notbuilt'u'lastSuccessfulBuild' Noneu'actions' u'class' u'com.cloudbees.plugins.credentials.ViewCredentialsAction'u'lastCompletedBuild' Noneu'lastUnsuccessfulBuild' Noneu'upstreamProjects' u'lastFailedBuild' Noneu'healthReport' u'queueItem' Noneu'lastBuild' Noneu'class' u'hudson.model.FreeStyleProject'u'lastStableBuild' Noneu'description' u''u'downstreamProjects' u'concurrentBuild' Falseu'lastUnstableBuild' Noneu'buildable' Trueu'displayNameOrNull' Noneu'inQueue' Falseu'keepDependencies' Falseu'name' u'Test'u'displayName' u'Test'u'builds' u'url' u'httpjenkinsinternalv.master.comjobTest'u'firstBuild' Noneu'nextBuildNumber' u'property' u'class' u'com.sonyericsson.rebuild.RebuildSettings'Output for Jenkins . class is missingu'scm' u'color' u'notbuilt'u'lastSuccessfulBuild' Noneu'actions' u'lastCompletedBuild' Noneu'lastUnsuccessfulBuild' Noneu'upstreamProjects' u'lastFailedBuild' Noneu'healthReport' u'queueItem' Noneu'lastBuild' Noneu'lastStableBuild' Noneu'description' u''u'downstreamProjects' u'concurrentBuild' Falseu'lastUnstableBuild' Noneu'buildable' Trueu'displayNameOrNull' Noneu'inQueue' Falseu'keepDependencies' Falseu'name' u'Testjob'u'displayName' u'Testjob'u'builds' u'url' u'httpsjenkinsinternalv.master.comjobTestjob'u'firstBuild' Noneu'nextBuildNumber' u'property' So for Jenkins ver. . this api call doesn't return value class which crashes the module with following erroransibleplaybook i localhost site.yml e jenkinsurlhttpsjenkinsinternalv.master.com e jenkinstokenXXXXXXXXXWARNING Host file not found localhostWARNING provided hosts list is empty only localhost is availablePLAY localhost TASK setup ok localhostTASK Load variables ok localhostTASK Add jenkins job failed localhost itemu'name' u'Test job' msg Unable to fetch job information 'class' to retry use limit Usersloginovaworkgitprojectsottpersistencepersistencejenkinsjobssite.retryPLAY RECAP localhost ok changed unreachable failedIn order to fix this issue I suggest to use getjobconfig API call which properly works with all Jenkins versionsansibleplaybook i localhost site.yml e jenkinsurlhttpsjenkinsinternalv.master.com e jenkinstokenXXXXXXXXX WARNING Host file not found localhost WARNING provided hosts list is empty only localhost is availablePLAY localhost TASK setup ok localhostTASK Load variables ok localhostTASK Add jenkins job changed localhost itemu'name' u'Test job'PLAY RECAP localhost ok changed unreachable failedAlso I've added com.cloudbees.hudson.plugins.folder.Folder class to the list of excluded plugins since it has same issue with colour option.       The text was updated successfully but these errors were encountered
closes issue pass groups to getfileparser;No description provided.        The text was updated successfully but these errors were encountered
git archive in ansiblegalaxy fails for nondefaultbranch versions;Trying to install a branch that is not the default typically 'master' via ansiblegalaxy fails because git archive cannot handle remote branches. Introducing a git checkout solves this problem by pulling the remote branch onto the local machine.My concrete example was galaxy.yml src httpsgithub.comthefinnansibletlsdate.git version renameservicewhich caused executing git clone httpsgithub.comthefinnansibletlsdate.git ansibletlsdate executing git archive prefixansibletlsdate outputtmptmpOLHY.tar renameservice command git archive prefixansibletlsdate outputtmptmpOLHY.tar renameservice failed in directory tmptmpTlAMNS ansibletlsdate was NOT installed successfully. you can use ignoreerrors to skip failed roles.       The text was updated successfully but these errors were encountered
edited remove manpage output from source control;Issue TypeBugfix Pull RequestAnsible Versionansible . master cbb last updated GMT EnvironmentNASummaryThere is a minor manpage bug in ansiblepull. due to a missing macro definition.Steps To ReproduceRunningLCALLenUS.UTF MANROFFSEQ'' MANWIDTH \ man warnings E UTF l Tutf Z ansiblepull. devnullwill produce the following errorstandard input warning macro Aq' not definedExpected ResultsNAActual ResultsNA       The text was updated successfully but these errors were encountered
Elasticcache primaryEndpoint can be unassigned;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEec.pyANSIBLE VERSIONansible ... config file Usersdanielzitzmanprojectsopstoolsinfrastructureansible.cfg configured module search path 'library'SUMMARYIf the elasticcache cluster dose not have a primary endpoint the inventory script fails       The text was updated successfully but these errors were encountered
Add define command to virt module;This allows you to define a VM if one with the given name doesn't already exist it can be used in a playbook like so name define vm virt namemyvm commanddefine xmlitem urilxc withtemplate containertemplate.xml.j name start vm virt namemyvm staterunning urilxcI'm not particularly happy with how the xml argument is populated but it does work suggestions for a better syntax welcome I'm still getting my head around some of this.One obvious caveat is that it wont redefine a VM for you if the XML changes but I dont think you could safely do that anyway.       The text was updated successfully but these errors were encountered
Lambda integration tests;SUMMARYThis is a set of integration tests covering lambda.py and incidentally executelambda. Currently creation of a lambda role named ansiblelambdarole is requiredAlso included is a bug fix for an exception when the role argument is not given to the module.ISSUE TYPEBugfix Pull RequestCOMPONENT NAMElambda moduleANSIBLE VERSION config file etcansibleansible.cfg configured module search path u'homemikedddevansibleansibleaddmoduleslibrary' ansible python module location homemikedddevansibleansibleaddmoduleslibansible executable location homemikedddevansibleansibleaddmodulesbinansible python version .. default Jul GCC .. ADDITIONAL INFORMATIONto reproduce bug fixedcheckout version with only test cases added fcecrun testrunneransibletest integration vvv awslambdalambda gives an exception       The text was updated successfully but these errors were encountered
fix ansible galaxy file mangling;SUMMARYwithout this patch ansiblegalaxy will mangle files containingthe archive parent directory name eg 'owncloudfilesowncloud.cron'will become 'owncloudfiles.cron'.this patch simply limits the replacement to the first occurence of thearchive parent directory name.ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEansiblegalaxy       The text was updated successfully but these errors were encountered
Suppport for kerberos\domain authentication for winrm;This patch allows ansible to authenticate to winrm server via kerberos for Domain users.Prerequisite steps on Ansible hostkinit userdomain.com The user gets a valid kerberos ticket to authenticateSet the windows variables in ansible.ansiblesshuser ansiblekerberosansiblesshpass ansiblekerberosansiblesshport ansibleconnection winrmPlease make sure the username and password is set to 'ansiblekerberos' which tells ansible to use the kerberos ticket for authentication.Prerequisite steps on Windows hostFollow the steps on httpdocs.ansible.comintrowindows.html under the section Window sys prepMake sure that Kerberos and Negotiate authentication is enabled on WinRm service.'winrm g winrmconfigserviceauth'Verify connection with WinRM service using Kerberos.'winrm id rhostname.somedomain.com aKerberos udomainusernamesomedomain.com p'Make sure there are no firewall blocking access to winrm service from ansible host.on ansible host 'telnet 'Noteskinit is provided with the package 'krbworkstation' in centosRhelAn example etckrb.conf filelogging default FILEvarlogkrblibs.log kdc FILEvarlogkrbkdc.log adminserver FILEvarlogkadmind.loglibdefaults defaultrealm BENNO.COM dnslookupkdc false ticketlifetime h renewlifetime d forwardable true udppreferencelimit realms BENNO.COM  kdc WINEUOPCEBU.benno.com adminserver WINEUOPCEBU.benno.com defaultdomain benno.com appdefaultsvalidatefalsedomainrealm .benno.com BENNO.COM benno.com BENNO.COMPlease also make sure the hostnames given in ansible are available in both FORWARD and REVERSE DNS lookups.       The text was updated successfully but these errors were encountered
use regionname in novacompute;Currently regionname is not used. This commit fixes it.       The text was updated successfully but these errors were encountered
add missing checks for async and checkmode;fixes following refactoring of async cabwhen call to ActionBase.run returns a skipped resultreturn directly in ActionModule.runRestore previous behavior when misuse of async in modules notsupporting async fail with msgSUMMARYAdd fail in ActionBase.run so previous behavior before refactoring is kept.Add check in every ActionModule.run so it returns if ActionBase.run fails.Add tests.ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEANSIBLE VERSIONansible .. issue aead last updated GMT  config file  configured module search path 'homefridim.ansiblepluginsmodules' 'usrshareansiblepluginsmodules' ansible python module location homefridimsyncdevansiblelibansible executable location homefridimsyncdevansiblebinansible python version .. default Jan GCC .. ADDITIONAL INFORMATION       The text was updated successfully but these errors were encountered
Fix Add netconf session timeout for JUNOS;ISSUE TYPEFeature Pull RequestCOMPONENT NAMEjunosANSIBLE VERSIONansible .. devel fSUMMARYSet netconf session timeout value if 'netconftimeout' value is mentioned in junos playbook       The text was updated successfully but these errors were encountered
add doc to stat module function to display doc;HiI had to make a function in ansibledoc to display parameters list properly.Best regardsPS tmpstat is a working directory       The text was updated successfully but these errors were encountered
Fix spacing and using name in item loop in task executor fix using connection shell from plugins;Fix spacing and using name in item loop in task executor Fix using connection shell from plugins       The text was updated successfully but these errors were encountered
lvg module bugfix on vgoptions patch;When no vgoptions are passed to the module 'vgoptions' still existsin the module.params dict with a value of None so the default empty string inthe get method is never used. None cannot be splitted which backtraced.       The text was updated successfully but these errors were encountered
Load callback plugins in the ansible script;This is an open discussion since I'm far from an expert on ansible.However since I often run some commands on a lot of host I've written a small callback plugin that summarize output on stdout and stderr.I need this callback to be called when running ansible not the playbook since I only run once a command and forget it after that.Maybe the modified line is not enough too much or at a wrong location. I just copied it from the ansibleplaybook script.       The text was updated successfully but these errors were encountered
Move destructive git test to testgitdestructive.;Issue TypeBugfix Pull RequestAnsible Versionansible .. gitdestructivetests daeafd last updated GMT  libansiblemodulescore detached HEAD dbbae last updated GMT  libansiblemodulesextras detached HEAD dae last updated GMT  config file  configured module search path Default wo overridesSummaryThe testgit role is run from the nondestructive integration tests. However the task remove knownhost files in that role is destructive.Correcting this would be easy if the git module supported SSH options for GlobalKnownHostsFile and UserKnownHostsFile instead of hardcoded paths ansibleansiblemodulescoreIn the meantime I've moved the tests depending on the destructive behaviour from testgit to testgitdestructive. I've also made the tests less destructive by backing up and restoring the knownhosts files.Example outputTested using the ubuntu docker image.TESTFLAGS't testgitdestructive' make destructive without credentials has a play recap ofPLAY RECAP testhost ok changed unreachable failed TESTFLAGS't testgitdestructive' make destructive with credentials has a play recap ofPLAY RECAP testhost ok changed unreachable failed        The text was updated successfully but these errors were encountered
Add module for addingdeleting extensions in Postgres databases;Just a simple module to install and uninstall Postgres extensions. Based off the other Postgres modules.If any changes need to be made please do let me know       The text was updated successfully but these errors were encountered
Fix deb builder docker image;SUMMARYI needed to install Sphinx inside this image to get make deb working.ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEDebian PackagingANSIBLE VERSIONNA       The text was updated successfully but these errors were encountered
Read AWS key and secret from ec.ini;If you have multiple projects which use AWS it's not convenient to use global or userwide boto configs. You could use environment variables but since we have ec.ini right there it seems like an easy place to have your project's AWS credentials.I had to resubmit this PR previously it was        The text was updated successfully but these errors were encountered
Fix bugs in ec library module;Corrects an issue with specifying groupname vs groupid when using VPC instances see commit messageInclude private IPDNS info in json value returned from ec module.       The text was updated successfully but these errors were encountered
Add networking mode parameter net to docker;Since . Docker supports different networking modes see docker run net. This commit add support for that to the ansible docker module.This depends on dockerdockerpyd       The text was updated successfully but these errors were encountered
fix mail when cc and bcc are used if None;ISSUE TYPEBugfix Pull RequestANSIBLE VERSIONansible .. config file homesimon.ansible.cfg configured module search path Default wo overridesSUMMARYfixes In .libansiblepluginscallbackmail.py cc and bcc have default values of None which are blindly copied to strings and then added to the recipient list of the email.bcc tobytesccbbcc tobytesbcc...if bcc baddresses bcc.splitb''if bbcc baddresses bbcc.splitb''The two if statements are always true because bcc and bbcc are both None type 'str' instead of None type 'NoneType'This commit changes the two if statements to check against NoneType not None       The text was updated successfully but these errors were encountered
seboolean Fix issue with changing persistent SELinux boolean values;SUMMARYPreviously when the active SELinux boolean value was the same as the desired value regardless of the value of persistent the module would simply exit successfully assuming no need for update. This made the assumption that the active and persistent values should be the same but that is not always the case. This modification treats both the active and persistent values separately when checking for the need to update. Note that the persistent update mode however will still update the active as well as the persistent value. If this is not desired it is possible to separately toggle the active value alone.Other changesMake the check mode actually perform checks for changesOrganizes semanage commands into set of logical stepsISSUE TYPEFeature Pull RequestCOMPONENT NAMEsebooleanANSIBLE VERSIONansible .. sebooleanpersistentchanged dd last updated GMT  config file  configured module search path Default wo overrides python version .. default Jan GCC .. Red Hat ..ADDITIONAL INFORMATIONTo test this we can set the active SELinux boolean value and then change the persistent value to the same value. sudo semanage boolean l | grep usefusefshomedirsusefusefshomedirs off off Allow use to fusefs home dirs ansible localhost b K m seboolean a 'nameusefusefshomedirs stateyes persistentno' sudo semanage boolean l | grep usefusefshomedirsusefusefshomedirs on off Allow use to fusefs home dirs ansible localhost b K m seboolean a 'nameusefusefshomedirs stateyes persistentyes' sudo semanage boolean l | grep usefusefshomedirsusefusefshomedirs on on Allow use to fusefs home dirsNote that in the previous version the attempt to toggle the persistent value to on while the active value was on would exit before doing so.       The text was updated successfully but these errors were encountered
Remove SSL config map when empty;This avoids exceptions when ssl is not available.See for details.       The text was updated successfully but these errors were encountered
Filter hosts based on ec variables in inventory script;This adds a hostfilter option to ec.ini that adds only hosts that pass the filter to the inventory. Can be used to separate stage and prod envs in the same region via tags for example.       The text was updated successfully but these errors were encountered
ecelbfacts Fixes empty healthcheck path error;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEecelbfactsANSIBLE VERSIONansible ... stable. ccecca last updated GMT  libansiblemodulescore detached HEAD adc last updated GMT  libansiblemodulesextras detached HEAD b last updated GMT SUMMARYThis change was made after troubleshooting errors for ELBs that have a Health Check path that is just a slash i.e. HTTPIn these cases the portpath.split'' will leave 'path' as an empty var and an error is thrown when it then tries to format this empty string. In dealing with this error the whole portpath var is then asserted as an INT and set as the 'port' value. This obviously throws a module failure as the port value still has a slash in it i.e. ''To get around this I've added a check that will set 'path' as a slash if the path var appears empty therefore the format will still work and the error isn't thrown which would result in an incorrect INT assertion.BeforeAn exception occurred during task execution. To see the full traceback use vvv. The error was ValueError invalid literal for int witfatal ... FAILED attempts changed false failed true modulestderr Traceback most recent call last\n Flbfactsadam.py\ line in module\n main\n File \tmpansibleaxwNhransiblemoduleecelbfactsadam.py\ line in mFile \tmpansibleaxwNhransiblemoduleecelbfactsadam.py\ line in listelbs\n return listmapself.getelbinfo elbarruleecelbfactsadam.py\ line in getelbinfo\n 'healthcheck' self.gethealthcheckelb.healthcheck\n File \tmpansiy\ line in gethealthcheck\n 'pingport' intport\nValueError invalid literal for int with base ''\n modulestAfterok ... attempts changed false elbs canonicalhostedzonename null canonicalhostedzonenameid ZGMOXHZPM dnsname internaladamtestbug.apsoutheast.elb.amazonaws.com healthcheck healthythreshold interval pingpath pingport pingprotocol http responsetimeout unhealthythreshold hostedzoneid ZGMOXHZPM hostedzonename null instances icfebe ieda instancesinservice instancesinservicecount instancesinservicepercent . instancesoutofservice icfebe ieda instancesoutofservicecount listeners instanceport loadbalancerport protocol HTTP name adamtestbug scheme internal securitygroups sgefe subnets subnetafd subnetbadc tags vpcid vpcffec zones apsoutheastb apsoutheasta       The text was updated successfully but these errors were encountered
Don't disable GSSAPIAuthentication or PubkeyAuthentication when using askpass;As requested on irc here's the output of ansibleplaybook vvvv with one echo on a delegateto host and one on the main host. The password on the delegated host is different from the one I provided on the command line so it had to use the pubkey and the main host doesn't have a pubkey on it yet so it had to use the password.TASK createvm | echo on delegated host delegate.example.net ESTABLISH CONNECTION FOR USER ansibledelegate.example.net REMOTEMODULE command echo This is on the delegated hostdelegate.example.net EXEC 'sshpass' 'd' 'ssh' 'C' 'vvv' 'o' 'ControlMasterauto' 'o' 'ControlPersists' 'o' 'ForwardAgentyes' 'o' 'ControlPathhomejon.ansiblecpansiblesshhpr' 'o' 'Useransible' 'o' 'ConnectTimeout' u'delegate.example.net' 'binsh c usrbinpython'changed main.example.net changed true cmd echo This is on the delegated host delta . end . item rc start . stderr stdout This is on the delegated hostTASK bootstrap | echo on main host main.example.net ESTABLISH CONNECTION FOR USER rootmain.example.net REMOTEMODULE command echo This is on the main hostmain.example.net EXEC 'sshpass' 'd' 'ssh' 'C' 'vvv' 'o' 'ControlMasterauto' 'o' 'ControlPersists' 'o' 'ForwardAgentyes' 'o' 'ControlPathhomejon.ansiblecpansiblesshhpr' 'o' 'Userroot' 'o' 'ConnectTimeout' u'main.example.net' 'binsh c usrbinpython'changed main.example.net changed true cmd echo This is on the main host delta . end . item rc start . stderr stdout This is on the main host       The text was updated successfully but these errors were encountered
New Jinja 'resolve' filter.;Translates list of domain names into list of IP addresses.You can select IPs by address family.By default filter lists IPv and IPv addresses.Usage in Jinja templateGet list of IPv addresses for list of domains domains | resolve'IPv'  domains | resolve'v'  domains | resolver Get list of IPv addresses for list of domains domains | resolve'IPv'  domains | resolve'v'  domains | resolve        The text was updated successfully but these errors were encountered
Test module improvements;Allows the module test runner todump the generated module filetake json string as complex args to module       The text was updated successfully but these errors were encountered
Added y flag to querypackage;librarypackagingpkginSignedoffby giorgiov giorgiorefactor.it       The text was updated successfully but these errors were encountered
ecstaskdefinition Fix int param types Fixes;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEecstaskdefinitionANSIBLE VERSIONansible ...SUMMARYThis fixes on ansiblemodulescore where given container parameters to the module are always passed on as strings in the container definition parameters which causes an exception by boto as some parameters have to be integers.       The text was updated successfully but these errors were encountered
Fix issue with relative symlinks;Fixes        The text was updated successfully but these errors were encountered
Fix ansibledoc list on Solaris;On Solaris usrbinstty has no size option. However usrucbstty does have this option.Install package compatibilityucb to get usrucbstty on Solaris .       The text was updated successfully but these errors were encountered
Added support for general purpose SSD EBS volumetype;This adds support for AWS general purpose SSD volumes httpaws.amazon.comebsdetailsvolumetype module parameter added which defaults to standard if one is not specifiedif standard and iops are both specified volumetype is changed to io for backwards compatibility as opposed to requiring the user to now specify volumetype in plays .if gp volumetype is specified with an iops value the play will error. Defaulting this to io as well seemed assuming to much since it's reasonable that one could mix up he ssd types and there are performancecost ramifications between the two types.Not a huge fan of assuming if iops are specified the volumetype should be silently changed to io from standard but it seemed best for maintaining backwards compatibility.Thanksiain       The text was updated successfully but these errors were encountered
Fix file mode calculation;Since da file mode calculation is incorrect. For example when umask is file mode is instead of .See ab .       The text was updated successfully but these errors were encountered
filesystem module Check for line that starts with 'data' in xfsinfo output;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEmodule filesystemANSIBLE VERSIONansible master ansible versionansible ... config file homejonansible.cfg configured module search path Default wo overrideSUMMARYI created an LVM volume named 'data' and it causes the filesystem module to break on the first line which does not contain the block size and block count. As a result it continues to try and resize my filesystem even though all of the device space is being utilized.Instead of using bsize blocks the module must be using agcount agsize which is not going to match the size from blockdev getsize.metadatadevmapperebsvolsdata isize agcount agsize blks sectsz attr projidbit crc finobtdata bsize blocks imaxpct sunit swidth blksnaming version bsize asciici ftype       The text was updated successfully but these errors were encountered
ecgroup support for egress rules and referring to security groups by name in rules;This patch allows security groups to be referred to by name in rules by using the groupname parameter. If a named security group does not exist it will be automatically created.Rules now also support a type parameter to specify whether they are ingress or egress rules. If the type parameter is omitted the rule will be considered an ingress rule.       The text was updated successfully but these errors were encountered
Part fix for httpsgithub.comansibleansiblemodulescoreissues replaces;Replacement for previous attempt at this which accidentally included some unwanted changes.GetFileChecksum always returns a string now and the testwincopy integration tests that depend on the checksumhave been updated in this change too.Also requires ansibleansiblemodulescore       The text was updated successfully but these errors were encountered
Add nosyslog option in order to prevent ansible syslog its actions on the remote host rebase;Add nosyslog option in order to prevent ansible syslog its actionson the remote host.Syslog on remote hosts can be turned off bynosyslog option inside ansible.cfg.n nosyslog command line options ansible and ansibleplaybook.Rebased version of        The text was updated successfully but these errors were encountered
Added ability to specify destination OU when joining a domain;ISSUE TYPEFeature IdeaCOMPONENT NAMEwindomainmembershipANSIBLE VERSION.CONFIGURATIONOS ENVIRONMENTSUMMARYAdd the ability to specify OU destination OUPath in AddComputer when joining to a domain.Example Configname Join domainwindomainmembershipdnsdomainname globaldomainname hostname globalvmname domainadminuser globaldomainjoinuser domainadminpassword globaldomainjoinuserpassword domainoupath OUWindowsOUServersDCyourdomainDClocalstate domainregister domainstate       The text was updated successfully but these errors were encountered
To fix error message produced in bug report;No description provided.        The text was updated successfully but these errors were encountered
add sshpass support for synchronize;add sshpass support for rsyncwork together with ansibleansiblemodulescore       The text was updated successfully but these errors were encountered
Support checkmode for ecvpcnetfacts;SUMMARYAs a facts module ecvpcnetfacts supports check mode by defaultISSUE TYPEFeature Pull RequestCOMPONENT NAMEecvpcnetfactsANSIBLE VERSIONansible .. devel cbdaf last updated GMT  config file .ansible.cfg configured module search path u'.library' python version .. default Jan GCC .. Red Hat ..       The text was updated successfully but these errors were encountered
Prevent empty diffs being written between task messages;When running a playbook with the check and diff options empty diffs are still passed to the display method resulting in an empty line being output between each task message.This PR simply checks a nonempty diff was returned before passing to display.       The text was updated successfully but these errors were encountered
hashivault fix token logic;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEhashivaultANSIBLE VERSIONansible .. devel last updated GMT  config file homeecuseransibleawsdevansibleansible.cfg configured module search path Default wo overridesSUMMARYeea which added the ability to automatically set the authentication token from an environment variable or the default Vault credential file is broken due to fe which was applied before it and added a second place where self.token is set and checked. The new authentication flow makes token into an optional setting so I consolidated the two setcheck stanzas into the second one.BeforeTASK debug fatal localhost FAILED failed true msg lookup'hashivault' 'secretsecretping' An unhandled exception occurred while running the lookup plugin 'hashivault'. Error was a class 'ansible.errors.AnsibleError' original message No Vault Token specifiedAfterTASK debug ok localhost  changed false  test pong       The text was updated successfully but these errors were encountered
Mysql password hash support;Resubmission of as requested this has been converted into a separate option such that the passwordhash may be passed in place of the password itself.testing via hosts all tasks name mysqluser test password hashed mysqluser usertest passwordhashDCBFEFEEABABBFCA priv.ALLGRANT name mysqluser test password not hashed mysqluser usertest passwordansible priv.ALLGRANTBoth users result in having the same password hash.       The text was updated successfully but these errors were encountered
consulacl added in support for 'agent' and 'node' types.;SUMMARYAdding in support for consulacl module to allow for the 'agent' and 'node' typeshttpswww.consul.iodocsguidesacl.htmlaclrulesandscopeISSUE TYPEFeature Pull RequestCOMPONENT NAMEconsulaclANSIBLE VERSIONansible ...ADDITIONAL INFORMATIONbeforefailed localhost itemu'rules' u'policy' u'read' u'agent' u'' u'token' u'XXXXXXX' u'name' u'consul' u'mgmttoken' u'XXXXXX'  failed true invocation  moduleargs  host consul mgmttoken VALUESPECIFIEDINNOLOGPARAMETER name consul port  rules   agent  policy read   scheme http state present token VALUESPECIFIEDINNOLOGPARAMETER tokentype client validatecerts true  modulename consulacl  item  mgmttoken XXXXXXX name consul rules   agent  policy read   token XXXXXXXXXX  msg a rule requires a keyserviceevent or query and a policy.afterchanged localhost itemu'rules' u'policy' u'read' u'agent' u'' u'node' u'' u'policy' u'read' u'token' u'XXXXXXX' u'name' u'consul' u'mgmttoken' u'XXXXXXXX'  changed true invocation  moduleargs  host consul mgmttoken VALUESPECIFIEDINNOLOGPARAMETER name consul port  rules   agent  policy read   node  policy read   scheme http state present token VALUESPECIFIEDINNOLOGPARAMETER tokentype client validatecerts true  modulename consulacl  item  mgmttoken XXXXXXXXX name consul rules   agent  policy read   node  policy read   token XXXXXXXXX  name consul rules   agent  policy read   node  policy read   token VALUESPECIFIEDINNOLOGPARAMETER type client       The text was updated successfully but these errors were encountered
Tag Based EC Inventory Names;This pull request implements a feature to allow an EC tag to override the vpcdestinationvariable which already overrides the default destinationvariable. When using the inventory script I found it much more meaningful to see a friendly recognizable host name in the Ansible output than the options available.       The text was updated successfully but these errors were encountered
wincopy Add force parameter and checkmode support;ISSUE TYPEFeature Pull RequestCOMPONENT NAMEwincopyANSIBLE VERSIONv.SUMMARYThe rationale behind this is that if you're working with GB filescreating the checksum takes a lot of time which we can avoid by simplytesting if the file exists.I also took the liberty to put the various parameters together. Itprobably takes a neglible performance hit but makes the code a biteasier to inspectwork with as its closer to all other windows modules.On a normal run the action plugin does a local checksum of the sourceand a remote checksum of the destination. And afterwards the modulewill do another remote checksum of the copied source a remote checksumof the original destination and another remote checksum of the copieddestination.On a very huge file think GB that means no less than x reading thecomplete file If you have a large cache you may get away with it otherwiseyou're doomed This patch will ensure with force no that no checksums are beingperformed by the action plugin and the module. We do this by delayingthe checksum calls until we have determined whether the destination infact exists. More optimisations are still possible especially in the case thedestination does not exist we don't need a checksum in that case anyhow.       The text was updated successfully but these errors were encountered
Write downloaded file as binary;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEunarchiveANSIBLE VERSIONansible .. devel acbce last updated GMT  config file homethomgitdotfilesansibleansible.cfg configured module search path Default wo overridesSUMMARYThis fixes by having the write expect bytes on Py.I haven't dealt with all the other code smells unused imports variables other stuff.       The text was updated successfully but these errors were encountered
Async fixes;ISSUE TYPEBugfix Pull RequestCOMPONENT NAMEasyncANSIBLE VERSION.SUMMARYalso fixes by making poll default to s again       The text was updated successfully but these errors were encountered
missing options in docstring breaks 'make deb';added minimal options entrystill needs to be fully documented       The text was updated successfully but these errors were encountered
Fix Unexpected Exception global name 'os' is not defined;I inadvertently introduced it in ca and didn't notice because there are no unit tests for playbookexecutor.py. SorryThe from ansible.errors import was used only to get the 'os' module which makes me go what       The text was updated successfully but these errors were encountered
geturl Allow additional hashing algorithms;Allow all hashing algorithms that hashlib provides e.g. 'md' 'sha' 'sha' 'sha' 'sha' 'sha'. Introduces a new parameter checksum with format algorithmchecksum e.g. checksummddffbaeddefafDeprecates parameter shasum. Uses hashlib directly instead of methods in moduleutilsbasic.py.Also gives helpful error messagesmsg Could not hash with algorithm 'md'. Available algorithms 'md' 'sha' 'sha' 'sha' 'sha' 'sha'msg The checksum parameter has to be in format algorithmchecksumSee also        The text was updated successfully but these errors were encountered
Transition inventory into plugins;SUMMARYImplementing ansibleproposalsMove from hardcoded 'options' to real plugins ini script and yaml as minimal requirementsAllow multiple inventories to be specifiedAllow inventory plugins to use the configured cache pluginTransition from inventory scripts to plugins script plugin will exist for backwards compatibilitySimplify logic currently it is duplicated a lot specially in pluginsDefer data loading to 'data loader' and variable management to 'variable manager'Folds in vars inventory pluginsISSUE TYPEFeature Pull RequestBugfix Pull RequestDocs Pull RequestCOMPONENT NAMEinventoryANSIBLE VERSION.ADDITIONAL INFORMATIONAlso fixes        The text was updated successfully but these errors were encountered
Hide 'include' tasks when not in verbose mode;This implements by default.It will hide all includetasks by default and in verbosity v but will show all details when verbosty or higher vv.It is quite annoying and confusing that Ansible emits all include tasks. Also because the color is the same color as skipping.       The text was updated successfully but these errors were encountered
This adds a associatepublicip parameter to the ec module;The parameter defaults to true and sets things up so that VPC type instancescan get public IP addresses in nondefault subnets. The snag is that itrequires boto . which may be an issue for some deployments.       The text was updated successfully but these errors were encountered
Optimistically detect if params are coming from getawsconnectionin?Çª;?ÇªfoAs discussed in dev mailing lists httpsgroups.google.comforumtopicansibledevelcAJTWVdSk current version of botoconn seems to overrides params from getawsconnectioninfo which is already boto friendly.Here's a very simple patch to workaround the problem. I deliberately avoid to make the assumption that getawsconnectioninfo is systematically used.Thanks       The text was updated successfully but these errors were encountered
Updated version of my original PR to incorporate nested group changes;My previous PR for the expanding of CSV values in ec tags did not merge cleanly with the current devel HEAD so have updated the patches to resolve this.       The text was updated successfully but these errors were encountered
Added basic support for SSL when using IRC;I've added basic support for connecting to an IRC server with SSL. Nothing fancy but it works.       The text was updated successfully but these errors were encountered
ansiblevault edit replicate sudoedit behavior;do not touch original file if temporary file is not changedbut rekey original file if it uses obsolete schemecreate new encrypted file if it does not existsee also and        The text was updated successfully but these errors were encountered
ecasg Target Group Support;SUMMARYAdds support for targetgroups within an Autoscaling group. Note boto crashes when you have a targetgroup attached so this is an almost full rewrite to use boto and support target groups.Note This also fixes the error where it spins up extra EC resources when doing a deployment.ISSUE TYPEFeature Pull RequestCOMPONENT NAMElibansiblemodulescloudamazonecasg.pyANSIBLE VERSIONansible ...ADDITIONAL INFORMATIONSorry this is a beast of a pull request the boto was not a simple change. I also changed the logic for the replaceinstances and lccheck. This looked like it was wrong and evolved into something it wasn't really mean to be I hope. I changed the logic to be as followslccheck will replace instances if the lc name is differentreplaceinstances w lccheck will replace all passed instances that are in the asg with the wrong lc name.replaceinstances wo lccheck will replace all passed instances within the asg even if they have the same lc name.This seemed to follow what the documentation stated.NOTE This is still a work in progress I just wanted to get some feedback before polishing out the errors. Right now I think I have some errors by not sleeping for second due to aws change and quick repulling will not reflect the change. The original code has some what looked like bad sleeps but this looks to be needed I'll fix these soon.This PR might go well with the following PRs       The text was updated successfully but these errors were encountered
Off by one error;When lenprobline column then problinecolumn is outside of the string       The text was updated successfully but these errors were encountered
Fix make verify;thockin this fixes make verify which was previously failing due to undefined BRANCH and VERBOSE variables ptal       The text was updated successfully but these errors were encountere
add some more temporary files to gitignore;pesky temp files. any emacs users out there       The text was updated successfully but these errors were encountered
Make gcp auth provider not to override the Auth header if it's already exits;What this PR does why we need itMake AuthProvider not wrap the transport if beartoken or basic auth is enabledWhich issue this PR fixes fixes Special notes for your reviewerRelease noteGCP auth plugin no longer overwrites existing Authorization headers.       The text was updated successfully but these errors were encountered
bump bazel build to go.. and remove invalid unit tests;part of I firmly believe that unit tests that check error strings are incorrect unit tests. If we care about what type of error is returned we need to use public error types. Anywhere we are using generic errors we don't care other then that we saw an error.       The text was updated successfully but these errors were encountered
correct imagefs inodes value in kubelet summary stats;Fix Correct get imagefs inodes value from imageFsInfo.Inodes in kubelet summary stats api.derekwaynecarrThis change is        The text was updated successfully but these errors were encountered
enable NFSv mounter;This change is to enable NFSv for GCI cluster. In order to supportNFSv mounter needs to start rpcbind before mount and then kill theprocess after mount finishes to make sure the container exits.       The text was updated successfully but these errors were encountered
ThirdPartyResource example added watcher example code cleanup;What this PR does why we need itAdded an example of using goclient for watching on ThirdPartyResource events createupdatedelete.Watching TPRs is a very common case but a rather complicated process especially due to many nontrivial details like clientgo and kubernetesAlso made minor code cleanup to avoid too many hardcoded strings copypaste.Which issue this PR fixesThis PR gives an example of workarounds for kubernetes and kubernetes       The text was updated successfully but these errors were encountered
Allow leading in ingress hostname;fixes        The text was updated successfully but these errors were encountered
Update generated for;What this PR does why we need it repeat of for . Some year we'll properly fix this.Which issue this PR fixes fixes cikubernetesverifymaster buildRelease noteNONE       The text was updated successfully but these errors were encountered
Adding the option for the system to use the HOME env for windows.;Adding the option of checking for the HOME environment on windows. As on a work network HOMEDRIVE is setup from the Group Policy on a work network.Initial change was made This change would fix this issuekubernetesminikubeThis change is        The text was updated successfully but these errors were encountered
Refactor master service ports config;EDIT Focused on refactoring master service ports in order to allow overriding default ports.       The text was updated successfully but these errors were encountered
Update master service ports and type via controller.;Since master service ports and type are configurable it makes sense to ensure that these attributes are correctly set in the controller loop.cc smarterclayton liggitt       The text was updated successfully but these errors were encountered
restore ability to run against secured etcd;Fixes        The text was updated successfully but these errors were encountered
Clean up UI docs;Updated ui.md to include details about how the UI is run as a cluster addon and where to find it. Also make it more clear that wwwREADME.md is for development and not general dashboard UI information.Changes motived by Partially addresses        The text was updated successfully but these errors were encountered
fix return of empty list in kubectl get;fixes When printing the obj in a generic kubectl get where the obj is a versioned object of infos it should only be printing valid objects from infos. In the case of the referred issue if infos is nil then it will print out the empty object along with the error rather than just the error.This PR ensures that the printing of objects only occurs if infos is not empty.Is it viable to try to squeeze this into v. given that it hasn't been cut yet and this is an outwardfacing bug       The text was updated successfully but these errors were encountered
WIP Workaround for race between monit and init;Posting a potential workaround for for discussion. Testing this now.       The text was updated successfully but these errors were encountered
Allow no ports when exposing headless service;fixes This change is        The text was updated successfully but these errors were encountered
Federation replicaset controller;TBD integrate with the scheduler eventsquintonhoole deepakvij kshafieeThis change is        The text was updated successfully but these errors were encountered
remove deprecated cli argument from example;What this PR does why we need it kubectl portforward argument p pod was deprecated and should be removed from the example documentationSpecial notes for your reviewer simple example documentation fix for deprecated cli argumentRelease note       The text was updated successfully but these errors were encountered
LimitRange example improvements detailed README;Fixes Adds a detailed README for whenwhy you would use a LimitRange.Moves example files to yaml ensured new files were caught in exampletestHas the right analytics watermark       The text was updated successfully but these errors were encountered
Mark dynamic kubelet configuration test serial;Disruptive is not handled for eenode tests. Must mark this Serial so it at least gets run in the serial test suite and doesn't disrupt concurrentlyrun tests.This change is        The text was updated successfully but these errors were encountered
Revert use Reader.ReadLine instead of bufio.Scanner to support bigger yaml;Reverts cc smarterclayton adoheThis change is        The text was updated successfully but these errors were encountered
localup resolve sudo E'd paths better;This problem won't affect everyone but for people who have withsecurepath configured for their sudo binaries sudo E won't actually preserve PATH which means the subbash won't necessarily be able to find the binary which test found to exist.This fixes that.Ubuntu used to configure it that way and they might still.It's configured as such on my Gentoo machine.       The text was updated successfully but these errors were encountered
Organize troubleshooting sections;Fixes cc bgrant nikhiljindal caesarxuchao       The text was updated successfully but these errors were encountered
DaemonSetSpec.Template should not be a pointer.;Pod template for DaemonSets isn't optional like Deployments and Jobs so the DaemonSetSpec.Template field should not be a pointer.cc mikedanese       The text was updated successfully but these errors were encountered
Make the libvirtcoreos cluster use the etcd shipped within CoreOS;In the libvirtcoreos cluster the etcd that is used is the one shipped within CoreOS.Kubernetes migrated to etcd before etcd was available within CoreOS.This led to some incompatibility issues.In order to fix them I submitted PR in order to force the use of an external etcd.This PR aimed at being temporary waiting for etcd to land in CoreOS.As stated in coreosbugs it is now the case.So this PR?Çö Reverts the temporary fix?Çö Make CoreOS boots etcd instead of etcd.       The text was updated successfully but these errors were encountered
Fix broken OpenJDK install in Cassandra Dockerfile;What this PR does why we need itExample Cassandra Dockerfile is broken see attached screenshotPR adds jessiebackports to openjkd install see httpsbugs.debian.orgcgibinbugreport.cgibug for debian change Release noteNONE       The text was updated successfully but these errors were encountered
Fix service shell test;This test couldn't even start with v API before this change.After this change I've run it times and it passed although I think we should not move it out of flaky suite yet.Ref cc quintonhoole davidopp thockin       The text was updated successfully but these errors were encountered
build Fix docker image lookup for docker .;Some versions of docker display image listings like thisdocker.iogolang . ebdcafc weeks agoThe regular expression used to detect presence of imagesneeds to be updated. It's unfortunate that we're stillscreenscaping here due tomobymoby       The text was updated successfully but these errors were encountered
kubeadm Transition to using ks.ioclientgo;What this PR does why we need it in kubeadm replace all internal API clients with versioned clients from the ks.ioclientgo package.Which issue this PR fixes fixes Special notes for your reviewerI tried to use ks.ioclientgo everywhere where kubeadm uses some sort of API client to contact the API server.For the certificate generation during a join command resulting from a CSR I had to copy over the RequestNodeCertificate function from the kubelet code as kubelet uses the internal API's and here I wanted to use the versioned clientgo API client otherwise the function signatures do not match. WDYT is there a better way to do it right nowThis change is        The text was updated successfully but these errors were encountered
Info log nonempty volume directories during cleanup;We should info log nonempty volume directories duringcleanup and avoid logging that as error.Partly fixes        The text was updated successfully but these errors were encountered
Checked node condition for DaemonSets when updating node.;Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Release note       The text was updated successfully but these errors were encountered
cloudcfg fix TestDoRequest;No description provided.        The text was updated successfully but these errors were encountered
Regenerate openapi for .;With the . branch cut and a new tag in master the generated openapi spec validation is failing. This fixes it.       The text was updated successfully but these errors were encountered
Don't assume every AWS VPC has tags;The default VPC has no tags by default so we should use getFixes        The text was updated successfully but these errors were encountered
Call validate on new object when updating;smarterclaytonObviously some tests are broken.       The text was updated successfully but these errors were encountered
WIP Possible vendoring fixes;This is some vendoring changes with toolsgodep applied. I'm not sure how to build ks yet but I'm fairly sure hand verified some of the changes that these are legit. Going to follow up based on the status of the automated tests though.       The text was updated successfully but these errors were encountered
registerminion.sh json incomplete resulted in unexpected EOF;The JSON data in the registerminion.sh script was incomplete resulting in a unexpected EOF when running the azure kubernetes cluster setup scripts       The text was updated successfully but these errors were encountered
Ensure all API server requests are properly instrumented;Fixes        The text was updated successfully but these errors were encountered
Fix releases link;No description provided.        The text was updated successfully but these errors were encountered
use host uts namespace when pod.Spec.HostNetwork is true;set pod utsMode to host when host network is used.       The text was updated successfully but these errors were encountered
ee pass namespace when calling kubectl stop;After resources in the kubectl ee test were being created in their own namespaces but due to a bug introduced by kubectl stop was not failing even though these resources did not exist in the default namespace since the error was being ignored. This was not apparent until was merged at which point it caused the kubectl stop calls in cleanup to fail.This is now resolved by passing the namespace to kubectl in most of the test cases in one case I just removed the cleanup call entirely as I think it's expected that one of the resources shouldn't exist but I wasn't sure how best to handle that. Cleanup should still be handled adequately by the namespace being deleted anyway.Fixes .       The text was updated successfully but these errors were encountered
Disable elb ee;kubernetesgoogtesting       The text was updated successfully but these errors were encountered
Make label and field selector query strings versionable.;bgrantSee for some context.I know the unit tests are broken. If this LGTM to folks I will fix them.       The text was updated successfully but these errors were encounte
Make localupcluster.sh use tmp for dnsrelated files;localupcluster.sh leaks files into the local directory use tmp instead.ncdc eparis derekwaynecarr shot out of a cannonThis change is        The text was updated successfully but these errors were encountered
Fix crossrepo link;Fixing        The text was updated successfully but these errors were encountered
Move remaining tests in eeservice.go to unique namespaces.;This prevents multiple runs of the same test from trampling on each otherboth serially and in parallel. Ultimately we'll move this to a suitewide testinitlalization and teardown routine as per but until that's done letsprevent these particular tests from failing unnecessarily with this small change.ee tests are still busy running. I'll update this thread to confirm that they'vesucceeded.       The text was updated successfully but these errors were encountered
Bumped Heapster to v..beta.;This change is        The text was updated successfully but these errors were encountered
Updated Vagrant VMs to Fedora;Updated Fedora boxes to Fedora on all providersSignedoffby Andr?? Martins aanmgmail.com       The text was updated successfully but these errors were encountered
Allow for easily specifying the type and size of minion disks on GCE.;Issue        The text was updated successfully but these errors were encountered
Add mtu option to kubenetunsupported.go;Fixes This change is        The text was updated successfully but these errors were encountered
Fix original object mutation on patch retry;When applying a patch the original state of the object and patch are captured so that retries can determine if an overlapping update was made to the object and the patch API call should abort with a conflict.However the strategicPatchObject applyPatchToObject StrategicMergeMapPatch mergeMap call mutates both the original object map and the patch map making them unsuitable for reusing for subsequent calls.We saw this in a downstream test that exercises patch conflict retries where the data being submitted in a patch was showing up in the original object data map.Since mergeMap also mutates the patch map passed in deletes patch directives as it encounters them we also cannot reuse the patch map in applyPatchToObject once it has been used.This PRBuilds originalObjMap separate from the initial patch application for later use in conflict detectionChanges the originalPatchMap to a helper that returns a fresh map from original sourcesAdds an integration test that exercises retry of nonoverlapping patches with patches containing patch directivesFix incorrect conflict errors applying strategic merge patches to resources.       The text was updated successfully but these errors were encountered
Fix the addition of the logging.write scope to the MINIONSCOPES array;Fix the issue This fix involves appending a new element the logging write scope to the MINIONSCOPES array.       The text was updated successfully but these errors were encountered
add admission control flag to vsphere provider;For vsphere deployment the heapster and dashboard containers were not able to start. Looking at the log and seems like it is not able to find the service account.Compare with other providers it appears that admission control flag are provided in other providers but not in vsphere.This change is to add the admission control flag to vsphere script.Also minor change from hardcoded kubernetermaster to MASTERNAME environment variable. Otherwise script won't work if user use different INSTANCEPREFIXNote that this is the same as PR . Just I mess up on the email address so redoing it.       The text was updated successfully but these errors were encountered
More reliable vagrant handling;This addresses some issues when running a local Vagrant cluster.Ensure the virtualbox provider is used in util.sh as the fedora box is virtualbox based.Use YUM install instead of salt bootstrap. Salt is in EPEL httpdocs.saltstack.comenlatesttopicsinstallationfedora.html bootstrap does not support Fedora and fails handling systemctlsystemd units see supported operating systems httpsgithub.comsaltstacksaltbootstrap       The text was updated successfully but these errors were encountered
Don't check in zzgenerated.openapi.go.;zzgenerated.openapi.go is the file that causes the most merge conflicts of all. In thockin updated the makefile to support generating these files on demand but that didn't play well with bazelgazel.In this PR I add a new build macro that will generate this file with a gogenrule. I added support for keeping the BUILD file up to date in mikedanesegazel.Release noteNONE       The text was updated successfully but these errors were encountered
HPA Allow customizing scaleforbiddenwindows;Allow custom upscale and downscaleforbidden windows on HorizontalPodAutoscalers.This commit allows customizing scale forbidden windows via annotationson a HorizontalPodAutoscaler. This way users can configured howtwitchy their HPA is decreasing the window causes the HPA to reactfaster to changes at the expense of potentially scaling for anunsustained change.This change is        The text was updated successfully but these errors were encountered
Rename kubednsdeployment.yaml in hacklocalupcluster.sh for consistency;What this PR does why we need it Adds namespace for kubedns service account explicitly to be consistencet with kubednscontroller and kubednssvc.Rename kubednsdeployment.yaml to kubednscontroller.yaml in hacklocalupcluster.sh for naming consistency.Special notes for your reviewerThis PR is purely good to have and the functions work perfectly fine without these changes.cc deadsk       The text was updated successfully but these errors were encountered
start exp api docs;Fix This is just a brain dump to get the ball rolling.bgrant nikhiljindal caesarxuchao please all of you review.       The text was updated successfully but these errors were encountered
Fix for Invalidation of DeviceMapping Cache when Detaching Volumes;There is a deviceMapping cache that keeps the state of the block device mappings in local memory. When a device is detached the cache does not get invalidated. A subsequent attachment for the same volume then falsely assumes that the device is already attached. It skip the actual API call to attach the volume and gets stuck in an endless loop waiting for the attachment to finish. It eventually times out and immediately starts to wait again. This only resolves once the kubelet is restarted.This fix releases the device from the deviceMapping cache when a volume is detached.With this fix volume attachdetach operations work perfectly for me. I'm a bit unsure though how such a fundamental bug wasn't noticed before Did this ever work and this is a regression It could be that previous tests had the pods scheduled to a different kubelet with cold cache Maybe justinsb has some insight.       The text was updated successfully but these errors were encountered
Add encryption to EBS dynamic provisioner;Resolves Adds encryption to the EBS cloud provider and provisioner.Follow up to all commits but the one in this PR will drop out.kubernetessigstorageThis change is        The text was updated successfully but these errors were encountered
Run the updatestaginggodeps script inside a docker container;What this PR does why we need itThis PR moves the updatestaginggodeps script to run inside a docker container.Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerRelease noteNONEassign ixdy sttts       The text was updated successfully but these errors were encountered
Fix abac oplicy example file;systemunauthenticated is a group name rather than user name.Fix it in the example file.Release note       The text was updated successfully but these errors were encountered
Add docker addr flag;No description provided.        The text was updated successfully but these errors were encountered
Register metav.GetOptions with federation APIs.;PR missed a spot.cc kubernetessigfederation nikhiljindal       The text was updated successfully but these errors were encountered
Do no start kubeproxy until after network is started;httpsbugzilla.redhat.comshowbug.cgiidThe kubeproxy will die if it starts before the network.       The text was updated successfully but these errors were encountered
Pass Attachment Disposition to PHPMailer Parent;Summary of ChangesThe JMail method addAttachment accepts the parameter disposition however does not pass it to the parent class PHPMailer's method of the same name.Thus the change is to pass the paremeter disposition to the parent class.Testing InstructionsNone does not change existing behaviour ony adds functionality that got lost.Documentation Changes RequiredNonePull Request for Issue .
Remove unused php version check;Pull Request for Issue .Summary of ChangesWe have code in . still that runs postinstall and checks that you are on a version of php .. and if not gives the following messageYour PHP Version Will Be Unsupported in Joomla .Beginning with Joomla . the version of PHP this site is using will no longer be supported. Joomla . will require at least a hrefQQhttpscommunity.joomla.orgblogsleadershipraisingthebaronsecurity.htmlQQPHP version .. in order to provide enhanced security features to its users.This is now redundant and both the strings and the code \administrator\components\comadmin\postinstall\phpversion.php can be removed now as it is no longer possible to ever get that scenarioThis PR removes the unused check and deprecates the language strings in accordance with current language string policy
Support alias overrides and overrides for namespaced classes;Summary of ChangesA task on the roadmap of Joomla is to namespace the libraries and extensions in the core. This move is complicated as we don't want to break all extensions and make a very hard BC break in J.A target should be to make the transition for the core and the extension developers as painless as possible. The most important point is that the extension developers are not forced to develop their extensions from scratch or have to maintain two code bases for J and J.The approachThe approach is to namespace the classes in the librariesjoomla and librariescms folder like in this pr and to create an alias for the none namespaced class in a classmap file. For example JModelList can still be used but it is proxied to Joomla\Cms\Model\ListModel. It is planed to do that for . that the extension developers can use the same code base for their extensions in the Joomla series and in Joomla .At the same time we will carry on the none namespaced aliases to J which means that any none namespaced extension will run on J.What's the problemJLoader which is the Joomla class loader has a little feature which does allow to override core classes. More details about that topic can be found here. This is problematic for the move to namespaces. As we have now a different name for a class.If an extension is overriding JModelList then it would mean we can't change any code in core of Joomla . to use Joomla\Cms\Model\ListModel. It is also not possible for any extension to run namespaced in . otherwise it would not be compatible with extensions which do overrides core classes. This will end up that the extension dev if wants to use the same code base needs to use the none namespaced version also in Joomla . But then it is again not compatible with the extensions which do override the namespaced core classes in J.If we say ok then lets just make it possible to override the namespaced version only we are breaking BC for ..The solutionThe class loader needs to be able to handle overrides for aliases. Assume an extension is overriding JModelList. If the code or an extension uses the class JModelList or Joomla\Cms\Model\ListModel then in both cases the override of JModelList needs to be used. The same goes when an override is registered for Joomla\Cms\Model\ListModel. Then code which is using JModelList or Joomla\Cms\Model\ListModel in core or an extension must use the namespaced override class.ExampleI'v prepared an override plugin in a test repo which does override the list model classes. Basically it doespublic function onAfterInitialiseJLoaderregister'JModelList' DIR . 'NoneNsListModel.php'JLoaderregister'Joomla\\Cms\\Model\\ListModel' DIR . 'NsListModel.php'It can be downloaded from here. If you install and activate that plugin on the . branch with this patch then you should see a message which shows that the none namespaced override is called on every list model in the back endIf you do the changes from the test instructions in the file componentscomcontentmodelsarticles.php to use the namespaced list model then you should see the following message when you go to Content ArticlesThe plugin has settings which do allow to control if the namespaced or none namespaced override should be registered.THIS PLUGIN IS ONLY FOR DEMONSTRATION PURPOSES.What is done in this prWhen an override is done for an alias then it is detected and correctly loaded.Unit tests for the override behavior for case and case in the testing instructions below.The Joomla namespace librariessrc is loaded trough JLoaderand not anymore trough composer. Like that we keep the two worlds separated. Composer is managing the external libraries vendor dir while JLoader is managing the core classes. So we don't have to introduce class overriding in composer.A bug is fixed in the JLoaderload function where an if check never returns true because it makes no sense to do a test on a lower case class name.Duplicate code is unified in a new function JLoaderstripFirstBackslash.Testing InstructionsChange the line in the file componentscomcontentmodelsarticles.php to class ContentModelArticles extends \Joomla\Cms\Model\ListModelInstall the override plugin from here.Activate the plugin.Open the plugin in the Plugin manager.Case Set Override JModelList to yes and Override Joomla\CMS\Model\ListModel to yes.Case Set Override JModelList to no and Override Joomla\CMS\Model\ListModel to yes.Case Set Override JModelList to yes and Override Joomla\CMS\Model\ListModel to no.Case Set Override JModelList to no and Override Joomla\CMS\Model\ListModel to no.Expected resultCase On every list in the back end the green message box should be displayed except on the articles list the yellow box for the ContentModelArticles should be displayed.Case On every list in the back end the yellow message box should be displayed.Case On every list in the back end the green message box should be displayed.Case No override message box should be displayed.Actual resultCase On every list in the back end the green message box should be displayed except on the articles list there no box should be displayed.Case On every list in the back end no message box should be displayed.Case On every list in the back end the green message box should be displayed except on the articles list there no box should be displayed.Case No override message box should be displayed.DeprecationThis changes are basically needed for Joomla .. If we want to support only overrides for the namespaced version we can then revert back some changes in Joomla .If we want to completely get rid of overriding core classes then we can deprecate it right now in JLoader and remove the code in Joomla at earliest then.PerformanceThere is a minimal performance loss in the composer classloader wrapper as an extra lookup is made to detect if an override exists in JLoader for a namespaced class.WarningThis pr should not encourage people to do class overrides as it is NOT the right approach to hook itself into the core It just deals with a feature which interferes with the transition to namespaces.
fields imagepath tooltip;PR for The current tooltip says The filesystem path to the directory containing the image files to be listed.but it starts the display at Which implies to the user that it is pointing to the root folderIt is actually displaying the filesystem path AFTER the Path to Images Folder as defined in the Media component optionsThis PR updates the string used to sayThe filesystem path to the directory containing the image files to be listed relative to the default image folder.Which more accurately reflects the path
Move the location of the in the contacts;Pull Request for Issue .stellainformatica does this resolve the issue
Publishing article options frontend;Summary of ChangesIn the content component there is the option to disable Publishing options from the content creation form. However this only disables the fields when in the admin not when you are creating an article in the front end.This came up during a site review where the client couldnt understand how the metadata and publishing dates were being changed when the option was disabledTesting InstructionsSet Show Publishing Options to hideExpected resultPublishing options hidden from the content form in the admin and front endActual resultpublishing options only hidden in the adminAfter this PR the fields that are in the admin publishing tab will not be displayed on the front end content dorm if disabled. Note you need to check the fields that are disabled on the frontend as the fieldsets have different names and groups. Basically metadata publish up and down and author alias will be hiddenAn override for Beez has been included you sihould check that as well.Documentation Changes Required
beez Can't save content when captcha is enabled;Summary of ChangesAdd the missing code to display captcha when creating content with the Beez templateTesting InstructionsConfigure and enable the recaptcha pluginIn article options enable captcha on submitCreate a menu item type to create an articleExpected resultCaptcha displayed on the front end when creating an articleActual resultTest with protostar captcha displayedTest with beez captcha NOT displayed and article cannot be saved
Fix logout redirect error;Pull Request for Issue .Summary of ChangesSee for explaination of the issue. This PR is an attempt to fix itTesting InstructionsSee confirm the issueApply patch check it again confirm the issue fixedHackwar Not sure if this is a proper fix Could you please reviewDocumentation Changes RequiredNone
Remove useless todo;As far as I can tell this TODO is either outdated or wrong looking at the code I can seelabel forfilterlanguageclient classelementinvisiblelabelSo there is a label and there is nothing TODO
Wrong component checked in the router;New router for comnewsfeeds and comcontact need new router enabled also in comcontent see Simple copy paste errorShouldnt there be tests for this as well
Subpackage names;Fix copy paste errors where the wrong subpackage is usedConsistency check so that the case is consistent across the subpackagebored at a usergroup
Update grunt readme;Pull Request for Issue .Summary of ChangesJust some updates to the gruntreadme.md
Add unit tests for JComponentRouterRulesStandardTest;Summary of ChangesAdds unit tests.I've taken the comcontent router and the sample data we already use for tests rather than attempt to build up something that's nested and has a relevent menu structure etcTesting InstructionsHope travis stays greenDocumentation Changes RequiredNone
Fixed wrong DocBlock summary for function canEditState;Summary of ChangesFixed wrong DocBlock summary for function canEditState in some component models.Original stringMethod to test whether a record can be deleted.New stringMethod to test whether a record can have its state changed.Testing InstructionsCode review.Documentation Changes RequiredNone.
Isis Chzn 'unpublished' color;Pull Request for Issue .Summary of ChangesRed color state of 'Unpublished' in chosen dropdowns has gotten lost along the way. This PR fixes that.Testing InstructionsApply patch and navigate to article edit.Before patchAfter patchDocumentation Changes RequiredNone
content.language layout changing 'default' to 'undefined';Pull Request for Issue Summary of ChangesChanging language display to undefined instead of default when the item language is not set usually by accident See or when a language has been set to some items on a multilang site and the content language is deleted.Testing InstructionsOne can test using same conditions as or by deleting a content language and looking at the items managersCan be merged on Review.Bakual
Update doc blocks;It is built not builddiscovered during the testing of wilsonge as requested
Isis Chzn 'trashed' color;Pull Request for Issue .Summary of ChangesSets trashed state of chosen dropdown to red.Testing InstructionsApply patch and navigate to article edit.Before PatchActual resultDocumentation Changes RequiredNone
MVC factory;Summary of ChangesModels Views and Tables should not being created in the Controller or models itself. Instead of a factory should do the job.This PR adds a new Mvc factory where we can pass that into a controller or model where the can create their objects trough. Like that we are one step closer to a DI set up.This should simplify the work of joomdonation in and .Testing InstructionsBrowse the back end.Expected resultNo error.Actual resultNo error.Documentation Changes Required
added the space between text and table border;Pull Request for Issue .Summary of ChangesAdded the space between table border and text displayed.Added paddingTesting InstructionsGo to Menu Extensions Manage Discover.Expected resultActual resultDocumentation Changes RequiredNone
. New Frontend Aurora Template;Summary of ChangesSo long Protostar and welcome Aurora the new J template based on BS.As it currently stands there are still more views to migrated over to BS.Aurora now uses proper naming conventions for module positions such as sidebarleft topa etc.. unlike the old position which nobody had any clue about.With the sample data I've tried to make the homepage look like a proper demo site by displaying a full stack of modules each using different Module Style and Moulde Class Suffix to show new users what it has to offer out the box.The banner image used if just for demo purposes until the design team provide something a bit more concrete.Screenshot
Associations help links;Pull Request for Issue Summary of ChangesConfigure and setup the names of the related Helps Screens to allow their display in the admin.Thanks to MATsxm for doing the hard workTesting InstructionsHelp button in comassociations list view item view and options viewExpected resultDedicated Help Screens to openActual resultpage not foundDocumentation Changes RequiredHelp Screens are already created but need improvement
enGB style guide says ID not id;The style guide says to use ID httpsdeveloper.joomla.orgengbuserinterfacetextguidelineswordstowatch.html
URL is always all capitals;URL Capitalise except when used in code.httpsdeveloper.joomla.orgengbuserinterfacetextguidelineswordstowatch.html
comfields Delete obsolete language strings;When merging these strings should have been deleted as they have been replaced by JLIB stringsCan be merged on reviewBakual
Removed unnecessary blank lines;Summary of ChangesRemoved unnecessary blank lines.Testing InstructionsCode review.Documentation Changes RequiredNone.
Removed unnecessary blank lines;Summary of ChangesRemoved unnecessary blank lines.Testing InstructionsCode review.Documentation Changes RequiredNone.
Use StringInflector to guess viewlist from viewitem;Pull Request for Issue .Summary of ChangesPR made as requested by wilsonge Original code from other PR Testing InstructionsCode review
relNoopener;I raised this issue last year with the JSST but it was rejected as a nonissue and more of a browser bug than something Joomla should be doing anything about.However as now the Google site auditing tool lighthouse lighthouse report httpsdevelopers.google.comwebtoolslighthouseauditsnoopener will report this as both a performance and a security issue I believe there is no longer an excuse for not taking action in joomla.It is a really simple change that will not have any visible effect on a website that uses targetblank for any of its menu links and the links generated by tinyMCE already do this even if you were not aware of it. This change will act to harden a Joomla website from malicious sites that trick you into creating links to their sites and has a claimed by google performance benefit.Frontend MenusMenu items that are links to External Urls with the target set to New Window aka targetblank. There is no need to apply this to other menu links with the target set to New Window as they are to our own web site and presumably you are not going to attack your own web site.To test this create two menu items. One an article set to open in a new window and the other an external link set to open in a new window. Only the external link menu will have a relnoopener attributeFieldsWe can also create links to external web site using the URL field type and this is hard coded to open in a new window with targetblank that's probably wrong to hard code but it is beyond the scope of this PRTo test this create a field of type URL for an article and then create an article that uses the field and check to see that the link is rendered with the relnoopener attributeArticle LinksWith articles we have the option to create up to three links Link A Link B Link C. This PR adds the relnoopener attribute to the three options new window popup window modal windowTo test this enter a link for all three fields in an article using each of the changed options the three options new window popup window modal window and check to see that the link is rendered with the relnoopener attributeContact linksWith contacts we have the option to complete a field called Website. This is hard coded to open in a new window with targetblank that's probably wrong to hard code but it is beyond the scope of this PRTo test this create a contact and complete the website field and check to see that the link is rendered with the relnoopener attributeCominstallerEvery update site has a targetblank link to the external extension update site. This adds the relnoopener attribute to the link note this is added to joomla.org links as well as its not possible to differentiate.Every available update has an infourl that has a targetblank link to the external extension site. This adds the relnoopener attribute to the link.External links to non Joomla propertiesThe relnoopener attribute has also been added to several hardcoded links within Joomla to non joomla owned properties.Two Factor Auth PluginDebug PluginInstallation GPL linkExternal links to Joomla propertiesI assumed we are not going to attack our own users sites but to prevent tools like limelight from reporting security errors I have also added the relnoopener to the links to the joomla.org homepage that are publically visible on the admin login page
Remove colons in user profile labels;Summary of ChangesMake labels consistent without colons.Testing InstructionsEnable User Profile pluginIn backend edit a user.Go to User Profile tab.View labels.In frontend log in.Click Your Profile link.View labels under User Profile section.Click Edit Profile button.View labels under User Profile section.Expected resultColons removed from labels.
Set defined'JEXEC' as first statement;Summary of ChangesSet the defined'JEXEC' or die as first statement in gmail authentication plugin.Testing InstructionsCode review.Documentation Changes RequiredNone.
Remove profile form if no profile fields to display. Resolves issue resubmission of PR;Pull Request for Issue .resubmission of previous PR Summary of ChangesIn the user profile plugin if there are no user profile fields to display then do not show the user profile tab.Testing InstructionsStart with a standard Joomla installation.Activate the User Profile plugin and set all fields to disabled except for the Terms Of Service field.Create a new user via normal frontend registration form. ToS field should appear on the registration form but no other profile fields.Now switch to the admin panel and bring up the new user's details in the user management.Note that the user profile tab should not appear.Expected resultAfter this change the profile tab should not be shown in this case as there would be no fields on it to display.Actual resultIn current Joomla .. and earlier given the above scenario the profile tab would appear in the management tab but clicking on the tab would just give you a blank form.Documentation Changes RequiredNone.
Pivate Messages Disable all editorxtd plugins;The editorxrd plugins are useless when creating private messagesBefore this PR all but two contact and menu were disabledAfter this PR all cored editorxtd plugins are hidden
Update default.php to fix missing space between img attributes;Pull Request for Issue .Summary of ChangesAdded the correct space between the attributes inside the banner elementsTesting InstructionsOverwrite the default.php in a joomla .. with the fixed one. Try the steps from issue and check the HTML source. The spaces should be now correct. As an additional test you can run an HTML syntax check against the section and it now validated correctly.Expected resultimg srcbannersbannerexamplex.gif altx width heightActual resultimg srcbannersbannerexamplex.gif altxwidth height Documentation Changes RequiredSee source code
Isis btngroup btn btn margin fix;Pull Request for Issue .Summary of ChangesThere is a couple of instances where multiple .btn within a .btngroup shows double borders between each button. This PR fixes that.Testing InstructionsInstances which I found possibly more.Apply patch and navigate to...Article edit VersionsContent MediaBefore PatchAfter PatchDocumentation Changes RequiredNone
Fix copying the source lang in association editing;Pull Request for Issue Summary of ChangesThe patch sets the target language before doing the copyTesting InstructionsPlease use info from for testinginfograf brianteeman
Wrong return type;The return type is declared as string but actually the method can also return an array.As per documentation the type array has been introduced in . but the return type declaration has not been modified accordingly.No testing Instructions please merge on review.
comassociations Display Copy Reference to Target only for extensions using the savecopy task;Some rd party extensions may not support savecopy.Summary of ChangesThis patch adds in the associations helper a new support variable.support'savecopy' trueTesting InstructionsOn a multingual site using core extensions make sure Copy Reference to Target works and is always displayed as usual.Test that the button is not displayed when it is set to false or absent from the associations helper in comcontent for example.administratorcomponentscomcontenthelpersassociations.phprdeutz Can be merged on review.alikon
fixes;Pull Request for Issue .Summary of ChangesCall the menu function with the right amount of variablesFix all the logic for the modals since modals they need to be checked against window.parent.Joomla NOT Joomla . THIS CODE WILL NEVER BE EXECUTED IN .x DUE TO THE EXISTENCE of jInsertEditorTexttag editor BUT SINCE IT'S ALREADY FIXED IN J THIS ALIGNS THE CODEBASESTesting InstructionsInside an article use the menu button to insert a link to a menu item in an articleExpected resultActual resultDocumentation Changes Required
. dev added a test to JHighlighter;Pull Request for Issue .Summary of ChangesAdded a javascript test to unhighlight method of JHighlighter libraryTesting InstructionsExpected resultActual resultCode coverage incrementDocumentation Changes Required
. Improving row selection in Joomla Admin;Summary of ChangesUsually when I was using Joomla Admin the multiselect on the list view was not very userfriendly since clicking on such a small square can sometimes fail on the first try. So I came up with a solution forTesting InstructionsGo to articles or any multiselect list view try clicking anywhere on a row it will select the whole rowTry trashing multiple items by clicking severall rowsTry the toggleall buttonExpected resultWhen you click on a row on the articles list view for example it will highlight the whole lineWhen you click on the selectall checkbox it will highlight all items on that pageNoticeI'm aware of backwards compatibility so the regular checkbox will still work as before while still highlighting the whole line.
. Styling tweaks for notify alerts;Pull Request for Issue .Summary of ChangesFix the colour of the close buttonAdd some padding to the click area is a little biggerOldNew
remove new router feature;Executed summeryRemoved the new router feature forcomcontactcomcontentcomnewsfeedcomusersTestinstructionsInstall Joomla with TestdataApply patchTest if menu links are still workingTest if link other links still workingExpected resultLinks should still work
. Fix validation tests failing;Pull Request for Issue .Summary of ChangesFix javascript testsTesting InstructionsIf drone is green we're goldenExpected resultActual resultDocumentation Changes Required
Add Drag and Drop Installation with upload box for;Pull Request for Issue Summary of ChangesThis is a new PR for that for easy discuss about the new upload layout.ImagesDrag and drop installSelect installIf browser does not support FormData will fallback to original upload layout. Please someone help me test in IE.
. add jstests coverage report;Pull Request for Issue .Summary of ChangesAdds reports for the tests coverageTesting InstructionsExpected resultActual resultDocumentation Changes Required
. Fix Aurora FontAwesome path;Pull Request for Issue .Summary of ChangesI accidentally reverted the Grunt changes made in the initial Aurora PR. This adds them back in and fixes the Font Awesome path in the variables.scss
. Add missing class formvalidate;Pull Request for Issue .Summary of ChangesTesting InstructionsExpected resultActual resultDocumentation Changes Required
. Fixed missing formvalidate classes in comusers;Pull Request for Issue .Summary of ChangesPlaced the class formvalidate in the edit views in comusers group level note and user in order to have the buttons in those views working.Testing InstructionsThe problem was encountered in the comusers part in the following placesWhen you click on Users Groups select a user or create a new one and then try clicking Save or CancelClose.When you click on Users Access Levels select a level or create a new one and then try clicking Save or CancelClose.When you click on Users User Notes select a note or create a new one and then try clicking Save or CancelClose.When you click on Users Manage select a user or create a new one and then try clicking Save or CancelClose.Before the fix the CancelClose and Save buttons were not working as you can see in the figureAfter the fix when you click Save it should save normally without JS errors and when you click on CancelClose it should go back to the previous view.Expected resultActual resultDocumentation Changes Required
Remove console.log from tinymce.min.js;Pull Request for Issue Summary of ChangesRemove the console log from tinymce.min.jsTesting InstructionsEdit content in the backendEnsure nothing is dumped to the browser console
Isis RTL Sidebar relative position;Pull Request for Issue .Summary of ChangesFor RTL gives the sidebar a relative position on less that px screen width.Testing InstructionsLog in to admin with RTL language and navigate to view with sidebar administratorindex.phpoptioncomcontent. Resize screen width.Before PRSee After PRDocumentation Changes RequiredNone
. Update scsslint gem to v..;Pull Request for Issue .Summary of ChangesUpdate the ruby gem scsslint to v.. and recompileNote to ciaran and dgt you'll both need to run gem install scsslint once this is merged.
Fix typo in System Fields plugin;Pull Request for Issue Summary of ChangesThis PR fixes a typo in System Fields plugin causes custom fields data not being savedTesting InstructionsInstall stagingCreate some custom fields for articles can be Text custom fieldsAddedit article. Before patch the value entered for custom fields are not being saved. After patch it is saved properly
ACL Debug missing String;Go to UsersGroups and then select any of the Advanced Permission Report linksIn search tools select component select modulesYou will see that there are two missing strings for COMMODULESACTIONEDITFRONTENDApply the patch and repeat and the strings are present
Recently added articles sorting admin panel;Pull Request for Issue Summary of ChangesAdded sort orderTesting InstructionsView admin cpanelExpected resultProper sortingActual resultDocumentation Changes RequiredNo
. comassociations javascript clean up;Pull Request for Issue .Summary of ChangesEliminate inline scriptsDrop some useless jQuery dependenciesUse .min.js can someone do this as well in .x this is not Testing InstructionsAssociations still work as beforeExpected resultActual resultDocumentation Changes Required
. commodules javascript clean up;Pull Request for Issue .Summary of Changesmove inline code to filesDrop some jQuery chosen is still used here Testing InstructionsEdit a moduleEdit a menu and try to edit the module form that formExpected resultWorks as usualActual resultDocumentation Changes Required
Add CSRF token for Ajax;Summary of ChangesAn idea inspired by Laravel when I'm writing drag and drop installation in Add CSRF token to head as a meta tag so we can get the value by Javascript.Use JHtml'form.csrf' to add meta namecsrftoken contentdeeceefdcfd in headThen we can select this tag to get valuevar token jQuery'metanamecsrftoken'.valAlso we can use XCsrfToken xxx header to validate token.JHtml'jquery.token' help us add header to ajaxSetup so we can auto inject token in every .ajax calls.function .ajaxSetupheaders 'XCsrfToken' 'metanamecsrftoken'.attr'content'jQueryTesting InstructionsI rewrite sendmail test in configuration to use this pattern just send a test.If we remove JHtml'jquery.token' in administratorcomponentscomconfigviewapplicationtmpldefaultmail.php will get fail result.
commenus remove notice;Pull Request for Issue .Summary of Changesremove notice Undefined variable ntext Testing InstructionsCreate a menu with a menu item.Disable this menu.Try to enable the menu item under this menu.Expected resultno noticeActual resultPHP Notice Undefined variable ntext in \administrator\components\commenus\controllers\items.php on line
Use JLayout to render debug backtrace and add backtrace in isis template error.php;Pull Request recreate for .Updated Added JHtmlDebug helper to render backtrace.Also add xdebug link support similar to did.JErrorrenderBacktrace use JHtmlDebug tooIntroductionIn current time we use setError getError and JErrorraiseError in component to send error message.However if we throw Exception the debug plugin will not render backtrace for developer. It only work when we use JErrorraiseError.It's because we have this code in httpsgithub.comjoomlajoomlacmsblobmasterpluginssystemdebugdebug.phpLif JDEBUG  if JErrorgetErrors  html thisdisplay'errors' To detect whether display errors or not. When we throw an exception the JErrorgetErrors will return null that backtrace will not rendered.The ModificationI added backtrace layout in layoutserrorbacktrace.php and now debug plugin isis template both include this layout. It will help developers know how errors occurred.How to TestGo to Global Configuration enable the debug mode.Then type index.phpoptionfoo in browser you will see the error page.Screenshot
Useless lang strings and alpha order some;Following this PR removes the experimental router language strings.It also alpha orders global customfields stringsCan be merged on reviewrdeutz wilsonge
cominstaller Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the foc blocs. If we have doc blocks then they should be usable and correct
comusers Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the doc blocs. If we have doc blocks then they should be usable and correct
Form Fields Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the doc blocs. If we have doc blocks then they should be usable and correct. they might not be perfect but they are better than they were
Changed Fields into Field;In the tiny editor it is Module Article and Contact to insert a link.Pull Request for Issue .Summary of ChangesTesting InstructionsExpected resultActual resultDocumentation Changes Required
Fields Field;In the tiny editor it is Module Article and Contact to insert a link.Pull Request for Issue .Summary of ChangesTesting InstructionsExpected resultActual resultDocumentation Changes Required
Typos;To be merged on review
Comment typos;Assorted comment typos can be merged on review
comfields Use the color rule for the color field;Summary of ChangesTo validate the color value in the color field the color rule should be used. The doc blocks got updated of the onCustomFieldsPrepareDom function is they have been outdated.Potential BC breakAdditionally the color rule was changed to have the same behavior as the other rules when an empty value is passed and the field is not required. IMO this is not a BC break but a bug fixed Bakual mbabker and wilsonge what you guys thinkTesting InstructionsCreate a color fieldSet a wrong default value like 'nocolor'Expected resultAn error should be shown that the field could not be saved.Actual resultAn error should be shown that the field could not be saved.
Deprecate some JEditor functions;Pull Request for Issue .Summary of ChangesDeprecate some php functions that generate javascript code.Joomla now has an API for all theseTesting InstructionsExpected resultActual resultDocumentation Changes Required
ay Span not i and icons;Convert the last batch of icons that had an i tag instead of a span and continue the work to make sure they have ariahiddentrue so that a screenreader wont try to read the font characterPlease note that after applying this PR there may still be instances of an i tag that is because there are other similar PRs awaiting testingmerge
New Isis template prevents chosen dropdown from working properly;Chosen dropdown provides ways to set the width of the dropdown elementSpecify it as inline style in the select element select stylewidth px ... orSpecify it as an option for the chosen function width 'px'See related documentation.The new style introduced in the Isis template forces the width to a different value which also causes a horizontal collapse in case of blank items.There is no reasonable way for third party extensions developers to specify a custom with for their own dropdown elements.To fix this problem I've removed two css lines that in principle we should not use anyway since the chosen dropdown control offers other ways to set its width.However it's possible that ciarn remembers the reason for these lines and can help us by providing further details.Testing InstructionsCreate a select anywhere in the backendphpJFactorygetDocumentaddStyleSheetJUriroottrue . mediajuicsschosen.cssJFactorygetDocumentaddScriptJUriroottrue . mediajuijschosen.jquery.jsdiv classcontrolgroupselect stylewidth px classchosenizeoptionOptionoptionselectdivPay attention to encase it in a controlgroup wrapper as shown since the issue only affects dropdown elements within a controlgroup wrapper.Also pay attention to the class assigned in this case chosenize which must correspond to that used in the following JavaScript.Run the following JavaScript to transform the select into a chosen dropdownjQuerydocument.readyfunction  px overrides the value of px specified in the PHP code'.chosenize'.chosen width 'px' Expected resultI expect the dropdown was or px wide with the precedence to the value specified in the JavaScript.Actual resultThe dropdown is px wide.
. commenus javascript clean up;Pull Request for Issue .Summary of Changesmove inline code to filesDrop some jQuery modals using jQuery because why not Testing InstructionsCreate a new MENUCreate all the possible menu itemsCheck that modules modals work correctly for Menu and ItemsExpected resultActual resultDocumentation Changes RequiredNone code clean up preparing joomla for strict CSP mode
Spelling mistake in default content for sample blog;Fix typo in sample dataFixes Issue
comfields Adding sorting arrow in fields and fieldgroups Managers;Pull Request for Issue commentSummary of ChangesAdding sorting arrows when sorting by languageTesting InstructionsCreate fields and filedgroups. Tag them to different languages.Display the Managers.Expected resultThe sorting arrows now display. Examplealikon Quy laoneo
few files to remove;Pull Request for Issue .Summary of Changesupgrade from .. with current staging these files shall not be present anymore.some file from Testing InstructionsExpected resultActual resultDocumentation Changes Required
ay ordering icons;When reading our default markup for rendering icons assisistive technology may have the following problems.The assistive technology will not find any content to read out to a userThe assistive technology will read the unicode equivalent which does not match up to what the icon means in context or worse is just plain confusing. In our use case it is always plain wrong. For example the unicode character used to display the trashed icon is \c which is equal to LWhen an icon is not an interactive element the simplest way to provide a text alternative is to use the ariahiddentrue attribute on the icon and to include the text with an additional element such as a span with appropriate CSS to visually hide the element while keeping it accessible to assistive technologies.In this case as the drag icon is completely inaccessible for nonsighted users out of scope to resolve for this PR we just need to add the ariahidden to prevent the icon being read aloudThis PR addresses the use case for the drag icons shown in the image below
ay icons for Multilingual status module;When reading our default markup for rendering icons assisistive technology may have the following problems.The assistive technology will not find any content to read out to a userThe assistive technology will read the unicode equivalent which does not match up to what the icon means in context or worse is just plain confusing. In our use case it is always plain wrong. For example the unicode character used to display the trashed icon is \c which is equal to LWhen an icon is not an interactive element the simplest way to provide a text alternative is to use the ariahiddentrue attribute on the icon and to include the text with an additional element such as a span with appropriate CSS to visually hide the element while keeping it accessible to assistive technologies.In this case we have the text and it is displayed so we just need to add the ariahidden to prevent the icon being read aloudThis PR addresses the use case shown in the image below
CodeMirror Full Screen Modifiers;Pull Request for Steps to reproduce the issueCodeMirror editor as used in the template editor has a text string to indicate the keystrokes required to put the editor in full screen modeHowever there is also an option to add a key modifier eg Shift Ctrl etc to the Key but there is no code to display the modifier in the stringActual resultThanks to CLodder
comfields Define the batch commands;Pull Request for Issue .Summary of ChangesThe set of available batch commands is not defined for a custom field.Testing InstructionsGo to Contents Fields.Create a text field.In the Fields list click Check All checkbox.Click Batch button.Select the enGB languageClick Process button.Expected resultNo entry in the error log.Actual resultError log contains an entryPHP Notice Undefined index tag in \joomlacmsstaging\libraries\legacy\model\admin.php on line
Move JComponentRecord to namespace;Moves JComponentRecord to namespace and changes some old doc blocks to the new set up. Additionally it fixes the ComponentHelper class which has some code which isn't adapted to namespaces probably because of an invalid merge.
Move CMS tables to namespace;Move CMS tables to namespace.
Allow menu item separators to have labels in admin menu;Summary of ChangesAdded an optional title parameter to addSeparator method in backend menu class. Hence there are now two separator typesNormal Separator horizontal barLabelled SeparatorIn the preset menu converted the separators between menus to labelled separators. This helps identify which menu are site menus and which are administrator menus.This labelled separators can also be used in the new custom backend menu by simply providing a label to the separator type menu item.Testing InstructionsInstall current staging and navigate to backend and see the drop down menu.which should look likeAdd a custom administrator menu and set it as active backend menu.Add some items separators with title and separators without title in custom backend menuMatch your findings with expected results below.If there is no admin menuthe separator should also be hidden automatically.Test this on RTL layout also.Expected resultThe separators with title should appear as labelled separators whereas the separator without title should be displayed as normal separator.The separators should not be clickableDocumentation Changes RequiredBackend menu manager documentation should be updated.infograf brianteeman
Make SQL Server driver's connection error messages infinitely more useful;Summary of ChangesThe Microsoft SQL Server driver's hereon sqlsrv error messages are useless. This PR returns the full error message stack which gives INFINITELY MORE USEFUL error messages.Testing InstructionsScrew up your MS SQL Server installation and try to install a new Joomla site.Expected resultAn error message with some clue about what is going on.Actual resultA uselesserror message Could not connect to the database. Connector returned number Database sqlsrvconnect failed. No crap Sherlock something's wrong Gee I'd have never guessed... Don't tell me why it failed I like guessing After applying the PRsqlsrv's ridiculous error message changes to something more informative. In my caseCould not connect to the database. Connector returned number Database sqlsrvconnect failed Array Array SQLSTATE code MicrosoftODBC Driver for SQL ServerNamed Pipes Provider Could not open a connection to SQL Server . message MicrosoftODBC Driver for SQL ServerNamed Pipes Provider Could not open a connection to SQL Server . Array HYT SQLSTATE HYT code MicrosoftODBC Driver for SQL ServerLogin timeout expired message MicrosoftODBC Driver for SQL ServerLogin timeout expired Array SQLSTATE code MicrosoftODBC Driver for SQL ServerA networkrelated or instancespecific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. message MicrosoftODBC Driver for SQL ServerA networkrelated or instancespecific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. Aha The instance name had a typo. I only lost half a day to that Documentation Changes RequiredNoneBackwards compatibility breaksNone
comfields Check if item has id on delete event;Pull Request for Issue .Fixes PHP Notice Undefined property JTableLanguageid in ROOTpluginssystemfieldsfields.php on line .Code review.
Added a method to get user timezone as DateTimezone instance;Summary of ChangesI added function to the JUser to get the user timezone which is very useful for any developer working with date and time in Joomla.It's a simple function but it already simplifies some cumbersome library calls.Testing InstructionsFill and save any form field using calendar field with 'userutc' like article publish date for exampleExpected resultThe date and time saved should be the set date and time...
.Fix combanners issue;Pull Request for Issue .Summary of ChangesThere was changes in component dispatcher implement makes banners component broken in the backend. This PR fixes itTesting InstructionsInstall Joomla . nightly buildAccess to banners component you will get errorsDelete the file administratorcomponentscombannersdispatcher.phpApply patch component works properly.
docsparse fix typo in parse.js;Propogate Propagate
choredeps bump ismyjsonvalid from .. to ..;Bumps ismyjsonvalid from .. to ...Commitsf ..dab Merge pull request from ChALkeRchalkerfixcommabea Fix uri prefix detectioncb Merge pull request from ChALkeRchalkerfixundefdfb add funding filec Fix 'required' implementationaf ..cb Merge pull request from ChALkeRchalkerfixstyleccded Fix a ReDoS in 'style' formatdfacb ..Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by linusu a new releaser for ismyjsonvalid since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.
docsversionsupportstatus Added link to extended long term support;What is the current behavior You can also link to an open issue hereThere is currently no mention of long term support providers on the docs. This is meant to be a place where we can enumerate the providers of extended long term support. StephenFluinWhat is the new behavior if this is a feature changeThe aforementioned list is added to the versionsupportstatus page in the angularjs docs.Does this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther informationThis PR is a result of several conversations with Jules and StephenFluin.       The text was updated successfully but these errors were encountered
docsmiscVersion Support Status adding LTS extension support;adding extension support informationOn twitter the angular account httpstwitter.comangularstatus hasannounced an extension to the Long Term Support period. Updating the website to let people know.AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
choredeps bump lodash from .. to .. in scriptsdocs.angularjs.orgfirebasefunctions;Bumps lodash from .. to ...Release notesSourced from lodash's releases...Commitsdfbc Bump to v..ecf Add npmpackagebc Bump to v..aac Bump to v.. Rebuild lodash and docsabfd Bump to v..cfe fixzipObjectDeep prototype pollution ebea Sanitize sourceURL so it cannot affect evaled code cec Fix lodash.isEqual for circular references ca Document matches shorthands for over methods Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by mathias a new releaser for lodash since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.       The text was updated successfully but these errors were encountered
choredepsdev bump lodash from .. to ..;Bumps lodash from .. to ...Release notesSourced from lodash's releases.....lodash v.. was big year Lodash became the most depended on npm package passed billion downloads its v release saw massive adoptionThe year was also one of collaboration as discussions began on merging Lodash Underscore. Much of Lodash v is proofing out the ideas from those discussions. Lodash v would not be possible without the collaboration contributions of the Underscore core team. In the spirit of merging our teams have blended with several members contributing to both libraries.For lodash v.. we wanted to cut loose push forward take things up a notchModern onlyWith v weÆre breaking free from old projects old environments dropping old IE support kB CoreLodashÆs kitchensink size will continue to grow as new methods functionality are added. However we now offer a kB gzipped core build thatÆs compatible with Backbone v.. for folks who want Lodash without lugging around the kitchen sink.More ESWeÆve continued to embrace ES with methods like .isSymbol added support for cloning comparing array buffers maps sets symbols converting iterators to arrays iterable à.In addition weÆve published an esbuild pulled babelpluginlodash into core to make treeshaking a breeze.More ModularPop quiz What category path does the bindAll method belong to Is itA require'lodashfunctionbindAll'B require'lodashutilitybindAll'C require'lodashutilbindAll'DonÆt know Well with v it doesnÆt matter because now module paths are as simple asvar bindAll require'lodashbindAll'WeÆve also reduced module complexity making it easier to create smaller bundles. This has helped Lodash adoption with libraries like Async Reduxst Class FPWith v we introduced lodashfp. We learned a lot with v we decided to pull it into core.Now you can get immutable autocurried iterateefirst datalast methods as simply asCommitsdfbc Bump to v..ecf Add npmpackagebc Bump to v..aac Bump to v.. Rebuild lodash and docsabfd Bump to v..cfe fixzipObjectDeep prototype pollution ebea Sanitize sourceURL so it cannot affect evaled code cec Fix lodash.isEqual for circular references ca Document matches shorthands for over methods Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by mathias a new releaser for lodash since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.
choredeps bump lodash from .. to .. in scriptscode.angularjs.orgfirebasefunctions;Bumps lodash from .. to ...Release notesSourced from lodash's releases...Commitsdfbc Bump to v..ecf Add npmpackagebc Bump to v..aac Bump to v.. Rebuild lodash and docsabfd Bump to v..cfe fixzipObjectDeep prototype pollution ebea Sanitize sourceURL so it cannot affect evaled code cec Fix lodash.isEqual for circular references ca Document matches shorthands for over methods Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by mathias a new releaser for lodash since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.
choredeps bump websocketextensions from .. to .. in scriptsdocs.angularjs.orgfirebasefunctions;Bumps websocketextensions from .. to ...ChangelogSourced from websocketextensions's changelog... Remove a ReDoS vulnerability in the header parser CVE reported byRobert McLaughlinChange license from MIT to Apache .Commitsefdcd Bump version to ..dadad Remove ReDoS vulnerability in the SecWebSocketExtensions header parserac Add Node versions and on Travisaa Formatting change ... should have spaces inside the bracesfcab Let npm reformat package.jsondf Change markdown formatting of docs.b Update Travis target versions.a Switch license to Apache ..See full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.       The text was updated successfully but these errors were encountered
choredeps bump websocketextensions from .. to .. in scriptscode.angularjs.orgfirebasefunctions;Bumps websocketextensions from .. to ...ChangelogSourced from websocketextensions's changelog... Remove a ReDoS vulnerability in the header parser CVE reported byRobert McLaughlinChange license from MIT to Apache .Commitsefdcd Bump version to ..dadad Remove ReDoS vulnerability in the SecWebSocketExtensions header parserac Add Node versions and on Travisaa Formatting change ... should have spaces inside the bracesfcab Let npm reformat package.jsondf Change markdown formatting of docs.b Update Travis target versions.a Switch license to Apache ..See full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.
docsngRepeat missing closing backtick;AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionnoWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changenoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
choreci add engines to docs firebase deployment;According to the Firebase docs this field is necessary httpsfirebase.google.comdocsfunctionsmanagefunctionssetnodejsversionIt's also a good idea to set it because NodeJS is endoflife and Firebase will require Node for all functions by March .I got an email from Firebase about these changes but haven't found a blog entry or similar otherwise I would have linked to this.AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
choredocsapp remove document.write from docs index.html;Previously the docs app used document.write causing the following warning on ChromeA parserblocking cross site i.e. different eTLD scripthttpsajax.googleapis.comajaxlibsangularjs..angular.min.js isinvoked via document.write. The network request for this script MAY beblocked by the browser in this or a future page load due to poor networkconnectivity.In the past document.write seems to have been used in order for browsers such as Firefox to work correctly with our dynamically set base tag and relative stylescript URLs.This commit replaces document.write with regular stylescript tabs to avoid the warning and potential issues due to poor network connectivity. It seems that the latest versions of Chrome Firefox and IE can handle this fine without naticeable delays.Fixes .       The text was updated successfully but these errors were encountered
chore clean up package.json and CircleCI config;This is a followup to cleaning up package.json and .circleciconfig.yml and making release scripts executable.
choreci fix code deployment;AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixjqLite prevent possible XSS due to regexbased HTML replacement;AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionYesWhat is the current behavior You can also link to an open issue hereThe regexbased input HTML replacement may turn sanitized code into unsanitized one. An analogous jQuery advisory GHSAgxrxjjpxWrapping option elements in select ones changes parsing behavior leading to possibly unsanitizing sanitized code. An analogous jQuery advisory GHSAjpcqcgwvjWhat is the new behavior if this is a feature changeThe issues are fixed. The second one is a breaking change so a new method restoring legacy insecure behaviorangular.UNSAFErestoreLegacyJqLiteXHTMLReplacementwas added.Does this PR introduce a breaking changeYesPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
chore update jQuery from .. to ..;AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionIt updates the tested jQuery version and breaking jQuery is listed as one of the reasons we might need a new AngularJS release.What is the current behavior You can also link to an open issue hereNAWhat is the new behavior if this is a feature changeNADoes this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
docssecurity add SECURITY.md;Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionNo but it documents the project's Security policy in a standard GitHubsupported way.What is the current behavior You can also link to an open issue hereThere is no Security policy in the repo only on the docs website.What is the new behavior if this is a feature changeThere is a Security policy in the repo in a well known GitHubsupported location.Does this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
chore update Node.js from to update some dependencies;AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionWhat is the current behavior You can also link to an open issue hereNode.js is used to buildtest AngularJS.What is the new behavior if this is a feature changeNode.js is used to buildtest AngularJS.Does this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdatedFixFeature Tests have been added existing tests passOther informationNode.js ends its support at the end of . Node will be supporteduntil April which is way past AngularJS end of support.Some dependencies needed to be updated to make them work in Node.js .TODO Migrate to Gulp v
fixangular.merge do not merge proto property;By blocking proto on deep merging this commitprevents the Object prototype from being polluted.AngularJS is in LTS modeWe are no longer accepting changes that are not critical bug fixes into this project.See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.Does this PR fix a regression since .. a security flaw or a problem caused by a new browser versionWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
chore update jQuery from .. to ..;This updates jQuery to .. to ensure future security fixes won't break it.
chore make yarn.lock GitHub templates identical between master v..x;No description provided.        The text was updated successfully but these errors were encountered
chore update copyright year;No description provided.        The text was updated successfully but these errors were encountered
fixrequired correctly validate when required on noninput element à;àis surrounded by ngIfCloses I've also ran this change against the ngMaterial unit tests the uiBootstrap unit tests the ionic unit tests and manually tested with uiSelect.What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixngRequired set error correctly when inside ngRepeat and false bà;ày defaultPreviously in the required validator we would read the required setting directly from attr.requiredwhere it is set by ngRequired.However when the control is inside ngRepeat ngRequired sets it only after a another digest haspassed which means the initial validation run of ngModel does not include the correct requiredsetting. Before commit a this would not have been a problemas every observed value change triggered a validation.We now use the initially parsed value from ngRequired in the validator.Fixes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
Docs known issues;What kind of change does this PR introduce Bug fix feature docs update ...Updates various APIs with known issues that we are not planning to fix due to LTS never intended to fix.What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixcompile fix ngprop with undefined values;Fixes
Isolated module tests;SauceLabs is struggling to keep connecting and disconnectingfor each of the modules unit test runs. This commit puts most ofthe module tests into IIFEs so that they can be run in one go.ngMock is still tested separately since unlike the other testsit doesn't want to have a prebuilt version of ngMock available.ngAnimate is still tested separately because it does some funnythings with globals that were difficult to isolate in the main modulestest run.
testngSanitize disable a failing Edge test in all versions including;What kind of change does this PR introduce Bug fix feature docs update ...Test fix.What is the current behavior You can also link to an open issue hereEdge fails tests.What is the new behavior if this is a feature changeEdge passes tests or at least the one I fixed.Does this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdatedFixFeature Tests have been added existing tests passOther informationThe test has been only disabled on Edge so far which made it fail in Edge .
fixcompile properly handle false value for boolean attrs with jQuery;What kind of change does this PR introduce Bug fix feature docs update ...Bug fixWhat is the current behavior You can also link to an open issue herengdisableddisabled always disables the element in XHTML mode when jQuery is used even when the disabled binding is set to false.What is the new behavior if this is a feature changeYes but only in XML mode a.k.a. XHTML.Does this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdated NA FixFeature Tests have been added existing tests passOther informationjQuery skips special boolean attrs treatment in XML nodes for historical reasonsand hence AngularJS cannot freely call .attrattrName false with such attributes. To avoid issues in XHTML call removeAttr in such cases instead.Ref jqueryjqueryFixes
fixngRepeat fix trackBy function being invoked with incorrect scope;This also fixes a leak of that scope across all further instances of therepeated element.Fixes What is the current behavior You can also link to an open issue hereThe trackby function would get created on the first linking of an ngrepeat and then get cached forever so each time that ngrepeat was relinked when it is repeated or destroyedrecreated via ngif etc. the previous scope would be used. This also leaks the scope for the lifetime of that compiled node.What is the new behavior if this is a feature changeThe trackby no longer directly references the scope
perfinput prevent multiple validations on compilation;This commit updates inbuilt validators with observers to preventmultiple calls to validate that could happen after compilation incertain circumstanceswhen an input is wrapped in a transclude element directive e.g. ngRepeatthe order of execution between ngModel and the input validation directives changes so thatthe initial observer call happens when ngModel has already been initalizedleading to another call to validate which calls all defined validators again.Without ngRepeat ngModel hasn't been initialized yet and validate does not call the validators.When using validators with scope expressions the expression value is not available whenngModel first runs the validators e.g. ngMinlengthmyMinlength. Only in the first call tothe observer does the value become available making a call to validate a necessity.This commit solves the first problem by storing the validation attribute value so we can comparethe current value and the observed value which will be the same after compilation.The second problem is solved by parsing the validation expression once in the link functionso the value is available when ngModel first validates.Closes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
Update karma so we can remove Safari workaround;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixcompile do not create directives for constant media URL attributes;By creating attribute directives that watch the value ofmedia url attributes e.g. imgsrc we caused a conflictwhen both src and datasrc were appearing on thesame element. As each directive was trying to write to theattributes on the element where AngularJS treats src anddatasrc as synonymous.This commit ensures that we do not create create such directiveswhen the media url attribute is a constant no interpolation.Because of this and because we no longer sanitize URLs in theattr.set method this commit also updates ngHref andngSrc to do a preliminary sanitization of URLs in case thereis no interpolation in the attribute value.
fixinput prevent browsers from autofilling hidden inputs;petebacondarwin
chore update Sauce Connect from .. to ..;What kind of change does this PR introduce Bug fix feature docs update ...An infra fixupdate.What is the current behavior You can also link to an open issue hereThe builds often terminate with a message likeFailed The test with session id eaffafafaaffdabc has already finished and can't receive further commands.This was build httpstravisci.organgularangular.jsjobsWhat is the new behavior if this is a feature changeI hope the Sauce Connect update will eliminate those issues especially that its changelog explicitly mentions they fixed a major bug in connection state logic that caused clients to exit prematurely.See httpswiki.saucelabs.comdisplayDOCSSauceConnectProxyChangeLogsDoes this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdatedFixFeature Tests have been added existing tests passOther information
fixurlUtils make IPv URL's hostname wrapped in square brackets in IEEdge;What kind of change does this PR introduce Bug fix feature docs update ...A bug fix.What is the current behavior You can also link to an open issue hereIn IE and Edge not in Preview location.host incorrectly returns hostnames of IPv addresses without wrapping in square brackets.This is caused by and IEEdge bug which incorrectly don't wrap IPv addresses' hostnames in square brackets when parsed out of an anchor element which is used by location for the purpose of URL parsing.Issue What is the new behavior if this is a feature changeFor all supported browsers location.host returns an IPv address wrapped in square brackets.Does this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
chore update minimum Yarn version do some Yarnrelated cleanups;What kind of change does this PR introduce Bug fix feature docs update ...Build change.What is the current behavior You can also link to an open issue hereSee the next section.What is the new behavior if this is a feature changeIncluded changeschore update minimum Yarn version from .. to ..Yarn . added the integrity field to the lockfile making newer Yarn usershave their lockfile changed a lot if they run yarn. This commit updates therequired Yarn version to be at least .. and changes Travis Jenkins to useYarn ..chore change the package.json's engines grunt field to gruntcliThe grunt field suggested it's the grunt package version we're checking whilewe check the gruntcli version instead.chore stop separating Yarn script arguments from script names via The separator is necessary in npm but not in Yarn. In fact it'sdeprecated in Yarn and some future version is supposed to start passing thisparameter directly to the scripts which may break them.chore Don't install gruntcli globally during the buildIt's enough to use yarn grunt instead of grunt and the global gruntcliinstallation is no longer needed.Does this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdatedFixFeature Tests have been added existing tests passOther information
fixngMock make matchLatestDefinitionEnabled work;Fixes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
chore properly isolate module tests;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue herePreviously our module tests weren't running in isolation. Theroetically we wanted to test if the angular.js build file works well with the individual module source files Note that we don't use the module build files because we sometimes test nonpublic apis.However we bundled all module files together with the build file and this messed up the results as some modules assign angular helpers like isDefined in the current scope which means all following modules have access to them too which essentially defeats the purpose of these tests. See .What is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixngStyle skip setting empty value when new style has the property;What kind of change does this PR introduce Bug fix feature docs update ...Bug fix.What is the current behavior You can also link to an open issue hereUsing ngstyle with CSS transition with jQuery .. currently the latest tag the animation is disabled in certain circumstances.httpsjsfiddle.netqzaycWithout jQuery using jqLite.css or using jQuery .. the div animates. I reported to the jQuery dev on this behavior difference jqueryjquery. I think this is a bug in jQuery.This pull request suggests a workaround on the disabled animation issue. I'm not sure how the report to the jQuery will be handled but we can fix the behavior with reasonable changes in AngularJS. Skipping the common properties with newStyles will fix the animation issue with jQuery .. which can be confirmed by httpsjsfiddle.netgstfh. I think the diff is reasonable and also improves the performance because the properties in oldStyles and newStyles are same in most cases.What is the new behavior if this is a feature changeI believe there's no changes except for fixing the animation issue.Does this PR introduce a breaking changeNo I believe.Please check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
docsversionsupportstatus remove outdated info resolve inconsistencies;What kind of change does this PR introduce Bug fix feature docs update ...Docs update.What is the current behavior You can also link to an open issue herehttpsdocs.angularjs.orgmiscversionsupportstatus is outdated it talks about August in future tense.What is the new behavior if this is a feature changeOutdated info is removed inconsistencies e.g. around . support are resolved.Does this PR introduce a breaking changeNo.Please check if the PR fulfills these requirements The commit message follows our guidelinesFixFeature Docs have been addedupdatedFixFeature Tests have been added existing tests passOther information
docsguide grammar correction in security guide;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixngAnimate remove prepare classes with multiple structural animaà;àtionsCloses What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixngAria.ngClick restrict preventDefault on space enter to nonà;àinteractive elementsFixes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixselect allow to select first option with value undefined;Previously the value observer incorrectly assumed a value had changed even ifit was the first time it was set which caused it to remove an option withthe value undefined from the internal option map.Fixes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixngHref allow numbers as input;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixcompile use correct parent element when requiring on html element;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
fixAngular add workaround for Safari Webdriver error;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
fixngEventDirs check for rootScope.phase in event handler and don't apply if already in digest;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
docsngProp ngOn;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
Docs update location guide info fix some headlines;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
docschangelog guideMigration add info about sce BC in .;Closes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
Add event info to animation event callbacks;What kind of change does this PR introduce Bug fix feature docs update ...featWhat is the current behavior You can also link to an open issue herethere's no information in animation event callsWhat is the new behavior if this is a feature changeinfo is addedDoes this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
refactorlocation move repeated path normalization code into helper method;What kind of change does this PR introduce Bug fix feature docs update ...Refactor to reduce duplicate codeOther informationI originally did this as part of an attempted solution in but I thought it might be worth committing on it's own.
featcompile add support for arbitrary property and event bindings;Here's the initial work for arbitrary property and event bindings. I think ngattr and ngon are essentially ready. The main thing to do is the sce logic which I'm very unfamiliar with I've never used it so any helpfeedback in that area would be great. Also docs...Could also think about doing the ngbindon as gkalpak has been calling it something equivalent to in Angular.Please check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passTODO no or not in this pr update getTrustedAttrContext to the el|attr style like getTrustedPropContext to reuse code no or not in this pr add ability to add new attribute contexts run customelementseverywhere angularjs tests done but needs to reference the new release tests to verify effects of addPropertySecurityContext fae tests for nontrusted imgaudiovideosrc values a tests for nontrusted sourcetracksrc values a try moving tests to new files abe change ngProp to do preassign in prelink bab ngon docs  ngprop docs make note of comment  tests for |style c ensure tests for each context type whitelisted non whitelisted trustedvalue aee mainly copied from interp tests of the attribute equivalents source ngpropsrcset tests similar to img ngpropsrcset d sce tests for things like innerHTML fbd add sce valueOf similar to ngBindHtml tests fbd undo sourcesrcset attribute change ef drop tests copied from ngattr that are interpolate specific eb file bug for ngattrbrokencamels issue referenced in tests dc reduce size of sce prop IIFE seems unnecessary see comment
choredocsapp ensure ToC links contain the path;Without the path the browser address changes so the hashfragment is directly on the base url. Then on refresh thebrowser navigates to an invalid page.Closes
fixbrowser normalize inputted URLs;What kind of change does this PR introduce Bug fix feature docs update ...fixWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
featform.FormController add getControls;Fixes Closes Closes What kind of change does this PR introduce Bug fix feature docs update ...featWhat is the current behavior You can also link to an open issue herethere's no straight forward way to get all controls of a formWhat is the new behavior if this is a feature changeyou can get a shallow copy of the form controlsDoes this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther informationI decided against a synchronized copy comment because I don't see the clear benefit over a simple shallow copy is slightly more involved to implmenent.
featerrorHandlingConfig add option to exclude error params from url;Specific errors such as nested module loading can create very longerror urls because they include the error stack. These urls create visualclutter in the browser console are often not clickable and may be rejectedby the docs page because they are simply too long.We've already made improvements to the error display in which excludesthe error url from error parameters which results in cleaner error messages.Further modern browsers restrict console message length intelligently.This option can still be useful for older browsers like Internet Explorer orin general to reduce visual clutter in the console.Closes Closes Closes Closes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther informationI've decided to go with this implementation instead of allowing the parameter length or url length to be configurable. A maxlength will truncate the errors in unexpected places which means the resulting urls might also be unusable. Also modern browsers restrict the console message length on their own.
https link to editorconfig.org;What kind of change does this PR introduce Bug fix feature docs update ...https link to editorconfig.orgWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
featngMessages add support for default message;Added support for showing default message when no values are mapped with ngmessage.Closes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
Feat input timeformat;What kind of change does this PR introduce Bug fix feature docs update ...FeatureWhat is the current behavior You can also link to an open issue hereBrowser differences when displaying input time and datetimelocalWhat is the new behavior if this is a feature changeOption to adjust the formatDoes this PR introduce a breaking changeNoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther informationCloses Closes There are two optionstimeFormatSeconds can be used to configure if seconds or milliseconds should be displayed in general.timeStripEmptySeconds mimics the behavior of Chrome to hide the seconds completely if they are zero.
docsngMockEE add docs for httpBackend.matchLatestDefinitionEnablà;àedWhat kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
docsinputnumber note issue with large number and step validation;Closes What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
testAngular remove special case for Edge;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
testsanitize exclude elclob test in Edge;We don't exclude Edge completely to know if the bug has been fixedin the next versionWhat kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
refactorcompile remove workaround for chrome bug fixed in v;Based on the comments this shouldn't be needed anymore       The text was updated successfully but these errors were encountered
featcompile add oneway collection bindings;Implements
docsguideComponents add link to documentation for component method;What kind of change does this PR introduce Bug fix feature docs update ...docsWhat is the current behavior You can also link to an open issue hereDoes not link to API of method which shows all syntaxesWhat is the new behavior if this is a feature changeLinks to API of methodDoes this PR introduce a breaking changenoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
docsangular.Module improved documentation for component method;Copy improved documentation for component method from compileProviderand add missing object syntax.What kind of change does this PR introduce Bug fix feature docs update ...docsWhat is the current behavior You can also link to an open issue hereDoes not mention all syntaxes is inconsistent with other documentation.What is the new behavior if this is a feature changeFixes these issuesDoes this PR introduce a breaking changenoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
featngCookies support sameSite option;What kind of change does this PR introduce Bug fix feature docs update ...feature for issue What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changesupport sameSite option for ngCookieDoes this PR introduce a breaking changenoPlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
update changelog with .. and ..rc.;What kind of change does this PR introduce Bug fix feature docs update ...What is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information
testinput fix date type tests with max timezone;What kind of change does this PR introduce Bug fix feature docs update ...test updateWhat is the current behavior You can also link to an open issue hereWhat is the new behavior if this is a feature changeDoes this PR introduce a breaking changePlease check if the PR fulfills these requirements The commit message follows our guidelines FixFeature Docs have been addedupdated FixFeature Tests have been added existing tests passOther information       The text was updated successfully but these errors were encountered
docscompile add known issues with replacetrue;An old PR that I had lying around.Theoretically we could also close the issues that are referenced in the docs because they are very unlikel to get fixed especially the directive deduplication and the attribute merging are basically wontfixes.       The text was updated successfully but these errors were encountered
fixcompile correctly handle nullundefined href attrs.set;Accidentally broken while backporting .Since sanitizeUri can no longer handle nullundefined values.In ..x there are no such calls.In ..x there is still one such calls inside Attributes.set so it needs to be adjusted accordingly.
Bump rollup from .. to ..;Bumps rollup from .. to ...Release notesSourced from rollup's releases.v..FeaturesOnly include last elements of comma expressions if they are used or have side effects Bug FixesPrevent a crash that could occur when calling object methods Pull Requests Switch to ESLint lukastaegert Drop unused last sequence element lukastaegert Prevent crash for recursive this deoptimization lukastaegertv..FeaturesDetect sideeffectfree static class methods and properties Detect sideeffectfree array elements Do not apply deoptimizations from dead code Bug FixesHandle side effect detection for getters and setters added in untracked code Track this mutations for methods getters and setters Pull Requests Class method effects marijnh and lukastaegertChangelogSourced from rollup's changelog...FeaturesOnly include last elements of comma expressions if they are used or have side effects Bug FixesPrevent a crash that could occur when calling object methods Pull Requests Switch to ESLint lukastaegert Drop unused last sequence element lukastaegert Prevent crash for recursive this deoptimization lukastaegert..FeaturesDetect sideeffectfree static class methods and properties Detect sideeffectfree array elements Do not apply deoptimizations from dead code Bug FixesHandle side effect detection for getters and setters added in untracked code Track this mutations for methods getters and setters Pull Requests Class method effects marijnh and lukastaegertCommitsfebefa ..ad Update changelogde Prevent crash for recursive this deoptimization db Drop unused last sequence element ebbff Switch to ESLint ea ..bee Update changelogdbac Class method effects See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump rtlcss from .. to ..;Bumps rtlcss from .. to ...ChangelogSourced from rtlcss's changelog... May. Add aliases option to support processing Custom Properties CSS Variables. Thanks elchininetCommitsdece ..fbe Update .rtlcssrcefd Bump postcss from .. to .. Bump hostedgitinfo from .. to ..fd Bump lodash from .. to ..ad Add aliases option to flip variablesSee full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Change HTTP to HTTPS;No description provided.
Fix prevented show event disables modals with fade class from being displayed again;Fixes Thanks to RichDeBourke for spotting this problem and his amazing issue report
Bump eslint from .. to ..;Bumps eslint from .. to ...Release notesSourced from eslint's releases.v..cc Chore merge all html formatter files into html.js Milos Djermanovicebe Update nounusedvars false negative with comma operator fixes Nitin Kumarafe Chore use includes instead of indexOf Mikhail Bodrovcfe Chore Remove lodash Stephen Wadedd Update norestrictedimports custom message for patterns fixes Alex Holdenbc Chore Fix typo in large.js Ikko Ashiminea Sponsors Sync README with website ESLint Jenkinsfef Sponsors Sync README with website ESLint Jenkinscd Chore add more test cases for nosequences Nitin Kumaraced Docs Update README team and sponsors ESLint JenkinsChangelogSourced from eslint's changelog.v.. May cc Chore merge all html formatter files into html.js Milos Djermanovicebe Update nounusedvars false negative with comma operator fixes Nitin Kumarafe Chore use includes instead of indexOf Mikhail Bodrovcfe Chore Remove lodash Stephen Wadedd Update norestrictedimports custom message for patterns fixes Alex Holdenbc Chore Fix typo in large.js Ikko Ashiminea Sponsors Sync README with website ESLint Jenkinsfef Sponsors Sync README with website ESLint Jenkinscd Chore add more test cases for nosequences Nitin Kumaraced Docs Update README team and sponsors ESLint JenkinsCommitsca ..ebd Build changelog update for ..cc Chore merge all html formatter files into html.js ebe Update nounusedvars false negative with comma operator fixes ...afe Chore use includes instead of indexOf cfe Chore Remove lodash dd Update norestrictedimports custom message for patterns fixes ...bc Chore Fix typo in large.js a Sponsors Sync README with websitefef Sponsors Sync README with websiteAdditional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump eslintpluginimport from .. to ..;Bumps eslintpluginimport from .. to ...ChangelogSourced from eslintpluginimport's changelog... Fixednorestrictedpaths fix false positive matches thanks malykhinvinocycle ignore imports where imported file only imports types of importing file thanks cherryblossomnocycle fix false negative when file imports a type after importing a value in Flow thanks cherryblossomorder restore default behavior unless type is in groups thanks gritChangedDocs Add norelativepackages to list of to the list of rules thanks arvigeusCommitscc Bump to v..aba Tests order add passing test to close bd Fix order restore default behavior unless type is in groupsbcd Fix nocycle fix false negative when file imports a type after importing...bbaa Fix nocycle ignore imports where imported file only imports types of im...cfd meta sort and uniquify usernames in changelogddb Fix norestrictedpaths fix false positive matchesbcb Docs Add norelativepackages to list of to the list of rulesSee full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Update Hugo config and sitemap.xml;No description provided.
Delete FUNDING.yml;We set this organizationwide.
Change element.parentNode.removeChildelement to element.remove;Change element.parentNode.removeChildelement to element.remove
Fix test of;Put the test in the right place. Replace the body removal that destroys jasmine things with a known safe wrapper       The text was updated successfully but these errors were encountered
Document how to make utilities responsive using the API;Adds a little snippet to our docs for how to make an existing set of utilities generate responsive classes. Covers things like IMO.
Bump postcss from .. to ..;Bumps postcss from .. to ...Release notesSourced from postcss's releases.. ôDuke MurmuröPostCSS . improved source map parsing performance added Nodeassign shortcut andáexperimentaláDocument node to AST.Thanks to SponsorsThis release was possible thanks to our community.If your company wants to support the sustainability of frontend infrastructure or wants to give some love to PostCSS youácanájoináourásupporters byTidelift with a Spotifylike subscription model supporting all projects from your lock file.Direct donations in PostCSS Autoprefixer Open Collective.Source Map PerformanceBecause PostCSS needs synchronous API we canÆt move from the old sourcemap . to . many other opensource projects too.rulnik forked sourcemap . to sourcemapjs and backported performance improvements from .. In . we switched from sourcemap to this sourcemapjs fork.You map see x performance improvements in parsing map from processing step before PostCSS for instance Sass.Document NodesThanks to gucong PostCSS already parse CSS from HTML and JS files CSSinJS templates and objects.But his plugin need big updates. hudochenkov from stylelint team decided to create new parsers for styles inside CSSinJS HTML and Markdown.He suggested adding new Document node type to PostCSS AST to keep multiple Root nodes inside and JSHTMLMarkdown code blocks between these style blocks.const document htmlParser 'htmlstyleacolorblackstylestylebzindexstyle'document.type 'document'document.nodes.length document.nodes.type 'root'This is an experimental feature. Some aspects of this node could change within minor or patch version releases.Nodeassign Shortcut... truncatedChangelogSourced from postcss's changelog.Change LogThis project adheres to Semantic Versioning.. ôDuke MurmuröAdded Nodeassign shortcut by Jonathan Neal.Added experimental Document node to AST by Aleks Hudochenkov.Moved to faster fork of sourcemap by Valentin Semirulnik.Commitsbdcb Release . versioncfcd Update dependenciesbc Use codeBefore instead of markupBeforeea Merge pull request from hudochenkovadddocumentnodeafab Update documentationebb Fix Parser typeee Test custom parsereeca Remove Root.raws.beforeed Remove Nodedocumentcd Remove unneeded parent typeAdditional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Automatically select an item in the dropdown when using arrow keys;closes Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.componentsdropdowns
Replace Freenode with Libera IRC server;fixes        The text was updated successfully but these errors were encountered
Handle complex expressions in add subtract;Fixes I don't expect any regression but who knows D Need to consider about backporting this to v if this gets merged.SassMeister demoing this httpswww.sassmeister.comgistdacebeebcebaedfb       The text was updated successfully but these errors were encountered
Fix wrong comment text for tooltip;closes        The text was updated successfully but these errors were encountered
Update buttonvariant mixin to add missing space.;No description provided.
Bump babelcli from .. to ..;Bumps babelcli from .. to ...Release notesSourced from babelcli's releases.v..  Bug Fixbabelcore Pass assumptions set in presets to plugins nicoloribaudobabelparser fix preserve tokensLength in tryParse JLHwung Parse let declarations whose id starts with \ nicoloribaudobabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock Don't duplicate the base class when using constantSuper nicoloribaudo InternalOther chore add classstaticblock test mapping JLHwungbabelplugintransformblockscoping Add test for fixed block scoping issue nicoloribaudo Output optimizationbabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv Compile static blocks without the intermediate priv field step nicoloribaudoCommitters Babel Bot babelbotBogdan Savluk zxbodyaHußng J?nli?ng JLHwungNicol? Ribaudo nicoloribaudov.. Thanks liuyenwei quickgiant serut and trinangkur for your first PRs Bug Fixbabelnode Fix Only create babelnode IPC channel when needed quickgiantbabelparser Parse attributes of import expression with estree plugin sosukesuzuki Fix invalid identifier name on unfinished escape JLHwungbabeltypes Support objects from other contexts in t.valueToNode nicoloribaudoOther eslint Don't crash on multiple babelparser copies nicoloribaudobabelgenerator Print parentheses around identifier let where necessary Zalathar Polishbabelhelpermoduletransforms babelplugintransformmodulescommonjs Better error for export as ns without the correct plugin JLHwung Documentation DOC Add missing Monorepo configuration serut... truncatedChangelogSourced from babelcli's changelog.v..  Bug Fixbabelcore Pass assumptions set in presets to plugins nicoloribaudobabelparser fix preserve tokensLength in tryParse JLHwung Parse let declarations whose id starts with \ nicoloribaudobabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock Don't duplicate the base class when using constantSuper nicoloribaudo InternalOther chore add classstaticblock test mapping JLHwungbabelplugintransformblockscoping Add test for fixed block scoping issue nicoloribaudo Output optimizationbabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv Compile static blocks without the intermediate priv field step nicoloribaudov..  Bug Fixbabelnode Fix Only create babelnode IPC channel when needed quickgiantbabelparser Parse attributes of import expression with estree plugin sosukesuzuki Fix invalid identifier name on unfinished escape JLHwungbabeltypes Support objects from other contexts in t.valueToNode nicoloribaudoOther eslint Don't crash on multiple babelparser copies nicoloribaudobabelgenerator Print parentheses around identifier let where necessary Zalathar Polishbabelhelpermoduletransforms babelplugintransformmodulescommonjs Better error for export as ns without the correct plugin JLHwung Documentation DOC Add missing Monorepo configuration serut InternalOther Update lodash version for fixing security vulnerability trinangkurbabeltypes babeltypes Update matchesPattern to account for this liuyenwei Performancebabelparser... truncatedCommitsa v..bbea convert babelcli to typescript c Add internal ESLint rule for consistent parser error messages See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot will merge this PR once CI passes on it as requested by XhmikosR.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump babelcore from .. to ..;Bumps babelcore from .. to ...Release notesSourced from babelcore's releases.v..  Bug Fixbabelcore Pass assumptions set in presets to plugins nicoloribaudobabelparser fix preserve tokensLength in tryParse JLHwung Parse let declarations whose id starts with \ nicoloribaudobabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock Don't duplicate the base class when using constantSuper nicoloribaudo InternalOther chore add classstaticblock test mapping JLHwungbabelplugintransformblockscoping Add test for fixed block scoping issue nicoloribaudo Output optimizationbabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv Compile static blocks without the intermediate priv field step nicoloribaudoCommitters Babel Bot babelbotBogdan Savluk zxbodyaHußng J?nli?ng JLHwungNicol? Ribaudo nicoloribaudoChangelogSourced from babelcore's changelog.v..  Bug Fixbabelcore Pass assumptions set in presets to plugins nicoloribaudobabelparser fix preserve tokensLength in tryParse JLHwung Parse let declarations whose id starts with \ nicoloribaudobabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock Don't duplicate the base class when using constantSuper nicoloribaudo InternalOther chore add classstaticblock test mapping JLHwungbabelplugintransformblockscoping Add test for fixed block scoping issue nicoloribaudo Output optimizationbabelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv Compile static blocks without the intermediate priv field step nicoloribaudoCommitsa v..fc Pass assumptions set in presets to plugins dc babel Move ESLint parsing to a Worker See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump eslintpluginimport from .. to ..;Bumps eslintpluginimport from .. to ...Release notesSourced from eslintpluginimport's releases.v..httpsgithub.combenmoshereslintpluginimportblobv..CHANGELOG.mdChangelogSourced from eslintpluginimport's changelog... Changedmeta add safepublishlatest use prepublishOnly script for npm .. Fixednewlineafterimport fix crash with export syntax thanks ljharbExportMap do not crash when tsconfig lacks .compilerOptions thanks ljharborder fix alphabetical sorting thanks grit.. Addednocommonjs Also detect require calls with expressionless template literals requirex thanks FloEdelmannnointernalmodules Add forbid option thanks guillaumewuipadd norelativepackages thanks tapayne panrafaladd noimportmoduleexports rule report import declarations with CommonJS exports thanks kentcdodds and ttmareknounusedmodules Support destructuring assignment for export. thanks shadoworder support type imports thanks gritorder Add warnOnUnassignedImports option to enable warnings for out of order unassigned imports thanks hayesFixedexportTypeScript properly detect export specifiers as children of a TS module block thanks andreubotellaorder ignore nonmodulelevel requires thanks golopotnowebpackloadersyntaxTypeScript avoid crash on missing name thanks leonardodinonoextraneousdependencies Add package.json cache thanks fahwspreferdefaultexport handle empty array destructuring thanks ljharbnounusedmodules make type imports mark a module as used fixes thanks cherryblossomnocycle fix perf regression thanks Blaszfirst fix handling of import require thanks MatthiasKunnennocycleextensions fix isExternalModule usage thanks paztisextensionsnocyclenoextraneousdependencies Correct module real path resolution thanks paztisnonameddefault ignore Flow import type and typeof thanks christianvueringsnoextraneousdependencies Exclude flow typeof imports thanks devongovettnewlineafterimport respect decorator annotations thanks lillingnorestrictedpaths enhance performance for zones with except paths thanks malykhinvinounresolved check import thanks aladdinaddChangedGeneric Import Callback Make callback for all imports once in rules thanks ljqxDocs nonamedasdefault add semicolon thanks bicstoneDocs noextraneousdependencies correct peerDependencies option default to true thanks dwarduDocs order Document options required to match ordering example thanks silviogutierrezTests nounresolved add tests for import thanks davidbonnetDocs Add importrecommended ruleset to README thanks edemaineCommitsaf Bump to v..aff meta add safepublishlatest use prepublishOnly script for npm b Bump to v..fce Fix order fix alphabetical sorting Tests add missing fixture from dfebeefafcbeadfccd Fix ExportMap do not crash when tsconfig lacks .compilerOptionsddecb meta correct dec Fix newlineafterimport fix crash with export syntaxeed Bump to v..bc resolverswebpack v..Additional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot will merge this PR once CI passes on it as requested by XhmikosR.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump rollup from .. to ..;Bumps rollup from .. to ...ChangelogSourced from rollup's changelog...FeaturesAdd replacement to conditionally insert asset extensions in entryFileNames when preserving modules Bug FixesFix crash when dynamically assigning to namespace members Do not associate pure annotations in front of a semicolon or comma with succeeding code Pull Requests ignore invalid trailing pure annotations kzc undefined deoptimizePath when the first element is empty string sinloong add node.js v support dnalborczyk Add assetExtname replacement in entryFileNames BPScott Added Rollup logo in README.md priyanshurav fix comment regarding invalid annotation handling kzcCommitsba ..fbbbe Update changelogccc Add assetExtname replacement in entryFileNames b Added Rollup logo in README.md  fix comment regarding invalid annotation handling acd fix undefined deoptimizePath when the first element is empty string cd ignore invalid trailing pure annotations  chore add node.js v support bee Update dependencies cca chore remove unused dependencies See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot will merge this PR once CI passes on it as requested by XhmikosR.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Adjusted zindex to cover copy buttons;The copy to clipboard buttons have a zindex while the toasts were styled to have a zindex causing them to appear under the button.Without this fix it looks like thisWith this fix it looks like this tested locally       The text was updated successfully but these errors were encountered
Fix backdrop Cannot read property 'removeChild' of null when removed from body;HiThis fixes Here is a reproducer httpsweaverryan.github.iobootstrapmodalclosereproducerCode httpsgithub.comweaverryanbootstrapmodalclosereproducerblobmainindex.htmlLLClick Launch demo modalClick Save changes in the modal.Then in the console you'll seeTypeError Cannot read property 'removeChild' of nullbackdrop.jsThis occurs if you hide a backdrop but then the HTML of the backdrop is removed from the body while its animation is finishing. From the reproducerbootstrap.Modal.getInstancedocument.querySelector'exampleModal'.hidedocument.body.innerHTML 'Page content changed'When would this happen It happens for example if you're using Turbo. For example if you close a modal then immediately visit another page in reality that just swaps the body.innerHTML for the page which causes backdrop to error when it can't find its parent after the animation.Please let me know if you need any more clarification or tweaks to the PR .Thanks
Cheatsheet fix JS errors in setActiveItem;Fixes Prevent default on submit buttons and check for an item matching location hash before going on.Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplescheatsheet
Drop BlinkMacSystemFont in docs;Closes Not supporting Chrome anymore dropped in .       The text was updated successfully but these errors were encountered
Fix xpaddings for select with floating label and in Firefox;Fixes fixes Floating labelsSince ypadding are overriden for formselect later in the file I'm simply moving paddings to .formcontrol which prevents to override existing xpadding for select.FirefoxApplying vendor property works fine I'm simply taking user agent styles into account by subtracting the internal start padding to our own.Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.formsfloatinglabelsselects
Dashboard example improvements;Closes sort of.Allowing multiple links in the nav isn't needed in our example and only requires to switch the navbar to row direction. However I found a few tiny bits of things to improve more regarding overall quality and accessibility despite none of those fixes are mandatory.Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplesdashboard
Don't add empty content holder when there is no content available;Fixes Alternative to A popover should not have an empty header or body when the content is not available on the main element or in the configuration.
Add v.. docs.;No description provided.
Release v..;No description provided.        The text was updated successfully but these errors were encountered
Update devDependencies;babelcore .. ..babelpresetenv .. ..Closes closes .
Bump sass from .. to ..;Bumps sass from .. to ...Release notesSourced from sass's releases.Dart Sass ..To install Sass .. download one of the packages below and add it to your PATH or see the Sass website for full installation instructions.ChangesPotentially breaking bug fix Null values in use and forward configurations no longer override the default variable matching the behavior of the equivalent code using import.Use the proper parameter names in error messages about string.sliceSee the full changelog for changes in earlier releases.ChangelogSourced from sass's changelog...Potentially breaking bug fix Null values in use and forwardconfigurations no longer override the default variable matching thebehavior of the equivalent code using import.Use the proper parameter names in error messages about string.sliceCommitsdd Fix bug with null values in configuration bede Fix argument names in strslice errors e Fix a couple doc comment typos See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Revert readonly selector back to readonly;Reverts . Fixes fixes .
fix isVisible false positives from deep nesting or alternate means;fixes
Tests on scrollbar.js better handling if a style property doesn't exists;Add some tests on scrollbar.jsSanitize the old onesTransfer tests from modal.spec. to scrollbar.specAdd check on setElementAttributes not to set dataattribute if it doesn't exists
Fix dropdown test warning without expectations;No description provided.
Bump karmajasminehtmlreporter from .. to ..;Bumps karmajasminehtmlreporter from .. to ...Release notesSourced from karmajasminehtmlreporter's releases.v..Upgrade to Jasmine ..Commitsdd Upgrade to Jasmine .. da Fix links to Jasmine sourceSee full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump glob from .. to ..;Bumps glob from .. to ...Commitsceea ..ce force 'en' locale in string sortingbc use tap See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump rolluppluginnoderesolve from .. to ..;Bumps rolluppluginnoderesolve from .. to ...ChangelogSourced from rolluppluginnoderesolve's changelog.v..Breaking Changesfix mark module as external if resolved module is external Featuresfeat Follow up to refining exports and browser field interaction v..Breaking Changesfix mark module as external if resolved module is external Featuresfeat Follow up to refining exports and browser field interaction Commitsbb chorerelease noderesolve v..ccb fixnoderesolve handle nested entry modules with the resolveOnly option ...ebebd chorerelease noderesolve v..fedb featnoderesolve Add default export e fixnoderesolve resolve local files if resolveOption is set eebea featnoderesolve export defaults ddcade chorerelease noderesolve v..dba fixnoderesolve resolve symlinked entry point properly aa chorebuble upgrade buble resolves babelbabel ecd chorerelease noderesolve v..Additional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot will merge this PR once CI passes on it as requested by XhmikosR.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump eslint from .. to ..;Bumps eslint from .. to ...Release notesSourced from eslint's releases.v..aafe Upgrade eslintrc for ModuleResolver fix Brandon Millsaedbd Fix track variables not names in requireatomicupdates fixes Patrick Ahmetovicae Chore remove looseparser tests fixes Milos Djermanoviceeaea Fix create .eslintrc.cjs for module type Nitin Kumardec Docs fix example for requireatomicupdates Milos Djermanovicebe Sponsors Sync README with website ESLint Jenkinsfde Update Add automated suggestion to radix rule for parsing decimals Bryan Mishkinbaf New Include XO style guide in eslint init Federico BriganteChangelogSourced from eslint's changelog.v.. May aafe Upgrade eslintrc for ModuleResolver fix Brandon Millsaedbd Fix track variables not names in requireatomicupdates fixes Patrick Ahmetovicae Chore remove looseparser tests fixes Milos Djermanoviceeaea Fix create .eslintrc.cjs for module type Nitin Kumardec Docs fix example for requireatomicupdates Milos Djermanovicebe Sponsors Sync README with website ESLint Jenkinsfde Update Add automated suggestion to radix rule for parsing decimals Bryan Mishkinbaf New Include XO style guide in eslint init Federico BriganteCommitseaad ..bfd Build changelog update for ..aafe Upgrade eslintrc for ModuleResolver fix aedbd Fix track variables not names in requireatomicupdates fixes ...ae Chore remove looseparser tests fixes eeaea Fix create .eslintrc.cjs for module type dec Docs fix example for requireatomicupdates ebe Sponsors Sync README with websitefde Update Add automated suggestion to radix rule for parsing decimals baf New Include XO style guide in eslint init See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump rollupplugincommonjs from .. to ..;Bumps rollupplugincommonjs from .. to ...ChangelogSourced from rollupplugincommonjs's changelog.v..Breaking Changesfeat Add support for circular dependencies v..Bugfixesfix idempotence issue Featuresfeat Add defaultIsModuleExports option to match Node.js behavior Commitseccef chorerelease commonjs v..feb featcommonjs Add support for circular dependencies bff chorerelease commonjs v..ebb pnpm lockfile publish adjustments linting fixesa fixcommonjs idempotence issue fbaab chorerepo remove circle ci add validate workflow update deps c chorerepo Add directory to package.json repository fields. bfed featcommonjs Add defaultIsModuleExports option to match Node.js behavior...See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump postcss from .. to ..;Bumps postcss from .. to ...Release notesSourced from postcss's releases...Fixed list type definitions by nhtz...Removed sourcemap from clientside bundle by barak.ChangelogSourced from postcss's changelog...Fixed list type definitions by nhtz...Removed sourcemap from clientside bundle by Barak Igal.Commitsfb Release .. versiondabe Update fsextraad Try to fix CIfa Update dependnciesae Merge pull request from nhtzfixlistdeclarationaeeb fix List declartationffed Release .. versionea Update dependenciesbdd Merge pull request from baraksourcemapbrowserdefc remove sourcemap from browser buildAdditional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Reset inside a Dialog does not work if datadismissmodal is set;closes example on codepen
Fix offcanvas test to expect the initial body overflow value;No description provided.
Fix offcanvas example using a custom trigger selector;Fixes Offcanvas example is based on an old custom implementation but uses the databstoggleoffcanvas that triggers the offcanvas component without a given target.
Fix directoinal typo in v migration docs;Typo under docs.migrationutilities       The text was updated successfully but these errors were encountered
CI remove Node.js;Node.js is EOL since        The text was updated successfully but these errors were encountered
Fix Click on input outside of dropdownmenu prevents dropdown from closing;fixes
Remove unneeded Edge Legacy mention in Range docs;Edge Legacy is dead and unsupported so no need to mention here.       The text was updated successfully but these errors were encountered
docs fix rtlcss stringmap configuration;closes        The text was updated successfully but these errors were encountered
Add Fathom Analytics to v docs;No description provided.
docs make tooltip anchor properly wrap the svg;closes
Fix accordion link;The exclamation mark probably broke the linkImage from the migration guide       The text was updated successfully but these errors were encountered
Add accessible names to SVG icons in alerts;No description provided.
Update README.md for v;We forgot to update our readme to reflect the latest release of v.
Fix no long require to no longer require typo;Fixed a typo in the Migration guide from We no long require... to be We no longer require...
Don't redefine listgroupcolor in loop;The loop in scsslistgroup.scss uses listgroupcolor as though it was a local variable but is in fact overwriting the setting from variables.scss. This means that using the value of listgroupcolor in other stylesheets included in the scss build will get the wrong color value I'd expect it to be but it is in fact .
Fix value;No description provided.        The text was updated successfully but these errors were encountered
Update Sidebars example to fix dividers and rendering on Chrome;Fixes closes .Couple things were happening with the existing Sidebars exampleThe tooltip issue reported in .The dividers and content were not behaving correctly in Chrome but where in Safari and mobile Safari.This PR fixes both of these issues and addresses some small refactoring of the flexshrink styles into utilities in the HTML.Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplessidebars       The text was updated successfully but these errors were encountered
Remove extra t in Close button heading in Migration guide;No description provided.
Add examples section to Release Drafter;No description provided.
Fix backdrop rootElement not initialized in Modal;Fixes The backdrop rootElement is not initialized when the javascript file loaded in the document head as the document.body is not yet initialized and Default variable in backdrop.js is loaded before it.
Fix unnecessary classes;Fixes I made all the changes suggested for the Border hero with cropped image and shadows.I did not make the change for the centered hero because I could not verify that it would produce the exact same result as prior to the change. Was hoping someone else could double check that again and I could make adjustments as needed.
Fix typo in migration.md;First of all thank you for creating and maintaining a great framework.Today I read the v migration guide and found a typo in the doc. Thus I'd like to fix it.An ending square bracket is missing       The text was updated successfully but these errors were encountered
Fix browser support versions in migration doc;Noticed browser support versions in migration doc didn't match browserslist file       The text was updated successfully but these errors were encountered
Fix typo in scrollspy docs;No description provided.        The text was updated successfully but these errors were encountered
update About text now that Bootstrap is live;..and big congrats and thanks to all the Bootstrap team on v launching
Rewrite migration guide;Little worried I might have cut too much but there was so much detail in this thing that just made it actually kind of unusable. Trying to find the right balance of information for context and actions to take to do the migration work.Deduplicates bulk of the content for a migration from v to vAdds clear breaking labels where appropriateLeaves room for more guidance around doing the actual migrationcc XhmikosR       The text was updated successfully but these errors were encountered
refactordocs Added form file input variables;File input belongs to this page in doc added variables in last.       The text was updated successfully but these errors were encountered
Fix doc typo and Bootstrap Icons link;Fixes a couple issues in docstypo in migration guidebad link in alerts page       The text was updated successfully but these errors were encountered
Update migration guide for some v changes;cc XhmikosR
Prevent accentbg from leaking in nested table;Fixes Solution by Hintzmann in comment.Demo httpscodepen.ioffooddpenqBrWrGpComment the single CSS line out and hover the nested table to reproduce initial bug.       The text was updated successfully but these errors were encountered
Bump hugobin from .. to ..;Bumps hugobin from .. to ...Commitsee ..bc Update Hugo to v...See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump babelpresetenv from .. to ..;Bumps babelpresetenv from .. to ...ChangelogSourced from babelpresetenv's changelog.v..  Bug Fixbabelparser Parse static blocks with typescript plugin sosukesuzukibabelplugintransformblockscoping Fix plugintransformblockscoping const violations overlookmotelbabelgenerator babelparser Parse for await async of ... Zalatharbabelhelpercreateclassfeaturesplugin fix Typo in babelhelpercreateclassfeaturesplugin aancerrca Documentationbabeltypes Add alias docs for babeltypes JLHwung Internalbabelparser Don't use composite true in tsc until it supports cycles nicoloribaudo chore remove duplicated test parser tests JLHwungbabelpluginproposalexportnamespacefrom babelpluginsyntaxmodulestringnames babelplugintransformmodulesamd babelplugintransformmodulescommonjs babelplugintransformmodulessystemjs babelplugintransformmodulesumd Archive babelpluginsyntaxmodulestringnames nicoloribaudobabelcore babelpluginproposalclassproperties babelpluginproposalclassstaticblock babelpluginproposalprivatemethods babelpluginproposalprivatepropertyinobject babelpluginsyntaxclassproperties babelplugintransformflowcomments babelplugintransformflowstriptypes babelplugintransformmodulescommonjs babelplugintransformtypescript babelplugintransformunicodeescapes babelpresetenv babelstandalone Archive babelpluginsyntaxclassproperties nicoloribaudoCommitsecc v..bf Archive babelpluginsyntaxclassproperties See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Bump rollup from .. to ..;Bumps rollup from .. to ...Release notesSourced from rollup's releases.v..FeaturesWarn about ambiguous imports from combined external namespace reexports In case of combined namespace reexports always prefer local exports over external namespaces Treat conflicting names in local namespace reexports as undefined Pull Requests Prefer locally defined exports and reexports over external namespaces lukastaegertChangelogSourced from rollup's changelog...FeaturesWarn about ambiguous imports from combined external namespace reexports In case of combined namespace reexports always prefer local exports over external namespaces Treat conflicting names in local namespace reexports as undefined Pull Requests Prefer locally defined exports and reexports over external namespaces lukastaegertCommitsccdb ..dbf Update changelogec Prefer locally defined exports and reexports over external namespaces See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Tweak toast docs;a few rewordingstweaksadd info about toasts with focusableactionable controls shouldn't autohide them
vdev backports and updates;TODO See if nodesass releases a new version fixing Node.js support otherwise decide how to proceedsassnodesasssassnodesass See if the stylelint error is fixed and update dependencies again and drop the temp patch       The text was updated successfully but these errors were encountered
Bump hugobin from .. to ..;Bumps hugobin from .. to ...Commitsbefc ..e Update Hugo to v...fa Update eslint to v..f README.md remove broken linksbfbb Travis CI Add Node.js See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Update devDependencies;babelcore .. ..babelpresetenv .. ..stylelintconfigtwbsbootstrap .. ..
Bump stylelint from .. to ..;Bumps stylelint from .. to ...Release notesSourced from stylelint's releases...Fixed invalid JSON for maxwarnings option .Fixed noinvalidpositionatimportrule false positives for dollar variables .ChangelogSourced from stylelint's changelog...Fixed invalid JSON for maxwarnings option .Fixed noinvalidpositionatimportrule false positives for dollar variables .Commitsb ..ef Prepare ..dae Update depsfeba Update CHANGELOG.mdfde Fix invalid json for max warnings option eb Fix false positives for dollar variables in noinvalidpositionatimportrul...cfae Refactor libtestsstandalonefix.test.js c Add test against Node.js c Refactor cli.test.js See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump cleancsscli from .. to ..;Bumps cleancsscli from .. to ...ChangelogSourced from cleancsscli's changelog... Fixed issue source maps rebasing and batch processing.Fixed issue batch processing with output path.Commitsbcefc Fixes changelog diff.fed Version ...aeea See fixes invalid rebasing when output is a directory.b See source maps not being built in batch mode.fafed Fixes batch processing with output path.eacb Version ...d Bumps cleancss dependency to version ...fcca Version ...cce Bumps cleancss dependency to version ...aff Adds more batchsuffix docs.Additional commits viewable in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump rollup from .. to ..;Bumps rollup from .. to ...Release notesSourced from rollup's releases.v..FeaturesAdd option to disable file name sanitation Add information about importers to unused external import warning Pull Requests Use Github actions only lukastaegert Fix REPL artefact branch reference lukastaegert Use codecov action for coverage lukastaegert Add to UNUSEDEXTERNALIMPORT warning information about the origin of the problem cawa Add sanitizeFileName option guybedfordChangelogSourced from rollup's changelog...FeaturesAdd option to disable file name sanitation Add information about importers to unused external import warning Pull Requests Use Github actions only lukastaegert Fix REPL artefact branch reference lukastaegert Use codecov action for coverage lukastaegert Add to UNUSEDEXTERNALIMPORT warning information about the origin of the problem cawa Add sanitizeFileName option guybedfordCommitsfd ..ea Update changelogeafc Add sanitizeFileName option cabe Add to UNUSEDEXTERNALIMPORT warning information about the origin of the p...aaba Use codecov action for coverage efc Fix REPL artefact branch reference f Use Github actions only See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Bump sass from .. to ..;Bumps sass from .. to ...Release notesSourced from sass's releases.Dart Sass ..To install Sass .. download one of the packages below and add it to your PATH or see the Sass website for full installation instructions.ChangesFix a bug that disallowed more than one module from extending the same selector from a module if that selector itself extended a selector from another upstream module.See the full changelog for changes in earlier releases.ChangelogSourced from sass's changelog...Fix a bug that disallowed more than one module from extending the sameselector from a module if that selector itself extended a selector fromanother upstream module.Commitsede Fix extending selectors across multiple modules. a Fix inverted changelog lines See full diff in compare viewYou can trigger a rebase of this PR by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself       The text was updated successfully but these errors were encountered
Update links to CCA MQ prefersreducedmotion evergreen WCAG urls;No description provided.        The text was updated successfully but these errors were encountered
Docs adding intro about web accessibility;Adding an introduction to web accessibility in the documentation related to educational reasons.       The text was updated successfully but these errors were encountered
Add new team members to the Teams page;No description provided.
Improve overall new examples' accessibility;Small tweaks caught by Pay on Boosted. Mostlyensuring having main and h on each pagea few input missing a labelsome redundant alt on img inside a linkcontents not wrapped in a landmark.I ignore some other errors since they're not applicable for such snippets IMHO several banner roles instead of one for example.Nonwhitespace diff httpsgithub.comtwbsbootstrappullfilesw
Tooltip ù doc updates;Based on ffcd       The text was updated successfully but these errors were encountered
Update cmake readme;No description provided.        The text was updated successfully but these errors were encountered
Fixed bug size does not change when the screen is rotated in v;in forum discusshttpsdiscuss.cocosdx.orgtincocosdxvthescreenbecomeshalfsizewhenyouchangethedevicefromportraittolandscapebackgroundAfter updating cocosdx from v to v there was a bug that the screen was not drawn properly when the screen orientation of the device was changedAs I posted in the forum I solved the problem by regenerating the CCEAGLView but there was a problem with the drawing so I had to do a root solutionCause of the problemIt turns out that the cause of the problem is that the layer of CCEAGLView is CAMetalLayer and CAMetalLayer.drawableSize is not updated when CCEAGLView.layoutSubView is used.Revision detailsFixed to resize CAMetalLayer on CCEAGLView layoutSubviews.related issues       The text was updated successfully but these errors were encountered
bugfix iOS compile error;No description provided.        The text was updated successfully but these errors were encountered
Fix Crash on Android when HttpResponse did not return OK;No description provided.
Fix template CMakeLists.txt so correct Info.plist is used.;This small fix means that Xcode points to the correct Info.plist file within the source tree and not in the intermediate folder.       The text was updated successfully but these errors were encountered
Update AudioMacros.h;Fix to compile with Visual Studio .Ricardo.       The text was updated successfully but these errors were encountered
Setup precompiled header for all platforms;No description provided.
bugfix Android DevicegetDPI v;ref cocoscreatordtasks
Add custom programs to ProgramCache;Store and retrieve custom userdefined programs in ProgramCache.This feature was in v but not present in v.
Fix incorrect rendering of tilemaps with csv data on windows;Each tilemap row would be shifted to the right a certain number of tiles.When saving Tiled maps with data in CSV format it is saved like thisdata encodingcsvdataWhen reading each line there is a carriage return at the beginning which in windows is '\r\n'.Because of how each line is parsed the '\r' at the beginning of each line would be parsed as a tile id.On windows we must remove all '\r' from the parsed string.I had talked about the issue here httpsdiscuss.cocosdx.orgtcocosdxvreleasedubolin
Reference Creator in the main page;No description provided.        The text was updated successfully but these errors were encountered
remove experimental;No description provided.        The text was updated successfully but these errors were encountered
fix crash issue due to the uninitialized;ref issue        The text was updated successfully but these errors were encountered
fix drawnode line width issue;ref issue       The text was updated successfully but these errors were encountered
fix memory leak issue;ref here.
ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.
bugfix set CFBundleExectuable in template info.plist;fix        The text was updated successfully but these errors were encountered
fix memory leak;No description provided.
ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.        The text was updated successfully but these errors were encountered
v spine v.;add examples
bugfix fix potential incorrect attribute location;Use query result as attribute location argument
V uilayout scissorclipping fix;This is a better fix for the scissor clipping issue in uiLayout with original code from including a very good test case that compares scissor clipping with stencil clipping.       The text was updated successfully but these errors were encountered
V uiLayout scissor clipping fix;This fixes issue and is the same as what was already merged into V       The text was updated successfully but these errors were encountered
V bmfont improved api;Merged the code changes that were added in V regarding the BM Font API. This adds support for embedding BMFont atlases into a larger sprite atlas which also supports rotated images.
bugfix set Info.plist path;Info.plist template used by cmake is not set properlyintroduced in        The text was updated successfully but these errors were encountered
set gl framebuffer read and write back again;issue discuss here.
set xcode installation path to;No description provided.
removed old URLs I could not fine replaced with new URLS;removed old URLs I could not fine replaced with new URLS       The text was updated successfully but these errors were encountered
no need to convert to RGBA when it is DEFAULT;No description provided.
ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.
ci skipupdate to v;No description provided.        The text was updated successfully but these errors were encountered
fix flicker of fast tilemap;No description provided.
CI add cocos new for iOS;No description provided.        The text was updated successfully but these errors were encountered
ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.
fix lua cmake template;No description provided.        The text was updated successfully but these errors were encountered
Fix isVariable method buffer overflow.;The safe size was calculated but not used maybe is a hand mistake.
Fix to properly delete easingParams array;No description provided.        The text was updated successfully but these errors were encountered
Fix to properly delete easingParams array;No description provided.        The text was updated successfully but these errors were encountered
fix incorrect hash structure for RenderPipeline;A program may be release and its memory address will be allocated to another program result in getting incorrect renderpipelineState object.
Fix appvenyor CI;add cocos console to Path env
use sprite to create editbox;No description provided.        The text was updated successfully but these errors were encountered
Changed IRC references to Libera.Chat.;No description provided.
Fixed note about ISP caching in docs.;ISP caching is not possible under HTTPS. It look like this was accidentally changed in the bulk HTTP HTTPS findreplace in aabd.
Fixed Fixed altering BLOBTEXT field to nonnullable with default on MySQL ...;Currently MySQL doesn't support altering blobtext columns with default values likeALTER TABLE ... ALTER COLUMN ... SET DEFAULT ...But it does support adding columns likeALTER TABLE ... ADD COLUMN ... longtext DEFAULT '' NOT NULLSo it's better to skip such alter statement until MySQL fully support it.       The text was updated successfully but these errors were encountered
Renamed object argument of ModelAdmin.logaddition logchange and logdeletion methods.;Wasn't sure if this change needed a ticket since it's trivial I can open one if desired.obj is used instead of object throughout django.contrib.admin since object shadows the builtin. This change just makes it consistent in the one place it wasn't.
Fixed Used ISPOPUPVAR constant instead of hardcoded value.;No description provided.
Fixed Removed unused ORDERTYPEVAR.;No description provided.        The text was updated successfully but these errors were encountered
Fixed typo in docsrefcontribadminindex.txt.;There is no rawidadmin seems to be referring to rawidfields.       The text was updated successfully but these errors were encountered
Fixed Removed for HTML attribute from ReadOnlyPasswordHashWidget.;Fixes the 'for' attribute on the label element for ReadOnlyPasswordHashWidget.       The text was updated successfully but these errors were encountered
Fixed Corrected Model.getabsoluteurl example in docs.;Ticket .
Fixed Made AdminSite.catchallview respect SCRIPTNAME.;No description provided.
Fixed Fixed crash of Extract transform on OuterRef expressions.;No description provided.
Fixed Started deprecation toward changing default USETZ to True.;No description provided.
Fixed Started deprecation toward changing the default sitemap protocol to https.;httpscode.djangoproject.comticket
Fixed Prevented initialization of unused caches.;Thanks Alexander Ebral for the report.Regression in ecc.ticket
Refs Cleaned up loaddata command.;No description provided.        The text was updated successfully but these errors were encountered
Fixed Fixed migrations crash when adding namespaced spatial indexes on PostGIS.;No description provided.        The text was updated successfully but these errors were encountered
Fixed Fixed filtering of querysets combined with the | operator.;Address a long standing bug in a Where.add optimization to combine equal nodes that was surfaced by implementing equality for Lookup instances in bbfb.Thanks Shaheed Haque for the report.
Fixed Caught OSError from colorama.init.;As per comment on ticket I'm not quite sure how or indeed whether to test this so any thoughts that aren't too horrible welcome.
Refs Corrected CVE release notes.;See comment.       The text was updated successfully but these errors were encountered
Fixed Fixed validation of startapp's directory with trailing slash.;httpscode.djangoproject.comticketAdded a test that fails on masterThe test passes after the fix is appliedRunning start app with a trailing slash in the target dirname works
Fixed Deprecated django.utils.datetimesafe module.;ticket
Fixed Removed usage of deprecated 'db' and 'passwd' connection options in MySQL backend.;ticketThe db and passwd connection arguments have been deprecated and database and password available since mysqlclient.. should be used instead.
Fixed Skipped system check for specifying type of autocreated primary keys on abstract models.;ticketSystem check was introduced in bed.
Fixed Updated datetime module usage to recommended approach.;ticketSupersedes .I've split this into separate commits for replacement of each method .utcnow .utcfromtimestamp .utctimetuple with a few extra commits to handle documentation additional assertions etc. Hopefully this will make it easier to review.
Update BuildTools CoreClr CoreFx CoreSetup to rc servicing servicing servicing respectively release.;cc dotnetmaestroreviewerscore       The text was updated successfully but these errors were encountered
release. Update buildtools version;React to mastermain conversion.       The text was updated successfully but these errors were encountered
Merge .. internals;Publish internal changes.       The text was updated successfully but these errors were encountered
Update branding to ..;Prepare branch for .. release. After merge the servising branch is considered open.       The text was updated successfully but these errors were encountered
Update branding to ..;Prepare branch for .. release. After merge the servising branch is considered open.
Port regex timeout fix test only change;Port dotnetruntime which causes a hang on Linux.       The text was updated successfully but these errors were encountered
Release. Fix race condition issues between SinglePhaseCommit and TransactionEnded events;Ports dotnetsqlclient to fix below issue in System.Data.SqlClientdotnetsqlclient System.Data.SqlClient .. throws TransactionAbortedException the connection has been brokenPremier customer support Devdiv Ticket SummaryA race condition exists between Single Phase Commit and Transaction Ended as both are triggered externally by delegated SqlTransaction. With new changes to doom connection in Transaction Ended Event Commit started failing intermittently leading to this issue. Dooming connection is essential to prevent connection reuse that leads to security issues so that PR is valid and important.But as a consequence Commit's inconsistent locking leads to this problem. Locking is essential in this part of code but in Single Phase Commit implementation late and split locking causes issues between Commit and Abort event handling leading to intermittent Transaction Aborted Exception.This change in lock scope fixes the issue. It wasn't easily reproducible in Microsoft.Data.SqlClient but happens very often with System.Data.SqlClient .. due to slow performance. Making testcase more rigorous and forcing latency while debugging aided in reproducing this issue.Customer Impact Critical Premier customer application is impacted due to this issue followed via Emails.RegressionYes Issue started occurring since System.Data.SqlClient v.. PR TestingIt's not possible to add test case for this behavior since it's a race condition scenario and is greatly influenced by MS DTC that manages delegated transaction completion.RiskLow This PR does not introduce any critical design changes but only makes changes in lock scope.Issue has been verified by customers as well as with the repro apps available in issue cc danmoseley saurabh DavidEngel
Release. Fix wrong data blended with transactions in .NET Core;Ports dotnetSqlClient to fix a critical issue that also exists in System.Data.SqlClientFixes SqlDataReader returns stale dataSummaryWhen working with delegated transactions completing a transaction with open resultset leads to data corruption in the connection instance that's sent back to connection pool. Because connection pooling is enabled by default it results in the pooled connection to contain stale data from old transaction.This issue was identified in Microsoft.Data.SqlClient but was also traced back to System.Data.SqlClient oldest version in .NET Core.Customer Impact Critical This issue causes data corruption and leads to customers reading data from old query.RegressionNo The issue exists since System.Data.SqlClient v..preview.It was an error that occurred during port activity of System.Data.SqlClient Transaction support from .NET Framework.TestingTest has been added to cover the wrong data flow.RiskLow Fix matches the implementation with System.Data.SqlClient in .NET Framework and has been verified by various members of the community. It has also been released in Microsoft.Data.SqlClient v..preview.cc danmoseley saurabh DavidEngel
release. Add CentOS RID and make CentOS arm as well;Port DescriptionThis is the only part of dotnetruntime that wasn't already backported to release..httpswww.redhat.comenblogfaqcentosstreamupdates saysThere will not be a CentOS Linux .CentOS Stream will launch in Q as part of the RHEL development process.That's my motivation I want to be able to build .NET Core . for RHEL The last part also means that the current parentchild relationship that we use for RHELCentOS in our RID graph will flip starting in . I dont see any immediate impact so I think we can leave it alone for now.I got a currently internal build of CentOS Stream and etcosrelease looks like this cat etcosreleaseNAMECentOS StreamVERSIONIDcentosIDLIKErhel fedoraVERSIONIDPLATFORMIDplatformelPRETTYNAMECentOS Stream ANSICOLORCPENAMEcpeocentoscentosHOMEURLhttpscentos.orgBUGREPORTURLhttpsbugzilla.redhat.comREDHATSUPPORTPRODUCTRed Hat Enterprise Linux REDHATSUPPORTPRODUCTVERSIONCentOS StreamI have been told that builds of CentOS Stream should become public soon. I don't know exactly when though.Customer ImpactThis kind of blocks Red Hat from building .NET Core . on RHEL we can apply this patch locally but it's probably better for everyone if it's here upstream too.RegressionThis is not a regression.TestingI have tested that this RID update fixes the build issue for me.RiskThe risk of this is pretty low it's just adding RIDs.
Update CoreClr CoreFx CoreSetup to servicing servicing servicing respectively release.;cc dotnetmaestroreviewerscore
merge of .. internals;No description provided.        The text was updated successfully but these errors were encountered
release. Update dependencies from dotnetarcade;This pull request updates the following dependenciesFrom httpsgithub.comdotnetarcadeSubscription efaeaebddcddbcBuild .Date Produced AMCommit beefeddbfcBranch refsheadsrelease.xUpdatesMicrosoft.DotNet.XUnitExtensions from ..beta.. to ..beta..Microsoft.DotNet.XUnitConsoleRunner from ..beta.. to ..beta..Microsoft.DotNet.VersionTools.Tasks from ..beta.. to ..beta..Microsoft.DotNet.ApiCompat from ..beta.. to ..beta..Microsoft.DotNet.Arcade.Sdk from ..beta.. to ..beta..Microsoft.DotNet.Build.Tasks.Configuration from ..beta.. to ..beta..Microsoft.DotNet.Build.Tasks.Feed from ..beta.. to ..beta..Microsoft.DotNet.Build.Tasks.Packaging from ..beta.. to ..beta..Microsoft.DotNet.CodeAnalysis from ..beta.. to ..beta..Microsoft.DotNet.CoreFxTesting from ..beta.. to ..beta..Microsoft.DotNet.GenAPI from ..beta.. to ..beta..Microsoft.DotNet.GenFacades from ..beta.. to ..beta..Microsoft.DotNet.Helix.Sdk from ..beta.. to ..beta..Microsoft.DotNet.RemoteExecutor from ..beta.. to ..beta..       The text was updated successfully but these errors were encountered
Update branding to ..;No description provided.
Update branding to ..;No description provided.
Add suppressions for the hashes flagged by credscan;No description provided.        The text was updated successfully but these errors were encountered
. Add suppression for test key data;No description provided.        The text was updated successfully but these errors were encountered
. Add suppression for test key data;No description provided.
Last fix for credentials effort;This fix is the last change to make the repo clean.       The text was updated successfully but these errors were encountered
. Some overlooked credscan fixes;port of
. Some overlooked credscan fixes;aikjahoda this is needed in . . and main as well.I'll let CI run this test..
Add Xamarin placeholders for System.Memory package;Ref dotnetruntimeNot really sure how to proceed with servicing OOB package from an ancient branch like this cc ViktorHofer.
. Credscan followup;Follow up for
. Credscan followup;Adds suppression messages.
BUGFIX lts Make hash object properties settable;Makes all hash object properties settable but deprecates setting them. See glimmerjsglimmervm comment for more details.This PRfix ended up not working out so we're not backporting       The text was updated successfully but these errors were encountered
BUGFIX release . deprecation metadata;Dependent on emberlearndeprecationappUnify deprecation idsAdd missing url and sinceCorrectly reference emberlegacybuiltincomponents addonError instead for LinkTo href...
BUGFIX release Ensure embertesting is loaded lazily;The recently modules API update means we are now loading real modulesnot polyfills based on the global. This means that the modulesthemselves are eagerly required rather than being references to avalue on the global. For example previously thisimport registerWaiter from 'embertest'if someCondition  registerWaiter Would become thisif someCondition  Ember.Test.registerWaiter In either example registerWaiter may or may not be called based onthe state of someCondition. However in the second case ifEmber.Test is not defined at all it's completely ok as long assomeCondition is false. It's never called so we never get an errortelling us Ember.Test is undefined.Without the transform the module is eagerly required along with all ofits dependencies. If no one included embertesting then that meansit will throw an error immediately.This PR makes the embertest module load embertesting lazily andif it's not available e.g. in a production environment it replaces thevalues with a function that throws a helpful error.Fixes babelemberclibabel
Security Bump hostedgitinfo from .. to ..;Bumps hostedgitinfo from .. to ... This update includes a security fix.Vulnerabilities fixedSourced from The GitHub Security Advisory Database.Regular Expression Denial of Service in hostedgitinfoThe npm package hostedgitinfo before .. are vulnerable to Regular Expression Denial of Service ReDoS via regular expression shortcutMatch in the fromUrl function in index.js. The affected regular expression exhibits polynomial worstcase time complexityAffected versions ..ChangelogSourced from hostedgitinfo's changelog... Bug Fixesbackport regex fix from adfe closes .. Bug Fixes addressing issues w url.URL implmentation which regressed node support b closes .. Bug FixesDo not attempt to use url.URL when unavailable dbb closes Do not pass scpstyle URLs to the WhatWG url.URL fcdfcf closes .. .. Bug Fixesupdated pathmatch for gitlab eb closes updated pathmatch for gitlab ffef.. ... truncatedCommitsdb chorerelease ..adfe fix backport regex fix from afeaefd chorerelease ..b fix addressing issues w url.URL implmentation which regressed nod...afa chorerelease ..dbb fix Do not attempt to use url.URL when unavailablefcdfcf fix Do not pass scpstyle URLs to the WhatWG url.URLebdf chorerelease ..ffa Ensure passwords in hosted Git URLs are correctly escapedfdf chorerelease ..Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by nlf a new releaser for hostedgitinfo since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Security Bump underscore from .. to ..;Bumps underscore from .. to ... This update includes a security fix.Vulnerabilities fixedSourced from The GitHub Security Advisory Database.Arbitrary Code Execution in underscoreThe package underscore from .. and before .. from .. and before .. are vulnerable to Arbitrary Code Execution via the template function particularly when a variable property is passed as an argument as it is not sanitized.Affected versions .. ..Commitse Merge branch 'umdalias' tag .. releasef Add version .. to the change logaab Update the bundle sizescda Bump the version to ..cdab Add some build clarifications to the documentation bc Revert .gitignore underscore.js from aae fix a Update generated sources and tag .. releasedca Merge pull request from jgonggrijpprepare..d Add version .. to the change logefefbf Bump the version to ..Additional commits viewable in compare viewMaintainer changesThis version was pushed to npm by jgonggrijp a new releaser for underscore since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Security Bump lodash from .. to ..;Bumps lodash from .. to ... This update includes a security fix.Vulnerabilities fixedSourced from The GitHub Security Advisory Database.Command Injection in lodashlodash versions prior to .. are vulnerable to Command Injection via the template function.Affected versions ..Commitsfb Bump to v..ceb Improve performance of toNumber trim and trimEnd on large input strings Prevent command injection through .template's variable optionSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
Security Bump handlebars from .. to ..;Bumps handlebars from .. to ... This update includes a security fix.Vulnerabilities fixedSourced from The GitHub Security Advisory Database.Remote code execution in handlebars when compiling templatesThe package handlebars before .. are vulnerable to Remote Code Execution RCE when selecting certain compiling options to compile templates coming from an untrusted source.Affected versions ..ChangelogSourced from handlebars's changelog.v.. February th fix weird error in integration tests ebcfix check prototype property access in strictmode bddefix escape property names in compat mode frefactor In spec tests use expectTemplate over equals and shouldThrow fchore start testing on Node.js and aPOSSIBLY BREAKING CHANGESthe changes from version .. now also applyin when using the compileoption strict true. Access to prototype properties is forbidden completely by default specific properties or methodscan be allowed via runtimeoptions. See for details. If you are using Handlebars as documented you should not be accessing prototype propertiesfrom your template anyway so the changes should not be a problem for you. Only the use of undocumented features can break your build.That is why we only bump the patch version despite mentioning breaking changes.CommitsCommitsaae v..eaed Update release notesdd disable IE in Saucelabs testsebc fix weird error in integration testsbdde fix check prototype property access in strictmode f fix escape property names in compat mode f refator In spec tests use expectTemplate over equals and shouldThrow a chore start testing on Node.js and See full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
DOC release fix passing params to named blocks examples;I tried following the docs when first trying to pass parameters to named blocks.Currently the docs state yield totitle person.name as being valid but this gave me an error.I think the to needs to be the last argument so the examples should be yield person.name totitle
Bump fsextra from .. to ..;Bumps fsextra from .. to ...ChangelogSourced from fsextra's changelog... Add promise support for fs.rm Upgrade universalify for performance improvments Commits ..dfc tests fix birthtime not available on tmpfs on Linux dcf Add promise support for fs.rm bffcd Upgrade universalify facaa Docs add fsecli to the README See full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Bump typesqunit from .. to ..;Bumps typesqunit from .. to ...CommitsSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Fix types;No description provided.        The text was updated successfully but these errors were encountered
BUGFIX release Makes the hash helper lazy;Makes the hash helper's individual keys lazy so that they do not eagerlyincur costs. See this PR for more details glimmerjsglimmervmThis PRfix ended up not working out so we're not backporting       The text was updated successfully but these errors were encountered
BUGFIX beta Remove Namespace processing;Ember no longer uses Namespaces in the toString on classes so there'sno reason to eagerly process namespaces on application boot. This iscurrently triggering the deprecation message in new Ember applicationson Beta so this removes it to prevent that.Fixes part of .       The text was updated successfully but these errors were encountered
BUGFIX beta DEPRECATION Deprecate foohelper;Per RFC this commit deprecates the implicit invocation of argumentless helpers and requires explicit parenthesis ifNonstrict mode ANDhelper is a free variable not this.helper helper ora local variable ANDNo arguments are provided to the helper ANDIt's in a component invocation's named argument position notdiv idhelper or Foo barhelper ANDNot parenthesized not foohelper ANDNot interpolated not foohelper.The cases in real apps where all of the above are true should be quite rare as most helpers take at least one argument.This is probably not the most efficientminimal changes to the compiler infrastructure but I chose to optimize for making the change easier to removerollback i.e. adding new nodes instead of changing existing ones as we won't be needing this for very long.This also bumps glimmer to latest which also brings in the bugfix commit glimmerjsglimmervm.
BUGFIX beta Allow passing a string literal to helper and modifier;As per RFC However dynamic string values are currently disallowed per earlier framework team weekly meeting discussion to not make it harder for Embroider to heuristically analyze the dynamic usages.Eventually we will want to do the same for components as well and this AST transform would work there too.
Security Bump yn from .. to ..;Bumps yn from .. to ... This update includes a security fix.Vulnerabilities fixedSourced from The GitHub Security Advisory Database.Prototype PollutionOverviewThe npm package yn before versions .. .. and .. is vulnerable to Prototype Pollution.POCconst yn require'yn'yn.setLocale'proto'yn.updateLocalepolluted trueconsole.logpolluted trueRecommendationUpgrade to version .. .. .. or later.Affected versions ..ChangelogSourced from yn's changelog.Change LogAll notable changes to this project will be documented in this file. See standardversion for commit guidelines... Bug Fixesaddress prototype pollution issue aac.. Bug Fixesexports node . and . require the dotted object form with a string fallback fd.. Bug Fixesexports node .. require a string fallback ee.. Bug Fixesdeno update types for deno .. da.. Bug Fixesmain had old index path fb..  BREAKING CHANGESexports maps are now used which modifies import behavior.drops Node and . begin following Node.js LTS schedule Featuresadd support for ESM and Deno dae... truncatedCommitsSee full diff in compare viewMaintainer changesThis version was pushed to npm by ossbot a new releaser for yn since your current version.Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
DOC Update loading action code example;Added a guard against undefined controller in the loading action documentation. Also updated syntax from using set to directly setting values. See issue for context.
BUGFIX beta Export on from correct path;on is a modifier and supposed to be exported from embermodifiernot emberhelper.       The text was updated successfully but these errors were encountered
DOC Remove extra argument from associateDestroyableChild;According to implementation in httpsgithub.comglimmerjsglimmervmblobv..packagesglimmerdestroyableindex.tsL there are just two arguments parent and child
BUGFIX LTS move LinkTo assertion into a method so LinkToExternal can override;Part one of a fix for . Once this lands I'll push a change in emberengines to override this method to just be a noop.First affected ember version is .Existing tests continue to pass.
FEATURE Enable helper and modifier helpers;No description provided.
BUGFIX release Exposes getTemplateLocals utility from Glimmer VM;Exposes the getTemplateLocals utility from Glimmer VM so that it canbe used for strict mode template compilation.
BUGFIX LTS Prevent transformation of block params called attrs;This prevents the transformattrsintoargs transform plugin from transforming block params that are named attrs and are yielded by components.The following snippet would render nothing before this change even though a value was yielded from the component templateComponent as |attrs|attrsComponent       The text was updated successfully but these errors were encountered
Bug set symbol on factory objects only in Prod for sealed objects;ref emberjsdata   ember.jspackagesemberinternalsmetallibmixin.ts   Line  in cdf       Object.sealthis
BUGFIX release Prevent eager argument consumption on modifier destruction;Upgrades the VM to include the fix for eager argument consumption onmodifier destruction.Fixes on canary
FEATURE Remove globals namespace based toString;Removes the legacy toString behavior and replaces it with using thefactory forcontainer system for classes when possible and justunknown when not.       The text was updated successfully but these errors were encountered
BUGFIX Rename private runloop functions;We currently export a few private functions from emberrunloop forpackages like embertesthelpers. These functions are not public APIbut need to be accessible for these core packages. Previously they wereexposed on the private APIs of the global run but now that we'regetting rid of the the modules transform these are now exposed directlyso underscoring them should help make users aware that they are notmeant for public consumption.
BUGFIX Use getter for currentRunLoop;The currentRunLoop property on the global run was a getter not avalue. I missed this when doing the conversion and it doesn't appearthat we had a test for the behavior of that property other than thereexport test which I also changed mistakenly. This restoresthe previous behavior which deprecating it.
BUGFIX Restore nested paths on run and computed;These values were previously nested on run and computed and wereaccessible from the imported versions of those values due to the factthat they transformed to be the same as globals. They were used by a fewdifferent consumers but were not intended to be used this way.This PR restores the previous behavior but also deprecates it.
FEATURE Add remaining Ember modules;Adds all of the remaining Ember modules so that we can remove theAPI polyfill. Also updates the tests for reexporting modules so theyare organized by exported module and also test reexporting the externalmodule and not any internal one.
Use positional and named as the argument names in ember g helper blueprint;More info.
Refactor router remove owner presence checks;rwjblue This follows the discussion we had about this.That way I think it removes a useless small mental overhead.Also as it was a concern only in tests I think it's better.Feedback welcome To go a little further I was wondering if the setupRout
Add deprecation for the Ember Global;Towards RFC Adds a deprecation for the Ember Global id 'emberglobal' until '..' url 'httpsdeprecations.emberjs.comv.xtocemberglobal' for 'embersource' since  enabled '..' Can this PR be merged asis or do we need to wait for a new release of emberclibabel with babelemberclibabel
Prevent changelog script from erroring when the commitInfo object has;no author value       The text was updated successfully but these errors were encountered
Update current route in willChangeRoute during an intermediate transition;Updated to follow rwjblue comment.Fixes
Ensure query params are preserved through an intermediate loading state transition;rwjblue rreckonerr I think I've reproduced a failing test that highlights .Let me know if it's correct and not a 'false' failing. Then I don't know how to fix either it's in ember or in the router microlib.Fixes   
DOC Add rendered output of eachin helper;No description provided.
Setup git user in alpha publishing script.;The alpha publishing script failed due to running git commit without a user setup. This sets the git usernameemail and also updates to run Wednesdays I'm too lazy to wait a fully week P .
BUGFIX beta Remove unnecessary module transform;The injectNodeGlobals transform would detect usage of module andtransform it to be compatible with Node. Recently the VM was updated tomake this unnecessary and it turns out that the VM's more robust codeactually breaks when used with this transform.The transform was removed in a much larger refactor on master which iswhy it was not backported along with the other related fixeschanges.       The text was updated successfully but these errors were encountered
Add deprecation for Routerender method;Adds deprecation for Routerender. See RFC for more info. This deprecation has the same idurl as RouterenderTemplate as they were part of the same RFC.id 'routerendertemplate'until '..'url 'httpsdeprecations.emberjs.comv.xtocrouterendertemplate'for 'embersource'since  enabled '..'
Add automated publishing of weekly alpha releases to NPM;By default the embercli blueprint uses embertry to download the npm pack result of the most recent canary build from Amazon S this is usually setup to run in that addon's CI configuration. Unfortunately some organizations have security restrictions preventing access to the internet during CI jobs. They often have customized NPM mirrors that do work otherwise how would they ever build test JS code but block access to the rest of the internet. Up until this change those organizations simply could not be early testers of our canary builds.This change adds a new CI job to autopublish a new alpha.x release to NPM once a week on Mondays. This will allow folks to leverage their normal npm install infrastructure to be able to test canary Ember builds once a week though we could in theory decide to make more publish. However since the process is automated these alphas will not include changelog entries. It is theoretically possible that we would prefer to leverage this infrastructure for testing addons against published tags instead of using embersourcechannelurl but that would reduce our speed of identifying regressions.
Bump qunit from .. to ..;Bumps qunit from .. to ...Release notesSourced from qunit's releases...AddedHTML Reporter Use a fixed header with scrollable test results. Bryan Crotaz Core Add official support for SpiderMonkey runtime. Timo Tijhof ChangedCLI Update and reaudit tinyglob and nodewatch dependencies. FixedHTML Reporter Set main and navigation ARIA roles. Steve McClure Core Fix QUnit.module.only logic for unscoped modules. Steve McClure Assert Fix assert.timeout bug causing a nonasync test to fail. ..AddedCore Log test name as part of Assertion after test failures. brandonocasey CLI Add native support for ESM .mjs files on Node . Timo Tijhof DeprecatedHTML Reporter Deprecate PhantomJS. Steve McClureFixedCore Count tests run so that suiteEnd emits correctly with active filters. Stephen Yeung Core Fix test counter bug when nesting invalid test functions. Timo TijhofHTML Reporter Avoid leaking Map global in older browsers. Timo Tijhof..AddedCore Add QUnit.test. aliases for QUnit.only QUnit.skip and QUnit.todo. Steve McClure Assert Support arrow functions in assert.throws as expected matcher callback. Steve McClure ChangedCLI Update nodewatch and commander dependencies. Timo Tijhof DeprecatedCore Deprecate QUnit.extend. Steve McClure ..Fixed... truncatedChangelogSourced from qunit's changelog... AddedHTML Reporter Use a fixed header with scrollable test results. Bryan Crotaz Core Add official support for SpiderMonkey runtime. Timo Tijhof ChangedCLI Update and reaudit tinyglob and nodewatch dependencies. FixedHTML Reporter Set main and navigation ARIA roles. Steve McClure Core Fix QUnit.module.only logic for unscoped modules. Steve McClure Assert Fix assert.timeout bug causing a nonasync test to fail. .. AddedCore Log test name as part of Assertion after test failures. brandonocasey CLI Add native support for ESM .mjs files on Node . Timo Tijhof DeprecatedHTML Reporter Deprecate PhantomJS. Steve McClureFixedCore Count tests run so that suiteEnd emits correctly with active filters. Stephen Yeung Core Fix test counter bug when nesting invalid test functions. Timo TijhofHTML Reporter Avoid leaking Map global in older browsers. Timo Tijhof.. AddedCore Add QUnit.test. aliases for QUnit.only QUnit.skip and QUnit.todo. Steve McClure Assert Support arrow functions in assert.throws expected callback. Steve McClure ChangedCLI Update nodewatch and commander dependencies. Timo Tijhof Deprecated... truncatedCommitsea Release ..ef Build Prepare .. releaseffb Build Limit Code coverage job to local branchesccc Build Add audit script for reviewing changes to build artifactseac Build Avoid nondeterministic timestamp in published buildsae Assert Fix assert.timeout bug causing a nonasync test to failabbe Docs Modernize and improve documentation examplesef Core Fix QUnit.module.only logic for unscoped modulesdf Core Repair support for SpiderMonkey runtimeddc Build Add names for Travis matrix jobsAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
Bump eslintpluginprettier from .. to ..;Bumps eslintpluginprettier from .. to ...ChangelogSourced from eslintpluginprettier's changelog.v.. fix add eslintconfigprettier as an optional peer dependency ddfbuilddepsdev bump eslint from .. to .. bdbuilddepsdev bump eslint from .. to .. eev.. Minor Perf improvement Do not clear the config cache on each run beaAdd peerDependenciesMeta block dbuilddepsdev bump eslint from .. to .. fbuilddepsdev bump eslint from .. to .. cebcbv.. Skip CI for eslint node ffeTurn off problematic rules in recommended config prepare for next eslintconfigprettier version aeCreate dependabot.yml fbcdocsREADME fix prettier getFileInfo link afbuilddepsdev bump eslintplugineslintplugin from .. to .. cbuilddepsdev bump eslint from .. to .. dedbuilddepsdev bump eslint from .. to .. afechore update CI badge in readme bUse Github Actions for CI ebfCommitsbddb Build update package.json and changelog for v..ddf fix add eslintconfigprettier as an optional peer dependency bd builddepsdev bump eslint from .. to ..ee builddepsdev bump eslint from .. to ..ecf Build update package.json and changelog for v..bea Minor Do not clear the config cache on each run d Add peerDependenciesMeta block f builddepsdev bump eslint from .. to ..cebcb builddepsdev bump eslint from .. to ..bdacb Build update package.json and changelog for v..Additional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.If all status checks pass Dependabot will automatically merge this pull request.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeAutomerge options neverpatchminor and devruntime dependenciesOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
Backport of update circle go image to cimg matching release pipeline into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.CircleCI has new a new image namespace which is being used in the release pipeline. Match the testing image for consistency. This also allows us to update go past ...       The text was updated successfully but these errors were encountered
update circle go image to cimg matching release pipeline;CircleCI has new a new image namespace which is being used in the release pipeline. Match the testing image for consistency. This also allows us to update go past ...       The text was updated successfully but these errors were encountered
Backport of Fix crash with deposed instances in orphaned resources into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.If an orphaned resource only consists of deposed instances there will be no current state with which to plan causing a panic when accessing the stored private data. There is no reason however to access this private field for a noop change in a destroyed instance so avoid the field altogether since we accept that the state may be nil here anyway.We also should not have been planning to delete an orphan here in the first place since there is no current instance state to plan. We can skip any instances with no current state when adding orphan nodes to the graph.Fixes        The text was updated successfully but these errors were encountered
Fix crash with deposed instances in orphaned resources;If an orphaned resource only consists of deposed instances there will be no current state with which to plan causing a panic when accessing the stored private data. There is no reason however to access this private field for a noop change in a destroyed instance so avoid the field altogether since we accept that the state may be nil here anyway.We also should not have been planning to delete an orphan here in the first place since there is no current instance state to plan. We can skip any instances with no current state when adding orphan nodes to the graph.Fixes
Backport of update go version into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.Update with latest security fixes
update go version;Update with latest security fixes
Backport of backendremote add support for refreshfalse refreshonly and replace options into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.Adds support for several new options when running plans and applies using the remote backend for remote runs in Terraform Cloud. Going forward users will have access to the following new flags when running the plan or apply commandsrefreshfalsereplacerefreshonlyThese options will be released to Terraform Enterprise users in v anyone attempting to use these options with an earlier release of Terraform Enterprise will receive a validation error since the new run options are not supported.       The text was updated successfully but these errors were encountered
Backport of return diagnostics from provisioners into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.The calls to resource provisioners were still converting diagnostics to error which was losing any detail information. We also need to ensure that the builtin provisioners return diagnostics which can be annotated with config context.Fixes        The text was updated successfully but these errors were encountered
return diagnostics from provisioners;The calls to resource provisioners were still converting diagnostics to error which was losing any detail information. We also need to ensure that the builtin provisioners return diagnostics which can be annotated with config context.Fixes
Backport of negative substring indexes into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.Document that negative indexes are valid in substrClosed        The text was updated successfully but these errors were encountered
Fix typo in the docs;No description provided.        The text was updated successfully but these errors were encountered
backendremote add support for refreshfalse refreshonly and replace options;Adds support for several new options when running plans and applies using the remote backend for remote runs in Terraform Cloud. Going forward users will have access to the following new flags when running the plan or apply commandsrefreshfalsereplacerefreshonlyThese options will be released to Terraform Enterprise users in v anyone attempting to use these options with an earlier release of Terraform Enterprise will receive a validation error since the new run options are not supported.
negative substring indexes;Document that negative indexes are valid in substrClosed
providers lock tests;There are a few small changes in this PRTests for providers lock go meI replaced a clearly copypasta'd error message with a more appropriate Invalid provider argument error please do nitpick my wording.Writing tests for providers lock unearthed a very tiny bug in getproviders.ParsePlatform so a fix for that including tests is in here too.Barely worth mentioning providers mirror tests emphasis on the airquotes
Backport of update CODEOWNERS paths into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.Update paths from package renaming
unmanaged providers support w protocol v cherrypick to v.;cherry picking commits from
update CODEOWNERS paths;Update paths from package renaming
cli Improve sensitivity change warning output;When an attribute value changes in sensitivity we previously rendered this in the diff with a update action and a note about the consequence of the sensitivity change. Since we also suppress the attribute value this made it impossible to know if the underlying value was changing too which has significant consequences on the meaning of the plan.This commit adds an equality check of the oldnew underlying values. If these are unchanged we add a note to the sensitivity warning to clarify that only sensitivity is changing.Fixes . This is a more conservative change that the one I originally proposed in that issue but I think it's a reasonable step forward.Screenshot
pg requires PostgreSQL;backport of
pg backend requires PostgreSQL;CREATE SEQUENCE AS was added in version        The text was updated successfully but these errors were encountered
backport save apply diagnostics on backend failure;. Backport of Make sure to collect apply diagnostics before persisting the backendstate so runtime errors are not lost.
save apply diagnostics on backend failure;Make sure to collect apply diagnostics before persisting the backendstate so runtime errors are not lost.Closes        The text was updated successfully but these errors were encountered
Move all Go packages under internal;Aside from some historical exceptions under helper which have since moved to the plugin SDK all of the Go packages in this repository have always been for Terraform's internal use only and not supported for importing by other codebases as if Terraform were a library.However this codebases predates the addition of Internal Packages in the Go toolchain and so our packages were not positioned in such a way as to make it clear using the usual Go idiom that they are not suitable for external imports. Unfortunately this has meant that several times over the years we've refactored these internal packages and then heard from folks who mistakenly thought we were trying to create a public API surface because we'd broken their external system. That's a reasonable misunderstanding to make given how our repository is structured but unfortunate that someone would find this out only after having invested time building something against an unsupported library API.Although we've been using the internal directory for newlyadded packages we've long put off moving our existing packages under internal due to the disruption that would inevitably cause to existing code contributions that are not yet merged and make it harder to backport commits to older releases.However we use tags in this repository to represent official Terraform releases and do so using a syntax that happens to match what the Go toolchain expects for semantic versioning of library modules. Due to that overlap once we make a tag which looks like an initial semver release we will per normal Go idiom and Go toolchain assumptions unfortunately also be unintentionally communicating that this is a stable API surface that other Go modules can depend on.Although there is never a good time for a change like this it's time to bite the bullet and get this migration done so that we're communicating our intentions in the way the Go community expects before we have a release tag in this repository that could be misinterpreted as a semantic versioning initial release and thus inadvertently encourage new dependents.The only exception here is that I've not moved the github.comhashicorpterraformversion package to github.comhashicorpterraforminternalversion. Although we don't intend for that to be a public interface either it's pragmatic to leave it where it is because our automatic release processes update the version numbers in that package and so leaving these alone avoids the need for the release process to handle two different possible paths to update so that we can continue releasing against older major versions if we need to.This sort of change is not practical to review in a difflike form so I can only promise that all I've done here is mechanically move directories around and rewrite import paths. There is no change to any code here aside from import statements and so this new tree should be functionally equivalent to what came before it.I'm intending to backport this to v. too so that the current release branch is in the same directory layout as main in case we need to backport further changes.       The text was updated successfully but these errors were encountered
backport Prevent automatic backend migration during terraform init;v. Backport of        The text was updated successfully but these errors were encountered
Prevent automatic backend migration during terraform init;When terraform detects a change in the stored backend configuration it will always attempt to setup a state migration. This often presents a problem for users when the stored configuration is no longer valid in some way usually due to changes in authentication or accidental misconfiguration. The failure mode here can be quite confusing as the error may show Access Denied or similar for what the user intends to be the current backend though it is originating from the stored configuration.Since init is a required part of the workflow the majority of time that init is executed migration is not expected. In the cases where it is desired the user should already be aware of the change because there was a change in the configuration. This would also match the behavior of running terraform in a clean environment every time as it usually is in automation.See for more background.This PR adds an init migratestate flag to indicate automatic state migration is desired. This flag will be implied by the forcecopy flag since that would indicate state migration is expected. If init now encounters a change to the stored backend configuration it will always return an error when neither reconfigure or migratestate is supplied. This would not apply to the first time a backend is configured as there would be no stored configuration to compare preventing any change in the usual remote state onboarding process.We can also improve the init error output here and replace some of the legacy output strings with diagnostics removing the Please see the error message above errors which are referring to error output written to stdout. Being able to catch the unexpected change in backend configuration and return an error allows us to now present the user with instructions about how to accept the configuration changes either through migration of reconfiguration. Error Backend initialization required please run terraform init Reason Backend configuration changed for s The backend is the interface that Terraform uses to store state perform operations etc. If this message is showing up it means that the Terraform configuration you're using is using a custom configuration for the Terraform backend. Changes to backend configurations require reinitialization. This allows Terraform to set up the new configuration copy existing state etc. Please run terraform init with either the reconfigure or migratestate flags to use the current configuration. If the change reason above is incorrect please verify your configuration hasn't changed and try again. At this point no changes to your existing configuration or state have been made.Running init without either of those flags will show Error Backend configuration changed A change in the backend configuration has been detected which may require migrating existing state. If you wish to attempt automatic migration of the state use terraform init migratestate. If you wish to store the current configuration with no changes to the state use terraform init reconfigure.
backendgcs Rework service account impersonation;.targeted backport of . Commits by upodroid.Manually smoke tested and acceptance tests are passing TFACC go test v .backendremotestategcs RUN TestStateFile PAUSE TestStateFile RUN TestRemoteClient PAUSE TestRemoteClient RUN TestRemoteClientWithEncryption PAUSE TestRemoteClientWithEncryption RUN TestRemoteLocks PAUSE TestRemoteLocks RUN TestBackend PAUSE TestBackend RUN TestBackendWithPrefix PAUSE TestBackendWithPrefix RUN TestBackendWithEncryption PAUSE TestBackendWithEncryption CONT TestStateFile CONT TestBackend CONT TestRemoteLocks CONT TestRemoteClientWithEncryption CONT TestRemoteLocks backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaeatestremotelocks encryptionkeycty.StringVal prefixcty.StringVal CONT TestBackendWithEncryption CONT TestBackend backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaectestbackend encryptionkeycty.StringVal prefixcty.StringVal CONT TestBackendWithPrefix PASS TestStateFile .s CONT TestRemoteClient CONT TestBackendWithEncryption backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeedaetestbackendwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal CONT TestRemoteClientWithEncryption backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeectestremoteclientwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal CONT TestBackendWithPrefix backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeftestbackendwithprefix encryptionkeycty.StringVal prefixcty.StringValtestprefix CONT TestRemoteClient backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeftestremoteclient encryptionkeycty.StringVal prefixcty.StringVal CONT TestBackend backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaectestbackend encryptionkeycty.StringVal prefixcty.StringVal CONT TestBackendWithPrefix backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeftestbackendwithprefix encryptionkeycty.StringVal prefixcty.StringValtestprefix CONT TestBackendWithEncryption backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeedaetestbackendwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal PASS TestRemoteClient .s PASS TestRemoteLocks .s PASS TestRemoteClientWithEncryption .s CONT TestBackend testing.go TestBackend testing state locking for gcs.Backend CONT TestBackendWithPrefix testing.go TestBackend testing state locking for gcs.Backend CONT TestBackend testing.go TestBackend testing state locking for gcs.Backend CONT TestBackendWithEncryption testing.go TestBackend testing state locking for gcs.Backend PASS TestBackendWithPrefix .s PASS TestBackend .s PASS TestBackendWithEncryption .sPASSok github.comhashicorpterraformbackendremotestategcs.s
Remove duplicate word;No description provided.
docsplan fix minor typos;Fix some typos in the Command plan docs site.speculative plan which is a description of a the effect speculative plan which is a descripiton of the effectThis option is particular useful when running Terraform This option is particularly useful when running TerraformLimit the number of concurrent operation as Terraform Limit the number of concurrent operations as Terraform       The text was updated successfully but these errors were encountered
Mechanisms to allow for future language extension;The Terraform language has always had a number of situations where reserved words defined in the language can appear in the same location as externallydefined names provided by either providers or modules. These areIn provider resource and data blocks Terraform overlays reserved metaarguments onto the relevant provider schema effectively masking any providerdefined argument with a conflicting name.In module blocks Terraform overlays reserved metaarguments onto the set of input variable names defined in the module. Currently we block modules from declaring such conflicting names but that means that adding any new metaarguments here is a breaking change for existing modules as we previously saw when we reserved count in the v. release.In provisioner blocks Terraform overlays reserved metaarguments onto the provisioner configuration schema likewise masking any provisionerdefined argument with a conflicting name.References to managed resources use the resource type name with no prefix like awsinstance.foo but certain prefixes are reserved for other purposes such as var. local. path. etc which means that a managed resource of that name would not be referenceable.Each of these situations is a liability for future language expansion because it makes any additional reserved word a potential breaking change. While we would always do research to select a name not used in any commonlyused providers or modules there are lots of providers and modules kept private within organizations and so there is always a risk that we'd pick a name that collides with a provider or module used only within a single organization.In we reserved a mechanism which we intend to use in future to allow permodule optin to new editions of the Terraform language that may have breaking changes such as these which does at least allow for a gradual modulebymodule migration up to a new edition. However our intent is that there should usually be an largelyautomated process for upgrading a module to a newer edition without changing its behavior and that means that we must provide a way to continue using module and provider features that have been newlymasked by reserved words until there's a newer version of the provider or module that supports a nonreserved alternative name.This PR then proposes two new language additions that will together serve as an escape hatch for all of the situations described earlier so that if we do introduce a new reserved word that is in use by a provider or module we cannot see we can offer a graceful migration path to still opt in to the new language edition without having to wait for the provider or module to be updated.The resource. PrefixWhen we refer to data resources we write data.type.name which means that there's no ambiguity that the second component type is always the name of a data resource type. The resource. prefix aims to get the same result for managed resources so that resource.awsinstance.foo is just an equivalent alias for awsinstance.foo as long as awsinstance is never a reserved word which would be weird.My intent is that we'd use this as part of the module upgrade tool for any new language edition which introduces a new reserved reference prefix. For example if we'd introduced a new prefix foo. then the upgrade tool would search the module for any references that seem to refer to a resource type called foo and rewrite them to have the resource. prefix leaving all other references unchanged. For example foo.bar.baz would be come resource.foo.bar.baz but awsinstance.foo would remain just awsinstance.foo.I don't intend to recommend using this prefix in cases where it isn't needed because it'll make such references unnecessarily long. Although I didn't implement this here yet I could imagine a future version of terraform fmt automatically trimming off a resource. prefix for any reference where the resource type name isn't a reserved word in the currentlyselected language edition to help reinforce that this is for upgrade path use only.Metaargument Escaping BlocksThe idea of escaping blocks aims to address all of the variants above which involve a mixture of metaarguments and normal arguments inside a single HCL block body. This applies to resource data provider and module blocks at the top level and also to provisioner blocks nested directly inside resource blocks.This mechanism reserves the special and intentionallyoddlooking block type name just a single underscore to contain block body items for which the author intends to avoid interpretation as metaarguments. For example if a later language edition introduced a new metaargument onlyif though there is no current plan to do so it might be the case that there's an existing resource type or module that already has an argument named onlyif which could be escaped using an escaping block like thisresource example foo  most arguments stay out here to be processed as normal beep boop  Arguments that conflict with a lateradded metaargument can move in here to retain the old interpretation. onlyif var.something Terraform interprets the content of the escaping block as if it were written outside of the escaping block except for bypassing the usual preprocessing to handle metaarguments and thus onlyif above would always be understood as an argument of the resource type example rather than as a metaargument.Again my intent is that we'd use this as part of a module upgrade tool for a new language edition which introduces a new metaargument. It would search the module configuration for any argument names that are now shadowed by the new reserved word and move them into an escaping block to allow the module to retain its existing functionality.I don't intend to recommend using escaping blocks in situations where they aren't needed because it's an intentionallyoddlooking syntax to try to help make it obviously distinct from normal blocks. Although I didn't implement this here yet I could imagine a future version of terraform fmt automatically hoisting items out of an escaping block if they don't conflict with any relevant metaargument names in the currentlyselected language edition to help reinforce that this is for upgrade path use only.It's interesting to note here that dynamic blocks actually already serve as a funny sort of escaping block which works only for reserved nested block types a resource block containing a dynamic lifecycle block can produce an equivalent effect as an escaping block with a plain lifecycle block inside of it. Escaping blocks generalize that idea to include attributes too and they offer a syntax that is easier to directly map from the normal syntax retaining attached comments and all in an upgrade tool.Some Other Loose EndsOver in there's an early proposal for a new feature to allow separating template definition from template evaluation which if accepted would require adding a new reserved reference prefix. It seems unlikely that we'll fully accept and implement that proposal before we adopt a stricter compatibility promise but it would also be a shame to hold it all the way to a new language edition that's likely at least a year away and so out of a sense of pragmatism here I've also preemptively reserved some prefixes that seem unlikely to already be used as resource type names and that might be what we choose as the prefix for the template proposal if accepted.These reserved prefixes are template. lazy. and arg.. Only zero or one of these will ultimately be used depending on the outcome of the proposal so the unused ones can be unreserved later and become available for use as unescaped resource type names again.These additions also serve as a way to rehearse the use of the resource. escaping prefix to resolve any collisions in the unlikely event that there's a private provider out there which has a resource type name which conflicts with one of these three a module using that resource type can be rewritten to say e.g. resource.template. instead of just template. and otherwise retain the existing behavior. Since we are prior to stricter compatibility promises there is no explicit optin here but I'd like to make this tradeoff as a compromise to allow a discussion already in progress to conclude relatively promptly rather than retroactively become subject to a new blocker on its implementation.The resource. prefix here does of course also theoretically conflict with a resource type literally named resource. That also seems very unlikely in practice but if it does arise then users can escape it by writing resource.resource. which looks silly but will buy some time to select a more reasonable resource type name without being blocked from upgrading Terraform.Nothing in this PR actually requires the addition of metaargument escaping blocks yet they could in principle be added by the first future language edition that needs them but having this mechanism in place will give us some peace of mind that this path is available and also represent concretely in code our intentions for future language expansion.It's pretty irregular to introduce stuff like this in a patch release but with stricter compatibility promises imminent I think it's a worthwhile compromise to give us necessarily flexibility for both work currently in progress and future work we've not yet imagined. Therefore I'm proposing to backport this to the v. branch.       The text was updated successfully but these errors were encountered
Remove GitHub HashiBot configuration;For the closedissuelocker behavior this is a migration to an equivalent action.For the labelissuemigrater behavior this is not replaced and instead it is suggested to use native GitHub functionality for issue transfer. If mostly equivalent behavior is desired via label automation it may be possible to submit an issue transfer feature request to dessantlabelactions as it is a popular community action or create a new GitHub Action. Please reach out if this is a major issue for your team.For the removelabelsonreply behavior it is equivalent except this initial configuration does not make the collaborators distinction. There is a workflow configuration workaround for setting up peruser ignores for any jobstep so if you desire that here please reach out.
core Did you mean hint for missing data. prefix in references;It's a relatively common mistake to try to refer to a data resource without including the data. prefix making Terraform understand it as a reference to a managed resource.To help with that case we'll include an additional suggestion if we can see that there's a data resource declared with the same type and name as in the given address.
monitor plugin std outputs for unexpected data;Once a plugin process is started goplugin will redirect the stdout andstderr stream through a grpc service and provide those streams to theclient. This is rarely used as it is prone to failing with racesbecause those same file descriptors are needed for the initial handshakeand logging setup but data may be accidentally sent to thesenonetheless.The usual culprits are stray fmt.Print usage where logging wasintended or the configuration of a logger after the os.Stderr filedescriptor was replaced by goplugin. These situations are very hard forprovider developers to debug since the data is discarded entirely.While there may be improvements to be made in the goplugin package toconfigure this behavior in the meantime we can add a simple monitoringio.Writer to the streams which will surface th data as warnings in thelogs instead of writing it to io.Discard
Backport of Decode change values with marks into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.When decoding change values the stored marks should be applied to the decoded value as this is the direct inverse of the Encode operation. The missing marks were not noticed in most cases because they would be correctly reevaluated on demand however some cases like module output values can rely on the change source alone resulting in the marks being lost during apply.Many call sites which were aware that the marks were missing would manually apply the marks after decoding. After removing the duplicate marking and verifying tests Decode call sites were again statically located and checked for mark handling. Any locations found that were relying on the absence of marks now must manually strip the marks before processing the values.Fixes
Backport of backendremote clearer error when we fail to read the organization into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.Currently the error when we fail to read the organization entitlements while configuring the remote backend is a little crypticIt implies that the organization definitely does not exist but in practice there are any number of reasons why we might get an error there the user may have misspelled the organization name forgotten to specify the hostname causing it to default to app.terraform.io or be using an API token that's been revoked.Surfacing more information and common debugging steps should help users resolve this problem more easily.
Decode change values with marks;When decoding change values the stored marks should be applied to the decoded value as this is the direct inverse of the Encode operation. The missing marks were not noticed in most cases because they would be correctly reevaluated on demand however some cases like module output values can rely on the change source alone resulting in the marks being lost during apply.Many call sites which were aware that the marks were missing would manually apply the marks after decoding. After removing the duplicate marking and verifying tests Decode call sites were again statically located and checked for mark handling. Any locations found that were relying on the absence of marks now must manually strip the marks before processing the values.Fixes
backendremote clearer error when we fail to read the organization;Currently the error when we fail to read the organization entitlements while configuring the remote backend is a little crypticIt implies that the organization definitely does not exist but in practice there are any number of reasons why we might get an error there the user may have misspelled the organization name forgotten to specify the hostname causing it to default to app.terraform.io or be using an API token that's been revoked.Surfacing more information and common debugging steps should help users resolve this problem more easily.
langfuncs File hashing functions stream data from disk;Previously our file hashing functions were backed by the same read file into memory function we use for situations like file and templatefile meaning that they'd read the entire file into memory first and then calculate the hash from that buffer.All of the hash implementations we use here can calculate hashes from a sequence of smaller buffer writes though so there's no actual need for us to create a filesized temporary buffer here.This then is a small refactoring of our underlying function into two parts where one is responsible for deciding the actual filename to load opening it and the other is responsible for buffering the file into memory. Our hashing functions can then use only the first function and skip the second.This then allows us to use io.Copy to stream from the file into the hashing function in smaller chunks possibly of a size chosen by the hash function if it happens to implement io.ReaderFrom.The new implementation is functionally equivalent to the old but should use less temporary memory if the user passes a large file to one of the hashing functions.This might help with but we've not rootcaused that yet. Either way this seems like a reasonable optimization to implement.
cliwebsite ignoreremoteversion doc elaboration and other cleanup;We previously had only very short descriptions of what ignoreremoteversion does due to having the documentation for it inline on many different command pages and help output.Instead we'll now centralize the documentation about this argument on the remote backend page and link to it or refer to it from all other locations. This then allows us to spend more words on discussing what Terraform normally does without this option and warning about the consequences of using it.This continues earlier precedent for some localbackendspecific options which we also don't recommend for typical use. While this does make these options a little more buried than before that feels justified given that they are all exceptional use only sort of options where users ought to learn about various caveats before using them.While there I also took this opportunity to fix some earlier omissions with the localbackendspecific options and a few other minor consistency tweaks.
core Did you mean hints for unsupported resource types;When we detect that a module is trying to declare a resource type that doesn't exist in its corresponding provider we have enough information to give some hints as to what might be wrong.We give preference to the possibility of mixing up a managed resource type with a data resource type but if not that then we'll use our usual levenshteindistancebased similar name suggestion function.We currently don't typically test exact error message text and this is just a cosmetic change to the message output so there are no new automated tests or modifications to existing ones here. However some manual testing yielded the following output Error Invalid resource type  on nullthings.tf line in resource nulldatasource example resource nulldatasource example   The provider hashicorpnull does not support resource type nulldatasource.  Did you intend to use the data source nulldatasource If so declare this using a data block instead of a resource block. Error Invalid resource type  on nullthings.tf line in resource nullresorce example resource nullresorce example   The provider hashicorpnull does not support resource type nullresorce. Did you mean nullresource Error Invalid data source  on nullthings.tf line in data nulldatasauce example data nulldatasauce example   The provider hashicorpnull does not support data source nulldatasauce. Did you mean nulldatasource Error Invalid data source  on nullthings.tf line in data nullresource example data nullresource example   The provider hashicorpnull does not support data source nullresource.  Did you intend to use the managed resource type nullresource If so declare this using a resource block instead of a data block.       The text was updated successfully but these errors were encountered
Backport of communicatorssh Fix crash with SSH bastion port into v.;BackportThis PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.The below text is copied from the body of the original PR.The connection block schema defines the bastionport argument as a number but we were incorrectly trying to convert it from a string. This commit fixes that by attempting to convert the cty.Number to the int result type returning the error on failure.An alternative approach would be to change the bastionport argument in the schema to be a string matching the port argument. I'm less sure about the secondary effects of that change though.Fixes
website Make apply's usage of plan options harder to miss;I'm using distinct subheaders and smaller paragraphs to try and make the infoabout apply's two modes more skimmable.I'm also adding a separate Plan Options subheader and keeping the sectiontiny so it stays snugged up right next to the Apply Options one to make itextraclear that Hey There's More Options They're Over There.screenz
website Explicit example of foreach chaining between resources;This pattern follows as a natural consequence of how foreach is defined but I've noticed from community forum QA that newcomers often don't immediately notice the connection between what foreach expects as input and what a foreach resource produces as a result so my aim here is to show a short example of that in the hope of helping folks see the link here and get ideas on how to employ the technique in other situations.
communicatorssh Fix crash with SSH bastion port;The connection block schema defines the bastionport argument as a number but we were incorrectly trying to convert it from a string. This commit fixes that by attempting to convert the cty.Number to the int result type returning the error on failure.An alternative approach would be to change the bastionport argument in the schema to be a string matching the port argument. I'm less sure about the secondary effects of that change though.Fixes
Revert Delete CITATION.bib;Reverts
docmanual fix grammar;Number agreement should be with the subject of the sentence Using which is singular.Please take a look.       The text was updated successfully but these errors were encountered
docs Dynamic documentation clearer example;Having x as both the variable name and value makes the example slightly more difficult to understand.
remove explicit inline annotation on expm functions;These expand do a lot of code since all the internal functions are inlined as well.       The text was updated successfully but these errors were encountered
Fix ryu tests from doing show to test;No description provided.
Pare down the CODEOWNERS skip ci ci skip;skip ci ci skip       The text was updated successfully but these errors were encountered
ccall docs Fix typo in Indirect Calls section;Fixes a typo in the code example for a dlsym macro.A very small fix but this just cost me a Julia novice half an hour        The text was updated successfully but these errors were encountered
Fix documentation snippet;Small fix to a documentation snippet in type inference where typeinfcode was called with the wrong signature.The valid signature is typeinfcodeinterpAbstractInterpreter methodMethod nospecializeatypes sparamsSimpleVector runoptimizerBool.
Set up a few code owners;No description provided.
Remove confusion between libsuitesparse the C library and SuiteSparse the stdlib;Fix
docs add a missing space;No description provided.
Add type assertion in deepcopyinternal for Arrays;On masterjulia codewarntype Base.deepcopyinternalzeros IdDictMethodInstance for Base.deepcopyinternalVectorFloat IdDictAny Any from deepcopyinternalxArray stackdictIdDict in Base at homejishnujuliabasedeepcopy.jlArguments selfCore.ConstBase.deepcopyinternal xVectorFloat stackdictIdDictAny AnyBodyAny Base.haskeystackdict xBool goto if not  Base.getindexstackdict xAny return  Base.eltypexCore.ConstFloat Base.deepcopyarraytx stackdictVectorFloat return After this PRjulia codewarntype Base.deepcopyinternalzeros IdDictMethodInstance for Base.deepcopyinternalVectorFloat IdDictAny Any from deepcopyinternalxArray stackdictIdDict in Base at homejishnujuliabasedeepcopy.jlArguments selfCore.ConstBase.deepcopyinternal xVectorFloat stackdictIdDictAny AnyBodyVectorFloat Base.haskeystackdict xBool goto if not  Base.getindexstackdict xAny Base.typeofxCore.ConstVectorFloat Core.typeassert VectorFloat return  Base.eltypexCore.ConstFloat Base.deepcopyarraytx stackdictVectorFloat return
Disallow spaceseparated semicolons in array expression;good errorAs suggested by simeonschaub       The text was updated successfully but these errors were encountered
Fix issue with concatenating strings and arrays together;Resolves by implementing special catndims that returns for nonarrays.       The text was updated successfully but these errors were encountered
Adjust LQ show to other factorizations;Closes .Now it looks like in line with e.g. QRjulia lqMatrixI LQFloat MatrixFloatL factor? MatrixFloat . . . . . . . . . . . . . . . .Q factor? LinearAlgebra.LQPackedQFloat MatrixFloat . . . . . . . . . . . . . . . .       The text was updated successfully but these errors were encountered
Correct the error in doc of workers;Dear maintainersIn the doc of function workers number of workers of the example should be instead of .I have corrected it and hope able to help a little bit.YoursYu
Faster dropdims;This speeds up dropdims. With various variants and trying two computers I see these timesjulia btime dropdimsrand dims Julia master . ns allocations bytes xeon . ns allocations bytes M mac notdims filterd d dims ntupleidentity ndimsA first attempt ax mapd axesAd notdimstypeofsubaxesA dims . ns allocations bytes . ns allocations bytes ax afoldlds d d in dims ds ds... axesAd ntupleidentity ndimsA... . ns allocations bytes . ns allocations bytes ax foldonetods d d in dims ds ds... axesAd ValndimsA . ns allocations bytes . ns allocations bytesAnd for instancejulia btime dropdimsrandComplexF ' dims . ns allocations bytes master xeon . ns allocations bytes master M mac ax foldonetods d d in dims ds ds... axesAd ValndimsA . ns allocations bytes . ns allocations bytesI hope I'm not overlooking something The PR is the last variant. It uses foldoneto added for ispermTuple in .
remove separate verbose IRCode lineprinter;ref comment       The text was updated successfully but these errors were encountered
make ssair output consistent with;Ref commentMaybe this is in a test somewhere we'll see.
Update editors and IDEs;cc pfitzseb Should we still include Juno and fonsp added Plutoci skipskip ci
restore performance of hash for BigInt and RationalBigInt;When the code was moved out of hashing.jl some imports where missedcancelling the benefits of .       The text was updated successfully but these errors were encountered
improve hashing performance for uuid;I was working with some dicts that has UUIDs for keys and they felt kind of slow. This helps a bitExample benchmarkusing UUIDs BenchmarkToolsfunction benchuuids numbers d DictUUID Int sizehintd lengthuuids for uuid number in zipuuids numbers duuid number end return dendN uuids uuid for i in Nnumbers randInt Nbtime benchuuids numbersMaster . s allocations . KiBPR . s allocations . KiB
Make broadcastable treat Char like Number;This is my very first PR so I hope I'm doing things right. It's motivated by a thread on Discourse see here. stevengj suggested that I file this issue on GitHub.Starting point is the observation that Char seems to be the only plainbits type for which broadcastable calls collect the default method meant for collecting iterables. stevengj mentioned on Discourse that Char once was a subtype of Number so maybe it was just forgotten to align the treatment for Char with Number when Char ceased to be a subtype. This PR proposes to make this alignment.It turns out that it's not enough to define broadcastablexChar x same method as for Number. One also needs getindexx CartesianIndex which is not defined for Char maybe again an omission. If one adds this then everything seems to work. The entire test suite runs without problems. I've also added a test for the getindex call mentioned above. Note that there is already a testset broadcasting of Char in testchar.jl.       The text was updated successfully but these errors were encountered
NFC Small typo fixes;No description provided.        The text was updated successfully but these errors were encountered
fix Inf typeminInt;A new method was added in ac which was seemingly violating thestated assumption that typeminInt can be exactly represented by Float.And a more corrected method was shadowed.Idem for Int.This was added at acdiffcdbefaeabaacbbedffafebacbccR cc vchuravy BTW I couldn't find a corresponding PR was there one.
tweak the type of quotes for functions in llvm code output;It is quite common to include parts of codellvm in julia code blocks. For examplejulia x ..julia codellvm expx specialexp.jl within exp'define double juliaexpdouble top specialexp.jl within exp' float.jl within muladd' fmul contract double xBFE fadd contract double x  specialexp.jl within exp' essentials.jl within reinterpret' bitcast double to i  int.jl within rem' trunc i to i  specialexp.jl within exp' float.jl within ' fadd double xC  specialexp.jl within exp'The problem here is that the way functions are quoted exp' means that code highlighting gets confused. This changes it to use the same delimiterjulia x ..julia codellvm expx specialexp.jl within expdefine double juliaexpdouble top specialexp.jl within expimpl float.jl within muladd fmul contract double xBFE fadd contract double x  specialexp.jl within expimpl essentials.jl within reinterpret bitcast double to i  int.jl within rem trunc i to i  specialexp.jl within expimpl float.jl within  fadd double xC  specialexp.jl within expimpl...       The text was updated successfully but these errors were encountered
LinearAlgebra Add bareiss det for BigInt Matrices Take;As said in the previous PR with the same name I messed up my julia fork trying to rebase and push clean code.This fixes Do suggest ways to improve this PR.cc simeonschaub
fix alignment calculation in juliaconsttollvm;This appears as a regression due to doing more constant folding in .fix        The text was updated successfully but these errors were encountered
fs grammartypo fix;No description provided.
docurl clarify domainTo when built without ICU;Continuation of Signedoffby Darshan Sen raisintengmail.com
v.. release proposal;Version .. Current targosNotable Changesbc SEMVERMINOR asynchooks use new vContext PromiseHook API Stephen Belanger cdeeeacb lib support setting process.env.TZ on windows James M Snell cc SEMVERMINOR module add support for URL to import.meta.resolve Antoine du Hamel cc SEMVERMINOR process add 'worker' event James M Snell fbfe SEMVERMINOR util add util.types.isKeyObject and util.types.isCryptoKey Filip Skokan Commitsbc SEMVERMINOR asynchooks use new vContext PromiseHook API Stephen Belanger dcaee buffer remove TODOs in atob btoa Khaidi Chu be buffer remove unreachable code Rongjian Zhang bdfdea build add workaround for V builds Richard Lau bbdb build remove dependency on distutils.spawn Richard Lau aafda build add missing torque output sources Richard Lau baabf build compile with stdgnu Darshan Sen  buildsrctestdoc enable FIPS for OpenSSL . Daniel Bevenius bbdaba crypto forbid NODEED and NODEED raw key export Filip Skokan bbff debugger refactor inspect\repl to use primordials Antoine du Hamel acda debugger refactor to use internal modules Antoine du Hamel dda debugger disable only the lint rules required by current file state Rich Trott effa debugger avoid nonASCII char in code file Rich Trott db debugger wrap lines longer than chars Rich Trott a debugger rename inspectorcli test module to debugger Rich Trott def deps upgrade npm to .. Ruy Adorno cfdf deps upgrade npm to .. Ruy Adorno ecdbfb deps patch V to ... Micha?½l Zasso abb SEMVERMINOR deps V cherrypick facbcde Stephen Belanger aebed SEMVERMINOR deps V cherrypick cb Stephen Belanger baaaf SEMVERMINOR deps V cherrypick f Stephen Belanger abac SEMVERMINOR deps V cherrypick f Stephen Belanger ae SEMVERMINOR deps V backport cfceaab Stephen Belanger faa deps V cherrypick caf Milad Fa ddba dgram extract cluster lazy loading method to make it testable Rongjian Zhang adce doc document buffer.kStringMaxLength Tobias Nie?en ccd doc update abort signal in fs promise api example Moritz Kneilmann ab doc add documentation for fs.WriteStream.close Hitesh Sharma caec doc clarify synchronous blocking of Worker stdio James M Snell ec doc update contact info Gabriel Schulhof cbcb doc change color of doctag on night mode Qingyu Deng ae doc add ESM code examples in url.md Antoine du Hamel ddeefd doc fix fs.openSync signature Luigi Pinca bfcbcd doc typo stats should be stat clarity Bryan Field dfdf doc fix code example in ecdh.setPublicKey Jordan Baczuk ce doc use HEAD instead of master for links Antoine du Hamel aeec doc clarify DiffieHellmanGroup class docs Nitzan Uziely edf doc fix broken AHAFS link in fs doc Rich Trott edca doc use AIX instead of Aix in fs.md Rich Trott efa doc remove extraneous dash from flag prefix Rodolfo Carvalho eeaf doc corrected workload name as per the latest VS Installer MrJithil df doc use sentence case in headers in srccryptoREADME.md Rich Trott bf errors remove input from ERRINVALIDURL message moander bef events use nullish coalencing operator Voltrex acbc fs fix async iterator partial writes Nitzan Uziely ea fs fix error when writing buffers INTMAX Zach Bjornson bcfc fs use assert in fsCall argument checking Rongjian Zhang dbef http refactor to remove redundant argument of deferToConnect Rongjian Zhang cdeeeacb lib support setting process.env.TZ on windows James M Snell cfdcdf lib make IterableWeakMap safe to iterate Antoine du Hamel befb meta add v team Jiawen Geng cc SEMVERMINOR module add support for URL to import.meta.resolve Antoine du Hamel aacda nodeapi faster threadsafefunction Fedor Indutny beba path inline conditions Voltrex cc SEMVERMINOR process add 'worker' event James M Snell eb repl fix CtrlC on top level await Antoine du Hamel ade src fix fatal errors when a current isolate not exist legendecas adfcd src update careswrap OpenBSD defines Anna Henningsen bcf src remove extra semi after member fn Shelley Vohr bfecfd src make workers messaging more resilient Juan Jos?? Arboleda ffbf test refactor testreadlineinterface to be shorter Juan Jos?? Arboleda eea test stream.finished detects a destroyed IncomingMessage Nitzan Uziely bfbe test set common.bits to for riscv Andreas Schwab aba test improve coverage of libhttpclient.js Rongjian Zhang dfad test improve coverage of libos.js Rongjian Zhang bfbec test increase coverage for repl ZiJian Liu fce test call functions internally Voltrex fea test increase coverage for Histogram ZiJian Liu dbdafc test improve fs coverage Rongjian Zhang fff test complete coverage of querystring Rongjian Zhang bae test increase coverage for AbortController ZiJian Liu c test increase coverage for Blob ZiJian Liu edaccf test run message and pseudotty tests in parallel Richard Lau cbcc test move testnetconnecteconnrefused from pummel to sequential Rich Trott eebacda test fix flaky inspectorcli tests when breakpionts are restored Rich Trott bbfeece test skip tests for openssl..alpha Daniel Bevenius dbeeedf test update OpenSSL ..alpha error messages Daniel Bevenius dec testrepl fix tests when inspector is disabled Antoine du Hamel afe tools remove redundant v config Jiawen Geng afb tools update ESLint to .. Colin Ihrig ecabce SEMVERMINOR tools add Worker to typeparser James M Snell b tools make GH Actions workflows work if default branch is not master Antoine du Hamel cfcad typings add JSDoc typings for readline Voltrex fbfe SEMVERMINOR util add util.types.isKeyObject and util.types.isCryptoKey Filip Skokan eebb Revert worker remove ERR\CLOSED\MESSAGE\PORT Juan Jos?? Arboleda
repl fix CtrlC on top level await;On Node.js v.x there is no way to cancel a toplevel await call but to kill the program or wait for the promise to settle. I think that's a somewhat recent regression as this is not the case in Node.js v.x.       The text was updated successfully but these errors were encountered
docs update code examples for nodeurl module;There are many things called url in this page including url moduleURL instances etc.The original example was not clear where these methods come from.
build add workaround for V builds;V's build toolchain is not compatible with Python and the CI jobthat tests V needs to be run with Python . Add a fallback tofindexecutable from distutils.spawn to allow the configurescript to run in the V test job.Refs commentcc targos
tools update ESLint to ..;Update ESLint to ..       The text was updated successfully but these errors were encountered
build remove dependency on distutils.spawn;Debian based packages of Python do not include distutils.spawn andrequire an additional apt package to be installed pythondistutils.Replace use of distutils.spawn with shutil.which available in allversions of Python currently allowed by our configure scripts.For the configure script only fall back to distutils.spawn to allowfriendlier error messages when run on older unsupported versions ofPython e.g. ..configure.py also uses distutils.version this appears to beavailable in Debian packaged Python without installingpythondistutils so has been left asis.Refs
build add missing torque output sources;The torquegenerateddefinitions target is missing some torquegenerated files in its sources list when compared to the equivalenttarget in V's BUILD.gn.Fixes Syncs our gyp file with   nodedepsvBUILD.gn   Lines to  in ec       foreachfile torquefiles     filetq stringreplacefile .tq tq     sources     targetgendirtorquegeneratedfiletqinl.inc     targetgendirtorquegeneratedfiletq.cc     targetgendirtorquegeneratedfiletq.inc            cc johnyan nodejsvupdate       The text was updated successfully but these errors were encountered
testrepl fix tests when inspector is disabled;Fixes
dgram extract cluster lazy loading method to make it testable;There is no need to ensure cluster loaded in bindServerHandle becauseit's already loaded before calling it.This PR makes cluster as an argument to remind developers that clusterneeds to be loaded before calling this function.UpdateThe lazy load parts in bindServerHandle is unreachable because cluster has been loaded before calling it. Extract it to a seperated method to make the code testable.Refshttpscoverage.nodejs.orgcoverageeaabclibdgram.js.htmlL
test increase coverage for repl;Refs httpscoverage.nodejs.orgcoverageabcebelibinternalrepl.js.htmlL
debugger refactor to use internal modules;This avoids loading the entirety of nodeutil and nodeurl and their dependencies while only a subset is actually used by this module.
buffer remove TODOs in atob btoa;Refs comment       The text was updated successfully but these errors were encountered
doc fix code example in ecdh.setPublicKey;Fixes        The text was updated successfully but these errors were encountered
doc use sentence case in headers in srccryptoREADME.md;Use sentence case consistently in headers in srccryptoREADME.md.       The text was updated successfully but these errors were encountered
v.. release proposal;Version .. Current targosNotable Changesafa SEMVERMINOR fs allow noparams fsPromises fileHandle read Nitzan Uziely Commitsecf asynchooksdoc replace process.stdout.fd with Darshan Sen cbabece benchmark avoid using console.log Antoine du Hamel bab benchmark use process.hrtime.bigint Antoine du Hamel bce bootstrap freeze more intrinsics Antoine du Hamel faffe build fix labelpr workflow Micha?½l Zasso bdaea build label PRs with GitHub Action instead of nodejsgithubbot Phillip Johnsen f crypto don't crash with some selfsigned certs Nils Dralle bbbeb crypto fix generateKeyPair type checks Nitzan Uziely cdbb crypto fix scrypt keylen validation Antoine du Hamel ad crypto fix DiffieHellman generator validation eladkeyshawn ed debugger enable linter on internalinspectorinspectclient Antoine du Hamel feaad debugger refactor internalinspectorinspect to use more primordials Antoine du Hamel acfa debugger apply automatic lint fixes for inspectrepl.js Rich Trott beab debugger apply automatic lint fixes for inspect.js Rich Trott faa debugger remove unused function argument Rich Trott aa debugger align message with Node.js standard Rich Trott efdcbb debugger add usage example for port Rafael Gonzaga bceda debugger fix race conditiondeadlock on initialization Rich Trott ad debugger replace internal use of deprecated API Rich Trott ffffff debugger allow longer time to connect Rich Trott defdaace debugger accommodate line chunking in Windows Rich Trott eb debugger fix inspect restart on Windows Rich Trott de debugger remove unused code Rich Trott bbcf debugger move nodeinspect to internal library Rich Trott ebcbaa deps V cherrypick fdcdf Micha?½l Zasso aabddfbeb deps upgrade npm to .. Ruy Adorno bfbd deps update to cjsmodulelexer.. Guy Bedford ca deps patch V to ... Micha?½l Zasso fe deps patch V to ... Micha?½l Zasso ddadc deps update llhttp to .. Fedor Indutny fcdbcc deps patch V to ... Micha?½l Zasso faaa Revert doc os.uptime temporary bug notice Micha?½l Zasso bdde doc document 'secureConnect' event limitation James M Snell ec doc fix outdated util inspect documentation and layout example Ruben Bridgewater decfca doc mark Node.js as EndofLife Richard Lau cbfdef doc mark querystring api as legacy James M Snell ac doc update nodeapi support matrix Michael Dawson fcefe doc add arguments for stream event of HttpServer and HttpSecureServer Qingyu Deng dbed doc indicate that abort tests do not generate core files Rich Trott fee doc add trycatch in http respondWithFile example Matteo Collina fff doc note the system requirements for V tests DeeDeeG bbeafc doc minor clarification to pathObject James M Snell eaeaff doc clarify that fs.Dir async iterator closes automatically James M Snell afb doc document new TCPKEEPCNT and TCPKEEPINTVL socket option defaults Arnold Zokas edef doc do not mention TCP in the allowHalfOpen option description Luigi Pinca c doc update message to match actual output Rich Trott bcceaf doc request default snap track be updated for LTS Rod Vagg dfdcba doc mark process.hrtime as legacy Antoine du Hamel cdda doc fix typo in workerthreads.md takayama acdad doc fix version history for exports patterns Antoine du Hamel cd doc fix package.json imports field history Antoine du Hamel eaeec doc fix typo in buffer.md divlo ccccda doc fix YAML comment opening tags Jayden Seric dc doc add nodejssec email template Daniel Bevenius  doc update TSC members list with three new members Rich Trott eef doc use foo.prototype.bar notation in buffer.md Voltrex afa SEMVERMINOR fs allow noparams fsPromises fileHandle read Nitzan Uziely afc inspector remove redundant method for connection check Yash Ladha fcace lib harden lint checks for globals Antoine du Hamel efa lib fix and improve os typings Akhil Marsonya fcbc lib add support for JSTransferable as a mixin James M Snell fd meta post comment when pr labeled fasttrack James M Snell fcf perfhooks add toJSON to performance class Yash Ladha fa perfhooks fix PerformanceObserver 'gc' crash James M Snell fe readline move utilities to internal modules Antoine du Hamel eeab repl document top level await limitation with constlet James M Snell aadcb repl display prompt once after error callback Anna Henningsen caf src fix validation of negative offset to avoid abort James M Snell dccabf src use progbits instead of progbits Stephen Gallagher ff src print arbitrary javascript exception value in node report legendecas ad src refactor to use THROW argument based snprintf Filip Skokan ebbcd src fix abort in pbkdf Tobias Nie?en cacd src fix setting Converter sub char length James M Snell ec src avoid deferred gccleanup for Buffer.from James M Snell fffabac stream the position of read is wrong helloyou ceb test fix common.mustCall length and name properties Antoine du Hamel dcde test address deprecation warning Rich Trott eef test crypto KeyObject.from ERRINVALIDARGTYPE pezhmanparsaee adcb test fix flaky testcryptotimingsafedqualbenchmarks Rich Trott bbe test update url Web Platform Tests Leko fceb test move abort test from pummel to abort directory Rich Trott efbce test move slower tests into pummel and skip on slow devices Rich Trott dfa test skip some pummel tests on slower machines Rich Trott bcacf test fix test to allow quictls fork of OpenSSL Richard Lau acf test extend timeout on debugger tests for slower machines Rich Trott bcde test fix comment typo Rich Trott ceb test fix testinspectorcliaddress Rich Trott dad test add ancestor package.json checks for tmpdir Richard Lau dee test replace function with arrow function and remove unused argument Andres ebfcef test use .test domain for not found address Richard Lau adc testdebugger migrate nodeinspect tests to core Rich Trott ebaa testreadline improve tab completion coverage Antoine du Hamel bcabe timers remove redundant unref calls Giora Guttsait bd tls validate ticket keys buffer Antoine du Hamel fe tls fix tlsSocket.setMaxSendFragment abort eladkeyshawn dade tools use mktemp to create the workspace directory Luigi Pinca abfdbd tools use a shallow clone of the npmcli repository Luigi Pinca becefb tools disable LTO for vcppgcshared target Jesse Chan dbc tools remove fixer for nonasciicharacter ESLint custom rule Rich Trott dceda tools fix doc generation when version info is not available Antoine du Hamel fccb tools add depottools to PATH for V tests DeeDeeG fcbcf tools update ESLint to .. Colin Ihrig feaceb tools update markdown linter rules Rich Trott ec tools remove nodeinspect from license Rich Trott dbdb tools fix type mismatch in test runner Richard Lau ab typings add JSDoc typings for fs Voltrex eebb typings add JSDoc typings for util Rohit Gohri ecbeae util fix infinite recursion during inspection Ruben Bridgewater bdecc zlib fix brotli flush range Khaidi Chu
doc mark Node.js as EndofLife;Node.js is out of support after today .
testreadline improve tab completion coverage;Blocked on
quictlsopenssl ..alpha tests;testnetconnecteconnrefused esems to run quickly on all platforms anddoes not appear to need to be in the pummel directory. Move tosequential.       The text was updated successfully but these errors were encountered
test fix flaky inspectorcli tests when breakpoints are restored;This pull request contains to commits related to updating to quictlsopenssl ..alpha.Fixes
debugger enable linter on internalinspectorinspectclient;Sometimes there isn't a newine in the AIX output that already has acomment indicating it needs investigation.
tools remove fixer for nonasciicharacter ESLint custom rule;No description provided.
debugger fix autofixable lint issues in inspect library code;The fixer for nonasciicharacter does not typidally do the right thing. Itremoves the entire node not the offending character. I discovered thiswhen it removed the entire contents of a file and I wasn't sure whichautofix rule was doing it.This commit adds a minimal test for the rule. The tests require thatautofix results be supplied so if someone wants to readd autofixingto the rule we'll have tests that it does the right thing.
libzlib fix brotli flush range;No description provided.        The text was updated successfully but these errors were encountered
debugger refactor internalinspectorinspect to use more primordials;Fixes
debugger cherrypick remaining commits for nodeinspect;This is a refactoring of the module to use asyncawait where it makes more sense and some other changes to enable ESLint on the file.The norestrictedsyntax rule is still disabled as the inspector throws custom errors which we might want to include in internalerrors at some point and the linter doesn't know promise versions of setTimeoutsetInterval.
tools fix doc generation when version info is not available;The move of nodeinspect from deps to core did not include three relevant commits that landed in the nodeinspect repository after the last nodeinspect release. This pull request includes them.
test move abort test from pummel to abort directory;Fixes        The text was updated successfully but these errors were encountered
test move slower tests into pummel and skip on slow devices;testabortfatalerror is not resource intensive and would be better inthe abort directory than the pummel directory.       The text was updated successfully but these errors were encountered
test skip some pummel tests on slower machines;Move slower tests to pummel and skip on Raspberry Pi devices in CI.Refs comment       The text was updated successfully but these errors were encountered
tools update markdown linter rules;Skipped the longestrunning pummel tests on the Raspberry Pi devices inCI.Refs comment       The text was updated successfully but these errors were encountered
benchmark avoid using console.log;Update remarkpresetlintnode to .. which includes improved YAMLcomment linting for our markdown files.       The text was updated successfully but these errors were encountered
doc fix typo in workerthreads.md;This may help reduce memory pressure when running intensive benchmarks.
doc update TSC members list with three new members;Buffer.alloc Buffer.allocUnsafeBuffer.alloc does not use the internal Buffer pool.
doc fix YAML documentation comment starts;No description provided.
doc fix typo in buffer.md should be uintarray;This PR changes several YAML documentation comments starts from YAML to YAML to hopefully fix their content from being missing in the rendered documentationhttpsnodejs.orgapiglobals.htmlglobalsclassabortcontrollerhttpsnodejs.orgapipackages.htmlpackagessubpathimportshttpsnodejs.orgapipackages.htmlpackagessubpathpatternshttpsnodejs.orgapipackages.htmlpackagesexportssugarhttpsnodejs.orgapipackages.htmlpackagesconditionalexportshttpsnodejs.orgapipackages.htmlpackagesselfreferencingapackageusingitsnamehttpsnodejs.orgapiworkerthreads.htmlworkerthreadsworkersetenvironmentdatakeyvalueIt would have saved me a lot of time over the past months had this information been rendering correctly as I've been sifting through Node.js PRs commits and changelog entries even at times doing local experiments with multiple Node.js versions ?ÿàI'm not sure how to test the rendered docs locally the contributing guide doesn?ÇÖt mention how to to be sure the missing spaces at the start of the YAML comments is the problem but it seems to be the only difference between what does or doesn?ÇÖt display.       The text was updated successfully but these errors were encountered
timers remove redundant unref calls;There is a typo inside docapibuffer.md currently the code snippets look like thisconst buf Buffer.from'hello' 'utfle'const uintarr new UintArray buf.buffer buf.byteOffset buf.length UintArray.BYTESPERELEMENTconsole.loguintarray Prints UintArray But this snippets doesn't work as we've got this errorconsole.loguintarray ReferenceError uintarray is not defined at Object.anonymous homedivloDocumentstestingtestapp.js at Module.compile internalmodulescjsloader.js at Object.Module.extensions..js internalmodulescjsloader.js at Module.load internalmodulescjsloader.js at Function.Module.load internalmodulescjsloader.js at Function.executeUserEntryPoint as runMain internalmodulesrunmain.js at internalmainrunmainmodule.jsTo fix it we need to change uintarr to uintarray with that change it effectively prints to stdout UintArray . ?æì       The text was updated successfully but these errors were encountered
crypto fix DiffieHellman generator validation;Remove redundant calls to Timeout.unref by passing theref boolean parameter of timerspromisessetTimeout andtimerspromisessetInterval directly to Timeout constructor'sisRefed parameter.Note possible expansion of this PR is to apply the same isRefedparameter from Timeout to Immediate to prevent the same redundantImmediate.unref call in timerspromisessetImmediate.
tls validate ticket keys buffer;Fixes
doc remove superfluous await from fsPromises.readdir example;The await operator in the example iterating over the returned arrayof filenames is not necessary since the returned array is eitherconsisting of strings or of fs.Dirent objects neither providingan asyncIterator.Refs nodejshelp       The text was updated successfully but these errors were encountered
tools fix type mismatch in test runner;output.diagnostic is a list that is appended to on SmartOS when retrying a test due to ECONNREFUSED.   nodetoolstest.py   Line  in b       self.diagnostic       nodetoolstest.py   Lines to  in b       SmartOS has a bug that causes unexpected ECONNREFUSED errors.     See httpssmartos.orgbugviewOS     If ECONNREFUSED on SmartOS retry the test one time.     if output.UnexpectedOutput and     sys.platform 'sunos' and     'ECONNREFUSED' in output.output.stderr     output case.Run     output.diagnostic.append'ECONNREFUSED received test retried'    The test runner checks if output.diagnostic is truthy and if so assigns its value to self.traceback.   nodetoolstest.py   Lines to  in b       if output.diagnostic     self.severity 'ok'     self.traceback output.diagnostic    However self.traceback is supposed to be a string and printDiagnostic in the TapProgressIndicator attempts to call splitlines on it which fails if it is a list withAttributeError 'list' object has no attribute 'splitlines'   nodetoolstest.py   Lines to  in b       def printDiagnosticself     logger.info' severity s' self.severity     self.exitcode and logger.info' exitcode s' self.exitcode     logger.info' stack |'         for l in self.traceback.splitlines     logger.info' ' l    Seen in httpsci.nodejs.orgjobnodetestcommitsmartosnodessmartosconsole ok pummeltestnetconnecteconnrefused  durationms . severity ok stack | Traceback most recent call last File toolstest.py line in module sys.exitMain File toolstest.py line in Main if RunTestCasescasestorun options.progress options.j options.flakytests File toolstest.py line in RunTestCases return progress.Runtasks File toolstest.py line in Run self.RunSingleFalse  File toolstest.py line in RunSingle self.HasRunoutput File toolstest.py line in HasRun self.printDiagnostic File toolstest.py line in printDiagnostic for l in self.traceback.splitlines AttributeError 'list' object has no attribute 'splitlines' make Makefile testci Error cc nodejspython
fs allow noparams fsPromises fileHandle read;Currently fileHandle.read throws a TypeError but fs.readfd cb works. This PR makes fileHandle.read work the same as fs.readfd cb.
test use .test domain for not found address;While it is extremely unlikely that .fhqwhgads will become a validdomain we should where possible use one of the reserved domains fortesting.Refs httpstools.ietf.orghtmlrfcRefs cc Trottiojstestdigitaloceanubuntuxbuildworkspacenodetestcommitcustomsuitesfreestyle .node Welcome to Node.js v..pre.Type .help for more information. const opts hints family all false undefined dns.promises.lookup'something.invalid' optsPromise pending  Uncaught Error getaddrinfo EAIAGAIN something.invalid at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks  errno  code 'EAIAGAIN' syscall 'getaddrinfo' hostname 'something.invalid' dns.promises.lookup'something.invalid.test' optsPromise pending  Uncaught Error getaddrinfo ENOTFOUND something.invalid.test at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks  errno  code 'ENOTFOUND' syscall 'getaddrinfo' hostname 'something.invalid.test' dns.promises.lookup'something.invalid.example' optsPromise pending  Uncaught Error getaddrinfo ENOTFOUND something.invalid.example at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks  errno  code 'ENOTFOUND' syscall 'getaddrinfo' hostname 'something.invalid.example' dns.promises.resolveMx'something.invalid'Promise pending  Uncaught Error queryMx ESERVFAIL something.invalid at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises at QueryReqWrap.callbackTrampoline nodeinternalasynchooks  errno undefined code 'ESERVFAIL' syscall 'queryMx' hostname 'something.invalid' dns.promises.resolveMx'something.test'Promise pending  Uncaught Error queryMx ENOTFOUND something.test at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises at QueryReqWrap.callbackTrampoline nodeinternalasynchooks  errno undefined code 'ENOTFOUND' syscall 'queryMx' hostname 'something.test' dns.promises.resolveMx'something.example'Promise pending  Uncaught Error queryMx ENOTFOUND something.example at nodeinternalcaptureLargerStackTrace nodeinternalerrors at nodeinternal nodeinternalerrors at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises at QueryReqWrap.callbackTrampoline nodeinternalasynchooks  errno undefined code 'ENOTFOUND' syscall 'queryMx' hostname 'something.example'
test fix flaky testdns and testdnslookup;Ubuntu . is going to be unsupported after April . SwitchingNode.js CI to Ubuntu . for the internet tests resulted in failuresin testdns and testdnslookup because it returns server failuretryagain on .invalid domain. Add a hostname for testing that will returnrecord not found.       The text was updated successfully but these errors were encountered
doc restore minimum Xcode version for macOS;accidentally reverted thechange to the minimum version of Xcode for macOS.Refs faerRefs cc targos       The text was updated successfully but these errors were encountered
build sync generation of vbuildconfig.json;The contents of the vbuildconfig.json file generated whenconfigured with enabled is missing entries which prevent V'stest runner from using the built d binary. Sync the keys writteninto the file with those generated in V's depsvBUILD.gn file.Prior to this patch V's test runner would fail to parse vbuildconfig.jsonas it was missing vcontrolflowintegrity python depsvtoolsruntests.py outdir ....outRelease progressdots timeout mjsunit debugger message preparserTraceback most recent call last File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in execute self.loadbuildconfigoptions File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in loadbuildconfig self.buildconfig doloadbuildconfigoutdir options.verbose File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in doloadbuildconfig return BuildConfigbuildconfigjson File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in init self.controlflowintegrity buildconfig'vcontrolflowintegrity'KeyError 'vcontrolflowintegrity'       The text was updated successfully but these errors were encountered
doc fixed a missing backtick which broke the styling;Fixes
doc fix typo in repl.md;I found a typo in REPL documentation entires entries
doc fix typo in buffer.md;I found a typo in buffer documentation alterered altered
lib enforce using primordials.globalThis instead of global;global.global may be overwritten in userland it's probably safer not to rely on it. echo 'Reflect.definePropertyglobalThis global get throw new Error ' pre.js node r .pre.jsWelcome to Node.js v...Type .help for more information.UsersduhameanDocumentsnodef.js get throw new Error Error at get ?Çªpre.js at REPLServer.createContext noderepl at REPLServer.resetContext noderepl at new REPLServer noderepl at Object.start noderepl at Object.createRepl as createInternalRepl nodeinternalrepl at nodeinternalmainrepl at Object.loadESM nodeinternalprocessesmloader
test fix typo in gtestall.cc;separater separator
bootstrap freeze more intrinsics;Several intrinsics were missing and the comments were referencing an outdated version of ECMAScript spec.Blocked on and .
lib avoid mutating Error.stackTraceLimit when it is not writable;This PR aims to avoid getting Cannot assign to read only property 'stackTraceLimit' of function 'function Error native code ' errors thrown from core when Node.js is executed with the frozenintrinsics flag.
lib add globalThis to primordials;This is useful to avoid throwing exception if globalThis is being overwritten in userland node e 'globalThis.globalThis nullnew Error.stack'nodeinternalprocessexecution globalThis.module origModule TypeError Cannot set property 'module' of null at evalScript nodeinternalprocessexecution at nodeinternalmainevalstringI'm using norestrictedglobals instead of nodecorepreferprimordials to generate better error messages.libinternalprocessexecution.js error Use const globalThisModule primordials instead of the global nodecorepreferprimordials error Use const globalThisfilename primordials instead of the global nodecorepreferprimordials error Use const globalThisModule primordials instead of the global nodecorepreferprimordialslibinternalprocessexecution.js error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals
test skip fs.watch test on IBMi;We've added pummel tests to CI so we need to add a skip for IBMi forthe fs.watch test there as we have for all the fs.watch testselsewhere.       The text was updated successfully but these errors were encountered
fs validate encoding to binding.writeString;The binding layer performs some validation of the encoding and data passed to WriteString. This commit adds similar validation to the JS layer for better error handling.Fixes I believe this issue was closed prematurely       The text was updated successfully but these errors were encountered
tools update ESLint to ..;Update ESLint to ..       The text was updated successfully but these errors were encountered
tls fix tlsSocket.setMaxSendFragment results in an abort;Fixes
test update OpenSSL .x expected error message;This commit updates an expected error message which has changed inOpenSSl .x. OpenSSL . is still under development but once there is arelase we should not be seeing test failure like this.
depsdebugger move nodeinspect into core;Refs I named a lot of filesdirectories with inspectorcli and I suspect inspectcli or debuggercli or just debugger or inspect would have all been betterStill some ESLint checks to reenable in three files but assuming tests pass everywhere I think this is good enough to land and things can be adjusted with subsequent PRs.Because I was porting over the tests this found and fixed a small bug with node inspect in Node.js .x. Specifically calling scripts would always include internal scripts even with scriptsfalse. Wouldn't mind reconsidering that API as that first argument is a boolean trap. But OMG not when first landing this thing.Also there are some changes that landed in the nodeinspect repo but never made it into a release. Those changes will need to be ported over. But that's the next PR. Or maybe the lint fixes would be the next one.
repl fix declaring a variable with the name util;Fixes
lib fix typo in libtlscommon.js;I found a typo byteLenth byteLength
test remove unneeded m flag on regular expressions;The m flag has no effect on regular expressions that don't match thestart or the end of a line.
deps V cherrypick cbc;Original commit messageFix ValueDeserializerReadDouble bounds checkIf end is smaller than sizeofdouble the result would wraparound and lead to an invalid memory access.Refs httpsgithub.comnodejsnodeissuesChangeId IbcddcbcaaffdcdReviewedon httpschromiumreview.googlesource.comcvvReviewedby Marja H??ltt?ñ marjachromium.orgCommitQueue Marja H??ltt?ñ marjachromium.orgCrCommitPosition refsheadsmasterRefs vvcFixes
doc fix typo in fs.md;No description provided.        The text was updated successfully but these errors were encountered
tools relax maxlen lint rule for template strings;Splitting template strings across multiple lines can make them harder toread.       The text was updated successfully but these errors were encountered
v.. proposal;Version .. 'Dubnium' LTS MylesBorinsThis is a security releaseNotable ChangesVulerabilties fixedCVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE OpenSSL NULL pointer deref in signaturealgorithms processing HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE npm upgrade Update yn to fix PrototypePollution HighThis is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvhImpactsAll versions of the .x .x and .x releases linesCommitsebce deps upgrade npm to .. Ruy Adorno cbdfc deps update archs files for OpenSSL..k Tobias Nie?en dbaa deps upgrade openssl sources to ..k Tobias Nie?en
v.. proposal;Version .. Current MylesBorinsThis is a security release.Notable ChangesVulnerabilties FixedCVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE OpenSSL NULL pointer deref in signaturealgorithms processing HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE npm upgrade Update yn to fix PrototypePollution HighThis is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvhImpactsAll versions of the .x .x and .x releases linesOther Notable Changesbf SEMVERMINOR fs add support for async iterators to fsPromises.writeFile HiroyukiYagihashi cbbfe SEMVERMINOR net allow net.BlockList to use net.SocketAddress objects James M Snell daaabbcf SEMVERMINOR net add SocketAddress class James M Snell ace SEMVERMINOR net make net.BlockList cloneable James M Snell bcb SEMVERMINOR nettls add abort signal support to connect Nitzan Uziely afa SEMVERMINOR readline add AbortSignal support to interface Nitzan Uziely Commitsacbe crypto use correct webcrypto RSASSAPKCSv algorithm name Filip Skokan cbe crypto add buffering to randomInt Tobias Nie?en efde deps update to cjsmodulelexer.. Guy Bedford fea deps update archs files for OpenSSL..k Hassaan Pasha bbdcdadc deps upgrade openssl sources to ..kquic Hassaan Pasha ec deps cjsmodulelexer cherrypick ef pezhmanparsaee afcab doc fix asyncLocalStorage.run description Darkripper bdd doc document how to unref stdin when using readline.Interface Anu Pasumarthy ce doc move psmarshall to collaborators emeriti Peter Marshall aeaac doc add distinctive color for code elements inside links Antoine du Hamel ccb doc add missing events.on metadata Anna Henningsen adcadf doc improve Buffer's encoding documentation Micha?½l Zasso ffabbcf doc add missing cleanup step in OpenSSL upgrade Tobias Nie?en caf doc add Windowsspecific info to subprocess.kill Jo?úo Lucas Lucchetta bf SEMVERMINOR fs add support for async iterators to fsPromises.writeFile HiroyukiYagihashi adec fs fix chown abort Darshan Sen dacaa http optimize debug function correctly Micha?½l Zasso aae http add specific error code for custom frames Anna Henningsen  lib change wording in libdomain.js comment Akhil Marsonya ebec lib change wording in libinternalchildprocess comment Akhil Marsonya abe module improve error message for invalid data URL Antoine du Hamel cbbfe SEMVERMINOR net allow net.BlockList to use net.SocketAddress objects James M Snell daaabbcf SEMVERMINOR net add SocketAddress class James M Snell ace SEMVERMINOR net make net.BlockList cloneable James M Snell bcb SEMVERMINOR nettls add abort signal support to connect Nitzan Uziely acccbe path refactor to use more primordials Akhil Marsonya cce readline fix preaborted signal question handling Nitzan Uziely afa SEMVERMINOR readline add AbortSignal support to interface Nitzan Uziely eef src fix typo in nodemutex Tobias Nie?en eccbfb src fix typos in crypto comments Tobias Nie?en adbff src fix error handling for CryptoJobToResult Tobias Nie?en bed test add extra space in test failure output Qingyu Deng cfc test use faster variant for rss Pooja D P bcad test fix testtlsnosslv for OpenSSL Richard Lau dbaeacf test deflake testfsreadoptionalparams Luigi Pinca dcd test improve clarity of ALSenabledisable.js Darkripper eaed test add DataView test case for v serdes Rich Trott dafc tools update ESLint to .. Luigi Pinca ead toolsdoc add legacy badge in the TOC Antoine du Hamel fbcef url forbid pipe in URL host Darshan Sen        The text was updated successfully but these errors were encountered
v.. proposal;Version .. 'Erbium' LTS MylesBorinsThis is a security release.Notable ChangesVulnerabilities fixedCVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE OpenSSL NULL pointer deref in signaturealgorithms processing HighThis is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txtImpactsAll versions of the .x .x .x and .x releases linesCVE npm upgrade Update yn to fix PrototypePollution HighThis is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvhImpactsAll versions of the .x .x and .x releases linesCommitscfae deps upgrade npm to .. Ruy Adorno acf deps update archs files for OpenSSL..k Tobias Nie?en cab deps upgrade openssl sources to ..k Tobias Nie?en
DOC update styler user guide for new textgradient;Add textgradient to Styler user guide after merge.
DOC add Styler.tolatex info in io.rst doc page;followon from adding Styler.tolatex.This is basic addition that primarily points to the core method docs which have detailed descriptions and examples
BUG groupby.transformagg caching args with numba engine;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF deduplicate formatattrs;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
FMT trim redundant freqstr from PeriodIndex repr;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
REF share arraywrap;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
typo fix;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
CLN remove unused maxfittingelement;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
CLN remove unnecessary comparables;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
CI Unpin pip in py npdev;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
REF share mplrepr;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF simplify maybecasttodatetime;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF convertdtypes return dtype objects;This turns out to be a blocker for sharing arrays.integers.safecast with maybecasttointegerarray which in turn is a blocker for
TYP NaTType comparisons;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
TYP future annotations in parsers;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF trycast;collect all the dtype is None cases together       The text was updated successfully but these errors were encountered
REGR CategoricalIndexNone;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF reuse sanitizearray in DataFrame.sanitizecolumns;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entryA big partialindexing test is split and has a nontrivial diff but the only actual change is this line httpsgithub.compandasdevpandascomparemaster...jbrockmendelrefsanitizecolumnexpanddiffbfdfdcfaaebcbcfebbdceceeR declaring that empty range is intdtypelike instead of floatdtypelike which i think we should call a bug.
BUG pydatetime case followup to;was merged before i got a chance to push these suggested edits
TYP deprecatenonkeywordarguments;If we haveimport pandas as pdrevealtypepd.Seriesrange.interpolate'linear'then on master we get mypy t.py t.py note Revealed type is 'Any'while here mypy t.py t.py note Revealed type is 'Unionpandas.core.series.Series None'
TST Old issues;closes  closes  closes  closes  closes  closes  closes  closes  tests added passed Ensure all linting tests pass see here for how to run them
BUG case argument ignored when regex is False in Series.str.replace;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
ArrowStringArray TYP add annotations to str.replace;precursor to
ArrowStringArray TYP use future annotations more;precursor to
ArrowStringArray TSTCLN cleanup str.replace tests;precursor to
BUG DataFramendarraydt dtypeobject;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
REF trycast go through fastpath more often;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
TYP and DOC pd.merge accepts Series;I noticed that the docs for pd.merge and pd.mergeasof were requiring the first argument to be a DataFrame but in fact they can be a Series. This PR updates the docs and the types to fix that issue.Didn't think a whatsnew entry was needed and I skipped creating an issue but will do so if required.
TYP mypy fixups something upgraded;I've been seeing these locally for a couple weeks not sure why they just started showing up on the CI       The text was updated successfully but these errors were encountered
REF simplify sanitizearray;We end up calling trycast in places instead of
ArrowStringArray PERF use pyarrow.compute.replacesubstringregex if available;. ??? strings.Methods.timereplace ok . ???  dtype   str .?ms  string .?ms  arrowstring .?ms  happy to break up if easier to review.       The text was updated successfully but these errors were encountered
ENH Deprecate nonkeyword arguments for MultiIndex.setlevels;xref  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry       The text was updated successfully but these errors were encountered
BUG Seriesrangeobjoutsideibounds;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
BUG DataFramefloatdata dtypeinty does unsafe casting;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
DOC fixup docstring of deprecatenonkeywordarguments;closes  tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
DEPS clean outdated version compat sync min versions;numpy sqlalchemy .pytest        The text was updated successfully but these errors were encountered
ArrowStringArray PERF bypass some padding code in wrapresult;The padding of np.nan across all columns is not needed for StringArrayArrowStringArray before after ratio ee ced master bypass  .?.ms .?ms . strings.Split.timesplit'string' True .?.ms .?ms . strings.Split.timersplit'arrowstring' True .?.ms .?.ms . strings.Split.timersplit'string' True .?.ms .?ms . strings.Methods.timepartition'arrowstring' .?.ms .?ms . strings.Methods.timerpartition'arrowstring' .?.ms .?.ms . strings.Methods.timepartition'string' .?.ms .?.ms . strings.Methods.timerpartition'string'SOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY.PERFORMANCE INCREASED.this is a small change for perf.The padding code logic does not work for st.extract since the first value of a list maybe np.nan followed by other values. I made that change here and then reverted as is moreless perf neutral. so will do in another PR that uses wrapresult more for strextract. str.extract returns list of lists where any value in the list could be np.nan str.split returns array of lists with different lengths without np.nans and the np.nans returned as scalarssome further gains can also be achieved by bypassing the converting of np.nan to np.nan for partition for StringArrayArrowStringArray since the DataFrame constructor does not need this for a list of tuples. str.partition returns array of tuples str.split returns array of lists        The text was updated successfully but these errors were encountered
DOC redocument the subset arg in styler for clarity of use;came up in a comment to another PR so here it is changed for all appropriate methods.
TST tighten stacklevel checks;closes xxxx tests added passed Ensure all linting tests pass see here for how to run them whatsnew entry
Add GitHub action to check for bug repro;Resolves This action can be tested at httpsgithub.combvaughntestgithubissuetemplate by creating a new DevTools bug report.Note that the debug logs in this Workflow won't be visible unless we set ACTIONSSTEPDEBUGtrue in the repository secrets settings.       The text was updated successfully but these errors were encountered
DevTools Revert force deep remount when Fast Refresh detected;This reverts the most expensive part of ea which seems to no longer be necessary after subsequent changes.
Fix edgecase Fast Refresh bug that caused Fibers with warningserrors to be untracked prematurely;Refactor errorwarning count tracking to avoid preallocating an ID for Fibers that aren't yet mounted. Instead we store a temporary reference to the Fiber itself and later check to see if it successfully mounted before merging pending errorwarning counts.This avoids a problematic edge case where a forceremounted Fiber from Fast Refresh caused us to untrack a Fiber that was still mounted resulting in a DevTools error if that Fiber was inspected in the Components tab.Fixes        The text was updated successfully but these errors were encountered
Add key to inspectedelement error boundary;This way changing the selected element also recreatesresets the boundary automatically.       The text was updated successfully but these errors were encountered
Improve error boundary in inspected elements panel;Show more info about the error as well as the option to report it to GitHub.The previous error boundary was probably preventing users from reporting certain kinds of issues like .BeforeAfter
DevTools bugfix for useState with hasOwnProperty key;Fixes bug reported in        The text was updated successfully but these errors were encountered
Account for another DevTools Fast Refresh edge case;DevTools now 'untrack' Fibers cleans up the IDtoFiber mapping after a slight delay in order to support a Fast Refresh edge caseComponent type is updated and Fast Refresh schedules an updateremount.flushPendingErrorsAndWarningsAfterDelay runs sees the old Fiber is no longer mounted it's been disconnected by Fast Refresh and calls untrackFiberID to clear it from the Map.React flushes pending passive effects before it runs the next render which logs an error or warning which causes a new ID to be generated for this Fiber.DevTools now tries to unmount the old Component with the new ID.The underlying problem here is the premature clearing of the Fiber ID but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh. The 'debugNeedsRemount' flag won't necessarily be set.The best we can do is to delay untracking by a small amount and give React time to process the Fast Refresh delay.Resolves and
Fixed another Symbol concatenation issue with DevTools format util;Resolves        The text was updated successfully but these errors were encountered
Errors thrown by Store can be dismissed in boundary;Split off from Sometimes errors thrown by the store are recoverable. This PR updates the error boundary so that you can dismiss the error preferably after reporting it.
Make StrictMode double rendering flag static for FBwww;Once D lands this will be at for FB engineers. Let's cleanup the GK and make the dynamic feature flag static.       The text was updated successfully but these errors were encountered
DevTools Reload all roots after Fast Refresh force remount;Resolves some cases of as well as and I think Alternative for that does not require a React Refresh bugfix release.Unlike this PR works around the corrupted Store state by detecting a broken Fast Refresh remount and forcefully dropping the root and remounting the entire tree. This prevents Fibers from getting duplicated in the Store and in the Components tree. The benefit of this approach is that it doesn't rely on an update or change in behavior to Fast Refresh. This workaround is pretty dirty but since it's a DEVonly code path it's probably okay.Note that this change doesn't fix all of the reported issues see comment but it does fix some of them.This PR also slightly refactors the way DevTools assigns and manages unique IDs for Fibers in the backend by removing the indirection of a primary Fiber and instead mapping both the primary and alternate.It also removes the previous cacheonread behavior of getFiberID and splits the method into three separate functions for different use casesgetOrGenerateFiberID û Like the previous function this method returns an ID or generates and caches a new one if the Fiber hasn't been seen before.getFiberIDUnsafe û This function returns an ID if one has already been generated or null if not. It can be used to e.g. log a message about a Fiber without potentially causing it to leak.getFiberIDThrows ûáThis function returns an ID if one has already been generated or it throws. It can be used to guarantee expected behavior rather than to silently cause a leak.The PR also adds some basic integration tests for Fast Refresh DevTools including one that fails without this fix
Bugfix Prevent alreadycommitted setState callback from firing again during a rebase;First commit adds a failing test.Second commit fixes it.
React Native Set allowConcurrentByDefault true;OverviewReact Native needs this flag on for Relay tests.
lintbuild Infer format from artifact filename;Uses the layout of the build artifact directory to infer the format of a given file and which lint rules to apply.This has the effect of decoupling the lint build job from the existing Rollup script so that if we ever add additional postprocessing or if we replace Rollup it will still work.But the immediate motivation is to replace the separate stable and experimental lintbuild jobs with a single combined job.Test planDownloaded build artifactsManually edited a few files to add a lint error e.g. swapped a var for a const in ossstablereactcjsreact.development.jsRan yarn lintbuild to confirm the job fails in the expected way
Update entry point exports;Note that the first commit in this branch is to alphasort the exports for entry points to make it easier to compare between them when reviewing which file exports which APIs.The following APIs have been added to the react stable entry pointSuspenseListstartTransitionunstablecreateMutableSourceunstableuseMutableSourceuseDeferredValueuseTransitionThe following APIs have been added or removed from the reactdom stable entry pointcreateRootunstablecreatePortal removedThe following APIs have been added to the reactis stable entry pointSuspenseListisSuspenseListThe following feature flags have been changed from experimental to trueenableLazyElementsenableSelectiveHydrationenableSuspenseServerRendererTodo Update tests once artifacts are built
Added new GitHub issue form for React DevTools bug reports;Add a new GitHub issue form template for DevTools bug reports. Update the React DevTools issue reporting flow toYou can demo this new form in action here.Demo    newissueworkflowKapture..at....mp
Renamed function in error log issue;SummaryTest Plan
Enable setJSRespondersetIsJSResponder for React Native Fabric;SummaryReenable setJSResponder setIsJSResponder for RN Fabric.What could possibly go wrongTest PlanWe have tested this extensively internally and will test before landing any ReactJS sync to the RN repo.
Fizz Make some tests more resilient to implementation details;There are some invisible extra template tags inserted into Fizz atm for the IDs. It's not great and we'll probably optimize them away somehow but it'll likely be something in the HTML there.Also the order of valueselect attributes swapped so we shouldn't test the exact HTML.
Fizz Convert emulatedFizz PartialHydration tests to Fizz tests;When implementing PartialHydration I simulated what Fizz would do in the future in the tests. This ports those to proper Fizz tests with hydration so that we don't rely on implementation details which varies slightly in the tests.Notably I left some comments where Fizz doesn't do the right thing with SuspenseList yet.
Updated release scripts to work around GitHub Circle CI integration problems;The GitHubCircleCI issue is blocking the DevTools release This updates the release scripts so they can accept a build parameter in addition to a commit parameter.So before we would run eitherscriptsreleasedownloadexperimentalbuild.js defaults to latest in masterWe can still do that now explicitlyscriptsreleasedownloadexperimentalbuild.js commitmasterBut we can also doscriptsreleasedownloadexperimentalbuild.js buildnumberHere's it working even with a revision that GitHubCircleCI are out of sync on
Fix DevTools bug with SuspenseLegacyHidden component;Resolves        The text was updated successfully but these errors were encountered
Allow complex objects as children of option only if value... is provided;This one has bothered me for a while and as part of rewriting SSR now seems like a good time.For legacy reasons we previously used React.Children to flatten the children of option. The reason for this is becase we need to know what the value will be so that we can see if it matches what the selected value passed to select was to know if this is the selected one. Also option only accepted text nodes as children anyway now this is not strictly true because template tags are allowed.However at some point we stopped relying on flattening on the client because we just rely on the value that the browser provides after flattening.React.Children is not really ever best practice because it doesn't allow for certain abstractions and so it lags in capabilities. Ideally it would never be used and it can be deadcode eliminated but that would never be the case if React itself has a dependency on it. So the goal here is to remove that dependency and to simplify things by just using the regular children path.However as I noted in it's fine that we don't know what the implicit value is if we know the explicit value. In fact almost all usages of option provides an explicit value... attribute anyway. If you do that then why shouldn't you be able to use all the advanced abstraction features in the child position Such as function components that return strings but also allowing suspending in those as well as the child position of options in Flight.This PR enables you to pass any children to option.We still rely on flattening on the server if no value is provided. Therefore I always warn if a value is not provided and complex children are provided. I also added warning if dangerouslySetInnerHTML is used without a value attribute.Additionally it's invalid to pass a div as a child of option because it won't parse as HTML. That automatically gets covered by the DOM nesting warning in this approach. This new approach adds comment nodes between text nodes. That seems to work fine in Chrome but not sure if there's a browser that has issues with those.Additionally it might not be valid to pass fbt as a child of option because we might have previously relied on it being toStringed which triggers the string mode. Now it's being rendered as an element which might let it be rendered as a span. That might lead to DOM nesting warnings. We need to find a way to fix that in fbt because this is not the place to fix that. Additionally for the purpose of comparing the value of the option fbt shouldn't be used. It needs to pass a separate value prop.       The text was updated successfully but these errors were encountered
fix version in nvmrc;SummaryWhen I execute yarn I get an error.AssertionError ERRASSERTION Current node version is not supported for development expected .. to satisfy .. || .x || .x || .x || .x.The devEngines field in package.json file is   reactpackage.json   Lines to  in eaa       devEngines     node .. || .x || .x || .x || .x        But the node version in .nvmrc file is   react.nvmrc   Line  in eaa       v..    Test PlanNo.       The text was updated successfully but these errors were encountered
Add back root override for strict mode;OverviewAdds back a unstablestrictMode option to the root which allows opting into strict mode at the root.This keeps the levels implementation which is used for the strict effects GK but collapses it to a single option until theres sufficient demand for opting into different levels at the root.
DevTools Store emits errors before throwing;The Store should never throw an error without also emitting an event. Otherwise Store errors will be invisible to users but the downstream errors they cause will be reported as bugs. For example Emitting an error event allows the ErrorBoundary to show the original error. Note that this may result in a slight uptick of errors being reported in the short term but should make bug reports more actionable.The store still throws as well since throwing is valuable for local development and for unit testing the Store itself.For example the underlying cause of is now shown in the error overlay
Add GitHub API query to bug report template;This may help debug why sometimes the GitHub API search seems to not find a match when it should.       The text was updated successfully but these errors were encountered
StrictMode includes strict effects by default;Backs out some of the changes from . Builds on top of .Removed unstablelevel attribute support for the time being
createRoot API is no longer strict by default;Backs out some of the changes from .This PR has been split into three commits to simplify the review processThe createRoot API no longer defaults to strict mode The unstablestrictLevel option has also been removed for nowTests have been updated accordingly Support was left in place for defaulting a root into strict effects mode if the createRootStrictEffectsByDefault feature flag is enabled but this feature flag is only enabled within Facebook behind a GK.
Improve DevTools bug template text;Lots of issues get reported with incomplete or missing repro info. Maybe this change in template text will help.
Update timeslicing demo;OverviewThis PR makes some changes to the timeslicing demo includingRemove flushSync since we flush sync by default now.Switch from Scheduler to startTransition.Fix some CSS issues.Use an experimental React build by default.Screen    Screen.Recording..at....PM.mov
Added test fixture for scheduling profiler;Related to Adds a test fixture for the scheduling profiler live at reactschedulingprofiler.vercel.app.Right now the fixture shows that the experimental OSS release worksOn an ondemand server though these marks are being logged       The text was updated successfully but these errors were encountered
Unify React.memo and React.forwardRef display name logic;Alternative to Unify React.memo and React.forwardRef display name logic.The critical changes in this PR are small only ReactMemo.js and ReactForwardRef.js. The rest is just added tests.React.memoInner name onlyfunction Innerprops const Memoized React.memoInner Warningserrors logged while rendering Memoized will have the format Error in Inner in Inner at Outer name only const Memoized React.memoprops Memoized.displayName 'Outer' Warningserrors logged while rendering Memoized will have the format Error in OuterInner and outer namesfunction Innerprops const Memoized React.memoInnerMemoized.displayName 'Outer' Warningserrors logged while rendering Memoized will have the format Error in Outer in Inner at No namedisplay name const Memoized React.memoprops  Warningserrors logged while rendering Memoized will have the formatsupsup Error in MemoforwardRefInner name onlyfunction Innerprops ref const Forwarded React.forwardRefInner Warningserrors logged while rendering Forwarded will have the format Error in ForwardRefInner in Inner at Outer name only const Forwarded React.forwardRef props ref Forwarded.displayName 'Outer' Warningserrors logged while rendering Forwarded will have the formatsupsup Error in OuterInner and outer namesfunction Innerprops ref const Forwarded React.forwardRefInnerForwarded.displayName 'Outer' Warningserrors logged while rendering Forwarded will have the format Error in Outer in Inner at No namedisplay name const Forwarded React.forwardRef props ref  Warningserrors logged while rendering Forwarded will have the formatsupsup Error in ForwardRef Note that because of how ReactComponentStackFrame is implemented an anonymous inner function will not display a stack frame. We could add a fallback name e.g. Anonymous or Unkonwn like we do in other places if we'd like to add this functionality though.
subtreeFlag warning Fix legacy suspense false positive;Legacy Suspense is weird. We intentionally commit a suspended fiber in an inconsistent state. If the fiber suspended before it mounted any effects then the fiber won't have a PassiveStatic effect flag which will trigger the missing expected subtreeFlag warning.To avoid the false positive we'd need to mark fibers that commit in an incomplete state somehow. For now I'll disable the warning in legacy mode with the assumption that most of the bugs that would trigger it are either exclusive to concurrent mode or exist in both.       The text was updated successfully but these errors were encountered
DevTools refactor Profiler commit tree reconstruction to be iterative;Resolves
Preparing DevTools .. .. release;No description provided.
DevTools should iterate over siblings during mount;Resolves and Potentially resolves and See this comment for more info commentPreviously DevTools recursed over both children and siblings during mount. This caused potential stack overflows when there were a lot of children e.g. a list containing many items.Given the following example component tree AB C DE F GA method that recurses for every child and sibling leads to a max depth of AA BA B EA B CA B C DA B C D FA B C D F GThe stack gets deeper as the tree gets either deeper or wider.A method that recurses for every child and iterates over siblings leads to a max depth of AA BA B EA CA DA D FA D F GThe stack gets deeper as the tree gets deeper but is resilient to wide trees e.g. lists containing many items.
Fizz Allow dangerouslySetInnerHTML in option;I didn't think this was valid because if you don't provide a value for the option we don't know whether to select it or not. However it's arguably valid if you do provide the value attribute.We should probably have a warning if you provide dangerouslySetInnerHTML and don't provide a value attribute though. Both server and client.
DevTools supports multiple modal dialogs at once;Adds support for showing more than one modal dialog at a time.       The text was updated successfully but these errors were encountered
Fizz Let value override defaultValue if both are specified;There's a DEV warning for this case but we still test for the production behavior.It's a bit annoying since it might be more efficient to just rely on the loop and iteration order. I was almost ready to die on this hill but not quite.
DevTools console patching should handle Symbols without erroring;Resolves        The text was updated successfully but these errors were encountered
Update supported devEngines;SummaryChange devEngines to indicate the required node version to perform every development workflow.With node.. yarn build reactserverdomwebpacknodeloader throws with node .scriptsrollupbuild.js reactserverdomwebpacknodeloaderhomeepslonDevelopmentforksreactscriptsrollupbuild.js throw err Error Cannot find module 'reactserverdomwebpacknodeloader'Require stack homeepslonDevelopmentforksreactscriptsrollupbuild.js at Function.Module.resolveFilename internalmodulescjsloader.js at Function.resolve internalmodulescjshelpers.js at createBundle homeepslonDevelopmentforksreactscriptsrollupbuild.js at buildEverything homeepslonDevelopmentforksreactscriptsrollupbuild.js  code 'MODULENOTFOUND' requireStack 'homeepslonDevelopmentforksreactscriptsrollupbuild.js' error Command failed with exit code .Probably because of the way exports field in packagesreactserverdomwebpackpackage.json is constructed.exports  . .index.js .plugin .plugin.js .writer  reactserver  node .writer.node.server.js browser .writer.browser.server.js  default .writer.js  .writer.node.server .writer.node.server.js .writer.browser.server .writer.browser.server.js .nodeloader .esmreactserverdomwebpacknodeloader.js .noderegister .noderegister.js .package.json .package.json With node.. the command passes.Test Plan CI green yarn build reactserverdomwebpacknodeloader passes in node.. and node..
Remove unnecessary type cast;SummaryIncreases type coverage from . to . ... ... just because we got rid of one expression. git checkout master npx flow coverage packagesreactdomsrcclientReactDOMLegacy.jsCovered . of expressions git checkout epslonchorerootcoverage npx flow coverage packagesreactdomsrcclientReactDOMLegacy.js Covered . of expressionsTODO comment was added in bad. The flow bug was likely fixed during an update to flow since the type didn't change in the meantime.Test Plan CI green
Fizz Switch the isPrimaryRender flag based on the stream config;It's possible for Fizz and Fiber to coexist for example. If they both end up using the same context field then that can clash.It's also possible for e.g. DOM and ART to coexist on the server.Or Legacy Fizz DOM and Modern Fizz DOM.Instead of protecting against every possible clash I just took the most common one. E.g. renderToString clashing with either Fiber or Modern Fizz.I flip it in the legacy stream config so that renderToString use the secondary Context fields.
Fizz Escape style values;I missed this case. When it's numeric we don't have to escape it. We already escape it if it's a custom CSS property.This is covered by the legacy tests.
Fizz Implement lazy components and nodes;Implements React.lazy either in the component type position the officially supported use case and the node position used by Flight.This allows code on the server to be async loaded. It doesn't actually transfer any hints about what chunks you might want to eagerly preload like what reactloadable does. That's something you get for free with Server Components but not plain lazy.       The text was updated successfully but these errors were encountered
Enable strict effects mode for React Native Facebook builds;No description provided.
Expiration should do nothing except disable time slicing;We have a feature called expiration whose purpose is to prevent a concurrent update from being starved by higher priority events. If a lane is CPUbound for too long we finish the rest of the work synchronously without allowing further interruptions.In the current implementation we do this in sort of a roundabout way once a lane is determined to have expired we entangle it with SyncLane and switch to the synchronous work loop.There are a few flaws with the approach. One is that SyncLane has a particular semantic meaning besides its nonyieldiness. For example flushSync will force remaining Sync work to finish currently that also includes expired work which isn't an intended behavior but rather an artifact of the implementation.An even worse example is that passive effects triggered by a Sync update are flushed synchronously before paint so that its result is guaranteed to be observed by the next discrete event. But expired work has no such requirement we're flushing expired effects before paint unnecessarily.Aside from the behaviorial implications the current implementation has proven to be fragile more than once we've accidentally regressed performance due to a subtle change in how expiration is handled.This PR aims to radically simplify how we model starvation protection by scaling back the implementation as much as possible. In this new model if a lane is expired we disable time slicing. That's it. We don't entangle it with SyncLane. The only thing we do is skip the call to shouldYield in between each time slice. This is identical to how we model synchronousby default updates in React .       The text was updated successfully but these errors were encountered
Delete unreferenced type;Had already deleted all the uses but didn't remove the type itself.
Fizz Restore context after an error happens;Typically we don't need to restore the context here because we assume that we'll terminate the rest of the subtree so we don't need the correct context since we're not rendering any siblings.However after a nested suspense boundary we need to restore the context. The boundary could do this but since we're already doing this in the suspense branch of renderNode we might as well do it in the error case which isn't very perf sensitive anyway.
Revert Emit reactroot attribute on the first element we discover;This reverts .The idea was to implement datareactroot for parity with the old renderer so that we could run the tests without manually branching on hundreds of tests. However this fix wasn't quite equivalent because the original root wasn't well defined. It was only injected when it was the first element and not when abstractions are used. At least for some of them. I'm not actually even sure what the semantics are.It actually started failing more tests than it helped with.This also broke something internally that relied on it not being added.So trying to fix this just made it worse.
DOC Update Featuretools link in Related Project Page;What does this implementfix Explain your changes.This PR updates the link used for Featuretools in the Related Projects page of the documentation. The Featuretools repo was moved from the FeatureLabs organization to the alteryx organization and this change points to the correct repo directly bypassing the redirect that is in place with the old URL.       The text was updated successfully but these errors were encountered
DOC Update roadmap.;What does this implementfix Explain your changes.This pull request updates the roadmap striking out solved items updating link to active PRs.Any other commentsI need to link this page and I found interesting to update it.Note that a lot of issues there are milestoned as . it could be interesting to check which ones are realistic.I think it is also nice to see that things move forward... keep up the good work ...
DOC Add Evalml to scikitlearn related projects;Reference IssuesPRsNoneWhat does this implementfix Explain your changes.This implementation just adds EvalML to the AutoML projects that use scikitlearn.Any other commentsThanks for maintaining a great repo       The text was updated successfully but these errors were encountered
CI Fix min dependencies for scikitimage.;Reference IssuesPRsFollow up of What does this implementfix Explain your changes.Fix the minimal version of dask to make minimal version of scikitimage workAny other commentsping GaelVaroquaux
TST Changes assert to pytest style in decomposition datasets covariance compose;Reference IssuesPRsReferences What does this implementfix Explain your changes.Changed the assertraises assertraisemessage assertwarns in the following filessklearncomposeteststestcolumntransformer.pysklearncovarianceteststestrobustcovariance.pysklearndatasetsteststestopenml.pysklearndatasetsteststestsamplesgenerator.pysklearndecompositionteststestnmf.py
TST Removed the estimators from the IGNORED list in testfitdocstringattributes;Reference IssuesPRsFixes What does this implementfix Explain your changes.Attributes were documented already but forgot to remove the estimators from the ignore list.
DOC Replace broken link in clustering.rst;What does this implementfix Explain your changes.The link httpwildfire.stat.ucla.edupdflibraryfowlkes.pdf referenced here is broken.I suggest replacing it with the publisher's link httpswww.tandfonline.comdoiabs...       The text was updated successfully but these errors were encountered
DOC Add notes about the location of function body.;Action based on .
Update ensemble.rst;I don't believe that negative binomial and negative multinomial distributions are used in these loss functions. The documentation is thus potentially confusing because it seems like it is saying that a binomial deviance uses the logliklihood of a negative binomial distribution. So I move the word 'negative' before 'loglikelihood.' Hopefully this makes it more clear that we're just talking about treating log logliklihoods as the loss function.Reference IssuesPRsWhat does this implementfix Explain your changes.Any other comments       The text was updated successfully but these errors were encountered
DOC typo in docdeveloperstips.rst;Reference IssuesPRsWhat does this implementfix Explain your changes.Fixes a typo in docdeveloperstips.rst.Any other comments       The text was updated successfully but these errors were encountered
DOC correct behavior of needsthreshold in makescore;Reference IssuesPRsFixes .See also comment and PR What does this implementfix Explain your changes.Correct the description of the behavior of needsthresholdTrue in makescore.Any other comments
Update svm.rst. For the issue;There was a wrong formulation of Linear SVC. In the hinge loss term was missing.Fixes
MNT Move parameter validation from init to fit in neighbors module;Reference IssuesPRsCloses .What does this implementfix Explain your changes.This PR moves parameter validation from the init method to the fit method in the neighbors module to follow scikitlearn conventions.
TST Adjust atol in testridgeregressioncheckarguments on bit;Reference IssuesPRsSaw failing test on What does this implementfix Explain your changes.Adjust the atol for bit.       The text was updated successfully but these errors were encountered
MRG CI Push Scipy minimum version to ... Remove Python . from builds.;Reference IssuesPRsCloses closes .What does this implementfix Explain your changes.Pushes Scipy minimum version to ...Pushes Numpy minimum version to ...Pushes matplotlib minimum version to .. for compatibility with python.Drop . builds.Configure Azure builds to run on ubuntu Focal . LTS.Adds one bionic . LTS azure build with scipy from condaforge and python .Move the Linux bit build from ubuntu to Debian as debian still support bit and is distributed with python ..Any other commentsBefore I start fixing the version conflicts please let me know if the defined set of builds fits your requirements. Thanks.maybe ping ... ogrisel thomasjpfan rth
CLN Replace self.steps with self.steps;self.steps and self.steps are both used. The former appears eight times and the latter twice. This change makes the code more consistent. Thanks for the suggestion from jnothman and NicolasHug .Reference IssuesPRsNoneWhat does this implementfix Explain your changes.NoneAny other commentsNone       The text was updated successfully but these errors were encountered
CI Uses minimum version for docmindependencies;Reference IssuesPRsCloses Related to What does this implementfix Explain your changes.Sets the minimum version for doc build dependencies
MNT fix bad shebang in builddoc.sh;Introduced by me in e thanks for noting jjerphan       The text was updated successfully but these errors were encountered
DOC Add communication guidelines.;What does this implementfix Explain your changes.Numpy has recently add to its documentation some communication guidelines. I find them quite relevant and I believe it could be useful to add them to our review guidelines.Thanks for considering it.Perhaps reshamas might want to have a look Thanks
DOC Add a note about the involvement of the contributor in maintenance.;What does this implementfix Explain your changes.This pull request add a note about the fact that contributors proposing new features will be asked to participate in the maintenance of their code at least initially.The aim of this note is twofoldreduce the number of unmaintainable lines of codeengage new maintainersdevelopers on the long term.Any other commentsThis is the policy of the linux project see for example on submitting kernel patches.
DOC Add figure tag properties in css.;Reference IssuesPRsFixes What does this implementfix Explain your changes.Add css directives for the figure html tag.Ping glemaitre       The text was updated successfully but these errors were encountered
DOC Add note for videos improve syncing instructions;Reference IssuesPRsClose Close What does this implementfix Explain your changes.Add note for videos due to default branch change unify text styles for branch namesAny other commentsNone
CLN Remove kwargs Neighbors init;These estimators have kwargs in init and it looks like they can be safely removed.
DOC Fix typo on comment about tSNE;This is just a small correction in the text.An alternative fix could be thisIt might be the case that dimensions are too low to accurately represent the internal structure of the data.       The text was updated successfully but these errors were encountered
CLN Fix addnode parameter name;Reference IssuesPRsFix What does this implementfix Explain your changes.Correct parameter names in the addnode function of the Tree class   scikitlearnsklearntreetree.pxd   Lines to  in acced       cdef SIZEt addnodeself SIZEt parent bint isleft bint isleaf     SIZEt feature double threshold double impurity     SIZEt nnodesamples     double weightednsamples nogil except       scikitlearnsklearntreetree.pyx   Lines to  in acced       cdef SIZEt addnodeself SIZEt parent bint isleft bint isleaf     SIZEt feature double threshold double impurity     SIZEt nnodesamples     double weightednnodesamples nogil except    Any other commentsNo obvious traceback encountered but the parameter would not be correct input.
DOC Added return value info to SimpleImputer.transform docstring;What does this implementfix Explain your changes.transformX in SimpleImputer documentation was missing return value. Also missing from the definition as linked in documentation.Added Returns section to the docstring for SimpleImputer.transformAny other commentsWasn't entirely sure on the type being returned.
MNT clean futurewarning for . | deprecatepositionalargs;Remove deprecatepositionalargs for . part of .These decorators have been added in . see .Now that positional arguments are not allowed we can safely reorder parameters when appropriate maybe better in a separate issue though.Commands usedgit lsfiles | xargs sed i e 'aNbas deprecatepositionalargs\ng'git lsfiles | xargs sed i e 'aNbas deprecatepositionalargs\ng'git lsfiles | xargs sed i e 'aNbasdeprecatepositionalargs\ng'git lsfiles | xargs sed i e 'aNbasfrom ...utils.validation import deprecatepositionalargs\ng'git lsfiles | xargs sed i e 'aNbasfrom ..utils.validation import deprecatepositionalargs\ng' git lsfiles | xargs sed i e 'aNbasfrom .utils.validation import deprecatepositionalargs\ng' git lsfiles | xargs sed i e 'aNbasfrom .validation import deprecatepositionalargs\ng' git lsfiles | xargs sed i e 'aNbas deprecatepositionalargsg' git lsfiles | xargs sed i e 'aNbasimport deprecatepositionalargsimportg'  Then manual checks with git grep deprecatepositionalargs
TST Changes assert to pytest style in svm manifold linearmodel featureextraction decomposition;Reference IssuesPRsReferences What does this implementfix Explain your changes.Changed the assertraises assertraisemessage assertwarns in the following filestestfactoranalysis.pytesttext.pytestbayes.pytestransac.pytestsag.pytestlocallylinear.pytestbounds.pytestsparse.pytestsvm.py
DOC correct the orders of the x labels;There was a mistake in the order of the x labels in the imputation of the missing values tutorial which led to the figure with 'Mean Imputation' being exchanged with 'KNN Imputation'cc Unusualalex
DOC Retroactive changed model entry;changed the way we consume the rng for the center initialization of KMeans and we forgot to mention that in the changelog as pointed out in .ping glemaitre
DOC add import in binary tree class examples;What does this implementfix Explain your changes.Currently in the doc string of the binary tree class examples it doesn't include an import statement e.g. in the examples section here httpsscikitlearn.orgstablemodulesgeneratedsklearn.neighbors.BallTree.htmlA copy paste of the example codeimport numpy as nprng np.random.RandomStateX rng.randomsample points in dimensionstree BallTreeX leafsizereturns NameError name 'BallTree' is not definedThis PR adds the import statement at the top so it now readsimport numpy as npfrom sklearn.neighbors import BallTreerng np.random.RandomStateX rng.randomsample points in dimensionstree BallTreeX leafsize Any other commentsI was able to builds the docs locally to test this
Remove the unused import of cscmatrix;cscmatrix is imported but not being used anywhere.
DOC Lowers precision for LinearRegression's doctest;Follow up to I still see this doctest randomly fail.CC glemaitre       The text was updated successfully but these errors were encountered
TST Changes assert to pytest style in mixturetests;Reference IssuesPRsReferences See also What does this implementfix Explain your changes.Changed the assertraises assertraisemessage assertwarns in mixtureteststestgaussianmixture.py and mixtureteststestbayesianmixture.py to pytest.raises.
FIX support multiple strsingle category with dense DictVectorizer;closes Add support for multiple strings single category with dense array in DictVectorizerAdd a nonregression test to check that sparsedense lead to the same output for fittransform transform inversetransform.       The text was updated successfully but these errors were encountered
CI Fixes MAC ar build error;Reference IssuesPRsFixes What does this implementfix Explain your changes.Uses usrbinar instead of llvmar.       The text was updated successfully but these errors were encountered
MAINT Remove tests for metric configuration ignoring poslabel;Reference IssuesPRsClose .Credit qinhanmin who opened of which this PR is just a copy. Unfortunately he removed his branch so I couldn't retrieve his commits.What does this implementfix Explain your changes.Get rid of redundant tests since . the listed metrics do not support poslabel anymore if I understand correctly.       The text was updated successfully but these errors were encountered
DOC use reshape instead of manually reshaping in example;What does this implementfixA very small change my first contribution to sklearn to the plotcolorquantization.py example makes it simpler and more efficient.
Release ..;Pending PR to be included in this releasehttpsgithub.comscikitlearnscikitlearnpullsqisAopenisAprmilestoneA..Checklist update news and what's new date in release branch update news and what's new date and sklearn dev version in main branch check that the for the release wheels can be built successfully merge the PR with cd build commit message to upload wheels to the staging repo upload the wheels and source tarball to httpstest.pypi.org create tag on the main github repo upload the wheels and source tarball to PyPI httpsgithub.comscikitlearnscikitlearnreleases draft confirm bot detected athttpsgithub.comcondaforgescikitlearnfeedstock and wait for merge httpsgithub.comscikitlearnscikitlearnreleases publish fix the binder release version in .binderrequirement.txt see announce on mailing list and on twitterList of cherrypicked commitspick c CI Dynamically select unpack directory pick ef MNT remove .githubworkflowssyncpullrequest.yml drop cbbf TST add pyloss for tests in sgdfast.pyx pick eafe DOC Fix broken link to SLEPs in the Governance docs pick ba DOC Updates confusionmatrix.py to match parameter in codepick fe DOC more updates to maintainers' doc pick cd DOC Typo addressed in confusionmatrix docstring pick ebb Added self to abstract fit method pick fbfc DOC Update logos from Consortium funders pick df BLD Add clean command to skip list pick ba FIX change stats.mode to Counter for better performance with object dtype drop eb MNT Switch master to ..dev pick eced DOC Fix doc of defaults in sklearn.utils.sparsefuncs.py pick ada MNT fix GitHub pull request template link pick f DOC explain how to use custom edge bins in KBinsDiscretizer pick d CI Build wheels for the ARM architecture pick eedda BUG Fixes fetchkddcup for returnXy and asframe pick b DOC fix citations for de Leeuw in IsotonicRegression pick b Trigger cd build to test emptypick d DOC fix multiclass AUC formulas in user guide drop ed MNT better error message in RidgeCV pick bca CI Avoid Travis stuck on failure pick e CI Only build wheels on main repo pick befa DOC correct some typo in bugtriaging.rst pick da DOC Revises a sentence in the description of RFE pick bd MNT skip preprocessing.rst when pandas is not installed pick ec MNT change . to . and . to . in deprecation messages pick cff CI Removes scipydev from travis pick d DOC correct shape of returned ndarray in BinaryTree.query pick abd DOC Fix typo in Gaussian Process docs drop dcea ENH Avoid repeated input checks in kmeans pick afa DOC removed algorithm parameter of CCA pick a DOC Improved consistency of the docstring of an ignored y parameter pick dee DOC Fix typo in experimental features documentation pick dc MNT silence spurious FitFailedWarning in testsearchcv pick aecb DOC fix simple typo variales variables pick afbdb MNT remove docstring check in pypy build pick e CI Use Travis secret tokens to upload the ARM wheels pick aaad Trigger cd build to test the result of emptypick bcd DOC .. release highlights formatting drop cdfb Parallelize initbounddense in Elkan algorithm drop bf FIX ElasticNet.fit does not modify sampleweight in place drop fca ENH Adds nfeaturesin checking in gaussianprocess drop fb ENH Adds nfeaturesin checks to linear and svm modules pick defe CI Fixes scipydev build instance drop dacf ENHDOC Add additional validation for usersupplied gram matrixes drop dfce DOC Add var attribute and deprecate sigma in GaussianNB drop def Add Github Discussions to issue template. drop deb ENH add fontname argument in exportgraphviz for nonEnglish characters drop bb FIX An overflow issue in HashingVectorizer pick dd Add failsifpypy to testnonnegativehashingvectorizerresultindices pick bb DOC fix year release ..pick bdd DOC Generalise norm notation in NMF docstring. drop FIX correct Lasso.dualgap to match the objective in its docstring pick dbe DOC Add scikeras to related projects. drop be FIX Incorrect warning when clustering boolean data pick eaa FIX validate handleunkown strategies in OrdinalEncoder drop f MRG Deprecates 'normalize' in LinearRegression base.py pick cf MNT replace master with main drop d DOC reorder what's new . pick a DOC Clarify the docstring of dict learning about the inits drop ca ENHDEP add class method and deprecate plot function for confusion matrix pick bbf FIX BIRCH self.partialfit self.partialfit pick feb FIX checkdecisionprobaconsistency random failure drop fc FEA Add SplineTransformer drop f FIX discrete Naive Bayes model fitting for degenerate singleclass case pick ec MNT use bool instead of np.bool to silence FutureWarning scipydev drop bbbf FIXMNT do not support OOB score for multiclassmultioutput and additional refactoring pick cf FIX Fixes testcomparetoelki failure drop eff MNT Ignore unused variable in pipeline. pick effa DOC replace plotconfusionmatrix in See Also section drop abb CLN Removes duplicated or unneeded code in ColumnTransformer pick f DOC update Keras description in related projects pick cafcd DOC Add URL to reference of Minka paper used in PCA pick fb DOC Add translation section in related projects drop aee ENH Checks nfeaturesin in semisupervised pick fae DOC Fixed typo in a comment drop d ENH Checks nfeaturesin in neighbors pick ac DOC Fixes formating in featureextraction module pick cf DOC clarify docstrings fixes links to references in linear models pick DOC Correct dataframe shape in fetchcovtype documentation pick ee DOC use notebook style and diagram for feature selection example pick abb DOC remove duplicated line of code in linearmodel.rst drop ffed TST add binary and multiclass test for scorers pick dfee DOC Add loglink to Gamma and Poisson Regressor pick f removing incrementalPCA example in basePCA drop b API Removes tolNone option from HistGradientBoosting drop aaea API Removes the use of fit and partialfit in Birch pick c CLN Fixes PendingDeprecationWarning in CountVectorizer pick e TST Ignores PendingDeprecationWarning in tests drop beab Simplify computation of radius to match BIRCH more closely pick f TST Filter out warning for pyamg using deprecated behavior drop af ENH Adds nfeaturesin checking in crossdecomposition pick c CI Check only title for regex labeling pick a DOC Balanced accuracy score adjusted doc fix pick a CI Skips test in loadingotherdatasets.rst based on env flag pick cce DOC fix ungrammatical sentence in doc of SelectFromModel pick abd FIX Don't overwrite input sampleweight in LogisticRegression pick d EXA use pipeline in feature engineering example with RFRTGBDT drop cd FIX nan bug in BaseLabelPropagation pick bce DOC Updates css consistent admonition styling pick eab DOC Remove algorithm flag for PLS regression drop d Dictionary Learning transformalpha default equal to alpha pick bab DOC use diagram and simplify pipeline in stacking example drop fdc FIX Ensure determinism of SVD init in dictlearning pick dbab CI Update ICC install commands pick f Fix minpos when all negative speed up drop ade MAINT Use checkfiniteFalse in sklearn.manifold pick cc DOC correct behavior of precompute with sparse input drop d ENH Checks nfeaturesin in discriminantanalysis pick d FIX Add with context manager to open file from OpenML in test file pick fa DOC rename Birch to BIRCH in docs drop afbb MAINT Remove the use of assertraises in modelselectionteststestsearch drop cb ENH Adds categories with missing values support to fetchopenml with asframeTrue drop dbdbe MNT simplify pyproject.toml by using oldestsupportednumpy cd build drop e TST replace assertraises by pytest.raises in dummy module drop TST Suppress multiple active versions of dataset warnings in testopenml.py drop bdf TST replace assertraises with the pytest.raises context manager in dummy module emptypick EXA remove warning when setting yticks in permutation importances examples pick ca DOC fix a typo in kmeans.py pick cfe DOC simplify SVM margin illustration by chaging plotting style pick beb DOC Documents nfeaturesin in crossdecomposition pick f EXA improve example of forest feature importances drop efd ENH Adds nfeaturesin checking to featureselection pick bcc MNT specify main branch in asv config for the publish command drop cfa MNT Fix divide by zero error thrown by randomchoicecsc during a test run pick af DOC clarify variance estimation in PCA implementation pick ef DOC Explicitly remove support for precompute'auto' for Lasso pick a FIX index sampleweight in leastabsolutedeviation loss in HistGradientBoosting drop ea DOC reorder whats new sectiondrop MNT Consolidate incrementalweightedmeanandvar into incrementalmeanandvar pick cbebb DOC Evaluating estimator performance grammar fix pick aff DOC Better information about transductive and inductive cluster methods drop fdeb ENH Allow multiple scorers input to permutationimportance drop daf TST Fix RuntimeWarning invalid value encountered in testcalibration.py drop fee TST replace assertwarns by pytest.warns in ensembletests drop ad TST replace assertwarns by pytest.warns in module svmtests drop cdcff TST replace assertraise by pytest.raises in ensemble module drop cb FIX RuntimeWarning by dividing by zero in testkernelgradient drop ENH Checks nfeaturesin in covariance pick fedc TST Fixes logistic partialdependence test for bit wheels pick abd FIX Converted output to int in randomprojection mindim drop dad FIX CountVectorizer does not check for lowercase in vocabulary drop eeb ENH Better err messages for contamination in outlier detectors pick faf TST Fixes docstring ordering and testdocstringparameters drop bb Fix RuntimeWarning by dividing by zero in testradiusneighborsclassifierzerodistance drop dac TST replace assertraise by pytest.raises in linearmodel pick aba DOC oobscore is only available when bootstrapTrue drop c DOC update copyright year forever pick bff FIX Gives a unique id to html visualization pick bb DOC Fix typo in LDA User Guide pick de DOC Fix closing backtick in IterativeImputer pick da DOC Remove extra word from LOF docstring pick fdd DOC Fix broken link to wikipedia in semisupervised UG drop cc TST remove assertwarns in featureextractiontests module drop TST Replace the use of assertwarns messages in clustertests module pick cdc DOC clarify that niternochange is not just for earlystopping for SGD pick eeca DOC Replace onnxmltools by sklearnonnx pick bea DOC update whats new . for backport drop af ENH Add meanpinballloss metric for quantile regression drop ecfca Fix underflow issues due to float precision in TSNE pick cdd DOC enetpath docstring fix subsuperscript swap pick b DOC fix missing closing quote in user guidedrop bef TST replace assertwarns by pytest.warns in modelselectiontests drop bbc FIX RuntimeWarning by dividing by zero in testsanitycheckplsregressionconstantcolumnY pick cac DOC Fixed typos in documentation drop fdf TST Improve ridge solver consistency tests drop cebed TST replace assertraise by pytest.raises in neighbors module drop dbdb MRG fix Normalize for linear models when used with sampleweight pick EXA Fix overlapping titles in clustering overview drop da TST replace assertraise with pytest.raises in testbase.py drop e ENH Adds nfeaturesin to ensemble module drop ba CI Fixes twitter workflow pick c MNT Set noninteractive installation mode for the pypy job drop c ENH Adds nfeaturesin to naivebayes drop fabc CI Add workflow to check Changelog entry. pick edd TST Does not use cache in openml test drop fc CI Fix shell syntax introduced in drop ab CI Fix originmaster originmain in checkchangelogdrop b ENH Adds nan passthrough in OrdinalEncoder drop ce FIX Don't scale nearconstant features to large values pick ddf MNT Clear travis installation script drop afc TST Use pytest.warns in sklearn.semisupervised tests drop fbfe CI Add trigging events to checkchangelog workflow. drop efae TST Allows isotonic and manifold drop dbe ENH Checks nfeaturesin after fitting in randomprojection pick d DOC Update calibration.rst drop abe ENH Enables common test for bicluster pick efcf DOC Fix documentation on pickle portability drop faf FIX bug in SplineTransformer.nfeaturesout drop dfabf TST replace asertwarns by pytest.warns in composetests pick cc FIX Do not call getfeaturenames for empty column selections drop ccbd Change assertraises to pytestraises pick db FIX race condition in getdatahome causing FileExistsError drop dbc TST replaces assertraises by pytest.raises in modelselectionteststestsplit.py pick a FIX Deep copy criterion in trees to fix concurrency bug pick a MAINT Update arff.py drop cbbb TST replaces assertraise by pytest.raises in modelselection drop ee TST Change assert to pytest style in teststestdiscriminant.py drop bdf TST Change assert from sklearn to pytest style in teststestmulticlass.py pick ef Add BNP Paribas Cardif testimonial. drop d PERF don't compute variance when normalize is False in linear models pick ee DOC Fixes spelling mistake in kmeans.py drop fe TST replace assertraise by pytest.raises in teststestmultioutput.py drop aed TST Uses pytest.raises in modelselectiontests drop adc Fix Calibrated classifier cv predictions with pipeline pick bebc MNT Make setup.py command parsing more robust pick af DOC Use term 'black people' instead of 'blacks' in Boston descr drop ENH Speedup confusionmatrix pick fd BUG Fixes verbose for grid search pick bfdb TST Do not use cache in testfetchopenmliris drop ccfabf TST Change assert from sklearn to pytest style in module linearmodeltests drop ede move kmpp public next to kmpp private drop fd RFC Make nonnegativefactorization call NMF instead of the opposite drop fec ENH Raises error in hingeloss when 'preddecision' is invalid drop eea MNT Remove absolute imports drop cbb ENH Optimize dot product order for LogisticRegression for dense matrices pick cc DOC Fix typo in plotmultimetricevaluation example drop ed ENH Deprecated the default randomstate in randomizedsvd drop acdea MNT Fix error message for Minkowski metric parameter drop b FIX RuntimeWarning by dividing by zero in testiforestwithuniformdata drop deaf ENH Adds numfeatures for arraylikes drop edcf TST Change assert from sklearn to pytest style in teststestpipeline.py drop bbf FIX RuntimeWarning division by zero in checkclassifiersonelabel drop fcf TST Add a test to check the consistency of the Ridge and ElasticNetlratio solutions pick e MRG Fix documentation for russelrao formula drop bc ENH Add periodic extrapolation to SplineTransformer pick edc CI Use conda instead of pip to install anacondaclient pick aa MAINT Python . in badge on README.rst pick fc DOC Added utils.genbatches in documentation drop eb ENH Better error for corrupted files in fetchkddcup drop cac MNT move PolynomialFeatures from data.py to polynomial.py pick ddf Fix typo in elastic net docstring. pick bfc DOC Correct scorer documentation drop bddb MRG ENH Consistent loss name for squared error drop ddc Removed assertwarnsmessage from gaussianprocesstests drop ccb Replaced assertraises from utilsteststestestimatorchecks pick edffa DOC Add scikitsurvival to related projects pick fec DOC Move Sacred to Experimentation frameworks pick e DOC Fix doc regarding requiredparameters drop a Stratified Group KFold implementation drop eaee TST Remove assert warn from preprocessing tests pick bfa DOC Update broken link in conftest.py pick ed DOC Fix doc for single linkage in feature agglomeration pick fdd DOC Fix typo in KDE metric docstring default value pick db DOC Fix load iris datasets pick DOC Fixed typo in crossvalpredict docstring drop cb MRG Linear OneClass SVM using SGD implementation pick eee DOC Clarified njobs parallelization in plotpartialdependence drop cfc ENH Checks nfeaturesin after fitting in mixture drop da MAINT Improve issue template drop dffbd FIX Adds checkarray to inversetransform of StandardScaler drop d TST Replace assertwarns in covariancetests pick dfdfb DOC Fix typo in Truncated SVD documentation pick fe ENH numfeatures for a d collection of dicts is undefined drop ffb Test and doc for nfeaturesin for sklearn.calibration drop d MNT Avoid catastrophic cancellation in meanvarianceaxis drop cccf ENH Adds support for drop handleunknownignore in the OneHotEncoder drop ddb TST Changes assert to pytest style in teststestnaivebayes.py drop bccd ENH more efficient numcombinations calculation in PolynomialFeatures pick aae FIX Approximate nearest neighbors in TSNE example drop f MNT Remove HistGradientBoosting from experimental drop ed ENH Record output of transformers in ColumnTransformer drop f DOC Adds version added to outputindices in ColumnTransformer pick bf DOC Use the canonical Wikipedia link drop f DOC Fix order of whatsnew entries drop API Adds predictparams for Pipeline proba delegates drop ceb FIX Ignore zero sample weights in precision recall curve drop aafba MNT Improve Nearest Neighbor documentation code consistency pick bbf Add APHP to the Consortium sponsors pick ce DOC Fixes style for versionadded drop cfacf DEP Deprecate 'normalize' in ridge models drop dfbda CI Add a check for milestones. drop cb CI Fix string comparison in milestone workflow drop bfc CI Removes check milestone drop f TST Fixes testpartialfitoneclass pick dffc DOC Fix incorrect scaling in the RBM example drop ce TST Add a test for metaestimators with non tabular data drop eef ENH Improve the creation of KDTree and BallTree on their worstcase time complexity drop e FIX Let ColumnTransformer.getfeaturenames handle transformers with nonstring feature names drop fb TST Remove redundant max iter in sklearnlinearmodeltests pick dffab DOC Update attribute docstrings in multilayerperceptron.py pick abc DOC Fix versionchangedversionadded in OneHotEncoder pick aef DOC add explicit message regarding shuffling in default CV drop bda ENH Adds finalestimator in html repr for Stacking drop af TST Changes assert to pytest style in testconfig.py and testkernelapproximation.py drop ea TST replace assertraises by pytest.raises in testleastangle testomp testtesttheilsen drop eb TST Changes assert to pytest style in testrandomprojection.py pick dacd FIX MultiOutputRegressor correctly ducktypes fitted estimators pick dd FIX missing space in import in svmbase.py drop ff FIX allows TransformedTargetRegressor to take nD target pick bdd DOC Fixed typo in clustering.rst pick fc FIX BaseSuccessiveHalving class groups support drop bdd CLN Improve docerror consistency for GaussianProcessRegressor drop eda FIX Removes unecessary check in BaseChain pick cc DOC Fix typo in commonpitfalls.rst pick ca DOC Fix typos plotcolumntransformermixedtypes.py pick c Update who may propose a new triage member. pick fd DOC make documentation consistent regarding types in encoders.py drop aa FIX Error for sparse matrix in OrdinalEncoder.inversetransform drop bbddbb CI Add label on PRs modifying Cython code drop abcb TST Changes assert to pytest style in teststestisotonic.py pick faee DOC Clarify documentation for spectral clustering pick b FIX convert cvresults values to numpy array in SuccessiveHalving drop bd FIX detect near constant feature in StandardScaler and linear models drop dae MNT Use const memory views in DistanceMetric subclasses drop cb ENH Scalable MiniBatchKMeans plus cln fixes refactoring drop ceae DictionaryLearning Fix several issues in the dict update pick bda DOC Adds consistence in docs for univariate selection metrics pick b DOC Fix the description of some features in loaddiabetes pick efe DOC add FAQ entry for the many linear model classes pick fb DOC Fixes links in outlierdetection.html pick db FIX Fixes unknown handling for str dtypes in OrdinalEncoder.transform drop ecf MAINT Clean up code in FastICA pick ec DOC fix early stopping description in MLP pick ebd DOC use math mode in rscore function drop efcb MAINT Vendors packagingversion.py for pep versioning pick dfefe DOC Fixes typo in docmodulescrossvalidation.rst drop ddbe MAINT Remove getmemview helpers in neighbours.BinaryTree pick bff DOC improve learningrate AdaBoost estimator pick c EXA Fix plotmapdatatonormal.py example legend drop cedb FIX Fixes memory view bug in distance metrics drop ddde KBinsDiscretizer efficiency improvement to 'kmeans' strategy pick ac DOC Remove misleading linear kernel statements pick bfc FIX fix a bug in KernelPCA.inversetransform pick bdced ENH Enrich docstring on inversetransform of KernelPCA pick bd FIX OneHotEncoder.fit no longer alters the drop parameter drop debdca MRG Refactor featureselection.fregression and introduce featureselection.rregression pick bafe FIX prevent division by zero with constant target in GPR pick ab FIX Encoder should accept categories having dtype'S' pick dbed FIX Fixes regression in CCA due to change of cutoff values in SciPy pick efcc DOC order whats new ..
FIX Use chosolve when returnstdTrue for GaussianProcessRegressor;Reference IssuesPRsFixes Issue What does this implementfix Explain your changes.Provides more consistency in GaussianProcessRegressor when computing the predictive standard deviation often taken as a form of predictive uncertainty. Specifically consistency between using returnstdTrue and returncovTrue. For certain kernel hyperparameters returnstdTrue appears unstable.returncovTrue can be used as an alternative and the end user can quickly find the standard deviation from the returned predictive covariance however id the predicted dataset is large the covariance matrix may become too large for memory.The key to the inconsistency appears to be returnstdTrue attempting to explicitly form the inverse training kernel matrix. Typically in GP regression this inverse is never explicitly formed instead the Cholesky decomposition is stored and cholesky solves take the place of the explicit inverse this is the approach the returncovTrue uses.This fix attempts to improve consistency and stability by using the Cholesky solve in both cases while still mitigating the large predictive covariance matrix formation when returnstdTrue.Changes are localized to gpr.pybeforeelif returnstd cache result of Kinv computation if self.Kinv is None compute inverse Kinv of K based on its Cholesky decomposition L and its inverse Linv Linv solvetriangularself.L.T np.eyeself.L.shape self.Kinv Linv.dotLinv.T Compute variance of predictive distribution yvar self.kernel.diagX yvar np.einsumijiji np.dotKtrans self.Kinv Ktransafterelif returnstd cache result of Kinv computation this is done for compatibility Kinv should be avoided if self.Kinv is None compute inverse Kinv of K based on its Cholesky decomposition L and its inverse Linv Linv solvetriangularself.L.T np.eyeself.L.shape self.Kinv Linv.dotLinv.T v chosolveself.L True Ktrans.T Line  Compute variance of predictive distribution Use einsum to avoid large matrix yvar self.kernel.diagX yvar np.einsumijjii Ktrans vThe matrix v has the same dimensions as Ktrans.T so size should not be an issue.To my understanding the use of np.einsum avoids the formation of the potentially large covariance matrix Ktrans v just to get the diagonal entries.The computation of self.Kinv is left in the code even though it is useless in the built in workflows. This retains compatibility should an end user be leveraging self.Kinv in some workflow. I will defer to more experienced developers if this is the correct course of action.Any other commentsRunning the reproducing code in Issue results in close agreement between the two computation methods now. . . .. . . .
DOC Remove misleading linear kernel statements;As LinearSVC and LinearSVR by their very nature use a linear kernel the statement This is only available in the case of a linear kernel. is confusing in that it falsely implies that the kernel type is configurable like with the other classes in the file.
KBinsDiscretizer efficiency improvement to 'kmeans' strategy;Reference IssuesPRsFixes Change KMeans algorithm in KBinsDiscretizer from 'auto' elkan to 'full'       The text was updated successfully but these errors were encountered
FIX Fixes memoryview bug in DistanceMetric;Fixes Fixes the failing tests on main that resulted from
EXA Fix plotmapdatatonormal.py example legend;What does this implementfix Explain your changes.In this example\lambda was very likely meant to be on a different line in the title.mainThis PRAny other commentsThe title font is probably too small for useful purposes but I tried to increase the font but that did not play well with matplotlib tight layout and I could not fix it in less than minutes ... so maybe for another PR       The text was updated successfully but these errors were encountered
DOC Fixes typo in docmodulescrossvalidation.rst;What does this implementfix Explain your changes.Fix a minor typo on crossvalidation user guide.
Fix doc upload job;No description provided.        The text was updated successfully but these errors were encountered
Fix Github Actions doc builds;Fix .       The text was updated successfully but these errors were encountered
Bump urlencoding from .. to ..;Bumps urlencoding from .. to ...CommitsSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
Replace more taskcluster jobs;Fixes . Fixes . Fixes .
Disable intermittent test on windows.;
Make mach.bat request Python;The mach Python script no longer supports Python so don't usePython .Fixes Signedoffby Dominic Cooney dominic.cooneygmail.comMake mach.bat request Python  .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because this is the script which you use to launch the tests
Don't hardcode string types.;Fixes an error reported in .       The text was updated successfully but these errors were encountered
Update doc comment for scriptpluginslib.rs;scriptplugins no longer provides any macros. It currently only provides the mustroot lint. .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because it is a doc comment only change.
Python fixes;Fixes .       The text was updated successfully but these errors were encountered
Upgrade to GitHubnative Dependabot;Dependabot Preview will be shut down on August rd . In order to keep getting Dependabot updates please merge this PR and migrate to GitHubnative Dependabot before then.Dependabot has been fully integrated into GitHub so you no longer have to install and manage a separate app. This pull request migrates your configuration from Dependabot.com to a config file using the new syntax. When merged we'll swap out dependabotpreview me for a new dependabot app and you'll be all setWith this change you'll now use the Dependabot page in GitHub rather than the Dependabot dashboard to monitor your version updates and you'll configure Dependabot through the new config file rather than a UI.If you've got any questions or feedback for us please let us know by creating an issue in the dependabotdependabotcore repository.Learn more about migrating to GitHubnative DependabotPlease note that regular dependabot commands do not work on this pull request.
builddeps bump markupever from .. to ..;Bumps markupever from .. to ...Commitscfdb Auto merge of servojdmpatch rjdmff Update markupever minor version.dad Auto merge of MichaelMcDonnellescapedefaultstable rjdmbcf Remove escapedefault workaroundscfeaf Auto merge of DavidKorczynskipatch remilioe Fix breaking OSSFuzz coverage buildbbea Auto merge of svenfoofixclippywarnings rjdmdda Remove a field that was never read Remove an unnecessary trailing semicolon that broke the buildc Remove unnecessary explicit lifetime specifiersAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
support Apple ARM base mac build and run;i fixed build errors on apple m macbook build and running both successful but because of this issue servosurfman the surfman version must be updated locally by cargo patch.cratesio. so this pr is waiting for surfman release new version and related dependencies update the surfman version.jdm .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because        The text was updated successfully but these errors were encountered
builddeps bump idna from .. to ..;Bumps idna from .. to ...Commitsc idna Bump to version ..dde Merge pull request from djcdebugcannotbeabaseadd Add cannotbeabase field to Url's Debug representation fixes ebb Merge pull request from DavidKorczynskipatchac Fix breaking OSSFuzz coverage buildee Update issue templates Merge pull request from djcfixunicodebeforedelimiterce url more regressed clippy suppressionsde Reinstate suspiciousoperationgroupings suppressionaca Remove unnecessary return statementAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
Bump selectors;Releasing this will help updating dependencies in crates that depend onselectors.       The text was updated successfully but these errors were encountered
Linux WPT tests on GitHub Action;.mach build d does not report any errors .mach testtidy does not report any errors These changes fix  These changes do not require tests because they add to an existing GitHub Action to run the Linux WPT tests.
Block port;See whatwgfetch .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because
Update mozjs to;servorustmozjs       The text was updated successfully but these errors were encountered
builddeps bump httparse from .. to ..;Bumps httparse from .. to ...Commitsdbbd v..db Bump LICENSE yeardfc Add tests to check SIMD code against URICHARSafbec Make the SIMD tables correspond exactly to URIMAPdc Allow double quotes in URIs fixes See full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Try to work around windows unit test failures.;Attempting to work around .       The text was updated successfully but these errors were encountered
builddeps bump miow from .. to ..;Bumps miow from .. to ...ChangelogSourced from miow's changelog.v.. ChangedUpgrade rand devdependency from . .Upgrade socket dependency from . to . and make it a devdependencyCommitsaac Bump version to .. and add a changelogdced Merge branch 'removeexterncrate'ceb Remove empty dependencies section Remove not needed extern crate statementsbff Merge pull request from Thomasdezeeuwsocketupdateeece Update to socket v.aebe Merge pull request from Kestrermasterb Reduce required WinAPI versionfc Update dependenciesSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
builddeps bump generator from .. to ..;Bumps generator from .. to ...Commitsa bump version to ..cec fix aarch release optimization issueb fix aarch stack initfa fix aarch stack unwindbd bump version to ..bba remove appveyor buildcbd fix edition panic warningcbf revert send boundadb fix generator send bound ddc switch from rustcversion to rustversionAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Don't run full CI against master pushes.;This avoids a bunch of unnecessary work after homu successfully merges a PR.
Disasable net unit test on windows.;This test frequently but not always panics on Windows for reasons that are unclear . This makes it harder to gate homu merges on github actions passing.       The text was updated successfully but these errors were encountered
builddeps bump gif from .. to ..;Bumps gif from .. to ...ChangelogSourced from gif's changelog.v..Fix panic when LZW code size is invalidAdded option to omit check for lzw end codeCommitsebba Fix exclude paths for testsafc Update meta data for ..af Merge pull request from atouchetlinksddff Replace Travis badge with GitHub Actions and update doc linksbdc Merge pull request from imagerscheckminimumcodesizeadcc Annotate required feature for crash testaffed Handle small code size instead of crashingerrorf Check minimum code sizedcf Merge pull request from imagersgithubactionsf Add std as required feature for testsAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
builddeps bump atomicrefcell from .. to ..;Bumps atomicrefcell from .. to ...CommitsSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
Improve IME messaging to embedder with insertion point index and multà;àiline flag.This improves handling of IME requests in the embedder by passing the location of the insertion point along with the current text and a boolean flag 'multiline' true for HTML textarea false otherwise which allows the embedder to be more clever about handling of the 'enter' or 'return' keys.Tested and working in an embedding example. .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because        The text was updated successfully but these errors were encountered
Minor fixes in simpleservo;improve embedding C header generation.Don't recursively panic if embedder doesn't throw on panic.Make initwithgl unavailable when doing nonWGL windows build. .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because
builddeps bump pyyaml from . to . in pythontidy;Bumps pyyaml from . to ..ChangelogSourced from pyyaml's changelog.. yamlpyyaml Build modernization remove distutils fix metadata build wheels CI to GHAyamlpyyaml Fix for CVE moves arbitrary python tags to UnsafeLoaderyamlpyyaml Fix memory leak in implicit resolver setupyamlpyyaml Fix py copy support for timezone objectsyamlpyyaml Fix compatibility with Jython.. yamlpyyaml Prevents arbitrary code execution during pythonobjectnew constructor. yamlpyyaml Use is instead of equality for comparing with Noneyamlpyyaml Fix typos and stylistic nityamlpyyaml Fix up small typoyamlpyyaml Fix handling of slotsyamlpyyaml Allow calling addmulticonstructor with Noneyamlpyyaml Add use of safeload function in READMEyamlpyyaml Fix reader for Unicode code points over xFFFFyamlpyyaml Enable certain unicode tests when maxunicode not xffffyamlpyyaml Use fullload in yamlhighlight exampleyamlpyyaml Document that PyYAML is implemented with Cythonyamlpyyaml Fix for Python .yamlpyyaml Increase size of index line and column fieldsyamlpyyaml Remove some unused importsyamlpyyaml Create timezoneaware datetimes when parsed as suchyamlpyyaml Add tests for timezone. Repair incompatibilities introduced with .. The default Loader was changedbut several methods like addconstructor still used the old defaultyamlpyyaml A more flexible fix for custom tag constructorsyamlpyyaml Change default loader for yaml.addconstructoryamlpyyaml Change default loader for addimplicitresolver addpathresolverMake FullLoader safer by removing pythonobjectapply from the default FullLoaderyamlpyyaml Move constructor for objectapply to UnsafeConstructorFix bug introduced in . where quoting went wrong on systems with sys.maxunicode xffffyamlpyyaml Fix logic for quoting special charactersOther PRsyamlpyyaml Update CHANGES for ... Rerelease of . with regenerated Cython sources to build properly for Python .b... truncatedCommitsdcb . releaseafa Fix compatibility with Jythoneeabd Run CI on PR base branch changesddf constructor.timezone copy deepcopyfcd Avoid repeatedly appending to yamlimplicitresolversaf Fix for CVEfe Add . to appveyor file for completeness sakeecfb Add a newline character to end of pyproject.tomlbbd Start sentences and phrases for capital lettersc Shell code improvementsAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languageYou can disable automated security fix PRs for this repo from the Security Alerts page.
Update mozdebug for py fixes.;No description provided.
Update mozjs to;Depends on servorustmozjs
builddeps bump waylandsys from .. to ..;Bumps waylandsys from .. to ...ChangelogSourced from waylandsys's changelog... client Add getconnectionfd to Display as well as EventQueue.client Bugfix remove a spurious panic when using the usesystemlib feature.Commitsccb version ..bfd client Add getconnectionfd to Displaybe travis silence clippy on waylandsysc travis ignore tests in coverage countbdde Fixed copypaste error in exampleabd fmtdc client fix the creation of Main in dispatcherf Reinstall tarpauling for rust coveragedcc Add section about the chatrooms in the readmeSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
builddeps bump openssl from .. to ..;Bumps openssl from .. to ...Commitsec Release openssl v..eeb Release opensslsys v..fa Merge pull request from nospamfixmoderngenerateparameterscff Update opensslsrcdh.rsadc Merge pull request from baloobaloociphernidacbe Use DHgenerateparametersexc Expose NID from cipherffcf Merge pull request from jiegecaddsmfbfe Pass OPENSSLNOSM definition to rust properlybbf Fix NID of SM series in libreSSLAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
builddeps bump unicodexid from .. to ..;Bumps unicodexid from .. to ...CommitsSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired
builddeps bump opensslsys from .. to ..;Bumps opensslsys from .. to ...Commitseeb Release opensslsys v..fa Merge pull request from nospamfixmoderngenerateparameterscff Update opensslsrcdh.rsadc Merge pull request from baloobaloociphernidacbe Use DHgenerateparametersexc Expose NID from cipherffcf Merge pull request from jiegecaddsmfbfe Pass OPENSSLNOSM definition to rust properlybbf Fix NID of SM series in libreSSLfe Fix NID definitions of SMAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
builddeps bump regex from .. to ..;Bumps regex from .. to ...ChangelogSourced from regex's changelog... This is a small patch release that fixes a regression in the size of a Regexin the .. release. Prior to .. a Regex was bytes. In the ..release it was bytes due to internal changes. In this release a Regexis now bytes. In general the size of a Regex was never something that wason my radar but this increased size in the .. release seems to have crosseda threshold and resulted in stack overflows in some programs.BUG rustlangregexFixes stack overflows seemingly caused by a large Regex size by decreasingits size... This is a small patch release that contains some bug fixes. Notably it alsodrops the threadlocal and lazystatic via transitivity dependencies.Bug fixesBUG rustlangregexMemory leaks caused by an internal caching strategy should now be fixed.BUG rustlangregexAll regex types now implement UnwindSafe and RefUnwindSafe.BUG rustlangregexAdd missing Replacer impls for Vecu String Cow etc... This is a small patch release that adds some missing standard traitimplementations for some types in the public API.Bug fixesBUG rustlangregexAdd FusedIterator and ExactSizeIterator impls to iterator types.BUG rustlangregexAdd missing Debug impls to public API types.Commitsffba ..ccef impl substantially reduce regex stack sizebb ..a regexsyntax..a changelog ..ecb impl drop threadlocal dependency doc refine use of the word 'unsafe'ec bench reduce huge regex a bitfff deps update quickcheck and randbfff doc use 'text' instead of 'ignore' for regexesAdditional commits viewable in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
Update boto;Fixes .       The text was updated successfully but these errors were encountered
Update to rustc nightly.;No description provided.
Disable hanging hang monitor tests on windows;This avoids longrunning builds due to .
Update mozjs;Requiresservomozjsservorustmozjs .mach build d does not report any errors .mach testtidy does not report any errors These changes fix GitHub issue number if applicable There are tests for these changes OR These changes do not require tests because        The text was updated successfully but these errors were encountered
Sync WPT with upstream;Automated downstream sync of changes from upstream as of .nowptsyncr servowptsync       The text was updated successfully but these errors were encountered
builddeps bump byteorder from .. to ..;Bumps byteorder from .. to ...Commitsabffade ..feea impl change asptr to asmutptr to fix Miri errordd impl prefix unsafe macros with 'unsafe' doc use HTTPS in linksSee full diff in compare viewDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.Dependabot commands and optionsYou can trigger Dependabot actions by commenting on this PRdependabot rebase will rebase this PRdependabot recreate will recreate this PR overwriting any edits that have been made to itdependabot merge will merge this PR after your CI passes on itdependabot squash and merge will squash and merge this PR after your CI passes on itdependabot cancel merge will cancel a previously requested merge and block automergingdependabot reopen will reopen this PR if it is closeddependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manuallydependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourselfdependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourselfdependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourselfdependabot use these labels will set the current labels as the default for future PRs for this repo and languagedependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and languagedependabot use these assignees will set the current assignees as the default for future PRs for this repo and languagedependabot use this milestone will set the current milestone as the default for future PRs for this repo and languagedependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readmeAdditionally you can set the following in your Dependabot dashboardUpdate frequency including time of day and day of weekPull request limits per update run andor open at any timeOutofrange updates receive only lockfile updates if desiredSecurity updates receive only security updates if desired       The text was updated successfully but these errors were encountered
DependencyInjection Update servicecontainer.rst;Fix service declaration
Notifier Adds documentation for Slack stuff added in .;Closes by adding documentation for these additions related to the notifier.
RateLimiter Closes adds information about the lock being nullable;Closes by adding documentation about the ability to make the lock factory null to disable this behavior.It also adds a new in sf . text about the login throttling that has it disabled by default.
Adding HTTP Certificates;See symfonysymfonyQuestionsShould I create an anchor for verifyhost and verifypeer to be able to link directly to these headingsMaybe a link on how to actually add it to the system store For ubuntu I found httpsaskubuntu.coma and httpssuperuser.coma
Bump Symfony PHP requirements to ..;Fixes .
CI Make sure composer cache is properly used;PR made sure we had a composer cache folder. This PR is making sure we use the cache properly.Currently we are using the following pathsvarworkspacevarcheckervarsfappThe issue is that hashFiles only works for files in varworkspace. So I moved everything down one level.varworkspacedocsvarworkspacecheckervarworkspacesfappNow we will use the two new composer.lock files to know if we should save the github cache or not ie if new dependencies were updated.I think that the composer cache will contain many versions of a package. Ie we dont need a separate cache for . and one of . etc.
CI Fixed composer cache for code blocks job;I've noticed that since we dont have a composer.json file we cannot get the path to the cache. This PR will fix that.       The text was updated successfully but these errors were encountered
Added indexes to sql commands used to create session tables;As per httpsgithub.comsymfonysymfonyblob.UPGRADE..mdhttpfoundation PdoSessionHandler now precalculates the expiry timestamp in the lifetime column so the index will speed up garbage collection       The text was updated successfully but these errors were encountered
Security Document logout.target;Fixes and
Lock Update lock.rst;fix typo
Update NuSOAP client example;The soapClient created in the example is an instance of the native \SoapClient class instead of NuSOAP.
CI Dont use the special respository for docsbuilder;No description provided.        The text was updated successfully but these errors were encountered
RateLimiter Fix syntax error in config;This is not the same as
Rewrite config form the Security bundle to use ConfigBuilders;No description provided.
RateLimiter Rate Limiter Added missing opening single quotes;Added the missing opening single quotes in the PHP config example
Update deprecated PHPUnit schema doc links;PHPUnit gives Warning Your XML configuration validates against a deprecated schema.Running the suggested .vendorbinphpunit migrateconfiguration updated phpunit.xml.dist and fixed the warning. The resulting XML is the update here.The links to PHPUnit are also outdated updated to link to the current stable English release in the manualEdit I'm not certain if this should be on the . branch instead since it's not directly related to Symfony. I can correct the branch if necessary
Adding fileloader dependency.;When trying to follow the steps described in frontendencorecopyfiles.html I'm getting an error related to the missing fileloader dependency. Adding it via yarn fixes the issue. I've updated this part of the documentation to make this part easier to implement.
Messenger Add a description to the AMQP exchange arguments with example;It took me some time to configure an alternateexchange.Just figured to append the documentation so others can find it there.
Fixed array notation for yaml file in sessiondatabase.rst;No description provided.
remove unused inc files;these inc files are not used anywhere       The text was updated successfully but these errors were encountered
HttpKernel Minor Fix;No description provided.        The text was updated successfully but these errors were encountered
Security Update experimentalauthenticators.rst;httpsgithub.comsymfonysymfonyblob.xUPGRADE..mdsecurity       The text was updated successfully but these errors were encountered
HttpClient Clarifying how to autowire scoped HTTP clients;The documentation didn't make it very clear that the key of the scopedclients array was the actual service name that could be used to autowire the service. By using the same name in the code example and in the paragraph about autowiring that should be clearer to the reader.
Messenger Add a note about messengerstopworkers command;TODO Reword the message to make the description clearer Check if we can provide a recipe to avoid the described problem.See CachePoolPassprocess.       The text was updated successfully but these errors were encountered
Unifying wording to configuration parameter;Followup of        The text was updated successfully but these errors were encountered
OptionsResolver Documenting new setPrototype method;PR symfonysymfonyFix        The text was updated successfully but these errors were encountered
Form Documenting new priority option;PR symfonysymfonyFix
Security Fix some typos related to . security changes;Spotted in .Cheers       The text was updated successfully but these errors were encountered
Runtime Composer node extra.runtime.options is incorrect;Wanted to make a change to the dotenvpath so set composer.json as per previous docs to runtime  options  dotenvpath environments.env  resulted in autoloadruntime.php ofruntime new runtimeSERVER'APPRUNTIMEOPTIONS'  'options'  array  'dotenvpath' 'environments.env'  'projectdir' dirnameDIR Which obviously didn't workso I propose the options node is removed from the docs and then composer.json runtime  dotenvpath environments.env resulted in autoloadruntime.phpruntime new runtimeSERVER'APPRUNTIMEOPTIONS'  'dotenvpath' 'environments.env' 'projectdir' dirnameDIR Worked for me.
Fix typo sit'sits;Fix typo
Serializer Fixed occurence of an old FQCN notation;No description provided.
CI Add new rule for DOCtorRST;Follows        The text was updated successfully but these errors were encountered
Uid Add note about ULIDs not being random in one case;Without reading the ULID specification it is not obvious in this documentation that the random portion of a ULID is not entirely random when multiple are generated in the same millisecond.
Fix link to Composer;By the way I added a small change in the Before You Start section.
remove unused inc file;vendordeps.rst.inc is not used anywhere
Translation Introduce Translation Providers;Docs for symfonysymfony symfonysymfony symfonysymfony and symfonysymfonyReady for first review but I'm not sure that I've written documentation in the right and all required places.ATM Translation Providers Bridges packages doesn't exists so Flex recipes are not created yet.       The text was updated successfully but these errors were encountered
Console Add explicit note about the type of VALUENONE;It was not clear what the default value nor what the type returnedfrom InputOptionVALUENONE is.
Updating to PHP .;No description provided.
Security Renamed encoders to passwordhashers;Fixes .
FrameworkBundle Document env vars in framework.ide;This fixes .MatTheCat please review this. Thank you
Testing Remove docs on PHPUnit configuration;This continues what I said in the first testing rewrite PR it's not our job to document PHPunit. I don't think we should document how to enable PHPUnit code coverage or test suites.I checked with Laravel and Laminas and they also don't provide any detailed information about the config file.
Testing Application testing in Symfony is fun Let's document the modern features;This PR continues the efforts of restructuring the Testing docsFocus more on Arrange Act AssertAdvertise modern testing features assertions. Somehow we didn't mention any easy to use assertion in the main guide but instead explained the complex dom crawler API.Reduce some duplication. There is an astonishing number of ways to fill in and submit a form we documented at least different APIs in the main guide. I've reduced this to two a plain and short one and a longer one for more complex form submissions.Todo preferably in a followup PR combine the testingdomcrawler and componentsdomcrawler feature documentation into testingdomcrawler.cc Nyholm
Serializer update example for attributes;update attributes example as wellsee
Config Added caution notice about nested bundle configs;Inspired by a chat with Nyholm
Console Updates method reference for retrieving console helpers;While reading the docs I've found it weird that the documentation was talking about a getHelperSet method when referencing in the following codeblock the method getHelper.This MR harmonizes the wording according to the Debug Formatter Helper
Runtime Minor fixes;These are really minor tweaks because the article is excellent and explain things in great detail.       The text was updated successfully but these errors were encountered
Serializer match example with description above;Discriminator description mentions abstract class but example contains interface       The text was updated successfully but these errors were encountered
Validator Make it clear that configuring a constraint doesn't enforce anything;This is probably trivial for people who've been working for Symfony for a longer time but I found myself needing to explain this on more than one occasion so I think it would be good to mention it.
Form Minor rewording;No description provided.        The text was updated successfully but these errors were encountered
EventDispatcher Minor fixes;I have added some minor fixes to the Event Dispatcher pages.
Testing fix 'eachother' 'each other';each other' is two separate words see httpsdictionary.cambridge.orggrammarbritishgrammareachotheroneanother       The text was updated successfully but these errors were encountered
Security Fixes typo in experimental authenticators;email was not defined in the example.
Update docsbuilder to version .;We had a lot of errors when building the docs related to phpattributres. They are resolved now.I don't get any errors when I build locally on . and .x. So I naively assume everything is fine.I don't know why we have not updated before If there is a problem I don't know about please share.       The text was updated successfully but these errors were encountered
CI Don't use special repository for symfonytoolsdocsbuilder;When symfonytoolsdocsbuilder is registered on packagist we can remove the composer.json and composer.lock. But Im not sure we want to do that because we dont want to live on the edge.Blocked by symfonytoolsdocsbuilder       The text was updated successfully but these errors were encountered
CICodeBlockChecker Installed tagged version instead of devmain;This will allow us to decide when changes should go public. Ie with a release.
Recommend using root controller attribute in route definition;Also it is consistent with the example above configroutes.yamlhello path hello controller App\Controller\HelloControllerindex methods GETChecked on Symfony ..
fix tagged mapping value YAML syntax;No description provided.
Security Removed some deprecated features related to UsergetUsername;Fixes .The only occurrence of getUsername left in the docs is in this file httpsgithub.comsymfonysymfonydocsblob.xcomponentsmessenger.rstPlease help me to know how should I proceed to remove it. Thanks
Logger Monolog Add ConfigBuilders for Monolog;Only two more PRs after this
Routing Fixing some typos;Question Is this rule always truethen token will only get the last part and the rest is matched by path.Cause if Yes the introduction doesn't make senseyou might get unexpected resultssince if there's a rule it's not unexpected So it would be better to explain that the first parameter is always greedy.       The text was updated successfully but these errors were encountered
Rename symfonydocstools to symfonytools;Just waiting for the actual rename.
Twig ConfigBuilder Use ConfigBuilder for TwigBundle;Here are config builder for TwigBundle
ConfigBuilder Adding PHP ConfigBuilders for DoctrineBundle;All doctrine bundle configuration is converted       The text was updated successfully but these errors were encountered
Uid Document the namespace string values;Fixes .       The text was updated successfully but these errors were encountered
Fixed some typos in some images;This finishes .       The text was updated successfully but these errors were encountered
ConfigBuilder Replace all framework config;This PR will replace all framework configuration with the new ConfigBuilders.
Fixed syntax errors in .x;These errors does not exist in .       The text was updated successfully but these errors were encountered
Fixed syntax error in .;Here are the syntax errors I found when running the parser on ..
Fixed syntax errors on .;I ran the new parser on .. There are about more syntax errors that I decided not to fix. Some are false positives ie a code example where we only have a PHP array. Others show some limitations of the parser. Ie we cannot automatically detect a code block with no language we currently assume it is PHP but that is not always correct.This is the last fixes I'll do for ..
Start using ConfigBuilder;I start with documents to see how it feels.
update doc with maxage;No description provided.        The text was updated successfully but these errors were encountered
Mercure Fix configurationblock;Hi just a minor typo but that induces a little issue while rendering
remove .x versionadded directive;No description provided.
apply zendconfig .;No description provided.
Prepare for version;This patch prepares the package for version . SpecificallyUpdates the minimum required PHP version to ..Updates to the latest stable release of existing packages.Adds new vspecific componentszendmvcconsolezendmvcpluginszendmvcformzendmvcinzendjsonserverzendxmljsonzenddiactoroszendstratigilityzendpsrbridgezendhydratorzendservicemanagerdiUpdates the zendldap suggestion to specify a knowngood stable version of the component.Removes the various bin scripts. The plugin map and class map generators are no longer relevant and the template map generator is now part of zendview.
Updated dependencies to .;Previously we were using .. which is equivalent to ..... This is problematic as a number of components are at . and . versions and some of those newer versions include security fixes. By being too restrictive in the constraints we are locking users to insecure versions which is problematic.As none of these new minor versions introduces backwards compatibility breaks this patch updates to use the . constraint to allow .... versions to be installed for all components.The plan is to do an immediate .. release with these changes.       The text was updated successfully but these errors were encountered
Fixed typo;No description provided.        The text was updated successfully but these errors were encountered
update latest CHANGELOG.md with correct zf version;No description provided.        The text was updated successfully but these errors were encountered
Make zendldap optional;Per zendframeworkzendldap ZF cannot be installed at version .. if you do not have extldap installed due to the hard requirement on that extension in zendframeworkzendldap. This patch makes zendframeworkzendldap an optional component.After this is merged users updating ZF that need zendldap will need to perform the following to grab the zendldap requirement composer require zendframeworkzendldap       The text was updated successfully but these errors were encountered
Pass the \r\n sequence to PartgetHeadersAsArray;Per the gist provided by Qronicle I've created a unit test against Zend\Mail\Message and a proposed fix.Zend\Mime\PartgetHeadersAsArray accepts an optional argument the line separator sequence. This defaults to \n but for mail messages should be \r\n. The proposed patch passes that argument when retrieving MIME headers to include in the mail message.This is an alternative to . That patch removes all header folding. In most cases that should be acceptable but in cases where the MIME boundary is long the header could potentially exceed bytes. The attached patch preserves header folding by ensuring the correct sequence is used when aggregating MIME headers for use in a Mail message.       The text was updated successfully but these errors were encountered
ldap Fix exceptions while parsing are not captured.;Fix
http Allow serialize any character on cookies;No description provided.
mail Fix set UTF values to headers. Fix;No description provided.
console Assert only int error levels are set;No description provided.        The text was updated successfully but these errors were encountered
dbpgsqltest Fix testDisconnect;Fix incomplete test introduced in        The text was updated successfully but these errors were encountered
travisci Print list of PEAR packages installed and their versions;No description provided.        The text was updated successfully but these errors were encountered
stdlibtest Fix Deprecated notice for Nonstatic method called static;Should handler EDEPRECATED PHP nightly change error levelClose        The text was updated successfully but these errors were encountered
XMLRPC Incompatibility with HHVM;HelloI'm trying to use the zendxmlrpc library with a composer package that I'amwriting. I wanted to test it using a hhvm environment and received an error with theway hhvm handles the each method.Fatal error Uncaught exception 'ErrorException' with message 'Invalid operand type was used expecting an array' in srvwwwpackagevendorzendframeworkzendxmlrpcAbstractValue.phpLooking at line  protected static function extractTypeAndValue\SimpleXMLElement xml type value  listtype value eachxml if type and value null  namespaces array'ex' 'httpws.apache.orgxmlrpcnamespacesextensions' foreach namespaces as namespaceName namespaceUri  namespaceXml xmlchildrennamespaceUri listtype value eachnamespaceXml if type null  type namespaceName . '' . type break  
mongo mentions of redis removed;redis mongodb
Updated phpDoc and removed duplicates;Updated phpDocValidatorPluginManager deleted duplicate for line .
configtest Fix assertContains should be assertArrayHasKey;This bug is NOT related with Surprisingly assertContains as well inarray'' tokens true does not fail when the string does not exists in the array value side.       The text was updated successfully but these errors were encountered
Fix undefined PGSQLCONNECTASYNC only present in PHP .;Issue introduced in        The text was updated successfully but these errors were encountered
CS remove unused uses;Most of them are related with abc and df
travisciáHHVM nightly is not supported;HHVM nightly is no longer supported on Ubuntu Precise. See traviscitravisci and facebookhhvm       The text was updated successfully but these errors were encountered
memory isLocked sometimes return integer instead bool;Method must return a bool type without need of cast
travis Colorize PHPUnit output requires PHPUnit .;Since PHPUnit . there is an option for enforce ANSI colors in the output regardless if PHPUnit detect if terminal is compatible or nor.       The text was updated successfully but these errors were encountered
test Replace assertTrue|False with more appropriate assertions where possible;This PR aims to remove uses of asserTrue and assertFalse.PHPUnit provides alternative assertions specific for certain cases and provides useful information about the nature of the failure.
Implement expected InputisValid workflow;This patch implements the logic I outlined in a comment to required true allowempty true continueifempty false validators are NOT runrequired true allowempty true continueifempty true validators are runrequired true allowempty false continueifempty false validators are NOT runrequired true allowempty false continueifempty true validators are runrequired false allowempty true continueifempty false validators are NOT runrequired false allowempty true continueifempty true validators are runrequired false allowempty false continueifempty false validators are NOT runrequired false allowempty false continueifempty true validators are runIt builds on the patch of and addresses the BC break demonstrated in and in zfcampuszfcontentvalidation.
Replace whitespace in the parameter prefix option passed to AbstractSqlprocessExpression;This PR is to allow using a parameter prefix containing spaces when processing Db\Sql\Expression objects which is necessary when using Expressions as columns with the name containing spacesselect new Selectselectcolumnsarray 'Column Name With Spaces' new Expression'FROMUNIXTIME' arrayHere 'Column Name With Spaces' is passed as the last parameter to AbstractSqlprocessExpression but the resulting parameter name is invalid and the query cannot execute.A solution is to replace any whitespace with double underscores so that the parameter name is valid.
update url to 'current' at INSTALL.md;from version specific '.' to 'current'
partialLoop notice;Here is a test and a fix that will show the notice in the nested partialloop
Allow use of setRequired at different positions;Zend\InputFilter\Input would return falsetrue depending of when setRequired was called. This PR fixes that so it does not matter anymore when setRequired is called.This is not a fix for but an issue I noticed looking into issue .
bugfix removing multiple fieldsets does't work;at the same time iterating collection items and removing causes problemWhen we have items but we delete second and third. It fails and does not remove third element. So we have to move remove out of foreach
remove versioncompare check for PHP ..;as we already require ..
Update ZendValidate.php for id for .;Created for id language
update ZendValidate.php resource file for .;add Timezone MessageTemplatesupdate class name Float IsFloat Int IsInt       The text was updated successfully but these errors were encountered
zf fixed issue with inconsistent getTrait behaviour;Made getTraits to behave the same was a parent method return null only in case of error and empty array otherwiseAdded phpdoc commentAdded tests for getTraits
Fixed form collections with nested fieldsets that implements InputfilterProviderInterface;Here is a fix for the usage of collections and the InputFilterProviderInterface.The problem was If you're using getInputFilterSpecification for your fieldsets and embed them in a collection the input filters were never added to the form resulting in errors when using setValidationGroup or the inability to bind data to nested fieldsets.The fix also ensures that infinite nested collections with InputFilterProviderInterfacefieldsets are working correctly.
update variable name myParams to pageParams;No description provided.
Test for percentage sign in Zend\Db\Sql\Expression;Additional test for to make sure percentage signs inside SQL functions are preserved the way they are.
Get correct expression string when Zend\Db\Sql\Expression is used;Fix for .The processing of Zend\Db\Sql\Expression assumed the value of part was the correct value to be used however when an instance of Zend\Db\Sql\Expression is provided the correct value is in Zend\Db\Sql\ExpressiongetExpression.
implements tests's todo of ZendTest\Http\Header\AuthorizationTest;No description provided.        The text was updated successfully but these errors were encountered
replace selfEOL with PHPEOL as AbstractHtmlElementEOL is deprecated;see httpsgithub.comzendframeworkzfblobmasterlibraryZendViewHelperAbstractHtmlElement.phpLL
increase loop performance by assign count to variable;test data range timestart microtimetruefor i i countdata i timeend microtimetruetime timeend timestartecho 'uses count in iteration take time ' . timeecho \r\ntimestart microtimetruefor i count countdata i count i timeend microtimetruetime timeend timestartecho 'uses assignment of count before iterated first take time ' . timeecho \r\nResult uses count directly in iteration take time .uses assignment of count before iterated first take time .
Use and in null checks instead of and;Test foo ''echo \r\nTest with \r\nif foo null  echo 'foo is null' else  echo 'foo is not null'echo \r\n\r\necho \r\nTest with \r\nif foo null  echo 'foo is null' else  echo 'foo is not null'Result Test with foo is null Test with foo is not null       The text was updated successfully but these errors were encountered
Zend\Code\Generator\ClassGenerator can not generate final classes;Zend\Code\Generator\ClassGenerator accepts a final flag but does not generate code for final classes.I've added a test and fix I restricted the implementation to declaring the class either abstract or final not both. httpphpsadness.comsad Preference was given to abstract classes so as to not break any existing code that set both abstract and final flags.       The text was updated successfully but these errors were encountered
daemon remove kernel version check and DOCKERNOWARNKERNELVERSION;All regular nonEOL Linux distros now come with more recent kernelsout of the box. There may still be users trying to run on kernel .or older some embedded systems e.g. but those should be a rareexception which we don't have to take into account.This patch removes the kernel version check on Linux and the correspondingDOCKERNOWARNKERNELVERSION environment that was there to skip thischeck. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon use RWMutex for stateCounter;Use an RWMutex to allow concurrent reads of these countersOriginally added in to address  Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. Update Go to ..;Includes security fixes for cryptoelliptic CVE mathbig CVEand cmdgo CVE.go.. released includes security fixes to the cryptoellipticmathbig packages and to the go command as well as bug fixes to the compilerlinker runtime the go command and the debugmacho debugpe nethttphttptestand testing packages. See the Go .. milestone on our issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedfull diff golanggogo.....go.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;Includes security fixes for cryptoelliptic CVE mathbig CVEand cmdgo CVE.go.. released includes security fixes to the cryptoellipticmathbig packages and to the go command as well as bug fixes to the compilerlinker runtime the go command and the debugmacho debugpe and nethttphttptestpackages. See the Go .. milestone on our issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedfull diff golanggogo.....go.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor fsnotify v.. mobysysmountinfo v.. mobysyssignal v..;vendor github.comfsnotifyfsnotify v..full diff fsnotifyfsnotifyv.....v..Relevant changesFix unsafe pointer conversionDrop supporttesting for Go . and earlierUpdate xsys to latestadd gobuild linesadd go . to test matrixvendor github.commobysysmountinfo v..full diff mobysysmountinfov.....mountinfov..Add MountedFast Note most users should keep using Mounted which alreadyincorporates all optimizations from MountedFastvendor github.commobysyssignal v..full diff mobysyssignalv.....signalv..add LCOW supported signals to windows signal map       The text was updated successfully but these errors were encountered
vendor.mod googlegocmp v.. golang.orgxoauth v..fabc containerd v..;followup to replacing some more replace rulesvendor github.comgooglegocmp v..Remove the replace rule and use the version as specified by indirect dependenciesfull diff googlegocmpv.....v..vendor golang.orgxoauth v..fabcRemove the replace rule and use the version as specified by indirect dependenciesfull diff golangoauthbfbf...fabvendor github.comcontainerdcontainerd v..no significant changes in vendored code we already updated imagespec to v..full diff containerdcontainerdv.....v..       The text was updated successfully but these errors were encountered
remove some redundant fmt.Sprintf's;Had this stashed in my local git so thought to push it as a PR most changes are in testcode except for the libnetworknetworkdb code.       The text was updated successfully but these errors were encountered
vendor.mod reduce number of replace rules update some dependencies;this is a followup to Trying to reduce the number of replace rules in our vendor.mod these were added so that switching from vendor.conf to vendor.mod did not cause a large diff in vendored dependencies.In this PR I removed some replace rules that either caused no diff or were generally safe to update or caused only a minor but reviewable diff. Summary of the changes belowvendor golang.orgxtext v..to match the version used by golang.orgxcryptofull diff golangtextv.....v..vendor golang.orgxtime v..ffcecRemove the replace rule and use the version as specified by indirect dependenciesfull diff golangtimeaf...ffcevendor golang.orgxnet v..ebaddcRemove the replace rule and use the version as specified by indirect dependenciesfull diff golangneteecbb...ebavendor go.etcd.iobbolt v..Remove the replace rule and use the version as specified by indirect dependenciesfull diff etcdiobboltv.....v..vendor github.comklauspostcompress v..Remove the replace rule and use the version as specified by indirect dependenciesfull diff klauspostcompressv.....v..vendor github.compelletiergotoml v..Remove the replace rule and use the version as specified by indirect dependenciesfull diff pelletiergotomlv.....v..vendor.mod don't replace github.comonsiginkgo github.comonsigomegaThey're not vendored so no changes in the vendored code.vendor.mod don't replace github.comhpcloudtailIt's not vendored so no changes in vendored codevendor github.comgoogleuuid v..Remove the replace rule and use the version as specified by indirect dependenciesfull diff googleuuidv.....v..vendor.mod don't replace gopkg.infsnotify.vIt's not vendored so no changes in vendored codevendor.mod don't replace github.comcontainerdcontainerdLooks like the replace rule was also matching what we're already vendoringso we can remove itgithub.comcontainerdcontainerd v.. github.comcontainerdcontainerd v..vendor.mod don't replace github.comstretchrtestifyIt's not vendored so no changes in vendored codevendor github.comgrpcecosystemgogrpcmiddleware v..removing the replace rule no actual code changes in the vendored files onlysome changes in docs.full diff grpcecosystemgogrpcmiddlewarev.....v..vendor github.comprometheuscommon v..Only a single change affecting the vendored codeSupport for model.Durationfull diff prometheuscommonv.....v..       The text was updated successfully but these errors were encountered
fixcheckconfig.sh Check for existence of etcosrelease before sourcing;What I didFixed a bug in the checkconfig.sh script when the system does not have the file etcosrelease. If this file does not exist then the script dies when trying to source the file and does not continue with the rest of the checks. This was obs
. backport daemongraphdriverfuseoverlayfs Init fix directory permissions staticcheck;backport of daemongraphdriverfuseoverlayfsfuseoverlayfs.go SA file mode '' evaluates to did you mean '' staticcheck if err idtools.MkdirAllAndChownpath.Joinhome linkDir currentID err nil   Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
hackvendor.sh run go mod tidy before vendoring;relates to comment comment commentThe hackvendor.sh script is used to revendor dependencies. However it didnot run go mod tidy before doing so wheras the vendor validation scriptdid.This could result in vendor validation failing if go mod tidy resulted inchanges which could be in vendor.sum.In usual situations this could be easily done by the user go mod tidybefore running go mod vendor but due to our curent uses of vendor.modand having to first set up a dummy go.mod this is more complicated.Instead just make the script do this so that hackvendor.sh will alwaysproduce the expected result.Signedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgnamesgenerator remove namesgenerator binary;This binary was added in but no motivation other than this could be nice. Searching if it's used by anyone I found only two occurrences both of which were just examples or indexing resultshttpsgithub.comkovetskiymanulblobeaeeebfdefdbdfetreeexamplesdocker.txtLhttpsgithub.comsourcererioawesomelibrariesblobbebceefaceaeadebsynccachelibrariesioGoGo.jsonL Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Freeze the namesgenerator package against new additions;See the added commentdocumentation within the package for more details.We discussed this and the problems it has caused historically in today's maintainer meeting and there was some consensus that starting with a freeze on the existing file is a good compromise for now.       The text was updated successfully but these errors were encountered
clientrequest.go SA err.Temporary is deprecated staticcheck;relates to commentIt's deprecated in Go .clientrequest.go SA err.Temporary is deprecated Temporary errors are not welldefined. Most temporary errors are timeouts and the few exceptions are surprising. Do not use this method. staticcheck if err.Temporary         The text was updated successfully but these errors were encountered
daemongraphdriverfuseoverlayfs Init fix directory permissions staticcheck;extracting this from as this looked like a genuine bug in case we want to backport thisdaemongraphdriverfuseoverlayfsfuseoverlayfs.go SA file mode '' evaluates to did you mean '' staticcheck if err idtools.MkdirAllAndChownpath.Joinhome linkDir currentID err nil   Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Dockerfile update golangcilint v..;Looks like this may be needed for Go . commentdepends on         The text was updated successfully but these errors were encountered
pkgsystem remove unused HasWinKSupport and rewrite IsWindowsClient;pkgsystem remove unused HasWinKSupportThis was added in eaa to check image compatibility based on Platform.Features For now hard code that all base images except nanoserver depend on wink supportif imageData.Name nanoserver  imageData.OSFeatures appendimageData.OSFeatures winkBut no longer used since fbc and d pkgsystem rewrite IsWindowsClient using golang.orgxsyswindows       The text was updated successfully but these errors were encountered
Remove various leftover LCOW checks;daemonimages remove leftover LCOW platform checksThis removes some of the checks that were added in cba but should no longer be needed.ImageService.ImageDelete no need to validate image platform to delete it.ImageService.ImageHistory no need to validate image platform to show itshistory if it made it into the local image cache it should be valid.ImageService.ImportImage dockerfile.BuildFromConfig is used fordocker container commmit and docker image import. For docker importit's more transparent to perform validation early.ImageService.LookupImage no need to validate image platform to inspect itif it made it into the local image cache it should be valid.ImageService.SquashImage same. This code was actually broken because itwrapped an err that was always nil so would never return an error.image remove leftover LCOW platform checksThis removes some of the checks that were added in cba but should no longer be needed.imagestore.Delete no need to validate image platform to delete it.imagetarexportertakeLayerReference use image.OperatingSystem andfail early to prevent constructing the ChainID.builderdockerfile remove leftover LCOW platform checksThis removes some of the checks that were added in cba but should no longer be needed.dockerfile.BuildFromConfig is used for docker container commmit anddocker image import. For docker import we're failing early already.For commit it won't be possible to have a container that doesn't have theright operatingsystem so there's no need to validate.dispatchRequest.getImageOrStage simplify the check all checks resultedin an error on Windows so it came down to Windows does not support FROM scratch.dispatchState.beginStage image.OperatingSystem already defaults to theruntime.GOOS if unset so remove the local default fallback.daemon remove leftover LCOW platform checksThis removes some of the checks that were added in cba but should no longer be needed.Daemon.create fix the error message which assumed it could only occur on Windows.Daemon.cleanupContainer no need to validate container platform to delete it.Daemon.containerExport if a container was created we should be able toexport it no need to validate.ImageService.ReleaseLayer remove unused containerOS argumentThis looks to be a leftover from LCOW.daemon.cleanupContainer remove named return variableIt only made the code more difficult to read adding cognitive overload.layer remove OS from layerstoreThis was added in commits fcbf and fbf in support of LCOW but was now always set to runtime.GOOS.       The text was updated successfully but these errors were encountered
layer remove unused error return from .Size and .DiffSize;None of the implementations used return an error so removing the errorreturn can simplify using these.       The text was updated successfully but these errors were encountered
daemonimages.NewImageService don't print debug logs;These logs were meant to be logged when starting the daemon. Moving the logsto the daemon startup code which also prints similar messages instead ofhaving the images service log them.       The text was updated successfully but these errors were encountered
. vendor github.comdockerdistribution v..;full diff thaJeztahdistributionfe...distributionv..taking my own fork for the diff link as the samuelkarp fork didn't have a reference to the upstream Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comdockerdistribution v..;full diff httpgithub.comdockerdistributioncomparedefadf...v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
distribution remove RootFSDownloadManager interface and remove os argument from Download;distribution remove RootFSDownloadManager interfaceThis interface only had a single implementation xfer.LayerDownloadManager and all places where it was used already imported the xfer package. Removing the interface also makes it a closer match to the upload part as xfer.LayerUploadManager did not use an interface.distribution xfer.LayerDownloadManager.Download remove os argumentThis argument was added for LCOW support but it was only used to verify if the passed platform OS matched the host. Given that all uses of this function except for one passed runtime.GOOS we may as well move the check to that location.We should do more cleaning up after this and perform such validations early instead of passing platform around in too many places where it's only used for similar validations. This is a first step in that direction.       The text was updated successfully but these errors were encountered
api remove HostConfig.LxcConf field from swagger and docs;Commit bfac docker . removed support for the LXC runtime and removed the corresponding fields from the API v..This patch removes the HostConfig.LxcConf field from the swagger definition and documentation.       The text was updated successfully but these errors were encountered
. backport docs update API v. and v. docs with fixes from apiswagger;backport ofwhich is a cherrypick of and a cherrypick of        The text was updated successfully but these errors were encountered
docs update API v. and v. docs with fixes from apiswagger;This brings over the fixes from and to the documentation for API v. and v.. The patches didn't apply cleanly to older versions so keeping that for a future exercise.I applied the patches using the steps belowcurl fsSL O httpsgithub.commobymobypull.patchsed i 'sapiswagger.yamldocsapiv..yamlg' .patchgit am s S .patchsed i 's|docsapiv\.\.yaml|docsapiv\.\.yaml|g' .patchgit am s S .patchcurl fsSL O httpsgithub.commobymobypull.patchsed i 'sapiswagger.yamldocsapiv..yamlg' .patchgit am s S .patchsed i 's|docsapiv\.\.yaml|docsapiv\.\.yaml|g' .patchgit am s S .patch       The text was updated successfully but these errors were encountered
dockerpy skip CreateContainerTesttestcreatewithdevicecgrouprules;relates to commentdockerdockerpyThis test is verifying that the container has the right options set throughdocker inspect but also checks if the cgrouprules are set within the containerby reading sysfscgroupdevicesdevicesUnlike cgroups v on cgroups v there is no file interface and rules are handledthrough ebpf which means that the test will fail because this file is not present.From the Linux documentation for cgroups v httpsgithub.comtorvaldslinuxblobv.Documentationadminguidecgroupv.rstdevicecontroller...Device controller manages access to device files. It includes both creation ofnew device files using mknod and access to the existing device files.Cgroup v device controller has no interface files and is implemented on top ofcgroup BPF. To control access to device files a user may create bpf programsof type BPFPROGTYPECGROUPDEVICE and att       The text was updated successfully but these errors were encountered
. backport Jenkinsfile remove Windows RS as it reached end of support;backport of It was already disabled by default but removing it now that it reachedend of the line.       The text was updated successfully but these errors were encountered
. backport Fix for lack of syncronization in daemonupdate.go;backport of fixes  What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport daemonlogger read the length header correctly;fixes Backport ofBefore this change if Decode couldn't read a log record fullythe subsequent invocation of Decode would read the record's nonheader partas a header and cause a huge heap allocation.This change prevents such a case by having the intermediate buffer inthe decoder struct.Fixes . What I didChanging decoder struct to fix . How I did itChanging decoder struct to keep readbutunused bytes. How to verify itRun docker logs f docker run rm d logdriver local alpine cat devurandom devnull. It kills dockerd after a few minutes before the change. Description for the changelog A picture of a cute animal not mandatory but encouragedfrom httpswww.zooborns.comzoobornstwoverydifferentbabiesemergeatwoodlandparkzoo.html       The text was updated successfully but these errors were encountered
Fixed broken links in project documentation files.;NOM
Removed slack row in contributing.md;Removed the slack row in the table in contributing.md because the slackchannel doesn't exist anymore.       The text was updated successfully but these errors were encountered
. update Go to ..;go.. released includes fixes to the compiler linker runtimeand the nethttp package. See the Go .. milestone on our issue tracker fordetailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes fixes to the compiler linker runtimeand the cryptox nethttp and reflect packages. See the Go .. milestoneon our issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update containerd binary v.. runc v.. and some script changes;Per discussion on commentCan we backport this to .containerd v. EOL is very soon February httpsgithub.comcontainerdcontainerdblobmainRELEASES.mdsupporthorizonThis backports the containerd binary changes to the . branch for testing first roling back reverting the .only commits then cherrypicking the updates from master to preserve history of those commitsrevert revert revert revert revert revert revert cherrypick cherrypick cherrypick cherrypick only the first commit containerd binary not the vendoring changescherrypick only the first commit containerd binary not the vendoring changescherrypick only the first commit containerd binary not the vendoring changescherrypick cherrypick cherrypick cherrypick only the first commit containerd binary not the vendoring changescherrypick only the first commit runc binary not the vendoring changescherrypick details below httpsgithub.commobymobypullgit revert s S ddeacfabdbadcdeb httpsgithub.commobymobypullgit revert s S acfeafbedefbecfgit revert s S dffaadacd httpsgithub.commobymobypullgit revert s S efbfacddbbcedcfcdd httpsgithub.commobymobypullgit revert s S accecefadd httpsgithub.commobymobypullgit revert s S aafdfaeeeba httpsgithub.commobymobypullgit revert s S ecaaecfefbddfb httpsgithub.commobymobypullgit revert s S fcbffcafbfca httpsgithub.commobymobypullgit cherrypick s S x bfbccaebbfccbfdc httpsgithub.commobymobypullgit cherrypick s S x cebdfbcbfadb httpsgithub.commobymobypullgit cherrypick s S x efcfeefdebfbba httpsgithub.commobymobypullgit cherrypick s S x aeafeebabecdbbdddec httpsgithub.commobymobypullgit cherrypick s S x cfcdbfdbfbbdafd httpsgithub.commobymobypullgit cherrypick s S x abeafdeaeaef httpsgithub.commobymobypullgit cherrypick s S x bcebffcfebaabb httpsgithub.commobymobypull see if this worksgit cherrypick s S x ccaccdedabcafbdgit cherrypick s S x cecbcdedcfddaadcecacd conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see belowgit cherrypick s S x aaccdceebfcaefcafaa conflict because hackdockerfileinstalltomll.installer is not in this branchgit cherrypick s S x ffdaefeadffe conflict in Dockerfile.windows not yet having CONTAINERDVERSION in itgit cherrypick s S x bdbbccbdb httpsgithub.commobymobypull conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see belowgit cherrypick s S x babfbaaebefaafbgit cherrypick s S x faabeaeddffef httpsgithub.commobymobypullgit cherrypick s S x aeffeccbecdbcbbffa httpsgithub.commobymobypullgit cherrypick s S x accebddccbaaad httpsgithub.commobymobypull conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see belowgit cherrypick s S x dfeadafcffaaebfaConflicts in aaccdceebfcaefcafaa and cherrypicks after that due to Dockerfile.windows not yet having CONTAINERDVERSION in it in the . branchdiff cc Dockerfile.windowsindex debdfcea.. aDockerfile.windows bDockerfile.windows FROM microsoftwindowsservercor Use PowerShell as the default shell SHELL powershell Command ErrorActionPreference 'Stop' ProgressPreference 'SilentlyContinue' HEAD ARG GOVERSION.. ARG GOTESTSUMCOMMITv.. ARG GOVERSION.. ARG CONTAINERDVERSION.. ARG GOTESTSUMVERSIONv.. aacc Dockerfile use version for some utilities instead of commitsha Environment variable notes GOVERSION must be consistent with 'Dockerfile' used by Linux.       The text was updated successfully but these errors were encountered
. backport backport fluentd log driver async connect fix;cherry picks offixes fixes fixes Currently the fix for the issue is only merged into master. We want to get released sooner if possible.This issue shows the impact for AWS customers awsamazonecsagentAnd this comment in that issue shows how I tested both the original PR and this backport awsamazonecsagent comment       The text was updated successfully but these errors were encountered
Remove some unused ci scripts;Some cleaning up of files that are no longer used       The text was updated successfully but these errors were encountered
Jenkinsfile remove Windows RS as it reached end of support;It was already disabled by default but removing it now that it reachedend of the line.Thanks for the reminder tianon ?ÿà httpstwitter.comtianonstatuss       The text was updated successfully but these errors were encountered
Do not panic on empty quoted string argument;What I didFix the handling of empty or single characters command line arguments such astlscacert or tlscacert' How I did itEnsure the argument is at least characters. How to verify itAdded a unit test to handle both cases Descripti
awslogs replace channelbased mocks;What I didawslogs replace channelbased mocksrelated to  How I did itRewrote the mock so tests define mock functions rather than specifying inputs and outputs via channels. This reduces the overall number and use of channels in the unit t
update containerd binary to v..;What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but t
docs fixing execidresize response code in API documentation;This takes the changes from ae and f and applies them to older API versions in the docs directory which are used for the actual documentation. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
test fix a simple goroutine leak in distributionxfer;What I didFixed a leaked goroutine in a unit test. How I did itAdded close channel operation to make the leaked goroutine return How to verify itTestCancelledDownload creates a channel progressChan and creates a child goroutine to range from it.
Fixing execidresize response code in API documentation;What I didThese commits fix the execidresize endpoint documentation by updating the success code from Created to OK and adding errors such as and errors. How I did itI modified the apiswagger.yaml file and updatedadded the cor
Use syscall.Timespec.Unix;Use the syscall method instead of repeating the type conversions forthe syscall.Statt AtimMtim members. This also allows to drop thenolint unconvert comments.       The text was updated successfully but these errors were encountered
Remove unnecessary exclusions from golangcilint.yaml;Signedoffby Kazuyoshi Kato katokazuamazon.com What I didAddress some TODOs and FIXMEs on golangcilint.yaml How I did itJust adjust them on the YAML file. I don't have to change the actual implementation. How to verify itRelying on Jenkins Description for the changelogNA A picture of a cute animal not mandatory but encouragedfrom httpswww.zoo.orgambassadoranimalsmammals       The text was updated successfully but these errors were encountered
systemd start dockerd after timeset.target;What I didMake docker daemon wait for systemd's timeset.target to be reached so runaway hardwareclocks don't cause certificate issues on boot when using docker swarm on embedded or singleboard computers.Detailed information can be found in
daemonlogger refactor followLogs and replace flaky TestFollowLogsHandleDecodeErr;NOM
Remove ioioutil again;I've added ioioutil again due to . This PR adds golangcilint check and removes ioioutil. What I didAdd golangcilint check regarding ioioutilRemove ioioutil How I did itSame as above  How to verify itI pushed the changes separately to make sure that golangcilint catches the issue correctly. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add support for platform os and architecture on image import;fixes fixes dockercliCommit fbf part of added the ability to pass a platform flag on docker import when importing an archive. The intent of that commit was to allow importing a Linux rootfs on a Windows daemon as part of the experimental LCOW feature.A later commit ba part of changed some of this code to take both OS and Architecture into account for docker build and docker pull but did not yet update the docker image import.This patch updates the import endpoitn to allow passing both OS and Architecture. Note that currently only matching OSes are accepted and an error will be produced when e.g. specifying linux on Windows and viceversa. How to verify itA test has been added which can be run withmake DOCKERGRAPHDRIVERvfs TESTSKIPINTEGRATIONCLI TESTFLAGS'test.run TestImportWithCustomPlatform' testintegration...INFO Testing against a local daemon RUN TestImportWithCustomPlatform PAUSE TestImportWithCustomPlatform CONT TestImportWithCustomPlatform RUN TestImportWithCustomPlatform RUN TestImportWithCustomPlatform RUN TestImportWithCustomPlatform RUN TestImportWithCustomPlatformlinux RUN TestImportWithCustomPlatformLINUX RUN TestImportWithCustomPlatformlinuxsparc RUN TestImportWithCustomPlatformmacos RUN TestImportWithCustomPlatformmacosarm RUN TestImportWithCustomPlatformnintendo PASS TestImportWithCustomPlatform .s PASS TestImportWithCustomPlatform .s PASS TestImportWithCustomPlatform .s PASS TestImportWithCustomPlatform .s PASS TestImportWithCustomPlatformlinux .s PASS TestImportWithCustomPlatformLINUX .s PASS TestImportWithCustomPlatformlinuxsparc .s PASS TestImportWithCustomPlatformmacos .s PASS TestImportWithCustomPlatformmacosarm .s PASS TestImportWithCustomPlatformnintendo .sPASS Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor use go mod rebase after removal of deprecated hostdiscovery;this is a rebase of to see if it's easy to redo the go mod changes if would be merged firstI made some changes in separate commits could be squashed using this draft PR to check CI.       The text was updated successfully but these errors were encountered
vendor github.comfluentfluentloggergolang v..;NOM
integrationcli delete existing docker bridge to prevent it interfering;relates to see discussion there for detailsrelates to A number of tests in the TestDockerDaemonSuite create a custom bridge as partof the test. In some cases an existing docker bridge could interfere withthose tests. For example the TestDaemonICCLinkExpose and TestDaemonICCPingverify that no icc communication is possible and for this create a newbridge with a custom IPrange.However depending on which tests ran before the test a default docker bridgemay exist e.g. if theTestDefaultGatewayIPvImplicit with the same IPrangein which iptables rules may have been set up that allow communication and thusmake the icc tests fail.This patch removes the docker interface at the start of tests that createtheir own bridge to prevent it from interfering.Note that alternatively we could update those tests to use an IPrange that'sless likely to overlap but this may be more brittle but could still be donein addition to this change as a followup.To verify these changesmake DOCKERGRAPHDRIVERvfs TESTSKIPINTEGRATION TESTFLAGS'test.run TestDockerDaemonSuiteTestDaemonDefaultGatewayIPv|ICC' testintegrationcli A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
fileutils Avoid compiling a regexp for simple patterns;If we detect that a pattern is either an exact match prefix match orsuffix match use an optimized code path instead of compiling a regexp.       The text was updated successfully but these errors were encountered
seccomp add support for swapcontext syscall in default policy;What I did How I did itThe swapcontext system call is only available on the and bit PowerPC architecture it isused by modern programming language implementations such as gccgo toimplement coroutine features through userspace context swit
system unbreak build for darwin;regression from Ideally CI could catch similar issues in the future. Atm it doesn't as dockerd is not built on darwin but packages are used in cli buildx etc that do have darwin builds.Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
. backport daemon.WithCommonOptions fix detection of usernamespaces;Cherrypick Commit daee added support for nonprivileged containers to use ICMPPROTO used for ping. This option cannot be set for containers that have usernamespaces enabled.However the detection looks to be incorrect HostConfig.UsernsMode was added in e ee and the property only has meaning if the daemon is running with user namespaces enabled. In other situations the property has no meaning.As a result of the above the sysctl would only be set for containers running with UsernsModehost on a daemon running with usernamespaces enabled.This patch adds a check if the daemon has usernamespaces enabled RemappedRoot having a nonempty value to fix the detection. Description for the changelog A picture of a cute animal not mandatory but encouragedThe cherrypick was almost clean but userns.RunningInUserNS sys.RunningInUserNS.diff git adaemonocilinux.go bdaemonocilinux.goindex bbf..ddcbd  adaemonocilinux.go bdaemonocilinux.go func WithCommonOptionsdaemon Daemon c container.Container coci.SpecOpts  if c.HostConfig.NetworkMode.IsPrivate  We cannot set up ping socket support in a user namespace userNS daemon.configStore.RemappedRoot c.HostConfig.UsernsMode.IsPrivate if userNS userns.RunningInUserNS sysctlExistsnet.ipv.pinggrouprange  if userNS sys.RunningInUserNS sysctlExistsnet.ipv.pinggrouprange  allow unprivileged ICMP echo sockets without CAPNETRAW s.Linux.Sysctlnet.ipv.pinggrouprange  Fix dockerbuildx       The text was updated successfully but these errors were encountered
update runc to v..;httpsgithub.comopencontainersruncreleasestagv..rc.httpsgithub.comopencontainersruncreleasestagv..       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes security fixes to the syscall and nethttppackages. See the Go .. milestone on the issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update Go to ..;go.. released includes security fixes to the syscall and nethttppackages. See the Go .. milestone on the issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes fixes to the compiler linker runtimeand the gotypes nethttp and time packages. See the Go .. milestone onthe issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update Go to ..;go.. released includes fixes to the compiler runtime and thenethttp nethttphttptest and time packages. See the Go .. milestone onthe issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Bump up runc v..;What I didBumped up runc to v..httpsgithub.comopencontainersruncreleasestagv.. Description for the changelogbump up runc v.. A picture of a cute animal not mandatory but encouraged    
dockerrootlesssetuptools.sh use context after install;What I diduse the rootless context after installation. closes  How I did it How to verify it contribdockerdrootlesssetuptool.sh install...INFO Creating CLI context rootlessSuccessfully created context rootlessINFO Use CLI co
go.mod golang.orgxcrypto defffdfcefdfefc;full diff golangcryptocfe...includes a fix in golang.orgxcryptossh for CVEgolanggogolangcrypto Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon.WithDevices use containerd's HostDevices;Trying to reduce the use of libcontainerdevices as it's considered to be an internal package by runc.relates to commentrelates to containerdcontainerd       The text was updated successfully but these errors were encountered
Fix missing parent info case in MatchesUsingParentResults;Unfortunately this check was missing in the original version. It couldcause a positive match to be overwritten by checking parent dirs.       The text was updated successfully but these errors were encountered
distribution validate blob type;What I didValidate blob media type How I did itCherrypicked cfc over from the . branch. How to verify itUnit tests Description for the changelogNA change already covered in the .. changelog   
daemonlogger read the length header correctly;Before this change if Decode couldn't read a log record fullythe subsequent invocation of Decode would read the record's nonheader partas a header and cause a huge heap allocation.This change prevents such a case by having the intermediate buffer inthe decoder struct.Fixes .Signedoffby Kazuyoshi Kato katokazuamazon.com What I didChanging decoder struct to fix . How I did itChanging decoder struct to keep readbutunused bytes. How to verify itRun docker logs f docker run rm d logdriver local alpine cat devurandom devnull. It kills dockerd after a few minutes before the change. Description for the changelog A picture of a cute animal not mandatory but encouragedfrom httpswww.zooborns.comzoobornstwoverydifferentbabiesemergeatwoodlandparkzoo.html       The text was updated successfully but these errors were encountered
fix image spec JSON example;NOM
pkgfileutils Track incremental pattern match results against each pattern;The existing code does not correctly handle the case where a filematches one of the patterns but should not match overall because of anexclude pattern that applied to a parent directory seedockerbuildx.Fix this by independently tracking the results of matching against eachpattern. A file should be considered to match any pattern that matched aparent dir.       The text was updated successfully but these errors were encountered
vendor github.comMicrosofthcsshim v..;followup to full diff microsofthcsshimv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comcontainerdttrpc v..;followup to full diff containerdttrpcv.....v..client Handle sendingreceiving in separate goroutinesReturn Unimplemented when services or methods are not implementedgo.mod sirupsenlogrus v..go.mod update dependenciesgo.mod github.comgogoprotobuf v..go.mod google.golang.orggrpc v..go.mod google.golang.orggenproto v..ecdfgo.mod github.comprometheusprocfs v..replace pkgerrorsRename branch from master to mainUse GitHub Actions for CIMake go test and go build work on macOSAdd protocgengottrpc Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Dockerfile.windows update containerd binary to v..;This was accidentally forgotten in aeff whoops A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
TestConntrackFlowsLeak use busybox nc;extracted from this is another attempt at replaces closes to addresspart of  comment commentThe appropriatenc image was last built over years ago and uses the deprecated v schema format httpsgithub.comappropriatedockernctreemasterlatestThe image is just a plain apk install of netbsdnetcat but was added in cb because at the time the busybox nc had some bugs.These appear to be resolved so we can use the busybox nc from the frozen images.       The text was updated successfully but these errors were encountered
integrationcli remove manifest v schema push tests;Pushing manifest v schema images has been deprecated in commits f and dbb docker .. While it's still used in some tests to provision a legacy registry to test pulling legacy images which is still supported we should no longer have to validate pushing for other scenarios.This patch removes the schema push tests and inlines the code that was extracted in nonexported functions for them to be shared between schema and schema tests.Relates todockerroadmap A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. fix vendor validation;Looks like vndr didn't like the replace rule missing a schemegithub.comdockerdistribution Err exit status out fatal repository 'github.comsamuelkarpdockerdistribution' does not existgithub.comcontainerdcontainerd Err exit status out fatal repository 'github.commobycontainerd' does not existWhile at it I also replaced the schem for goimmutableradix because GitHubis deprecating the git protocol.       The text was updated successfully but these errors were encountered
. backport vendor github.comopencontainersimagespec v..;cherrypick of Bring mediaType out of reserved statusspecsgo adding mediaType to the index and manifest structuresfull diff opencontainersimagespecv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comopencontainersimagespec v..;Bring mediaType out of reserved statusspecsgo adding mediaType to the index and manifest structuresfull diff opencontainersimagespecv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update containerd binary and vendor to v..;update containerd binary to v..The eighth patch release for containerd . contains a mitigation for CVEas well as several fixes and updates.Notable UpdatesHandle ambiguous OCI manifest parsingFilter selinux xattr for image volumes in CRI pluginUse DeactiveLayer to unlock layers that cannot be renamed in Windows snapshotterFix pull failure on unexpected EOFClose task IO before waiting on deleteLog a warning for ignored invalid image labels rather than erroringUpdate pull to handle of nonhttps urls in descriptorsSee the changelog for complete list of changesvendor github.comcontainerdcontainerd v..contains a mitigation for CVE as well as several fixes and updates.full diff containerdcontainerdv.....v..       The text was updated successfully but these errors were encountered
. update containerd binary to v..;The twelfth patch release for containerd . contains a few minor bug fixesand an update to mitigate CVE.Notable UpdatesHandle ambiguous OCI manifest parsing GHSAjwgmUpdate pull to try next mirror for non errorsUpdate pull to handle of nonhttps urls in descriptorsSee the changelog for complete list of changes What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. vendor github.commobybuildkit v..gbcbb;imageutil make mediatype detection more stricter to mitigate CVE.full diff mobybuildkitecd...bcbb Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comopencontainersselinux v..;full diff opencontainersselinuxv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix flaky TestPortMappingVConfig;Since mobylibnetwork has been merged allocatePortsInternalchecks if IPv is enabled by calling IsVListenable. This functioncalls net.Listentcp and returns false whennet.Listen fails.TestPortMappingVConfig starts by setting up a new net ns to run intoit. The loopback interface is not bring up in this net ns thusnet.Listen fails and IsVListenable returns false. This change takescare of bringing loopback iface up right after moving to the new net ns.This test has been reported as flaky on sx in . For somereason this test seems to be consistently green on the CI on amdarch and when running hacktestunit locally. However it consistentlyfails when running TESTFLAGS'shuffle on' hacktestunit locally.       The text was updated successfully but these errors were encountered
Jenkinsfile update checkconfig script to latest version;Diffgit diff bbeccbeea...aedecbffdeee contribcheckconfig.shdiff git acontribcheckconfig.sh bcontribcheckconfig.shindex ef..eb  acontribcheckconfig.sh bcontribcheckconfig.sh usrbinenv bashusrbinenv sh set e  EXITCODE EXITCODE bits of this were adapted from lxccheckconfig see also httpsgithub.comlxclxcbloblxc..srclxclxccheckconfig.in possibleConfigs'procconfig.gz'bootconfiguname rusrsrclinuxuname r.config'usrsrclinux.config'possibleConfigsprocconfig.gzbootconfiguname rusrsrclinuxuname r.configusrsrclinux.config  if gt then CONFIG else CONFIGpossibleConfigs CONFIGprocconfig.gz fi if command v zgrep devnull thenif command v zgrep devnull then zgrep  zcat | grep   issetasmodule    color local codescodes if 'bold' thencodescodes ''codes'' shift fi if gt thenlocal codecode case in  see httpsen.wikipedia.orgwikiANSIescapecodeColors black code  color  white code  esac if code thencodescodes codecodescodescodescode fi filocal IFS''echo en '\'codes'm'printf '\sm' codes  wrapcolor  text shift color echo n textprintf 's' text color reset echo  checkflag   checkflags  for flag in doecho n printf ' ' checkflag flag done  checkdevice    checkdistrouserns source etcosrelease devnull || bintrueif ID centos|rhel VERSIONID then this is a CentOS or RHEL systemgrep q usernamespace.enable proccmdline ||  no user namespace support enabledwrapbad RHELCentOS User namespaces disabled add 'usernamespace.enable' to boot command lineEXITCODEfi. etcosrelease devnull || bintruecase ID incentos | rhelcase VERSIONID in this is a CentOS or RHEL systemgrep q 'usernamespace.enable' proccmdline ||  no user namespace support enabledwrapbad RHELCentOS User namespaces disabled add 'usernamespace.enable' to boot command lineEXITCODEesacesac   if e CONFIG then wrapwarning warning CONFIG does not exist searching other paths for kernel config ...for tryConfig in possibleConfigs dofor tryConfig in possibleConfigs do if e tryConfig then CONFIGtryConfig break echo  echo 'Generally Necessary' echo n ' 'printf ' ' if stat f c t sysfscgroup devnull '' thenecho wrapgood 'cgroup hierarchy' 'cgroupv'wrapgood 'cgroup hierarchy' 'cgroupv'cgroupvControllerFile'sysfscgroupcgroup.controllers'if f cgroupvControllerFile thenecho ' Controllers'for controller in cpu cpuset io memory pids doif grep qE '| 'controller'| ' cgroupvControllerFile thenecho wrapgood controller 'available'elseecho wrapbad controller 'missing'fidoneelsewrapbad cgroupvControllerFile 'nonexistent'fi TODO find an efficient way to check if cgroup.freeze exists in subdir elsecgroupSubsystemDirawk ' cpu|cpuacct|cpuset|devices|freezer|memory cgroup print ' procmounts | head ncgroupSubsystemDirsed rne ' cgroup cpu|cpuacct|cpuset|devices|freezer|memory . s\p q ' procmounts cgroupDirdirname cgroupSubsystemDir if d cgroupDircpu || d cgroupDircpuacct || d cgroupDircpuset || d cgroupDirdevices || d cgroupDirfreezer || d cgroupDirmemory then echo wrapgood 'cgroup hierarchy' 'properly mounted' cgroupDir else fi  if cat sysmoduleapparmorparametersenabled devnull 'Y' thenecho n ' 'if command v apparmorparser devnull thenprintf ' 'if command v apparmorparser devnull then wrapgood 'apparmor' 'enabled and tools installed' else wrapbad 'apparmor' 'enabled but apparmorparser missing'echo n ' 'if command v aptget devnull thenprintf ' 'if command v aptget devnull then wrapcolor 'use aptget install apparmor to fix this'elif command v yum devnull thenelif command v yum devnull then wrapcolor 'your best bet is yum install apparmorparser' else wrapcolor 'look for an apparmor package for your distribution' if cat sysmoduleapparmorparametersenabled devnull 'Y' then fi fi flagsNAMESPACES NETPIDIPCUTSNSCGROUPS CGROUPCPUACCT CGROUPDEVICE CGROUPFREEZER CGROUPSCHED CPUSETS MEMCGKEYSVETH BRIDGE BRIDGENETFILTERIPNFFILTER IPNFTARGETMASQUERADENETFILTERXTMATCHADDRTYPECONNTRACKIPVSNETFILTERXTMARKIPNFNAT NFNAT required for bindmounting devmqueue into containerscheckflags \NAMESPACES NETNS PIDNS IPCNS UTSNS \CGROUPS CGROUPCPUACCT CGROUPDEVICE CGROUPFREEZER CGROUPSCHED CPUSETS MEMCG \KEYS \VETH BRIDGE BRIDGENETFILTER \IPNFFILTER IPNFTARGETMASQUERADE \NETFILTERXTMATCHADDRTYPE \NETFILTERXTMATCHCONNTRACK \NETFILTERXTMATCHIPVS \NETFILTERXTMARK \IPNFNAT NFNAT \ POSIXMQUEUEcheckflags flags POSIXMQUEUE is required for bindmounting devmqueue into containers if kernelMajor lt || kernelMajor eq kernelMinor lt then checkflags DEVPTSMULTIPLEINSTANCES fi fi if kernelMajor lt || kernelMajor eq a kernelMinor le then checkflags NFNATNEEDED fi check availability of BPFCGROUPDEVICE supportif kernelMajor ge || kernelMajor eq kernelMinor ge thencheckflags CGROUPBPFfi  echo  echo 'Optional Features'   if isset LEGACYVSYSCALLNATIVE thenecho n printf ' ' wrapbad CONFIGLEGACYVSYSCALLNATIVE 'enabled' echo wrapcolor 'dangerous provides an ASLRbypassing target with usable ROP gadgets.' bold black elif isset LEGACYVSYSCALLEMULATE thenecho n printf ' ' wrapgood CONFIGLEGACYVSYSCALLEMULATE 'enabled' elif isset LEGACYVSYSCALLNONE thenecho n printf ' ' wrapbad CONFIGLEGACYVSYSCALLNONE 'enabled' echo wrapcolor 'containers using eglibc . will not work. Switch to' bold black echo wrapcolor ' CONFIGVSYSCALLNATIVE|EMULATE or use vsyscallnative|emulate' bold black if kernelMajor lt then checkflags IOSCHEDCFQ CFQGROUPIOSCHED fi flagsBLKCGROUP BLKDEVTHROTTLINGCGROUPPERFCGROUPHUGETLBNETCLSCGROUP netprioCFSBANDWIDTH FAIRGROUPSCHED RTGROUPSCHEDIPNFTARGETREDIRECTIPVSIPVSNFCTIPVSPROTOTCPIPVSPROTOUDPIPVSRRSECURITYSELINUXcheckflags \BLKCGROUP BLKDEVTHROTTLING \CGROUPPERF \CGROUPHUGETLB \NETCLSCGROUP netprio \CFSBANDWIDTH FAIRGROUPSCHED RTGROUPSCHED \IPNFTARGETREDIRECT \IPVS \IPVSNFCT \IPVSPROTOTCP \IPVSPROTOUDP \IPVSRR \SECURITYSELINUX \ SECURITYAPPARMORcheckflags flags  if isset EXTUSEFOREXT then checkflags EXTFS EXTFSXATTR EXTFSPOSIXACL EXTFSSECURITY checkflags OVERLAYFS | sed 's ' EXITCODE  echo \wrapcolor 'zfs' blue\echo n printf ' ' checkdevice devzfsecho n printf ' ' checkcommand zfsecho n printf ' ' checkcommand zpool EXITCODE STORAGE EXITCODE       The text was updated successfully but these errors were encountered
testing skip TestBuildWCOWSandboxSize for now;This test is failing frequently once nodes have less disk spaceavailable. Skipping the test for now but we can continue lookingfor a good solution.Tracked through        The text was updated successfully but these errors were encountered
. backport TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage;backport of fixes testutil daemon.Cleanup cleanup more directoriesThe storagedriver directory caused Jenkins cleanup to fail. While at it alsoremoving other directories that we do not include in the bundles that arestored as Jenkins artifacts.TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storageThis should help with Jenkins failing to clean up the Workspacemake sure cleanup is also called in the defer for all daemons. keepingthe daemon's storage around prevented Jenkins from cleaning up.close client connections and some readers just to be sure Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport info unset cgrouprelated fields when CgroupDriver none;Cherrypick cleanFix  What I didunset cgrouprelated fields when CgroupDriver none How I did itModified daemoninfounix.goP How to verify itBoot the host with cgroup vdockerdrootlesssetuptool.sh installdocker info format json. ... MemoryLimit false SwapLimit false KernelMemory false KernelMemoryTCP false CpuCfsPeriod false CpuCfsQuota false CPUShares false CPUSet false PidsLimit false... CgroupDriver none... Description for the changeloginfo unset cgrouprelated fields when CgroupDriver none A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
bump up rootlesskit from v.. to v..;Minor fixes and refactoring.rootlesscontainersrootlesskitv.....v..       The text was updated successfully but these errors were encountered
log error message when receiving an unexpected type error;What I didLog error message when receiving an error that doesn't match any expected type How I did itSimply add err.Error to logging message How to verify itStop docker api server then use docker client to do client.Infoctx log will be prin
Fix windows rxReservedNames;This regex is currently matching volumes that include a reserved word ex. testauxvolume What I did How I did it How to verify it Description for the changelogFixes rejecting windows volume names that merely contain a reserved word instead of matching exactly       The text was updated successfully but these errors were encountered
TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage;fixes testutil daemon.Cleanup cleanup more directoriesThe storagedriver directory caused Jenkins cleanup to fail. While at it alsoremoving other directories that we do not include in the bundles that arestored as Jenkins artifacts.TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storageThis should help with Jenkins failing to clean up the Workspacemake sure cleanup is also called in the defer for all daemons. keepingthe daemon's storage around prevented Jenkins from cleaning up.close client connections and some readers just to be sure Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comcontainerdcontainerd v..;full diff containerdcontainerdv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comMicrosofthcsshim v..;No significant changes for our vendored code but reverts back containerd minimaldependency to v...full diff microsofthcsshimv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comimdariomergo v..;full diff httpsgithub.comimdariomergocompoarev.....v..relates to containerdcontainerdrelates to dockercli Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes security fixes to the archivezip anddebugmacho packages as well as bug fixes to the compiler linker runtime thego command the miscwasm directory and to the nethttp and syscall packages.See the Go .. milestone on our issue tracker for details.From the announcement emailsecurity Go .. and Go .. are releasedWe have just released Go versions .. and .. minor point releases.These minor releases include two security fixes following the security policyarchivezip don't panic on Reader.OpenReader.Open the API implementing iofs.FS introduced in Go . can be madeto panic by an attacker providing either a crafted ZIP archive containingcompletely invalid names or an empty filename argument.Thank you to Colin Arnott SiteHost and Noah SantschiCooney Sourcegraph CodeIntelligence Team for reporting this issue. This is CVE and Go issuegolang.orgissue.debugmacho invalid dynamic symbol table command can cause panicMalformed binaries parsed using Open or OpenFat can cause a panic when callingImportedSymbols due to an outofbounds slice operation.Thanks to Burak ?çar??k?º?? Yunus Y??ld??r??m CTZer Crypttech for reporting thisissue. This is CVE and Go issue golang.orgissue. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. Update Go to ..;go.. released includes security fixes to the archivezip anddebugmacho packages as well as bug fixes to the compiler linker runtime themiscwasm directory and to the nethttp package. See the Go .. milestonefor details httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedFrom the announcement emailsecurity Go .. and Go .. are releasedWe have just released Go versions .. and .. minor point releases.These minor releases include two security fixes following the security policyarchivezip don't panic on Reader.OpenReader.Open the API implementing iofs.FS introduced in Go . can be madeto panic by an attacker providing either a crafted ZIP archive containingcompletely invalid names or an empty filename argument.Thank you to Colin Arnott SiteHost and Noah SantschiCooney Sourcegraph CodeIntelligence Team for reporting this issue. This is CVE and Go issuegolang.orgissue.debugmacho invalid dynamic symbol table command can cause panicMalformed binaries parsed using Open or OpenFat can cause a panic when callingImportedSymbols due to an outofbounds slice operation.Thanks to Burak ?çar??k?º?? Yunus Y??ld??r??m CTZer Crypttech for reporting thisissue. This is CVE and Go issue golang.orgissue. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Windows cmddockerd create panic.log file without readonly flag;backport of fixes addressesdockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwin What I didCreate panic.log on Windows without the Readonly attribute How I did itSet the bit o owner write permissionos.OpenFilepath os.OCREATE|os.OWRONLY|os.OAPPEND o How to verify itReadOnly should not be setPS GetItem C\ProgramData\docker\panic.log.AttributesArchive NotContentIndexed Description for the changelogAfter docker EE bump to version .. docker service doesn't start properly after reboot with errorfatal open C\ProgramData\docker\panic.log Access is denied.Docker .. and Go version go..PS docker versionServer Mirantis Container Runtime Engine Version .. API version . minimum version . Go version go.. Git commit ebfbc Built  OSArch windowsamd Experimental falseDocker .. and Go version go..mPS docker versionServer Mirantis Container Runtime Engine Version .. API version . minimum version . Go version go..m Git commit db Built  OSArch windowsamd Experimental falseAfter version of Go runtime bumped above . the behavior of OpenFile API is changed httpsgolang.orgdocgo.windowsWindowsGo binaries on Windows now have DEP Data Execution Prevention enabled.On Windows creating a file via os.OpenFile with the os.OCREATE flag or via syscall.Open with the syscall.OCREAT flag will now create the file as readonly if the bit o owner write permission is not set in the permission argument. This makes the behavior on Windows more like that on Unix systems.For examplepackage mainimport logosfunc main f err os.OpenFilepanic.log os.OCREATE|os.OWRONLY|os.OAPPEND if err nil log.Fatalerrif err f.Close err nil log.FatalerrGo ..PS C\go...windowsamd\go\bin\go.exe run .\createfile.goPS GetItem .\panic.log.AttributesArchive NotContentIndexedDesired AccessAppend DataAdd SubdirectoryCreate Pipe Instance Read Attributes SynchronizeDispositionOpenIfOptionsSynchronous IO NonAlert NonDirectory FileAttributesNShareModeRead WriteAllocationSizeOpenResultCreatedGo ..PS C\go...windowsamd\go\bin\go.exe run .\createfile.goPS GetItem .\panic.log.AttributesReadOnly Archive NotContentIndexedDesired AccessAppend DataAdd SubdirectoryCreate Pipe Instance Read Attributes SynchronizeDispositionOpenIfOptionsSynchronous IO NonAlert NonDirectory FileAttributesRShareModeRead WriteAllocationSizeOpenResultCreated A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Windows cmddockerd create panic.log file without readonly flag;fixes addressesdockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwindockerforwin What I didCreate panic.log on Windows without the Readonly attribute How I did itSet the bit o owner write permissionos.OpenFilepath os.OCREATE|os.OWRONLY|os.OAPPEND o How to verify itReadOnly should not be setPS GetItem C\ProgramData\docker\panic.log.AttributesArchive NotContentIndexed Description for the changelogAfter docker EE bump to version .. docker service doesn't start properly after reboot with errorfatal open C\ProgramData\docker\panic.log Access is denied.Docker .. and Go version go..PS docker versionServer Mirantis Container Runtime Engine Version .. API version . minimum version . Go version go.. Git commit ebfbc Built  OSArch windowsamd Experimental falseDocker .. and Go version go..mPS docker versionServer Mirantis Container Runtime Engine Version .. API version . minimum version . Go version go..m Git commit db Built  OSArch windowsamd Experimental falseAfter version of Go runtime bumped above . the behavior of OpenFile API is changed httpsgolang.orgdocgo.windowsWindowsGo binaries on Windows now have DEP Data Execution Prevention enabled.On Windows creating a file via os.OpenFile with the os.OCREATE flag or via syscall.Open with the syscall.OCREAT flag will now create the file as readonly if the bit o owner write permission is not set in the permission argument. This makes the behavior on Windows more like that on Unix systems.For examplepackage mainimport logosfunc main f err os.OpenFilepanic.log os.OCREATE|os.OWRONLY|os.OAPPEND if err nil log.Fatalerrif err f.Close err nil log.FatalerrGo ..PS C\go...windowsamd\go\bin\go.exe run .\createfile.goPS GetItem .\panic.log.AttributesArchive NotContentIndexedDesired AccessAppend DataAdd SubdirectoryCreate Pipe Instance Read Attributes SynchronizeDispositionOpenIfOptionsSynchronous IO NonAlert NonDirectory FileAttributesNShareModeRead WriteAllocationSizeOpenResultCreatedGo ..PS C\go...windowsamd\go\bin\go.exe run .\createfile.goPS GetItem .\panic.log.AttributesReadOnly Archive NotContentIndexedDesired AccessAppend DataAdd SubdirectoryCreate Pipe Instance Read Attributes SynchronizeDispositionOpenIfOptionsSynchronous IO NonAlert NonDirectory FileAttributesRShareModeRead WriteAllocationSizeOpenResultCreated A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix grammar for does not exist;as opposed to does not exists       The text was updated successfully but these errors were encountered
vendor github.commobysysmount v.. mountinfo v.. signal v.. symlink v..;vendor golang.orgxsys v..cdffdbfull diff golangsysb...cdffdvendor github.commobysysmount v.. mountinfo v.. signal v.. symlink v..full diff mobysyssignalv.....signalv..Modulesgithub.commobysysmount v..github.commobysysmountinfo v..github.commobysyssignal v..github.commobysyssymlink v..       The text was updated successfully but these errors were encountered
vendor github.comfluentfluentloggergolang v..;Fixes . What I didUpdate the fluent logger library to v... Following commitsPRs were merged since last bumpAdd callback for error handling when using asyncFix panic when accessing unexported struct fieldProperly stop logger during reconnect failureSupport a TLSenabled connectionDo not allow writing events after fluent.Close How to verify itBefore this change running the following commands would lead to docker hanging on the kill command docker run rm it name test logdriverfluentd logopt fluentdaddressfluentdhost logopt fluentdasynctrue debian binbash c 'echo test sleep infinity' In another terminal docker kill test Description for the changelogForcefully stop fluentd logger when a container stop and the logger is running in async mode.       The text was updated successfully but these errors were encountered
. backport Fix race in TestCreateServiceSecretFileMode TestCreateServiceConfigFileMode;backport of fixes Looks like this test was broken from the start and fully relied on a racecondition. Test was added in eeff The problem is in the service's command ls l etcconfig || bintop whichwill eitherexit immediately if the secret is mounted correctly at etcconfig which it shouldkeep running with bintop if the above failedAfter the service is created the test enters a racecondition checking for task to be running which it ocassionally is after which it proceeds and looksup the list of tasks of the service to get the log output of ls l etcconfig.This is another race first of all the original filter for that task lookup didnot filter by running so it would pick any task of the service either failedrunning or completed successfully exited tasks.In the meantime though SwarmKit kept reconciling the service and creating newtasks so even if the test was able to get the ID of the correct task that taskmay already have been exited and removed tasklimit is by default so onlyif the test was lucky it would be able to get the logs but of course chanceswere likely that it would be too late and the task already gone.The problem can be easily reproduced when running the steps manuallyecho 'CONFIG' | docker config create myconfig docker service create config sourcemyconfigtargetetcconfigmode name myservice busybox sh c 'ls l etcconfig || bintop'The above creates the service but it keeps retrying because each task exitsimmediately followed by SwarmKit reconciling and starting a new taskmjntpfkkyuucdpayhcoooverall progress out of tasks ready verify Detected task failureCOperation continuing in background.Use docker service ps mjntpfkkyuucdpayhcoo to check progress.And checking the tasks for the service reveals that tasks exit cleanly no errorbut do exit so swarm just keeps up reconciling and spinning up new tasksdocker service ps myservice notruncID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTSwmcuvvffnetnybghevn myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Ready Ready less than a second agopbueciqlxay \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete less than a second agoklpsvlakbnilzfkexwp \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agovsunlpienolpkvjpn \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agoorxlbktldfznzzdlijs \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agoThis patch changes the service's command to sleep so that a successful taskafter successfully performing ls l etcconfig continues to be running untilthe service is deleted. With that change the service should usually reconcileimmediately which removes the race condition and should also make it faster This patch changes the tests to use client.ServiceLogs instead of using theservice's tasklist to directly access container logs. This should also fix somefailures that happened if some tasks failed to start before reconciling in whichcase client.TaskList with the current filters could return more tasks thananticipated as it also contained the exited tasks RUN TestCreateServiceSecretFileMode createtest.go assertion failed int int FAIL TestCreateServiceSecretFileMode .s RUN TestCreateServiceConfigFileMode createtest.go assertion failed int int FAIL TestCreateServiceConfigFileMode .s       The text was updated successfully but these errors were encountered
fix TestInvalidRemoteDriver to check underlying error;commit bafe changed how the error wasreturned which is now wrapped causing the test to fail RUN TestInvalidRemoteDriver libnetworktest.go Did not fail with expected error. Actual error Plugin does not implement the requested driver plugininvalidnetworkdriver requested implementationNetworkDriver FAIL TestInvalidRemoteDriver .sChanging the test to use errors.Is A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
distribution do not retry unsupported layer media types;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgfileutils escape additional regex meta characters;What I didAdd additional regex meta characters to escape set for path matcher. How I did itAdapt code from Go stdlib regexQuoteMeta. How to verify itUnit tests included. Description for the changelogAllow use of special characters in .docker
Fix TestCreateServiceSecretFileMode TestCreateServiceConfigFileMode;hopefully fixes Looks like this test was broken from the start and fully relied on a racecondition. Test was added in eeff The problem is in the service's command ls l etcconfig || bintop whichwill eitherexit immediately if the secret is mounted correctly at etcconfig which it shouldkeep running with bintop if the above failedAfter the service is created the test enters a racecondition checking for task to be running which it ocassionally is after which it proceeds and looksup the list of tasks of the service to get the log output of ls l etcconfig.This is another race first of all the original filter for that task lookup didnot filter by running so it would pick any task of the service either failedrunning or completed successfully exited tasks.In the meantime though SwarmKit kept reconciling the service and creating newtasks so even if the test was able to get the ID of the correct task that taskmay already have been exited and removed tasklimit is by default so onlyif the test was lucky it would be able to get the logs but of course chanceswere likely that it would be too late and the task already gone.The problem can be easily reproduced when running the steps manuallyecho 'CONFIG' | docker config create myconfig docker service create config sourcemyconfigtargetetcconfigmode name myservice busybox sh c 'ls l etcconfig || bintop'The above creates the service but it keeps retrying because each task exitsimmediately followed by SwarmKit reconciling and starting a new taskmjntpfkkyuucdpayhcoooverall progress out of tasks ready verify Detected task failureCOperation continuing in background.Use docker service ps mjntpfkkyuucdpayhcoo to check progress.And checking the tasks for the service reveals that tasks exit cleanly no errorbut do exit so swarm just keeps up reconciling and spinning up new tasksdocker service ps myservice notruncID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTSwmcuvvffnetnybghevn myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Ready Ready less than a second agopbueciqlxay \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete less than a second agoklpsvlakbnilzfkexwp \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agovsunlpienolpkvjpn \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agoorxlbktldfznzzdlijs \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds agoThis patch changes the service's command to sleep so that a successful taskafter successfully performing ls l etcconfig continues to be running untilthe service is deleted. With that change the service should usually reconcileimmediately which removes the race condition and should also make it faster This patch changes the tests to use client.ServiceLogs instead of using theservice's tasklist to directly access container logs. This should also fix somefailures that happened if some tasks failed to start before reconciling in whichcase client.TaskList with the current filters could return more tasks thananticipated as it also contained the exited tasks RUN TestCreateServiceSecretFileMode createtest.go assertion failed int int FAIL TestCreateServiceSecretFileMode .s RUN TestCreateServiceConfigFileMode createtest.go assertion failed int int FAIL TestCreateServiceConfigFileMode .s       The text was updated successfully but these errors were encountered
. backport Fix racey TestHealthKillContainer;backport of fixes Before this change if you assume that things work the way the testexpects them to it does not but lets assume for now we aren't reallytesting anything because we are testing that a container is healthybefore and after we send a signal. This will give false positives evenif there is a bug in the underlying code. Sending a signal can take anyamount of time to cause a container to exit or to trigger healthchecksto stop or whatever.Now lets remove the assumption that things are working as expectedbecause they are not.In this case top which is what is running in the container isactually exiting when it receives USR.This totally invalidates the test.We need more control and knowledge as to what is happening in thecontainer to properly test this.This change introduces a custom script which traps USR and flips thehealth status each time the signal is received.We then send the signal twice so that we know the change has occurredand check that the value has flipped so that we know the change hasactually occurred.       The text was updated successfully but these errors were encountered
Fix racey TestHealthKillContainer;Before this change if you assume that things work the way the testexpects them to it does not but lets assume for now we aren't reallytesting anything because we are testing that a container is healthybefore and after we send a signal. This will give false positives evenif there is a bug in the underlying code. Sending a signal can take anyamount of time to cause a container to exit or to trigger healthchecksto stop or whatever.Now lets remove the assumption that things are working as expectedbecause they are not.In this case top which is what is running in the container isactually exiting when it receives USR.This totally invalidates the test.We need more control and knowledge as to what is happening in thecontainer to properly test this.This change introduces a custom script which traps USR and flips thehealth status each time the signal is received.We then send the signal twice so that we know the change has occurredand check that the value has flipped so that we know the change hasactually occurred.Fixes        The text was updated successfully but these errors were encountered
. backport rootless script fixes;backports of to get a clean cherrypick       The text was updated successfully but these errors were encountered
. Backport fixes for killstop handling;bedf Fix infinite wait in kill behavior fixes abcdc Fix stop hanging forever including infinite wait fixes c Fix log statementOpening this up for discussion.It is kind of a big change that could get us into trouble.I did have someone from MSFT request that this be fixed since we ran into it in some case.cc sparrc       The text was updated successfully but these errors were encountered
. backport buildkit normalize build target and local platform;backport of cc thaJeztah tonistiigi       The text was updated successfully but these errors were encountered
buildkit normalize build target and local platform;Fixes Fixes dockerbuildxFixes dockerformac What I didWhen resolving a local reference to build an image with BuildKit we need to normalize the two platforms reference and target platform before matching them otherwise it would fallback to remote and fail with Building .s FINISHED  internal load build definition from Dockerfile.child .s transferring dockerfile B .s internal load .dockerignore .s transferring context B .s ERROR internal load metadata for docker.iolocalfooparentlatest .s internal load metadata for docker.iolocalfooparentlatesterror failed to solve rpc error code Unknown desc failed to solve with frontend dockerfile.v failed to create LLB definition pull access denied repository does not exist or may require authorization server message insufficientscope authorization failedIf we check daemon logs we haveRequested build platform linuxarm does not match local image platform linuxarmv checking remote How I did itNormalize local and target platform before matching them. How to verify itOn M host .Dockerfile.fooFROM alpineRUN echo Hello foo .Dockerfile.barFROM localfooparentRUN echo Hello barDOCKERBUILDKIT docker build f Dockerfile.foo t localfooparent .DOCKERBUILDKIT docker build f Dockerfile.bar t localfoochild . A picture of a cute animal not mandatory but encouragedcc thaJeztah tonistiigi       The text was updated successfully but these errors were encountered
dockerdrootless.sh Fix variable not double quotes cause unexpected behavior;What I didXDGRUNTIMEDIR variable not setting check should be fail.rootmaster echo XDGRUNTIMEDIRrunuserrootmaster su foouserLast login Sun Oct CST on ptsfoousermaster id foouseruidfoouser gi
. vendor Update gowinio to v..;Updates gowinio to the latest v..x version. The main important fixhere is to gowinio's backuptar package. This is needed to fix a bug insparse file handling in container layers which was exposed by a recentchange in Windows.gowinio v.. httpsgithub.commicrosoftgowinioreleasestagv..There is a similar PR to master to update to gowinio v.. .However for . we need to stay on v..x versions as they avoid abreaking change.Signedoffby Kevin Parsons kevparmicrosoft.com       The text was updated successfully but these errors were encountered
vendor Update gowinio to v..;Updates gowinio to the latest version. The main important fix here isto gowinio's backuptar package. This is needed to fix a bug in sparsefile handling in container layers which was exposed by a recent changein Windows.gowinio v.. httpsgithub.commicrosoftgowinioreleasestagv..Signedoffby Kevin Parsons kevparmicrosoft.com       The text was updated successfully but these errors were encountered
CI update dockerpy to ..;full diff dockerdockerpy....... A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
revert Dockerfile CRIU disable GPG validation due to expired signing key;this reverts the temporary workaround from        The text was updated successfully but these errors were encountered
Dockerfile CRIU disable GPG validation due to expired signing key;This is a horrible thing to do but CRIU installed here is only used aspart of our CI integration tests. We should of course remove thishack ASAP once the opensuse packagers have set up a new key but atleast this allows us to unblock CI which is currently completelybrokenADD chmod httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebianRelease.key etcapttrusted.gpg.dcriu.gpg.ascRUN mounttypecachesharinglockedidmobycriuaptlibtargetvarlibapt \ mounttypecachesharinglockedidmobycriuaptcachetargetvarcacheapt \ echo 'deb httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian ' etcaptsources.list.dcriu.list \ aptget update \ aptget install y noinstallrecommends criu \ install D usrsbincriu buildcriuHit httpcdnfastly.deb.debian.orgdebian bullseye InReleaseHit httpcdnfastly.deb.debian.orgdebiansecurity bullseyesecurity InReleaseHit httpcdnfastly.deb.debian.orgdebian bullseyeupdates InReleaseGet httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease BErr httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease The following signatures were invalid EXPKEYSIG AADA develtools OBS Project develtoolsbuild.opensuse.orgReading package lists...W GPG error httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease The following signatures were invalid EXPKEYSIG AADA develtools OBS Project develtoolsbuild.opensuse.orgE The repository 'httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease' is not signed.And checking the signing key with aptkey listetcapttrusted.gpg.dcriu.gpg.ascpub rsa SC expired  E E CE DB C A A D Auid expired develtools OBS Project develtoolsbuild.opensuse.org Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
ocicaps limit available capabilities to current environment;fixes docker container is privileged tries to assume more capabilities than availablereplaces closes fix don't attempt to set unavailable capabilities in privileged modefixes Recent test failures in CI apply caps operation not permitted except for TestHealthKillContainer which is tracked in Relates toopencontainersrunc libctcapabilities create capabilities map based on current environmentmobybuildkit fix provide only available capabilities to insecure environmentopencontainersrunc capabilities WARN not ERROR for unknown unavailable capabilitiesopencontainersruntimespec runtime should WARN ignore capabilities that cannot be grantedIn situations where docker runs in an environment where capabilities are limitedsucn as dockerindocker in a container created by older versions of docker orin a container where some capabilities have been disabled starting a privilegedcontainer may fail because even though the kernel supports a capability thecapability is not available.This patch attempts to address this problem by limiting the list of known capabilities on the set of effective capabilties for the current process. This codeis based on the code in containerd's caps package Description for the changelogDetect list of available capabilities based on current environment to allow running privileged containers in environments with a restricted set of capabilities. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork some cleanup and logging improvements in resolver;followup to with some cleanuprefactoringlibnetwork improve consistency in log messagesMake sure all log messages have the resolver prefixUse logrus.WithError consistentlyImprove information included in some logslibnetwork some minor refactoring cleanupdon't pass the query's quetion.name separately as we're already passing the query itself.remove a fallthrough in favor of combining the cases in the switch A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork ServeDNS don't panic on unsupported query types;fixes This was added in bcb but resulted in a panic if the embedded DNS had to handle an unsupported querytype such as ANY.This patch adds a debug log for this case to better describe how it's handled. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. Update Go to ..;go.. released includes a security fix to the linker and miscwasmdirectory as well as bug fixes to the runtime and to the texttemplate package.See the Go .. milestone on our issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes a security fix to the linker and miscwasmdirectory as well as bug fixes to the compiler the runtime the go command andto the time and texttemplate packages. See the Go .. milestone on our issuetracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
registry clean up some v code;See individual commits for details       The text was updated successfully but these errors were encountered
registry remove unused registry.ErrAlreadyExists;This error was no longer in use after the v push code was removed in dadf  A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
master forwardport security fixes from ..;This cherrypicks the security fixes from the v.. releaseac Lock down docker root dir perms fix for CVE GHSAfwxpjgwf chrootarchive don't create parent dirs outside of chroot fix for CVE GHSAvfvwgj Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Port testutildaemon to FreeBSD;testutildaemon uses a generic unix implementation that assumes thatthe host OS supports cgroups network namespaces which is not thecase for FreeBSD.This change adds a FreeBSDspecific implementation fortestutildaemon namely for cleanupNetworkNamespace andCgroupNamespace functions.Signedoffby Artem Khramov akhramovpm.me       The text was updated successfully but these errors were encountered
Update containerd binary to v..;Update containerd binary to v..The seventh patch release for containerd . is a security release to fix CVE.Notable UpdatesFix insufficiently restricted permissions on container root and plugin directoriesGHSAchmxwmvqUpdate containerd binary to v..Install apparmor parser for arm and update seccomp to ..Update runc binary to ..Update hcsshim to v.. to fix layer issue on Windows Server Add support for 'clone' syscall to fix issue with certain images when seccomp is enabledAdd image config labels in CRI container creationFix panic in metadata content writer on copy error Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update containerd binary to v..;Update runc to v..Update hcsshim to v..Support clone in default seccomp profileFix panic in metadata content writer on copy error Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Dockerfile switch CRIU install to Debian bullseye packages;followup to addresses comment. I saw a package repo for Debian is now available opencontainersruncThere's a package repository for Debian bullseye now. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Makefile update bfirshredoc to .. and fix swagger warnings;Looks like I never pushed this branch ?ñ??Çì?Öé??Å A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Dockerfile move installers into Dockerfile and update registry versions;Followup to Dockerfile move installers into DockerfileThis moves installers that are only used during CI into the Dockerfile. Some installers are still used in the releasepipeline so keeping thos for now.Dockerfile update testregistries to released versionsusing v.. for the v registry last release with only vusing v.. as current version was v..rc.Looks like various tests are failing on registry v.. so I'm keeping further updates for a followup to be looked into A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Makefile remove passing proxy envvars;cleaning up some branches and this was in a branch together with some other changes but not directly related so pushing as a separate PR.Docker . and up allow the CLI to be configured to set default proxyenvvars to be used both as buildarg and as env for docker run seedockercli so setting these here should be redundant. If someoneneeds these envvars set they should be configured in the cli's.dockerconfig.json instead. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon.UsingSystemd don't call getCD multiple times;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. Bump swarmkit to get fix for rollback;Signedoffby Adam Williams awilliamsmirantis.com What I didUpdate Swarmkit version to get fix for rollback issue When the updateConfig delay parameter is larger than the monitor parameter an error in updating can be missed and rollback not performed. This fix will check for the case where monitor delay and use the larger of the two. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon fix TestVerifyPlatformContainerResources not capturing variable;relates to httpsgithub.commobymobypullfilesrlooks like I introduced this in ?ÿ? ?ÿà ?ÿôThis test runs with t.Parallel and uses subtests but didn't capture the tc variable which potentialy likely makes it test the same testcase multiple times. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport quota adjust buildtags to allow build without CGO;Backport to .       The text was updated successfully but these errors were encountered
Port pkgsystemmknod.go to FreeBSD;fixes Because FreeBSD uses bit device nodes seehttpsreviews.freebsd.orgrS Linux implementation ofsystem.Mknod system.Mkdev is not sufficient.This change adds freebsdspecific implementations for Mknod andMkdev.       The text was updated successfully but these errors were encountered
compression support zstd with skippable frame;Signedoffby Da McGrady dabkbaol.com What I didAs a matter of fact there are two frame formats defined by Zstandard Zstandard frames and Skippable frames.So we should probably support zstd algorithms with skippable frames.See httpstools.ietf.orgiddraftkucherawydispatchzstd.htmlrfc.section. for more details.The structure of a single Zstandard frame is as follows the magic number of Zstandard frame is xFDFB.  | MagicNumber | bytes |  | FrameHeader | bytes |  | DataBlock | n bytes |  | More Data Blocks | |  | Content Checksum | bytes | Skippable frames allow the insertion of userdefined data into a flow of concatenated frames. Its design is pretty straightforward with the sole objective to allow the decoder to quickly skip over userdefined data and continue decoding.  | MagicNumber | FrameSize | UserData |  | bytes | bytes | n bytes | MagicNumber xDA which means any value from xDA to xDAF.FrameSize This is the size n of the following UserData bytes littleendian format unsigned bits. How I did itIn order to accommodate more complicated detectors for Zstd I changed the DetectCompression function. How to verify itTo verify this PR I created a new test named TestDetectCompression. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;This includes additional fixes for CVE.go.. released includes a security fix to the archivezip packageas well as bug fixes to the compiler linker the go command and to the cryptorandembed gotypes htmltemplate and nethttp packages. See the Go .. milestoneon the issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgnamesgenerator replace uses of fmt.Sprintf;had these changes from reviewing so might as well push them as a PR ?ñ??Çì?Öé??ÅLooks like we don't need sprintf for how it's used. Replacing sprintf makes it more performant .x as fast and less memory allocationsBenchmarkGetRandomName   . nsop Bop allocsopBenchmarkGetRandomNameOld   . nsop Bop allocsop A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update runc binary to v..;httpsgithub.comopencontainersruncreleasestagv..Cherrypick the first commit of clean but leaving vendor.conf asis       The text was updated successfully but these errors were encountered
. backport cmddockerd add the link of the documentation;Add the link to dockerd needs to be started with root. To see how to run dockerd in rootless mode with unprivileged user see the documentation error for ease of referenceCherrypick clean       The text was updated successfully but these errors were encountered
Add an option to specify log format for awslogs driver;Added an option 'awslogsformat' to allow specifyinga log format for the logs sent CloudWatch from the aws log driver.For now only the 'jsonemf' format is supported.If no option is provided the log format header in therequest to CloudWatch will be omitted as before.Signedoffby James Sanders jamessandersgmail.com What I didAdded an option awslogsformat to allow specifying a log format for the logs sent CloudWatch from the aws log driver.For now only the jsonemf format is supported.If no option is provided the log format header in the request to CloudWatch will be omitted as before.This addresses Users cannot provide the awslogsdatetimeformat or the awslogsmultilinepattern options when they set the awslogsformat option cannot be set to jsonemf. This is because both the awslogsdatetimeformat and awslogsmultilinepattern options modify the log line delimiter. Given for now jsonemf format must be a valid json line it does not make sense to allow for different line delimiters when using jsonemf. How I did itModified the awslogs log driver to add a new CloudWatch client handler basically middleware to add the xamznlogsformat header to the request when the log format option is given and is jsonemf.Tried to follow convention at every step of the way.Based key name off of the key name used in the fluentd plugin How to verify itUnit TestingManual integration testingRan container with no format option provided and verified logs were still published no regressionRan container in development environment with logopt awslogsformatjsonemf enabled and saw metrics posted to CloudWatchdocker run rm \ logdriver awslogs \ logopt awslogsregionuswest \ logopt awslogsgroupemfloggertestcontainer \ logopt awslogscreategrouptrue \ logopt awslogsformatjsonemf \ emflogger \ runMetrics in CloudWatch Attempted to specify a random log format and saw an error was thrown docker run rm \ logdriver awslogs \ logopt awslogsregionuswest \ logopt awslogsgroupemfloggertestcontainer \ logopt awslogscreategrouptrue \ logopt awslogsformatrandom \ emflogger \ rundocker Error response from daemon unsupported log format 'random'.Attempted to set awslogsdatetimeformat and saw an error was thrown docker run rm \ logdriver awslogs \ logopt awslogsregionuswest \ logopt awslogsgroupemfloggertestcontainer \ logopt awslogscreategrouptrue \ logopt awslogsformat'jsonemf' \ logopt awslogsdatetimeformat'YYYYmmdd' \ emflogger \ serve docker Error response from daemon you cannot configure log opt 'awslogsdatetimeformat' or 'awslogsmultilinepattern' when log opt 'awslogsformat' is set to 'jsonemf'.Attempted to set awslogsmultilinepattern and saw an error was thrown docker run rm \ logdriver awslogs \ logopt awslogsregionuswest \ logopt awslogsgroupemfloggertestcontainer \ logopt awslogscreategrouptrue \ logopt awslogsformat'jsonemf' \ logopt awslogsmultilinepattern'' \ emflogger \ serve docker Error response from daemon you cannot configure log opt 'awslogsdatetimeformat' or 'awslogsmultilinepattern' when log opt 'awslogsformat' is set to 'jsonemf'. Description for the changelogAdded a new option to awslogs log driver to specify the log format that is sent to CloudWatch. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport seccomp add support for clone syscall in default policy;This is a backport of fb see also adapted to avoid the refactoring that happened in d .fixes fixes        The text was updated successfully but these errors were encountered
Add https proxy properties to daemon configuration carry;carry of fixes closes addresses This allows configuring the daemon's proxy server through the daemon.json configuration file or commandline flags configuration file in addition to theexisting option through environment variables.Configuring environment variables on Windows to configure a service is morecomplicated than on Linux and adding alternatives for this to the daemon configuration makes the configuration more transparent and easier to use.The configuration as set through commandline flags or through the daemon.jsonconfiguration file takes precedence over envvars in the daemon's environmentwhich allows the daemon to use a different proxy. If both commandline flagsand a daemon.json configuration option is set an error is produced when startingthe daemon.Note that this configuration is not live reloadable due to Golang's use ofsync.Once for proxy configuration which means that changing the proxyconfiguration requires a restart of the daemon reload SIGHUP will not updatethe configuration.With this patchcat etcdockerdaemon.json httpproxy httpproxytest.example.com httpsproxy httpsproxytest.example.comdocker pull busyboxUsing default tag latestError response from daemon Get httpsregistry.docker.iov proxyconnect tcp dial tcp lookup proxytest.example.com on ... no such hostdocker build .Sending build context to Docker daemon .MBStep FROM golang.alpine AS baseGet httpsregistry.docker.iov proxyconnect tcp dial tcp lookup proxytest.example.com on ... no such hostIntegration tests were added to test the behaviorverify that the configuration through all means are used envvarcommandline flags damon.json and used in the expected order ofpreference.verify that conflicting options produce an error.verify that logs and error messages sanitise proxy URLs as they may contain username passwordmake BINDDIR. DOCKERGRAPHDRIVERvfs TESTFILTERTestDaemonProxy binary testintegrationRunning integrationtest iteration Running gosrcgithub.comdockerdockerintegrationdaemon amd.integration.daemon flagstest.v test.timeoutm test.run TestDaemonProxy RUN TestDaemonProxy RUN TestDaemonProxyenvironmentvariables RUN TestDaemonProxycommandlineoptions RUN TestDaemonProxyconfigurationfile RUN TestDaemonProxyconflictingoptions RUN TestDaemonProxyreloadsanitized PASS TestDaemonProxy .s PASS TestDaemonProxyenvironmentvariables .s PASS TestDaemonProxycommandlineoptions .s PASS TestDaemonProxyconfigurationfile .s PASS TestDaemonProxyconflictingoptions .s PASS TestDaemonProxyreloadsanitized .sPASSDONE tests in .s Description for the changelog Add options to the daemon.json configuration file and dockerd commandline to configure the daemon's proxy. With these options it is possible to configure https proxies for the daemon through the configuration file as an alternative to the HTTPPROXY HTTPSPROXY and NOPROXY environment variables or to override the systemwide proxy configuration set in those environment variables. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgplugins fix compatibility with go.;relates to commentcommit caac changed the ioutil utilitiesto use the new os variants per recommendation from the go . release noteshttpsgolang.orgdocgo.ioutilwe encourage new code to use the new definitions in the io and os packages.Here is a list of the new locations of the names exported by ioioutilHowever the devil is in the detail and io.ReadDir is not a directreplacement for ioutil.ReadDirReadDir os.ReadDir note returns a slice of os.DirEntry rather than a slice of fs.FileInfogo. added a io.FileInfoToDirEntry utility to concert a DirEntry toa FileInfo but it's not available in go.This patch copies the FileInfoToDirEntry code and uses it for go.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgsysinfo use containerdpkgseccomp.IsEnabled;This replaces the local SeccompSupported utility for the implementation in containerdwhich performs the same check and brings in the improvements made in containerdcontainerd. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetworktypes remove unused functions;Removesibnetworktypes remove GetMinimalIPNet as it's unusedthis was added in mobylibnetworkeff but never used.libnetworktypes remove PortBinding.FromString as it's unusedlibnetworktypes remove TransportPort.FromString as it's unused Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork remove API as it's no longer used;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
refactor move from ioioutil to io and os package;What I didThe ioioutil package has been deprecated in Go . See httpsgolang.orgdocgo.ioutil. This PR replaces the existing ioioutil functions with their new definitions in io and os packages. How I did itSearches and replaces the depr
cmddockerd add the link of the documentation;Add the link to dockerd needs to be started with root. To see how to run dockerd in rootless mode with unprivileged user see the documentation error for ease of reference       The text was updated successfully but these errors were encountered
libnetwork fix some linting issues;fix incorrectly formatted GoDoc and commentsrename a variable that collided with the cap builtin A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fixed docker.internal.gateway not displaying properly on live restore;fixes ?Çªerly What I didI fixed the issue where the docker.internal.hostgateway was not assigned to containers after a reboot when liverestore was enabled. This was to do with containers that ran after the docker daemon was restarted. How I did itThere was a function that assigned the host gateway IP addresses. I made sure that the IP address was also called inside the conditional that ran when there were active sandboxes. How to verify it details the steps Description for the changelog This pull request is a change to remove the recurrence of by writing HostGatewayIP to a function and calling that once in the normal case and once when the sandboxescontainers are running during daemon restart.The pull request is a WIP since I am yet to write a unit test. I would need your guidance for it. I am not sure how to call the API for the test for docker run addhost.... busybox in script form and getting the output. I know how to do it with forksubprocess but am not sure of the API approach to it. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Remove platform argument from Puller interface.;The platform argument is unneeded because ImagePullConfig is already in the vPuller struct. What I didRemove platform argument from Puller interface. How I did itThe platform option was introduced in this contribution but I don't think it's necessary we can just use ImagePullConfig directly. How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor update tarsplit to v..;Brings in vbattstarsplitSignedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
hackvendor.sh allow go version to be specified with .;Golang '.' releases are released without a trailing . i.e. go.is equal to go... For the base image we want to specify the goversion including their patch release golang. is equivalent togo..x so adjust the script to also accept the trailing . becauseotherwise the downloadURL is not foundhackvendor.sh archivetarupdate vendored copy of archivetardownloading httpsgolang.orgdlgo...src.tar.gzcurl The requested URL returned error  Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor golang.orgxsys bdcdffeafdfdefd for Go .;Go . requires golang.orgxsys acdadcbdc May  or later see golanggo. While this seemsto affect macOS only let's update to the latest version.full diff golangsysdff...b Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update to Go ..;Opening as draft to see if things explodeDepends on vendor golang.orgxsys bdcdffeafdfdefd for Go . hackvendor.sh allow go version to be specified with . How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
info remove expected check for tini version;These checks were added when we required a specific version of containerdand runc different versions were known to be incompatible. I don't thinkwe had a similar requirement for tini so this check was redundant. Let'sremove the check altogether. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix a typo in projectGOVERNANCE.md;As title.       The text was updated successfully but these errors were encountered
apitypesversions simplify compare if versions are equal;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
apitypesevents add Type type for eventtype enum;Currently just an alias for string but we can change it to be an actual type. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
swagger assorted fixes and updates;includes some followups to apiswagger fix up eventtypes and move to definitionsapiswagger rename PluginPrivilegeItem to PluginPrivilegeapiswagger move DistributionInspect to definitions Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libcontainerdlocal fix GoDoc;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Jenkinsfile windows LTSC mcr.microsoft.comwindowsservercoreltsc;see httpsdocs.microsoft.comenuswindowsservergetstartedwindowsserverreleaseinfosee comment Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
bump up runc v..;httpsgithub.comopencontainersruncreleasestagv..       The text was updated successfully but these errors were encountered
Dockerfile update syntax switch to bullseye add missing libseccompdev remove build pack;So this started with the intention to just update buster to bullseye but finding various issues that needed fixing or could be improved.Dockerfile update to dockerdockerfile. and remove temporary fix.I saw we were using an older syntax and the issue I reported mobybuildkit was fixed in dockerfile. frontend so upgrading allowed me to remove the temporary fix.Dockerfile remove aufstools as it's not available on bullseyeWell title says all. No more aufsDockerfile update to debian bullseyeWell that's what I came here for ?ÿéDockerfile add back libseccompdev to crosscompile runcCommit d removed these but I think we overlooked that the same stage is used to build runc as well so we likely need these. but happy to remove if we really don't need themDockerfile frozen images update to bullseye remove buildpackdepUpdate the frozen images to also be based on Debian bullseye. Using the slim variant which looks to have all we're currently using and remove the buildpackdep frozen image.The buildpackdep image is quite large and it looks like we only use it to compile some C binaries which should work fine on a regular debian imagedocker build t debianbullseyeslimgcc EOFFROM debianbullseyeslimRUN aptget update aptget install y gcc libcdev noinstallrecommendsEOFdocker image lsREPOSITORY TAG IMAGE ID CREATED SIZEdebian bullseyeslimgcc af About a minute ago MBbuildpackdeps bullseye fefecede days ago MB How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport bump up rootlesskit to v..;Cherrypick Fixes panic tapvif read read devnettun not pollable on early start up of RootlessKit with VPNKit.Changeshttpsgithub.comrootlesscontainersrootlesskitreleasestagv..httpsgithub.comrootlesscontainersrootlesskitreleasestagv..full diff rootlesscontainersrootlesskitv.....v..       The text was updated successfully but these errors were encountered
testutil don't import opts package;It was only used for two consts which are unlikely to change but theopts package currently also imports libnetworkipamutils which hasan init function that does some heavy lifting and not needed forthis utility's purpose. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork remove unused testutils imports;Perhaps the testutils package in the past had an init function to set upspecific things but it no longer has. so these imports were doing nothing. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork make resolvconf more selfcontained;libnetwork move resolvconf consts into the resolvconf packageThis allows using the package without having to import the types package and without having to consume github.comishidawatarusctp.libnetwork remove resolvconfdns packageThe IsLocalhost utility was not used and go's net package provides a IsLoopBack check which can be used in stead of IsIPvLocalhost.move pkgioutils.HashData to libnetworkresolvconfIt's the only location it's used so we might as well move it there. This also removes the cryptosha and encodinghex dependencies from pkgioutils.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
client use subtests for TestNetworkInspect;cleaning up some branches and found this one ?ÿé so opening as a PR ?ñ??Çì?Öé??ÅUnify the NetworkInspect tests to remove some boilerplatingBefore this changego test v run TestNetworkInspect .client RUN TestNetworkInspectError PASS TestNetworkInspectError .s RUN TestNetworkInspectNotFoundError PASS TestNetworkInspectNotFoundError .s RUN TestNetworkInspectWithEmptyID PASS TestNetworkInspectWithEmptyID .s RUN TestNetworkInspect PASS TestNetworkInspect .sPASSok github.comdockerdockerclient.sWith this changego test v run TestNetworkInspect .client RUN TestNetworkInspect RUN TestNetworkInspectemptyID RUN TestNetworkInspectnooptions RUN TestNetworkInspectverbose RUN TestNetworkInspectglobalscope RUN TestNetworkInspectunknownnetwork RUN TestNetworkInspectservererror PASS TestNetworkInspect .s PASS TestNetworkInspectemptyID .s PASS TestNetworkInspectnooptions .s PASS TestNetworkInspectverbose .s PASS TestNetworkInspectglobalscope .s PASS TestNetworkInspectunknownnetwork .s PASS TestNetworkInspectservererror .sPASSok github.comdockerdockerclient.s Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
integrationnetwork remove dead code;integrationnetwork remove unused CheckKernelMajorVersionGreaterOrEqualThenintegrationnetwork remove IsUserNamespace in favor of testenv equivalent We're already using testenv here so might as well use the exact same function that it provides. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon.WithCommonOptions fix detection of usernamespaces;Commit daee added support for nonprivileged containers to use ICMPPROTO used for ping. This option cannot be set for containers that have usernamespaces enabled.However the detection looks to be incorrect HostConfig.UsernsMode was added in e ee and the property only has meaning if the daemon is running with user namespaces enabled. In other situations the property has no meaning.As a result of the above the sysctl would only be set for containers running with UsernsModehost on a daemon running with usernamespaces enabled.This patch adds a check if the daemon has usernamespaces enabled RemappedRoot having a nonempty value to fix the detection. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
docsapi add node about concurrency on systemdf endpoint;followup to . I realised we didn't add a mention in the API changes but probably good to add for discoverability.Commit cec added support for calling the systemdf endpoint concurrently.This patch adds a note about this enhancement to the API changes. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon simplify networking config;This somehow ended up in . Probably had these changes locally ?ÿà Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
runconfig decodeContainerConfig return early if there's no HostConfig;Each of the validation functions depended on HostConfig being not nil. Use anearly return instead of continuing and checking if it's nil in each of thevalidate functions. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Update Go to ..;backport of go.. released includes a security fix to the nethttphttputilpackage as well as bug fixes to the compiler the linker the runtime the gocommand and the nethttp package. See the Go .. milestone on the issuetracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Go to ..;go.. released includes a security fix to the nethttphttputilpackage as well as bug fixes to the compiler the linker the runtime the gocommand and the nethttp package. See the Go .. milestone on the issuetracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgsignal remove DefaultStopSignal const and unexport container.DefaultStopTimeout;This const was previously living in pkgsignal but with that package being moved to its own module it didn't make much sense to put docker's defaults in a generic module.The const from the signal package is currenlty used both by the CLI and the daemon as a default value when creating containers. This put up some questionsa. should the default be nonexported and private to the container package After all it's a default so should be used if NOT set.b. should the client actually setting a default or instead just omit the value unless specified by the user having the client set a default also means that the daemon cannot change the default value because the client or older clients will override it.c. consider defaults from the client and defaults of the daemon to be separate things and create a default const in the CLI.This patch implements option a option b will be done separately as it involves the CLI code. This still leaves c open as an option if the CLI wants to set its own default.Unfortunately this change means we'll have to drop the alias for the deprecated pkgsignal.DefaultStopSignal const but a comment was left instead which can assist consumers of the const to find why it's no longer there a search showed the Docker CLI as the only consumer though.       The text was updated successfully but these errors were encountered
API discard systemdf type parameter pre.;Fixup  What I didEnsure the type parameter to systemdf is discarded for API versions lower than . How I did itCheck for the version in the endpoint       The text was updated successfully but these errors were encountered
Share disk usage computation results between concurrent invocations;What I didShare disk usage computation results between concurrent invocations instead of throwing an error How I did itUse xsyncsingleflight.Group which ensures computations are simultaneously performed by at most one goroutine and the results a
daemon paralellize disk usage computations;NOM
bump up rootlesskit to v..;Fixes panic tapvif read read devnettun not pollable on early start up of RootlessKit with VPNKit.Changeshttpsgithub.comrootlesscontainersrootlesskitreleasestagv..httpsgithub.comrootlesscontainersrootlesskitreleasestagv..       The text was updated successfully but these errors were encountered
libnetwork wait until t.Deadline instead of hardcoded value;hopefully closes  What I didIt seems that the flakiness is caused by the occasional slowness of the CI hence wait until t.Deadline for node to appear instead of relying on a hardcoded value which may or may not suffice in all environments.Also applied the same waiting approach from in the unit test in question. How I did itCheck for t.Deadline and if set wait until at most that use the previous hardcoded value otherwise. Since we set timeout in hacktestunit the deadline value should generally be set regardless of the environment so this should work in CI as well as locally unless of course tests are run directly with go test. How to verify itI suppose the only way would be to observe multiple CI runs Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update to containerd v..;full diff containerdcontainerdv.....v..Welcome to the v.. release of containerdThe fifth patch release for containerd . updates runc to .. and containsother minor updates.Notable UpdatesUpdate runc binary to ..Update pull logic to try next mirror on non responseUpdate pull authorization logic on redirect Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update containerd binary to v..;relates to containerdcontainerdrelates to relates to Welcome to the v.. release of containerdThe ninth patch release for containerd . updates runc to .. and containsother minor updates.Notable UpdatesUpdate runc binary to ..Update pull authorization logic on redirectFix user agent used for fetching registry authentication tokens Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
client remove deprecated SetCustomHTTPHeaders CustomHTTPHeaders;client deprecate client.CustomHTTPHeadersThis function was added in ad but not used. Currently the only consumer of this function I could find was dockercli which used it in a unittest this test has already been updated to not depend on this function httpsgrep.appsearchq.CustomHTTPHeadersfilterlangGoGiven that commit aaea deprecated the corresponding client.SetCustomHTTPHeaders function and because there is no active use for this function it should be ok to deprecate.We can include this in a patchrelease to be sure nobody else is depending on it and if someone is to notify them of the deprecation.As a followup to this commit I'll remove both functions.client remove deprecated SetCustomHTTPHeaders CustomHTTPHeadersBoth of these function were added in ad .The CustomHTTPHeaders was not used except for a unit test in dockercli this test has already been updated to not depend on this function in dockercli httpsgrep.appsearchq.CustomHTTPHeadersfilterlangGoCommit aaea deprecated SetCustomHTTPHeaders and looks to be unused httpsgrep.appsearchq.SetCustomHTTPHeadersfilterlangGo Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Remove LCOW step libcontainerdlocal remove LCOW bits;Splitting off more bits from        The text was updated successfully but these errors were encountered
Remove LCOW step remove LCOW bits from builderdockerfile copy;Splitting off more bits from        The text was updated successfully but these errors were encountered
Remove LCOW step;Splitting off more bits from        The text was updated successfully but these errors were encountered
seccomp add support for clone syscall in default policy;What I didModified the default seccomp profile so that clone is explicitly requested to give ENOSYS instead of the default EPERM when CAPSYSADMIN is unset.If CAPSYSADMIN is set then clone is simply allowed unconditionally How to verify itTe
vendor github.comdockerswarmkit ffcddccddbfabeacdd;removes use of the deprecated pkgsignal.full diff dockerswarmkitdcfa...f Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
fileutils Fix incorrect handling of foo pattern;PatternMatcher.Matches includes a special case for when the patternmatches a parent dir even though it doesn't match the current path.However it assumes that the parent dir which would match the patternmust have the same number of separators as the pattern itself. Thisdoesn't hold true with a patern like foo. A file foobar would havelenparentPathDirs which is less than the number of pathlenpattern.dirs ... therefore this check would be skipped.Given that foo matches foo I think it's a bug that the parentsubdir matches check is being skipped in this case.It seems safer to loop over the parent subdirs and check each againstthe pattern. It's possible there is a safe optimization to check only acertain subset but the existing logic seems unsafe.This was found while using the IncludePatterns feature of BuildKit'scopy op.Fixes cc coryb tonistiigi       The text was updated successfully but these errors were encountered
Dockerfile simplify utilityinstall script and update gotestsum to v..;Dockerfile use version for some utilities instead of commitshaThe golangcilint gotestsum shfmt and vndr utilities should generallybe ok to be pinned by version instead of a specific sha. Also renamethe corresponding envvars buildargs accordinglyGOLANGCILINTCOMMIT GOLANGCILINTVERSIONGOTESTSUMCOMMIT GOTESTSUMVERSIONSHFMTCOMMIT SHFMTVERSIONVNDRCOMMIT VNDRVERSIONCONTAINERDCOMMIT CONTAINERDVERSIONRUNCCOMMIT RUNCVERSIONROOTLESSCOMMIT ROOTLESSVERSIONDockerfile use go install to install utilitiesDockerfile remove GOPROXY override was for go .Dockerfile update gotestsum to v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
volumemounts precompile regular expressions;followup to closes Compile the regular expression instead of 'adhoc'. For this to work I movedthe splitting was moved out of parseMountRaw into ParseMountRaw and theformer was renamed to parseMount. This function still receives the 'raw' stringas it's used to include the raw spec for inclusion in error messages. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgarchive remove some debug logs and small cleanup;See individual commits for details Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
fix a typo;Signedoffby yufeifly yufei.xiongqq.com What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix incorrect loop variable usage in parallel test closures;What I didEnsure that loop variables are copied for use within parallel test closures. How I did itDiscovered a few instances where loop variable is incorrectly usedwithin a test closure which is marked as parallel while working on Few of
storagedriver promote overlay make Btrfs and ZFS optin;The daemon uses a priority list to automatically select the bestmatching storagedriver for the backing filesystem that is used.Historically overlay was not supported on Btrfs and ZFS and the daemon wouldautomatically pick the btrfs or zfs storage driver if that was the BackingFile System.Commits ec and eaea improved our detection to check if overlay was supported on the backing filesystem allowing overlay to be used on top of Btrfs or ZFS but did not changethe priority list.While both Btrfs and ZFS have advantages for certain usecases and provideadvanced features that are not available to overlay they also are knownto require more handholding and are generally considered to be mostlyuseful for advanced users.This patch changes the storagedriver priority list to prefer overlay ifsupported by the backing filesystem and effectively makes btrfs and zfsoptin storage drivers.This change does not affect existing installations the daemon will detectthe storage driver that was previously in use based on the presence ofstorage directories in varlibdocker. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update runc binary to v..;Release note httpsgithub.comopencontainersruncreleasestagv..Cherrypick binary from but leave vendor.conf asis       The text was updated successfully but these errors were encountered
Makefile update buildx version to v..;What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but t
. update containerd binary v..;Update to containerd .. to address CVE. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update containerd v..;Update to containerd v.. to address CVE. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update runc binary and libcontainer to v..;Release note httpsgithub.comopencontainersruncreleasestagv..Also updates libcontainer and its dependencies httpsgithub.comopencontainersrunccomparev..rc...v..diffefbfcacbfdbadcaecbbeeaaf       The text was updated successfully but these errors were encountered
Makefile do not tag dockerdev image with GITBRANCH;When building the dev image the Makefile generates a tagname for the image based on the current git branch. As a result of this naming old images will collect on a developer's machine especially when building from different branches for example when reviewing pull requestsREPOSITORY TAG IMAGE ID CREATED SIZEdockerdev HEAD afbf hours ago .GBdockerdev master afbf hours ago .GBdockerdev seccompclosertooci afbf hours ago .GBdockerdev movestackdump cbfd days ago .GBdockerdev adddnstodockerinfo edbbd days ago .GBdockerdev addplatforminfo edbbd days ago .GBdockerdev rataseccompnewfields edbbd days ago .GBdockerdev swaggerwip edbbd days ago .GBdockerdev systemdftypes edbbd days ago .GBdockerdev useociplatform edbbd days ago .GBdockerdev updateswaggerfork eeedeccaa weeks ago .GBdockerdev removelcowstepalternative fbbc weeks ago .GBdockerdev updatesxubuntu fbbc weeks ago .GBdockerdev fiximagesharedsize eaaa weeks ago .GBdockerdev removediscovery ae weeks ago .GBdockerdev daemonconfig eb weeks ago .GBdockerdev jenkinswindowscontainerd b weeks ago .GBdockerdev unforkbuildkit b weeks ago .GBdockerdev warnonnonmatchingplatform bcbf weeks ago .GBdockerdev removelcow ac weeks ago .GBdockerdev removelcowpart ac weeks ago .GBdockerdev removelcowstep ac weeks ago .GBdockerdev removelcowstep ac weeks ago .GBdockerdev seccompunconfineddaemon ac weeks ago .GBdockerdev updateauthors ac weeks ago .GBdockerdev payallufixcreatingsandboxwhendisablebridge cfceb weeks ago .GBdockerdev catchalmostall fdbcb weeks ago .GBdockerdev bincriu caef months ago .GBdockerdev bumpgolang months ago .GBdockerdev upstreamsystemdunits dcbfc months ago .GBdockerdev bumpcriu edefcff months ago .GBThis images are a bit of a pain to clean up and because they are tagged docker image prune or docker system prune doesn't help unless all is used.Looking at the background of this naming a found that it was originally added in a after a discussion on . At the time the image name was used to check if the image needed building and otherwise building was skipped in the makefile.This is no longer the case the image is built unconditionally and the buildcache helps where possible speed up rebuilding the image.In theory having unique names would allow for multiple dev containers from different branches to be started in parallel but in most situations the sourcecode will be mounted BINDMOUNT. so I'm not sure if that should be a compelling reason to keep the current naming.This patch removes the unique tag and will always tag the image locally as dockerdevlatest. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
seccomp Use explicit DefaultErrnoRet;Since commit seccomp Sync fields with runtimespec fieldsd we support to specify theDefaultErrnoRet to be used.Before that commit it was not specified and EPERM was used by default.This commit keeps the same behaviour but just makes it explicit that thedefault is EPERM.Signedoffby Rodrigo Campos rodrigokinvolk.ioThis a followup of comment as suggested by thaJeztah. This just adds an explicit default to EPERM. Right now the default is EPERM but is implicit. What I didAdded the field DefaultErrnoRet to seccomp profiles How I did itAdded the field to default profile in profilesseccompdefaultlinux.go then adjusted the tests to expect this new field How to verify itYou can run unit tests with TESTDIRS'github.comdockerdockerprofilesseccomp' make testunit.You can also run hackvalidatedefaultseccomp to verify nothing was missing in the changes. Description for the changelogAdd an explicit DefaultErrnoRet field in the default seccomp profile. No behavior change. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
seccomp.Seccomp embed ocispec LinuxSeccomp add support for seccomp flags;Fixes Feature request ability to set SECCOMPFILTERFLAGSPECALLOW in seccomp profilesseccomp improve GoDoc for Seccomp fieldsseccomp use ocispec consts in testsseccomp add additional unittestsAdd test to verify profile validation and to verify that the legacy format actually loads the profile as expected instead of only verifying it doesn't produce an error.seccomp setupSeccomp update errors and remove redundant checkMake the error message slightly more informative and remove the redundant lenconfig.ArchMap check as iterating over an empty or 'nil' slice is a noop already. This allows to use a slightly more idiomatic if ok xx ok condition.Also move validation to the start of the loop early return and explicitly create a new slice for names if the legacy Name field is used.seccomp Seccomp embed ocispec Seccomp add support for seccomp flagsThis patch similar to d embeds the type of the runtimespec so that we can support all options provided by the spec and decorates it with our own fields.With this profiles can make use of the recently added Flags field to specify flags that must be passed to seccomp when installing the filter. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Bump go ..;opening as draft as this is based on . I'll rebase once that's merged donebackport of Bump golang .. Bump go .. addresses CVE       The text was updated successfully but these errors were encountered
. backport various testchanges for Go .;some testchanges from the PRs listed in that were not yet in the . branchBackports of hackvendor add check for vendored archivetar hack add script to regenerate certificates and update testcerts pkgfileutils TestMatches remove cases no longer valid for go. Disable go modules when compiling binaries used in tests       The text was updated successfully but these errors were encountered
pkgsignal make package selfcontained in preparation of moving to mobysys;Relates to mobysysRelates to containerdcontainerdThis moves dockerspecific code to different locations and removes nonessential dependenciespkgsignal move signal.DumpStacks to a separate packageIt is not directly related to signalhandling so can well livein its own package.Also added a variant that doesn't take a directory to write filesto for easier consumption better match to how it's used.pkgsignal move Trap to cmddockerdIt's the only location where this is used and it's quite specificto dockerd not really a reusable function for external use somoving it into that package.pkgsignal remove gotest.tools dependencyUse stdlib testing only       The text was updated successfully but these errors were encountered
pkgsysinfo assorted cleanuprefactoring for handling warnings and logging;This is based on changes I had in a branch on my machine to clean up the pkgsysinfo logic. I cleaned up those changes and grouped them into logical commits.See individual commits for details commit messages copied belowpkgsysinfo.New move v code to a newV functionThis makes it clearer that this code is the cgroups v equivalent of newV.Also moves the options handling to newV because it's currently only used for cgroupsv.pkgsysinfo move cgMounts to be a field in SysInfoWe pass the SysInfo struct to all functions. Adding cgMounts as a nonexported field makes passing around this information easier.pkgsysinfo.newV remove redundant path.Cleanpath.Join already does path.Clean and the opts.cgGroupPath field is already cleaned as part of WithCgroupGroupPathpkgsysinfo move cgGroupPath to be a field in SysInfoWe pass the SysInfo struct to all functions. Adding cgGroupPath as a nonexported field makes passing around this information easier.pkgsysinfo adjust Opt to set new fieldThis removes the need to have the opts type.pkgsysinfo move cgControllers to be a field in SysInfo and unify vvWe pass the SysInfo struct to all functions. Adding cgControllers as a nonexported field makes passing around this information easier.Now that infoCollector and infoCollectorV have the same signature we can simplify some bits and use a single slice for all collectors.pkgsysinfo collect warnings in SysInfo structThis allows the warnings to be consumed in other locations.pkgsysinfo.New daemon.RawSysInfo remove quiet argumentThe quiet argument was only used in a single place at daemon startup and every other use had to pass false to prevent this function from logging warnings.Now that SysInfo contains the warnings that occurred when collecting the system information we can make leave it up to the caller to use those warnings and log them if wanted.pkgsysinfo use correct name for AppArmor in t.SkipJust a minor nit helps greping for AppArmorapitypes add GoDoc to Info.Warnings fieldDescribe the purpose of this field to set the correct expectations.After if this is merged I want to have a look at the warnings returned by the API possibly we can reuse the same warnings so that there's no need to duplicate the logic in e.g. fillPlatformInfo   mobydaemoninfounix.go   Lines to  in bc       if v.CgroupDriver cgroupNoneDriver     if v.CgroupVersion     v.Warnings appendv.Warnings WARNING Running in rootlessmode without cgroups. Systemd is required to enable cgroups in rootlessmode.      else     v.Warnings appendv.Warnings WARNING Running in rootlessmode without cgroups. To enable cgroups in rootlessmode you need to boot the system in cgroup v mode.          else     if v.MemoryLimit     v.Warnings appendv.Warnings WARNING No memory limit support          if v.SwapLimit     v.Warnings appendv.Warnings WARNING No swap limit support          if v.KernelMemoryTCP v.CgroupVersion      kernel memory is not available for cgroup v.      Warning is not printed on cgroup v because there is no action user can take.     v.Warnings appendv.Warnings WARNING No kernel memory TCP limit support          Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update containerd binary to v..;full diff containerdcontainerdv.....v..Welcome to the v.. release of containerdThe seventh patch release for containerd . updates runc to .. and containsvarious other fixes.Notable UpdatesUpdate runc binary to ..Fix invalid validation error checkingFix error on image pull resumeFix symlink resolution for disk mounts on Windows Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update containerd binary and vendor to v..;Update containerd binary to v..full diff containerdcontainerdv.....v..Welcome to the v.. release of containerdThe third patch release for containerd . updates runc to .. and containsvarious other fixes.Notable UpdatesUpdate runc binary to ..Send pod UID to CNI plugins as KSPODUIDFix invalid validation error checkingFix error on image pull resumeFix User Agent sent to registry authentication server changes default useragent from Gohttpclient. to containerdv..Fix symlink resolution for disk mounts on Windowsvendor github.comcontainerdcontainerd v..full diff containerdcontainerdv.....v..Fix User Agent sent to registry authentication server changes default useragent from Gohttpclient. to containerdv..Fix missing Body.Close calls on push to docker remoteChange Wrapf of nonerror to an actual errorfixes Failed to pull image unexpected commit digestfix invalid validation error checkingUpdate hcsshim to ..Update Go to ..contentlocal inline sys.StatATimeAsTimewindows Use GetFinalPathNameByHandle for ResolveSymbolicLinkFix cleanup context of teardownPodNetworkfixes CRI fails to invoke CNI plugin to teardown network when RunPodSandbox times outsandbox send pod UID to CNI plugins as KSPODUID Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix up vndr tooling;Fix the error message in hackvalidatevendor to specify thathackvendor.sh should be run instead of vndr.Fix hackvendor.sh to also match on Windows paths for the whitelist.This allows the script to be run on Windows via Git Bash.Signedoffby Kevin Parsons kevparmicrosoft.com       The text was updated successfully but these errors were encountered
. backport docker pull warn when pulled singlearch image does not match platform;backport of addresses dockerformacMinor conflict due to adjacent line changes in imports because afe is not in the . branchThis takes the same approach as was implemented on docker build where a warningis printed if FROM platform... is used added in Beforedocker rmi armhfbusyboxdocker pull platformlinuxsx armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestdocker.ioarmhfbusyboxlatestWith this changedocker rmi armhfbusyboxdocker pull platformlinuxsx armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestWARNING image with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarmdocker.ioarmhfbusyboxlatestAnd daemon logs printWARNT.Z ignoring platform mismatch on singlearch image errorimage with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm imagearmhfbusyboxWhen pulling without specifying platform no warning is currently printed but we can add a warning in futuredocker rmi armhfbusyboxdocker pull armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestdocker.ioarmhfbusyboxlatestSignedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit cebSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Bump go .. addresses CVE;This addresses CVE httpscve.mitre.orgcgibincvename.cginameCVEgo.. released includes a security fix to the cryptotls packageas well as bug fixes to the compiler and the net and nethttp packages. See theGo .. milestone on the issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix flaky libnetworknetworkdb tests;What I didMake TestNetworkDBIslands run faster and respect timeout go test flag valuePartially address Fix TestNetworkDBNodeJoinLeaveIteration and TestNetworkDBCRUDTableEntries as well since they now fail constantly and break CI. Potential
Remove containerd platform dependency from client;Note once if is mergedaccepted we should consider replacing github.comopencontainersimagespecspecsgov.Platform with our own ImagePlatform to remove the OCI spec from the API if possible. If we do so we can also remove the formatPlatform function here as it would be provided by ImagePlatform.StringThis removes some of the containerd dependencies from the clientclient remove unused Platform field from configWrapperThis field was added in acb but appears to be unused so removing it.client remove containerd platform dependencyAfter this there's no direct dependency on containerd but the errdefs package still depends on containerd's errdefs. package. I'll have a look if we can refactor so that that doesn't end up in the client package.       The text was updated successfully but these errors were encountered
Move containerd.service from Requires to Wants;Carries dockerdockercepackagingPer the systemd.unit documentationIf this unit gets activated the units listed will be activated as well. If one of the other units fails to activate and an ordering dependency After on the failing unit is set this unit will not be started. Besides with or without specifying After this unit will be stopped if one of the other units is explicitly stopped.Often it is a better choice to use Wants instead of Requires in order to achieve a system that is more robust when dealing with failing services.This should also be generally safe given we added containerdruncontainerdcontainerd.sock to the flags we pass to dockerd.       The text was updated successfully but these errors were encountered
Improve swagger.yaml to match the . api version;I recently tried to rely on the swagger.yaml for code generation of an api client. Some parts required manual fixes of the swagger docs to match the current api version ..All changes described below relate to a dedicated commit because they aim at different parts of the api description and aren't releated per se. If you'd prefer to merge them all into a single commit please leave a note. What I didAdd RestartPolicy no to swagger docsAdd changes query parameter for imagecreate to swagger docsFix ContainerSummary swagger docs flattenedUse explicit object names for improved swagger based code generation otherwise generic names had been generatedFix swagger docs to match the opencontainers imagespec How I did itUsed the . swagger.yaml with swagger's codegen to generate Java code. Used that code to perform requests to a . Docker engine. Applied some fixes and hackvalidateswagger and make swaggerdocs to validate the changes. How to verify itCompare the actual . api with the swagger.yaml. Description for the changelogUpdate the swagger.yaml to match the version . api. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
daemon use object literal for stats;Just a minor cleanup had this stashed locally so thought I might as well open a PR       The text was updated successfully but these errors were encountered
daemonconfig remove commonUnixBridgeConfig and CommonUnixConfig;These types were added as part of the Solaris support because Solaris didn't support these options. Having these types added another layer of abstraction when reading the code making the code harder to read and more complicated to use.Now that implementing support for Solaris has been abandoned and removed we can reintegrate these fields in the unix configuration.See individual commits for details.       The text was updated successfully but these errors were encountered
replace pkgsignal with mobysyssignal v..;This code was moved to the mobysys repositoryrelates to mobysys mobysysrelates to relates to containerdcontainerd Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
updated namesgenerator.go for alphabetization;re ordered some entries so they are in proper alphabetical order What I didalphabetize some entries How I did itgithub editor How to verify it Description for the changelogUpdated entries in namesgenerator.go for proper alphabetization A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. vendor github.comMicrosofthcsshim abdacfcfcaadcfc moby branch;equivalent of for . branchBrings in microsofthcsshim which fixes .full diff microsofthcsshimaab...ab Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update hcsshim vendor to v..;Full set of changes microsofthcsshimv.....v..Importantly brings in microsofthcsshimwhich fixes .Signedoffby Kevin Parsons kevparmicrosoft.com       The text was updated successfully but these errors were encountered
Deprecate BuilderSize in API versions .;Refs comment What I didEnsure BuilderSize is not set for API versions . How I did itAdd a version check in the routerAdd omitempty JSON tagDocument in version history doc How to verify itcurl s unixsocket varrundocker.sock httplocalhostsystemdf | jqShould not show BuilderSize field Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Ensure empty build cache is represented as empty JSON array;Closes Refs comment What I didEnsure empty BuildCache field is represented as empty JSON array instead of null to be consistent with Images Containers etc. How I did itInitialize the struct field with an empty slice if buildCache is nil.Note the empty slice could be potentially defined as global variable and reused to avoid unnecessary allocations but that is an optimization not worth doing here in my opinion How to verify itcurl s unixsocket varrundocker.sock httplocalhostsystemdf | jq on empty daemon should output LayersSize  Images  Containers  Volumes  BuildCache  BuilderSize  Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
seccomp Sync fields with runtimespec fields;The runtime spec we are using has support for these fields butmoby doesn't have them in its seccomp struct. This patch just adds andcopies them when they are in the profile.DefaultErrnoRet is implemented in the runc version moby is using it isimplemented since runcrc but if we create a container withoutthis moby patch we don't see an error nor the expected behavior. Thisis not clear for the user the profile they specify is valid the syntaxis ok but the wrong behavior is seen.This is because the DefaultErrnoRet field is not copied to the configpassed ultimately to runc i.e. is like the field was not specified.With this patch we see the expected behavior.The other two fileds are in the runtimespec but not yet in runc a PRis open and targets .. milestone. However I took the liberty tocopy them now too for two reasonsIf we don't add them now and end up using a runc version thatsupports them then the error that the user will see is not clear atalldocker Error response from daemon OCI runtime create failed containerlinux.go starting container process caused listenerPath is not set unknown.And it is not obvious to debug for the user as the field is set inthe profile they specify just not copied by moby to the profile mobyspecifies ultimately to runc.When using a runc without seccomp notify support like today theerror we see is the same with and without this moby patch when using aseccomp profile with the new fieldsdocker Error response from daemon OCI runtime create failed string SCMPACTNOTIFY is not a valid action for seccomp unknown.Then it seems like a clear win to add them now we don't have to do itlater that implies not clear errors to the user if we forget like wedid with DefaultErrnoRet and the user sees the exact same error whenusing a runc version that doesn't support these fields. Note we are vendoring version cffbbeecfffeea and this version has these fields httpsgithub.comopencontainersruntimespecblobcffbbeecfffeeaconfiglinux.mdseccomp opencontainersrunc opencontainersruncSignedoffby Rodrigo Campos rodrigokinvolk.io What I didSync moby struct seccomp fields with runtimespec seccomp fields. This makes DefaultErrnoRet field in the seccomp spec work and prepares for other runc changes in the future. How I did itAdded the fields to the moby struct and copied them. How to verify itI tested this with runc . compiled locally but should work with runcrc too.Download the attached seccompdefaulterrno.txt let's say you save it as tmpseccompdefaulterrno.txt.Then you should expect the following when running dockerd with this patchdocker run rm it securityopt seccomptmpseccompdefaulterrno.txt debian mkdir amkdir cannot create directory 'a' No such device or addressThis is because the seccomp profile is using errno  errno ENXIO No such device or addressIf you run dockerd without this patch you should see EPERM the DefaultErrnoRet option is ignored without this patch and therefore it defaults to EPERM docker run rm it securityopt seccomptmpseccompdefaulterrno.txt debian mkdir amkdir cannot create directory 'a' Operation not permitted Description for the changelogHonor DefaultErrnoRet in seccomp profile A picture of a cute animal not mandatory but encouragedOf course I chose a rat ?ÿä       The text was updated successfully but these errors were encountered
. backport API fix status description on container create;backport of and        The text was updated successfully but these errors were encountered
Only check if route overlaps routes with scope LINK;closes partially addresses Signedoffby Alex Nordlund alexander.nordlundnasdaq.comThis implements the solution mentioned in and while it doesn't close that specific issue since it's technically two different issues it does remove one of the issues which may lead people there. and should close See comment for a great explanation.But in my case we are using split VPN and we have routes set by our network team to make sure that docker works unfortunately the fact that they set the routes also makes docker think the network is currently in use and prevents us from using it in the defaultaddresspools. What I didI added a network.Scope netlink.SCOPELINK check to the route overlapping check. How I did it How to verify it Description for the changelogWhen checking for overlapping routes on Linux only consider ones where the scope is LINK A picture of a cute animal not mandatory but encouragedHere's the dog I live with silently judging our VPN situation at a safe distance       The text was updated successfully but these errors were encountered
API fix status description on container create;This updates the current swagger file and all docs versions with the same fix as ffda        The text was updated successfully but these errors were encountered
. backport Dockerfile update goswagger to fix validation on Go.;backport of        The text was updated successfully but these errors were encountered
hacktestunit run libnetwork tests sequentially;What I didRun libnetwork tests sequentially. See comment for explanation.Closes maybe moreNote that many tests in libnetwork... already depend on the assumption that they are run sequentially and do not easily support things like
Dockerfile update goswagger to fix validation on Go.;depends on kolyshkingoswaggerrelates to temporarily using my fork to test this in CI       The text was updated successfully but these errors were encountered
. backport Run sx tests on Ubuntu .;backport of        The text was updated successfully but these errors were encountered
Fix use of unsafe ptr;Signedoffby Adam Williams awilliamsmirantis.com What I didFix unsafe pointer conversion. Fixes issue  How I did itRefactor to just create an array of random bytes instead of int's and converting to bytes. How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Reduce TestClientWithRequestTimeout flakiness;hopefully addresses part of The test sometimes failed because no error was returned Failed FAIL pkgplugins TestClientWithRequestTimeout .s clienttest.go assertion failed expected an error got nil expected errorPossibly caused by a race condition as the sleep was just ms longer than the timeoutthis patch is increasing the sleep in the response to try to reduce flakiness.       The text was updated successfully but these errors were encountered
Run sx tests on Ubuntu .;carry closes        The text was updated successfully but these errors were encountered
fix potential goroutine leak by making channel nonblocking;What I didFixing a potential deadlock by making unbuffered channel to buffered channel. How I did it   mobycontainerstatetest.go   Lines to  in dfc      
file mkimagerinse.sh has been abort should modify the script annotation;Signedoffby dingwei dingweicmss.chinamobile.com What I diddelete the annotation of script How I did itdelete the annotation of script How to verify it Description for the changelogthere is no file named mkimagerinse.sh in contrib floder should delete it A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork processEndpointCreate Fix deadlock between getSvcRecords and processEndpointCreate;Another similar case occured with a fixed build. Removed holding multiple locks for processEndpointCreate aswell.In terms of lock hierarchy I also thought about locking n.ctrlr.Lock before n.Lock ingetSvcRecords to possibly prevent other cases where the locking can't be split like here e.g. both looks need to be held.But that might be not wanted because of data races accessing networks data before its locked.If the controller of a network cant change it probably would be prefered though.References thaJeztah       The text was updated successfully but these errors were encountered
. backport update runc binary to v.. GA;backport of opening as draft because is not merged yet wait for a containerd v.. release wait for a containerd.io .. package release to make sure that our static binaries do not ship with a different version of runc than our debrpm packages       The text was updated successfully but these errors were encountered
registry remove const for 'DockerDistributionApiVersion' header;noticed this when looking at dockercliThis header was used for fallbacks to v registries but it's no longer used since and marked optional legacy in the OCI distributionspechttpsgithub.comopencontainersdistributionspecblobv..spec.mdlegacydockersupporthttpheadersBecause of the origins this specification the client MAY encounterDockerspecific headers such as DockerContentDigest orDockerDistributionAPIVersion. These headers are OPTIONAL andclients SHOULD NOT depend on them.       The text was updated successfully but these errors were encountered
Make validate flag description more generic;Update the validate flag description to be more generic as it validates the combination of flags if set and the configuration file.       The text was updated successfully but these errors were encountered
. vendor swarmkit to fix deadlock in log broker bump.;?ìÆ Fixes        The text was updated successfully but these errors were encountered
Add type parameter to systemdf;What I didAdd type parameter to systemdf How I did itInternally allow more finegrained control over choice of objects to compute disk usage from add types URL parameter. How to verify it docker run alpine or create a container in any other
contrib remove reportissue.sh script;As discussed in I don't think this script was really used and now that GitHub has issue templates it will diverge from the template we have configured so better to remove it.       The text was updated successfully but these errors were encountered
Fix cross compilation in Jenkinsfile;This is the first commit from        The text was updated successfully but these errors were encountered
Fix SharedSize computation in ImageService.Image for filtered requests;What I didRefactor ImageService.Images for clarityMinimize allocations by specifying known data structure capacitiesFix SharedSize computation for filtered image queries prerequisite for  How I did itPartially applied thaJeztahee a
libnetwork processEndpointDelete Fix deadlock between getSvcRecords and processEndpointDelete;We had some hosts with quite a bit of cycling containers that ocassionally causes docker daemons to lock up.Most prominently docker run commands do not respond and nothing happens anymore.Looking at the stack trace the following is at least likely sometimes a cause to thatTwo goroutines g and g can race against each otherg . getSvcRecords is called and calls network.Lock Network is locked.g . processEndpointDelete is called and calls controller.Lock Controller is lockedg . processEndpointDelete tries network.ID which calls network.Lock.g . getSvcRecords calls controller.Lock... are deadlocked against each other since the other goroutine holds the lock they need.References very similar issuehttpsgithub.commobylibnetworkblobbdcdbefaceebbddafnetwork.go mobylibnetwork       The text was updated successfully but these errors were encountered
use defer to unlock mutex;use defer to unlock mutex clean upSignedoffby Anyu Wang wanganyuoutlook.com What I didsource code clean up How I did ituse defer to unlock mutex How to verify itNA Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix typo in macvlansetup.go;NOM
Various libnetwork cleanups;See commits for details.Related to        The text was updated successfully but these errors were encountered
. backport Fix possible overlapping IPs;?ìÆ  What I didFix a possibility where overlapping IP addresses could exist as a result of the node failing to clean up its old loadbalancer IPs.Fixes A node is no longer using its load balancer IP address when it no longerhas tasks that use the network that requires that load balancer. Whenthis occurs the swarmkit manager will free that IP in IPAM and mayreassign it.When a task shuts down cleanly it attempts removal of the networks ituses and if it is the last task using those networks this removalsucceeds and the load balancer IP is freed.However this behavior is absent if the container fails. Removal of thenetworks is never attempted.To address this issue I amend the executor. Whenever a node loadbalancer IP is removed or changed that information is passed to theexecutor by way of the Configure method. By keeping track of the set ofnode NetworkAttachments from the previous call to Configure we candetermine which if any have been removed or changed.At first this seems to create a race by which a task can be attemptingto start and the network is removed right out from under it. Howeverthis is already addressed in the controller. The controller will attemptto recreate missing networks before starting a task.Signedoffby Drew Erny dernymirantis.comcherry picked from commit dbedSignedoffby Ameya Gawde agawdemirantis.com       The text was updated successfully but these errors were encountered
vendor swarmkit to fix deadlock in log broker.;Revendors swarmkit to fix a deadlock in the log broker. Closes .       The text was updated successfully but these errors were encountered
replace uses of deprecated containerdsys.RunningInUserNS;This utility was moved to a separate package which has no dependencies.       The text was updated successfully but these errors were encountered
pkgsystem remove deprecated things and move and deprecate more;pkgsystem remove deprecated GetOSVersion consts SecurityInfo utils.This removes the deprecated wrappers. These were no longer used in our codeand were deprecated in the . release giving external consumers to replacethe deprecated ones.Note that there are two consts for which there is no replacement in golang.orgxsysconst  PROCESSTRUSTLABELSECURITYINFORMATION x ACCESSFILTERSECURITYINFORMATION xPROCESSTRUSTLABELSECURITYINFORMATION is documented as reserved and I couldnot find clear documentation about ACCESSFILTERSECURITYINFORMATION so not sureif they must be included in golang.orgxsys httpsdocs.microsoft.comenusopenspecswindowsprotocolsmsdtypecafdecdddpkgsystem remove unused system.Unmount utilityOn LinuxUnix it was just a thin wrapper for unix.Unmount and a noop on Windows.This function was not used anywhere also not externally so removing this withoutdeprecating first.pkgsystem deprecate some consts and move them to pkgidtoolsThese consts were used in combination with idtools utilities whichmakes it a more logical location for these consts to live.       The text was updated successfully but these errors were encountered
Add support for sharedsize parameter for images queries;NOM
docs fix image name in testing guide;What I didI followed the contributing guide and encountered a few issues.Note this also did not work out for me   mobydocscontributingsetupdevenv.md   Lines to  in eca    
Jenkinsfile add stage for Windows on containerd;followup to relates to        The text was updated successfully but these errors were encountered
Jenkinsfile update Windows insider to latest tag ...;Tags can be found at httpsmcr.microsoft.comvwindowsservercoreinsidertagslist       The text was updated successfully but these errors were encountered
Crosscompilation for sx and ppcle;NOM
Remove LCOW step volumesmounts remove LCOW code alternative;relates to part of alternative for closes This alternative to preserves the LCOW parsing code for mounts in case we will be using LCOW using containerd's LCOW implementation. By default a native parser is now used matching the host and thus container's platform.After taking care of the above tests have also be split to be perdriver and some refactoring to improve the tests being able to run them parallel.details belowvolumemounts move some code to correct location and minor lintingformattingRemove the windowsparser.HasResource override as it was the same on bothWindows and LinuxMove the rxLCOWDestination to the lcowParser codeMove the rwModes variable to a generic nonplatformspecific file as it'sused both for the windowsParser and the linuxParserSome minor formatting and linting changesvolumemounts remove containerOS argument from NewParser LCOW codeThis changes mounts.NewParser to create a parser for the current operatingsysteminstead of one specific to a possibly nonmatching in case of LCOW OS.With the OSspecific handling being removed the OS parameter is also removedfrom daemon.verifyContainerSettings and various other containerrelatedfunctions.Split tests per parserHave tests perparser instead of grouping all tests in a single test with atestset for each parser inside that test. All tests have been kept at thecost of some duplication in the testcases that overlapped were the samefor multiple parsers.Add constructors for each parserThis adds constructors for the Linux Windows and LCOW to allow using theseparsers externally instead of only through NewParser.Don't use global variable for fileinfoproviderThe code used a global packagelevel currentFileInfoProvider that was usedto stub the actual fileInfoProvider during tests. Using a packagelevel variablefor this could cause issues when trying to run tests in parallel as well asmaking the tests more complicated tests had to reset the provider in a defer.Now that we have a constructor for each driver we can set up the fileinfoproviderin those constructors and stub the implementation for specific instances insteadof globally.Use subtests and use gotest.toolsThese tests were running many testcases which required a lot of glue code toconstruct useful errors if one of those failed.Using regular subtests instead to make debugging easier and use gotest.toolsto take care of useful errors. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Adjust buildmode comment to link to commit;This should make sure the link is still meaningful if that file drastically changes which should make it easier to trace where the interesting block of code moved to and how it changes over time.Also add TODO items for Go . and . where we can pie more builds.This is a very minor followup to        The text was updated successfully but these errors were encountered
ReplaceFileTarWrapper permit to override file name;What I didJust permit to override the tarHeader with a different name if it's needed. Normal behavior is unchanged. This permits to override the name with a custom callback. How to verify itWe have a test unit under the luet project.httpsgithub.
don't use buildmodepie on ppc;What I didmade sure buildmodepie is not passed on ppc bigendian How I did itadded exception in hackmake.binaryIt's already omitted for ppc inhackdockerfileinstallinstall.shnot using wildcard because GOARCHppcle supports pie Ho
Bump swarmkit to get fix for rollback failure;fixes  What I didUpdate swarmkit for fix for issue  How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork more cleanups;migrated from mobylibnetworkcloses mobylibnetworkwindows remove redundant initdriversbridge dont use types.ParseCIDR for fixed valuedriversbridge format comments       The text was updated successfully but these errors were encountered
Remove LCOW step remove layerstore indexing by OS used for LCOW;splitting off from        The text was updated successfully but these errors were encountered
libnetworkportmapper some minor cleaning up;closes mobylibnetworkmigrated from mobylibnetwork usinggit checkout b proxycleanup upstreammasterPRNUMBER curl fsSL httpspatchdiff.githubusercontent.comrawmobylibnetworkpull.patch | git am way S directorylibnetworkportmapper don't compile linuxonly code on Windowsportmapper minor linting fix and comment purpose of newProxy variableportmapper change userlandProxyCommandName to a constit's not overridden anywhere so may as well be a constportmapper move mockProxyCommand to a test fileNo need to vendor this file in other projects and it's only used during tests.       The text was updated successfully but these errors were encountered
vendor mobyterm Azuregoansiterm for golang.orgxsyswindows compatibility;Relates tomobyterm Invalid Standard Handle Panic on Windows Server dockerforwin Invalid standard handle identifier since .. updatedockercli window cmd run docker v errorChangeswinterm GetStdFile Added compatibility with golang.orgxsyswindowswinterm fix GetStdFile falltroughupdate deprecation message to refer to the correct replacementadd go.modFix int overflowConvert int to string using runefull diffmobytermbeabbe...fffAzuregoansitermdeb...ddfc Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Jenkinsfile skip ppcle and sx by default on pull requests;backport of This changes CI to skip these platforms by default. The ppcle and sxmachines are pet machines configuration may be outdated and thesemachines are known to be flaky.Building and verifying packages for these platforms is being handedover to the IBM team.We can still run these platforms for specific pull requests by selectingthe checkboxes.       The text was updated successfully but these errors were encountered
Remove LCOW step daemon remove graphdriver indexing by OS;splitting off from        The text was updated successfully but these errors were encountered
libnetworkendpoint remove redundant doUpdateHostsFile function;replaces mobylibnetworkcloses mobylibnetworkThe second sandbox argument was unused and it was onlyused in a single location so we may as well inline thecheck.       The text was updated successfully but these errors were encountered
libnetworkportallocator various cleanups remove init;relaces mobylibnetworkcloses mobylibnetworkportallocator use const for default portranges instead of initportallocator minor refactor for readabilityportallocator log instead of discard portrange failuresBoth getDynamicPortRange and sanitizePortRange could produce and error and the error message was currently discarded silently falling back to using the default port range. This patchMoves the fallback message from getDynamicPortRange to getDefaultPortRange which is where the actual fallback occurs.Logs the fallback message and the error that causes the fallback.The messageerror is currently printed at the INFO level but could be raised to a WARN depending on what kind of situations can cause the error.       The text was updated successfully but these errors were encountered
libnetworkbridge remove unused others argument from isolateNetwork;replaces mobylibnetworkcloses mobylibnetworkThis argument was used to detect conflicts but was later removed in mobylibnetworkcbc mobylibnetwork carry of mobylibnetwork.However it was never removed and we were still getting a list of all networks without using the results.       The text was updated successfully but these errors were encountered
libnetworknetutils minor cleanups and fixes;replaces mobylibnetworkcloses mobylibnetwork       The text was updated successfully but these errors were encountered
Remove LCOW step;Chipping off more bits from This removes most of the LCOW related things from libcontainerd although there's some bits left that potentially could be the cause of failures on so leaving those for a separate PR.       The text was updated successfully but these errors were encountered
libnetwork remove some things that are no longer needed;part of see individual commits for details.probably lots of other things left       The text was updated successfully but these errors were encountered
pkgfileutils PatternMatcher.Matches remove debug logging;relates to Trying to avoid logging code in libraries used elsewhere. If this debug log is important it should be easy to add in code that's calling it. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
networkdb mark testhelpers as t.Helper;this migrates mobylibnetworkcloses mobylibnetworkrelates to mobylibnetwork comment in libnetwork repogit formatpatch HEAD in moby repogit am directorylibnetwork ..libnetworknetworkdbmarktesthelpersast.Helper.patch Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix log statement 'failed to exit' timeout accuracy;log statement should reflect how long it actually waited not how longit theoretically could wait based on the 'seconds' integer passed in. What I didIf killPossiblyDeadProcess fails then wait is modified to only wait seconds rather than keeping the original timeout of secondsSince this log message was still logging seconds this could lead to these strange messages in the logs notice how the log message says it waited seconds but the message was logged only seconds latertimeT.Z leveldebug msgSending kill signal to container cfaffeafafddbcdcccbatimeT.Z levelerror msgError sending stop signal to container containercfaffeafafddbcdcccba errorCONTAINER KILL FAILED AHHHHHHHHHHHtimeT.Z levelinfo msgContainer failed to exit within seconds of signal using the force containercfaffeafafddbcdcccbaAfter this change the log messages accurately reflects that it only waited secondstimeT.Z leveldebug msgSending kill signal to container ceedacfddebdbfdfbcfdddcctimeT.Z levelerror msgError sending stop signal to container containerceedacfddebdbfdfbcfdddcc errorCONTAINER KILL FAILED AHHHHHHHHHHHtimeT.Z levelinfo msgContainer failed to exit within s of signal using the force containerceedacfddebdbfdfbcfdddcc How to verify itmodify code to always return error from killWithSignal Description for the changelogNA followup to  A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Remove a lot of outdated projectPACKAGERS.md text;This is just a first pass to axe some low hanging fruit. At this point the project is generally mature enough that I do not believe most of this is necessary.       The text was updated successfully but these errors were encountered
Fix daemon.json and daemon seccompprofile not accepting unconfined and rename default profile to builtin;waiting for then I can add some tests.Possibly will be splitting this PR in some chunks as well in case we want to backport the unconfined daemon configuration fix.Add const for unconfined and default seccomp profilesFix daemon.json and daemon seccompprofile not accepting unconfinedCommit b implemented an option toset the default seccomp profile in the daemon configuration. When that PRwas reviewed it was discussed to have the option accept the path to a customprofile JSON file commentHowever in the implementation the special unconfined value was not taken intoaccount. The unconfined value is meant to disable seccomp more factuallyrun with an empty profile.While it's likely possible to achieve this by creating a file with an an empty profile and passing the path to that file it's inconsistent with thesecurityopt seccompunconfined option on docker run and docker createwhich is both confusing and makes it harder to use especially on Docker Desktopwhere there's no direct access to the VM's filesystem.This patch adds the missing check for the special unconfined value.daemon allow builtin as valid value for seccomp profilesThis allows containers to use the embedded default profile if a differentdefault is set e.g. unconfined in the daemon configuration. Without thisoption users would have to copy the default profile to a file in order touse the default.daemon move custom seccomp profile warning from CLI to daemon side What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Fix setting swaplimittrue without checking;Cherrypick  What I didfixes  How I did itAdded one condition to mobypkgsysinfocgrouplinux.go How to verify itActually I wanted to create unit tests for this one. The problem is certain files must be present on FS so I see solutionsuse mocks of os.Stat for examplesince part of the path is passed as an argument choose a different dir for tests eg tmpI do not know what is the common practice in the project st PR so I decided just to simply open a PR and ask. Description for the changelogFixes setting swaplimittrue without checking memory.swap.max A picture of a cute animal not mandatory but encouragedAnother time        The text was updated successfully but these errors were encountered
vendor github.comopencontainersselinux v..;full diffopencontainersselinuxv.....v..bitsandbloomsbitsetv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor swarmkit master after libnetwork move;relates to  dockerswarmkit depends on dockerswarmkit What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
revendor BuildKit master branch;relates to depends on mobybuildkit mobybuildkitUpdatesvendor golang.orgxcrypto cfeedcefeedbffull diff golangcryptocff...cfevendor golang.orgxtime afdaefcaccecbeacefull diff golangtimedb...afvendor golang.orgxnet eecbbafcbcbcbffeafull diff golangnete...eecbbvendor golang.orgxsync becddfddaedadfull diff golangsyncee...bvendor google.golang.orggenprotofull diff googleapisgogenprotofa...dvendor github.comtonistiigifsutil dfbfdbbcfbbefcabdeecfull diff tonistiigifsutilf...daf       The text was updated successfully but these errors were encountered
daemon improve handling of ROOTLESSKITPARENTEUID;daemon.WithRootless make sure ROOTLESSKITPARENTEUID is valid intdaemon.RawSysInfo minor simplification and rename variable thatclashed with imported package. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libnetwork replace BurntSushitoml with pelletiergotoml;replaces mobylibnetworkrelates to Dependency will go away once is mergedThe BurntSushi project is no longer maintained and the container ecosystem is moving to use the pelletiergotoml project instead.This patch moves libnetwork to use the pelletiergotoml library to reduce our dependency tree and use the same library in all places.       The text was updated successfully but these errors were encountered
. backport rootless avoid runxtables.lock EACCES on SELinux hosts disable overlay if running with SELinux fix x certificate signed by unknown authority on openSUSE Tumbleweed;Backport dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts What I didFix  How I did itPreviously running dockerdrootless.sh on SELinuxenabled hosts was failing with can't open lock file runxtables.lock Permission denied error. issue .This commit avoids hitting the error by relabeling run in the RootlessKit child.The actual run on the parent is unaffected.httpsgithub.comcontainerspodmanblobefcbaadbefeefbblibpodnetworkinglinux.goLL How to verify itInstall Rootless Docker to Fedora without disabling SELinuxMake sure the daemon starts up without can't open lock file runxtables.lock Permission denied error Description for the changelogdockerdrootless.sh avoid can't open lock file runxtables.lock Permission denied errorSELinux hosts A picture of a cute animal not mandatory but encouraged?Éº rootless disable overlay if running with SELinux What I didClose rootlessoverlay kernel .SELinux mkdir homeUSER.localsharedockeroverlayCIDinitmergeddev permission denied.  How I did itDisable overlay when DOCKERDROOTLESSSELINUX is set.We can't rely on goselinux.GetEnabled because RootlessKit doesn't mount sysfsselinux in the child rootlesscontainersrootlesskit How to verify itInstall to Fedora Make sure docker info shows fuseoverlayfs as the default storage driver on rootless while retaining overlay on rootfulMake sure docker run helloworld works on rootless Description for the changelogrootless disable overlay if running with SELinux A picture of a cute animal not mandatory but encouraged?Éº rootless fix x certificate signed by unknown authority on openSUSE Tumbleweed What I didFix x certificate signed by unknown authority error on openSUSE Tumbleweed.openSUSE Tumbleweed was facing this error as etcsslcabundle.pem is provided as a symlink to ....varlibcacertificatescabundle.pem which was not supported by rootlesskit copyupetc .See rootlesscontainersrootlesskit How I did itBy bindmounting etcssl from the parent namespace into the child. How to verify itRun docker contextrootless pull helloworld on an openSUSE Tumbleweed host. Description for the changelogrootless fix x certificate signed by unknown authority on openSUSE Tumbleweed A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
Update AUTHORS and mailmap;Updating the list to account for the new commits from libnetwork.       The text was updated successfully but these errors were encountered
rootless fix x certificate signed by unknown authority on openSUSE Tumbleweed;What I didFix x certificate signed by unknown authority error on openSUSE Tumbleweed.openSUSE Tumbleweed was facing this error as etcsslcabundle.pem is provided as a symlink to ....varlibcacertificatescabundle.pem which was not supp
Dockerfile install criu from binary repo carry;carry of with changes from comment appliedcloses closes        The text was updated successfully but these errors were encountered
Remove LCOW step;taken from but splitting into smaller chunksThe LCOW implementation in dockerd has been deprecated in favor of reimplementationin containerd in progress. Microsoft started removing the LCOW V code from thebuild dependencies we use in Microsoftopengcs soon to be part of Microsofthcshhimwhich means that we need to start removing this code.This first step removes the lcow graphdriver the LCOW initialization code andsome LCOWrelated utilities. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update runc binary to v.. GA;httpsgithub.comopencontainersruncreleasestagv..       The text was updated successfully but these errors were encountered
. backport vendor github.commobybuildkit v..gecde;backport of vendor github.commobybuildkit v..gecdefull diff mobybuildkitv.....v..gecdeTransform relative mountpoints for exec mounts in the executorAdd test for handling relative mountpointsvendor github.commobybuildkit v..full diff mobybuildkitv.....v..vendor containerd required for rootless overlayfs on kernel .not included to avoid depending on a forkAdd retry on image push xx errorscontenthash include basename in content checksum for wildcardsFix missing mounts in execOp cache mapAdd regression test for run cache not considering mountsAdd hack to preserve Dockerfile RUN cache compatibility after mount cache bugfix Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
changelog fix incorrectly named libnetwork label;The correct name is com.docker.network.containerifaceprefix butthe changelog accidentally used interface instead of iface becausethe libnetwork pull request used that as a title.relates to dockerclirelates to relates to mobylibnetwork       The text was updated successfully but these errors were encountered
testing update fix linting issues found by golangcilint v..;Splitting this from which needs some work use a custom action instead of the default one similar to buildkit CIThis updates fixes linting issues found by the latest golangcilint v..       The text was updated successfully but these errors were encountered
Fix possible overlapping IPs;What I didFix a possibility where overlapping IP addresses could exist as a result of the node failing to clean up its old loadbalancer IPs.Fixes supercedes .closes  How I did itA node is no longer using its load balancer IP a
vendor github.commobybuildkit v..gecde;vendor github.commobybuildkit v..gecdefull diff mobybuildkitv.....v..gecdeTransform relative mountpoints for exec mounts in the executorAdd test for handling relative mountpointsvendor github.commobybuildkit v..full diff mobybuildkitv.....v..vendor containerd required for rootless overlayfs on kernel .not included to avoid depending on a forkAdd retry on image push xx errorscontenthash include basename in content checksum for wildcardsFix missing mounts in execOp cache mapAdd regression test for run cache not considering mountsAdd hack to preserve Dockerfile RUN cache compatibility after mount cache bugfix Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport pkgsignal ignore SIGURG on all platforms;backport of followup to relates to dockercliOther Unix platforms e.g. Darwin are also affected by the Goruntime sending SIGURG.This patch changes how we match the signal by just looking for theURG name which should handle any platform that has this signaldefined in the SignalMap. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comfluentfluentloggergolang ..;Updates the fluent logger library. Namely this fixes a couple placeswhere the library could panic when closing and writing to channels.see fluentd PRsissuesfluentfluentloggergolangfluentfluentloggergolangfluentfluentloggergolangfluentfluentloggergolangcloses closes Signedoffby Cam ghsparr.email What I didI edited vendor.conf manually then ran .hackvendor.sh How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgsignal ignore SIGURG on all platforms;followup to relates to dockercliOther Unix platforms e.g. Darwin are also affected by the Goruntime sending SIGURG.This patch changes how we match the signal by just looking for theURG name which should handle any platform that has this signaldefined in the SignalMap. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport vendor github.comdockerlibnetwork baddecbdec;backport of supersedes Update libnetwork to make docker run p functional again on environmentswith kernel boot parameter ipv.disable.full diff mobylibnetworkb...bafix port forwarding with ipv.disablefixes Docker .. all containers stopped and cannot start if ipv is disabled on hostfixes mobylibnetwork Network issue with IPv following update to version ..fixes dockerforlinux Since .. it's not possible to run docker on a machine with disabled IPv interfacesrelates to nginxproxynginxproxy BUG Latest image ENABLEIPV not being honoredrelates to elabftwelabftw errors when restarting elabftwrelates to httpsforums.docker.comtipvdisabledonmycomputerbutdockernetworkseemslookingforitrelates to NginxProxyManagernginxproxymanager Docker .. breaks IPVrelates to awsamazonecsagent Docker .. IPv bindings shouldn't be mapped as network bindings for tasks for non IPv networksvendor github.comishidawatarusctp fecdeebdddbeEnforce order of lock acquisitions on networkcontroller fixes fixes mobylibnetwork Name resolution stuck due to deadlock between different network struct methodsfixes Docker deamon get's stuck can't serve DNS requestsvendor github.comishidawatarusctp fecdeebdddbefull diff ishidawatarusctpecb...fesupport SOSNDBUFSORCVBUF handlingSupport Go Moduleslicense clarificatonci drop . . . supportAdd support for SocketConfigsupport goarch mipsle architecture.fix possible socket leak when bind fails Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comdockerlibnetwork baddecbdec;supersedes closes Update libnetwork to make docker run p functional again on environmentswith kernel boot parameter ipv.disable.full diff mobylibnetworkb...bafix port forwarding with ipv.disablefixes Docker .. all containers stopped and cannot start if ipv is disabled on hostfixes mobylibnetwork Network issue with IPv following update to version ..fixes dockerforlinux Since .. it's not possible to run docker on a machine with disabled IPv interfacesrelates to nginxproxynginxproxy BUG Latest image ENABLEIPV not being honoredrelates to elabftwelabftw errors when restarting elabftwrelates to httpsforums.docker.comtipvdisabledonmycomputerbutdockernetworkseemslookingforitrelates to NginxProxyManagernginxproxymanager Docker .. breaks IPVrelates to awsamazonecsagent Docker .. IPv bindings shouldn't be mapped as network bindings for tasks for non IPv networksvendor github.comishidawatarusctp fecdeebdddbeEnforce order of lock acquisitions on networkcontroller fixes fixes mobylibnetwork Name resolution stuck due to deadlock between different network struct methodsfixes Docker deamon get's stuck can't serve DNS requestsvendor github.comishidawatarusctp fecdeebdddbefull diff ishidawatarusctpecb...fesupport SOSNDBUFSORCVBUF handlingSupport Go Moduleslicense clarificatonci drop . . . supportAdd support for SocketConfigsupport goarch mipsle architecture.fix possible socket leak when bind fails Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
contribcheckconfig.sh Make script POSIX;What I didI needed to run checkconfig.sh on a small system that doesn't have bash. So I did the changes needed to make it a POSIX shell script and thus remove the bash dependency. Having done that for my own needs I thought I'd share this more portab
contribcheckconfig.sh Remove awk dependency;NOM
Add Samuel Karp as a maintainer;samuelkarp has been a longtime supporter of the container ecosystem. He is an active security advisor for the containerd project has spent a lot of time with the awslogs logging driver and has been helping with review and triage of pull requests here
. backport pkgsignal.CatchAll ignore SIGURG on Linux;backport of relates to commentI copied the approach taken in dockercli to be consistentDo not handle SIGURG on Linux as in go. the go runtime issuesSIGURG as an interrupt to support preemptable system calls on Linux.This issue was caught in TestCatchAll which could fail when updating to Go . or above Failed FAIL pkgsignal TestCatchAll .s signallinuxtest.go assertion failed urgent IO condition string continued string signallinuxtest.go assertion failed continued string hangup string signallinuxtest.go assertion failed hangup string child exited string signallinuxtest.go assertion failed child exited string illegal instruction string signallinuxtest.go assertion failed illegal instruction string floating point exception string Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update containerd binary to v..;full diff containerdcontainerdv.....v..The second patch release for containerd . is a security release to updaterunc for CVE Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. update containerd binary to v..;full diff containerdcontainerdv.....v..The sixth patch release for containerd . is a security release to updaterunc for CVE Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgsignal.CatchAll ignore SIGURG on Linux;relates to commentI copied the approach taken in dockercli to be consistentDo not handle SIGURG on Linux as in go. the go runtime issuesSIGURG as an interrupt to support preemptable system calls on Linux.This issue was caught in TestCatchAll which could fail when updating to Go . or above Failed FAIL pkgsignal TestCatchAll .s signallinuxtest.go assertion failed urgent IO condition string continued string signallinuxtest.go assertion failed continued string hangup string signallinuxtest.go assertion failed hangup string child exited string signallinuxtest.go assertion failed child exited string illegal instruction string signallinuxtest.go assertion failed illegal instruction string floating point exception string What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update runc binary to v..rc;backport of full diff opencontainersruncv..rc...v..rcRelease notesThis release of runc contains a fix for CVE and users arestrongly recommended to update especially if you are providingsemilimited access to spawn containers to untrusted users.Aside from this security fix only a few other changes were made sincev..rc the only uservisible change was the addition of supportfor defaultErrnoRet in seccomp profiles. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update runc binary to v..rc;full diff opencontainersruncv..rc...v..rcRelease notesThis release of runc contains a fix for CVE and users arestrongly recommended to update especially if you are providingsemilimited access to spawn containers to untrusted users.Aside from this security fix only a few other changes were made sincev..rc the only uservisible change was the addition of supportfor defaultErrnoRet in seccomp profiles. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Daemon config validation;On dockerd validate return after the daemon config has been loaded and validated.Continuation of avoids the os.Exit.closes fixes        The text was updated successfully but these errors were encountered
Disable go modules when compiling binaries used in tests;relates to These caused CI to fail when using Go . so disabling Go modules to prevent that       The text was updated successfully but these errors were encountered
pkgfileutils TestMatches remove cases no longer valid for go.;relates to fixes These tests were no longer valid on Go . related to httpstip.golang.orgdocgo.pathfilepathThe Match and Glob functions now return an error if the unmatched part ofthe pattern has a syntax error. Previously the functions returned early ona failed match and thus did not report any later syntax error in the pattern.Causing the test to fail RUN TestMatches fileutilstest.go assertion failed error is not nil syntax error in pattern patterna\\ texta FAIL TestMatches .s       The text was updated successfully but these errors were encountered
hack add script to regenerate certificates and update testcerts;relates to Certificates were originally added in ccb but did not include a script to generate them. Current versions of Go expect certificates to use SAN instead of Common Name fields so updating the script to include thosex certificate relies on legacy Common Name field use SANs or temporarilyenable Common Name matching with GODEBUGxignoreCNSome fields were updated to be a bit more descriptive instead of replaceme and the text option was used to include a humanreadable variant of the content. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Update runc binary to v..rc;backport of Swarm config use absolute paths for mount destination strings Update runc binary to v..rcfull diff opencontainersruncv..rc...v..rcrelease notes httpsgithub.comopencontainersruncreleasestagv..rcPotentially breaking changescgroupv kernel memory limits are now always ignored as kmemcg hasbeen effectively deprecated by the kernel. Users should make use ofregular memory cgroup controls.libcontainercgroups cgroup managers' Set now acceptconfigs.Resources rather than configs.Cgroupslibcontainercgroupssystemd reconnect and retry in case dbusconnection is closed after dbus restartlibcontainercgroupssystemd don't set limits in ApplyBugfixesseccomp fix bit compilation errors regression in rccgroupv blkio weight value conversion fixrunc init fix a hang caused by deadlock in seccompebpf loading code regression in rcrunc start fix chdir to cwd permission denied for some setups regression in rcs fix broken terminal regression in rcImprovementsrunc startexec better diagnostics when container limits are too lowrunc startexec better cleanup after failed runc initcgroupv improve freezing chancescgroupv multiple GetStats improvementscgroupv fallback to setting io.weight if io.bfq.weight is not availablecapabilities WARN not ERROR for unknown unavailable capabilities       The text was updated successfully but these errors were encountered
hackvalidate skip DCO in default;noticed in that we were validating this twice or times if we count the DCO botWe perform a DCO check before we run all other tests so we can skip it as part of the validate step.Leaving the line in for visibility and in case we switch from Jenkins to e.g. GitHub actions. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update containerd binary to v..;runc is updated in full diff containerdcontainerdv.....v..Notable UpdatesUpdate runc to rcFix registry mirror authorization logic in CRI pluginFix regression in cricnirelease to include cri tools Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport buildernext relax second cache key requirements for schema;backport of fixes mobybuildkitSchema images can not have a config based cache keybefore the layers are pulled. Avoid validation and reusemanifest digest as a second key. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Jenkinsfile skip ppcle and sx by default on pull requests;This changes CI to skip these platforms by default. The ppcle and sxmachines are pet machines configuration may be outdated and thesemachines are known to be flaky.Building and verifying packages for these platforms is being handedover to the IBM team.We can still run these platforms for specific pull requests by selectingthe checkboxes. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Upstream systemd unit files from dockercepackaging repo;The dockercepackaging repo currently maintains its own copy of the systemd unit files for docker httpsgithub.comdockerdockercepackagingtreededbccccfcdasystemdThis PR moves the changes from those files back to the ones in this repository. There were some conflicts so needs a review.I also removed the now unused .rpm version of the systemd unit.I tried to preserve history from the dockercepackaging repository taking this approach install filterrepo httpsgithub.comnewrengitfilterrepoblobmainINSTALL.mdbrew install gitfilterrepo create a temporary clone of the packaging repogit clone httpsgithub.comdockerdockercepackaging.git Projectspackagingtmpcd Projectspackagingtmp remove all code except for the files we need and rename the filesgit filterrepo \ pathmatch systemd \ pathrename systemddocker.servicecontribinitsystemddocker.service \ pathrename systemddocker.socketcontribinitsystemddocker.socket integrate the files in the docker repositorycd gosrcgithub.comdockerdockergit checkout b upstreamsystemdunitsgit remote add packagingtmp Projectspackagingtmpgit fetch packagingtmpgit merge allowunrelatedhistories signoff S packagingtmpmasterAfter this is merged I'll update the containerdpackaging repository to remove the systemd unit files from that repository and to consume the unit files from this repository instead.Differences between the results in this branch and the units currently in dockercepackagingin docker.servicegit diff noindex gosrcgithub.comdockerdockercepackagingsystemddocker.service contribinitsystemddocker.servicediff git aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.service bcontribinitsystemddocker.serviceindex d..cab  aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.service bcontribinitsystemddocker.service  Unit DescriptionDocker Application Container Engine Documentationhttpsdocs.docker.comAfternetworkonline.target firewalld.service containerd.serviceAfternetworkonline.target docker.socket firewalld.service containerd.service Wantsnetworkonline.target Requiresdocker.socket containerd.service Typenotify for containers run by docker ExecStartusrbindockerd H fd containerdruncontainerdcontainerd.sock ExecReloadbinkill s HUP MAINPIDTimeoutSecTimeoutStartSec RestartSec Restartalwaysin docker.socketgit diff noindex gosrcgithub.comdockerdockercepackagingsystemddocker.socket contribinitsystemddocker.socketdiff git aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.socket bcontribinitsystemddocker.socketindex db..cae  aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.socket bcontribinitsystemddocker.socket  DescriptionDocker Socket for the API SocketListenStreamvarrundocker.sock If varrun is not implemented as a symlink to run you may need to specify ListenStreamvarrundocker.sock instead.ListenStreamrundocker.sock SocketMode SocketUserroot SocketGroupdocker       The text was updated successfully but these errors were encountered
. update containerd binary to v..;release notes httpsgithub.comcontainerdcontainerdreleasestagv..Update runc to rcFix leaking socket path in runc shim vFix cleanup logic in new container in runc shim vFix registry mirror authorization logic in CRI pluginAdd support for userxattr in overlay snapshotter for kernel .Note that the update to runc is done separately Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
buildernext relax second cache key requirements for schema;fixes mobybuildkitSchema images can not have a config based cache keybefore the layers are pulled. Avoid validation and reusemanifest digest as a second key.Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
Swarm config use absolute paths for mount destination strings;relates to taking from with my review suggestions from comment appliedNeeded for runc ..rc.See runc issue opencontainersrunc introduced in opencontainersrunc. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update runc binary to v..rc;full diff opencontainersruncv..rc...v..rcrelease notes httpsgithub.comopencontainersruncreleasestagv..rcPotentially breaking changescgroupv kernel memory limits are now always ignored as kmemcg hasbeen effectively deprecated by the kernel. Users should make use ofregular memory cgroup controls.libcontainercgroups cgroup managers' Set now acceptconfigs.Resources rather than configs.Cgroupslibcontainercgroupssystemd reconnect and retry in case dbusconnection is closed after dbus restartlibcontainercgroupssystemd don't set limits in ApplyBugfixesseccomp fix bit compilation errors regression in rccgroupv blkio weight value conversion fixrunc init fix a hang caused by deadlock in seccompebpf loading code regression in rcrunc start fix chdir to cwd permission denied for some setups regression in rcs fix broken terminal regression in rcImprovementsrunc startexec better diagnostics when container limits are too lowrunc startexec better cleanup after failed runc initcgroupv improve freezing chancescgroupv multiple GetStats improvementscgroupv fallback to setting io.weight if io.bfq.weight is not availablecapabilities WARN not ERROR for unknown unavailable capabilities       The text was updated successfully but these errors were encountered
vendor gosystemdv v.. dbusv v..;extracting this from vendor github.comcoreosgosystemdv v..full diff coreosgosystemdv.....v..vendor github.comgodbusdbusv v..full diff godbusdbusv.....v..       The text was updated successfully but these errors were encountered
ocicaps remove unused GetCapability and ValidateCapabilities;extracting from        The text was updated successfully but these errors were encountered
. backport Use v capabilities in layer archives;Cherrypick  What I didFixes When building images in a usernamespaced container v capabilities arestored including the root UID of the creator of the usernamespace.This UID does not make sense outside the build environment however. Ifthe image is run in a nonusernamespaced runtime or if a usernamespacedruntime uses a different UID the capabilities requested by the effectivebit will not be honoured by execve due to this mismatch.Instead we convert v capabilities to v dropping the root UID on thefly. How I did itPatched ReadSecurityXattrToTarHeader to automatically convert v capabilities to v by switching the version identifier and dropping the root UID data. How to verify itThis reproducer can be used.Compared with the output in issue this produces default docker run rm capabilitiesbuiltwithnouserns. binbash c 'usrlocalbinsleeptest infinity sleep grep Cap procpgrep sleepteststatus' default CapInhafb default CapPrm default CapEff default CapBndafb default CapAmb default docker run rm capabilitiesbuiltwithuserns. binbash c 'usrlocalbinsleeptest infinity sleep grep Cap procpgrep sleepteststatus' default CapInhafb default CapPrm default CapEff default CapBndafb default CapAmbSo we see that in the nd case also execve honoured the effective bit. Description for the changelogCapabilities in image layers are stored in v format even when built inside a nonroot usernamespace. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Move Michael Crosby to alumni;Michael informed me that he wants to step down as a maintainer for the project so I tried to write up something nice ?ÿàThank you MichaelAkihiroSuda Anusha coolljt cpuguy crosbymichael estesp johnstep justincormack kolyshkin MHBauer runcom stevvooe tianon tibor tonistiigi unclejack vdemeester vieux yongtang ptal A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Added missing test cleanup for temporary directory;What I didWhile going through one of the test files I noticed that one temporary directory was not being removed at the end of the test so I fixed that. There was also a typo in a directory name. Although it was a minor thing I fixed that one too. H
. backport hackdind fix cgroup v evacuation with docker run init;Cherrypick  What I didFix dockerlibrarydocker How I did itEvacuate all the processes in sysfscgroupcgroup.procs not just PID . How to verify itBefore docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreecontrolsed couldn't flush stdout Device or resource busyAfter docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreecontrolcpuset cpu io memory hugetlb pids rdma       The text was updated successfully but these errors were encountered
Add security privilege needed to write layers to VHDX;Add a security privilege SeSecurityPrivilege when writing image layers required when the docker data root is a VHDX.Microsoft CaseSignedoffby Adam Williams awilliamsmirantis.com What I did How I did it How to verify itVerified by setting up a VHDX as docker data root and successfully had images written to it. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
rootless disable overlay if running with SELinux;Contains dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts What I didClose rootlessoverlay kernel .SELinux mkdir homeUSER.localsharedockeroverlayCIDinitmergeddev permission denied.  How I did itDisable overlay when DOCKERDROOTLESSSELINUX is set.We can't rely on goselinux.GetEnabled because RootlessKit doesn't mount sysfsselinux in the child rootlesscontainersrootlesskit How to verify itInstall to Fedora Make sure docker info shows fuseoverlayfs as the default storage driver on rootless while retaining overlay on rootfulMake sure docker run helloworld works on rootless Description for the changelogrootless disable overlay if running with SELinux A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
hackdind fix cgroup v evacuation with docker run init;What I didFix dockerlibrarydocker How I did itEvacuate all the processes in sysfscgroupcgroup.procs not just PID . How to verify itBefore docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreeco
grpc make sure typed errors handler is installed;Makes sure typed errors support in buildkit or other grpc services is used. This makes sourcemapsdebug info in errors work for docker buildx even when using the docker driver with the buildkit vendor in moby.Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
Update Microsoftgowinio to version ..;Signedoffby Adam Williams awilliamsmirantis.comUpdate Microsoftgowinio to ... A change in this version is needed for a future fix to using docker data root on a VHDX. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add John Howard to our alumni;Followup to Thank you John A picture of a cute animal not mandatory but encouragedimage Melinda Hampton       The text was updated successfully but these errors were encountered
docker pull warn when pulled singlearch image does not match platform;addresses dockerformacThis takes the same approach as was implemented on docker build where a warningis printed if FROM platform... is used added in Beforedocker rmi armhfbusyboxdocker pull platformlinuxsx armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestdocker.ioarmhfbusyboxlatestWith this changedocker rmi armhfbusyboxdocker pull platformlinuxsx armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestWARNING image with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarmdocker.ioarmhfbusyboxlatestAnd daemon logs printWARNT.Z ignoring platform mismatch on singlearch image errorimage with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm imagearmhfbusyboxWhen pulling without specifying platform no warning is currently printed but we can add a warning in futuredocker rmi armhfbusyboxdocker pull armhfbusyboxUsing default tag latestlatest Pulling from armhfbusyboxdaf Pull completeDigest shaecddafbcdcaecbdddStatus Downloaded newer image for armhfbusyboxlatestdocker.ioarmhfbusyboxlatest Description for the changelogPrint a warning when pulling a singlearch image with docker pull platform and the pulled image's platform does not match the specified platform. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport dockerdrootless.sh use command v instead of which;Cherrypick  What I didAllow running rootless daemon without which binary How I did itUse command v How to verify itRun dockerdrootless.sh Description for the changelogdockerdrootless.sh use command v instead of which A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
Wait for run goroutine to exit before Close;Fixes The underlying Loggers Close function can be called with the therun goroutine still writing to the driver.This is causing the fluentdgolanglogger to panic cause it doesn'tdefensively check for the closing of the channel before writing to it.It relies on the docker daemon to keep the contract of not calling Logif Close has already been called. What I didSynchronize the close of the underlying logger only after the run goroutine has exited. How I did itAdded a sync.Waitgroup to be instantiated withe the RingLogger and then added a wait condition of the goroutine to exitbefore Close is called on the underlying logger. How to verify itI am not sure how best to verify it. Let me know if I should add a unit test for this change or something. Description for the changelogFixes the race condition between RingLogger Close and run goroutine. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
builderdockerfile add ALLPROXY to list of default build args;equivalent change for buildkit mobybuildkitRelates to httpsgithub.comlinuxkitlinuxkitblobaffffcdcfefcdcdocspackages.mdproxies.. the first four of these are the standard builtin buildarg optionsavailable for docker build.. The last allproxy is a standard var used for socks proxying. Sinceit is not built into docker build if you want to use it you will need toadd the following line to the dockerfileARG allproxyGiven the we support all other commonly known proxy envvars by default it makes sense to add this one as well. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
dockerdrootless.sh use command v instead of which;What I didAllow running rootless daemon without which binary How I did itUse command v How to verify itRun dockerdrootless.sh Description for the changelogdockerdrootless.sh use command v instead of which A picture of a cute animal no
Remove needless check;What I didStarting dockerdrootless.sh checks that HOME is writeable but does notrequire it to be so. It failed to start with a readonly HOME.Make the check more precise and check that it actually exists and is adirectory. How to verify itM
Remove myself lowenna aka jhowardmsft from maintainers;Signedoffby John Howard githublowenna.comI think it's very doubtful at this point that I'm going to be able to positively contribute anything to the project now that I'm semiretired no longer working at Microsoft have the tech to be able to run this stuff on Windows nor have any inside knowledge some months on. So time to bow out gracefully and watch from afar. I still use it daily just on Linux ?ÿé. So I'm giving up my maintainer role.Just hope I got my PR correct with the CRLF vs LF. It's been waaaaay too long since I did anything crossplatform. It will make me laugh at least if I got it wrong my machine is just defaults ?ñúAkihiroSuda Anusha coolljt cpuguy crosbymichael estesp johnstep justincormack kolyshkin MHBauer runcom stevvooe thaJeztah tianon tibor tonistiigi unclejack vdemeester vieux yongtang       The text was updated successfully but these errors were encountered
. backport Dockerfile update yamllint to v.. to fix build;backport of Installation of yamllint started failing on nonamd builds which couldbe if the version we were using wasn't specific enough about a dependencyto install.copying CythonUtilityCppSupport.cpp buildlib.linuxaarch.CythonUtilityrunning buildextbuilding 'Cython.Plex.Scanners' extensioncreating buildtemp.linuxaarch.creating buildtemp.linuxaarch.tmpcreating buildtemp.linuxaarch.tmppipinstalljasgbmpcreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythoncreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythoncreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexaarchlinuxgnugcc pthread DNDEBUG g fwrapv O Wall g fstackprotectorstrong Wformat Werrorformatsecurity Wdatetime DFORTIFYSOURCE fPIC Iusrincludepython.m c tmppipinstalljasgbmpCythonCythonPlexScanners.c o buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexScanners.o tmppipinstalljasgbmpCythonCythonPlexScanners.c fatal error Python.h No such file or directory include Python.h  compilation terminated. error command 'aarchlinuxgnugcc' failed with exit status   Command usrbinpython u c import setuptools tokenizefile'tmppipinstalljasgbmpCythonsetup.py'fgetattrtokenize 'open' openfilecodef.read.replace'\r\n' '\n'f.closeexeccompilecode file 'exec' install record tmppiprecordifqclweinstallrecord.txt singleversionexternallymanaged prefix tmppipbuildenvdtiuyfw compile failed with error code in tmppipinstalljasgbmpCython Command usrbinpython m pip install ignoreinstalled nouser prefix tmppipbuildenvdtiuyfw nowarnscriptlocation nobinary none onlybinary none i httpspypi.orgsimple setuptools wheel Cython failed with error code in None ERROR executor failed running binsh c pip install yamllint.. exit code Trying if updating to the latest version fixes this.Signedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit ccefbSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Dockerfile update yamllint to v.. to fix build;Installation of yamllint started failing on nonamd builds which couldbe if the version we were using wasn't specific enough about a dependencyto install.copying CythonUtilityCppSupport.cpp buildlib.linuxaarch.CythonUtilityrunning buildextbuilding 'Cython.Plex.Scanners' extensioncreating buildtemp.linuxaarch.creating buildtemp.linuxaarch.tmpcreating buildtemp.linuxaarch.tmppipinstalljasgbmpcreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythoncreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythoncreating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexaarchlinuxgnugcc pthread DNDEBUG g fwrapv O Wall g fstackprotectorstrong Wformat Werrorformatsecurity Wdatetime DFORTIFYSOURCE fPIC Iusrincludepython.m c tmppipinstalljasgbmpCythonCythonPlexScanners.c o buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexScanners.o tmppipinstalljasgbmpCythonCythonPlexScanners.c fatal error Python.h No such file or directory include Python.h  compilation terminated. error command 'aarchlinuxgnugcc' failed with exit status   Command usrbinpython u c import setuptools tokenizefile'tmppipinstalljasgbmpCythonsetup.py'fgetattrtokenize 'open' openfilecodef.read.replace'\r\n' '\n'f.closeexeccompilecode file 'exec' install record tmppiprecordifqclweinstallrecord.txt singleversionexternallymanaged prefix tmppipbuildenvdtiuyfw compile failed with error code in tmppipinstalljasgbmpCython Command usrbinpython m pip install ignoreinstalled nouser prefix tmppipbuildenvdtiuyfw nowarnscriptlocation nobinary none onlybinary none i httpspypi.orgsimple setuptools wheel Cython failed with error code in None ERROR executor failed running binsh c pip install yamllint.. exit code Trying if updating to the latest version fixes this. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport bump up rootlesskit to v.. Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns;Cherrypick  What I didFix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns.rootlesscontainersrootlesskit How I did itBumped up RootlessKit to v...Full changes rootlesscontainersrootlesskitv.....v.. How to verify itMake sure that the following error no longer happens. cat .configsystemduserdocker.service.doverride.conf ServiceEnvironmentDOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns docker contextrootless run rm p nginxalpinedocker Error response from daemon driver failed programming external connectivity on endpoint dreamygauss ecbcdfcfcaccefeefeaebcedfd Timed out proxy starting the userland proxy. Description for the changelogFix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns. A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
bump up rootlesskit to v.. Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns;What I didFix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns.rootlesscontainersrootlesskit How I did itBumped up RootlessKit to v...Full changes rootlesscontainersrootle
. Bump hcsshim for error details fix;This pulls in fixes from the moby branch for hcsshim that . uses.Not bumping up to the latest release because the diff is huge.       The text was updated successfully but these errors were encountered
Limit the rate at which logger errors are logged into daemon logs;Logging to daemon logs every time there's an error with a log driver can beproblematic since daemon logs can grow rapidly potentially exhausting diskspace.Instead it's preferable to limit the rate at which log driver errors are allowedto be written. By default this limit is entries per second max.Signedoffby Angel Velazquez angelcaramazon.com What I didCreated a packagelevel LogDriverError function that limits the rate at which errors produced by log drivers can be written to daemon logs. How I did itUsed golang.orgxtimerate Limiter. How to verify itVerified the solution actually works by building my Docker changes in an EC box and manually checked that the logging rate was limited as expected. Description for the changelogLogging errors produced by log drivers are now limited to per second max. This changes the previous behavior where each container log error was also logged in the daemon logs. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comcontainerdconsole v..;Contains fix for sx and support for FreeBSDfull diff containerdconsolev.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Use containerd's apparmor package to detect if apparmor can be used;depends on Update containerdcontainerd to version with go modules first four commits are from that PRrelates to which fixes a test that was revealed by libcontainer no longer performing the same checkUse containerd's apparmor package to detect if apparmor can be usedThe runclibcontainer apparmor package on master no longer checks if apparmorparseris enabled or if we are running dockerindocker.While those checks are not relevant to runc as it doesn't load the profile thesechecks are relevant to us and containerd. So switching to use the containerdapparmor package which does include the needed checks.vendor github.comcontainerdcontainerd bfaefabeacebfaceccThis patch picks the first commit in containerd that exports the AppArmor packagefunctions to keep the vendor diff small there are some updates to that packageafter this but those will be included in other patches.full diff containerdcontainerdfbfa...eda       The text was updated successfully but these errors were encountered
Update containerdcontainerd to version with go modules;Update containerdcontainerd to version with go modulesThis updates containerd to after the migration to go modules. To help the migrationupdating is done in a couple of commits to make the changes more visible easyto followvendor github.comcontainerdcontainerd bfaefabeacebfaceccThis is the last commit before containerd switched to using go modules. Using thisas an intermediate version to allow us to more easily track what dependency updatescontainerd has.full diff containerdcontainerdedc...bfarelevant changes in vendored codeDo not hardcode amd on LCOW and Windowsrelated filesOptimize Windows and LCOW snapshotters to only create scratch layer on the final snapshotAdd annotations to task update request apivendor github.comcontainerdcontainerd fbfadedabddacebbecaThis is the first commit after the containerd transition to go modules. Using thisas an intermediate version to allow us to track what dependency changes areintroduced in the containerd dependency since.full diff containerdcontainerdbfa...fbfaThere were some fixups in the PR after adding go modules that updated dependencieswhich will be aligned in the next commits.containerdcontainerdafeacontainerdcontainerddebcontainerdcontainerdadffcontainerdcontainerdfccaDependencies updatedgithub.comcoreosgosystemd coreosgosystemdv.....v..golang.orgxsync golangsynccdda...eeDependencies not updated already aheadgithub.comcontainerdgorunc containerdgoruncdc...bbgithub.comsyndtrgocapability syndtrgocapabilityd...cbgithub.comgolangsys golangsysaaa...bebgithub.comgoogleapisgogenproto googleapisgogenprotoecd...faDependencies not yet updated doing separatelygithub.comgooglegocmp googlegocmpv.....v..github.comimdariomergo imdariomergov.....v..github.comMicrosoftgowinio microsoftgowiniov.....bbgithub.comprometheusclientgolang prometheusclientgolangv.....v..       The text was updated successfully but these errors were encountered
btrfs Do not disable quota on cleanup;Before this change cleanup of the btrfs driver occuring on each daemonshutdown resulted in disabling quotas. It was done with an assumptionthat quotas can be enabled or disabled on a subvolume level which isnot true enabling or disabling quota is always done on a filesystemlevel.That was leading to disabling quota on btrfs filesystems on each daemonshutdown.This change fixes that behavior and removes misleading subvol prefixfrom functions and methods which set up quota on a filesystem level.Fixes Fixes dockerforlinuxFixes cd Add disk quota support for btrfs Signedoffby Michal Rostecki mrosteckiopensuse.org What I didEnsured that moby deamon doesn't disable quotas in the btrfs filesystem. How I did itRemoved the subvolDisableQuota method.Limited the Cleanup method just to unmounting.Removed the misleading subbol prefixes from methods which do operations on a filesystem level. How to verify itEnsure that btrfs quota is enabled btrfs quota enable Start dockerdGracefully shutdown dockerdCheck if btrfs quota is still enabled by ensuring btrfs qgroup show runs successfully.I've done those steps inside the dev shell. They require btrfsprogs which can be installed with apt update apt install btrfsprogs. Description for the changelogbtrfs Do not disable quota on cleanup A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fixes subvol delete on a nonbtrfs volume;Inode numbers are guaranteed to be unique only within a filesystem.As such there is an edge case where these predicates are true on anonbtrfs filesystem.Closes Signedoffby Brett Milford brettmilfordgmail.com What I didAdded an additional check for filesystem type. How to verify itTested this code block on btrfs and nonbtrfs zfs filesystems. Description for the changelogFixed issue where nukegraphdirectory.sh executes btrfs subvolume delete on a nonbtrfs file.       The text was updated successfully but these errors were encountered
Bump hcsshim to get some fixes.;closes This also requires bumping winio.This addresses some customer issues for us.       The text was updated successfully but these errors were encountered
Fix typo on the v. changelog;Signedoffby Felipe Ruhland felipe.ruhlandgmail.com       The text was updated successfully but these errors were encountered
. backport Move cgroup v out of experimental;Cherrypick  What I didWe have upgraded runc to rc and added CI for cgroup .So we can move cgroup v out of experimental.Close  How I did itRemoved WARNING Support for cgroup v is experimental from docker info How to verify itRun docker info Description for the changelogMove cgroup v out of experimental A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
Move libnetwork;This moves libnetwork intree as discussed in mobylibnetwork       The text was updated successfully but these errors were encountered
testing update dockerpy ..;drops support for python .full diff dockerdockerpy....... A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Fix TestInspect and pin arm machines to a specific Ubuntu version;cherrypicks of Fix flaky TestInspect Pin arm machines to a specific Ubuntu version       The text was updated successfully but these errors were encountered
. backport Use docker media type for plugin layers;Cherrypicks to .fixes This was changed as part of a refactor to use containerd dist code. Theproblem is the OCI media types are not compatible with older versions ofDocker.       The text was updated successfully but these errors were encountered
vendor gogoprotobuf v.. containerd and swarmkit;opening as draft because this vendors swarmkit from dockerswarmkit dockerswarmkit which isn't merged yetvendor github.comgogoprotobuf v..full diff gogoprotobufv.....v..bump version .. for gogoprotobuf due to CVE reported ongogoprotobuf version .. CVE has been fixed for version ..httpscve.mitre.orgcgibincvename.cginameCVEvendor github.comcontainerdcontainerd eefcfbbafafcabcbcfull diff containerdcontainerdedc...eebrings in updated protobufs generated with gogoprotobuf v..vendor github.comcoreosetcd v..full diff etcdioetcdv.....v..vendor github.comdockerswarmkit aaabbaeecbcacaadfull diff dockerswarmkitdde...aaUpdated version of SwarmKit with protos generated with gogoprotobuf v..due to CVE reported on gogoprotobuf version .. CVE has beenfixed for version ..httpscve.mitre.orgcgibincvename.cginameCVE       The text was updated successfully but these errors were encountered
. backport btrfs Allow unprivileged user to delete subvolumes kernel .;Cherrypick  What I didFix rootless driver btrfs failed to remove root filesystem Failed to destroy btrfs snapshot homeUSER.localsharedockerbtrfssubvolumes for ID operation not permitted How I did itCherrypick drivers btrfs Allow unprivileged user to delete subvolumes from containersstoragecontainersstorageebIn btrfs subvolume can be deleted by IOCSNAPDESTROY ioctl but thereis one catch unprivileged IOCSNAPDESTROY call is restricted by default.This is because IOCSNAPDESTROY only performs permission checks onthe top directorysubvolume and unprivileged user might delete dirsfileswhich cannot be deleted otherwise. This restriction can be relaxed ifusersubvolrmallowed mount option is used.Although the above ioctl had been the only way to delete a subvolumebtrfs now allows deletion of subvolume just like regular directoryi.e. rmdir sycall since kernel ..So if we fail to cleanup subvolume in subvolDelete just fallback tosystem.EnsureRmoveall to try to cleanup subvolumes again.Note quota needs privilege so if quota is enabled we do not fallbackThis fix will allow nonprivileged container works with btrfs backend. How to verify it dockerdrootless.sh dataroot mntbtrfsvarlibdocker docker contextrootless run rm helloworld Description for the changelogbtrfs Allow unprivileged user to delete subvolumes kernel . A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
Fix flaky TestInspect;hopefully fixes This test has been flaky for a long time failing with FAIL TestInspect .s inspecttest.go timeout hit after s waiting for tasks to enter run state. task failed with error task nonzero exit While looking through logs noticed tasks were started entering RUNNING stageand then exited to be started again.state.transitionSTARTINGRUNNING...msgfatal task error errortask nonzero exit ...state.transitionRUNNINGFAILEDLooking for possible reasons first considering network issues possibly we ranout of IP addresses or networking not cleaned up then I spotted the issue.The service is started withCommand stringbintopArgs stringu rootThe u root is not an argument for the service but for bintop. While theUbuntuDebianGNU version top has a uU optiondocker run rm ubuntu. top h | grep '\u' top hv | bcEHiOSs d secs n max u|U user p pids o field w colsThe busybox version of top does notdocker run rm busybox top help | grep '\u'So running top u root would cause the task to faildocker run rm busybox top u roottop invalid option u...echo As a result the service went into a crashloop and because the poll.WaitOnwas running with a short interval in many cases would just find the RUNNINGstate perform the service inspect and pass but in other cases it would notbe that lucky and continue polling untill we reached the seconds timeoutand mark the test as failed.Looking for history of this option was it previously using a different image Ifound this was added in cdd but probablyjust missed during review.Given that the option is only set to have something to inspect I replacedthe u root with d which makes top refresh with a second interval.Note that there is another test TestServiceListWithStatuses that uses the samespec however that test is skipped based on API version of the testdaemon andto be looked into when performing that check no API version is known causingthe test to always be skipped RUN TestServiceListWithStatuses SKIP TestServiceListWithStatuses .s listtest.go versions.LessThantestEnv.DaemonInfo.ServerVersion . A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comcontainerdcontainerd v..;full diff containerdcontainerdee...v..I'll be looking if other dependencies need to be updated for containerd but these were the minimal changes Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Jenkinsfile update checkconfig.sh to latest version;There have been some updates to the script so might as well update the one we use during CI A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Remove deprecated hostdiscovery and overlay networks with external kv;closes currently vendoring libnetwork changes from mobylibnetwork Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Replace BurntSushitoml with pelletiergotoml;relates to containerdcontainerdI'll also have a look at replacing the remaining uses in libnetworkvalidatetoml switch to github.compelletiergotomlThe github.comBurntSushitoml project is no longer maintainedand containerd is switching to this project instead so startmoving our code as well.This patch only changes the binary used during validation tbhwe could probably remove this validation step but leaving thatfor now.I manually verified that the hackverifytoml still works by adding a committhat makes the MAINTAINERS file invaliddiff git aMAINTAINERS bMAINTAINERSindex beec..ababdde  aMAINTAINERS bMAINTAINERS  a subsystem they are responsible for doing so and holding the subsystem maintainers accountable. If ownership is unclear they are the de facto owners. people  people  akihirosuda anusha coolljtRunning hackverifytoml was able to detect the broken format hackvalidatetoml keys cannot contain characterThese files are not valid TOML MAINTAINERS Please reformat the above files as valid TOMLlibcontainerdsupervisor replace BurntSushitoml with pelletiergotomlTaking the same approach as was taken in containerdThe new library has a slightly different outputkeys at the same level are sorted alphabeticallyempty sections not omitted proxyplugins streamprocessors timeoutswhich could possibly be be addressed with an omitempty in containerd's struct.empty slices are not omitted imports requiredpluginsAfter sorting the before configuration the diff looks like thisdiff git aconfigbeforesorted.toml bconfigafter.tomlindex ccceab..af  aconfigbeforesorted.toml bconfigafter.toml  disabledplugins criimports  oomscore  plugindir requiredplugins  root varlibdockercontainerddaemon state varrundockercontainerddaemon version  version  shim containerdshim shimdebug trueproxypluginsstreamprocessorstimeouts ttrpc address  gid Before and after configfiles are attached in the zip belowconfigfiles.zip       The text was updated successfully but these errors were encountered
Use designated test domains RFC in tests;Some tests were using domain names that were intended to be fake but areactually registered domain names such as domain.com registry.com mytest.com.Even though we were not actually making connections to these domains it'sbetter to use domains that are designated for testingexamples in RFChttpstools.ietf.orghtmlrfc A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport rootless fix getCurrentOOMScoreAdj;What I didbackport of Fix rootless docker in kubernetes getting the final child's pid from pipe caused \EOF\ unknown How I did itFixed getCurrentOOMScoreAdj to trim \n before calling strconv.Atoi. How to verify itrootless
. backport rootless overlay fix createDirWithOverlayOpaque... ... inputoutput error;Cherrypick  What I didFix createDirWithOverlayOpaque... ... inputoutput error on rootless.Fix dockerforlinux intermittent error on Debian kernel .Fix reproducible error on kernel .Fix  How I did itbug fix Commit overlay call d.naiveDiff.ApplyDiff when useNaiveDifftruePreviously d.naiveDiff.ApplyDiff was not used even when useNaiveDifftrueoptimization Commit overlay doesSupportNativeDiff add fast path for usernsWhen running in userns returns error i.e. use naive not native immediately.No substantial change to the logic.clean up Commit archive do not use overlayWhiteoutConverter for UserNSoverlay no longer sets archive.OverlayWhiteoutFormat when running in UserNS so we can remove the complicated logic in the archive package. How to verify it docker contextrootless pull python. Description for the changelogrootless overlay fix createDirWithOverlayOpaque... ... inputoutput error A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
. backport rootless bind mount fix operation not permitted;Cherrypick  What I didFix Fix Fix the following issue sudo mount t tmpfs o noexec none tmpfoo docker contextrootless run it rm v tmpfoomntro alpinedocker Error response from daemon OCI runtime create failed containerlinux.go starting container process caused processlinux.go container init caused rootfslinux.go mounting tmpfoo to rootfs at homesuda.localsharedockeroverlaybeeafefffcfbedbfbdafacedbaecmergedmnt caused operation not permitted unknown. How I did itCall getUnprivilegedMountFlagsm.Source How to verify it sudo mount t tmpfs o noexec none tmpfoo docker contextrootless run it rm v tmpfoomntro alpine Description for the changelogrootless bind mount fix operation not permitted A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
. backport bump up rootlesskit to v.. Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression;Cherrypick  What I didFix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression.rootlesscontainersslirpnetns How I did itBumped up RootlessKit to v..Full changes rootlesscontainersrootlesskitv.....v.. How to verify itRun DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns dockerdrootless.sh and make sure docker run p ... nginxalpine works. Description for the changelogFix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression. A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
rootless bind mount fix operation not permitted;What I didFix Fix Fix the following issue sudo mount t tmpfs o noexec none tmpfoo docker contextrootless run it rm v tmpfoomntro alpinedocker Error response from daemon OCI runtime create failed containerlinux.go
client extract FromEnv parts to separate WithXX options;relates to the discussion on Implements three optionsWithTLSClientConfigFromEnvWithHostFromEnvWithVersionFromEnv Description for the changelogImplement new options in the client package  WithTLSClientConfigFromEnv WithHostFromEnv WithVersionFromEnv A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Pin arm machines to a specific Ubuntu version;Signedoffby Stefan Scherer stefan.schererdocker.com What I didUse better Jenkins labels for arm. The label linux is very vague and randomly picks Ubuntu . machines. How I did it How to verify itCheck CI nodes no ubuntuoverlayarmv node should appear any longer. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
bump up rootlesskit to v.. Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression;What I didFix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression.rootlesscontainersslirpnetns How I did itBumped up RootlessKit to v..Full changes rootlesscontainersrootlesskitv.....v.. How to verify itRun DO
checkconfig.sh add SELinux and AppArmor;NOM
Use docker media type for plugin layers;This was changed as part of a refactor to use containerd dist code. Theproblem is the OCI media types are not compatible with older versions ofDocker.Closes        The text was updated successfully but these errors were encountered
. backport vendor dockerlibnetwork bbebcbebbfbe;backport of also somewhat related to which discusses the implicit binding of IPvdepends on Update rootlesskit to v.. to fix handling of IPv addresses rootlesscontainersrootlesskit Refactor ParsePortSpec to handle IPv addresses and improve validation CI update tests to be more resilient against CLI output format and for libnetwork changes update rootlesskit to v.. rootlesscontainersrootlesskit Port API support specifying IP version explicitly tcp tcpfull diff mobylibnetworkfaa...bfixed IPv iptables rules for enabled firewalld mobylibnetworkfixes Docker uses 'iptables' instead of 'iptables' for IPv NAT rule crashesFix regression in mobylibnetworkintroduced in Fix IPv Port Forwarding for the Bridge Driver mobylibnetworkfixes mobylibnetwork IPv and IPv addresses are not bound by default anymorefixes IPv is no longer proxied by default anymoreUse hostIP to decide on Portmapper version mobylibnetworkfixes dockerproxy not being stopped correctly Description for the changelog A picture of a cute animal not mandatory but encouraged Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
btrfs Allow unprivileged user to delete subvolumes kernel .;What I didFix rootless driver btrfs failed to remove root filesystem Failed to destroy btrfs snapshot homeUSER.localsharedockerbtrfssubvolumes for ID operation not permitted How I did itCherrypick drivers btrfs Allow un
rootless btrfs annotate error with humanreadable hint string;What I didAdd hints for Failed to destroy btrfs snapshot DIR for ID operation not permitted error on rootlessRelated to issue  How I did itWrap the error when running in a user namespace. How to verify it dockerdrootless.sh datar
dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts;What I didFix  How I did itPreviously running dockerdrootless.sh on SELinuxenabled hosts was failing with can't open lock file runxtables.lock Permission denied error. issue .This commit avoids hitting the error by relabeling r
. backport builder produce error when using unsupported Dockerfile option;backport of fixes depends on vendor github.commobybuildkit v.. depends on mobybuildkit mobybuildkitbuilder produce error when using unsupported Dockerfile optionWith the promotion of the experimental Dockerfile syntax to stable the Dockerfilesyntax now includes some options that are supported by BuildKit but not yetsupported in the classic builder.As a result parsing a Dockerfile may succeed but any flag that's known to BuildKitbut not supported by the classic builder is silently ignored mkdir buildkitflags cd buildkitflags touch foo.txtFor example RUN mountDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxRUN mounttypecachetargetfoo echo helloEOFSending build context to Docker daemon .kBStep FROM busybox eefStep RUN mounttypecachetargetfoo echo hello Running in fdbbchelloRemoving intermediate container fdbbc efdSuccessfully built efdOr COPY chmod same for ADD chmodDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxCOPY chmod foo.txt foo.txtEOFSending build context to Docker daemon .kBStep FROM busybox eefStep COPY chmod foo.txt foo.txt baaSuccessfully built baaNote that unknown flags still produce and error for example the below fails because hello is an unknown flagDOCKERBUILDKIT docker build EOFFROM busyboxRUN hello echo helloEOFSending build context to Docker daemon .kBError response from daemon dockerfile parse error line Unknown flag helloWith this patch appliedWith this patch applied flags that are known in the Dockerfile spec but are notsupported by the classic builder produce an error which includes a link to thedocumentation how to enable BuildKitDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxRUN mounttypecachetargetfoo echo helloEOFSending build context to Docker daemon .kBStep FROM busybox bfcaStep RUN mounttypecachetargetfoo echo hellothe mount option BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.DOCKERBUILDKIT docker build nocache f . EOFFROM busyboxCOPY chmod foo.txt foo.txtEOFSending build context to Docker daemon .kBStep FROM busybox bfcaStep COPY chmod foo.txt foo.txtthe chmod option requires BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled. Description for the changelogFix classic builder silently ignoring unsupported Dockerfile options       The text was updated successfully but these errors were encountered
. backport CI update tests to be more resilient against CLI output format and for libnetwork changes;backport of relates to in preparation of vendor dockerlibnetwork bbebcbebbfbeintegrationcontainer wrap some long lines for readabilityJust some minor codestyle changes for readabilityintegration update getExternalAddress to prefer IPvRootlesskit doesn't currently handle IPv addresses causing TestNetworkLoopbackNat and TestNetworkNat to failError starting userland proxyerror while calling PortManager.AddPort listen tcp address too many colons in addressThis patchUpdates getExternalAddress to pick IPv address if both IPv and IPv are foundUpdate TestNetworkNat to net.JoinHostPort so that square brackets are used for IPv addresses e.g. integrationcli rely less on docker port output formatAlso reformatting some lines for readability.       The text was updated successfully but these errors were encountered
. backport hack use GOPROXY for rootlesskit to workaround issue with old git on CentOSRHEL;backport of Since rootlesskit removed vendor folder building it has to rely on go mod.Dockerfile in dockercepackaging uses GOPROXYdirect which makes go modcommands use git to fetch modules. go mod in Go versions before .. areincompatible with older git versions including the version of git that shipswith CentOSRHEL which have git . see golanggoThis patch switches rootlesskit install script to set GOPROXY tohttpsproxy.golang.org so that git is not required for downloading modules.Once all our code has upgraded to Go . this workaround should beremoved. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
discovery test Fix goroutine leaks by adding buffer to channel;Signedoffby Ziheng Liu lzhfromustcgmail.com What I didFixed a few channels that can lead to goroutine leaks in pkgdiscovery and a few unit tests. How I did itThese channels all share the same patternch makechan typego func  ... ch value...select case timeout returncase ch...They are fixed by giving buffer to these channels. So no goroutine will be blocked at the send operations and the receive operations in select won't be influenced. How to verify itThis patch is similar to For the four channels in unit tests I ran these unit tests and they all passed.For the channels in those func s Discovery Watch adding buffer to them may seem to change the semantics because send is now not blocking. However I checked all functions that can use these channels and found that this won't change the behavior of the program. They are TestDaemonDiscoveryReload TestDaemonDiscoveryReloadFromEmptyDiscovery DiscoverySuite TestWatch TestDaemonReloadNetworkDiagnosticPort vendor...hostdiscoveryhostDiscovery Watch. I also ran all related unit tests and they all pass. Description for the changelogNone       The text was updated successfully but these errors were encountered
hack use GOPROXY for rootlesskit to workaround issue with old git on CentOSRHEL;?Çª CentOSRHEL Since rootlesskit removed vendor folder building it has to rely on go mod.Dockerfile in dockercepackaging uses GOPROXYdirect which makes go modcommands use git to fetch modules. go mod in Go versions before .. areincompatible with older git versions including the version of git that shipswith CentOSRHEL which have git . see golanggoThis patch switches rootlesskit install script to set GOPROXY tohttpsproxy.golang.org so that git is not required for downloading modules.Once all our code has upgraded to Go . this workaround should beremoved.Signedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
rootless fix getCurrentOOMScoreAdj fix rootless docker in kubernetes;What I didFix rootless docker in kubernetes getting the final child's pid from pipe caused \EOF\ unknown How I did itFixed getCurrentOOMScoreAdj to trim \n before calling strconv.Atoi. How to verify itrootless.yamlapiVersion
rootless overlay fix createDirWithOverlayOpaque... ... inputoutput error;What I didFix createDirWithOverlayOpaque... ... inputoutput error on rootless.Fix dockerforlinux intermittent error on Debian kernel .Fix reproducible error on kernel .Fix  How I did itbug fix Co
checkconfig.sh add SECCOMPFILTER;What I didI added the check of the existence of CONFIGSECCOMPFILTER. How I did it How to verify it Description for the changelogThe check of seccomp filter support was needed.Ref opencontainersrunc A picture of a cute animal not ma
. backport update rootlesskit to v..;backport of relates to needed for full diff rootlesscontainersrootlesskitv.....v..v.. Changes since v..CLI improve help outputAPI support GET infoPort API support specifying IP version explicitly tcp tcprootlesskitdockerproxy support libnetwork conventionAllow vendoring with mobysysmountinfov.. as well as v..Remove socat port driversocat driver has been deprecated since v.. Dec New experimental flag ipvEnables IPv routing slirpnetns enableipv. Unrelated to port driver.v..Fix cleaning up crashed state dirUpdate Go to .Misc fixes What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix errorhandling in daemon.ContainerExecStart and daemon.getExecConfig;extracting this from where I noticed thisFix daemon.getExecConfig not using typed errNotRunning errorThis makes daemon.getExecConfig return a errdefs.Conflict error if thecontainer is not running.This was originally the case but a refactor of this code changed the typederror derr.ErrorCodeContainerNotRunning to a nontyped error a ContainerExecStart don't wrap getExecConfig errors and prevent panicdaemon.getExecConfig already returns typed errors by wrapping those errors we may loose the actual reason for failures. Changing the errortype was originally added in dd but I think it was not intentional to ignore alreadytyped errors. It was later refactored in a which added helper functions to create these errors but kept the same behavior.Also adds errorhandling to prevent a panic in situations where although unlikely daemon.containers.Get would not return a container. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix panic in TestExecSetPlatformOpt TestExecSetPlatformOptPrivileged;Splitting this from where I found this issueThese tests would panicin WithRLimits because HostConfig was not set   mobydaemonocilinux.go   Lines to  in ae       We want to leave the original HostConfig alone so make a copy here     hostConfig c.HostConfig    in daemon.mergeUlimits because daemon.configStore was not set   mobydaemonocilinux.go   Line  in ae       for name ul range daemon.configStore.Ulimits    This panic was not discovered because the current version of runclibcontainer that we vendorwould not always return false for apparmor.IsEnabled when running dockerindocker or ifapparmorparser is not found. Starting with v..rc of libcontainer this is no longerthe case changed in opencontainersruncbfbeaThis patchchanges the tests to initialize Daemon.configStore and Container.HostConfigCombines TestExecSetPlatformOpt and TestExecSetPlatformOptPrivileged into a new testTestExecSetPlatformOptAppArmorRuns the test both if AppArmor is enabled and if not in which case it teststhat the container's AppArmor profile is left empty.Adds a FIXME comment for a possible bug in execSetPlatformOpts which currentlyprefers custom profiles over privileged. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update rootlesskit to v..;relates to needed for full diff rootlesscontainersrootlesskitv.....v..v.. Changes since v..CLI improve help outputAPI support GET infoPort API support specifying IP version explicitly tcp tcprootlesskitdockerproxy support libnetwork conventionAllow vendoring with mobysysmountinfov.. as well as v..Remove socat port driversocat driver has been deprecated since v.. Dec New experimental flag ipvEnables IPv routing slirpnetns enableipv. Unrelated to port driver.v..Fix cleaning up crashed state dirUpdate Go to .Misc fixesSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. TestPushMultipleTags Add support for . CLI;In . we no longer implicitly push all tags and require aalltags flag so add this to the test when the CLI is .Signedoffby Brian Goff cpuguygmail.comcherry picked from commit aSignedoffby Brian Goff cpuguygmail.comBackporting test change will clear up the failing test for the . branchhttpsgithub.comcpuguydockertestingrunschecksuitefocustrue       The text was updated successfully but these errors were encountered
. Remove cli test for duplicate netnetwork opts;This seems to be testing a strange case specifically that one can setthe net and network in the same command with the same network.Indeed this used to work with older CLIs but newer ones error out whenvalidating the request before sending it to the daemon.Opening this for discussion becauseThis doesn't seem to be testing anything at all related to the restof the testNot really providing any value here.Is testing that a technically invalid option is successful whetherthe option should be valid as it relates to the CLI accepting it isdebatable.Such a case seems fringe and even a bug in whatever is calling theCLI with such options.Signedoffby Brian Goff cpuguygmail.comcherry picked from commit eSignedoffby Brian Goff cpuguygmail.comBackporting to . and that should clean up this the failing test shown belowhttpsgithub.comcpuguydockertestingrunschecksuitefocustrue       The text was updated successfully but these errors were encountered
. backport Fix handling for jsonfile io.UnexpectedEOF;backport of Before this we essentially end up doubling any buffered data from thejson decoder by storing it in both d.dec and d.rdr.Thanks tobiasstadler for pointing this error out.Fixes  Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
libcontainerd remove unused win errors and consts;These were added in dd for Windows TP but no longer used after ca removed support for TP. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
quota adjust buildtags to allow build without CGO;This is to allow quota package without tests to be built without cgo.makeBackingFsDev was used in helpers but not defined in projectquotaunsupported.goAlso adjust some GoDoc to follow the standard format.       The text was updated successfully but these errors were encountered
. backport overlay support userxattr option kernel .;Cherrypick        The text was updated successfully but these errors were encountered
Add a version requirement for testPushMultipleTags;TestPushMultipleTags Add support for . CLIIn . we no longer implicitly push all tags and require a alltags flag so add this to the test when the CLI is ..       The text was updated successfully but these errors were encountered
Prepare tests for Windows containerd support;What I didAs part of Windows ContainerD CI work on I noticed that some tests need to be slightly modified that for that purpose. Additionally I enabled some tests which have been disabled on Windows earlier. How I did itOn way that those sh
Remove cli test for duplicate netnetwork opts;This seems to be testing a strange case specifically that one can setthe net and network in the same command with the same network.Indeed this used to work with older CLIs but newer ones error out whenvalidating the request before sending it to the daemon.Opening this for discussion becauseThis doesn't seem to be testing anything at all related to the restof the testNot really providing any value here.Is testing that a technically invalid option is successful whetherthe option should be valid as it relates to the CLI accepting it isdebatable.Such a case seems fringe and even a bug in whatever is calling theCLI with such options.The change that caused this is from dockercli       The text was updated successfully but these errors were encountered
info unset cgrouprelated fields when CgroupDriver none;Fix  What I didunset cgrouprelated fields when CgroupDriver none How I did itModified daemoninfounix.goP How to verify itBoot the host with cgroup vdockerdrootlesssetuptool.sh installdocker info format json. ... MemoryLimit false SwapLimit false KernelMemory false KernelMemoryTCP false CpuCfsPeriod false CpuCfsQuota false CPUShares false CPUSet false PidsLimit false... CgroupDriver none... Description for the changeloginfo unset cgrouprelated fields when CgroupDriver none A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
update containerd binary to v..;Welcome to the v.. release of containerdThe sixth major release of containerd includes many stability improvementsand code organization changes to make contribution easier and make futurefeatures cleaner to develop. This includes bringing CRI development into themain containerd repository and switching to Go modules. This release alsobrings support for the Node Resource Interface NRI.HighlightsProject OrganizationMerge containerdcri codebase into containerdcontainerdMove to Go modulesRemove selinux build tagAdd json log format output option for daemon logSnapshotsAdd configurable overlayfs pathSeparate overlay implementation from pluginNative snapshotter configuration and plugin separationDevmapper snapshotter configuration and plugin separationAUFS snapshotter configuration and plugin separationZFS snapshotter configuration and plugin separationPass custom snapshot labels when creating snapshotAdd platform check for snapshotter support when unpackingHandle loopback mountsSupport userxattr mount option for overlay in user namespaceZFS snapshotter implementation of usageDistributionImprove registry response errorsImprove image pull performance over HTTP .Registry configuration packageAdd support for layers compressed with zstdAllow arm to fallback to arm v v v vRuntimeAdd annotations to containerd task update APIAdd logging binary support when terminal is trueRuntime support on FreeBSDWindowsImplement windowsDiff.Compare to allow outputting OCI imagesOptimize WCOW snapshotter to commit writable layers as readonly parent layersOptimize LCOW snapshotter use of scratch layersCRIAdd NRI injection points criAdd support for registry host directory configurationUpdate privileged containers to use current capabilities instead of known capabilitiesAdd pod annotations to CNI callEnable ocicrypt by defaultSupport PID NamespaceModeTARGETImpactful Client UpdatesThis release has changes which may affect projects which import containerd.Switch to Go modulescontainerd and all containerd subrepositories are now using Go modules. Thisshould help make importing easier for handling transitive dependencies. As ofthis release containerd still does not guarantee client library compatibilityfor .x versions although best effort is made to minimize impact from changesto exported Go packages.CRI plugin moved to main repositoryWith the CRI plugin moving into the main repository imports under github.comcontainerdcrican now be found github.comcontainerdcontainerdpkgcri.There are no changes required for end users of CRI.Library changesociThe WithAllCapabilities has been removed and replaced with WithAllCurrentCapabilitiesand WithAllKnownCapabilities. WithAllKnownCapabilities has similarfunctionality to the previous WithAllCapabilities with added support for newercapabilities. WithAllCurrentCapabilities can be used to give privilegedcontainers the same set of permissions as the calling process preventing errorswhen privileged containers attempt to get more permissions than given to thecaller.Configuration changesNew registry.configpath for CRI pluginregistry.configpath specifies a directory to look for registry hostsconfiguration. When resolving an image name during pull operations the CRIplugin will look in the registry.configpath directoryfor host configuration. An optional hosts.toml file in that directory may beused to configure which hosts will be used for the pull operation as wellhostspecific configurations. Updates under that directory do not requirerestarting the containerd daemon.Enable registry.configpath in the containerd configuration file.plugins.io.containerd.grpc.v.cri.registry configpath etccontainerdcerts.dConfigure registry hosts such as etccontainerdcerts.ddocker.iohosts.tomlfor any image under the docker.io namespace any image on Docker Hub.server httpsregistry.docker.io host.httpspublicmirror.example.com capabilities pull host.httpsdockermirror.internal capabilities pull resolve ca dockermirror.crt If no hosts.toml configuration exists in the host directory it will fallbackto check certificate files based on Docker's certificate filepattern .crt files for CA certificates and .cert.key files for clientcertificates.Deprecation of registry.mirrors and registry.configs in CRI pluginMirroring and TLS can now be configured using the new registry.configpathoption. Existing configurations may be migrated to new host directoryconfiguration. These fields are only deprecated with no planned removalhowever these configurations cannot be used while registry.configpath isdefined.Version schema is deprecatedVersion of the containerd configuration toml is recommended format and thedefault. Starting this version a deprecation warning will be logged whenversion is used.To check version see the version value in the containerd toml configuration.versionFreeBSD Runtime Support ExperimentalThis release includes changes that allow containerd to run on FreeBSD with acompatible runtime such as runj. Thissupport should be considered experimental and currently there are no officialbinary releases for FreeBSD. The runtimes used by containerd are maintainedseparately and have their own stability guarantees. The containerd projectstrives to be compatible with any runtime which aims to implement containerd'sshim API and OCI runtime specification. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Use buster backports to build with libseccomp..;backport of Fixes The latest released versions of the static binaries .. are still unableto use faccessat with musl.. even though this was addressed in andrelated issues. The underlying cause seems to be that the build systemhere still uses the default version of libseccomp shipped with buster.An updated version is available in buster backportshttpspackages.debian.orgbusterbackportslibseccompdev Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comspfcobra v..;full diff spfcobrav.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.comopencontainersrunc v..rc;testing if things break with opencontainersrunc Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.commobysysmountinfo v.. github.commobysysmount v..;full diff mobysyssymlinkv.....mountinfov..github.commobysysmountinfo v..Fix PrefixFilter being too greedyTestMountedBy add missing prechecksDocumentation improvementsgithub.commobysysmount v..Breaking changesRemove stubimplementations for Windows for Mount UnmountRecursiveUnmount MergeTmpfsOptionsFixes and improvementsgo.mod update github.commobysysmountinfo to v..use MNT flags from golang.orgxsysunix on freebsdadd support for OpenBSD in addition to FreeBSDfix package overview documentation not showingRecursiveUnmount minor improvementsSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Include VPNkit binary for arm;backport of relates to dockerlibrarydockerPreviously VPNkit binary was installed only for amd. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add an option to skip create log stream for awslogs driver;Added an option awslogscreatestream to allow skipping log stream creation for awslogs log driver. The default value is still true to keep the behavior be consistent with before.Signedoffby Xia Wu xwumznamazon.com What I didAdded a new option awslogscreatestream to awslogs log driver to allow skipping log stream creation in AWS CloudWatch Logs. It's very similar to awslogscreategroup but used for log stream creation. How I did itAdded a new option in awslogs log config map. How to verify itBuilt Docker locally and ran a Docker container with awslogscreatestreamfalse with an existed log stream name in AWS CloudWatch Logs the log stream creation was skipped and container started to run successfully.docker run d command echo hello \ env xxx credentials \ logdriverawslogs \ logopt awslogsgrouptestgroup \ logopt awslogsgroupteststream \ logopt awslogsregionuswest \ logopt awslogscreatestreamfalse \ busyboxlatest Also ran a Docker container without log option awslogscreatestream and the log stream created in CloudWatch Logs successfully.Modified existing unit tests and added a unit test for skipped log stream creation. Description for the changelogAdded a new option to awslogs log driver to allow skipping log stream creation in AWS CloudWatch Logs. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update containerd binary to v..;backport of full diff containerdcontainerdv.....v..Release notesThe fourth patch release for containerd . contains a fix for CVEalong with various other minor issues.See GHSAgqwjfwhfor more details related to CVE.Notable UpdatesFix container create in CRI to prevent possible environment variable leak between containersUpdate shim server to return grpc NotFound errorAdd bounds on max oomscoreadj value for shim's AdjustOOMScoreUpdate task manager to use fresh context when calling shim shutdownUpdate Docker resolver to avoid possible concurrent map access panicUpdate shim's log file open flags to avoid containerd hang on syscall openFix incorrect usage calculation Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update containerd binary to v..;full diff containerdcontainerdv.....v..Release notesThe fourth patch release for containerd . contains a fix for CVEalong with various other minor issues.See GHSAgqwjfwhfor more details related to CVE.Notable UpdatesFix container create in CRI to prevent possible environment variable leak between containersUpdate shim server to return grpc NotFound errorAdd bounds on max oomscoreadj value for shim's AdjustOOMScoreUpdate task manager to use fresh context when calling shim shutdownUpdate Docker resolver to avoid possible concurrent map access panicUpdate shim's log file open flags to avoid containerd hang on syscall openFix incorrect usage calculation Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Correct name right sort order;Move montalcini to between mirzakhani and moore What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Dockerfile switch to stable dockerfile frontend;backport of The RUN mount options have been promoted to the stable channel so we can switch from experimental to stable.Note that the syntax directive should no longer be needed now but it's good practice to add a syntaxdirective to allow building on older versions of docker. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport dockerdrootlesssetuptool.sh create CLI context rootless;Cherrypick        The text was updated successfully but these errors were encountered
fix a typo in comments;Signedoffby Kaijie Chen chenkaijie.org What I didFixed a typo in comments. How I did itRemoving an extra the. Description for the changelog Mount mounts the RWLayer and returns the filesystem path the to the writable layer.       The text was updated successfully but these errors were encountered
Fix handling for jsonfile io.UnexpectedEOF;Before this we essentially end up doubling any buffered data from thejson decoder by storing it in both d.dec and d.rdr.Thanks tobiasstadler for pointing this error out.Fixes        The text was updated successfully but these errors were encountered
. backport pkgarchive TestUntarParentPathPermissions requires root;backport of  RUN TestUntarParentPathPermissions archiveunixtest.go assertion failed error is not nil chown tmpTestUntarParentPathPermissionsfoo operation not permitted Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
APIclient remove unused ContainerListOptions.Quiet field;fixes This option was originally added in daa and moved in b after which it temporarily went to the dockerengineapi repository and was brought back in this repository in ed .However it looks like this field was never used the API always returns the standard information and the quiet option for docker ps is implemented on the CLI side which uses different formatting when setting this option    mobyapiclientps.go   Lines to  in ece       psCtx ps.Context     Output cli.out     Format f     Quiet quiet     Size size     Trunc noTrunc        This patch removes the unused field. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
pkgarchive TestUntarParentPathPermissions requires root;RUN TestUntarParentPathPermissions archiveunixtest.go assertion failed error is not nil chown tmpTestUntarParentPathPermissionsfoo operation not permitted sudo .archive.test test.v test.run TestUntarParentPathPermissi
Allow switching Windows runtimes.;This adds support for runtimes on Windows one that uses the builtinHCSv integration and another which uses containerd with the runhcsshim.Related to        The text was updated successfully but these errors were encountered
dockerdrootlesssetuptool.sh create CLI context rootless;What I diddockerdrootlesssetuptool.sh create CLI context rootless How to verify it dockerdrootlesssetuptool.sh install...INFO Creating CLI context rootlessSuccessfully created context rootlessINFO Make sure the following environ
Enable processvmreadv and processvmwritev for kernel .;These syscalls were disabled in due to them requiring CAPPTRACE. CAPPTRACE was blocked by default due to a ptrace related exploit. This has been patched in the Linux kernel version . and thus ptrace has been reenabled. However these associated syscalls seem to have been left behind. This commit brings them in line with ptrace and reenables it for kernel .. What I didReenabled processvmreadv and processvmwritev How I did itAdded them to the ptrace profile in the seccomp defaults. How to verify itStart a standard Docker containerRun a program that uses these functions as root or targeting a sameuser process Description for the changelogReenabled processvmreadv and processvmwritev by default for kernel .       The text was updated successfully but these errors were encountered
. backport Update documentation links;backport of Using go redirects for some topics which allows us toredirect to new locations if topics are moved around in thedocumentation.Updated some old URLs to their new location.Signedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit debSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
rootless Set service type to notify;What I didThis mirrors what the nonrootless version does and lets systemd understand when the service is fully up and running. This also guarantees that services that depend on docker only run after docker has fully initialised. How I did itSimply
Update documentation links;depends on dockerdocker.github.io mergedUsing go redirects for some topics which allows us to redirect to new locations if topics are moved around in the documentation.Updated some old URLs to their new location. A picture of a cute animal not mandatory but encouraged?É?       The text was updated successfully but these errors were encountered
. backport dockerdrootless.sh prohibit running as root;Cherrypick        The text was updated successfully but these errors were encountered
Fix setting swaplimittrue without checking memory.swap.max;What I didfixes  How I did itAdded one condition to mobypkgsysinfocgrouplinux.go How to verify itActually I wanted to create unit tests for this one. The problem is certain files must be present on FS so I see solutionsuse mocks
. backport dockerdrootless.sh add typo guard;backport of  What I diddockerdrootless.sh install is a common typo of dockerdrootlesssetuptool.sh install.Now dockerdrootless.sh install shows humanreadable error. How I did itAdded a humanreadable error How to verify it dockerdrootless.sh install f echo Did you mean 'dockerdrootlesssetuptool.sh install f' Did you mean 'dockerdrootlesssetuptool.sh install f'  exit  A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
overlay support userxattr option kernel .;What I didFix kernel . overlay rootless aptget fails with Invalid crossdevice link How I did itSupport userxattr option kernel ..The userxattr option is needed for mounting overlayfs inside a user namespace with ker
Include VPNkit binary for arm;Previously VPNkit binary was installed only for amd.       The text was updated successfully but these errors were encountered
. backport checkconfig.sh add NETFILTERXTMARK;backport of Points out another symbol that Docker might need. in this case Docker'smesh network in swarm mode does not route Virtual IPs if it's unset.From varlogsdocker.logtimeT levelerror msgset up rule failed t mangle A INPUT d ... j MARK setmark iptables failed iptables wait t mangle A INPUTd ... j MARK setmark iptables v.. legacy unknown option setmark\nTry iptables h' or 'iptables help' for more information.\n exit status Bug mobylibnetworkBug dockerforlinuxBug dockerforlinux Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport builder fix blobs releasing via leases after pull;backport of fix Deleting leases did not trigger containerd gc synchronously after releasing blobs. Also some references were not in correct order. For old state running prune should clean it up now.       The text was updated successfully but these errors were encountered
API update API version to v.;Opening as a separate PR as draft in preparation of API changesDocker . was released with API v. so any change in the API should now target v.. Description for the changelogUpdate API version to v. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport vendor github.commobybuildkit v..;Backport of full diff mobybuildkitbb...bmobybuildkit mobybuildkit fix seccomp compatibility in bit armfixes mobybuildkit Unable to build alpineedge containers for armvfixes dockerbuildx Buildx failing to build for armv platform on arm machinemobybuildkit mobybuildkit resolver avoid error caching on token fetchfixes mobybuildkit Error io timeout should not be cachedmobybuildkit mobybuildkit fileop fix checksum to contain indexes of inputsmobybuildkit mobybuildkit frontenddockerfile add RunCommand.FlagsUsed fieldrelates to builder produce error when using unsupported Dockerfile optionrelates to . Classic builder silently ignores unsupported Dockerfile command flagsmobybuildkit mobybuildkit update qemu emulatorsrelates to dockerbuildx comment Impossible to run git clone inside buildx with non x architecturemobybuildkit mobybuildkit Fix reference count issues on typed errors with mount referencesfixes mobybuildkit errors on releasing mounts with typed execerror refsfixes addresses dockerforlinux invalid mutable ref when using shared cache mountsmobybuildkit mobybuildkit dockerfiledocs fix frontend image tagsfixes mobybuildkitmobybuildkit mobybuildkit git set token only for main remote accessfixes dockerbuildpushaction Loading repositories with submodules is repeated. Failed to clone submodule from googlesourcemobybuildkit allow skipping empty layer detection on cache exportrelates to mobybuildkit mobybuildkitChanges in mobybuilder fix incorrect cache match for inline cache with empty layersfixes mobybuildkit mobybuildkitSignedoffby Sebastiaan van Stijn githubgone.nlSignedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
. backport Update Swarmkit to pick up fixes to heartbeat period and stalled tasks;backport of Signedoffby Adam Williams awilliamsmirantis.com What I didBump swarmkit versionIncludes fixes forfixes Heartbeat does not persist on restartfixes dockerswarmkit Bug fix for task stuck in pending state Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update Swarmkit to pick up fixes to heartbeat period and stalled tasks;Signedoffby Adam Williams awilliamsmirantis.com What I didBump swarmkit versionIncludes fixes forfixes Heartbeat does not persist on restartfixes dockerswarmkit Bug fix for task stuck in pending state Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor github.commobybuildkit v..;full diff mobybuildkitbb...bmobybuildkit mobybuildkit fix seccomp compatibility in bit armfixes mobybuildkit Unable to build alpineedge containers for armvfixes dockerbuildx Buildx failing to build for armv platform on arm machinemobybuildkit mobybuildkit resolver avoid error caching on token fetchfixes mobybuildkit Error io timeout should not be cachedmobybuildkit mobybuildkit fileop fix checksum to contain indexes of inputsmobybuildkit mobybuildkit frontenddockerfile add RunCommand.FlagsUsed fieldrelates to builder produce error when using unsupported Dockerfile optionrelates to . Classic builder silently ignores unsupported Dockerfile command flagsmobybuildkit mobybuildkit update qemu emulatorsrelates to dockerbuildx comment Impossible to run git clone inside buildx with non x architecturemobybuildkit mobybuildkit Fix reference count issues on typed errors with mount referencesfixes mobybuildkit errors on releasing mounts with typed execerror refsfixes addresses dockerforlinux invalid mutable ref when using shared cache mountsmobybuildkit mobybuildkit dockerfiledocs fix frontend image tagsfixes mobybuildkitmobybuildkit mobybuildkit git set token only for main remote accessfixes dockerbuildpushaction Loading repositories with submodules is repeated. Failed to clone submodule from googlesourcemobybuildkit allow skipping empty layer detection on cache exportrelates to mobybuildkit mobybuildkitChanges in mobybuilder fix incorrect cache match for inline cache with empty layersfixes mobybuildkit mobybuildkitSignedoffby Sebastiaan van Stijn githubgone.nlSignedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
Use buster backports to build with libseccomp..;Fixes The latest released versions of the static binaries .. are still unableto use faccessat with musl.. even though this was addressed in andrelated issues. The underlying cause seems to be that the build systemhere still uses the default version of libseccomp shipped with buster.An updated version is available in buster backportshttpspackages.debian.orgbusterbackportslibseccompdevSignedoffby Jeremy Huntwork jhuntworklightcubesolutions.com What I didBuilt dockerd containerd and runc locally and then compared the results with previous ones. How I did itMy original running system used the .. published static binaries docker versionClient Docker Engine Community Version .. API version . Go version go.. Git commit db Built Fri Jan  OSArch linuxamd Context default Experimental trueServer Docker Engine Community Engine Version .. API version . minimum version . Go version go.. Git commit ca Built Fri Jan  OSArch linuxamd Experimental false containerd Version v.. GitCommit faeabfcfcdfab runc Version ..rc GitCommit ffcecbcfecaeaaff dockerinit Version .. GitCommit dead runc versionrunc version ..rccommit ffcecbcfecaeaaffspec ..devPrepare a test file that will use the faccessat syscallinclude fcntl.hinclude unistd.hinclude stdio.hint mainvoid int r r faccessatATFDCWD etcresolv.conf ORDONLY ATEACCESS printfReturned d\n r return rRun a container using musl.. build it and execute it docker run it v pwdsrc meredev pacman Q muslmusl .. cc test.c o test static file testtest ELF bit LSB executable x version SYSV statically linked not stripped .testReturned Running with strace would also give something like thisfaccessatATFDCWD etcresolv.conf FOK ATEACCESS EPERM Operation not permitted How to verify itBuild locally with this change I simply ran 'make' and 'make install'Afterwards the docker and runc version reported this docker versionClient Version ..dev API version . Go version go.. Git commit af Built Mon Feb  OSArch linuxamd Context default Experimental trueServer Engine Version dev API version . minimum version . Go version go.. Git commit bcfcc Built Mon Feb  OSArch linuxamd Experimental false containerd Version v.. GitCommit faeabfcfcdfab runc Version ..rc GitCommit eebdafdaffacfefdec dockerinit Version .. GitCommit dead runc versionrunc version ..rccommit eebdafdaffacfefdecspec ..devgo go..libseccomp ..And testing the statically compiled C file running in the same container now works docker run it v pwdsrc meredev .testReturned  Description for the changelogBuild static binaries with libseccomp.. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
checkconfig.sh add NETFILTERXTMARK;Points out another symbol that Docker might need. in this case Docker'smesh network in swarm mode does not route Virtual IPs if it's unset.From varlogsdocker.logtimeT levelerror msgset up rule failed t mangle A INPUT d ... j MARK setmark iptables failed iptables wait t mangle A INPUT d ... j MARK setmark iptables v.. legacy unknown option setmark\nTry iptables h' or 'iptables help' for more information.\n exit status Bug mobylibnetworkBug dockerforlinuxBug dockerforlinux What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
CI update tests to be more resilient against CLI output format and for libnetwork changes;relates to in preparation of vendor dockerlibnetwork bbebcbebbfbeintegrationcontainer wrap some long lines for readabilityJust some minor codestyle changes for readabilityintegration update getExternalAddress to prefer IPvRootlesskit doesn't currently handle IPv addresses causing TestNetworkLoopbackNat and TestNetworkNat to failError starting userland proxyerror while calling PortManager.AddPort listen tcp address too many colons in addressThis patchUpdates getExternalAddress to pick IPv address if both IPv and IPv are foundUpdate TestNetworkNat to net.JoinHostPort so that square brackets are used for IPv addresses e.g. integrationcli rely less on docker port output formatAlso reformatting some lines for readability.       The text was updated successfully but these errors were encountered
. backport builder fix pull synchronization regression;backport of fixes mobybuildkit Failed to compute cache key in newer versionregression from dbffbe and fae v. only . Buildkit standalonebuildx is not affected.Config resolution was synchronized based on a wrong key as refvariable is initialized only after in the same function. Usingthe right key isn't fully correct either as the synchronized methodchanges properties of the puller instance and can't be just skipped.Added better error handling for the same case as well.Signedoffby Tonis Tiigi tonistiigigmail.comcherry picked from commit beaSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix containerscreate response description;fix containerscreate response description What I did Fixed a minor documentation error Description for the changelogFixed containerscreate response description.       The text was updated successfully but these errors were encountered
. backport Check the length of the correct variable;backport of  What I did How I did it How to verify it Description for the changelogCloses  A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. Fallback to manifest list when no platform match;Cherrypick relates to addresses dockerforlinux commentIn some cases in fact many in the wild an image may have the incorrectplatform on the image config.This can lead to failures to run an image particularly when a userspecifies a platform.Typically what we see in the wild is a manifest list with an an entryfor as an example linuxarm pointing to an image config that haslinuxamd on it.This change falls back to looking up the manifest list for an image tosee if the manifest list shows the image as the correct one for thatplatform.In order to accomplish this we need to traverse the leases associatedwith an image. Each image if pulled with Docker . will have themanifest list stored in the containerd content store with the resourceassigned to a lease keyed on the image ID.So we look up the lease for the image then look up the assocatedresources to find the manifest list then check the manifest list for aplatform match then ensure that manifest referes to our image config.This is only used as a fallback when a user specified they want aparticular platform and the image config that we have does not matchthat platform.       The text was updated successfully but these errors were encountered
Check the length of the correct variable;What I did How I did it How to verify it Description for the changelogCloses  A picture of a cute animal not mandatory but encouraged       The text was updated succe
. backport Update TestDaemonRestartWithLiveRestore fix docker subnet missmatch;backport of  What I didIn some companies continuous integrations are launched from a docker dind container with the Gitlab CI docker executor for example.When the tests are initiated from docker dind TestDaemonRestartWithLiveRestore fails because it checks that this subnet of the docker interface is ... while it is not in this case we have the ... subnet instead.Here is the error that is displayed when we run the integration tests from a dind container servicetest.go assertion failed ... out.IPAM.Config.Subnet string ... stringIp subnets with docker dind machine dockersubnet ...dockerdindcontainer ethsubnet ... dockersubnet ... dockerintegrationtestcontainer ethsubnet ... dockersubnet ...Ip subnets with baremetal or vm server machine dockersubnet ...dockerintegrationtestcontainer ethsubnet ... dockersubnet ... How I did itSo instead of comparing the docker subnet with a hardcoded value in TestDaemonRestartWithLiveRestore I compare it with the docker subnet that there was before restarting the docker daemon.fetch the subnet from dockerrestart the docker daemonfetch the subnet from dockerEnsure that the docker subnet has not changed with daemon restarts How to verify itThe integration test should pass when initiated from a docker dind containerdocker run privileged rm v pwdapp workdir app it dockerdind shapk add make bash gitdockerd devnull make testintegration Description for the changelogUpdate TestDaemonRestartWithLiveRestore dynamic check of the docker subnet after restarting the docker daemon.       The text was updated successfully but these errors were encountered
oci.Device fix FileMode to match runtime spec;relates to opencontainersruntimespec containerdcontainerd and opencontainersruncThe runtime spec expects the FileMode field to only hold file permissions however unix.Statt.Mode contains both file type and mode.This patch strips file type so that only file mode is included in the Device.Thanks to Iceber Gu Iceber who noticed the same issue in containerd and runc. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
builder fix pull synchronization regression;fixes mobybuildkit Failed to compute cache key in newer versionregression from dbffbe and fae v. only. Buildkit standalonebuildx is not affected.Config resolution was synchronized based on wrong key as refvariable is initialized only after in the same function. This means thaton parallel config pulls keys can collide and one side is ignored. Usingright key isn't fully correct either as the syncronized methodchanges properties of the puller instance and can't be just skipped.Added better error handling for the same case as well.DRoet summeraSignedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
dockerdrootless.sh prohibit running as root;What I didProhibit running dockerdrootless.sh as root How I did itAdded if id u then echo error exit fi How to verify it sudo dockerdrootless.sh ...Must not run as root exit  A picture of a cute animal not mandator
Move cgroup v out of experimental;What I didWe have upgraded runc to rc and added CI for cgroup .So we can move cgroup v out of experimental.Close  How I did itRemoved WARNING Support for cgroup v is experimental from docker info How to verify itRun docker info De
. backport Jenkinsfile add cgroup;backport of closes        The text was updated successfully but these errors were encountered
volumes only send create event when actually creating volume;fixes The VolumesService did not have information wether or not a volume was created or if a volume already existed in the driver and the existing volume was used.As a result multiple create events could be generated for the same volume. For exampleRun docker events in a shell to start listening for eventsCreate a volumedocker volume create myvolumeStart a container that uses that volumedocker run dit v myvolumefoo busyboxCheck the events that were generatedT. volume create myvolume driverlocalT. volume create myvolume driverlocalT. container create cbbfeefacfceddddeecad imagebusybox namegracioushypatiaT. network connect afbbdffdfaecbffddeacbde containercbbfeefacfceddddeecad namebridge typebridgeT. volume mount myvolume containercbbfeefacfceddddeecad destinationfoo driverlocal propagation readwritetrueT. container start cbbfeefacfceddddeecad imagebusybox namegracioushypatiaNotice that a volume create event is created twiceonce when docker volume create was ranonce when docker run ... was ranThis patch moves the generation of most events to the volume store and only generates an event if the volume did not yet exist. Description for the changelogFix multiple volume create events being created when using an existing volume A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Update rootlesskit to v.. to fix handling of IPv addresses;backport of relates to v..Refactor ParsePortSpec to handle IPv addresses and improve validationv..rootlesskit pidns fix propagating exit statusSupport cgroup evacuation e.g. systemdrun p Delegateyes user t rootlesskit cgroupns pidns evacuatecgroupevac netslirpnetns bashv..Port forwarding API now supports setting ChildIPThe vendor directory is no longer included in this repo. Run go mod vendor if you needSignedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit eaeSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix grammar in client function comments;What I didI was looking through the client documentation and found a small grammar mistake in one of the comments and ended up falling down this rabbit hole. I change certain words and added punctuation to the comments of functions. I didn't get every
Update rootlesskit to v.. to fix handling of IPv addresses;testing the changes I made in rootlesscontainersrootlesskit separate from v..Refactor ParsePortSpec to handle IPv addresses and improve validationv..rootlesskit pidns fix propagating exit statusSupport cgroup evacuation e.g. systemdrun p Delegateyes user t rootlesskit cgroupns pidns evacuatecgroupevac netslirpnetns bashv..Port forwarding API now supports setting ChildIPThe vendor directory is no longer included in this repo. Run go mod vendor if you need Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
builder fix blobs releasing via leases after pull;fix Deleting leases did not trigger containerd gc synchronously after releasing blobs. Also some references were not in correct order. For old state running prune should clean it up now.Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
. backport avoid creating parent dirs for XGlobalHeader and fix permissions;fixes backport of archive avoid creating parent dirs for XGlobalHeader pkgarchive Unpack use permissions for missing directories       The text was updated successfully but these errors were encountered
pkgarchive Unpack use permissions for missing directories;together with this fixes If I create a compressed tar ball with etcpassword in itreplacescloses Commit edba fixed a bug in MkdirAllAndChown that caused the specified permissions to not be applied correctly. As a result of that bug the configured umask would be applied.When extracting archives Unpack used permissions when creating missing parent directories for files that were extracted. Before edba this resulted in actual permissions of the directories to be on most configurations using a default umask.Creating these directories should not depend on the host's umask configuration. This patch changes the permissions to to match the previous behavior and to reflect the original intent of using as default. Description for the changelogFix permissions for newly created dirs in ADD A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport update runc binary to v..rc;backport of update runc binary to v..rcfull diff opencontainersruncv..rc...v..rcrelease notes httpsgithub.comopencontainersruncreleasestagv..rcRelease notes for runc v..rcThis is the last featurerich RC release and we are in a featurefreeze until.. ..rc will be released in a few weeks with minimal bug fixes onlyand .. will be released soon afterwards.runc's cgroupv support is no longer considered experimental. It is nowbelieved to be fully ready for production deployments. In addition runc'scgroup code has been improvedThe systemd cgroup driver has been improved to be more resilient andhandle more systemd properties correctly.We now make use of openat when possible to improve the security ofcgroup operations in future runc will be wholesale ported to libpathrs toget this protection in all codepaths.runc's mountinfo parsing code has been reworked significantly makingcontainer startup times significantly faster and less wasteful in general.runc now has special handling for seccomp profiles to avoid making newsyscalls unusable for glibc. This is done by installing a custom prefix toall seccomp filters which returns ENOSYS for syscalls that are newer thanany syscall in the profile meaning they have a larger syscall number.This should not cause any regressions because previously users would simplyget EPERM rather than ENOSYS and the rule applied above is the mostconservative rule possible but please report any regressions you find as aresult of this change in particular programs which have special fallbackcode that is only run in the case of EPERM.runc now supports the following new runtimespec featuresThe umask of a container can now be specified.The new Linux . capabilities CAPPERFMON CAPBPF andCAPCHECKPOINTRESTORE are now supported.The unified cgroup configuration option which allows users to explicitlyspecify the limits based on the cgroup file names rather than abstractingthem through OCI configuration. This is currently limited in scope tocgroupv.Various rootless containers improvementsrunc will no longer cause conflicts if a user specifies a custom devicewhich conflicts with a userconfigured device the user device takesprecedence.runc no longer panics if sysfscgroup is missing in rootless mode.runc root is now always treated as local to the current working directory.The nopivotroot hardening was improved to handle nested mounts properlyplease note that we still strongly recommend that users do not usenopivotroot it is still an insecure option.A large number of code cleanliness and other various cleanups includingfairly large changes to our tests and CI to make them all run moreefficiently.For packagers the following changes have been made which will have impact onyour packaging of runcThe selinux and apparmor buildtags have been removed and now all runcbuilds will have SELinux and AppArmor support enabled. Note that seccompis still optional though we very highly recommend you enable it.make install DESTDIR now functions correctly. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Fix usernsremap option when username UID match;backport of  What I didFixes by only matching UID or username. How I did itCheck subuidRangesWithUID first then subuidRangesWithUserName. How to verify itecho xnonexistentbinfalse etcpasswdecho x etcgroupecho etcsubuidecho etcsubgiddockerd usernsremap docker run helloworld Description for the changelogFix usernsremap option when username UID match A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport apidocs fix NanoCPUs casing in swagger;backport of fixes While the field in the Go struct is named NanoCPUs it has a JSON label touse NanoCpus which was added in the original pull request not clear whatthe reason was baf Some notesGolang processes field names caseinsensitive so when using the APIboth cases should work but when inspecting a container the field isreturned as NanoCpus.This only affects Containers.Resources. The Limits and Reservationfor SwarmKit services and SwarmKit nodes do not override the namefor JSON so have the canonical NanoCPUs casing.       The text was updated successfully but these errors were encountered
Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE;fixes Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORENow that runc v..rc is used we can revert this temporary workaroundThis reverts commit abb .relates to . beta Unknown capability CAPPERFMON on Linux ..kubernetessigskind master kubeproxy doesn't start up due to apply caps operation not permitted erroropencontainersruntimespec Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
apidocs fix NanoCPUs casing in swagger;fixes While the field in the Go struct is named NanoCPUs it has a JSON label touse NanoCpus which was added in the original pull request not clear whatthe reason was baf Some notesGolang processes field names caseinsensitive so when using the APIboth cases should work but when inspecting a container the field isreturned as NanoCpus.This only affects Containers.Resources. The Limits and Reservationfor SwarmKit services and SwarmKit nodes do not override the namefor JSON so have the canonical NanoCPUs casing.       The text was updated successfully but these errors were encountered
Refactor seccomp types to reuse runtimespec and add support for ErrnoRet;Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix usernsremap option when username UID match;Signedoffby Grant Millar ridcylo.io What I didFixed by only matching UID or username. How I did itCheck subuidRangesWithUID first then subuidRangesWithUserName. How to verify itecho xnonexistentbinfalse etcpasswdecho x etcgroupecho etcsubuidecho etcsubgiddockerd usernsremap docker run helloworld Description for the changelogFix usernsremap option when username UID match A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Fix daemon panic when starting container with invalid device cgroup rule;backport of fixesaddresses dockercomposeThis fixes a panic when an invalid device cgroup rule is passed resulting in an index out of range.This bug was introduced in the original implementation in af but was not reproducible when using the CLI because the same commit also added clientside validation on the flag before making an API request. The following example uses an invalid rule c rwm two spaces before the permissions docker run rm networkhost devicecgrouprule'c rwm' busyboxinvalid argument c rwm for devicecgrouprule flag invalid device cgroup format 'c rwm'Doing the same but using the API results in a daemon panic when starting the containerCreate a container with an invalid device cgroup rule curl v \ unixsocket varrundocker.sock \ httplocalhostv.containerscreatenamefoobar \ H ContentType applicationjson \ d 'Imagebusyboxlatest HostConfigDeviceCgroupRules c rwm'Start the container curl v \ unixsocket varrundocker.sock \ X POST \ httplocalhostv.containersfoobarstartObserve the daemon logs . I | http panic serving runtime error index out of range with length goroutine runningnethttp.conn.serve.funcxccbdusrlocalgosrcnethttpserver.go xbpanicxf xcaebfcusrlocalgosrcruntimepanic.go xbgithub.comdockerdockeroci.AppendDevicePermissionsFromCgroupRulesxcc x x xcbd x x x x xcec x ...gosrcgithub.comdockerdockerocioci.go xfThis patchfixes the panic allowing the daemon to return an error on container startadds a unittest to validate various permutationsadds a todo to verify the regular expression and handling of the a all valueWe should also consider performing this validation when creating the containerso that an error is produced early. Description for the changelogFix daemon panic when starting container with invalid device cgroup rule A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
. backport Dockerfile.simple Fix compile docker binary error with btrfs;backport of Use the image build from Dockerfile.simple to build docker binary failedwith not find brtfsioctl.h we need to install libbtrfsdev to fix this.Building bundlesdynbinarydaemondockerddevGOOS GOARCH GOARM.gopathsrcgithub.comdockerdockerdaemongraphdriverbtrfsbtrfs.go fatal error btrfsioctl.h No such file or directory include btrfsioctl.h Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix for lack of synchronization in daemonupdate.go;fixes Signedoffby dmytro.iakovliev dmytro.iakovlievzodiacsystems.com What I didReordered operations to fix race. How I did itThe container state checking has been placed between container.Lock and container.Unlock. Added container state checking into the defer handler. How to verify itSee script to reproduce failing conditions in . Description for the changelogFix for lack of syncronization in daemonupdate.go.       The text was updated successfully but these errors were encountered
Dockerfile.simple Fix compile docker binary error with btrfs;Use the image build from Dockerfile.simple to build docker binary failedwith not find brtfsioctl.h we need to install libbtrfsdev to fix this.Building bundlesdynbinarydaemondockerddevGOOS GOARCH GOARM.gopathsrcgithub.comdockerdockerdaemongraphdriverbtrfsbtrfs.go fatal error btrfsioctl.h No such file or directory include btrfsioctl.hSignedoffby Lei Jitang leijitangoutlook.com What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Bump runc binary v..rc;update runc binary to v..rcfull diff opencontainersruncv..rc...v..rcrelease notes httpsgithub.comopencontainersruncreleasestagv..rcRelease notes for runc v..rcThis is the last featurerich RC release and we are in a featurefreeze until.. ..rc will be released in a few weeks with minimal bug fixes onlyand .. will be released soon afterwards.runc's cgroupv support is no longer considered experimental. It is nowbelieved to be fully ready for production deployments. In addition runc'scgroup code has been improvedThe systemd cgroup driver has been improved to be more resilient andhandle more systemd properties correctly.We now make use of openat when possible to improve the security ofcgroup operations in future runc will be wholesale ported to libpathrs toget this protection in all codepaths.runc's mountinfo parsing code has been reworked significantly makingcontainer startup times significantly faster and less wasteful in general.runc now has special handling for seccomp profiles to avoid making newsyscalls unusable for glibc. This is done by installing a custom prefix toall seccomp filters which returns ENOSYS for syscalls that are newer thanany syscall in the profile meaning they have a larger syscall number.This should not cause any regressions because previously users would simplyget EPERM rather than ENOSYS and the rule applied above is the mostconservative rule possible but please report any regressions you find as aresult of this change in particular programs which have special fallbackcode that is only run in the case of EPERM.runc now supports the following new runtimespec featuresThe umask of a container can now be specified.The new Linux . capabilities CAPPERFMON CAPBPF andCAPCHECKPOINTRESTORE are now supported.The unified cgroup configuration option which allows users to explicitlyspecify the limits based on the cgroup file names rather than abstractingthem through OCI configuration. This is currently limited in scope tocgroupv.Various rootless containers improvementsrunc will no longer cause conflicts if a user specifies a custom devicewhich conflicts with a userconfigured device the user device takesprecedence.runc no longer panics if sysfscgroup is missing in rootless mode.runc root is now always treated as local to the current working directory.The nopivotroot hardening was improved to handle nested mounts properlyplease note that we still strongly recommend that users do not usenopivotroot it is still an insecure option.A large number of code cleanliness and other various cleanups includingfairly large changes to our tests and CI to make them all run moreefficiently.For packagers the following changes have been made which will have impact onyour packaging of runcThe selinux and apparmor buildtags have been removed and now all runcbuilds will have SELinux and AppArmor support enabled. Note that seccompis still optional though we very highly recommend you enable it.make install DESTDIR now functions correctly.Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update TestDaemonRestartWithLiveRestore fix docker subnet missmatch;What I didIn some companies continuous integrations are launched from a docker dind container with the Gitlab CI docker executor for example.When the tests are initiated from docker dind TestDaemonRestartWithLiveRestore fails because it checks that
archive avoid creating parent dirs for XGlobalHeader;fixes the part about created tmp dir not permissionsSignedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
. backport assorted small fixes docs changes and contrib;Backports Fix Error in daemonunix.go and dockerclirununittest.gofixes Invalid error message when providing MB memory reservations through dockercompose contribcheckconfig.sh fixes for cgroup v and kernel v.xfixes contribcheckconfig.sh shows dropped configuration as missingfixes contribcheckconfig.sh cgroup hierarchy nonexistent with cGroups v swagger.yaml Remove extra 'the' wrapped by newline docs fix double the in existing API versions httpsgithub.commobymobypull Fix Error in daemonunix.go and dockerclirununittest.gogit cherrypick s S x fbfbdeeedbeaa httpsgithub.commobymobypull contribcheckconfig.sh fixes for cgroup v and kernel v.xgit cherrypick s S x baedcabdefebcc eebcfddafcbbebbacb daafbacdbfcbfd fdddefaaec efbaaeaebc dfaccfcdffbabbffbb httpsgithub.commobymobypull swagger.yaml Remove extra 'the' wrapped by newlinegit cherrypick s S x dbceceacffeaebafd httpsgithub.commobymobypull docs fix double the in existing API versionsgit cherrypick s S x dbbbbffacce       The text was updated successfully but these errors were encountered
. backport replace json.Unmarshal with NewFromJSON in Create;backport of fixes imagestore.go Empty configuration causes runtime panic What I didReuse NewFromJSON to handle no rootfs key situation in imagestore.go to solve the issue in  How I did itSimply replace the json.Unmarshal function with NewFromJSON in imageimage.go How to verify itRunning this mainly modified from will show invalid image JSON no RootFSpackage mainimport  github.comdockerdockerimage os ioioutil runtime github.comdockerdockerlayer fmttype mockLayerGetReleaser structfunc ls mockLayerGetReleaser Getlayer.ChainID layer.Layer error  return nil nilfunc ls mockLayerGetReleaser Releaselayer.Layer layer.Metadata error  return nil nilfunc main tmpdir err ioutil.TempDir imagesfsstore defer os.RemoveAlltmpdir if err nil  fmt.Printerr os.Exit  fsBackend err image.NewFSStoreBackendtmpdir if err nil  fmt.Printerr os.Exit  mlgrMap makemapstringimage.LayerGetReleaser mlgrMapruntime.GOOS mockLayerGetReleaser store err image.NewImageStorefsBackend mlgrMap if err nil  fmt.Printerr os.Exit  err store.Createbyte if err nil  fmt.Printerr os.Exit  Description for the changelogPrevent a panic when handling an image json with no rootfs key present.       The text was updated successfully but these errors were encountered
. backport Handle long log messages correctly on SizedLogger;backport of fixes awslogs driver with nonblocking mode cause log events to split larger then k sizeLoggers that implement BufSize e.g. awslogs uses the method totell Copier about the maximum log line length. However loggerWithCacheand RingBuffer hide the method by wrapping loggers.As a result Copier uses its default KB limit which breaks loglines kB even the destinations can handle that.This change implements BufSize on loggerWithCache and RingBuffer tomake sure these logger wrappes don't hide the method on the underlyingloggers.Fixes .Signedoffby Kazuyoshi Kato katokazuamazon.com What I didI've added BufSize to loggerWithCache and RingLogger to make Copier aware about the size limit of the underlying loggers. How I did itI've added the method to the structs. How to verify itI built Docker and tested the change with logsplit container image I made.docker run d logdriverawslogs logopt modenonblocking logopt awslogsgrouplogsplittest logopt awslogsregionuswest logsplitlatestThe Dockerfile for the image is below.FROM ubuntu.CMD tr dc AZaz devurandom | head c echo ''I also added new unit tests on Copier. Description for the changelogFix loggers to make sure they don't break long lines when the destinations' limits allow.       The text was updated successfully but these errors were encountered
. backport Add shim config for custom runtimes for plugins;backport of fixes dockerforlinux v.. dockerd panics when configuring default runtimefixes dockerforlinux .. start docker failedThis fixes a panic when an admin specifies a custom default runtimewhen a plugin is started the shim config is nil. Description for the changelogFix a daemon panic on setups with a custom default runtime configured       The text was updated successfully but these errors were encountered
. backport Fix builder inconsistent error on buggy platform;backport of addresses dockerforlinuxWhen pulling an image by platform it is possible for the image'sconfigured platform to not match what was in the manifest list.The image itself is buggy because either the manifest list is incorrector the image config is incorrect. In any case this is preventing peoplefrom upgrading because many times users do not have control over thesebuggy images.This was not a problem in . because we did not compare on platformbefore. It just assumed if we had the image it was the one we wantedregardless of platform which has its own problems.Example Dockerfile that has this problemFROM platformlinuxarm ks.gcr.iobuildimagedebianiptablesbusterv..RUN echo helloThis fails the first time you try to build after it finishes pulling butbefore performing the RUN command.On the second attempt it works because the image is already there anddoes not hit the code that errors out on platform mismatch Actually itignores errors if an image is returned at all.Must be run with the classic builder DOCKERBUILDKIT. Description for the changelog       The text was updated successfully but these errors were encountered
. backport builder ensure libnetwork state file do not leak;backport of Apparently calling sandbox.Delete is not enough to remove all the libnetwork state files eg. the hosts and resolv.conf file. So to avoid leaks clean up the sandbox state directory manually.Looking at what happens on regular containers it seems that netns is cleaned up by finalized and not directly by code. This could be investigated more in the future as could leak on restarts etc. The hostsresolv.conf is stored in container state directory and cleaned up with container afaics.Cherrypick was not clean but only a minor issue same but reverse as comment       The text was updated successfully but these errors were encountered
. backport profiles seccomp update to Linux . syscall list;backport of These syscalls some of which have been in Linux for a while but weremissing from the profile fall into a few bucketscloserange epollpwait are just extensions of existing safefor everyone syscalls.The mountv API syscalls fs movemount opentree areall equivalent to aspects of mount and thus go into theCAPSYSADMIN category.processmadvise is similar to the other process syscalls andthus goes in the CAPSYSPTRACE category. Description for the changelog       The text was updated successfully but these errors were encountered
. backport backport various testing fixes;Backports Make test work with rootless mode integration fix TestBuildUserNamespaceValidateCapabilitiesAreV not using frozen image testing update dockerpy .. Dockerfile.buildx update buildx to v.. testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failures httpsgithub.commobymobypull Make test work with rootless modegit cherrypick s S x eacabfbfefecffcacffa httpsgithub.commobymobypull integration fix TestBuildUserNamespaceValidateCapabilitiesAreV not using frozen imagegit cherrypick s S x dfcafadbdeba httpsgithub.commobymobypull testing update dockerpy ..git cherrypick s S x fbfcbffdbce httpsgithub.commobymobypull Dockerfile.buildx update buildx to v..git cherrypick s S x babddeadabbdeffbe httpsgithub.commobymobypull testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failuresgit cherrypick s S x fbfaeddeebfcbe faccabcbabeb       The text was updated successfully but these errors were encountered
master prevent an invalid image from crashing docker daemon CVE;This forwardports the changes related to CVE Advisory GHSAfjmrqx.These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branchcherrypick was cleangit cherrypick s S x adaf       The text was updated successfully but these errors were encountered
master Ensure AppArmor and SELinux profiles are applied when building with BuildKit;These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branchgit cherrypick s S x afe ebfSecond commit did not apply cleanly because ce was merged on master and is not yet in the . branchdiff cc builderbuildernextexecutorunix.goindex ccefbbaf.. abuilderbuildernextexecutorunix.go bbuilderbuildernextexecutorunix.go import const networkName bridge HEAD func newExecutorroot cgroupParent string net libnetwork.NetworkController dnsConfig oci.DNSConfig rootless bool idmap idtools.IdentityMapping executor.Executor error  netRoot filepath.Joinroot net func newExecutorroot cgroupParent string net libnetwork.NetworkController dnsConfig oci.DNSConfig rootless bool idmap idtools.IdentityMapping apparmorProfile string executor.Executor error  ebffb buildkit Apply apparmor profile networkProviders mappb.NetModenetwork.Provider pb.NetModeUNSET bridgeProviderNetworkController net Root filepath.Joinroot net pb.NetModeUNSET bridgeProviderNetworkController net Root netRoot pb.NetModeHOST network.NewHostProvider pb.NetModeNONE network.NewNoneProvider        The text was updated successfully but these errors were encountered
master Fix Access to remapped root allows privilege escalation to real root CVE;This forwardports the changes related to CVE Advisory GHSAxqpjrpc. These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branchCherrypick was cleangit cherrypick s S x edba bfedd ecc       The text was updated successfully but these errors were encountered
dockerdrootless.sh add typo guard;What I diddockerdrootless.sh install is a common typo of dockerdrootlesssetuptool.sh install.Now dockerdrootless.sh install shows humanreadable error. How I did itAdded a humanreadable error How to verify it dockerdrootless.sh install
. backport TestCgroupNamespacesRunOlderClient support cgroup v;Cherrypick        The text was updated successfully but these errors were encountered
. backport docker info silence unhandleable warnings;Cherrypick        The text was updated successfully but these errors were encountered
. backport pkgarchive allow mknodding FIFO inside userns;Cherrypick  What I didFix Also attempt to mknod devices.Mknodding devices are likely to fail but still worth trying when running with a seccomp user notification. How I did itBy allowing mknodding FIFO inside userns. How to verify itdocker pull docker.iogitlabgitlabee..ee. with rootless Description for the changelog A picture of a cute animal not mandatory but encouraged?Éº       The text was updated successfully but these errors were encountered
. backport rootless prevent the service hanging when stopping set systemd KillMode to mixed;Cherrypick        The text was updated successfully but these errors were encountered
Fallback to manifest list when no platform match;relates to addresses dockerforlinux commentIn some cases in fact many in the wild an image may have the incorrectplatform on the image config.This can lead to failures to run an image particularly when a userspecifies a platform.Typically what we see in the wild is a manifest list with an an entryfor as an example linuxarm pointing to an image config that haslinuxamd on it.This change falls back to looking up the manifest list for an image tosee if the manifest list shows the image as the correct one for thatplatform.In order to accomplish this we need to traverse the leases associatedwith an image. Each image if pulled with Docker . will have themanifest list stored in the containerd content store with the resourceassigned to a lease keyed on the image ID.So we look up the lease for the image then look up the assocatedresources to find the manifest list then check the manifest list for aplatform match then ensure that manifest referes to our image config.This is only used as a fallback when a user specified they want aparticular platform and the image config that we have does not matchthat platform.       The text was updated successfully but these errors were encountered
Makefile install buildx from binary release instead of building;This was originally added in c at which time buildx did not yet have a release so we had to build from source.Now that buildx has binary releases on GitHub we should be able to consume those binaries instead of building.       The text was updated successfully but these errors were encountered
. backport pkgarchive allow mknodding FIFO inside userns;Fix Cherrypick cherry picked from commit ddccc       The text was updated successfully but these errors were encountered
rootless prevent the service hanging when stopping set systemd KillMode to mixed;What I didFix Docker rootless does not exit properly if containers are runningNow systemctl user stop docker completes just with in or seconds. How I did itChanged the KillMode from controlgroup default to mixedSee systemd
docs fix double the in existing API versions;Backport of db to the swagger files used in the documentation       The text was updated successfully but these errors were encountered
testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failures;relates to commentrelates to comment What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Resume healthcheck when daemon restarts;Call updateHealthMonitor for alive nonpaused containers when daemon restarts.What I didFix issue feat. ealessandriaorange How I did itWhile dockerd restores call updateHealthMonitor for non paused alive containers. How to verify itAt dockerd restart containers' healthcheck is still running. Description for the changelogFix issue        The text was updated successfully but these errors were encountered
Dockerfile.buildx update buildx to v..;will conflict with but need to have another look at that one for the buildcache pruning.full diff dockerbuildxv.....v.. Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Use golang.orgxsysexecabs;Signedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
Jenkinsfile add cgroup;Thanks to StefanScherer for setting up the Jenkins nodes commentCloses Replaces Vagrant on GitHub ActionsTestInspectOomKilledTrue is skipped due to its flakiness on v        The text was updated successfully but these errors were encountered
swagger.yaml Remove extra 'the' wrapped by newline;Just a typo fix. This PR was originally proposed by phillc here docker What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix panic when starting container with invalid device cgroup rule;fixesaddresses dockercomposeThis fixes a panic when an invalid device cgroup rule is passed resulting in an index out of range.This bug was introduced in the original implementation in af but was not reproducible when using the CLI because the same commit also added clientside validation on the flag before making an API request. The following example uses an invalid rule c rwm two spaces before the permissions docker run rm networkhost devicecgrouprule'c rwm' busyboxinvalid argument c rwm for devicecgrouprule flag invalid device cgroup format 'c rwm'Doing the same but using the API results in a daemon panic when starting the containerCreate a container with an invalid device cgroup rule curl v \ unixsocket varrundocker.sock \ httplocalhostv.containerscreatenamefoobar \ H ContentType applicationjson \ d 'Imagebusyboxlatest HostConfigDeviceCgroupRules c rwm'Start the container curl v \ unixsocket varrundocker.sock \ X POST \ httplocalhostv.containersfoobarstartObserve the daemon logs . I | http panic serving runtime error index out of range with length goroutine runningnethttp.conn.serve.funcxccbdusrlocalgosrcnethttpserver.go xbpanicxf xcaebfcusrlocalgosrcruntimepanic.go xbgithub.comdockerdockeroci.AppendDevicePermissionsFromCgroupRulesxcc x x xcbd x x x x xcec x ...gosrcgithub.comdockerdockerocioci.go xfThis patchfixes the panic allowing the daemon to return an error on container startadds a unittest to validate various permutationsadds a todo to verify the regular expression and handling of the a all valueWe should also consider performing this validation when creating the containerso that an error is produced early. Description for the changelogFix daemon panic when starting container with invalid device cgroup rule A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
TestCgroupNamespacesRunOlderClient support cgroup v;What I didTestCgroupNamespacesRunOlderClient support cgroup v.When running with cgroup v cgroup namespace should be always enabled regardless to API version.  How to verify it make TESTSKIPINTEGRATIONCLI TESTFLAGS'test.run Test
builder produce error when using unsupported Dockerfile option;fixes depends on vendor github.commobybuildkit v.. depends on mobybuildkit mobybuildkitbuilder produce error when using unsupported Dockerfile optionWith the promotion of the experimental Dockerfile syntax to stable the Dockerfilesyntax now includes some options that are supported by BuildKit but not yetsupported in the classic builder.As a result parsing a Dockerfile may succeed but any flag that's known to BuildKitbut not supported by the classic builder is silently ignored mkdir buildkitflags cd buildkitflags touch foo.txtFor example RUN mountDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxRUN mounttypecachetargetfoo echo helloEOFSending build context to Docker daemon .kBStep FROM busybox eefStep RUN mounttypecachetargetfoo echo hello Running in fdbbchelloRemoving intermediate container fdbbc efdSuccessfully built efdOr COPY chmod same for ADD chmodDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxCOPY chmod foo.txt foo.txtEOFSending build context to Docker daemon .kBStep FROM busybox eefStep COPY chmod foo.txt foo.txt baaSuccessfully built baaNote that unknown flags still produce and error for example the below fails because hello is an unknown flagDOCKERBUILDKIT docker build EOFFROM busyboxRUN hello echo helloEOFSending build context to Docker daemon .kBError response from daemon dockerfile parse error line Unknown flag helloWith this patch appliedWith this patch applied flags that are known in the Dockerfile spec but are notsupported by the classic builder produce an error which includes a link to thedocumentation how to enable BuildKitDOCKERBUILDKIT docker build nocache f . EOFFROM busyboxRUN mounttypecachetargetfoo echo helloEOFSending build context to Docker daemon .kBStep FROM busybox bfcaStep RUN mounttypecachetargetfoo echo hellothe mount option BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.DOCKERBUILDKIT docker build nocache f . EOFFROM busyboxCOPY chmod foo.txt foo.txtEOFSending build context to Docker daemon .kBStep FROM busybox bfcaStep COPY chmod foo.txt foo.txtthe chmod option requires BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled. Description for the changelogFix classic builder silently ignoring unsupported Dockerfile options       The text was updated successfully but these errors were encountered
Handle long log messages correctly on SizedLogger;Loggers that implement BufSize e.g. awslogs uses the method totell Copier about the maximum log line length. However loggerWithCacheand RingBuffer hide the method by wrapping loggers.As a result Copier uses its default KB limit which breaks loglines kB even the destinations can handle that.This change implements BufSize on loggerWithCache and RingBuffer tomake sure these logger wrappes don't hide the method on the underlyingloggers.Fixes .Signedoffby Kazuyoshi Kato katokazuamazon.com What I didI've added BufSize to loggerWithCache and RingLogger to make Copier aware about the size limit of the underlying loggers. How I did itI've added the method to the structs. How to verify itI built Docker and tested the change with logsplit container image I made.docker run d logdriverawslogs logopt modenonblocking logopt awslogsgrouplogsplittest logopt awslogsregionuswest logsplitlatestThe Dockerfile for the image is below.FROM ubuntu.CMD tr dc AZaz devurandom | head c echo ''I also added new unit tests on Copier. Description for the changelogFix loggers to make sure they don't break long lines when the destinations' limits allow. A picture of a cute animal not mandatory but encouragedFrom httpswww.zoo.organimalsdigital       The text was updated successfully but these errors were encountered
vendor dockerlibnetwork bbebcbebbfbe;also somewhat related to which discusses the implicit binding of IPvdepends on Update rootlesskit to v.. to fix handling of IPv addresses rootlesscontainersrootlesskit Refactor ParsePortSpec to handle IPv addresses and improve validation CI update tests to be more resilient against CLI output format and for libnetwork changes update rootlesskit to v.. rootlesscontainersrootlesskit Port API support specifying IP version explicitly tcp tcpfull diff mobylibnetworkfaa...bfixed IPv iptables rules for enabled firewalld mobylibnetworkfixes Docker uses 'iptables' instead of 'iptables' for IPv NAT rule crashesFix regression in mobylibnetworkintroduced in Fix IPv Port Forwarding for the Bridge Driver mobylibnetworkfixes mobylibnetwork IPv and IPv addresses are not bound by default anymorefixes IPv is no longer proxied by default anymoreUse hostIP to decide on Portmapper version mobylibnetworkfixes dockerproxy not being stopped correctly Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
v proposal;Version Fermium LTS danielleadamsNotable Changesdocapply style for legacy status James M Snellrevoke deprecation of legacy url change status to legacy James M Snelladd legacy status to stability index James M Snellupgrade stability status of report API Gireesh PunathildepsV Backport various patches for Apple Silicon support BoHong Liupdate ICU to Micha l Zassoupgrade to libuv Colin Ihrigfsadd promisified readFile benchmark Nitzan Uzielyhttpadd http.ClientRequest.getRawHeaderNames simovreport request start and end with diagnostics channel Stephen Belangerlibcreate diagnostics channel module Stephen Belangerimplement AbortSignal.abort James M Snelltestupdate dom abort tests James M Snellutiladd getSystemErrorMap impl eladkeyshawn fix percentile range in perf hooks.md raisinten
