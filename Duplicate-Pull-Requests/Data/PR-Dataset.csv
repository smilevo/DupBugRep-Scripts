id;Title_1;Content_1;Title_2;Content_2;Label
0;providerfastly Make requestcondition optional;"Makes the requestcondition setting optional for Fastly requestsettings as seen here

This also updates the relevant documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";providerfastly Changes setting conditionals to optional;Allows the user to create both requestsettings and chachesettings with no conditional set. Conditionals were previously required but this limits options that Fastly allows as shown here    Website documentation updated  Closes;1
1;add validatecredentials option to provideraws;"My dev team is planning to use Terraform to manage our AWS resources in all of our environments Dev Test and Prod.
We develop locally fakesqs and DynamoDB Local and do not have access to AWS credentials. We'd like to use Terraform to stand up tables against DynamoDB Local or any other local AWS service.
I added a validatecredentials option to the provideraws Schema. It defaults to true. When set to false the credentials are not validated at all against IAM or the white black list of account ids.
Since DynamoDB Local does not check the validity of the credentials we can create tables against it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Skip IAMSTS validation and metadata check;"Skip IAMSTS validation and metadata check   Skip IAMSTS identity validation For environments or other api implementations where there are no IAMSTS endpoints available this option lets you opt out from that provider initialization step. Skip metdata api check For environments in which you know ahead of time there isn't going to be a metadta api endpoint this option lets you opt out from that check to save time. Sample provider config provider aws   region useast skipiamcredsvalidation true skipiamaccountid true  skipmetadataapicheck true
";1
2;Update environments.html.md;"kind of confusing example right below is different than quoted command.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Documentation Update Fix a code sample that uses incorrect syntax.;"Reasoning for docs update
terraform env create is not the correct syntax and its usage results in an error.
Relevant Terraform version
I found this error when using the released.. and it appears in the master branch.";1
3;Remove redundant const from command package;"Replace usages of DefaultDataDir with the equivalent DefaultDataDirectory
Remove now unused DefaultDataDir const";command Remove second DefaultDataDirectory const;No description provided.;1
4;provideraws Fixing IAM data source policy generation to prevent spurious diffs;"Just resubmitting this as a new PR this was submitted in .
As mentioned there there are a number of things AWS likes to do with a policy namely resource policies versus IAM ones that cause spurious diffs in Terraform even though nothing has changed ie sorting arrays inserting an empty Sid attribute and converting singleelement lists to a string value.
Having the data source affords us the opportunity to ensure that these problems do not persist as we can now tweak the policy generation in one place.
Again an example of the issue in action
httpsgist.github.comvanclueverecdebfbf
The changes in this commit fixes things to allow a policy generated via the awsiampolicydocument data source to properly pass a TF planapply without any changes when nothing has indeed changed.
References for this I list a few here however if you search in the issue backlog there are more
";provideraws Normalize IAM policy documents;"Fixes and fixes .
Two normalizations are applied

Arrays of length become single strings because this is how they are returned from AWS APIs.
Arrays of length more than are sorted because AWS stores them as sets and returns them in random order.";1
5;provideraws Skip importing routes for VPC endpoints;"Same logic as in resourceAwsRouteTableRead
Fixes";provideraws Fix import of RouteTable with destination prefixes;"Route Tables can get routes that do not have a DestinationCidrBlock by way of awsvpcendpoint. These Routes are ignored in reading awsroutetable and so we should ignore them here as well.
Fixes adds test";1
6;provideraws Allow ELB name to be generated;"Since ELB has a hard limit of characters it may be sometimes hard to come up with a unique name so user may end up just using tags for human labels but the name still need to be filled in with something unique although useless for humans.
This PR is adding new helper indirectly related to and makes elb name optional i.e. generated as tflbUNIQUEID.
I can add an acceptance test case for ELB wout a name but first I want to get general feedback on this idea.";Allow AWS ELB resource name to be computed;"To allow ease use with createbeforedestroy
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
7;provideraws Lb cookie stickiness;"This is based off and incorporates the feedback from radeksimko. Decided to open a PR for this because the issue has been inactive since Sept th
cc radeksimko
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";provideraws Fix issue with LB Cookie Stickiness and empty expiration period;"cookieexpirationperiod is optional for the awslbcookiestickinesspolicy resource however we were sending the default value if nothing was in the configuration which is invalid.
The change in resourceawslbcookiestickinesspolicytest confirms the bugfix
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
8;command Add flag for updating modules on init.;"Add a flag updatemodules to enable updating modules as part of a terraform init and supporting test case.
The justification behind this is to enable the use of terraform init as part of a Jenkins CI pipeline whereby we are running a terraform init on every build. Currently after the modules are initially downloaded they'll never be updated unless either

The workspace is cleared
or
A terraform get update is run

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add update flag to init command;"Add the update flag to the init command so modules can be updated if necessary without the need to use terraform get
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
9;Fix ECS field inconsistency;"ECS has some inconsistency in the way it sends down
field names and the way it expects them in the api.
MEMORY and CPU are expected capitalized and instanceId should be sent as
is.
The previous fixed lowercased everything meaning instanceId is being
saved as instanceid and causing a change in the resource.
PRs and issues





 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix AWS ECS placement strategy spread fields;"Resubmitting PR based on master
Fix for .
AWS API requires ECS placement strategies field attribute to be
memory or cpu lowercase when typebin but these read back as
MEMORY and CPU uppercase respectively.
PR which fixed separately reported deals with this by
always lowering the case of the resource received from the API but this
breaks for other field values e.g. instanceId instanceid.
This PR only lowers the case of the returned resource when field
MEMORY or CPU. Haven't checked if any other fields need this
treatment.";1
10;Make the device name for attached disks equal to the disk name making provisioning disks easier;No description provided.;Add additional options to google provider;This PR adds disk device names and ability to create disks from snapshots;1
11;Add support for SNS topics;"Chips away at . This would have been the simplest thing in the world to do were it not for one uh feature of the SNS API. There is no way to describe or filter for an individual topic.
Instead you have to page results back from a complete topic list and unlike autoscaling groups whose paging limit is something like the paging limit for SNS topics is . I didn't feel right not supporting result paging here it's entirely possible a TF user could have more than SNS topics if they really love the product so I wrote a pager.
The file is snstopicseeker.go and implements a basic state machine whose design will look mighty familiar if you've ever seen this presentation by Rob Pike or read the source code to texttemplateparselex.go in the stdlib. It's basically a slimmed down implementation of the same pattern and I've covered it with a bunch of unit tests to make sure it works and works well.
For what it's worth I think it could be abstracted to an interface and used to page anything in AWS that returns a NextToken but I didn't want to build a generalized version if this is the only AWS resource that'll use it.
Anyway let me know if there are any problems here. I'm going to add SNS topic support to AS groups too per but that file's a bit complex and I didn't feel like biting it off quite yet. I need it though so I'll try to finish it off later this week.";Initial SNS topic subscription support;Initial SNS topic and subscription support;1
12;providergce Convert instance scopes to TypeSet;"providergce Convert instance scopes to TypeSet
The GCE API or library always returns service account scopes in a
predefined order. So if you specify the following config
serviceaccount     You will get the following change on every apply   Fix this by converting scopes from TypeList to TypeSet. This ensures that
we have the correct entries by ignores the order that they appear in. providergce Acceptance test for serviceaccount  Add a new acceptance test for googlecomputeinstance.serviceaccount
which will confirm the change I'm about to make to convert it from
TypeList to TypeSet will work. Since I already broke it during my
manual testing.
This didn't seem related to any of the existing tests so I've created a new
one. Although this will increase the runtime of the acceptance test suite.
I also can't see that any of the existing tests do comparisons of sets e.g.
making sure that there aren't more tags or disk than we have specified. So I
have stuck with this convention and am just testing for the scopes that have
been specified.
The exception to this is the number of ServiceAccounts entries. We
currently only support one so we can error if we have more or less than
this number.

Things I'm unsure about

is a separate acceptance test OK
should the test be more thorough
should it test that it's idempotent on the second run Is that possible
I assume this doesn't need a state file migration

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use a set for service account scopes. Fix;No description provided.;1
13;provideraws Add IAM Server Certificate resource;"Adds a new AWS Resource IAM Server Certificate

httpdocs.aws.amazon.comIAMlatestUserGuideManagingServerCerts.htmlVerifyCertObject

Server certs uploaded to IAM can be used in a few places

AWS Elastic Beanstalk
Elastic Load Balancing
CloudFront
AWS OpsWorks

Adding docs now wanted to open for any thoughts from phinze
UPDATE docs added squashed";Improve idempotency of awsiamservercertificate provisioning;"This pull request addresses issue . A brief recap follows
When Terraform pulls down state data about AWS IAM certificates in its purview it normalizes the certificate body by trimming whitespace from it and taking a SHA hash of the resulting string. This works well for dealing with newline characters at the end of a certificate however this logic does not apply to the certificate chain. A change to the certificate chain is enough for Terraform to rebuild the resource. The combination of these two circumstances means that if one has an IAM certificate with a chain in their Terraform configuration terraform plan will always require some action even if everything appears to be in sync.
This pull request normalizes the certificate chain in the same way as the certificate body. While the major gains are in the use of strings.TrimSpace the SHA hashing is nice to have as well. In passing the integration test for this resource has been updated to include a selfsigned certificate bearing a CA chain.";1
14;AWS SQS policy normalization;"Apply existing normalizeJson as StateFunc to SQS policy to prevent AWS from detecting policy changes when stripping whitespace characters. Labeled as bug in . Different resource but appears to be a similar issue in as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";provideraws Normalize and compact SQS Redrive Policy JSON;"The redrivepolicy needs to be normalized on save to state and we now document that the maxReceiveCount should be an integer not a string. Unfortunately the AWS API accepts either but will always return an integer.
Fixes";1
15;provideraws Fix OnceADayWindowFormat Validator;"If an attribute that would normally be validated by validateOnceADayWindowFormat is an empty string in every case AWS supplies a default time window to use.
Thus an empty string for these attributes is a valid value.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";provideraws Add epsilon to the regex date validation;"Allows empty values for dates
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
16;provideraws Network Interface private ips can be computed;Fixes;Compute private ip addresses of ENIs if they are not specified;"As AWS will assign the ENI an address
Addresses 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
17;Implement restart policy support in Docker provider.;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docker provider additions;"Adds the following functionality to the dockercontainer resource

support for setting the entrypoint
support for setting the restart policy off|onfailure|always
support for setting memory memoryswap and cpushares runtime constraints
support for docker labels
support for logdriver and logoptions
includes HostConfig when creating container";1
18;WIP providerazurerm add dns zone resource;"Scaffold the ARM DNS Zone resource

 Schema
 CRUD
 Acceptance Tests
 Documentation

Test Results

Unfortunately there seems to be a bug in the Azuregosdk right now Azureazuresdkforgo
This will need fixed before I can fix this";providerazurerm Add azurermdnszone resource;This resource is the first which makes use of the new Riviera library at httpsgithub.comjenriviera so there is some additional set up work to add the provider to the client which gets passed among resources.;1
19;switch to updated awssdkgo credentials;"Seems awssdkgo has changed a bit..
rant golang dependency management or lack thereof sucks should we vendor deps";Small fix needed to be inline with the updated AWS SDK again...;"Executed a couple of AWS ACC test as well to make sure everything works properly again after this fixà
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
20;Update Travis to use Go .;No description provided.;Fixing Go Vet errors;No description provided.;1
21;provideraws CloudFront Distribution;"Schema
 Create Implementation
 Read Implementation
 Update Implementation
 Delete Implementation
 Acceptance Tests
 Docs

Seems like a few other folks started doing this before and didn't finish. I'm hoping I can do better by focusing only on the primary functionality in this first changeset and then progressively more features in subsequent changesets.";WIP provideraws CloudFront;"Created a new PR as this is a rewritten implementation of my earlier attempt. The only feature not supported are multiple origins and behaviors.
Also worth noting is the fragility of the CloudFront API. Whenever a new attribute is addedDefaultTTL was added this summer they are optional when creating the resource but not when updating an existing resource. Hopefully this does not happen too often.
previous PR 
radeksimko justincampbell dalehamel";1
22;instanceprofile is a required parameter when creating an EMR instance group;"When creating an EC instance group to process data in an EMR cluster
specifying instanceprofile as an attribute inside ecattributes is
mandatory it would appear.
Not setting it results in an error from Terraform complaining that it isn't
set and the AWS SDK for Go appears at least in my interpretation not to
default it anywhere
httpsgithub.comawsawssdkgoblobmasterserviceemrapi.go
This PR also includes some basic style and grammatical fixes.";docsaws Fix the discrepencies of the emrcluster documentation;Fixes;1
23;provideraws expose Route zone nameservers;"
This PR attempts to expose the NS elements of Route zone. Refs";Expose Route zone nameservers for parent zone NS record;No description provided.;1
24;provideraws Added the ability to import awsiamrole's;Not much to it needed this to build a tf configuration for our core configs.;Allow importing of awsiamrole awsiamrolepolicy awsiampolicy and awsiaminstanceprofile.;No description provided.;1
25;AWSRouteZone create private hosted zone associated with VPC.;"Add ability to create a private Hosted Zone that is associated to a VPC.
Currently only supports a single VPC at creation time.
Future question is how to support multiple VPCs. Amazon uses a AssociateDisassociate request however this is problematic since you must specify one and only one VPC during creation.
Alternatively we could model it as a VPC Set and and use the first entry as the entry for creating and then associate the others.";providersaws resource awsroutezoneassociation;"wip adding awsroutezoneassociation as
resource awsroutezoneassociation foobar 
 vpcid foo
 zoneid bar
 region uswest
";1
26;Propagate AWS CodePipeline action roles;"CodePipeline stage actions can optionally specify an IAM execution role. The provider nominally supports them but they don't seem to be getting passed tofrom AWS.
Please forgive any nonidiomatic Go syntax. It is not in my wheelhouse.";Allow a codepipeline action to specify a rolearn;"The codepipeline resource allows an action to specify a rolearn. However that role is never passed to AWS. This PR fixes that behavior.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
27;Breaking security group rules out into it's own resource to address;No description provided.;provideraws Add Security Group Rule as a top level resource;"First attempt at making Security Group Rules ingress egress top level resources.
This is raw like sushi and probably needs refinement but it's a good start.
Missing

 documentation

cc phinze";1
28;get profile name even if profile path exists;When terraform started persisting the instance profile name to the state the code used the second part of the instance profile ARN split on where it should be using the last part of the ARN split on;splitting an IAM ARN into a Name should return the last element;"My awsiaminstanceprofile had a path of appsservice and a name of ServiceProfile. When I build new instances the tfstate file saved the value incorrectly.
iaminstanceprofile apps

When running terraform plan I continued to get this.
iaminstanceprofile apps ServiceProfile forces new resource

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
29;provideraws Fix issue with updating VPC Security Group IDs for an Instance;"Currently we aren't correctly setting the ids and are setting both
securitygroups and vpcsecuritygroupids in the state. As a result we really only use
the former but the latter never goes away in the state file 
We also don't actually update the remote security groups in the update method.
This PR fixes both issues correctly reading securitygroups vs.
vpcsecuritygroupids and allows users to update the latter without
destroying the Instance when in a VPC.
Should fix";provideraws fix EIPs on new upstream sdk;"As we've seen elsewhere the SDK now wants nils instead of empty arrays
for collections
fixes 
thanks jstremick for pointing me in the right direction
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
30;Aws volume size;This resolves and allows for larger volume sizes on aws instances.;AWS Instance blockdevice Attribute;"Added the ability to specify block devices for an AWS instance.
blockdevice 
 devicename devsda
 volumetype gp
 volumesize 
";1
31;provideraws require db option group name to be lower case;"AWS is automatically changing these names to lower case as described in 
This is causing errors when terraform apply is rerun.
I don't believe this needs any documentation updates.
Closes";provideraws awsdboptiongroup normalizes name to lowercase;"This fixes . The code here lowercases the name andor prefix before sending it to the AWS API and the terraform state. This means the state will match the actual resource name and be able to converge the diff.
Other providers might validate and throw an error or warning instead of just letting it work but this is consistent with awsdbinstance. If this is the wrong approach I can use a validator instead.
I've also updated all the tests to include uppercase letters which might be overkill.";1
32;providerazurerm Fixes for azurerm subnet properties;"Partially fixes GH
So far this implements the setting of address range route table association and network security group association for azurerm subnet resource.
There is still failure when going from a set resource to none for route tables and nsg e.g.
resource azurermsubnet test 
 name testsubnet
 resourcegroupname azurermresourcegroup.test.name
 virtualnetworkname azurermvirtualnetwork.test.name
 addressprefix ...
 routetableid azurermroutetable.test.id
 networksecuritygroupid azurermnetworksecuritygroup.test.id


to
resource azurermsubnet test 
 name testsubnet
 resourcegroupname azurermresourcegroup.test.name
 virtualnetworkname azurermvirtualnetwork.test.name
 addressprefix ...
 routetableid 
 networksecuritygroupid 


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";providerazurerm support importing of subnet resource;"TFACC go test .builtinprovidersazurerm v run TestAccAzureRMSubnet timeout m
 RUN TestAccAzureRMSubnetimportBasic
 PASS TestAccAzureRMSubnetimportBasic .s
 RUN TestAccAzureRMSubnetbasic
 PASS TestAccAzureRMSubnetbasic .s
 RUN TestAccAzureRMSubnetdisappears
 PASS TestAccAzureRMSubnetdisappears .s
PASS
ok github.comhashicorpterraformbuiltinprovidersazurerm .s

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
33;provideraws Add support for AWSConfig service;"TODO

 Implementation of awsconfigconfigurationrecorder
 Implementation of awsconfigconfigurationrecorderstatus
 Implementation of awsconfigdeliverychannel
 Implementation of awsconfigconfigrule
 Docs for awsconfigconfigurationrecorder
 Docs for awsconfigconfigurationrecorderstatus
 Docs for awsconfigdeliverychannel
 Docs for awsconfigconfigrule
 Acceptance tests for awsconfigconfigurationrecorder
 Acceptance tests for awsconfigconfigurationrecorderstatus
 Acceptance tests for awsconfigdeliverychannel
 Acceptance tests for awsconfigconfigrule
 ValidateFunc functions on all fields of all resources where it makes sense
 Import of all resources tests
 Guard against deletion of all resources outside of Terraform";WIP provideraws Add support for AWS Config service;"Finishing off the work started by stack in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
34;provideraws adding support for SQS queues;"Disclaimer I'm pretty new to Go but this seems to be working in my tests for addingeditingdelete a queue. It also passed make test but I might be doing things wrong
This adds basic SQS functionality to createeditdelete a SQS queue. Right now it doesn't support anything like dead letter or permissions.
Let me know if anything really bad or something I missed sticks out";Initial SQS support;"Initial support for making updating removing SQS queues feedback welcome.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
35;Use the new AWSClient.accountid when generating ARNs;With the merge of we are now able to leverage the onetime collection of the AWS account id rather than trying to fetch it from multiple places in the code.;provideraws Change the way ARNs are built;"ARNs used to be build using the iamconn.GetUser func call. This wouldn't
work on some scenarios and was changed so that we can expose the
AccountId and Region via meta
This commit just changes the build ARN funcs to use this new way of
doing things
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
36;google Expand tilde in accountfile path;"This will allow the following
provider google 
 project yadayada
 region uscentral
 accountfile .gcloudanything.json

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";providersgoogle Change accountfile to expect a JSON string;Using the Google provider from Atlas if currently not possible without committing the accountfile to version control or only using terraform push. This adds accountfilecontents to allow specifying the contents of the accountfile in an environment variable encrypted on Atlas.;1
37;Bug Only prefix hashcode with TypeSet diff marker.;"This fixes the immediate problem discussed in by limiting the hyphen to tilde substitution with computed hashcodes only.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";helperschema allow set items with hyphens;"Fixes 
This fixes the way we replace with in computed sets to only consider the code. This allows set items with hyphens to work. They somewhat hilariously and sadly didn't work before.";1
38;providergoogle Move checking into a function in provider.go call it from instance and IGM;Initial PR for . It fixes the specific concern by adding in checking for resourcecomputeinstancegroupmanager and also shows the new function being reused in resourcecomputeinstance note that it also exposed a bug if there is a we should return nil instead of an error. If this looks good I'll check it in and then open up a separate PR for the rest of the resources.;Handle googlecomputeinstancegroupmanager not being found;"Mark the resource as no longer available.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
39;helperschema Make nested Sets in Lists work;"This is a second patched version of which had to be reverted because some acceptance tests were failing as part of the nightly run.
Related to 
Supersedesfixes 
Blocking 

The only difference from the original PR is the last commit fbe.

I managed to reproduce schema diff edge cases from the failing tests in aws provider and fix those. I added new unit tests to cover this new functionality.
I ran the previously failing aws acceptance tests all are now passing. I also ran first aws of total acceptance tests which all eventually passed.
I don't have a Fastly account so I would appreciate if someone could double check all acceptance tests are passing there too and generally run the whole shebang once again with this patch possibly before merging.";WIP Update cloudfront behaviors to behave like lists and allow for ordering;"

Updated references to sets instead of lists
Updated tests so they pass
Successfully added ordered rules to cloudfront

However some setbacks
Still encountering a bug that maybe someone can help me with... I get an index out of bounds exception when I run terraform apply due to this line
cloudfrontdistributionconfigurationstructure.go
ForwardedValues expandForwardedValuesmforwardedvalues.schema.Set.List.mapstringinterface 
There may also be a bug in fieldreader.go addrToSchema. I'm not sure that code is robust against crazy combinations of nested sets and lists.
TODO

Fix index out of bounds exception
Write new tests for this behavior
Update documentation about the new syntax for cachebehaviors
If necessary concoct some migration plan from sets to lists... Then again seemed to maybe work fine just making the changes to the tf file Maybe to be safe we can keep support for the set in a deprecated way.";1
40;Correct Proxy setting for openstack provider issue;"Correction of the Issue to use openstack provider trought a proxy.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";enabled openstack plugin reading env values;No description provided.;1
41;provideraws fix the datasource awsroutetable support for id argument;"This PR implements the id argument in the datasource awsroutetable.
But I hava an issue in the tests
vagrantterraformoptgopathsrcgithub.comhashicorpterraform TFACCtrue go test v github.comhashicorpterraformbuiltinprovidersaws run TestAccDataSourceAwsRouteTable
 RUN TestAccDataSourceAwsRouteTable
 FAIL TestAccDataSourceAwsRouteTable .s
	testing.go Step error After applying this step and refreshing the plan was not empty

		DIFF

		UPDATE data.awsroutetable.byfilter
		 associations. computed
		 filter. 
		 filter..name association.routetableassociationid
		 filter..values. 
		 filter..values. rtbassocdf
		 routes. computed
		 subnetid computed
		 tags. computed
		 vpcid computed
		UPDATE data.awsroutetable.byid
		 associations. computed
		 routes. computed
		 subnetid computed
		 tags. computed
		 vpcid computed
		UPDATE data.awsroutetable.bysubnet
		 associations. computed
		 routes. computed
		 subnetid subnetdebea
		 tags. computed
		 vpcid computed
		UPDATE data.awsroutetable.bytag
		 associations. computed
		 routes. computed
		 subnetid computed
		 tags. 
		 tags.Name terraformtestaccroutetabledatasource
		 vpcid computed

		STATE

		awsroutetable.test
		 ID rtbcbffa
		 propagatingvgws. 
		 route. 
		 tags. 
		 tags.Name terraformtestaccroutetabledatasource
		 vpcid vpcf

		 Dependencies
		 awsvpc.test
		awsroutetableassociation.a
		 ID rtbassocdf
		 routetableid rtbcbffa
		 subnetid subnetdebea


Can you explain me how to fix this please 
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";provideraws Add missing id argument for Route Table data source;"Documentation for the awsroutetable data source mentions that it supports a route table id as an argument however it was missing from the actual provider code.
Adds in the missing provider code adds a test and updates the documentation to use rtbid as the argument instead of the more ambiguous id.";1
42;add resource awsrdsclusterparametergroup;"This PR adds support for RDS Cluster Parameter Groups see . It's more or less a carbon copy of awsdbparametergroup.
I have a small question regarding error handling. awsdbparametergroup compares against DBParameterGroupNotFoundFault not DBParameterGroupNotFound which is the error code I've been observing in docs and during tests. Is that correct I'm using DBParameterGroupNotFound for now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Aurora rds;"This is pull request to add aws rds db cluster parameter group function.
GH
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
43;provideraws Support S bucket object upload with AES serverside encryption;"Add optional awssbucketobject boolean encrypt attribute to allow AES serverside encryption modeled after the S Remote State Backend
If encrypt true and no AWS KMS Key ID is specified then a serverside encryption value of AES is used
Setting a value for kmskeyid implicitly sets encrypt true
Update documentation
Add new acceptance test

 make testacc TEST.builtinprovidersaws TESTARGS'runTestAccAWSSBucketObjectsseaes' 
 Checking that code complies with gofmt requirements...
go generate go list .... | grep v terraformvendor
 Generated commandinternalpluginlist.go
TFACC go test .builtinprovidersaws v runTestAccAWSSBucketObjectsseaes timeout m
 RUN TestAccAWSSBucketObjectsseaes
 PASS TestAccAWSSBucketObjectsseaes .s
PASS
ok github.comhashicorpterraformbuiltinprovidersaws .s


Verify no regression

 make testacc TEST.builtinprovidersaws TESTARGS'runTestAccAWSSBucketObjectkms' 
 Checking that code complies with gofmt requirements...
go generate go list .... | grep v terraformvendor
 Generated commandinternalpluginlist.go
TFACC go test .builtinprovidersaws v runTestAccAWSSBucketObjectkms timeout m
 RUN TestAccAWSSBucketObjectkms
 PASS TestAccAWSSBucketObjectkms .s
PASS
ok github.comhashicorpterraformbuiltinprovidersaws .s

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";S Bucket Object Sever Side Encryption;"This PR sees support for server side encryption added to s bucket object resources. This functionality is equivalent to
aws s cp sse awskms source destination

which facilitates using S default master key for server side encryption.
Associated acceptance testing and documentation has been included.";1
44;Update buffer swap test to use better variable names;"testsparallelbufferswap.js has all variables defined at the top level scope and hence the variable names are variations of buf buf buf etc.
This PR puts each setupassertion code block into its own block and renames the variables to be easier to read.
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems

test";test use block scope in testbufferswap.js;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems";1
45;readline concievably typo in readline.js;close;readline corrected concievably spelling;"corrected the spelling of concievably in readline.js to conceivably
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
46;doc fix out of date napicallback doc;"The earlier version napicallback returns void but now is napivalue. The document of this section hasn't been modified.
Fixes 
Fixes 

Checklist


 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc napi";doc fix a few napi doc issues;"Add doc for napicreatestringlatin.
Fix signatures where c string was specified instead of napivalue.
Fix return type of napicallback.
Update to specify that napiescapehandle can only be called once
for a given scope.

Fixes 
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
doc napi";1
47;upgrade npm to ..;"Checklist

 tests and code linting passes
 a test andor benchmark is included
 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems

deps

Description of change
The biggest thing in this release is that it fixes the tests on Windows.
There are a couple of Windows related bug fixes that were exposed by fixing the tests on Windows. Notably

The use of npm explore to run a command from the directory of a dependency didn't work correctly on Windows.
npm init and others that inferred the module name from the path failed with scoped modules on Windows.
Removing globally installed bins for scoped modules previously failed on Windows. And was incorrect but working byaccident elsewhere.
Correct npm cache ls to output real filenames?Çô previously it sometimes mistakenly double the package name in the path resulting paths that don't exist.
npm now warns if you paste in a command line that uses nonascii dashes like emdashes or endashes as this is almost certainly not intended.

And one new feature

If we got a cachehit for module metadata but the version requested does not exist in the metadata we then explicitly ask the registry for updated metadata. This removes one of the primary pain points of using a very high cachemin.

Changelogs

v..

Reviewers
r zkat
r thealphanerd
r Fishrock";deps upgrade npm to ..;"Checklist


 tests and code linting passes
 a test andor benchmark is included
 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems

deps
Description of change

Hey y'all
This is a fairly small release that includes two npm versions. Nothing particularly worth noting about these other than some documentation updatestest tweaks except that this includes thealphanerd's patches to make sure .nycoutput didn't get included in the release tarball which was done as a oneoff point release.
Changelogs

..
..

r iarna
r thealphanerd
r Fishrock";1
48;feature Add Promises interface for fs;"Initially I've implemented a promise interface just for the readFile method. If this feature is approved I'll implement for others fs methods 
And the callback keeps working";Adding Core support for Promises;"Update PST Current state of the PR.
Update PST Current state of the PR.
Newcomers As a heads up GitHub has started clipping the thread down. I'm going to start cataloguing common questions tonight and I'll include them under this notice so that you can quickly look to see if there's an answer to your issue without having to search through the entire thread. Thanks for taking a look weighing in Whether you're for this change or against it your feedback is valuable and I'll respond to it as soon as I'm able.
FAQ TLDR for newcomers
What is the current proposal
If landed this will land behind a flag moving out from behind the flag in the next major version as an unsupported API finally becoming fully supported one major version after that. It does not replace or supersede the callback API which will continue to be the canonical Node interface.
Promisereturning variants will be exposed for all singleoperation Node methods ?Çö that is to say Streams and EventEmitterbased APIs are not included in this discussion.
To use promises
const fs require'fs'

fs.readFile.promisefilename.thendata 

Using promises with destructuring assignment where available
const readFile require'fs'.promise

readFilefilename.thendata 

As a prerequisite to this PR landing domains must work as expected with native Promises they currently do not. AsyncWrap is not blocked on this PR neither is this PR blocked on AsyncWrap. Both PRs are blocked on getting adequate instrumentation of the microtask queue from V we need a callback for microtask enqueued events so we can track their creation and ideally a way to step the microtask queue forward ourselves running code between invocations.

Why use the promisify approach
Response summed up here.

Why not fs.readFileAsync
phpnode notes that it could break existing users of bluebird.promisifyAll. Plus the naming is contentious.

Why not return promises when callbacks are not given

jasnell expresses deep discomfort with switching return types.

We already have to provide alternate APIs in some places due to




Should programmer errors throw or reject
Summed up here.

What is the value in adding them to core
rvagg has been massively helpful in driving this conversation forward

What are the killer arguments for including this what is the value in adding this vs. leaving it userland

domenic notes that asyncawait is spec'd and roadmapped.
My response.
mikeal notes that promises are part of the platform already and that adding support increases the base of folks willing to help fix bugs with in interoperation with them


rvagg asks for clarification on the value as a part of this comment.

My wordy sorry response.




How do you address the need to keep core small while expanding the exposed API
Where do we draw the line in supporting languagelevel constructs
yoshuawuyts rvagg and DonutEspresso have largely driven this conversation

yoshuawuyts asks.

mikeal responds.
brianleroux responds.
My response.


DonutEspresso raises concerns.

My response.


rvagg asks as a part of this comment.

My wordy sorry response.




Why are modules like require'fspromise' not in scope for this discussion
phpnode RReverser mikeal ktrott and others I'm sure have brought this up and I've been pushing to have this conversation in a different later issue. The conversation has mainly revolved around consensus and the difficulty in attaining it when adding modules to the mix.

ktrott does an excellent job of summing up the concern.

My again wordy sorry response.




This is the original text of the PR. It does not reflect the current state of the conversation. See above for common themes
This PR introduces Core support for Promises. Where possible callbacks have
been made optional when omitted a Promise is returned. For some APIs like
http.get and crypto.randomBytes this approach is not feasible. In those
cases promisereturning Async versions have been added
crypto.randomBytesAsync. The naming there isn't set in stone but it's
based on how bluebird's promisifyAll
method generates names.
This PR allows users to swap the implementation of promises used by core.
This helps in a few dimensions

Folks that prefer a particular flavor of Promises for sugar methods can set
the promise implementation at applevel and forget about it.
This should alleviate concerns about stifling ecosystem creativity ?Çö putting
promises in Core doesn't mean Core needs to pick a winner.
Folks who prefer a faster implementation of promises can swap in their
preferred library folks who want to use whatever native debugging is added
at the V level for native promises can avoid swapping in promises.
A world of benchmarks opens up for Promise library authors ?Çö any code in the
ecosystem that uses promises generated by core and has a benchmarking suite
is a potential benchmark for promise libraries.

The API for swapping implementations is process.setPromiseImplementation.
It may be used many times however after the first time deprecation warnings
are logged with the origin of the first call. This way if a package misbehaves
and sets the implementation for an application it's easy to track down.
Example
process.setPromiseImplementationrequire'bluebird'

const fs require'fs'

fs.readFile'usrsharedictwords' 'utf'
 .thenwords console.logthere are words.split'\n'.length words
 .catcherr console.errorthere are no words
Streams are notably missing from this PR ?Çô promisifying streams is more
involved since the ecosystem already relies on a common and more importantly
often pinned definition of how that type works. Changing streams will take
effort and attention from the nodejsstreams WG. All other callbackexposing
modules and methods have been promisified or an alternative made available
though.
Three new internal modules have been added

libinternalpromises ?Çö tracks the original builtin Promise object as
well as the currently selected Promise implementation. All promises
created by Node are initially native and then passed to the selected
implementation's .resolve function to cast them.
libinternalpromisify ?Çö turn a callbackaccepting function into one that
accepts callbacks or generates promises. Errors thrown on the same tick
are still thrown not returned as rejected promises ?Çö in other words
programmer errors such as invalid encodings are still eagerly thrown.
libinternalcallbackify ?Çö turn a synchronous or promisereturning function
into a callbackaccepting function. This is only used in libreadline for
the completer functionality. This could probably fall off this PR but it
would be useful for subsequent changes to streams.

Breaking Changes

In general any API that would have thrown with no callback most likely does
not throw now.
fs APIs called without a callback will no longer crash the process with an
exception.
ChildProcesssend with no callback no longer returns Boolean instead
returns Promise that resolves when .send has completed.
Wrapped APIs

childprocess.ChildProcesssend
cluster.disconnect
dgram.Socketbind
dgram.Socketclose
dgram.Socketsend
dgram.Socketsendto
dns.lookupService
dns.lookup
dns.resolve
fs.access
fs.appendFile
fs.chmod
fs.chown
fs.close
fs.exists
fs.fchmod
fs.fchown
fs.fdatasync
fs.fstat
fs.fsync
fs.ftruncate
fs.futimes
fs.lchmod
fs.lchown
fs.link
fs.lstat
fs.mkdir
fs.open
fs.readFile
fs.readdir
fs.readlink
fs.realpath
fs.rename
fs.rmdir
fs.stat
fs.symlink
fs.unlink
fs.utimes
fs.writeFile
net.SocketsetTimeout
readline.Interfacequestion
repl.REPLServercomplete
zlib.deflateRaw
zlib.deflate
zlib.gunzip
zlib.gzip
zlib.inflateRaw
zlib.inflate
zlib.unzip



New APIs

process.setPromiseImplementation
net.connectAsync
tls.connectAsync
crypto.randomBytesAsync
crypto.pbkdfAsync
crypto.pseudoRandomBytesAsync
crypto.rngAsync
crypto.prngAsync
http.getAsync
https.getAsync
http.requestAsync
https.requestAsync
childprocess.execAsync
childprocess.execFileAsync

Next steps
I haven't finished this PR yet the primary missing piece is tests for the
promisebased APIs to ensure that they resolve to the correct values. Docs
also need updated. I'll be working on this in my free time over the next week.
Here are the bits that I'd like folks reading this to keep in mind

The code changes here are fairly cheap timewise ?Çö one evening's worth of work.

Technical possibility has never been the primary blocker.


We know asyncawait is coming down the pipe and many devs are interested in
it.

With ChakraCore potentially coming in this may happen sooner than anyone
previously imagined.
Even sans the ChakraCore PR it's my understanding that V will be supporting
asyncawait by EOY Correct me if I'm wrong here


Promises may not be your cup of tea. This is okay. This is not an attempt to
replace callbacks or streams with promises. They can coexist. While Promises
are complicated much of that complication falls out of the problem space that
both callbacks and promises abstract over. Give this a fair shake.";1
49;LICENSE update from dependencies;"Changes in licensebuilder.sh and LICENSE resulting from that.

Update libuv license they changed it upstream
Update vinspector license their license file was removed from tree when it was reorganised pulling from file header now
Reorder LICENSE file to put vinspector along with the runtime components and its build components down with the rest of the build components this is how it should have been in the first place";update licenses and remove vinspector deps license;"made Node.js use the V
inspector bundled with the depsv and removed the third party
dependency. We can safely omit the nonexistent license file.
Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems";1
50;tls fix session resumption check;"Before checking server's identity call to OpenSSL internals to ensure
that the session was not reused. In such case certificate is going to
be empty and validation will crash.
Fix 
P.S.
This is introducing big thing as a part of commit which should probably be eventually exposed to userland.
cc nodejscrypto";Adding an extra check for cert.subject before assuming it is there.;"One of my long running node services started giving out a TLS error without very much detail overnight
 TypeError Cannot read property 'CN' of undefined
 at Object.checkServerIdentity tls.js
 at TLSSocket.anonymous tlswrap.js
 at emitNone events.js
 at TLSSocket.emit events.js
 at TLSSocket.finishInit tlswrap.js

I tracked it down to the line
 reason util.format'Host s is not cert\'s CN s'
 host
 cert.subject.CN

which assumes cert.subject is available.
I don't really know what is causing this and I can't tell which domain is causing this so I probably won't be able to recreate this locally to verify it's still working but I think it is at least sensible to use defensive programming in this instance.
I would ideally like to back port this to the ..x branch but I couldn't find the head of that branch can someone tell me which branch is currently the ..x head
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
51;doc fix minor style issue in code examples;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc
Description of change

I've noticed that a few of the code examples have an minor indentation
issue with the first line for example
httpsnodejs.orgapichildprocess.htmlchildprocesschildprocess
This commit attempt to fix this issue by using the suggestion provided
by Brain White which is to add a separate style for code with a
paddingright and paddingleft of .em.
Fixes";doc Add padding to pre code;"Checklist

 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
doc
Description of change

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
52;doc fix anchor links from stream to HTTP;No description provided.;doc fix anchor links from stream to http and events;"A couple of anchor links from stream to http and events sites were broken. I checked all other links in httpsnodejs.orgapistream.html they are all ok now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
53;deps upgrade to npm ..;"Hiii
This PR includes two releases

httpsgithub.comnpmnpmreleasestagv..
httpsgithub.comnpmnpmreleasestagv..

The main thing to note is a hopefully welcome update to our licensing to clarify scope of both the open source side and the registry TOS. There's a further clarification coming later this week so we're not done with that bit yet so keep an eye out for v...
This PR supersedes but have a looksee over there for some discussion. That PR should be closeable though. was closed because I made it against the wrong branch. Sorry about that. 
r jasnell
r Fishrock
r chrisdickinson
r thealphanerd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";deps upgrade npm to ..;"This is the big one After this I anticipate getting back into a weekly cadence of upstreaming things to Node.js.
Contains the changes in these releases

Notable inclusions are

The clarified split between Terms of Service and the CLI's own license see the discussion in httpsgithub.comnpmnpmreleasestagv.. and for more context.
Several important changes to how edge cases involving bundleDependencies are handled.
Tests don't implode when running under a node prerelease.
You also only get one warning now about using a prerelease version rather than dozens and dozens from failed engine checks.
A handful of minor new user affordances in ..?Çô in particular npm outdated reports linked modules npm version can now take fromgit as an argument.
";1
54;build remove quiet from eslint invocation;"Pull Request checklist
Please make sure to review and check all of these items

 Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included
 Is a documentation update included if this change modifies
existing APIs or introduces new ones

NOTE these things are not required to open a PR and can be done
afterwards while the PR is open.
Affected core subsystems
Please provide affected core subsystems like buffer cluster crypto etc

build

Description of change
Please provide a description of the change here.
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removed quiet from eslint invocation;"Removed quiet flag from Makefile and vcbuild. That flag causes eslint to only report lint errors and not lint warnings. This is unnecessary as all rules are configured to report as errors. None of the rules are configured to report as warnings.
fixes";1
55;net Fixing error message;"When I was trying to understand the problem in I found out that we show error messages like this
Error connect EMFILE ... Local undefinedundefined

It is because we ran out of file descriptors and we don't have a valid socket. So if the return value of getsockname doesn't have valid address and port properties we just don't include them in the error message.

The problem can be reproduced with the following code
var net require'net'

 Server
net.createServer.listen function 
 console.log'server bound'


console.log'Launched'

 Connect to server
for var i i i 
 net.connect
 port 
 


cc bnoordhuis";net fix todo by propogating errors;"bnoordhuis I fixed the todo comments and made some changes. Please have a look and let me know if you want them amended
 
 
 
 
 
 

 The text was updated successfully but these errors were en";1
56;WIP events optimize emit;"EventEmitteremit can be called with many different arguments but
there are a few that are most common. Increase performance by optimizing
those most common cases. It also drastically decreases the amount of
output from tracedeopt.
This is a hyper optimization and will probably on save ns or so at actual runtime. One thing I find most advantageous is that tracedeopt will show far less output.
There is still plenty that I would like to do. For example implement a sort of IC in JS that will preempt what will be called. Would like feedback during development. Also one of the message tests is failing because of the change in the call stack. Will take care of that before WIP is removed.
Rindutny";events optimize various functions;"Cache events and listeners objects where possible and loop over
Object.keys instead of using for..in. These changes alone give
 improvement in the eeaddremove benchmark.
The swapping out of the util type checking functions with inline
checking gives another improvement.";1
57;Revert recent contextify changes;"This reverts 
Refs 
R ofrobots evanlucas
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";contextify tie lifetimes of context sandbox;"Pull Request checklist

 Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included

Affected core subsystems
contextify
Description of change
When the previous set of changes bfffb it was possible to have the
context get garbage collected while sandbox was still live. We need to
tie the lifetime of the context to the lifetime of the sandbox.
Fixes 
Rbnoordhuis
cc evanlucas cjihrig
Note that this is not trivially backportable to .x. SetPrivate doesn't exist on .x but I can create a new PR once this lands on master. This does continue to address the memory growth issue reported in but we should get this vetted before backporting.
CI httpsci.nodejs.orgjobnodetestpullrequest";1
58;test refactor the code in testutildebug.js;"use const and let instead of var
use assert.strictEqual instead of assert.equal


Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
test
Description

use const and let instead of var
use assert.strictEqual instead of assert.equal";test improve the code in testutildebug.js;"use const and let instead of var
use assert.strictEqual instead of assert.equal
use arrow functions

Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
test
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
59;src fix Wunusedfunction warning;"Reugeneo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";src remove unused function;"Checklist

 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems

src

Description of change
Remove an unused function.
CI httpsci.nodejs.orgjobnodetestpullrequest
cc nodejsvinspector";1
60;tools suggest python command in configure;"Checklist

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
tools
As suggested by jbergstroem this text should be helpful to people on systems where python is python. Will print
Please use either Python . or .
You can try using a different interpreter like this

 PYTHONusrbinpython .configure

Ref comment";build depend on python specifically;"This solves the problem of not being able to build node on system
where both python and python is installed and python is the
default.
Checklist

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
build system
...i will send patches for dep and tools to their respective upstream but this solves the problem for the node part.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
61;src do not join an uninitialized thread;"A uvthreadtpthreadt cannot be initialized to an explicitly invalid
value access to it must be guarded by some state tracking.
Attempt to fix
 CID Uninitialized members UNINITCTOR
srcinspectorio.cc in nodeinspectorInspectorIoInspectorIonodeEnvironment vPlatform const stdbasicstringchar stdchartraitschar stdallocatorchar const nodeDebugOptions 
 platformplatform dispatchingmessagesfalse
 sessionid scriptnamepath 
 CHECKEQ uvasyncinitenveventloop mainthreadreq
 InspectorIoMainThreadAsyncCb
 uvunrefreinterpretcastuvhandletmainthreadreq
 CHECKEQ uvseminitstartsem 
 CID Uninitialized members UNINITCTOR
 Nonstatic class member thread is not initialized in this constructor nor in any functions that it calls.
 

 bool InspectorIoStart 
 CHECKEQuvthreadcreatethread InspectorIoThreadCbIO this 
 uvsemwaitstartsem


Though I may need some lint markup as well.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
src

to bnoordhuis eugeneo";inspector fix process.debugEnd for inspector;"This change ensures that the WebSocket server can be stopped
and restarted if needed buy calling process.debugEnd.
Fixes 

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
inspector fixes around WS server stopping and restarting.";1
62;fix compile bug in vlookup.h;"Fixed a small error that manifests when debug is specified. Seems to be fixed in .x when v was pulled from upstream.
Sorry if this is the wrong branch but it doesn't apply to master as this is for the .x series.
Checklist


x make j test UNIX or vcbuild test Windows passes
x commit message follows commit guidelines

Affected core subsystems
build";Update lookup.h;"fix compile error

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems";1
63;src fix line numbers on core errors;"In dfeee the module wrapper and line offset used when wrapping module code was changed to better report errors on the first line of modules. However that commit did not update the runInThisContext call used to execute the core modules so their error line numbers have been off by one. This commit provides the correct lineOffset for core modules.
Refs";node NativeModule should set lineOffset to;"Because we basically wrap the NativeModule this fixes the
error stack printed by native module like
events.js
 throw er Unhandled 'error' event

But the correct line number should be here that's because we used as lineOffset in calling ScriptContextify but using the default for natives.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
64;buffer add indexOflastIndexOf method;Expanded on srijs code to add a Buffer.prototype.lastIndexOf. I used a strategy of divideconquer but since I'm a total c idiot I have no idea whether there is a better way some reverse memcmp variant. Also I rebased both srijs and these commits against v. hoping it would make it out sooner;buffer add indexOf method;"Add BufferindexOf. Support strings numbers and other Buffers. This
is more support than StringindexOf gives but the increased
versatility should be helpful.
Special thanks to Sam Rijs for first proposing this
change.
Rbnoordhuis
This is a rehash of . Done this way so future support can include regexp's and arrays.";1
65;test add crypto's setEngine test;"Add tests for crypto.setEngine.
httpsgithub.comnodejsnodeblobmasterlibcrypto.jsL
There is not a normal test because I did not have an idea that how to designate the enginepath or id in the test '
errorDSO support routinesDLFCNLOADcould not load the shared library

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems

test
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test improve crypto.setEngine coverage to check for errors;"test improve crypto.setEngine test coverage to check for errors
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
NA";1
66;doc removed old git conflict markers form fs.md;"Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

Description of change

docapifs.md file had some conflict markers like HEAD that are visible at the bottom of httpsnodejs.orgapifs.html
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Propose v..;"Checklist


 documentation is changed or added

Affected core subsystems

na
Description of change

Removed apparent leftover text from a merge error at the very end of fs.md. HEAD dcccbfd... src refactor require'constants'";1
67;doc fix timout typo in timeout;"Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

None
Description of change

Corrected doc typo to timeout
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc Added missing e to timeout;"Checklist

 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc

Description of change
The timers documentation specifically in timeout.unref spelled timeout as timout twice so I edited the document to correct the spelling.";1
68;Android support;"Pull Request checklist
Please make sure to review and check all of these items

 Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
I have one test failing testhttpcurlchunkproblem but this test also fails on a clean master branch so it's not because of my patches
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included
 Is a documentation update included if this change modifies
existing APIs or introduces new ones

Affected core subsystems
build
Description of change
The provided patches add support for building node for Android systems Brillo is also supported. This include building node with both NDK building node outside of Android build system and Bionic building node inside Android build system.
Building node with Bionic inside an AndroidBrillo build system is useful mostly for vendors who wants to include node in their products.
In order to successfully build node with Bionic I have another patch inside libuv but I will submit that patch directly to libuv.";buildandroid Added option to compile for Android with fPIE flag;"Description of change
Hi
Node for Android wasn't executable using the actual androidconfigure file. I made this PR using kikijhu proposition and it builds fine on Linux see .
The created executable is PIE and thus working on Android L M both tested.
I welcome any improvement you can make to this PR.";1
69;assert enforce type check in deepStrictEqual;"For a writeup on this PR see comment
The lessbreaking part of this PR has been moved to 

Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems

assert test
Description of change

Add checks for the builtin tags and refactor deepEqual
most userland modules do this for a strict deep comparison.
nodejsnodev.xarchive already added
this check for argument objects even in nonstrict tests.
Fixes .
Docs updates are postponed due to .
See httpstc.github.ioecmasecobject.prototype.tostring
for a partial list of the tags.";assert update comments;"Remove the numbers from the comments to make it clear that
assert does not follow the
CJS spec.
Additionally clean up the existing comments for consistent
formattinglanguage and ease of reading.
Fixes 

Checklist

Apologies in advance for this but I've been trying to run the following tests on my machine and keep seeing the same two tests time out. Any guidance on how I might be able to run them locally would be greatly appreciated This PR only affects JS comments and I was able to run make lint successfully.

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems

assert though only comments have been changed";1
70;errors console migrate to use internalerrors.js;"Migrate libconsole.js to use internalerrors.js.
Refs 
cc jasnell

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

errors console";errors migrate libconsole;"Migrate console.js to use internalerrors.js.
Refs 
cc jasnell
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems";1
71;buffer Added Bufferincludes to keep parity with TypedArray.;"Simply adds Buffer.prototype.includes by wrapping an indexOf and
performing a strict equals check to .
The includes method takes the search value byteOffset and
encoding as arguments.
The test is a modified version of the indexOf test.
Addresses .";buffer Add Bufferincludes;"Ref 
This adds an includes method to buffer bypassing future implementations from V.
includes wraps around buffer's indexOf method.";1
72;test use dynamic port in testclusterdgramreuse;"Use of common.PORT in parallel tests is not completely safe because
the same port can be previously assigned to another test running in
parallel if that test uses port to get an arbitrary available port.
Remove common.PORT from testclusterdgramreuse.
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
test cluster";test replace port in cluster dgram reuse test;"Replaced common.PORT with zero in the following test.
testclusterdgramreuse.js
Refs 

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems

test";1
73;doc add timer classes;"Checklist

 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems
doc
Description of change
The timers returned by setTimeout and friends are actually instances
of Timeout and Immediate. Documenting them as such so that the
ref and unref methods can be identified as methods on Timeout
objects.
Sparked by discussion in w Fishrock";doc general improvements to timers.md;"Checklist

 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems
doc timers
Description of change
General improvements to timers.md copy
nodejsdocumentation";1
74;fs fix fd leak in ReadStream.destroy;"this is a file descriptor leak PR that was opened in joyentnode for a while but had no traction. please pull this or give us directions on the tests
nodejsnodev.xarchive
cc rlidwka dougwilson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fs fix fd leak on early readstream destroy;"Currently the following leaks a file descriptor
var fs require'fs'

var rs fs.createReadStream'myfile.txt'

rs.on'close' function 
 console.log'i am never fired'


rs.destroy
In fact if you call rs.destroy before open has been emitted in general the read stream never closes.
This PR fixes that by calling .close when the file descriptor is opened incase the stream has been destroyed in the meanwhile";1
75;inspector wait for both sides closing;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
Inspector test no runtime changes.
Description of change
Removes race condition when test relied on both sides of the socket
to be closed on the same UV event loop iteration.
Fixes";test remove socket from testinspectorsocket;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

test
Description of change

What is socket where did it came from We don't know.
On a more serious note socket is function from syssocket.h. There
is no way casting it to structure could yield any useful results.
R nodejsv
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
76;crypto ecdh generate public key when setting private key and more;"crypto ecdh updates to support using previously known private keys

generate public key when setting private key
remove generated checks from getters
added tests
updated docs
check the key pair before computing the secret to avoid computing a garbage shared secret
added ECDH.validKeyPair
marked ECDH.setPublicKey as deprecated

This pull request shares many similarities with .
I decided not to add the public key generation as a separate method like was proposed in .
Rather I made it part of setting the private key.
I liked this way more because then it leaves two main ways to use the class. Either generate the keys or set the private key then compute the shared secret.
Originally I started looking at this code because the following error was annoying and unnecessary and is why I removed the generated member from ECDH
 node p require'crypto'.createECDH'secpk'.setPrivateKeynew Buffer'' 'hex'.getPublicKey
 crypto.js
 var key this.handle.getPublicKeyf
 

 Error You should generate ECDH keys first
 at Error native
 at ECDH.getPublicKey crypto.js";crypto add generatePublicKey to ECDH fix corner cases;"This is rebased against master and with the nits fixed up.
From original PR

ECDH.generatePublicKey can get the public key using the curve
and private key. This allows usage of the crypto module where
a developer imports a private key and then generates a public
key without needing it stored.
Removed the generated boolean from the ECDH class and stopped
checking for it with getPrivateKey and getPublicKey. This
allows you to import public and private keys without having to
generate first which would just rewrite the generated keys
regardless.
An error message was changed to accurately reflect what the error
was.";1
77;meta move code of conduct to it's own file;"Currently the code of conduct exists but it is somewhat hidden in
CONTRIBUTING.md
This PR creates CODEOFCONDUCT.md that contains the copy originally
found in CONTRIBUTING.md
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";improve discovery of CoC;"as we all know many do not read CONTRIBUTING.md. given that the COC was buried at the bottom of that i figured that moving the COC to a top level file and then mentioning it in both the README.md and the CONTRIBUTING.md would make it hard to miss ?ÿë

move CoC from CONTRIBUTING to toplevel separate COC file
add notelink in CONTRIBUTING
add notelink in README both at beginning and in newcomer resources";1
78;test skip testpreload on AIX;"Checklist


 tests and code linting passes
 the commit message follows commit guidelines

Affected core subsystems

test
Description of change

Refs comment
Fixes 
cc bmeck mhdawson
Maybe we should be changing this to only skip the stdin part of the test It seems like that is the bit causing issues
CI httpsci.nodejs.orgjobnodetestpullrequest";test fix flaky testpreload;"Checklist


 tests and code linting passes
 the commit message follows commit guidelines

Affected core subsystems

test
Description of change

Use close event rather than exit event to make sure all output has
been received before checking assertions.
Fixes 
cc Fishrock mhdawson
ht santigimeno
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
79;test make cluster test more time tolerant on more platforms;"The problem
nodejsnodev.xarchiveffe
resolves also affects Alpine Linux musl libc so use increased timeout
for all platforms and not only for AIX.";test avoid testclustermasterkill flakiness;"Checklist


 tests and code linting passes
 a test andor benchmark is included
 the commit message follows commit guidelines

Affected core subsystems
test cluster
Description of change

I've observed that testclustermasterkill fails intermittently on an AIX . machine oslevel due to timeout before worker termination. There was a previous PR nodejsnodev.xarchive which arbitrarily increased the timeout for AIX to second however this value is still a guess and appears to be insufficient. It's also worth noting the arbitrary timeouts have also caused problems for other platforms see comment. Arbitrary timeouts cannot compensate for external factors such as system load.
In this PR I propose removing the timeout mechanism entirely here is how the test currently works

Fork a master process from the test harness.
The master uses cluster.fork to create a worker.
The worker starts an HTTP server.
The master will kill itself with process.exit.
The worker will then also call process.exit as part of its IPC pipe disconnect handler. 
The test harness will wait an arbitrary amount of time after the master's exit to check for the child's liveness if it is still alive the test fails.

 Without this mechanism the worker would become an orphan child of init.
Step is inherently flaky. The test was originally added as part of nodejsnodev.xarchivededifffaafcddeebbcdcR where it specifically tested the new disconnect pathway.
The test boils down to the following actions

Cause the worker's disconnect handler to be run by calling exit in the cluster master.
Insure that the disconnect handler also exits the worker process.

Since step does not actually require step I propose the following alternate flow

Fork a master process from the test harness.
The master uses cluster.fork to create a worker.
The worker starts an HTTP server.
The master kills the IPC pipe note this not the same as using the graceful cluster shutdown API in nodejsnodev.xarchivecc which causes the child to disconnect itself. Ungracefully closing the IPC pipe causes the child to execute the same disconnect handler it executes when the master calls exit.
The master waits for the child's exit event.
The test harness checks for the child's liveness after the master's exit event.

With this setup there is no need for the arbitrary wait time. The obvious problem is if the child never exits the test will hang however in that case the test will still be killed by the test harness's global timeout.
I do believe a timeout mechanism is useful for detecting liveness issues but the presence of arbitrary timeouts in the tests themselves should be minimized the single timeout in the test harness suffices.
Any comments are appreciated especially from AndreasMadsen.";1
80;doc fix inconsistencies in code examples;"This is essentially the same as my other pull request with a few more additions. Sorry about opening multiple I somehow really messed it with the rebasing there so I closed it.
Checklist

 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
doc
Description of change
Added missing semicolons braces and fixed indentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc typo added missing semicolons;"Description of change
Added missing semicolons to some missing places on the assert.mardown";1
81;Revert module preserve symlinks when requiring;"After much discussion it seems that the change
broke the way require detects unique identity of
the binary modules. While resolving module's
full path is not sufficient and maybe even
not elegant like anything that requires the use
of realpath except for certain security scenarios
we cannot break multiple inclusions of binary
modules across symlinked substed or otherwise
hidden paths.
There should be a test case invoving a binary
module to check for issues related to the binary
module identity.
Revert 
This reverts commit dedca.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";module add preservesymlinks command line flag;"Checklist

 tests and code linting passes
 a test andor benchmark is included
 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems
module
Description of change
 sought to address a bug in the module loader with regards to symlinked peer dependencies. The PR passed CITGM and CI on multiple runs and was landed as a semvermajor in v. Unfortunately it came to light after that the change breaks a number of other cases.
This reverts the change and adds two additional test cases one for the original behavior and a knownissue test for the symlinked peer dependency case.
This puts the new functionality behind the preservesymlinks command line flag. The prev behavior is the default. Using the preservesymlinks command line option will make Node.js use the new behavior.
This should be considered to be a temporary solution until a better fix for the symlinked peer dependencies problem is figured out.
Refs";1
82;net return if not connecting;"Fixes regression introduced in affa.
With connect being deferred to the next tick Socket.destroy could be
called before connect. Socket.destroy sets connecting to false which
would cause an assertion error.
Fixes";net don't throw when socket is destroyed;Closes;1
83;deps upgrade npm to ..;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems


deps

Description of change

Hey y'all was created a while back to track stuff surrounding this release and I think it's a good decision to wait to do a minor bump later rather than rush this release out in any way. Thanks a bunch for your patience
As you can see this is a semvermajor bump for npm. That said the actual impact of the release to the ecosystem is relatively small. Most certainly much smaller in impact than npm was. We're still sniffing out a couple of issues and might even put together an npm.. soon to iron that out before npm becomes latest.
THIS IS NOT A FINAL RELEASE as mentioned in this is a preview of npm so y'all can start testing and taking a look at changes and make sure everything looks good before considering including it with official node releases.
One more note With the release of npm we've decided to move both npm and npm to maintenance that means we're unlikely to continue adding features to either of those but will include critical patches specially security patches if something comes up. Regular bugfixes will not be done as it's much better for our team to be able to focus on the latest release which we're standing behind. As far as Node Core is concerned though npm continues what we consider to be a sort of LTS release for y'all's sake. Maintenance doesn't mean it's no longer maintained and users should continue to have a working experience with npm until node leaves LTS. npm.. which I'll be downstreaming soon might end up being our last npm release.
So without further ado npm
Breaking Changes

npm search rewritten to stream results and no longer supports sorting.
npm scripts no longer prepend the path of the node executable used to run npm before running scripts. A scriptsprependnodepath option has been added to configure this behavior. cc addaleax
prepublish has been deprecated replaced by prepare. A prepublishOnly script has been temporarily added which will only run on npm publish. NOTE This change only affects users publishing new versions of their packages and developers installing through git and local deps. Registry installs should be mostly unaffected by this change.
npm outdated exits with exit code if it finds any outdated packages. cc watilde
npm tag has been removed after a deprecation cycle. Use npm disttag.
Partial shrinkwraps are no longer supported. npmshrinkwrap.json is considered a complete installation manifest except for devDependencies. This will affect certain projects that relied heavily on this feature most notably hapi.
devDependencies are now included in npmshrinkwrap.json by default. This should make the transition to npm easier.

Other Notable Changes

npm now sends two extra http headers to the registry npmnpm

NpmInCI whether npm was run within a Continuous Integration environment.
NpmScope the scope of the toplevel package this installation is for. For example if you have a nodefoo package all dependency requests for that package will include node in the header even if those dependencies themselves are not scoped or are for a different scope.



Changelogs

v..
v..
v..

r Fishrock
r addaleax
r jasnell";deps upgrade npm to ..;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems


deps

Description of change

Breaking changes

Partial shrinkwraps are no longer supported. npmshrinkwrap.json is
considered a complete installation manifest except for devDependencies.
npm shrinkwrap includes development dependencies by default. You can avoid doing this with npm shrinkwrap onlyprod. Likewise if your shrinkwrap contains dev dependencies you can avoid installing them with npm install onlyprod or setting NODEENV to production.
prepublish has been deprecated replaced by prepare. A prepublishOnly
script has been temporarily added which will only run on npm publish.
npm search rewritten to stream results and no longer supports sorting.
npm scripts no longer prepend the path of the node executable used to run
npm before running scripts. A scriptsprependnodepath option has been
added to configure this behavior.
npat has been removed.
npm outdated exits with exit code if it finds any outdated packages.
npm tag has been removed after a deprecation cycle. Use npm disttag.

Other notable changes

npm will now send NpmInCI and NpmScope headers to registries when fetching modules. The former will allow registries to more accurately distinguish between CI and user traffic. The latter will allow registries to implement features on the basis of the scope of the project rather than the module actually being installed.

Changelogs

v..
v..
v..

r jasnell
r Fishrock";1
84;test fix lint error regarding unused commons const;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems

test
Description of change
Currently make lint is failing with the following error
 error 'common' is assigned a value but never used nounusedvars
?£û problem error warnings";test fix minor streamwritableState linter error;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems

test
Description of change

A minor linter error was introduced in a recent commit.
UsersgibwrkcomDANGERnodetestparallelteststreamwritableStateending.js
 error 'common' is assigned a value but never used nounusedvars
Refs 
cc mcollina";1
85;build make buildaddons execute parallel;"Currently the building of addons and addonsnapi are done sequentially
but could be done in parallel which this commit tries to address.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems

build
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test build test addons like thirdparty addons;"Until now we built addons by pointing nodegyp at the src directory.
We've had at least one DOA release where addons were broken because of
a header dependency issue that wasn't caught because we build our test
addons in a nonstandard way.
This commit does the following

Use toolsinstall.py to install the headers to testaddonsinclude.
Add a script to build everything in testaddons.
Remove the pileup of hacks from the Makefile.

The same logic is applied to testaddonsnapi and testgc.
Everything is done in parallel as much as possible to speed up builds.
Ideally we derive the level of parallelism from MAKEFLAGS but it lacks
the actual jn flag. That's why it simply spawns as many processes
as there are processors for now.
The exception is toolsdocaddonverify.js I switched it to synchronous
logic to make it easy to use from another script. Since it takes no time
at all to do its work that seemed like a reasonable tradeoff to me.
Refs 
CI httpsci.nodejs.orgjobnodetestpullrequest";1
86;v forward compatibility to current V master;"As discussed in nodejsCTC we are aiming for a upgrade to V . in the Node .x lifecycle. Therefore it makes sense to apply changes that are semvermajor because they break the API or ABI before that upgrade actually happens.
Changes that are marked deps are cherrypicks the rest is manual work and needs review.
This is a bit WIP because I?ÇÖm still compiling to see if everything works out. 
CI httpsci.nodejs.orgjobnodetestcommit
CI httpsci.nodejs.orgjobnodetestcommit
CI httpsci.nodejs.orgjobnodetestcommit
V CI httpsci.nodejs.orgjobnodetestcommitvlinux
V CI httpsci.nodejs.orgjobnodetestcommitvlinux
V CI httpsci.nodejs.orgjobnodetestcommitvlinux
V CI httpsci.nodejs.orgjobnodetestcommitvlinux
V CI httpsci.nodejs.orgjobnodetestcommitvlinux
CITGM httpsci.nodejs.orgviewNode.jscitgmjobcitgmsmoker
CITGM on master for comparison httpsci.nodejs.orgviewNode.jscitgmjobcitgmsmoker
nodejsv targos jasnell
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines
 figure out whether to do anything about removed command line flags

Affected core subsystems
depsv";Patch V API to be ABI compatible with v..;"This is a patch to make V . ABI compatible with V .
I did not include a patch to bump the NODEMODULES version. Do we plan to bump it for each ABI change prior to release
VCI httpsci.nodejs.orgjobnodetestcommitvlinux
CI httpsci.nodejs.orgjobnodetestpullrequest";1
87;test fix debugportcluster flakiness;"The test was assuming that the all workers are running text was received
by the parent process in a separate chunk from the other texts. This might
not always be the case causing the test never reaches the exit condition.
Fix it by checking every line received.
This test was timing out from time to time in OS X. To check what the problem was I added the index
of the lines array into the log and could verify what I described before
usrbinpython toolstest.py moderelease message parallel sequential J
 release testdebugportcluster 
Path paralleltestdebugportcluster
 Debugger listening on port 
 Debugger listening on port 
 Debugger listening on port 
 all workers are running
Command outReleasenode Userssgimenonodenodetestparalleltestdebugportcluster.js
 TIMEOUT";test fix debugportcluster flakiness;"Rewrite the test so that stderr reordering of the child processes won't
confuse the test's expectations.
CI httpsci.nodejs.orgjobnodetestpullrequest";1
88;Add arrow function rules to eslint;"This PR enforces the following linting rules

arrowparens requires parens around arrow function arguments
arrowspacing ensures a space on each side of the 
noarrowcondition prevents accidental use of in cases
where the user really intends to use 

The only code that violated these rules existed in the test directory.
R rvagg";Code style alwaysparens for arrow functions;"Continuing on from here. While singleargument arrow functions allow you to drop parens it doesn't mean you should. Personally I find these too terse and make code harder to visually parse. I know I'm not alone on this but I'm happy to hear from others who feel strongly about dropping parens in this case.
Note our codebase isn't consistent on this there's lots of singlearg arrow functions with parens already.
cc nodejscollaborators cause of the impact";1
89;doc Deprecate old debug protocol;"Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc
Description of change

As discussed in we'd want to add a soft deprecation of the debug flag to the docs.
This just adds the deprecation to the advanced usage section not to the overall page. I think we can actually keep supporting node debug filename since it doesn't leak the protocol used as pid and url do both of which could have been started with a different version of node.";doc replace newlines in deprecation with space;"As it is each line in the deprecation heading which are wrapped at 
characters in the .md files are shown in different lines. For example
 Stability Deprecated Use
 Buffer.fromarrayBuffer byteOffset length
 instead.

is shown in three different lines. This patch replaces the newlines
with space characters so that the output will be in single line.

Before this patch
httpsnodejs.orgapibuffer.htmlbuffernewbufferarraybufferbyteoffsetlength

After this patch


Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
tools

cc nodejsdocumentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
90;srctools speed up startup by .;"Use zerocopy external string resources for storing the builtin JS
source code. Saves a few hundred kilobyte of memory and consistently
speeds up benchmarkmiscstartup.js by ..
Everything old is new again Commit ce Add string class that
uses ExternalAsciiStringResource. from did the same thing but
I removed that in in commit ba src don't use NewExternal
with unaligned strings because of a limitation in the V API.
V no longer requires that strings are aligned if they are onebyte
strings so it should be safe to reenable external strings again.
CI httpsci.nodejs.orgjobnodetestpullrequest";build reduces unused jsc.py code;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

build
Description of change

Just for housekeeping and less confusion we could get rid of unused code in jsc.py. I didn't see any use of those parts at least and can originate it back to commit acd
I dug into this part of the build process and wanted to rewrite jsc.py in JS which is fairly trivial now as opposed to . But those parts are just not necessary pending CI.";1
91;resolve failopen scenario with fs nullCheck;Solves;fs fail closed on nullcheck;Changes nullCheck from a failopen validation to a failclosed re issue;1
92;doc update AUTHORS list;"Update AUTHORS list using toolsupdateauthors.sh
Includes modifications to .mailmap
Adds new contributors.
I've replaced all of the nonsense email addresses mainly noreply.github with user too.
Contributors nontrivially impacted by this change please see how .mailmap changes are impacting your entry and speak up if there is a problem.
shigeki
ronkorving
aviedo
Havvy
fundon
pmq
zbjornson
saadq
New contributors without full names. It's not a strict requirement that we have real names for everyone you're free to leave your entry in AUTHORS as it is here however having more information may assist us in the future on the legal side. e.g. if we were to attempt to change license. If you'd like your entry updated please let me know and I'll add a .mailmap entry for you to insert a new name.
Alexis
atstojanov
Ltrlg
RachBLondon
pmatzavin
rainabba
mpmckenna
nohmapp
fene
larissayvette
jessicaquynh
soleboxy
marzelin
DeverickSimpson
anu
jseagull
New contributors with no full name or email address. You're welcome to keep your entry blank but if you could provide more information about yourself including full name andor contact address it would be appreciated. Let me know.
oogz
ssever
AnnaMag
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update AUTHORS list to reflect new contributions.;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

Update the AUTHORS list.
Fixes 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
93;querystring avoid conflicts with Object.prototype and proto;"Currently the literal returned object is swallowing all
methods and properties inherited from the Object.prototype.
This includes the proto special case and this PR
aim is to fix all these inherited properties at once
using the in operator before checking the array of
known keys.
This PR has been previously described and tested in 
and it has been made from scratch to avoid confusion.
The benchmark shows overall out of tests are up to 
faster and one test the worst case scenario with many pairs
slower between and than before.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";querystring allow querystring parse to handle proto;"Pull Request checklist

 Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included

Affected core subsystems
querystring
Description of change
Per using querystring.parse to parse 'abproto' causes the proto to be swallowed and ignored. This works around the limitation by temporarily setting the prototype of the parsed obj to null during the parse then setting it back before returning.
The rest of the existing implementation remains the same.
Fixes 
cc mscdex WebReflection
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
94;module prioritize current directory for local lookup;"Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included
 Is a documentation update included if this change modifies
existing APIs or introduces new ones

Affected core subsystems
module test
Description of change
This fixes an issue reported in about module in nodemodules being preferred over a local file with the same name when resolved in repl or eval mode. The bug originates from the fact that Module.resolveLookupPaths puts nodemodules before the current directory when run from repl or eval.
Previous results from Module.resolveLookupPaths'.lodash'
 '.lodash'
 'UsersphillipjDevrepllookuptestnodemodules'
 'UsersphillipjDevnodemodules'
 'Usersphillipjnodemodules'
 'Usersnodemodules'
 'nodemodules'
 '.'
 'Usersphillipj.nodemodules'
 'Usersphillipj.nodelibraries'
 'UsersphillipjDevnodeoutlibnode' 
Fixed results from Module.resolveLookupPaths'.lodash'
 '.lodash'
 '.'
 'UsersphillipjDevrepllookuptestnodemodules'
 'UsersphillipjDevnodemodules'
 'Usersphillipjnodemodules'
 'Usersnodemodules'
 'nodemodules'
 'Usersphillipj.nodemodules'
 'Usersphillipj.nodelibraries'
 'UsersphillipjDevnodeoutlibnode'";module the nodemodules paths always should be placed below the current directory;"Pull Request checklist
Please make sure to review and check all of these items

 Does make j test UNIX or vcbuild test nosign Windows pass with
this change including linting
 Is the commit message formatted according to CONTRIBUTING.md
 If this change fixes a bug or a performance problem is a regression
test or a benchmark included
 Is a documentation update included if this change modifies
existing APIs or introduces new ones

NOTE these things are not required to open a PR and can be done
afterwards while the PR is open.
Affected core subsystems
repl
Description of change
Fix . The result of the requiremodule.resolveLookupPaths'.' in repl
Before
 '.'
 'UserswatildeDevelopmenttmprepronodemodules'
 'UserswatildeDevelopmenttmpnodemodules'
 'UserswatildeDevelopmentnodemodules'
 'Userswatildenodemodules'
 'Usersnodemodules'
 'nodemodules'
 '.'
 'Userswatilde.nodemodules'
 'Userswatilde.nodelibraries'
 'Userswatilde.nodebrewnodev..libnode' 

After
 '.'
 'UserswatildeDevelopmenttmprepro'
 'UserswatildeDevelopmenttmprepronodemodules'
 'UserswatildeDevelopmenttmpnodemodules'
 'UserswatildeDevelopmentnodemodules'
 'Userswatildenodemodules'
 'Usersnodemodules'
 'nodemodules'
 'Userswatilde.nodemodules'
 'Userswatilde.nodelibraries'
 'UserswatildeDevelopmentnodeoutlibnode' 

will update testparalleltestrepl.js
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
95;doc Update CONTRIBUTING.md with backport info;"Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc
Description of change

Add information on getting fixes into the LTS releases and also
some information on what is needed for getting fixes to dependencies
back into the Node.js codebase.
While the top level CONTRIBUTING.md is great for people contributing into the master branch it's not so clear on the process for getting changes into the current and LTS releases. This PR has some proposed additions to describe the process that contributors should know about and what they may have to do to get their fixes back into the LTS releases after they have got them into master.";doc add guide for backporting PRs;"This guide should help answer questions for contributors
that are not familiar with the backport process.

Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc";1
96;util Add format for SharedArrayBuffer;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems

util
Description of change

SharedArrayBuffer is a new global object to share memories between workers.
Currently workers does not work in node but future v has those new global objects.
This change supports a format for SharedArrayBuffer.
Note this PR is from codeandlearn
nodejscodeandlearn comment";util support SharedArrayBuffer in inspect;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

util
Description of change

Update inspect utility to support readable output of SharedArrayBuffer object. SharedArrayBuffer is available behind the harmonysharedarraybuffer v flag. See the MDN docs for more details on what a SharedArrayBuffer is.";1
97;inspector fix request path nullptr dereference;"Reugeneo cc ofrobots
CI httpsci.nodejs.orgjobnodetestpullrequest";inspector do not dereference null pointer;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems
inspector just a minor bugfix
Description of change

This issue was caught by Coverity. Apparently nullptr in stdstring
ctor is undefined behaviour.";1
98;benchmark separate RegExp benchmark from v basic bench;"RegExp bench is separated from run.js. And I created runRegExp.js for running another contexts.
RegExp bench creates global RegExp httpsgithub.comiojsio.jsblobv.xdepsvbenchmarksregexp.jsL.
However the RegExp causes a error. The detail is here.
";benchmark stop v benchmark clobbering RegExp;"depsvbenchmarksregexp.js clobbers the RegExp global breaking
util.format and console.log. Unclobber it to keep the other
benchmarks working.
Fixes the following error when running benchmarkmiscvbench.js
 outReleaseiojs benchmarkmiscvbench.js
util.js
 if new RegExp'\\b' set '\\b' 'i'.testdebugEnviron 
 
TypeError object is not a function
 at Object.exports.debuglog util.js
 at timers.js
 at NativeModule.compile node.js
 at NativeModule.require node.js
 at net.js
 at NativeModule.compile node.js
 at NativeModule.require node.js
 at tty.js
 at NativeModule.compile node.js
 at Function.NativeModule.require node.js

This could alternatively be addressed by caching the RegExp global
in libutil.js. That's not a bad approach and I considered it but
doing it for just RegExp and not other globals would be halfbaked.
Maybe the more thorough approach where we cache all globals at
startup is something for a followup pull request.
Fixes 
Rchrisdickinson yosukefurukawa";1
99;test fix coverity UNINITCTOR cctest warning;"Explicitly initialize platform to nullptr. Coverity cannot divine
it is set and cleared by the Setup and TearDown methods.
cc danbev
CI httpsci.nodejs.orgjobnodetestpullrequest";test initialize platform in NodeTestFixture;"Calling TearDown without Setup first is not allowed but
this should fix a coverity warning
 CID Uninitialized members UNINITCTOR
testcctestnodetestfixture.h in NodeTestFixtureNodeTestFixture
 vVShutdownPlatform
 delete platform
 platform nullptr
 

 private
 CID Uninitialized members UNINITCTOR
 The compilergenerated constructor for this class does not initialize platform.
 vPlatform platform
 


Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
test";1
100;doc add missing changelog heading for ..;"When the release was cut the changelog heading in CHANGELOGV
was accidentally omitted.
Fixes 

Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc";doc add missing link to v.. in changelog;"Hello nodejs. Just adding a missing link in the v changelog's TOC.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
101;test fix forkdgram on AIX;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
test
Description of change
Closes the server as soon as the child receives a message
I'm not sure that this is the correct fix but I've tried this with some debugging information see this gist and both parent and child do seem to be receiving a message on AIX.
Fixes 
Refs
Previous PR to fix on SmartOS nodejsnodev.xarchive
Previous Issue ditto nodejsnodev.xarchive
Original Commit bdfac
Original PR nodejsnodev.xarchive";test improve testchildprocessforkdgram;"Checklist

 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems
test
Description of change
Previous implementation was subject to timing out as there
was no guarantee that the parent or child would ever
receive a message. Modified test so that once parent or
child receives a message it stops receiving them so that
we are guaranteed the next message will be received by the
other end.
The test also left lingering processes when it timed out
so pulled the timeout into the test itself so that it
could properly cleanup in case of failure.";1
102;test change from setTimeout to setImmediate;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

test
Description of change

Change test method from setTimeout to setImmediate.
This is a part of Code And Learn at NodeFest Challenge
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test change from setTimeout to setImmediate;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems

test
Description of change

This is a part of Code And Learn at NodeFest Challenge
nodejscodeandlearn";1
103;upgrade npm to ..;"This contains these releases
httpsgithub.comnpmnpmreleasestagv..
httpsgithub.comnpmnpmreleasestagv..
Notable changes are

Performance improvements
Support for git submodules

r Fishrock
r zkat
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";deps upgrade to npm ..;"Hey Rebecca's out so I'm doing the npm thing this week.
This includes the following releases

httpsgithub.comnpmnpmreleasestagv..
httpsgithub.comnpmnpmreleasestagv..
httpsgithub.comnpmnpmreleasestagv..

Notable changes

cfa npmlog.. New arewethereyet with performance patches from STRML. New gauge with timer churn performance patch. This is the maketheprogressbarnotslowstuffdown patch. iarna
deac New Feature Add support for git submodules in git remotes. gagern
doc and bug fixes

r Fishrock
r jasnell
r mikeal
r thealphanerd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
104;Introduce 'make doclint' command and tooling;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
tools
Description of change
Note there were some more changes in this PR those were extracted to and were merged already.
Add remarkcli and remarklint to toolsremarkcli introducing new make mdlint command.
make mdlint now lints all docs make test now executes make mdlint.
A complete make mdlint check takes seconds on my notebook.
Previous work in .
cc Trott jasnell addaleax.";introduce doc linter;"This is an attempt to introduce a simple linter for our documentation files.
The doc linter scans all the .md files in the docapi directory and
invokes the linter rule functions one by one passing the file name
contents and an array to fill the errors.
If the errors array is not empty then the linter will exit with code 
This PR has one rule which checks if the links in the documentation file are in sorted order. It expects alphabetical link text to be at the top and everything else following them.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

Affected core subsystems
build doc tools

cc nodejsdocumentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
105;src introduce process.release object WIP;"I'm messing around in nodegyp to see how workable this is and I haven't actually tested this on Windows yet although I've modified vcbuild.bat. Putting this up early to get feedback.
supersedes and see also nodejsnodegyp for further discussion and an apparent ?æì from TooTallNate on the proposal.";make nodegyp work with io.jsnightly versions;"Check process.version for 'nightly'. If using io.js nightly the disUrl is changed accordingly allowing for the correct tarball url path to be created.
This allows nodegyp to work in io.js nightly versions.";1
106;test improve the code in testcryptodh;"validate the errors for some assert.throws
use arrow functions

Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
test";test cleanup testcryptodh.js;"Checking for thrown errors from crypto.createDiffieHellman
Avoiding unused vars in ecdh.setPrivateKey

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
test
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
107;net improve error message when no address;"when use 'listen' will get the 'listen EACCES null'. this fix will
make the error message better. like 'listen EACCES ...'.";net move default address logic to listen;"When address is not provided to server.listen connectionKey and error messages should include actual address and correct family.
var net require'net'

var s net.createServer

s.listen

console.logs.connectionKey

 s net.createServer
s.listen
Before
null
events.js
 throw er Unhandled 'error' event
 
Error listen EADDRINUSE null

After

events.js
 throw er Unhandled 'error' event
 
Error listen EADDRINUSE 

Rbnoordhuis";1
108;net Socket.prototype.connect should accept args like net.connect;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems

net.Socket.prototype.connect
";cb may be undefined as well;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included

Affected core subsystems
net Socket.protype.connect";1
109;httpserver correct order prefinishfinish;"It is very important to wait for prefinish event.
It is emitted only when the response becomes active in the pipeline.
The ordering of requestsresponses in httpserver.js is dependent
on this doing it in different order will result in crash.
Fix 
cc nodejscollaborators trevnorris rvagg
This is very important bug fix. We should consider reviewing it very carefully and merging ASAP after users will confirm that it fixes stuff for them.";HTTP outgoing queue bug fix;This change fix bug of incorrect http outgoing queue which caused crash on assert. I think there should be some other changes to make ending of response more transparent this change only fix the bug.;1
110;tools align the jslint summary like the test runner;"Checklist


 tests and code linting passes
 the commit message follows commit guidelines

Affected core subsystems

tools
Description of change

Now looks like
usrbinpython toolstest.py moderelease J \
 addon doctool knownissues message parallel sequential
| | | Done 
ApplicationsXcode.appContentsDeveloperusrbinmake lint
.node toolsjslint.js J benchmark lib src test toolsdoc \
 toolseslintrules toolsjslint.js
| | | Done 

mscdex";tools make the progress bar spacing consistent;"Checklist

 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems
tools
Description of change  As it is the toolstest.py will produce a progressbar like this   Done   but the toolsjslint.js will produce a progressbar like this   Done

The space between percentage completed is not consistent. This patch
makes sure that both of them use four character spacing for all the
parts in the progress bar.";1
111;http Reject paths containing nonASCII characters;"http would previously accept paths with nonASCII characters. This
proved problematic because multibyte characters were encoded as
'binary' that is the first byte was taken and the remaining bytes were
dropped for that character.
There is no sensible way to fix this without breaking backwards
compatibility for paths containing U to UFF characters.
We already reject paths with unescaped spaces with an exception. This
commit does the same for paths with nonASCII characters too.
The alternative would have been to encode paths in UTF but this would
cause the behaviour to silently change for paths with singlebyte
nonASCII characters eg the copyright character UA ??. I find it
preferable to to add to the existing prohibition of bad paths with
spaces.
Fixes";http reject control characters in http.request;"First commit
Unsanitized paths containing line feed characters can be used for header injection and request splitting so reject them with an exception.
Second commit
The first commit is the result of nodejssecurity discussion but I had a change of heart. I can't see any reasonable use case for allowing control characters characters but I can think of several scenarios where they can be used to exploit software bugs so let's ban them altogether.
There is a a potential compatibility issue in that tabs in paths have been observed in the wild but to the best of my knowledge only in requests from buggy HTTP clients. Here too I don't see a reason to allow them in requests that node.js initiates.
nodejshttp nodejssecurity";1
112;doc add note to parallelize make;"Checklist

 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems
doc
Description of change
Adds a note to the BUILDING doc to encourage parallelizing make. When I
first built node I didn't know this trick and thought that the build was
just stuck in an infinite loop after waiting for minutes.";doc consolidate j information for make;"Our docs contain a mixture of make j make j and make without
a j option at all.
Standardize on not specifying a j option but include information in
BUILDING.md where people are likely to be looking the first time they
build Node.js about setting j including the possibility of using
MAKEFLAGS.

Checklist


 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

build doc meta
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
113;stream reset awaitDrain after manual .resume;"Checklist

 tests and code linting passes
 a test andor benchmark is included
 the commit message follows commit guidelines

Affected core subsystems
stream
Description of change
Reset the readableState.awaitDrain counter after manual calls to .resume.
What might happen otherwise is that a slow consumer at the end of the pipe could end up stalling the piping in the following scenario

The writable stream indicates that its buffer is full.
This leads the readable stream to pause and increase its awaitDrain counter which will be decreased by the writable?ÇÖs next drain event.
Something calls .resume manually.
The readable continues to pipe to the writable but once again the writable stream indicates that the buffer is full.
The awaitDrain counter is thus increased again but since it has now been increased twice for a single piping destination the next drain event will not be able to reset awaitDrain to zero.
The pipe is stalled and no data is passed along anymore.

The solution in this commit is to reset the awaitDrain counter to zero when resume is called.
Fixes 
This bug is has been around at least since . and I don?ÇÖt currently know why it never popped up before when the awaitDrain mechanism worked like it does today.
cc nodejsstreams
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix child process stdio data loss with slow piped consumers;"Checklist

 tests and code linting passes
 a test andor benchmark is included
 documentation is changed or added
 the commit message follows commit guidelines

Affected core subsystems

childprocess

Description of change
The flushStdio checks if there are readable handlers attached to the stdio streams to prevent data loss but it doesn't check if there are piped consumers. Change it so that it checks pipesCount too.
I also fixed the previous testcase on the same issue to actually catch the regression as it would previously pass regardless of what flushStdio was doing.
Fixes";1
114;EventEmitter use a Map to store event listeners;"This is a fix for .
I ran the events benchmarks to compare this with master and there seems to be a significant performance drop for some cases though I'm not sure of how I should compare the runs.



Bench
master
Map




eeaddremove

 


eeemitmultiargs

 


eeemit

 


eelistenercount

 


eelistenersmany

 


eelisteners

";events handle inherited properties properly;"As of now the events module considers inherited properties as one of the
valid types by default.
 process.version
'v..'
 events.EventEmitter.listenerCountnew events.EventEmitter 'toString'


This patch makes sure that the inherited properties are considered as
normal types and they will not be counted unless explicitly added.
 process.version
'v..pre'
 events.EventEmitter.listenerCountnew events.EventEmitter 'toString'

 const emitter new events.EventEmitter
undefined
 emitter.on'toString' function 
EventEmitter 
 domain
 Domain 
 domain null
 events error Function 
 eventsCount 
 maxListeners undefined
 members 
 events toString Function 
 eventsCount 
 maxListeners undefined 
 events.EventEmitter.listenerCountemitter 'toString'


I am guessing this would be a semvermajor change as this could be a breaking change.";1
115;test mark testutilsigintwatchdog FreeBSD flaky;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 commit message follows commit guidelines

Affected core subsystems

test util
Description of change

Test is currently failing intermittently on FreeBSD only.
Refs 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testvm fix flaky testutilsigintwatchdog;"Checklist

 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

Affected core subsystems
testutil
Description of change

RAIIstyle mutexes for nodewatchdog.cc and nodewatchdog.h
Hopefully fix flaky testutilsigintwatchdog by polling until the
signal has definitely been received instead of just using a timeout.";1
116;repl Remove magic mode;"Checklist


 make j test UNIX or vcbuild test nosign Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

doc repl
Description of change

Currently magic mode retries the executed command with 'use strict' only when the BLOCKSCOPEDERROR is thrown and v is no longer emitting BLOCKSCOPEDERROR.
From the v . release note

Classes lexical declarations in sloppy mode
V has supported lexical declarations let const blocklocal function and classes since versions . and . respectively but so far strict mode has been required in order to use them. As of V release . all of these features are now enabled outside of strict mode as well per the ES spec. This makes prototyping in the DevTools Console much easier although we encourage developers in general to upgrade to strict mode for new code.

Also IMHO magic mode is tightly coupled with JS engine'sv implementation.";repl docsonly deprecate magic mode;"The workaround used in repl to support let and const in nonstrict mode has been unnecessary since V v. Node.js v... The first commit removes this workaround known as magic mode. The second commit docdeprecate magic mode which is now entirely equivalent to sloppy mode in both repl module and in internalrepl which is responsible for starting the REPL in node interactive mode.
Ref httpsvproject.blogspot.comvrelease.html
Refs httpsgithub.comnodejsnodeblobmasterdocchangelogsCHANGELOGV.md..
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Affected core subsystems

repl";1
117;Fix broken links to collaborator list;No description provided.;Update GOVERNANCE.md;Fixed broken link to the current list of TC members.;1
118;repl allow multiline function call;"Currently the repl allows multiline function declarations strings and
all sorts of niceties by catching the SyntaxErrors they issue and
ignoring them. However the SyntaxError raised by multiline function
calls was not caught. This commit adds to the whitelist.
Behaviour before this commit
 console.logconsole.log
... 
SyntaxError missing after argument list
After
 console.logconsole.log
... 
... 
 
undefined 
undefined";repl Allow fn parenthesis across multiple lines;This fixes which breaks due to the error missing after argument list and is not treated as recoverable.;1
119;MRG EHN Allow specifying arbitrary kernel for semisupervised learning.;"I needed a custom kernel for a research project I am working on for calculating euclidean distance between cities based on longitudelatitude.
If there is interest in including these changes I will be willing to polish the code further.";cosine as kernel for label propagation;"Reference Issue

Fix 
What does this implementfix Explain your changes.
This update enables semisupervised to accept cosine similarity as its kernel.
Any other comments
I think semi supervised learning is a good option to classify text documents which requires cosine similarity as its kernel to achieve better accuracy because the feature vectors from text documents go very sparse.";1
120;MRG allow y to be a list in GridSearchCV crossvalscore and traintestsplit;"Fixes .
This makes input validation consistent across the three crossvalidating functions and less intrusive.
I am not entirely sure this is the right thing to do as it has some slight backwardincompatibilities. When X or y was given as a list to traintestsplit it was converted to an array before but is no longer. In the case of X this could be considered a bugfix for lists of strings. There is an offchance that this breaks someone's code though. GridSearchCV now passes y though as a list without converting. I think that is fine and very unlikely to break anyone's code as I think an estimator should handle exactly the same kind of input GridSearchCV gets.";crossvalidation if Y isn't a numpy array compute ysubset using a list comprehension just like it's done for X;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
121;MRG Added partialfit method to OneVsRestClassifier from;No description provided.;MRG Added partial fit method for OvR and OvO.;"Works only on condition if all target classes dataset chunks are passed in each iteration. In case any class in some iteration is missing we would get incorrect results.
This can be overcome if we store each estimator in dictionary and train the relevant estimator in each iteration.

I am new to scikit and machine learning in general so please go easy on me and let me know what could be done
Thank you";1
122;MRG Integration of GSoC Gaussian Mixture first step;"ogrisel agramfort TomDLT I've created a new PR to solve the problem with travis of the .
Sorry for the noise.

httpwww.mixmod.org
httpscran.rproject.orgwebviewsCluster.html bgmm for instance

ogrisel Mixmod and bgmm don't divide the";Modified GMM initialization to only use linear memory and time in sphà;"Reference Issue

Not an reported issue to my knowledge.
What does this implementfix Explain your changes.
When running a 'diag' GMM on a highdimensional feature space a Memory Error was thrown. This is suspicious because quadratic memory should not be used for diagonal GMM fitting. Indeed there was a section of gmm.py that had a needless covariance matrix calculation for the 'diag' and 'spherical' cases.
The modified code fixes that behavior should be the same for 'diag'.
For 'spherical' the previous code initialized the variance term to the average value of all terms in the covariance matrix. The new code CHANGES this behavior now it is the average value of the diagonal terms only. This is a more appropriate initialization anyway.
Any other comments";1
123;DOC Minor documentation fixes Fixes and;"Fixes and 

Fixes formatting issues in warning after LOLO.
Fixes Error Page not found in contributing section";Cross validation docs;"This fixes the issue at formatting issues in crossvalidation docs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
124;MRG Issue w tfidf computation;Fixes;MRG extending tfidf documentation;"Reference Issue

Fixes 
What does this implementfix Explain your changes.
Adds the Tfidf equation to the TfidfTransformer's docstring and adds equation handson example to the user guide documentation.";1
125;MRG fix logistic regression class weights;"This PR tests that these two classifiers are equivalent
classweights computeclassweightbalanced np.uniquey y
clf LogisticRegressionmulticlassmultinomial classweightbalanced
clf LogisticRegressionmulticlassmultinomial";MRG FIXTST regression in multinomial logstc reg when classweight is auto;"Fixes 
lesteve MechCoder Please review";1
126;Fixed Issue;"Reference Issue


What does this implementfix Explain your changes.
add's pairwise to OneVsOneRestClassifier
Any other comments";MRG Add OneVsOneAllClassifier.pairwise fix for;"Reference Issue

Fixes .
What does this implementfix Explain your changes.
Adds pairwise to OneVsOneClassifier and OneVsAllClassifier and adds a test to check this is properly set.";1
127;WIP Overhaul of featureselection;"It seems to me there are commonalities between feature selection processes that are not being exploited and places where adhoc code are used instead of a library.
Some of these things may be split off into a separate PR especially on request and all are up for discussion.

 create a mixin to provide inversetransform given getsupportmask in all feature selectors but what to call it given that SelectorMixin is taken by something else split off into 
The following are included in 

 provide SelectByScore scorefunc minimum maximum scalingfunc limit for more generic score thresholding e.g. supporting twosided document frequency cutoffs. This implementation also reduces work at transform time by pretransformingscaling scores to match the threshold.
 work out how to deal with nan

do we want a way to force exclusion of nans


 documentation and testing of above
 hopefully use SelectByScore for SelectKBestPercentileFdrFprFweorMixin closing 
 use SelectByScore to handle thresholding in featureextraction.text.CountVectorizer
 use same in randomizedl


 support dummy cases selection by given indices selection by feature name given a feature extractor or union thereof
 documentation and testing of above
 move chi fclassify etc. to sklearn.metrics.featurescores or similar and add document frequency countnonzero what else";MRG Implementing SelectKBest feature in SelectFromModel;"Working on to implement SelectKBest feature in SelectFromModel.
It should return top k most important features.


This change is";1
128;MRG Hierarchical Agglomerative Clustering;"Introduces complete and average linkage with structure.
TODO

 Narrative documentation
 docstring
 Increase test coverage
 Implement other distances for average and complete linkage half done only callable and precompute are still needed
 Probably deprecate Ward classes
 Probably move the FloatIntDict to the utils module
 Finish the example

Single linkage will come in a later PR as it should use a different algorithm based on minimum spanning tree.
vene do I remember right that you had expressed interest in working with me on having different distances in this PR";Ward clusteringToo few clusters bug;I have raised a ValueError when too few clusters are formed in Ward Clustering.;1
129;MRG Isotonic calibration;"calibration module with platt and Isotonic calibration.
A few issues 

 nice calibration plots
 add tests for metrics
 add narrative doc
 speed up the test execution as much as possible
 fix multiclass support for the isotonic regression method";MRG Reliability curves for calibration of predictproba;"This PR adds the reliabilitycurve metric to metrics.ranking.py. Reliability diagrams allow checking if the predicted probabilities of a binary classifier are well calibrated. The PR also contains an example comparing how well the predicted probabilities of different classifiers are calibrated. A notebook giving the same example can be found under httpjmetzen.github.ioreliabilitydiagram.html
For some backgrounds on reliabilitydiagrams please refer to the paper Predicting Good Probabilities with Supervised Learning";1
130;MRG Fix in plotoutofcoreclassification.py;Just added conditions to check which one to use from colorcycle or propcycle depending on matplotlib version. Fix for;Fix Decpredated colorcycle with backward compatability;"Fixing the deprecate warning message by using propcycle instead of colorcycle.
Added If condition to ensure backward compatability with mpl versions before ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
131;issue Fixed warnings for DataDimensionalityWarning decisionfunction and decisionfunctionshape.;amueller issue Fixed warnings for DataDimensionalityWarning decisionfunction and decisionfunctionshape.;MRG Fix warnings during tests;Addresses;1
132;MRG DOC Added rebasing and squashing section to contributing.rst;Added rebasing and squashing section to contributing.rst as agreed here. Used this comment to add to the section.;MRG add link in the contributing doc for rebasing on master;"As suggested in comment I added two links in the contributor doc

httpdocs.scipy.orgdocnumpydevgitwashdevelopmentworkflow.htmlrebasingonmaster
 comment

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
133;add sampleweights to logloss;No description provided.;MRG Add sampleweight parameter to metrics.logloss;Also modified binary output multiclass tests in testsampleweightinvariance to allow for prediction inputs as probabilities;1
134;Updated code example;;MRG Add Brierscoreloss to model validation doc;"Reference Issue
Add Brierscoreloss to model validation doc 
What does this implementfix Explain your changes.
Trying to fix the travis build with ellipsis in the docs";1
135;Random hidden layer and Extreme Learning Machine implementation;"still missing some docsdoctests
demo IPython notebook in httpsgist.github.comdclambertbdbddaaf";MRG GSoC Standard Extreme Learning Machines;"Finished implementing the standard extreme learning machines ELMs. I am getting the following results with hidden neurons against the digits datasets
Training accuracy using the logistic activation function .
Training accuracy using the tanh activation function .
Fortunately this algorithm is much easier to implement and debug than multilayer perceptron .
I will push a test file soon.
ogrisel larsmans";1
136;MRG BUG getparam in FeatureUnion disjoint for shallowdeep params;"Previously params in a FeatureUnion or Pipeline were different
when deepFalse and deepTrue making it impossible to set shallow
params during GridSearch issue 
Added test to enforce deepTrue results to be superset of deepFalse.
Updated deep getparam output in pipeline estimators with shallow params.

TST Test estimators for getparams invariance issue 

Estimators that support getparams should always be consistent
in that getparamsdeepFalse should be a subset of getparamsdeepTrue
Implemented test over all normal and other estimators provided by
allestimators
Ignoring gridsearch estimators for now";FeatureUnion add weights in getparams;"tries to address 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
137;WIP RollingWindow crossvalidation;"A crossvalidation strategy for timeseries see httprobjhyndman.comhyndsighttscvexample
Initial commit tests and unfinished docs
I don't really like the name of the class. Hopefully someone will find a better name for this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Add homogeneous time series cross validation;"This PR is a separated PR from that tries to solve 
and it implements homogeneous time series cross validation and add the corresponding test.
However there's a discussion on nfolds's meaning here may reviewers please give me some suggestion
ping MechCoder rvraghav amueller jnothman ?ÖÅ";1
138;Added poslabel parameter to rocaucscore function;To be able to run rocaucscore on binary tagets that aren't or .;MRG Adding poslabel parameter to rocaucscore;"Reference Issue
Fixes 
What does this implementfix Explain your changes.
This PR implements the poslabel parameter in rocaucscore function. Actually all it does is forwarding this parameter to roccurve function call.
Any other comments
Added tests for poslabel param in roccurve and rocaucscore.
Results of make all tests ok.";1
139;Add numpy dev wheel to travis build matrix.;No description provided.;MAINT Fix errors in tests for Unvariate Selection;"Make sure percentile is an integer. Prevent error caused by slice using floating point values. See 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
140;MRG Fix estimators to work if sampleweight parameter is pandas Series type;This change is;Fix for passing pandas series in sampleweights in RidgeCV leading to an error;"Currently there seems to be no tests for checking pandas compatibility and as jnothman mentioned in the issue perhaps tests for various cases checking for compatibility needs to be added.
jakevdp amueller jnothman reviews please and let me know what should be done.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
141;WIP Adding tests for estimators implementing partialfit and a few other related fixes enhancements;"Fixes 
New partialfit tests
The below tests are based off arjoly's suggestion.

 . General tests

Assert that partialfit returns self. Thanks jnothman for the suggestion.
Clone test... assert cloneest.partialfit est.partialfit


 . Check that an error is raised if the number of features changes.
 . Estimator reset test

Check that doing fit after a set of fit partialfit restarts the estimator.
Assert that partialfit and then fit with a different number of features works without raising any Exceptions... Thanks amueller for the suggestion


 . Check if partialfit does not overwrite the previous model.

Based on jnothman suggestion


 . Check that classifier handles correctly the classes argument in the partialfit.

a. Check if mismatch between classes argument and np.uniqueyi raises ValueError.
b. Check that error is raised if classes is not specified during first partialfit call.
c. Check error is not raised if classes is not specified during subsequent calls.


 Helper functions

validateyagainstclasses Check label mismatch between y and classes arg
assertsamemodelX est est
assertnotsamemodelX est est

Use predict transform decisionfunction and predictproba to check equality of models.


In sklearn.utils.estimatorchecks partialfit and fit to use the appropriate parameters.
assertattributesequalest est
assertattributesnotequalest est
assertarraynotequal



Refs
Also see This PR fixes st under not so easy for pfitable estimators via a of this PR 


This change is";Fix forgotten return self in rbm.partialfit;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
142;Parallelize the feature selection loop in RFECV;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Parallelize embarrassingly parallel loop in RFECV.fit;"I also took the opportunity to clean up a bit of the code.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
143;MRG Added variable type check for hyperparameter.bounds;"Reference Issue

Fixes 
What does this implementfix Explain your changes.
Added variable type check for hyperparameter.bounds before comparison with fixed.
Any other comments
Nope.";MRG Deprecated comparison to string in GP;"Reference Issue

Fixes 
What does this implementfix Explain your changes.
Any other comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
144;BUG avoid infinite weights in kNN regression;"Same issue as but in the regressor instead of the classifier.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Fix KNeighborsRegressor and RadiusNeighborsRegressor returning NaN predi...;"A KNeighborsRegressor with distance weighting will predict NaN if the data to predict on happens to match a data point from the training set. This actually happened to me with some data from a Kaggle competition
For example
from sklearn import neighbors
import numpy as np

X np.array...
y np.array. . .

clf neighbors.KNeighborsRegressornneighbors weights'distance'

clf.fitXy
printclf.predict.

The output is NaN. This seems like undesirable behavior. I would have expected pred to be .. In addition RadiusNeighborsRegressor suffers from this problem.
Note that the infinities are already handled properly by KNeighborsClassifier and RadiusNeighborsClassifiers. For example
from sklearn import neighbors
import numpy as np

X np.array...
y np.array 

clf neighbors.KNeighborsClassifiernneighbors weights'distance'

clf.fitXy
printclf.predict.

This outputs as expected.
This pull request is my proposed solution. Note that if there are two points with distance it chooses one of them which is consistent with the warning given in the KNeighborsRegressor docs.
This is my first pull request for any project so let me know if I'm doing something wrong";1
145;Bugfixes in gaussianprocess subpackage;"Hi list
It's been a while... 
I've been told the randomstart feature of the GaussianProcess estimator was making it worse rather than making it better.
It was indeed due to a bad handling of sign in the randomly restarted maximization of the reduced likelihood function implemented as the minimization of the opposite reduced likelihood function with fmincobyla.
While running GP tests and examples I spotted another mistake in the gpdiabetesdataset example which appeared when the optimized theta value stored in the estimator was made private by renaming it to theta.
Cheers";fix sign error in gp unit test;fix for issue;1
146;Deprecated negative valued scorers;"deprecated X meansquarederror meanabsoluteerror medianabsoluteerror logloss when called print Function returns negative of X so that greaterbetter. This function is deprecated in version
. and will be removed in a future version .. Use neg instead


replaced Xscorer by negXscorer throughout scikitlearn source code as well as tests. Documented in docmodulesmodelevaluation.rst


Still need to do
 add a new test that checks if you use deprecated one you get deprecation warning and same behavior";MRG Rename scorers like mse to negmse;"Reference Issue
Fixes 
What does this implementfix Explain your changes.
Renaming scorers for which smaller is better like MSE to negmse so that they fit the idea of bigger is better.

 meansquarederror
 meanabsoluteerror
 logloss
 medianabsoluteerror";1
147;ENH Add LinearSVR;Fix;MRG Implementation of LinearSVR using liblinear code;Very initial implementation of LinearSVR using liblinear's code which was always available we just did not use it. Still lacking tests and documentation.;1
148;Fixing boolean test in transform method;Fix for issue;MRG Fail imputer early when number of features are not the same in fit and transform;"Reference Issue
Fixes 
What does this implementfix Explain your changes.
It httpsgithub.comscikitlearnscikitlearnblobmastersklearnutilsestimatorchecks.pyL fails at some other point after the VisibleDeprecationWarning is displayed so maybe not so ominous in comparison to the other adventures in this part of the codebase p
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
149;MRG MLP traintestsplit is now in modelselection;"This fixes a spurious warning of the multilayer perceptron which was still importing traintestsplit from crossvalidation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG MLP bug fixes and removing decisionfunction;"amueller
Fix the wrong way of using randomstate and mistakenly modifying parameter loss. Some minor fixes and more tests also included.
Remove decisionfunction to make the design particularly with forwardpass cleaner.
BTW I have already implemented";1
150;fix quantile loss call function;"Fixed up the loss function for QuantileLossFunction and added a regression test comparing its output to LeastAbsoluteError.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Corrected sign error in QuantileLossFunction;"There was an error sign for the computation of the QuantileLossFunction for negative errors.
from future import printfunction
from sklearn.ensemble.gradientboosting import QuantileLossFunction
import numpy as np

 For positive errors only
x np.linspace 
printpositive errors QuantileLossFunction .x np.zeroslenx

 For negative errors only
x np.linspace 
printnegative errors QuantileLossFunction .x np.zeroslenx
giving
positive errors .
negative errors .

While it should be positive all the time.";1
151;Fix bug fixes.py line error;"Reference Issue

Fixes .
What does this implementfix Explain your changes.
Any other comments

There is a new bug in master brunch scikitlearnsklearnutilsfixes.py
in line if npversion an error occured TypeError unorderable types str int.
It's because in the function 
def parseversionversionstring
version 
for x in versionstring.split'.'
try
version.appendintx
except ValueError
 x may be of the form devea
version.appendx
return tupleversion
I filing the bug by change line .
I changed if npversion to if npversion 
Also can we don't compare the third index value in the tuple because numpy version is not sure such as 'b' etc the parseversion just return 'b'. So we just compare the first two of the numpy version.
So in fixes.py line also should change to if npversion 
and line should change to if npversion 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRGnpversion version check compatible with numpy..b to solve the tuple comparison 'b' the TypeError;"npversion version check compatible with numpy..b to solve the tuple comparison 'b'
 the TypeError
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
152;WIP DOC Description of X missing in KMeans.fit;"Addressed issue 
Added Training instances to cluster as explanation in fit methods in kmeans.py. Also made both docstring match in terms of parameter descriptions for X in fit X arraylike or sparse matrix shapensamples nfeatures. This convention is according to that proposed by amueller in .";MRG Modify description of 'X' in kmeans.py fit methods.;"Reference Issue
Fixes 
What does this implementfix Explain your changes.
It modifies the description of existing description of 'X' in MiniBatchKMeans.fit method and for the sake of consistence add a similar description in KMeans.fit method.
Any other comments
There were discussions on the issue about using the term coordinates in reference to treat the training sample as a data point. I referred to documentation of similar use cases in R and Julia packages and did somewhat best of both worlds thing here. I'm available for amendments in the description right away 
References

Julia Package Docs httpclusteringjl.readthedocs.ioenlatestkmeans.htmlkmeans
R Package Docs httpsstat.ethz.chRmanualRdevellibrarystatshtmlkmeans.html
OpenCV docs httpdocs.opencv.org.modulescoredocclustering.html";1
153;Updated README removed git clone with write reference;"Reference Issue

Issue 
What does this implementfix Explain your changes.
Removed redundant line regarding git clones with write privileges. Basic git command untouched.
Any other comments
None

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix readme;"Reference Issue

What does this implementfix Explain your changes.
Any other comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
154;DOC fix outdated information in doc string of GridSearchCV;"The old docstring implied that the wrapped object had to be a supervised estimator.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Trying to make GridSearchCV docs more accurate don't say classifier;"Fixes .
Help with wording appreciated";1
155;MRG Fix for issue;This is a fix and tests for issue which allows to generate fill colors for degraded learning set.;fix of Exporting a single node DecisionTreeClassifier to dot graph raises error when filled is True;fix add check for equal color bounds to prevent division by zero error. Add corresponding unit test.;1
156;MRG don't use deprecated randomintegers function use randint instead.;"This removes the use of the deprecated in numpy dev randomintegers function replacing it with randint. All the values for high need to be adjusted because randomintegers uses inclusive bounds and randint uses exclusive bounds.
This makes the travis output on the numpy dev branch much more readable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Replace all the deprecated randomintegers by randint.;The function randomintegers was recently deprecated in numpy resulting a lot of warnings during the test. This PR is done to correct that.;1
157;bugFixed bugs when rendering dot file into graphics which is introduced by tree.exportgraphviz;"When exporting a tree into a dot file using tree.exportgraphviz the dot file is usually like this
 digraph Tree 
 labelA .\nerror .\nsamples \nvalue . . shapebox 
 labelB .\nerror .\nsamples \nvalue . . shapebox 
 
 labelC .\nerror .\nsamples \nvalue . . shapebox 
 
 

However when sample number is large tree.exportgraphviz will create a dot file like this
 digraph Tree 
 labelA .\nerror .\nsamples . e\nvalue . e . e 
 labelB .\nerror .\nsamples . e\nvalue .e .e shapebox 
 
 labelC .\nerror .\nsamples . e\nvalue . e . e shapebox 
 
 

The scientific notationlike value . e . e will broke the dot file rendering process like follows
 dot Tpdf file.dot o file.pdf

The patch will transform the scientific notationlike value .e .e into normal onelike value . ..
 httpscikitlearn.orgstablemodulestree.htmlclassification
 httpscikitlearn.orgstablemodulesgeneratedsklearn.tree.exportgraphviz.htmlsklearn.tree.exportgraphviz";MRG Pretty decision trees tree.exportgraphviz;"As mentioned in this enhancement is intended to make the output of tree.exportgraphviz more aesthetically pleasing as inspired by fancyRpartPlot in R. Colour brewing is done manually so the only additional import required is numpy and output is still pure dot format.
Enhancements include

Drawing leaf nodes at the base of the tree for clarity
Colours indicating how the node classification is 'leaning' including multiclass
Percentage samples shown in node instead of raw number of samples
Percentage per class shown for all nodes not just leaves

Standard output omitting the new pretty and simple flags should result in the exact same graphical output from Graphviz as the incumbent version though the dot code has been altered slightly for simplicity given the new more complicated node representation for pretty.
A few examples using the Titanic survivor dataset
no flags

pretty

pretty simple

pretty maxdepth

It has been moderately tested on pure tree.DecisionTreeClassifier objects though I am well aware that regression needs work and will fail if attempted with the new flags though the standard output still appears to be functional.
To be discussed

How to represent colours for regression... I'm thinking a diverging colour scheme with white for the median or mean of the two most extreme values in the leaves should work well.
Should the text and graphical options be broken out further Something like showmajorclass usecolours usepercentages etc. or some perhaps discarded. I based the options off the R package that's not meant to imply that this is the state of the art just the best I've stumbled across.
Should the base implementation even be maintained The extra subtree recursion per node is a little expensive but it's just a single tree... And seeing what each node is voting towards gives more intuitive information than the error coefficients alone. It even appears that this used to be standard output from the examples here

Other options that might be useful

Left to right orientation for use in reports
Anything else you can think of Though Graphviz is a little limited in what you can pull off
Welcome any other suggestions gotchas";1
158;Add decision tree plotting;"raghavrv GaelVaroquaux amueller
Due to accidental rebase I recreated here.
I don't really like how plotting looks in my example so I can move implementation details to separate function in exportgraphviz.py


This change is";MRG make exportgraphviz return string if outfile is None;"Reference Issue
Fixes .
What does this implementfix Explain your changes.
Clean up the API for exportgraphviz to make it possible to create visualisations with pydotplus without needing to use StringIO. Following the example of DataFrame.tocsv if no file name is provided now it will just return the output as as a string.
Any other comments
Tested this in Ipython Notebook for both Python and .";1
159;MRG FIX LogisticRegressionCV to correctly handle string labels;"Fixes 
In master 
 import numpy as np
 from sklearn.linearmodel import LogisticRegression LogisticRegressionCV

 X np.arange np.newaxis
 y 'a' 'b' 'c' 

 LogisticRegressionCVsolver'lbfgs' multiclass'multinomial'.fitX y.predictX
ValueError could not convert string to float 'a'
In this branch 
 LogisticRegressionCVsolver'lbfgs' multiclass'multinomial'.fitX y.predictX
array'a' 'a' 'a' 'a' 'b' 'b' 'b' 'b' 'c' 'c' 'c' 'c' dtype'U'
agramfort GaelVaroquaux";FIX LabelEncoder to correctly handle string labels Issue;"Can we just make a simple change like this It works with danvine's example this way. If yes should we add some tests for it
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
160;MRG fix failing assertraisesregexp;"Got a test failure in Python . let's see if this fixes it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG FIX make assertraisesregex backport for . consistent with .;"Use regex.search instead of regex.match.
Furthermore silence the deprecation warning from Python . as
assertraisesregexp is now deprecated in favor of the shorter name
assertraisesregex.
I don't want to change all occurrences of assertraisesregexp in this PR. Let's do that later if ever as this is not a big deal.";1
161;MRG support sampleweight in silhouettescore;"I sought sampleweight in silhouettescore to account for multiple points that are merged into one when calculating average distances. Hacking it into the current implementation resulted in a very slow solution. Thus this PR also rewrites the implementation yielding something that's a bit slower than the solution at master but supports sampleweight.
I've also added tests for correctness which I haven't otherwise found in the code.";Added missing space to exception message;"There was a ValueError being raised on line of sklearnmetricsclusterunsupervised.py that had a missing space.
I went to fix it and realized the error message was actually incorrect the test was that nlabels but the error message said the number of labels had to be more than .
So I improved the error message IMO at least and I simplified the test from if not nlabels nsamples to if not nlabels nsamples which feels cleaner to me.
I also updated the two tests of the error message. Note that the error text is a regex so regex metacharacters . and and are backslash quoted.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
162;ENH extensible parameter search results;"GridSearch and friends need to be able to return more fields in their results e.g. composite score.
More generally the conceivable results from a parameter search can be classified into

perparameter setting perfold currently only the test score for each fold
perparameter setting currently the parameters and mean test score across folds
persearch bestparams bestscore bestestimator however bestparams and bestscore are redundantly available in gridscores as long as the index of the best parameters is known.

Hence this patch changes the output of a parameter search to be attribute names are open for debate

gridresults . a structured array a numpy array with named fields with one record per set of parameters
foldresults . a structured array with one record per fold per set of parameters
bestindex .
bestestimator if refitTrue .

The structured arrays can be indexed by field name to produce an array of values alternatively they can be indexed as an array to produce a single record akin to the namedtuples introduced in cb not in ... In any case it allows numpy vectorised operations as used here when calculating the mean score for each parameter setting in aggregatescores.
Given this data the legacy gridscores already deprecated bestparams and bestscores are calculated as properties.
This approach is extensible to new fields in particular new fields within foldresults records which are compiled from dicts returned from fitfold formerly fitgridpoint.
This PR is cut back from there you can see this extensibility exemplified to store training scores training and test times and precision and recall together with Fscore.";ENH add predispatch parameter to crossvalscore function;"This adds a new parameter predispatch to crossvalscore. The same parameter is used in GridSearchCV httpsgithub.comscikitlearnscikitlearnblobmastersklearngridsearch.pyL
Tests are passing docs arre build correctly and I checked for PEP.
Feel free to disregard this PR if not of any use.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
163;MRG ENH Feature selection based on mutual information;"Hi This is my attempt to finishrework 
I tried to address code style issues and also added algorithms estimating mutual information with continuous variable involved.
There are places for trivial optimization but for now I tried to keep the code as transparent as possible.
It would be great if some of the core developers can start seriously reviewing with PR.";Added Boruta and mutual information based feature selection modules.;"Dear FS module maintainers
I have implemented the Boruta algorithm httpsm.icm.edu.plboruta with a sklearn like interface. Here's my original repo httpsgithub.comdanielhomolaborutapy
and here's a blog post I wrote about this FS method httpdanielhomola.comborutapyanallrelevantfeatureselectionmethod
I also implemented famous mutual information based FS methods JMI MRMR plus the pretty recent JMIM and wrapped them up in a single module with parallelized execution.
Here's my repo httpsgithub.comdanielhomolamifs
and here's a blog post I wrote about this method httpdanielhomola.commifsparallelizedmutualinformationbasedfeatureselectionmodule
Wrote docstrings and examples at the end of docstings. Also ran autopep on these files but could you help me with unittesting a bit What is expected from feature selectors in terms of unittesing Should I simulate some data run these FS methods and assert that the discovered features are the same as in a previous run Also should I write test for every single internal function as well
Best wishes
Dan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
164;Undefined model variable for postDeleteHook in delete method in admin.php model in wrong scope;model is undefined at line for thispostDeleteHookmodel cid because model was instantiated within the scope of the else block. If you try to delete an item from an admin list you will get a PHP Notice and a PHP Catchable Fatal Error. So it is better to declareinstantiate the model outside of the else block within the same scope of the call to postDeleteHook.;Undefined model passed to postDeleteHook;Post delete hook called with model not defined in context. Without calling delete method at all the call to this hook is also pointless.;1
165;downloaded vcard is empty;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid;Correct strict standards error and initialize app;"display method not compatible with JViewLegacy
app object never initialized causing fatal error
Tracker";1
166;Bind Variable Fix Within PDO Driver;"This fix is to revert back to original behavior needed to allow bounded variables to be used within the PDO Driver and specifically within the Oracle Driver that inherits from it.
Without the fix above what happens is the instance of JDatabaseQuery stored in query ends up getting replaced with a simple string on line and that eventually gets stored in the parentsetQuery call on line .
Later when execute is called since the string is not an instance of JDatabaseQuery the checks within execute that trigger the bounded variables to be set no longer function correctly and the variables end up being unbounded and results in a query error.
With the simple corrections above the query instance remains intact with a separate sql variable being used instead to hold the stringified version of the query with the database prefix replacements and that gets used to prepare the query within the database connection.
This allows the parentsetQuery call on line to still store a reference to the JDatabaseQuery instance properly and for everything to work as expected for the bounded variables.
Omar";Query Reference should be stored at the driver instance;"Bug
. Object reference pass as a parameterHere query and then object is converted into string.
. Assign string value on object variable override query variable. Its a wrong. Near the line number 
Bug produced when use sqlite and invoke getTableList method
First PR target to master branch 
but on Bakual request I have created new request for staging. 
I have already created ticket at Joomlacode tracker
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeridtrackeritemid
You can test it with this plugin
httpsgithub.commManishTrivedidbtester";1
167;CAPTCHA and reCAPTCHA Legacy;"We were wrong to call it nocaptcha. We were too fast. To avoid confusion and to ensure that NEW users use the NEW plugin and are aware of the Global Site Key issue
Rename the plugins
CAPTCHA reCAPTCHA Legacy
CAPTCHA reCAPTCHA
The description for CAPTCHA reCAPTCHA Legacy should be changed. Add this to the end
This legacy plugin is included for backwards compatibility. It should only be used if you are using a now discontinued Global Site Key.
The description for CAPTCHA reCAPTCHA should be changed. Add this to the end
This plugin will not accept the now discontinued Global Site Key. Either create a unique site key preferred or use the Legacy plugin.";Create a single reCaptcha plugin for both versions.;"This PR removes the noCaptcha plugin and merges it with the reCaptcha plugin. This way we have reCaptcha plugin capable of using both the old and new keys depending on selected version.
Testing
To test use reCaptcha version . with global keys and specific keys all should continue to work asis.
Also test version . with the new keys and you should get the new reCaptcha. The new keys also work with version ..
After selecting the reCaptcha version putting in the keys and selecting a theme. Check if the reCaptcha works on the frontend of the site.";1
168;Fix a failing unit test;"This should fix a unit test that is currently failing like
 JRegistryFormatXMLTesttestObjectToString
Failed asserting that two strings are equal.
 Expected
 Actual
 
 'xml version.
registrynode namefoo typestringbarnodenode namequoted typestringstringwithquotesnodenode namebooleantrue typebooleannodenode namebooleanfalse typebooleannodenode namenumericint typeintegernodenode namenumericfloat typedouble.nodenode namesection typeobjectnode namekey typestringvaluenodenodenode namearray typearraynode namenestedarray typearraynode nametest typestringvaluenodenodenoderegistry
registrynode namefoo typestringbarnodenode namequoted typestringstringwithquotesnodenode namebooleantrue typebooleannodenode namebooleanfalse typebooleannode namenumericint typeintegernodenode namenumericfloat typedouble.nodenode namesection typeobjectnode namekey typestringvaluenodenodenode namearray typearraynode namenestedarray typearraynode nametest typestringvaluenodenodenoderegistry
 '

Ref httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";Fixing Travis for JRegistryFormatXmlTest;"The problem is that the empty booleanfalse returns as a autoclosed tag instead of explicitely returning a closing tag.
I couldn't track it down to a change in code so it's maybe related to the testing enviroment itself. Maybe mbabker knows more
According to httpstackoverflow.comquestionsgeneratexmlwithsimplexmlelementwithsomeemptyfilelds one can't change the behavior of SimpleXMLElement thus just changing the expected result should fix it.";1
169;Normalize some parameters in comcontact comcontent commenus xml files;"Pull Request for PR that conflicted with merged PR .
Normalize some parameters in comcontact comcontent commenus xml files some parameters was missing in some xml new attributes was added see below.
Reorder some parameters as they shown in views.
Code style httpsjoomla.github.iocodingstandardscodingstandardschaptersxml.md.
administratorcomponentscommenusmodelsformsitemcomponent.xml replace the option JGLOBALUSEGLOBAL with the attribute useglobaltrue code style.
administratorcomponentscomcontactmodelsformscontact.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue code style.
administratorcomponentscomcontactconfig.xml add showcategoryheadingtitletext parameter reorder parameters of the category categories listdefaultparameters fieldsets code style.
componentscomcontactmodelsformsform.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue normalize language constants code style.
componentscomcontactviewscategoriestmpldefault.xml add showcategoryheadingtitletext showimageheading initialsort showtags showinfo showusercustomfields parameters replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters reorder parameters of the basic category advanced fieldsets code style.
componentscomcontactviewscategorytmpldefault.xml add showcategoryheadingtitletext parameter replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters reorder parameters of the category fieldset code style.
componentscomcontactviewscontacttmpldefault.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters code style.
componentscomcontactviewsfeaturedtmpldefault.xml replace options JGLOBALUSEGLOBAL with attributes useglobaltrue add showon attribute for Link ... Label parameters code style.
administratorcomponentscomcontentconfig.xml fix double names of spacers reorder parameters of the category categories listdefaultparameters fieldsets code style.
componentscomcontentviewscategoriestmpldefault.xml add showcategoryheadingtitletext showcattags pagesubheading parameters reorder parameters of the basic category advanced fieldsets code style.
componentscomcontentviewscategorytmplblog.xml reorder parameters of the category fieldset code style.
componentscomcontentviewscategorytmpldefault.xml remove unnecessary reorder parameters of the category fieldset code style.
Testing Instructions
Use a fresh Joomla install with sample items.
Create a tree of some contact categories.
Create contacts with default options and place they to some contact categories.
Create menu items of the types Contacts ? List All Contact Categories and Contacts ? List Contacts in a Category for the root contact category.
Check the contact categories in the frontend. All should be fine.
Play with option 'Show Subcategories Text' in Global Configuration ? Contacts in the Category tab of the menu items you created. Check everything is fine. The same for other added options.
NB When testing List All Categories menu item other menu items must be unpublished.
The same for content menutypes Articles ? List All Categories Articles ? Category List Articles ? Category Blog";Add show global value feature to comcontact;"This PR expands the already merged to comcontact
Summary of Changes
Enables the new Show Global Value feature for all contact forms.
Testing Instructions
Test the contact form and the related menu item forms. All list elements with a Use Global entry should show the global value like this

Exception The robots field will not show the global value.
Note If you get a message that some global values can't be found try saving the component options.
Documentation Changes Required
None";1
170;Add No direct access code;This PR adds the No direct access code to the read more layout.;use jpathbase not jexec in layouts;"This PR standardises on using jpathbase in the layouts.
We currently have a mix of both jpathbase and jexec and in one case readmore none at all
see";1
171;Remove some absolute paths from sysinfo download;"Pull Request for Issue 
Summary of Changes
The following values in the downloaded sysinfo text are obfuscated for the following correctly
logpath xxxxxx
tmppath xxxxxx
The absolute path is still available in the information downloaded from the PHP information
Example
 errorlog
 
 Local Value ApplicationsMAMPlogsphperror.log
 Master Value ApplicationsMAMPlogsphperror.log

 uploadtmpdir
 
 Local Value ApplicationsMAMPtmpphp
 Master Value ApplicationsMAMPtmpphphr subThis comment was created with the a hrefhttpsgithub.comjoomlajissuesJTracker Applicationa at a hrefhttpsissues.joomla.orgtrackerjoomlacmsissues.joomla.orgjoomlacmsa.sub

Note that the absolute path being shown in the folder permissions will be solved in another PR";Removing root path from the entire output;"Pull Request for Issue 
Summary of Changes
Removing root path from the entire output
Testing Instructions
Check if the report contains the path to Joomla installation";1
172;Update behavior.php Fixed broken menu tooltip.;For menu Items the Link Title Attribute was nor resolved correctly. It contained the text an the path.;Fix display of mootools tooltips;"When using the old fashioned mootools tooltips they are not displayed correctly like you can see in the following picture.

If using the mootools element storage they display correctly you can see that in the next screen shot.";1
173;Fixes HTML errors in cominstaller;"This is just a small fix for the missing closing tags mentioned in . You won't be able to see any visual changes since browsers were already suppressing the errors.
Locations fixed

Extensions Extension Manager Install missing closing div tag for div idjmaincontainer
Extensions Extension Manager Database missing closing div for 
 and for No default text filters found.";Missing div into cominstaller default.html;"Missing div into file administratorcomponentscominstallerviewsinstalltmpldefault.html
Step to reproduce
Go to the extension manager and check if with httpsvalidator.w.orgnu
You will have a message such
There is a missing html tag line which produce error during WC validation using httpsvalidator.w.orgnu
Error Unclosed element div.
From line column to line column 
div div idjmaincontainer classspan
The proposal is to add the missing on line 
Expected result
No more error
Actual result
Error Unclosed element div.
System information
Joomla ..";1
174;Fix utfmb database errors;"This Fixes the issues introduced here and reported here 
Maybe nikosdion can have a look here.
maybe he has a idea to fix for hosts that don't support utfmb
An error has occurred.

 Unknown character set 'utfmb' SQLALTER TABLE osvltbanners MODIFY alias varchar CHARACTER SET utfmb COLLATE utfmbbin NOT NULL DEFAULT '' 

As the file is preset in the update SQL Directory it will be picked up by the default updater anyway. Maybe just move the file httpsgithub.comjoomlajoomlacmsblobstagingadministratorcomponentscomadminsqlupdatesmysql...sql to another directory
zjw
Here I'm fixing your point and the third point Unknown character set 'utfmb' is not fixed yet.
Original Issue

Tested with Joomla ..dev current master as of abef.
Database Version MySQL .. mysqlnd ..
Database Connection Collation utfgeneralci
PHP Version ..
To test requires using a system that does not support utfmb see PR 

Perform a fresh install using the Test English GB Sample Data
Log in and configure

Global ConfigurationSystem Settings Debug system yes
Global ConfigurationServer Settings Error Reporting Development



Go to ExtensionsManageDatabase
Note the errors shown
 Database Problems found
 Table 'osvltbanners' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltcategories' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltcontactdetails' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltcontent' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltmenu' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltnewsfeeds' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvlttags' does not have column 'alias' with type 'varchar'. From file ...sql.
 Table 'osvltucmcontent' does not have column 'corealias' with type 'varchar'. From file ...sql.

Tap the Fix button. Note the error
An error has occurred.

 Unknown character set 'utfmb' SQLALTER TABLE osvltbanners MODIFY alias varchar CHARACTER SET utfmb COLLATE utfmbbin NOT NULL DEFAULT '' 

The errors obviously relate to PR .
I'm not sure what the proper fix is but I do see a couple things in that PR that I have questions about

 administratorcomponentscominstallermodelsdatabase.php line has a hardcoded file name which doesn't actually exist fileName JPATHADMINISTRATOR . componentscomadminsqlupdatesserverType...sql. I believe the file it is referring to is actually mysql...sql note the different date.
As noted in the errors above Numerous columns are reported as having an incorrect type. The SQL file attempts to set the type to varchar but the actual type found in the database is varchar. So the SQL file is obviously not being applied properly hence the errors. But that also raises the point that the default schema installationsqlmysqljoomla.sql needs updating so that the columns at issue are created as varchar not varchar.";Fix for nested sets in the menu installation and update processes;"Please see and for more details.
We need to correct the nested sets after we've removed one entry in the menu.
Thanks to matrikular and rolandd for providing valued input on this topic.
How to test
Do an installation and an update with the changed files included in the package and check whether the menu still works properly";1
175;Fix Install from URL and Install from WEB be more flexible;"Currently the Install from URL and Install from WEB tasks fail in some special cases.
Test
Try the Install from URL task with the following URL
httpsgithub.comjtesterTestExtensionarchive..zip
Expected Installation successful
Actual Unable to find install package
Test
Download the package first and install via Upload
Expected Installation successful
Actual Installation successful
Apply the patch
The Install from URL task should work now.
Ref Old bug tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";fix Wrong filename detection of ContentDisposition URL headers;"The problem is that the current download system tries to read the filename from the ContentDisposition expecting that filename is quoted but that's not required. So in some sites in this example from Github the update fails.
This is the expected header by the system
ContentDisposition attachment filenameplgsysmootable...zip
This is the returned header from some sites
ContentDisposition attachment filenameplgsysmootable...zip
As you can see the filename comes without the double quotes. I replaced the file name detection to work with both systems because now it's based on the equal sign.
I provided a demo plugin to test the issue.
Tracker issue
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";1
176;Made reference to fulltext alt instead of introtext alt;"It seems that this makes reference to the imagefulltextalt but the rest of the code seems to be targeting the intro text. Shoot me down if I'm wrong I only noticed this because I was trying to merge a conflict.
I would also question and I really don't know the proscons as to whether this could use a JLayout instead. The pro in my eyes would be code maintainability and standardisation. There may be an argument against this I really am not skilled enough to know.
Pull Request for Issue .
Summary of Changes
It referenced the intro text instead of the full text. Fill in both items differently so you can test.
Testing Instructions
Set up an article with different intro text and full text I suggest the text introtext and fulltext.
Make sure intro image is set up with an image. Make sure intro image is set to show.
Go to a tag view ensuring the article is showing. View the source of the image and ensure there is an alt text.
Expected result

Alt Text Shows.
Alt text matches intro image.

Actual result
article full image alt text shows
Documentation Changes Required
na";Intro image was calling fulltext alt attibute.;"When listing tags with show images enabled the alt was calling the full text image alt but calling the intro image for display.
Fixes the alt text to use intro inline with the image.
Noticed when inspecting";1
177;Added missing iniget check in JHttpTransportStream to fix updater issues;"We have two issues addresses with this commit
 JHttpTransportStream doesn't check for the status of allowurlfopen. This causes JHTTPFactory to return it as a transport even when it's not working.
 JHttpFactory was missing a check for the case that we have no working transport at all.";Update stream.php;"Changed isSupported method now it returns false if allowurlfopen is not set.
Testcase
 Allow fopen and deactivate allowurlfopen and activate CURL in your php.ini. Browse to the JoomlaUpdater
 Cannot use a stream transport when allowurlfopen is disabled.
 Apply patch
 Try again Joomla should use CURL now";1
178;Add script version to all js files and replace deprecated script signatures usage;"Pull Request for Issue js part.
Summary of Changes
Following merge this PR replaces all deprecated script methods signature usage across the CMS.
Also

adds script version to all js files to solve 
use the api in conditional ie statements html.js

Testing Instructions

Code review.
Apply patch and navigate in the frontendbackend. Confirm all is working fine and check all external js files are loaded and with script version

Documentation Changes Required
None.
pinging dgt";Use new features of JHtmlscript and etc...;"Pull Request for Issue .
Summary of Changes
Use the new features of JHtmlscript to set IE conditional scripts and versioned scripts.
Also set meta data on the document object rather than writing it directly in the template.
Basically this PR removes direct writing of some tags to the document head and lets the the head renderer take care of those things instead.
This does not fix any known bug or make anything noticeably better to the end user but Joomla's included templates should serve as examples to template developers so I think it's a good idea for them to make use of features like this as much as possible.
Testing Instructions
Compare the output html source in the head tag before and after applying this patch. A few tags may have moved around in some inconsequential manner and the uncompressed versions of some scripts may be used which weren't before applies to debug mode only but everything should still be there and continue to work exactly as before.
Documentation Changes Required
Nope";1
179;Update references to JRegistry for libraries folder;Updates references to no longer present JRegistry to the namespaced \Joomla\Registry\Registry;Undefined Class JRegistry;Got 'Undefined Class JRegistry' calling JComponentHelpergetParams;1
180;Adding option showon for global config of core component;"Finalise showon for global config text area for offline message
change default option for";Improve showon behaviours on Global configuration;"Description
This PR add more showon behaviours to comconfig.
Also in this PR is a small change in the order of the mail SMTP fields.
Previous order

SMTP Authentication
SMTP Security
SMTP Port
SMTP Username
SMTP Password
SMTP Host

Order after PR

SMTP Host
SMTP Port
SMTP Security
SMTP Authentication
SMTP Username only visible if SMTP Authentication Set to Yes
SMTP Password only visible if SMTP Authentication Set to Yes

How to test

Fresh Joomla install
Install patch
Test if fields showon behaviours Site Offline Cache FTP Proxy Mail online MailSendmail MailSMTP etc are working ok";1
181;Adds an onAfterRenderModule trigger;"This PR adds an extra event trigger to the module rendering process.
This way plugins can manipulate the rendered output of modules separately.
To test create a system plugin foobar with this
class PlgSystemFooBar extends JPlugin

 public function onAfterRoute
 
 JFactorygetApplicationregisterEvent'onAfterRenderModule' arraythis 'onAfterRenderModule'
 

 public function onAfterRenderModulemodule
 
 if isnullmodule
 
 return
 

 modulecontent 'p stylecolorredModule content replacedp'
 


Or add the registerEvent and onAfterRenderModule code to an existing plugin.";Add Event onAfterRenderModule;Allows the plugins to catch the module object content and params before it renders into the page. This is very useful for design purposes;1
182;Archived articles view year selection is set to;Archived articles view year selection is set to instead of going from current year to years before.;Archived articles view year selection hardcoded;"Pull Request for Issue .

Summary of Changes
Added a getYears function to retrive only archived content items years
to the archived model class
and the call in the view class
Testing Instructions
from backend set the state of some articles to archived choose from different created year
you should notice in the frontend that
Archieved articles view year selection must cointain only the archived year and not
the hardcode now year
see for more infoe
Comments
should be done better using ajax for dynamically select the relative months based on the selectecd year ....";1
183;Fixes favicon issues in Windows;See for details;Fix Favicon URL issue on Windows platform;JPATHBASE . '' does not always remove the base path as DIRECTORYSEPARATOR varies with platform. This should be replaced with JPATHBASE . DIRECTORYSEPARATOR.;1
184;Error on linking a category of another language;"This PR for fix issue 
Original Report
Steps to reproduce the issue
create a content category for a language.
create another content category for the second langauge.
link the two categories with each other.
Expected result
linked categories
Actual result
errors in linking popup
Warning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line 
Warning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line 
Warning Attempt to assign property of nonobject in srvwwwvhostskubler.chhttpdocslibrariesframeworkJoomlaRegistryRegistry.php on line 
System information as much as possible
joomla ..
Additional comments
sometimes the linking works but on some parcticular categories i get the errors above.";Apply onthefly class aliases even for Composer packages;"Fixes gh
Technical description
The librariesclassmap.php file registers class aliases with JLoader. This works fine when a developer creates an object using the old class name e.g. JRegistry instead of the new class e.g. Joomla\Registry\Registry. However this causes an issue when PHP doesn't try to autoload a class e.g. when the old class name is in the right hand side of instanceof. Example
foo new \Joomla\Registry\Registry vardumpfoo instanceof \Joomla\Registry\Registry returns true vardumpfoo instanceof JRegistry returns false
However if you have forced the autoloader to run you have no problem. Example
foo new \Joomla\Registry\Registry classexists'JRegistry' true Dummy line just to force the autoloader to run vardumpfoo instanceof \Joomla\Registry\Registry returns true vardumpfoo instanceof JRegistry returns true now
We can't use static classalias calls because PHP needs to load the original class causing memory and performance issues. Instead we need a way to create the aliases onthefly when either then old class is loaded via the dynamic alias set in JLoader or through the new namespaced class name through Composer.
This patch uses a fork of the \Composer\Autoload\ClassLoader class which calls JLoaderapplyAliasForclass when loading a class. This allows us to register class aliases on the fly when the new namespaced class is being loaded. Moreover the same trick is applied to all of the JLoader autoloaders. This results in perfect backwards compatibility while we are proceeding with the namespacing of the core code.
Backwards compatibility
This patch actually fixes backwards compatibility 
Performance impact
I could not measure performance impact not because of lack or try or incompetence but because of variance. Therefore I conclude that the performance impact is statistically not important. In layman's terms it's so small you can't even separate it from the variance in page load times added by external factors such as filesystem caches code caches web server thread management etc.
As for the memory impact it is about .Kb per aliased class. Even with hundreds of classes the memory impact is miniscule compared to the core code memory footprint.";1
185;Load the tabs save script only on the edit form;"This PR moves the call to save the state from the content.php bootstrap file to the form view where it belongs to. At the moment it is also useless to have it there because there is no apply function in the front where the state of the tabs needs to be save check the comment below.
The tracker item httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid is already opened.
As stated in the tracker item httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid in the comment from JeanMarie Simonet
Note for now it is useless on frontend but it may one day if we introduce Save Apply and correct checkin.";Avoid loading tabsstate.js in comcontent frontend;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid;1
186;Load custom.css if exist in Admin templates.;"See tracker .
This change was previously submitted as and as per Bakual I am resubmitting it as a way to reopen it. The background to this is as follows

A lot of Fabrik users want to make lists more compact since there is no custom.css in the standard Joomla admin templates at present we are using localebased CSS i.e. engb.css how weird is that to achieve this. Custom.css would be a more standard way of achieving this and will be more convenient when developing a multicountry website where admin users might change locale frequently to test how it looksworks.
Clearly a user can change the basic css files for the template however that will be overwritten when you apply a Joomla update.
It was previously suggested that the way to achieve this is to copy the template e.g. create myisis and make changes to the CSS there. Copying an Admin template just to change small CSS seems to me to be a little overkill and will then provide a potential minefield of incompatibility where you are using a copy of an old template against an updated rest of Joomla and a maintenance overhead to recopy and reapply the css changes every time there is a joomla update.

This is a small and simple change with little risk so I am not clear why there should be any issue with implementing it.";imp Add the ability to use a custom.css with Protostar.;"Currently it is impossible to use a custom.css file when using the Protostar template. A search on the net always ends up with a core hack of the index.php file which could result in a problem when the index.php is being updated in a Joomla update.
This change checks if the file custom.css exists and if so load it.";1
187;Admin app Use the autoloader;"Summary of Changes
Load files in the admin app by including the required classes to the autoloader.
Testing Instructions
The admin app should still function correctly.";Correct model helpers include paths commenus item comuser debuguser and debuggroup;"Summary of Changes
The include helper path in commenus item comusers debuguser and comusers debuggroup is not correct and when loading the model will generate a php fatal error.
Testing Instructions

Use latest staging
Add this lines to isis index.php

JLoaderregister'MenusModelItem' JPATHADMINISTRATOR . 'componentscommenusmodelsitem.php'
model JModelLegacygetInstance'Item' 'MenusModel' array'ignorerequest' true

JLoaderregister'UsersModelDebugUser' JPATHADMINISTRATOR . 'componentscomusersmodelsdebuguser.php'
model JModelLegacygetInstance'DebugUser' 'UsersModel' array'ignorerequest' true

JLoaderregister'UsersModelDebuggroup' JPATHADMINISTRATOR . 'componentscomusersmodelsdebuggroup.php'
model JModelLegacygetInstance'Debuggroup' 'UsersModel' array'ignorerequest' true

Try to load any admin page. You get a Fatal error you'll notice in the fatal error the patch where is trying to laod the helper is not correct.

Warning requireoncepathtojoomlastagingadministratorcomponentscomxxxxxxhelpersmenus.php failed to open stream No such file or directory in pathtojoomlastagingadministratorcomponentscommenusmodelsitem.php on line 
Fatal error requireonce Failed opening required 'pathtojoomlastagingadministratorcomponentscomxxxxxxhelpersmenus.php' includepath'pathtojoomlastaging' in pathtojoomlastagingadministratorcomponentscommenusmodelsitem.php on line 


Apply this patch
Repeat process and confirm no fatal error now.
Check menu itmes works fine and debuguser and debuggroup work fine too
Do a simple code review lines of code.

Notes
This problem was discovered when trying to load the menu items model in the GsoC Improved Multilingual Content Management";1
188;Fix showing user fields in a contact;"Currently fields specified in a user don't show up in the contact if the user is assigned to that contact. The Fieldgroup sliders appear but no fields within it.
Summary of Changes
This PR changes the userData'params' from a JSON string to the array we expect in the onContentAfterSave method.
Testing Instructions

Create some user fields and save some values into it.
Create a contact and assign the user with the save fields to it.
Check out the contact in frontend.

Expected result
Get the sliders for each fieldgroup filled with the saved fields.
Actual result
Only get the sliders without any fields in it.
Documentation Changes Required
None";fields Fix deprecated JUsergetParameters;"Pull Request for Issue 
Summary of Changes
In Joomla . when trying to save a user in the backend the following error will appear

Fatal error Call to undefined method JUsergetParameters in C\dev\joomla\plugins\system\fields\fields.php on line 

because JUsergetParameters was removed.
Testing Instructions
Joomla .x AND Joomla .

Apply patch
Try to save a user in the backend";1
189;Code Style joomla.sql;If you export a live site's database and compare it to the core joomla.sql you'll see lots of minor differences. This hardens the database examination and shows that joomla.sql contains many code style mistakes.;Create postinstall table only if it doesn't exist;No description provided.;1
190;RTL URL fields should be align left and LTR. BE patch;No description provided.;Corrected missing css in templatertl.css;No description provided.;1
191;Fix black areas in JPGs when resize with JImage;"If you for example create thumbnails from a JPG and use the method SCALEFIT the new areas will be black.
After this fix they will be white.
Test take an image JPG with a ratio e.g. xpx and the following code
jimage new JImagepathtofile
jimagecreateThumbsarray . 'x' . JImageSCALEFIT

Before patch the area around the images are black
After patch the area around the images are white";Allow users to pass in a custom color for background fill;"This patch currently works but is work in progress.
Please follow the discussion below
Summary of Changes
Currently the color to use for nontransparent images' background fill is hardcoded to black which provides no flexibility. Allowing the users to define a desired background color fixes this.
This PR adds two new functions setFillColor and getFillColor as well as two new helper functions and changes the functions resize and rotate to use the desired fillColor which defaults to black preserving BC.
Testing Instructions

 Create a footage array of test files for each image file type.
I recomment downloading my test files from the links shown below into a folder named 'testfiled' in your Joomla installation's tmp directory. These are specially prepared for this test scenario.
 Copy and paste the code below to whichever file you'd like to use for running the test. I used my component's entry file.

Example
files array
 'GIF' array
 'NO transparency in input file' JPATHROOT . 'tmptestfileskoZsZ.gif' httpi.imgur.comkoZsZ.gif
 'WITH transparency in input file' JPATHROOT . 'tmptestfileskyxRLmz.gif' httpi.imgur.comkyxRLmz.gif
 
 'PNG' array
 'NO transparency in input file' JPATHROOT . 'tmptestfilesFcoS.png' httpi.imgur.comFcoS.png
 'WITH transparency in input file' JPATHROOT . 'tmptestfilesVLBgDi.png' httpi.imgur.comVLBgDi.png
 
 'JPG' array
 'NO transparency in input file' JPATHROOT . 'tmptestfilesTFnVnnF.jpg' httpi.imgur.comTFnVnnF.jpg
 


 Font styles for the renderer
ftColors array
 'none' 'rgb'
 'red' 'rgb'
 'green' 'rgb'
 'blue' 'rgb'
 'azure' 'rgb'
 'pink' 'rgb'
 'yellow' 'rgb'
 'white' 'rgb'
 'transparent' 'rgb'
 'nonsense' 'rgb'


 Fill colors to pass to JImage
bgColors array
 'none' array
 'red' array'red' 'alpha' 
 'green' array 'green' 'alpha' 
 'blue' array 'blue' 'alpha' 
 'azure' array 'green' 'blue' 'alpha' 
 'pink' array'red' 'blue' 'alpha' 
 'yellow' array'red' 'green' 'alpha' 
 'white' array'red' 'green' 'blue' 
 'transparent' array 'alpha' 
 'nonsense' array'red' 'this' 'green' 'is' 'blue' 'all' 'alpha' 'nonsense but it works'


 Render image
render functionpath extension title

 Define neutral background color for every image to show the different fill colors don't apply when there's transparency
 neutral 'rgb'

 echo 'div styleheightpx background' . neutral . ' borderpx solid black floatleft'
 echo title
 echo 'img src' . path . ' altNew Image stylebordertoppx solid black '
 echo 'div'


arraywalkfiles functioninFiles type userender bgColors ftColors

 arraywalkinFiles functioninFile transparencyType usetype render bgColors ftColors
 
 echo 'h styleclearboth paddingtopemTesting image type ' . type . ' small' . transparencyType . 'smallh'

 pathinfo pathinfoinFile

 scaleFmt JImageSCALEFIT
 outPath JPATHROOT . 'tmp'
 outFile null
 outExt pathinfo'extension'
 outType explode'' getimagesizeinFile'mime'
 outType strtoupper arraypopoutType 
 outType outType 'GIF' IMAGETYPEGIF outType 'PNG' IMAGETYPEPNG IMAGETYPEJPEG
 outFmt array'width' '' 'height' ''
 outOpts array'quality' 

 i 
 foreach bgColors as color rgb
 
 Resize image defining no fill color should fall back to BLACK
 outFile outPathpathinfo'filename'outFmt'width'xoutFmt'height'color.outExt
 jimage new JImageinFile
 jimage
 setFillColorrgb
 resizeoutFmt'width' outFmt'height' true scaleFmt
 toFileoutFile outType outOpts

 render
 strreplaceJPATHROOT '' outFile
 outExt
 'pre stylewidth textaligncenter color' . ftColorscolor . 'strong' .
 printrTEST i . strtouppercolor . inarraycolor array'none''nonsense' ' falls back to BLACK' '' true .
 'strongpre' .
 'pre stylewidth textaligncenter color' . ftColorscolor . 'strongfillColor ' .
 pregreplace'\|\' '' strreplace'' ' ' strreplace'' '' jsonencodejimagegetFillColor .
 'strongpre'
 

 i 
 
 


echo 'pre styleclearboth paddingtopem' . printr'Imagetest done' true . 'pre'
jexit

This will render a collection of files for every image from the footage collection.
Please report issues and code improvement suggestions";1
192;Remove deprecated code JLanguageparseXMLLanguageFile;"Summary of Changes
Replace the only deprecated JLanguageparseXMLLanguageFile left in the code base after for JLanguageHelperparseXMLLanguageFile
Testing Instructions
Code review.
Documentation Changes Required
None.";fixed Removed methods from JLanguage to JLanguageHelper;"Pull Request for Issue .
Summary of Changes
Moved methods from JLanguage to JLanguageHelper
Testing Instructions
Code Review
Documentation Changes Required
None";1
193;Extensions Update show current version of extension;"This PR adds to Extensions Update the current version of an extension. The current list of extensions that could be updated to a newer version only shows the new version number.
This feature was requested by wkone in Joomla forum httpforum.joomla.orgviewtopic.phpft. I think that showing the current and new version gives an administrator more information about possible issues If the extensions uses semantic versioning then . to . is a minor update with little issues. An update from . to . might give somewhat more issues.
Testing Instructions
I had to test this feature on a Joomla .. website because I was not able to use the Extension Update funtion in Joomla .Beta. After installing some old versions of some extensions in .Beta I did not get the list of updates for those extensions. Probably because those extensions do not have new versions for .Beta...
Edit Workaround to test this patch on Joomla .Beta
manually edit librariescmsversionversion.php and temporary change the constant for Release Development level
const RELEASE '..'
const DEVLEVEL 'stable'
With these values Joomla will find new extension updates for old rd party extensions.
Don't forget to change it back to the original values after testing this patch. Original values
const RELEASE '.'
const DEVLEVEL 'beta'
Before the PR
I've installed older versions of extensions that use Joomla's update functionality.
Extensions Update via Extensions Manage Update shows that there are updates that can be installed. It shows the version of the extension that will be installed but not the current version

After the PR
After installing this PR the Extensions Update via Extensions Manage Update shows Current version and Version that will be installed";Adds current version to Extension Update Manager;"It is often useful to know what version of an extension you have installed before updating it to the latest version.
Currently the Extension Update Manager does not provide this information making you to have to go search for it.
This PR fixes this.
Before

After";1
194;Cleaning up datalist for JFormfieldText;"Issue
There is a phpcs issue with the signature of JHtmlSelectsuggestionlist. It contains a required idtag after the optional optkey and optText which essentially makes those two required as well.
Fixing this correct is basically not possible without creating a new function and proxy it.
The produced datalist also has some errors in it.
Solution

This PR will deprecate JHtmlSelectsuggestionlist which was introduced with J. to implement the datalist tag into the text formfield.
The datalist will be created directly in the getInput function of the formfield instead. It's a very simple code and the current usage of JHtmlSelectoptions within JHtmlSelectsuggestionlist to generate the items created more problems and was basically overkill.
Deprecated getSuggestions in the text formfield and replaced it with getOptions like we use in every other formfield. getSuggestions is proxied to getOptions in case someone was extending the class and actually used it.

Testing
Add some options to a text field and see if the datalist works. For example change the title for the article form to
 field nametitle typetext labelJGLOBALTITLE
 descriptionJFIELDTITLEDESC
 classinputxxlarge inputlargetext
 size
 requiredtrue 
 
 optionOptionoption
 option valueValueOptionoption
 option valueValue 
 field

It should show a list with suggestions as soon as you start typing or click into the field.
Please note that the first option will not show because there is no value given. The second option will show with both the value and the text depending on browser Chrome shows the text rigth aligned a bit smaller. The third option will show the value only.
Remarks
This is based on a Codestyle PR and some discussions we had after it.
Unfortunately I forgot to do the PR then and now can't find the discussion anymore.";Update text.php;Joomla Issue Tracker item;1
195;Fix for JDatabaseQueryunion method. See .;"Also minor corrections and improvements to docblocks for union methods.
Union method currently just doesn't work at all. This fixes it. See tracker and PR . If accepted this fix also needs to go into Joomla . and Framework .x.";Fix union. Fix union tests.;"Because it currently does not work at all.
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";1
196;Cleanup of canDelete canEdit and canEditState in Component Models;"This cleans up canDelete canEdit and canEditState functions so they always return a boolean and are consistent in how they operate they can return null in many cases instead of the documented boolean. There are no actual changes to functionality here so theoretically this is code review.
But feel free to test that the authorisation checks on ability to edit publishunpublish and delete are unaffected";Pass required parameter to canEditState.;"Original report by user ernebenan on joomlabugs.de httpwww.joomlabugs.deforumindex.phptopic..html
Summary of Changes
The JModelAdmincanEditState method requires one nonoptional argument record. As the parent method does not use the argument it could be omitted but PHP at least starting from . throws a warning

Warning Missing argument for JModelAdmincanEditState called in administratorcomponentscomcontentmodelsarticle.php on line and defined inlibrarieslegacymodeladmin.php on line 

PHP .
respectively an exception

Too few arguments to function JModelAdmincanEditState passed in administratorcomponentscomcontentmodelsarticle.php on line and exactly expected

PHP .
Testing Instructions

Requirements

PHP . to get the exception
Backend template Hathor because Isis processes the ordering request via AJAX so you won't see the error


Navigate to Content Featured Articles.
Order by Ordering.
Try to change the ordering of the articles e.g. moving one up or down.

Expected result

Reordering should work without any errors.

Actual result

On PHP . the action fails with the previously mentioned exception.

Solution

Apply this patch and test again.";1
197;unexpected navigation links on brochure sample data homepage;httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid;Update brochure sample data.;No description provided.;1
198;Remove usage of deprecated JArrayHelper from comcache;This is one from the series of edits in which we try to remove usage of deprecated JArrayHelper from the entire Joomla core system. Taking one extensionlibrary at a time for easy tests.;comcache cache view implement searchtools and ordering;"Description
This PR adds for consistency as it exists in so many other views in the backoffice the search tools filter order etc to comcache cache view.
Before PR

After PR

How to test

Install latest staging
Go to System Global configuration and enable some type of caching
Naviagt in the backend and in the frontend
Go to System Clear Cache you will see some cached items in site and in administrator
Apply this PR
Go to System Clear Cache
Test the new searchtools search filter client selector ordering pagination";1
199;Pass Attachment Disposition to PHPMailer Parent;"Summary of Changes
The JMail method addAttachment accepts the parameter disposition however does not pass it to the parent class PHPMailer's method of the same name.
Thus the change is to pass the paremeter disposition to the parent class.
Testing Instructions
None does not change existing behaviour ony adds functionality that got lost.
Documentation Changes Required
None
Pull Request for Issue .";. Use the static class to lookup the path;"Pull Request for comment comment.
Summary of Changes
Fixes the usage of the static Path class in the File class.
Testing Instructions
Install a plugin.
Expected result
Plugin is installed.
Actual result
An error is thrown.";0
200;Remove unused php version check;"Pull Request for Issue .
Summary of Changes
We have code in . still that runs postinstall and checks that you are on a version of php .. and if not gives the following message

Your PHP Version Will Be Unsupported in Joomla .


Beginning with Joomla . the version of PHP this site is using will no longer be supported. Joomla . will require at least a hrefQQhttpscommunity.joomla.orgblogsleadershipraisingthebaronsecurity.htmlQQPHP version .. in order to provide enhanced security features to its users.

This is now redundant and both the strings and the code \administrator\components\comadmin\postinstall\phpversion.php can be removed now as it is no longer possible to ever get that scenario
This PR removes the unused check and deprecates the language strings in accordance with current language string policy";. Double label in filtermodulesadmin.xml breaks admin modules manager;"Pull Request for Issue comment
Summary of Changes
Deleting double label
Testing Instructions
Patch and display admin modules manager
laoneo
I guess this can be merged on review.";0
201;Support alias overrides and overrides for namespaced classes;"Summary of Changes
A task on the roadmap of Joomla is to namespace the libraries and extensions in the core. This move is complicated as we don't want to break all extensions and make a very hard BC break in J.
A target should be to make the transition for the core and the extension developers as painless as possible. The most important point is that the extension developers are not forced to develop their extensions from scratch or have to maintain two code bases for J and J.
The approach
The approach is to namespace the classes in the librariesjoomla and librariescms folder like in this pr and to create an alias for the none namespaced class in a classmap file. For example JModelList can still be used but it is proxied to Joomla\Cms\Model\ListModel. It is planed to do that for . that the extension developers can use the same code base for their extensions in the Joomla series and in Joomla .
At the same time we will carry on the none namespaced aliases to J which means that any none namespaced extension will run on J.
What's the problem
JLoader which is the Joomla class loader has a little feature which does allow to override core classes. More details about that topic can be found here. This is problematic for the move to namespaces. As we have now a different name for a class.
If an extension is overriding JModelList then it would mean we can't change any code in core of Joomla . to use Joomla\Cms\Model\ListModel. It is also not possible for any extension to run namespaced in . otherwise it would not be compatible with extensions which do overrides core classes. This will end up that the extension dev if wants to use the same code base needs to use the none namespaced version also in Joomla . But then it is again not compatible with the extensions which do override the namespaced core classes in J.
If we say ok then lets just make it possible to override the namespaced version only we are breaking BC for ..
The solution
The class loader needs to be able to handle overrides for aliases. Assume an extension is overriding JModelList. If the code or an extension uses the class JModelList or Joomla\Cms\Model\ListModel then in both cases the override of JModelList needs to be used. The same goes when an override is registered for Joomla\Cms\Model\ListModel. Then code which is using JModelList or Joomla\Cms\Model\ListModel in core or an extension must use the namespaced override class.
Example
I'v prepared an override plugin in a test repo which does override the list model classes. Basically it does
public function onAfterInitialise

	JLoaderregister'JModelList' DIR . 'NoneNsListModel.php'
	JLoaderregister'Joomla\\Cms\\Model\\ListModel' DIR . 'NsListModel.php'


It can be downloaded from here. If you install and activate that plugin on the . branch with this patch then you should see a message which shows that the none namespaced override is called on every list model in the back end

If you do the changes from the test instructions in the file componentscomcontentmodelsarticles.php to use the namespaced list model then you should see the following message when you go to Content Articles

The plugin has settings which do allow to control if the namespaced or none namespaced override should be registered.

THIS PLUGIN IS ONLY FOR DEMONSTRATION PURPOSES.
What is done in this pr

When an override is done for an alias then it is detected and correctly loaded.
Unit tests for the override behavior for case and case in the testing instructions below.
The Joomla namespace librariessrc is loaded trough JLoaderand not anymore trough composer. Like that we keep the two worlds separated. Composer is managing the external libraries vendor dir while JLoader is managing the core classes. So we don't have to introduce class overriding in composer.
A bug is fixed in the JLoaderload function where an if check never returns true because it makes no sense to do a test on a lower case class name.
Duplicate code is unified in a new function JLoaderstripFirstBackslash.

Testing Instructions

Change the line in the file componentscomcontentmodelsarticles.php to class ContentModelArticles extends \Joomla\Cms\Model\ListModel
Install the override plugin from here.
Activate the plugin.
Open the plugin in the Plugin manager.

Case 
Set Override JModelList to yes and Override Joomla\CMS\Model\ListModel to yes.
Case 
Set Override JModelList to no and Override Joomla\CMS\Model\ListModel to yes.
Case 
Set Override JModelList to yes and Override Joomla\CMS\Model\ListModel to no.
Case 
Set Override JModelList to no and Override Joomla\CMS\Model\ListModel to no.
Expected result
Case 
On every list in the back end the green message box should be displayed except on the articles list the yellow box for the ContentModelArticles should be displayed.
Case 
On every list in the back end the yellow message box should be displayed.
Case 
On every list in the back end the green message box should be displayed.
Case 
No override message box should be displayed.
Actual result
Case 
On every list in the back end the green message box should be displayed except on the articles list there no box should be displayed.
Case 
On every list in the back end no message box should be displayed.
Case 
On every list in the back end the green message box should be displayed except on the articles list there no box should be displayed.
Case 
No override message box should be displayed.
Deprecation
This changes are basically needed for Joomla .. If we want to support only overrides for the namespaced version we can then revert back some changes in Joomla .
If we want to completely get rid of overriding core classes then we can deprecate it right now in JLoader and remove the code in Joomla at earliest then.
Performance
There is a minimal performance loss in the composer classloader wrapper as an extra lookup is made to detect if an override exists in JLoader for a namespaced class.
Warning
This pr should not encourage people to do class overrides as it is NOT the right approach to hook itself into the core It just deals with a feature which interferes with the transition to namespaces.";. Handle none string arguments properly in debug DateFormatter;"Pull Request for Issue .
Summary of Changes
The debug date formatter should handle no string arguments properly.
Testing Instructions

Set language debug on in the global joomla configuration
Go to modules manager

Expected result
Modules are displayed.
Actual result
The following error is thrown
PHP Recoverable fatal error Object of class Joomla\Component\Modules\Administrator\Service\HTML\Modules could not be converted to string in pluginssystemdebugDataFormatter.php on line";0
202;fields imagepath tooltip;"PR for 
The current tooltip says The filesystem path to the directory containing the image files to be listed.
but it starts the display at 
Which implies to the user that it is pointing to the root folder
It is actually displaying the filesystem path AFTER the Path to Images Folder as defined in the Media component options
This PR updates the string used to say
The filesystem path to the directory containing the image files to be listed relative to the default image folder.
Which more accurately reflects the path";.Fix loading language files from module extension folder;"Pull Request for Issue .
Summary of Changes
dirname.. is not referring to the correct filepath anymore that is causing the loading of modules language files failing.";0
203;Move the location of the in the contacts;"Pull Request for Issue .
stellainformatica does this resolve the issue";Inject the active user into JAdminCssMenu;"Summary of Changes
Calls to Joomla\CMS\FactorygetUser without specifying the user ID i.e. to get the currently logged in user are expensive because this always ends up calling Joomla\CMS\Session\Sessionget. In the admin modmenu we repetitively call this method to do ACL checks on menu items in the JAdminCssMenu class. We can make a microoptimization of the module's performance by injecting the user we're getting in the module's main file when instantiating this class.
Therefore this PR changes the module to inject that user instance and for BC this constructor argument is optional until ..
You can review the call graph comparison at httpsblackfire.ioprofilescompareecafccegraph to see how many fewer calls there are as a result which also creates a small performance enhancement.
Testing Instructions
With the patch applied navigate the backend. The admin menu is correctly assembled.";0
204;Publishing article options frontend;"Summary of Changes
In the content component there is the option to disable Publishing options from the content creation form. However this only disables the fields when in the admin not when you are creating an article in the front end.
This came up during a site review where the client couldnt understand how the metadata and publishing dates were being changed when the option was disabled
Testing Instructions
Set Show Publishing Options to hide

Expected result
Publishing options hidden from the content form in the admin and front end
Actual result
publishing options only hidden in the admin
After this PR the fields that are in the admin publishing tab will not be displayed on the front end content dorm if disabled. Note you need to check the fields that are disabled on the frontend as the fieldsets have different names and groups. Basically metadata publish up and down and author alias will be hidden
An override for Beez has been included you sihould check that as well.
Documentation Changes Required";Only get config and user from factory when needed in JHtmldate;"Partial Pull Request for Issue 
Summary of Changes
Calls to Joomla\CMS\FactorygetUser with no arguments end up in a call to Joomla\CMS\Session\Sessionget so this isn't a highly performant method call and should only happen when needed. In Joomla\CMS\HTML\HTMLHelperdate it is only needed in one of the four conditions so there is no need to always call this method. Likewise Joomla\CMS\FactorygetConfig only needs to be called in one of the four conditions. So stop arbitrarily calling these two methods on every call to Joomla\CMS\HTML\HTMLHelperdate and only call them when actually needed.
Testing Instructions
With the patch applied datetime strings are still correctly localized.";0
205;beez Can't save content when captcha is enabled;"Summary of Changes
Add the missing code to display captcha when creating content with the Beez template
Testing Instructions
Configure and enable the recaptcha plugin
In article options enable captcha on submit

Create a menu item type to create an article
Expected result
Captcha displayed on the front end when creating an article
Actual result
Test with protostar captcha displayed
Test with beez captcha NOT displayed and article cannot be saved";. Remove unused function from modmenu;"Pull Request for Issue 
Summary of Changes
Remove the undefined function in modmenu.js";0
206;Fix logout redirect error;"Pull Request for Issue .
Summary of Changes
See for explaination of the issue. This PR is an attempt to fix it
Testing Instructions


See confirm the issue


Apply patch check it again confirm the issue fixed


Hackwar Not sure if this is a proper fix Could you please review
Documentation Changes Required
None";. Fix JS error in searchtools;"Pull Request for Issue 
Summary of Changes
Only perform actions on the sort element if it exists
Testing Instructions
Refer to issue
Expected result
No JS error";0
207;Remove useless todo;"As far as I can tell this TODO is either outdated or wrong looking at the code I can see
label forfilterlanguageclient classelementinvisiblelabel
So there is a label and there is nothing TODO";. Fix drone errors coming from debug plugin;"Summary of Changes
Use tabs to indent lines instead of spaces";0
208;Wrong component checked in the router;"New router for comnewsfeeds and comcontact need new router enabled also in comcontent see 
Simple copy paste error
Shouldnt there be tests for this as well";. Use the document from the application in the controllers;"Pull Request for Issue .
Summary of Changes
Ongoing work to use injected objects in the MVC layer. This pr uses the document from the app in the controllers.
Testing Instructions
Browse around in Joomla and open the categories view in the articles manager.
Expected result
All is working ok.
Actual result
All is working ok.";0
209;Subpackage names;"Fix copy paste errors where the wrong subpackage is used
Consistency check so that the case is consistent across the subpackage
bored at a usergroup";. Load the cache controller through the factory in the base model;Load the cache controller through the factory in the base model. See for more details.;0
210;Update grunt readme;"Pull Request for Issue .
Summary of Changes
Just some updates to the gruntreadme.md";Don't generate links for action logs CSV export;"Summary of Changes
As suggested in this skips generating links for the action log messages since they aren't going to be used in most export formats anyway and in fact the CSV export helper has a striptags call. This offers a memory boost by not having to go through the router after the memory issues identified in .
A Blackfire graph can be reviewed at httpsblackfire.ioprofilescomparefceedabbbfgraph note that the increased number of Joomla\CMS\Language\Text and ActionlogsHelpergetHumanReadableLogMessage calls is actually because more log messages are being included in my exports the first request in the comparison is actually reaching my second timeout after rows while with this patch I'm now over rows before the timeout is reached
Testing Instructions
With the patch applied the action logs CSV file should still be exported. If you're profiling the request you should note a decrease in memory use and depending on how large of an export you're working with probably an increase in row count.";0
211;Add unit tests for JComponentRouterRulesStandardTest;"Summary of Changes
Adds unit tests.
I've taken the comcontent router and the sample data we already use for tests rather than attempt to build up something that's nested and has a relevent menu structure etc
Testing Instructions
Hope travis stays green
Documentation Changes Required
None";. Deprecate functions in the CMS Factory where we have a service for;Adds proper deprecate messages to the Joomla\CMS\Factory class where we have a service provider for. Additionally it cleans up some code styles in the deprecated doc blocks and does proper intending of the doc tags.;0
212;Fixed wrong DocBlock summary for function canEditState;"Summary of Changes
Fixed wrong DocBlock summary for function canEditState in some component models.
Original string
Method to test whether a record can be deleted.
New string
Method to test whether a record can have its state changed.
Testing Instructions
Code review.
Documentation Changes Required
None.";.. Correcting Greek flag;"Pull Request for Issue 
Changes image to

Can be merged on review.";0
213;Isis Chzn 'unpublished' color;"Pull Request for Issue .
Summary of Changes
Red color state of 'Unpublished' in chosen dropdowns has gotten lost along the way. This PR fixes that.
Testing Instructions
Apply patch and navigate to article edit.
Before patch

After patch

Documentation Changes Required
None";. Protect the default workflow;"Summary of Changes
With this PR the default workflow is not delete and changeable
Testing Instructions

Apply patch
try to change the default workflow and its stagestransitions

Expected result

not editable
not deletable

Actual result

editable
deletable";0
214;content.language layout changing 'default' to 'undefined';"Pull Request for Issue 
Summary of Changes
Changing language display to undefined instead of default when the item language is not set usually by accident See or when a language has been set to some items on a multilang site and the content language is deleted.
Testing Instructions
One can test using same conditions as or by deleting a content language and looking at the items managers
Can be merged on Review.
Bakual";. Correcting Cassiopeia scss error;"Pull Request for Issue 
Summary of Changes
atum cassiopeia
Testing Instructions
patch a clean checkout of the .dev branch
Run npm install
Expected result
Now the css files are created for cassiopeia
Can be merged on review I guess";0
215;Update doc blocks;"It is built not build
discovered during the testing of 
wilsonge as requested";. Group banners buttons;"Summary of Changes
Group banners buttons in the toolbar
Testing Instructions

Apply patch
Check publishunpublishtrasharchive functionallity

Expected result
Works as before";0
216;Isis Chzn 'trashed' color;"Pull Request for Issue .
Summary of Changes
Sets trashed state of chosen dropdown to red.
Testing Instructions
Apply patch and navigate to article edit.
Before Patch

Actual result

Documentation Changes Required
None";Guest variable is int not boolean;"subj
Pull Request for Issue .
Summary of Changes
Testing Instructions
Expected result
Actual result
Documentation Changes Required";0
217;MVC factory;"Summary of Changes
Models Views and Tables should not being created in the Controller or models itself. Instead of a factory should do the job.
This PR adds a new Mvc factory where we can pass that into a controller or model where the can create their objects trough. Like that we are one step closer to a DI set up.
This should simplify the work of joomdonation in and .
Testing Instructions
Browse the back end.
Expected result
No error.
Actual result
No error.
Documentation Changes Required";. Fix permissions report. Handle missing descriptions in asset files.;"Pull Request for Issue .
Summary of Changes
In many xml files the description has been removed. If there is no description use the title of the action.
Fixed wrong access level.
Testing Instructions
Ad different users with different permissions.
Check the permission report for users and usergroups if everything is as expected.
Expected result
All permissions are displayed

Actual result
httpsissues.joomla.orgtrackerjoomlacms
Documentation Changes Required
no";0
218;added the space between text and table border;"Pull Request for Issue .
Summary of Changes
Added the space between table border and text displayed.Added padding
Testing Instructions
Go to Menu Extensions Manage Discover.
Expected result

Actual result

Documentation Changes Required
None";. Fix missing Language Key improve legend;"Summary of Changes
The permission reports for users and usergrpups show a language key instead of a language string.
I suggest to remover this Text completely as it is obviopus that the legend is a legend.
Additionally I added a space between icon and text to improve the layout.
Testing Instructions
Have a look on the legend of the permission reports before and after patch.
Expected result
No Language Key should be visible
Actual result

Documentation Changes Required";0
219;. New Frontend Aurora Template;"Summary of Changes
So long Protostar and welcome Aurora the new J template based on BS.
As it currently stands there are still more views to migrated over to BS.
Aurora now uses proper naming conventions for module positions such as sidebarleft topa etc.. unlike the old position which nobody had any clue about.
With the sample data I've tried to make the homepage look like a proper demo site by displaying a full stack of modules each using different Module Style and Moulde Class Suffix to show new users what it has to offer out the box.
The banner image used if just for demo purposes until the design team provide something a bit more concrete.
Screenshot";. Fix CS;Fixes CS error. Merge on Dronephpcs passing.;0
220;Associations help links;"Pull Request for Issue 
Summary of Changes
Configure and setup the names of the related Helps Screens to allow their display in the admin.
Thanks to MATsxm for doing the hard work
Testing Instructions
Help button in comassociations list view item view and options view
Expected result
Dedicated Help Screens to open
Actual result
page not found
Documentation Changes Required
Help Screens are already created but need improvement";. Remove remaining 'column ' options from blogfeatured;"Pull Request for Issue .
Summary of Changes
This field no longer has any effect. This PR removes the remaining traces of it from comcontent featuredblog. Column count can now be set by 
Testing Instructions
Apply PR and check that Columns field has been removed from the 'Featured Articles' menu item.
Expected result
Actual result
Documentation Changes Required
Yes";0
221;enGB style guide says ID not id;The style guide says to use ID httpsdeveloper.joomla.orgengbuserinterfacetextguidelineswordstowatch.html;BS Fix for XSS issue with datatarget attributes in BS JS;"Summary of Changes
This patch by SniperSister fixes an publicly known XSS Problem in the BS JS reported to the JSST by CLodder. As this issue is publicly known and can also impact rd partys the JSST decided to patch it in the public tracker. This also allows an wider group of people to test this patch.
Testing Instructions
Make sure the following bootstrap js components still work

Alert
Carousel
Collapse
Dropdown
Modal
Scrollspy
Tab

Try using the datatarget and href methods and also try to verify that the mentioned components still work in the Joomla backend.
Expected result
BS JS Code still works
Actual result
The current JS Code has an know and publicly documented XSS Problem
Documentation Changes Required
none
cc joomlasecurity mbabker";0
222;URL is always all capitals;"URL	 Capitalise except when used in code.
httpsdeveloper.joomla.orgengbuserinterfacetextguidelineswordstowatch.html";. Add missing comma to the sql file thanks degobbis;"Summary of Changes
Add missing comma to the sql file thanks degobbis
Testing Instructions
please review or run a upgrade that should fail with an sql error
Expected result
no sql error
Actual result
sql error on missing comma
Documentation Changes Required
none";0
223;comfields Delete obsolete language strings;"When merging these strings should have been deleted as they have been replaced by JLIB strings
Can be merged on review
Bakual";.plguserterms Add namespaces;"At first I made PR by accident. I apologize for this. From now on I will be more attentive.
I decided that it would just be wrong to close and decided to add missing namespaces to User Terms plugin.
Testing Instructions
Plugin should work correctly after applying this patch.";0
224;Removed unnecessary blank lines;"Summary of Changes
Removed unnecessary blank lines.
Testing Instructions
Code review.
Documentation Changes Required
None.";. Use the injected application in the menu module;"Summary of Changes
Use the injected application in the menu module.
Testing Instructions
Open the back end.
Expected result
The side menu is working.
Actual result
The side menu is working.";0
225;Removed unnecessary blank lines;"Summary of Changes
Removed unnecessary blank lines.
Testing Instructions
Code review.
Documentation Changes Required
None.";. Use a factory to create user objects from;"Summary of Changes
The user objects can be created through a factory. So FactorygetUser and UsergetInstance get deprecated.
Testing Instructions
Open the back end and front end.
Expected result
All is working as expected.
Actual result
All is working as expected.";0
226;Use StringInflector to guess viewlist from viewitem;"Pull Request for Issue .
Summary of Changes
PR made as requested by wilsonge Original code from other PR 
Testing Instructions
Code review";. Use the injected application in the quickicon plugins;"Summary of Changes
Use the injected application in the quickicon plugins.
Testing Instructions
Open the cpanel in the back end.
Expected result
The update check icons are working.
Actual result
The update check icons are working.";0
227;relNoopener;"I raised this issue last year with the JSST but it was rejected as a nonissue and more of a browser bug than something Joomla should be doing anything about.
However as now the Google site auditing tool lighthouse lighthouse report httpsdevelopers.google.comwebtoolslighthouseauditsnoopener will report this as both a performance and a security issue I believe there is no longer an excuse for not taking action in joomla.
It is a really simple change that will not have any visible effect on a website that uses targetblank for any of its menu links and the links generated by tinyMCE already do this even if you were not aware of it. This change will act to harden a Joomla website from malicious sites that trick you into creating links to their sites and has a claimed by google performance benefit.
Frontend Menus
Menu items that are links to External Urls with the target set to New Window aka targetblank. There is no need to apply this to other menu links with the target set to New Window as they are to our own web site and presumably you are not going to attack your own web site.
To test this create two menu items. One an article set to open in a new window and the other an external link set to open in a new window. Only the external link menu will have a relnoopener attribute
Fields
We can also create links to external web site using the URL field type and this is hard coded to open in a new window with targetblank that's probably wrong to hard code but it is beyond the scope of this PR
To test this create a field of type URL for an article and then create an article that uses the field and check to see that the link is rendered with the relnoopener attribute
Article Links
With articles we have the option to create up to three links Link A Link B Link C. This PR adds the relnoopener attribute to the three options new window popup window modal window
To test this enter a link for all three fields in an article using each of the changed options the three options new window popup window modal window and check to see that the link is rendered with the relnoopener attribute
Contact links
With contacts we have the option to complete a field called Website. This is hard coded to open in a new window with targetblank that's probably wrong to hard code but it is beyond the scope of this PR
To test this create a contact and complete the website field and check to see that the link is rendered with the relnoopener attribute
Cominstaller
Every update site has a targetblank link to the external extension update site. This adds the relnoopener attribute to the link note this is added to joomla.org links as well as its not possible to differentiate.
Every available update has an infourl that has a targetblank link to the external extension site. This adds the relnoopener attribute to the link.
External links to non Joomla properties
The relnoopener attribute has also been added to several hardcoded links within Joomla to non joomla owned properties.

Two Factor Auth Plugin
Debug Plugin
Installation GPL link

External links to Joomla properties
I assumed we are not going to attack our own users sites but to prevent tools like limelight from reporting security errors I have also added the relnoopener to the links to the joomla.org homepage that are publically visible on the admin login page";Batch Change State pass only affected items to table and event;"Summary of Changes
When you currently change the state of items published unpublished trashed...in the list via inline or toolbar button joomla does not care about the current state of the item.
This affects the notification x items published... and more importantly it also affects the primary keys that are passed to the onContentChangeState event it passes all primary keys of all selected items including the ones where the state did not change. A plugin that listens to this event has no possibility to check if i.e. an article was unpublished before because the value in db already changed.
After these changes we pass only the pks that really should bechanged to the table and plugin event. If there are no items to change we respond with a success message items published.
Because we already load the item no additional query is needed.
Testing Instructions
Go to article Manager set one article as unpublished.
Checkall articles and publish them.

As the change was made in ArticleModel this will affect all Models in the backend that are extending it. So it would be good to test other entities as well.
Before Changes

After Changes

When no items were published";0
228;Remove colons in user profile labels;"Summary of Changes
Make labels consistent without colons.

Testing Instructions
Enable User Profile plugin
In backend edit a user.
Go to User Profile tab.
View labels.
In frontend log in.
Click Your Profile link.
View labels under User Profile section.
Click Edit Profile button.
View labels under User Profile section.
Expected result
Colons removed from labels.";. Fix broken preset menu import;"Pull Request for Issue .
Summary of Changes
This problem is a bit complicated because there are two bugs which are overlaying.
First When a non component menu entry will be imported by the preset the componentid is missing fixed here httpsgithub.comjoomlajoomlacmspullfilesdiffbeabdecfdfR
Second if the menu saving failed for new menu items the model still tries to publish non existing items without an id and throws another error fixed here httpsgithub.comjoomlajoomlacmspullfilesdiffdfdffcafeabR.
Testing Instructions
Create a backen menu and choose a preset.
Expected result
Preset is imported
Actual result
Preset import fails
See for the follow up bug not related to this fixes";0
229;Set defined'JEXEC' as first statement;"Summary of Changes
Set the defined'JEXEC' or die as first statement in gmail authentication plugin.
Testing Instructions
Code review.
Documentation Changes Required
None.";. Clean the node modules in the media folder on install;Would be good if the nodemodules folder get cleaned on install for the media manager. This pr changes the postinstall hook to use ci. This needs a version bumb in the min npm requirements.;0
230;Remove profile form if no profile fields to display. Resolves issue resubmission of PR;"Pull Request for Issue .
resubmission of previous PR 
Summary of Changes
In the user profile plugin if there are no user profile fields to display then do not show the user profile tab.
Testing Instructions

Start with a standard Joomla installation.
Activate the User Profile plugin and set all fields to disabled except for the Terms Of Service field.
Create a new user via normal frontend registration form. ToS field should appear on the registration form but no other profile fields.
Now switch to the admin panel and bring up the new user's details in the user management.
Note that the user profile tab should not appear.

Expected result

After this change the profile tab should not be shown in this case as there would be no fields on it to display.

Actual result

In current Joomla .. and earlier given the above scenario the profile tab would appear in the management tab but clicking on the tab would just give you a blank form.

Documentation Changes Required
None.";. Inject the document in the syndicate helper;Inject the document in the syndicate helper.;0
231;Pivate Messages Disable all editorxtd plugins;"The editorxrd plugins are useless when creating private messages
Before this PR all but two contact and menu were disabled
After this PR all cored editorxtd plugins are hidden";. Inject the application in the breadcrumbs helper;Inject the application in the breadcrumbs helper.;0
232;Update default.php to fix missing space between img attributes;"Pull Request for Issue .
Summary of Changes
Added the correct space between the attributes inside the banner elements
Testing Instructions
Overwrite the default.php in a joomla .. with the fixed one. Try the steps from issue and check the HTML source. The spaces should be now correct. As an additional test you can run an HTML syntax check against the section and it now validated correctly.
Expected result
img srcbannersbannerexamplex.gif altx width height
Actual result
img srcbannersbannerexamplex.gif altxwidth height 
Documentation Changes Required
See source code";. Inject the application in the fields plugins;Inject the application in the fields plugins.;0
233;Isis btngroup btn btn margin fix;"Pull Request for Issue .
Summary of Changes
There is a couple of instances where multiple .btn within a .btngroup shows double borders between each button. This PR fixes that.
Testing Instructions
Instances which I found possibly more.
Apply patch and navigate to...

Article edit Versions
Content Media

Before Patch


After Patch


Documentation Changes Required
None";. Fix the imports of stylesheets and scripts;After the merge of this pr adapts the remaining javascript and stylesheet imports which were using the old scheme.;0
234;Fix copying the source lang in association editing;"Pull Request for Issue 
Summary of Changes
The patch sets the target language before doing the copy
Testing Instructions
Please use info from for testing
infograf brianteeman";. Use the namespaced Form class in the fields plugin functions;"Use the namespaced Form class in the fields plugin functions.
Testing instructions
Create a custom field.
Expected result
Field is created.
Actual result
Field is created.";0
235;Wrong return type;"The return type is declared as string but actually the method can also return an array.
As per documentation the type array has been introduced in . but the return type declaration has not been modified accordingly.
No testing Instructions please merge on review.";Add ability to switch off the animation of showons;"Summary of Changes
To conditionally hide fields or content based on the values of other fields you can add a showon attribute to fields in xml files.
However this will always use a slideUpslideDown animation.
There are cases where you do not want to animate the showinghiding of your content or fields.
This patch adds the ability to switch off the animation by adding a classnoanimation or noanimate to the field.
You can also add the class to the surrounding showon container which can be helpful when creating your own via php.
Testing Instructions
For instance you can test with the Joomla core configuration
		field
			namepageheading
			typetext
			labelCOMMENUSITEMFIELDPAGEHEADINGLABEL
			descriptionCOMMENUSITEMFIELDPAGEHEADINGDESC
			default
			showonshowpageheading
		

And change that to
		field
			namepageheading
			typetext
			labelCOMMENUSITEMFIELDPAGEHEADINGLABEL
			descriptionCOMMENUSITEMFIELDPAGEHEADINGDESC
			default
			showonshowpageheading
			classnoanimation
		

Now go to administratorindex.phpoptioncomconfigviewcomponentcomponentcommenus and toggle the Show Page Heading setting.
Before the patch it should have the slide animation. After it should not animate.
Documentation Changes Required
httpsdocs.joomla.orgFormfield
Optionally add a note somewhere that you can switch off the animation effect via the classname.";0
236;comassociations Display Copy Reference to Target only for extensions using the savecopy task;"Some rd party extensions may not support savecopy.
Summary of Changes
This patch adds in the associations helper a new support variable.
support'savecopy' true
Testing Instructions
On a multingual site using core extensions make sure Copy Reference to Target works and is always displayed as usual.
Test that the button is not displayed when it is set to false or absent from the associations helper in comcontent for example.
administratorcomponentscomcontenthelpersassociations.php
rdeutz Can be merged on review.
alikon";Fix PHP . error in JHtmlContent;"Pull Request for Issue .
Summary of Changes
Fixes a syntax error on PHP ..
Testing Instructions
Test on PHP . setup.
Create Category List menu item.
Set Filter Field to Month published.
View menu item in frontend.
Expected result
Select with months shown.
Actual result
Parse error syntax error unexpected TOBJECTOPERATOR in librariescmshtmlcontent.php on line 
Documentation Changes Required
No.";0
237;fixes;"Pull Request for Issue .
Summary of Changes

Call the menu function with the right amount of variables
Fix all the logic for the modals since modals they need to be checked against window.parent.Joomla NOT Joomla . THIS CODE WILL NEVER BE EXECUTED IN .x DUE TO THE EXISTENCE of jInsertEditorTexttag editor BUT SINCE IT'S ALREADY FIXED IN J THIS ALIGNS THE CODEBASES

Testing Instructions
Inside an article use the menu button to insert a link to a menu item in an article
Expected result
Actual result
Documentation Changes Required";Update TinyMCE to ..;"Version .. 
Fixed a bug where Edge wouldn't be able to select images or tables.";0
238;. dev added a test to JHighlighter;"Pull Request for Issue .
Summary of Changes
Added a javascript test to unhighlight method of JHighlighter library
Testing Instructions
Expected result
Actual result
Code coverage increment
Documentation Changes Required";. Inject the database into the query helper;Inject the database into the query helper.;0
239;. Improving row selection in Joomla Admin;"Summary of Changes
Usually when I was using Joomla Admin the multiselect on the list view was not very userfriendly since clicking on such a small square can sometimes fail on the first try. So I came up with a solution for
Testing Instructions

Go to articles or any multiselect list view try clicking anywhere on a row it will select the whole row
Try trashing multiple items by clicking severall rows
Try the toggleall button

Expected result
When you click on a row on the articles list view for example it will highlight the whole line

When you click on the selectall checkbox it will highlight all items on that page

Notice
I'm aware of backwards compatibility so the regular checkbox will still work as before while still highlighting the whole line.";Privacy dashboard direct access to the privacy consent plugin;"Pull Request for Issue 
Summary of Changes
Adds direct link to the privacy consent plugin when there is no Privacy policy article defined.
Testing Instructions
make sure no article is defined in the Privacy Consent System plugin parameters
Before patch
No link to the plugin and no idea what to do when getting The Not available button...
After patch

The only other hyperlink for a chack check that could be also added is one to the Global Configuration for mailonline but this is rather obvious.
For menus it is also quite obvious.
Can be added though if judged necessary in another PR.";0
240;. Styling tweaks for notify alerts;"Pull Request for Issue .
Summary of Changes

Fix the colour of the close button
Add some padding to the click area is a little bigger

Old

New";. Workflow access xml;"Replacement PR for 
Summary of Changes
Remove description because all other core components are now without description
Testing Instructions
Code inspection
chmst";0
241;remove new router feature;"Executed summery
Removed the new router feature for

comcontact
comcontent
comnewsfeed
comusers

Testinstructions

Install Joomla with Testdata
Apply patch
Test if menu links are still working
Test if link other links still working

Expected result
Links should still work";Add an event to trigger when you execute a workflow transition;"Add an event triggered when you execute a transition. Easier to listen for than onContentAfterSave and also contains the transition rather than the stage that you have to diff yourself
 cc bembelimen";0
242;. Fix validation tests failing;"Pull Request for Issue .
Summary of Changes
Fix javascript tests
Testing Instructions
If drone is green we're golden
Expected result
Actual result
Documentation Changes Required";Fix typos;"Pull Request for Issue .
Summary of Changes
This PR just fixes some small typos in FormattedtextLogger class. We need to use \RuntimeException instead of RuntimeException since the class is namespaced. I found this error because we use Kunena forum on our website and sometime we see this error
 Class 'Joomla\CMS\Log\Logger\RuntimeException' not found
Testing Instructions
Code review.";0
243;Add Drag and Drop Installation with upload box for;"Pull Request for Issue 
Summary of Changes
This is a new PR for that for easy discuss about the new upload layout.
Images
Drag and drop install

Select install

If browser does not support FormData will fallback to original upload layout. Please someone help me test in IE.";Document getListCount assumption of unique set by getListQuery;"Pull Request for Issue 
Summary of Changes
getListCount assumes that getListQuery returns a unique set of rows
This PR documents this assumption
Testing Instructions
Please review the added comments and suggest corrections better text
Expected result
Above behavior is documented
Actual result
Behavior is not documented
Documentation Changes Required
Maybe";0
244;. add jstests coverage report;"Pull Request for Issue .
Summary of Changes
Adds reports for the tests coverage


Testing Instructions
Expected result
Actual result
Documentation Changes Required";. Inject the dependencies in the stats module;Inject the dependencies in the stats module. Additionally some logic in the layout got moved to the module class to simplify the layout.;0
245;. Fix Aurora FontAwesome path;"Pull Request for Issue .
Summary of Changes
I accidentally reverted the Grunt changes made in the initial Aurora PR. This adds them back in and fixes the Font Awesome path in the variables.scss";.Remove switcher from admin menu edit;"Related to .
Summary of Changes
Use the selection of the context when opening the ed view for a new menu.
Then the switcher is not needed any more.
If the user is in administrator context heshe can choose a preset. If in site context the preset is not rendered.

Testing Instructions
Go to manage menu and edit a menu or make a new one.
Expected result
If you are in context site you cannot choose a preset if you are in context administrator you can choose.
Actual result
See .
Additional remark when tabbing through the screen it is not possible to open the selection for presets
Documentation Changes Required
yes";0
246;. Add missing class formvalidate;"Pull Request for Issue .
Summary of Changes
Testing Instructions
Expected result
Actual result
Documentation Changes Required";.. plgcontentcontact. Respect default values;"Pull Request for Issue 
Summary of Changes

Correct default value of parameter url in xml
Add filter integer to parameter linktoalias in xml
RespectForce default values in php if plugin settings are not newly saved by user
Force integer for linktoalias B\C in php
typesafe comparisons

Testing Instructions

Install Joomla .. or update from ..x to ..
Don't save the plugin settings of plgcontentcontact 
Create Contact and assign Linked User
Create Article created by user linked to contact
Set content component Show Author and Link Author to Yes and set menuarticle settings to use global

Expected result

Code falls back to default values if user doesn't save the plugin settings
Article displays link to contact page of author.

Actual result

see";0
247;. Fixed missing formvalidate classes in comusers;"Pull Request for Issue .
Summary of Changes
Placed the class formvalidate in the edit views in comusers group level note and user in order to have the buttons in those views working.
Testing Instructions
The problem was encountered in the comusers part in the following places

When you click on Users Groups select a user or create a new one and then try clicking Save or CancelClose.
When you click on Users Access Levels select a level or create a new one and then try clicking Save or CancelClose.
When you click on Users User Notes select a note or create a new one and then try clicking Save or CancelClose.
When you click on Users Manage select a user or create a new one and then try clicking Save or CancelClose.

Before the fix the CancelClose and Save buttons were not working as you can see in the figure

After the fix when you click Save it should save normally without JS errors and when you click on CancelClose it should go back to the previous view.
Expected result
Actual result
Documentation Changes Required";Multilang correcting Published Request Form Menu Item url in Privacy Dashboard;"Pull Request for Issue comment
Summary of Changes
Correct the link language included and the PublishedUnpublished status of the Published Request Form Menu Item url making it totally independent of the site default language when we do have such menu items.
Also when we have no menu item correcting the Itemid to use the default site language home page one instead of the one set to ALL languages.
Testing Instructions
See comment
Test and test.
SEF off to see the nonsef url.
After patch
When we have one or multiple menu items
The url obtained will anyway be the one of the lowest id in case there are multiple menu items of this kind no change there as we have only one line for an url in the dashboard but at least
The Itemid and the language will be the correct ones in case there are multiple menu items this independantly from the site default language.
Example when there is a frFR such menu item

Also when there is NO menu item the Itemid used will not be anymore the Itemid of the default home page set to ALL languages but the one of the default home page for the default site language. That is important concerning modules assignment.
Example when French is default language and the French home page Itemid is while the home set to ALL is .
Before patch

After patch

mbabker";0
248;Remove console.log from tinymce.min.js;"Pull Request for Issue 
Summary of Changes
Remove the console log from tinymce.min.js
Testing Instructions

Edit content in the backend
Ensure nothing is dumped to the browser console";Adds keyup trigger on showon elements;"Summary of Changes
This PR will make elements showhide when typing in a text field.
Currently the showon elements are only updated when the value of a field changes onChange.
However when typing in a text field the change event is only triggered when the focus is moved to another element.
So the PR changes that behaviour to also update the showon fields when the keyup event is triggered.
Testing Instructions
Add this code to a form xml file inside a fieldset.
We'll use the banners config file for this example
administratorcomponentscombannersconfig.xml
field namemytextfield typetext labelMy Text Field 
field namemynote typenote classalert alertsuccess
	 descriptionShows when the text field is not empty
	 showonmytextfield


Before PR
Start typing in the text field. Nothing happens.
But when clicking outside the textfield or hitting tab the note shows.

After PR
Start typing in the empty text field.
The note shows as soon as it is not empty.
The note also hides again as soon as you delete the characters in the text field.";0
249;Isis RTL Sidebar relative position;"Pull Request for Issue .
Summary of Changes
For RTL gives the sidebar a relative position on less that px screen width.
Testing Instructions
Log in to admin with RTL language and navigate to view with sidebar administratorindex.phpoptioncomcontent. Resize screen width.
Before PR
See 
After PR

Documentation Changes Required
None";. Load the document properly in the exception handler;"Summary of Changes
The error page is currently broken. The error document is not set in the application and the active menu is accessed even when it can't exist.
Testing Instructions
Open a none existing url which should produce a .
Expected result
The error page is displayed.
Actual result
An error is thrown.";0
250;. Update scsslint gem to v..;"Pull Request for Issue .
Summary of Changes
Update the ruby gem scsslint to v.. and recompile

Note to ciaran and dgt you'll both need to run gem install scsslint once this is merged.";. Access the arguments directly from the array to prevent an infinite loop;"Pull Request for pr comment comment.
Summary of Changes
In the abstract event when the argument has the same name as the gettersetter function then an infinite loop happens. This is a workaround to directly fetch the Arguments in the getter instead of calling the helper function of the abstract base class.
The problem is this line httpsgithub.comjoomlajoomlacmsblob.devlibrariessrcEventAbstractEvent.phpL which produces an infinite loop. Honestly I would remove the getArgumentsetArgument overriden functions completely. mbabker thoughts
Testing Instructions

Apply patch 
Activate the redirect plugin
On the front open a none existent url

Expected result
Error page with is shown.
Actual result
Site crashes with an infinite loop.";0
251;Fix typo in System Fields plugin;"Pull Request for Issue 
Summary of Changes
This PR fixes a typo in System Fields plugin causes custom fields data not being saved
Testing Instructions


Install staging


Create some custom fields for articles can be Text custom fields


Addedit article. Before patch the value entered for custom fields are not being saved. After patch it is saved properly";. Use the correct params object in the redirect plugin;Use the correct params object in the redirect plugin.;0
252;ACL Debug missing String;"Go to UsersGroups and then select any of the Advanced Permission Report links
In search tools select component select modules
You will see that there are two missing strings for COMMODULESACTIONEDITFRONTEND
Apply the patch and repeat and the strings are present";. Fix CSP reporting;"Summary of Changes
When he HTTP Headers is activated no reports are created. An error is thrown that the class Joomla\Component\Csp\Administrator\Table\DatabaseDriver is not found. This is due a missing namespace import.
cc zero
Testing Instructions

Enable the HTTP headers plugin
In the CSP tab select Detect as mode
Save the plugin
Open the front page

Expected result
In administratorindex.phpoptioncomcsp are reports visible.
Actual result
No reports are generated.";0
253;Recently added articles sorting admin panel;"Pull Request for Issue 
Summary of Changes
Added sort order
Testing Instructions
View admin cpanel
Expected result
Proper sorting
Actual result
Documentation Changes Required
No";.. comfields Make sure disabled fields are not added to the request at all;"Pull Request for Issue 
Summary of Changes
Make sure disabled fields are not added to the request at all
Testing Instructions

Create a custom field for your articles.
Check that ACL is set to edit this field only at super user this is the default and set it for Editor to denied
create an Article as an Editor Usergroup
You can't save the Article because of an Error Invalid Field

Expected result
Error is gone
Actual result

Documentation Changes Required
none.
cc laoneo Please let us know you opinion technical insight here. As disabled should not be used for security we might also need to change more places too";0
254;. comassociations javascript clean up;"Pull Request for Issue .
Summary of Changes

Eliminate inline scripts
Drop some useless jQuery dependencies
Use .min.js can someone do this as well in .x this is not 

Testing Instructions
Associations still work as before
Expected result
Actual result
Documentation Changes Required";.. Automatic title at Latest Actions Backend Module;"Pull Request for Issue 
Summary of Changes
Fix the automatic title option at the Latest Actions Backend Module
Testing Instructions
Go to Extensions Modules Administrator Latest Actions Advanced Automatic Title ON.
Next go to System Control panel.
Expected result
Just an updated title Last s Actions where s is replaced by the count of actions to show
Actual result

Documentation Changes Required
none";0
255;. commodules javascript clean up;"Pull Request for Issue .
Summary of Changes

move inline code to files
Drop some jQuery chosen is still used here 

Testing Instructions
Edit a module
Edit a menu and try to edit the module form that form
Expected result
Works as usual
Actual result
Documentation Changes Required";. Move confirm consent to use the bs modal vs mootools;"Partial Pull Request for Issue 
Summary of Changes
This replaces the Mootools modal vs a bootstrap modal
Testing Instructions

Install ..
enable the Content ConfirmConsent Plugin
configure this plugin to point to a article
open a contact page on the website
make sure the title is clickable and opens an modal
apply this patch
make sure it is still opening a modal this time it should be a bs modal

Expected result
bs modal
Actual result
mootools modal
Documentation Changes Required
none.
Additional Information
When this here gets approved tested I can apply similar code to the other places where we use the old mootools modal

TOS Field 
 
 
 joomlacmspluginsuserprofilefieldtos.php
 
 
 Line 
 in
 
 
 
 
 

 
 
 attribs array 
 
 
 


Privacy Field 
 
 
 joomlacmspluginssystemprivacyconsentfieldprivacy.php
 
 
 Line 
 in
 dcca
 
 
 
 

 
 
 attribs array 
 
 
 


Terms Field 
 
 
 joomlacmspluginsusertermsfieldterms.php
 
 
 Line 
 in
 dcca
 
 
 
 

 
 
 attribs array 
 
 
 



cc brianteeman as he is the original author of the modal things in this plugin touched here.";0
256;Add CSRF token for Ajax;"Summary of Changes
An idea inspired by Laravel when I'm writing drag and drop installation in 
Add CSRF token to head as a meta tag so we can get the value by Javascript.
Use JHtml'form.csrf' to add meta namecsrftoken contentdeeceefdcfd in head
Then we can select this tag to get value
var token jQuery'metanamecsrftoken'.val
Also we can use XCsrfToken xxx header to validate token.
JHtml'jquery.token' help us add header to ajaxSetup so we can auto inject token in every .ajax calls.
function 
	.ajaxSetup
		headers 
			'XCsrfToken' 'metanamecsrftoken'.attr'content'
		
	
jQuery
Testing Instructions
I rewrite sendmail test in configuration to use this pattern just send a test.

If we remove JHtml'jquery.token' in administratorcomponentscomconfigviewapplicationtmpldefaultmail.php will get fail result.";comprivacy Redirect to request form after login;"Issue reported by user on forum httpsforum.joomla.orgviewtopic.phpft
Summary of Changes
This redirects users back to Privacy Request form when they login after trying to access the form.
Testing Instructions
While logged out access Privacy ? Create Request page either directly index.phpoptioncomprivacyviewrequest or through a menu item.
Login.
Expected result
Redirected to privacy request form.
Actual result
Redirected to user profile.
Documentation Changes Required
No.";0
257;commenus remove notice;"Pull Request for Issue .
Summary of Changes
remove notice Undefined variable ntext 
Testing Instructions
Create a menu with a menu item.
Disable this menu.
Try to enable the menu item under this menu.
Expected result
no notice
Actual result
PHP Notice Undefined variable ntext in \administrator\components\commenus\controllers\items.php on line";.commenus Saving new menu type fails;"Pull Request for Issue .
Summary of Changes
Fixes saving of new menu.
Testing Instructions
Attempt to save a new menu.
Expected result
Menu saved successfully.
Actual result

Error
Save failed with the following error Incorrect integer value 'clientid' for column 'clientid' at row 

Documentation Changes Required
No.";0
258;Use JLayout to render debug backtrace and add backtrace in isis template error.php;"Pull Request recreate for .
Updated 

Added JHtmlDebug helper to render backtrace.
Also add xdebug link support similar to did.
JErrorrenderBacktrace use JHtmlDebug too


Introduction
In current time we use setError getError and JErrorraiseError in component to send error message.
However if we throw Exception the debug plugin will not render backtrace for developer. It only work when we use JErrorraiseError.
It's because we have this code in httpsgithub.comjoomlajoomlacmsblobmasterpluginssystemdebugdebug.phpL
if JDEBUG
 
 if JErrorgetErrors
 
 html thisdisplay'errors'
 
To detect whether display errors or not. When we throw an exception the JErrorgetErrors will return null that backtrace will not rendered.
The Modification
I added backtrace layout in layoutserrorbacktrace.php and now debug plugin isis template both include this layout. It will help developers know how errors occurred.
How to Test

Go to Global Configuration enable the debug mode.
Then type index.phpoptionfoo in browser you will see the error page.

Screenshot";plgcontentpagebreak Let users template override PreviousNext navigation;"Continuation of 
Joomla 
Summary of Changes

Add possibility to use a template override for PreviousNext pagination.
Don't break B\C.
Replace pnSpace bug by trims

Testing Instructions


Plugin Content Page Break. Make settings



Add some pagebreak markers to an article and open article in frontend.


See PreviousNext navigation below article.



Apply patch


Expected result


Nothing has changed.


Create a template override for new file tmplnavigation.php.
Example with template Protostar




Check that the override works.";0
259;Useless lang strings and alpha order some;"Following this PR removes the experimental router language strings.
It also alpha orders global customfields strings
Can be merged on review
rdeutz wilsonge";If plugins return false when login should mark as failure.;"Move the return line into if block.
I found that if plugin return FALSE from onUserBeforeLogin Application will still return true. This situation should mark as failure and goto onUserLoginFailure.";0
260;cominstaller Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the foc blocs. If we have doc blocks then they should be usable and correct;. Fix blog sampledata plugin;"Pull Request for Issue 
Summary of Changes
Telling the blog sampledata plugin to keep its mouth shut when it doesn't have anything to say.
Testing Instructions
Test that both the blog and the multilingual sampledata can be installed
Expected result
Both work
Actual result
Blog one works
Multilingual one stops after step 
Documentation Changes Required
None";0
261;comusers Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the doc blocs. If we have doc blocks then they should be usable and correct;plgsystemprivacyconsent Don't redirect on menu logout;"Pull Request for Issue .
Summary of Changes
Prevents plugin from running when logging out through a menu item.
Testing Instructions
Create Users ? Logout menu item.
Login to frontend with user that hasn't consented yet.
Attempt to logout through the menu item.
Expected result
Can logout.
Actual result
Can't logout redirected to profile page.
Documentation Changes Required
No.";0
262;Form Fields Doc Block copy paste and consistency;I noticed these copy paste and consistency errors in the doc blocs. If we have doc blocks then they should be usable and correct. they might not be perfect but they are better than they were;. Update jgrid.php to use correct arguments;"Summary of Changes
Fix the staticaction usage for orderUporderDown icons to use the correct parameters";0
263;Changed Fields into Field;"In the tiny editor it is Module Article and Contact to insert a link.
Pull Request for Issue .
Summary of Changes
Testing Instructions
Expected result
Actual result
Documentation Changes Required";search filter in getListQuery in ActionlogsModelActionlogs uses the wrong substring when searching by itemid;"Pull Request for Issue .
Summary of Changes
search filter in getListQuery in ActionlogsModelActionlogs uses the wrong substring when searching by itemid it is set to remove the first chars as per 'id' instead of as per 'itemid'
Testing Instructions
Make sure ActionLogs are enabled for comcontent and that action logs system plugin is enabled.
Edit and save an article. View the action logs and you should see something like this

User admin updated the article Create Article Test

Hover over the article link to see the article id in my case it is id then put it in the text search vox as

itemid

Expected result
Should see list of actions related to the article 'Create Article Test' and possibly other actions if you don't also filter by extension 
Actual result
You get no results since the existing code converts the string mid to the integer zero and gets no matching results
Documentation Changes Required
None";0
264;Fields Field;"In the tiny editor it is Module Article and Contact to insert a link.
Pull Request for Issue .
Summary of Changes
Testing Instructions
Expected result
Actual result
Documentation Changes Required";Add column alias;"Pull Request for Issue .
The Table Joomla\CMS\Table\Extension has no column alias for the published column.
Testing instructions
Go to plugin manager and endisable plugins";0
265;Typos;To be merged on review;. actions log. Fix possible Undefined offset with plugins;"Pull Request for Issue .
Testing Instructions
See 
Expected result

No warning if plugin is not named standard conform";0
266;Comment typos;Assorted comment typos can be merged on review;. Adding links to Modules in the System Panel;"Pull Request for Issue 
Summary of Changes
As title says.
Links to site modules and admin modules are added in the Manage group
After patch

Note the order of the new links in that group may be modified if desired.
Imho the languages links could be separated in a new group by itself as we do for templates.";0
267;comfields Use the color rule for the color field;"Summary of Changes
To validate the color value in the color field the color rule should be used. The doc blocks got updated of the onCustomFieldsPrepareDom function is they have been outdated.
Potential BC break
Additionally the color rule was changed to have the same behavior as the other rules when an empty value is passed and the field is not required. IMO this is not a BC break but a bug fixed Bakual mbabker and wilsonge what you guys think
Testing Instructions

Create a color field
Set a wrong default value like 'nocolor'

Expected result
An error should be shown that the field could not be saved.
Actual result
An error should be shown that the field could not be saved.";Actionlogs for installation of package doesn't pick up correct translation;"Pull Request for Issue .
Summary of Changes
Change ActionlogsHelper to load translation files for packages from language instead of administratorlanguage
Testing Instructions
Install a package with a translated package name e.g. YourSites from httpswww.yoursites.net or JCE from httpswww.joomlacontenteditor.net and then view the action logs.
The package name is not translated

The reason is that package language files are installed in the frontend and not the backend language folder but action logs tries to load these from the backend

With the change in this PR action logs load the language files from the frontend and the package name is translated properly

Expected result
Package name should be translated
Actual result
Package name is not translated
Documentation Changes Required";0
268;Deprecate some JEditor functions;"Pull Request for Issue .
Summary of Changes
Deprecate some php functions that generate javascript code.
Joomla now has an API for all these
Testing Instructions
Expected result
Actual result
Documentation Changes Required";. correct css class for backgrounds;"Steps to reproduce the issue

install old Joomla extension example file httpscreenshot.myjoom.ladd
go to Joomla admin
Expected result

Actual result";0
269;ay Span not i and icons;"Convert the last batch of icons that had an i tag instead of a span and continue the work to make sure they have ariahiddentrue so that a screenreader wont try to read the font character
Please note that after applying this PR there may still be instances of an i tag that is because there are other similar PRs awaiting testingmerge";librariesinstaller ModuleAdapter;"Pull Request for a partial fix to Issue .
Summary of Changes
cast to int for postgresql
Testing Instructions
see";0
270;New Isis template prevents chosen dropdown from working properly;"Chosen dropdown provides ways to set the width of the dropdown element

Specify it as inline style in the select element select stylewidth px ... or
Specify it as an option for the chosen function width 'px'
See related documentation.

The new style introduced in the Isis template forces the width to a different value which also causes a horizontal collapse in case of blank items.
There is no reasonable way for third party extensions developers to specify a custom with for their own dropdown elements.
To fix this problem I've removed two css lines that in principle we should not use anyway since the chosen dropdown control offers other ways to set its width.
However it's possible that ciarn remembers the reason for these lines and can help us by providing further details.
Testing Instructions
Create a select anywhere in the backend
php
JFactorygetDocumentaddStyleSheetJUriroottrue . mediajuicsschosen.css
JFactorygetDocumentaddScriptJUriroottrue . mediajuijschosen.jquery.js

div classcontrolgroup
	select stylewidth px classchosenize
		optionOptionoption
	select
div

Pay attention to encase it in a controlgroup wrapper as shown since the issue only affects dropdown elements within a controlgroup wrapper.
Also pay attention to the class assigned in this case chosenize which must correspond to that used in the following JavaScript.
Run the following JavaScript to transform the select into a chosen dropdown
jQuerydocument.readyfunction 

	 px overrides the value of px specified in the PHP code
	'.chosenize'.chosen width 'px' 



Expected result
I expect the dropdown was or px wide with the precedence to the value specified in the JavaScript.
Actual result
The dropdown is px wide.";Fix JS alerts for JoomlaExtension update check;"Closes 
Related 
This PR fixes the double alert and colours for the JS alerts when there is a Joomla extension or Joomla Update available.
 paging infograf";0
271;. commenus javascript clean up;"Pull Request for Issue .
Summary of Changes

move inline code to files
Drop some jQuery modals using jQuery because why not 

Testing Instructions

Create a new MENU
Create all the possible menu items
Check that modules modals work correctly for Menu and Items

Expected result
Actual result
Documentation Changes Required
None code clean up preparing joomla for strict CSP mode";. Cleanup Remove commented out code.;"Simply removes commented out code
view new \Joomla\Component\Templates\Administrator\View\Style\Json

			 GetCreate the model
			model new Style
			viewsetModelmodel true

			viewdocument document

			return viewdisplay
			";0
272;Spelling mistake in default content for sample blog;"Fix typo in sample data
Fixes Issue";Fix extension installation in PostgreSQL;"Pull Request for Issue .
Summary of Changes
This ensures that extension type is always lowercase.
Testing Instructions
Before applying patch
On PostgreSQL setup install any extension.
Install it again or update it. Repeat a few times.
Go to Extensions Manage Manage.
Search for installed extension.
Expected Result single entry of the extension appears.
Actual Result duplicated entries of the same extension appear.
Uninstall the extension.
Apply patch.
Install the extension.
Install it again or update it.
Go to Extensions Manage Manage.
Search for installed extension.
Expected Result single entry of the extension appears.
Also test that extension installation continues to work normally on other database types.
Documentation Changes Required
No.";0
273;comfields Adding sorting arrow in fields and fieldgroups Managers;"Pull Request for Issue comment
Summary of Changes
Adding sorting arrows when sorting by language
Testing Instructions
Create fields and filedgroups. Tag them to different languages.
Display the Managers.
Expected result
The sorting arrows now display. Example

alikon Quy laoneo";scomplientcompliant;scomplientcompliant;0
274;few files to remove;"Pull Request for Issue .
Summary of Changes
upgrade from .. with current staging these files shall not be present anymore.
some file from 
Testing Instructions
Expected result
Actual result
Documentation Changes Required";. Install error pages typo and targerel on link to a user editable wikipage;"Closes 
Install error pages typo and targerel on link to a user editable wikipage
sSesSets typo and reltarget
joomlasecurity";0
275;ay ordering icons;"When reading our default markup for rendering icons assisistive technology may have the following problems.
The assistive technology will not find any content to read out to a user
The assistive technology will read the unicode equivalent which does not match up to what the icon means in context or worse is just plain confusing. In our use case it is always plain wrong. For example the unicode character used to display the trashed icon is \c which is equal to L
When an icon is not an interactive element the simplest way to provide a text alternative is to use the ariahiddentrue attribute on the icon and to include the text with an additional element such as a span with appropriate CSS to visually hide the element while keeping it accessible to assistive technologies.
In this case as the drag icon is completely inaccessible for nonsighted users out of scope to resolve for this PR we just need to add the ariahidden to prevent the icon being read aloud
This PR addresses the use case for the drag icons shown in the image below";splatfomplatform;splatfomplatform;0
276;ay icons for Multilingual status module;"When reading our default markup for rendering icons assisistive technology may have the following problems.
The assistive technology will not find any content to read out to a user
The assistive technology will read the unicode equivalent which does not match up to what the icon means in context or worse is just plain confusing. In our use case it is always plain wrong. For example the unicode character used to display the trashed icon is \c which is equal to L
When an icon is not an interactive element the simplest way to provide a text alternative is to use the ariahiddentrue attribute on the icon and to include the text with an additional element such as a span with appropriate CSS to visually hide the element while keeping it accessible to assistive technologies.
In this case we have the text and it is displayed so we just need to add the ariahidden to prevent the icon being read aloud
This PR addresses the use case shown in the image below";soverridenoverridden;soverridenoverridden;0
277;CodeMirror Full Screen Modifiers;"Pull Request for 
Steps to reproduce the issue
CodeMirror editor as used in the template editor has a text string to indicate the keystrokes required to put the editor in full screen mode

However there is also an option to add a key modifier eg Shift Ctrl etc to the Key but there is no code to display the modifier in the string

Actual result
Thanks to CLodder";snewfeednewsfeed;snewfeednewsfeed;0
278;comfields Define the batch commands;"Pull Request for Issue .
Summary of Changes
The set of available batch commands is not defined for a custom field.
Testing Instructions

Go to Contents Fields.
Create a text field.
In the Fields list click Check All checkbox.
Click Batch button.
Select the enGB language
Click Process button.

Expected result
No entry in the error log.
Actual result
Error log contains an entry
PHP Notice Undefined index tag in \joomlacmsstaging\libraries\legacy\model\admin.php on line";sNmberNumber;sNmberNumber;0
279;Move JComponentRecord to namespace;Moves JComponentRecord to namespace and changes some old doc blocks to the new set up. Additionally it fixes the ComponentHelper class which has some code which isn't adapted to namespaces probably because of an invalid merge.;sudpatingupdating;"sudpatingupdating
sstatmentstatement";0
280;Move CMS tables to namespace;Move CMS tables to namespace.;ssepratedseparated;ssepratedseparated;0
281;Allow menu item separators to have labels in admin menu;"Summary of Changes


Added an optional title parameter to addSeparator method in backend menu class. Hence there are now two separator types

Normal Separator horizontal bar
Labelled Separator



In the preset menu converted the separators between menus to labelled separators. This helps identify which menu are site menus and which are administrator menus.


This labelled separators can also be used in the new custom backend menu by simply providing a label to the separator type menu item.


Testing Instructions

Install current staging and navigate to backend and see the drop down menu.which should look like



Add a custom administrator menu and set it as active backend menu.
Add some items separators with title and separators without title in custom backend menu
Match your findings with expected results below.
If there is no admin menuthe separator should also be hidden automatically.
Test this on RTL layout also.

Expected result

The separators with title should appear as labelled separators whereas the separator without title should be displayed as normal separator.
The separators should not be clickable

Documentation Changes Required
Backend menu manager documentation should be updated.
infograf brianteeman";semtpyempty;semtpyempty;0
282;Make SQL Server driver's connection error messages infinitely more useful;"Summary of Changes
The Microsoft SQL Server driver's hereon sqlsrv error messages are useless. This PR returns the full error message stack which gives INFINITELY MORE USEFUL error messages.
Testing Instructions
Screw up your MS SQL Server installation and try to install a new Joomla site.
Expected result
An error message with some clue about what is going on.
Actual result
A uselesserror message Could not connect to the database. Connector returned number Database sqlsrvconnect failed. No crap Sherlock something's wrong Gee I'd have never guessed... Don't tell me why it failed I like guessing 
After applying the PR
sqlsrv's ridiculous error message changes to something more informative. In my case

Could not connect to the database. Connector returned number Database sqlsrvconnect failed Array Array SQLSTATE code MicrosoftODBC Driver for SQL ServerNamed Pipes Provider Could not open a connection to SQL Server . message MicrosoftODBC Driver for SQL ServerNamed Pipes Provider Could not open a connection to SQL Server . Array HYT SQLSTATE HYT code MicrosoftODBC Driver for SQL ServerLogin timeout expired message MicrosoftODBC Driver for SQL ServerLogin timeout expired Array SQLSTATE code MicrosoftODBC Driver for SQL ServerA networkrelated or instancespecific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. message MicrosoftODBC Driver for SQL ServerA networkrelated or instancespecific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. 

Aha The instance name had a typo. I only lost half a day to that 
Documentation Changes Required
None
Backwards compatibility breaks
None";sequivilentsequivalents remove trailing periods from comments;sequivilentsequivalents remove trailing periods from comments;0
283;comfields Check if item has id on delete event;"Pull Request for Issue .
Fixes PHP Notice Undefined property JTableLanguageid in ROOTpluginssystemfieldsfields.php on line .
Code review.";scummulativecumulative;scummulativecumulative;0
284;Added a method to get user timezone as DateTimezone instance;"Summary of Changes
I added function to the JUser to get the user timezone which is very useful for any developer working with date and time in Joomla.
It's a simple function but it already simplifies some cumbersome library calls.
Testing Instructions
Fill and save any form field using calendar field with 'userutc' like article publish date for example
Expected result
The date and time saved should be the set date and time...";sbutonbutton;sbutonbutton;0
285;.Fix combanners issue;"Pull Request for Issue .
Summary of Changes
There was changes in component dispatcher implement makes banners component broken in the backend. This PR fixes it
Testing Instructions

Install Joomla . nightly build
Access to banners component you will get errors
Delete the file administratorcomponentscombannersdispatcher.php
Apply patch component works properly.";. ssuccesfullysuccessfully;ssuccesfullysuccessfully;0
286;docsparse fix typo in parse.js;Propogate Propagate;featngMock add support for animate.closeAndFlush;"Use animate.closeAndFlush to close all running animations.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
287;choredeps bump ismyjsonvalid from .. to ..;"Bumps ismyjsonvalid from .. to ...

Commits

f ..
dab Merge pull request from ChALkeRchalkerfixcomma
bea Fix uri prefix detection
cb Merge pull request from ChALkeRchalkerfixundef
dfb add funding file
c Fix 'required' implementation
af ..
cb Merge pull request from ChALkeRchalkerfixstyle
ccded Fix a ReDoS in 'style' format
dfacb ..
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by linusu a new releaser for ismyjsonvalid since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.";choretravis update to use node .x;No description provided.;0
288;docsversionsupportstatus Added link to extended long term support;"What is the current behavior You can also link to an open issue here
There is currently no mention of long term support providers on the docs. This is meant to be a place where we can enumerate the providers of extended long term support. StephenFluin
What is the new behavior if this is a feature change
The aforementioned list is added to the versionsupportstatus page in the angularjs docs.
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
This PR is a result of several conversations with Jules and StephenFluin.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixanimateCss remove animation end event listeners on close;"Previously the transitionanimation end events were not removed when the
animation was closed. This normally didn't matter because
the close function knows the animation are closed and won't do work
twice.
However the listeners themselves do computation that could fail when
the event was missing some data for example when the event was
triggered instead of natural.
Closes";0
289;docsmiscVersion Support Status adding LTS extension support;"adding extension support information




On twitter the angular account httpstwitter.comangularstatus has
announced an extension to the Long Term Support period. Updating the website to let people know.
AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";featngTransclude compile fix treatment of unfilled optional slots;Closes;0
290;choredeps bump lodash from .. to .. in scriptsdocs.angularjs.orgfirebasefunctions;"Bumps lodash from .. to ...

Release notes
Sourced from lodash's releases.

..



Commits

dfbc Bump to v..
ecf Add npmpackage
bc Bump to v..
aac Bump to v..
 Rebuild lodash and docs
abfd Bump to v..
cfe fixzipObjectDeep prototype pollution 
ebea Sanitize sourceURL so it cannot affect evaled code 
cec Fix lodash.isEqual for circular references 
ca Document matches shorthands for over methods 
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by mathias a new releaser for lodash since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngAnimate ignore children without animation runner when closingà;"à them
During parent structural animations ongoing animations on child elements
are closed. These children are looked up by checking the datanganimate
attribute. If an element is the clone of an animating element
it might have this attribute but no animation runner associated with it
so we need to ignore it.
Fixes 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
291;choredepsdev bump lodash from .. to ..;"Bumps lodash from .. to ...

Release notes
Sourced from lodash's releases.

..
..
lodash v..
 was big year Lodash became the most depended on npm package passed billion downloads its v release saw massive adoption
The year was also one of collaboration as discussions began on merging Lodash Underscore. Much of Lodash v is proofing out the ideas from those discussions. Lodash v would not be possible without the collaboration contributions of the Underscore core team. In the spirit of merging our teams have blended with several members contributing to both libraries.
For lodash v.. we wanted to cut loose push forward take things up a notch
Modern only
With v weÆre breaking free from old projects old environments dropping old IE support
 kB Core
LodashÆs kitchensink size will continue to grow as new methods functionality are added. However we now offer a kB gzipped core build thatÆs compatible with Backbone v.. for folks who want Lodash without lugging around the kitchen sink.
More ES
WeÆve continued to embrace ES with methods like .isSymbol added support for cloning comparing array buffers maps sets symbols converting iterators to arrays iterable à.
In addition weÆve published an esbuild pulled babelpluginlodash into core to make treeshaking a breeze.
More Modular
Pop quiz 
What category path does the bindAll method belong to Is it
A require'lodashfunctionbindAll'
B require'lodashutilitybindAll'
C require'lodashutilbindAll'
DonÆt know Well with v it doesnÆt matter because now module paths are as simple as
var bindAll require'lodashbindAll'
WeÆve also reduced module complexity making it easier to create smaller bundles. This has helped Lodash adoption with libraries like Async Redux
st Class FP
With v we introduced lodashfp. We learned a lot with v we decided to pull it into core.
Now you can get immutable autocurried iterateefirst datalast methods as simply as




Commits

dfbc Bump to v..
ecf Add npmpackage
bc Bump to v..
aac Bump to v..
 Rebuild lodash and docs
abfd Bump to v..
cfe fixzipObjectDeep prototype pollution 
ebea Sanitize sourceURL so it cannot affect evaled code 
cec Fix lodash.isEqual for circular references 
ca Document matches shorthands for over methods 
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by mathias a new releaser for lodash since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.";fixcompile allow compile data to be GCed after a nonclone linking;"This does two things

nulls out some data when a noncloning transclude link completes to allow mainly the boundTranscludeFn funcclosure compileNodescompositeLinkFn to be GCed
throws if that transclude link is executed again since that would either relink the same element or clone the linked element";0
292;choredeps bump lodash from .. to .. in scriptscode.angularjs.orgfirebasefunctions;"Bumps lodash from .. to ...

Release notes
Sourced from lodash's releases.

..



Commits

dfbc Bump to v..
ecf Add npmpackage
bc Bump to v..
aac Bump to v..
 Rebuild lodash and docs
abfd Bump to v..
cfe fixzipObjectDeep prototype pollution 
ebea Sanitize sourceURL so it cannot affect evaled code 
cec Fix lodash.isEqual for circular references 
ca Document matches shorthands for over methods 
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by mathias a new releaser for lodash since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.";Feat ngeventprepare class for structural animations ngIf etc;"A fix workaround for 
We currently don't have any place in the docs that documents the classes ngAnimate adds. At least I can't find it .o I think it got lost during .. We should add it back so people can find this feature easier.
Idea by matsko";0
293;choredeps bump websocketextensions from .. to .. in scriptsdocs.angularjs.orgfirebasefunctions;"Bumps websocketextensions from .. to ...

Changelog
Sourced from websocketextensions's changelog.

.. 

Remove a ReDoS vulnerability in the header parser CVE reported by
Robert McLaughlin
Change license from MIT to Apache .




Commits

efdcd Bump version to ..
dadad Remove ReDoS vulnerability in the SecWebSocketExtensions header parser
ac Add Node versions and on Travis
aa Formatting change ... should have spaces inside the braces
fcab Let npm reformat package.json
df Change markdown formatting of docs.
b Update Travis target versions.
a Switch license to Apache ..
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixformatNumber better corner case handling;"The idea here is that we actually parse the input number ourselves and then do the rounding ourselves manually. This allows us more control and reliability on the output for corner case numbers.
Closes 
";0
294;choredeps bump websocketextensions from .. to .. in scriptscode.angularjs.orgfirebasefunctions;"Bumps websocketextensions from .. to ...

Changelog
Sourced from websocketextensions's changelog.

.. 

Remove a ReDoS vulnerability in the header parser CVE reported by
Robert McLaughlin
Change license from MIT to Apache .




Commits

efdcd Bump version to ..
dadad Remove ReDoS vulnerability in the SecWebSocketExtensions header parser
ac Add Node versions and on Travis
aa Formatting change ... should have spaces inside the braces
fcab Let npm reformat package.json
df Change markdown formatting of docs.
b Update Travis target versions.
a Switch license to Apache ..
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.";fixanimateCss consider options.delay value for closing timeout;"Previously options.delay was only considered when a class added an
extra transition style because that leads to style recalculation.
Fixes";0
295;docsngRepeat missing closing backtick;"AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version
no

What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";featfilterFilter allow overwriting the special property name;"Previously the special property name that would match against any
property was hardcoded to .
With this commit the user can specify an arbitrary property name
by passing a th argument to filterFilter. E.g.
var items foo 'bar' baz 'qux'
var expr '' 'bar'

console.logfilterFilteritems expr null '' foo 'bar'
Fixes";0
296;choreci add engines to docs firebase deployment;"According to the Firebase docs this field is necessary httpsfirebase.google.comdocsfunctionsmanagefunctionssetnodejsversion
It's also a good idea to set it because NodeJS is endoflife and Firebase will require Node for all functions by March .
I got an email from Firebase about these changes but haven't found a blog entry or similar otherwise I would have linked to this.
AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";..x copy performance cherrypicks;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
297;choredocsapp remove document.write from docs index.html;"Previously the docs app used document.write causing the following warning on Chrome
A parserblocking cross site i.e. different eTLD script
httpsajax.googleapis.comajaxlibsangularjs..angular.min.js is
invoked via document.write. The network request for this script MAY be
blocked by the browser in this or a future page load due to poor network
connectivity.

In the past document.write seems to have been used in order for browsers such as Firefox to work correctly with our dynamically set base tag and relative stylescript URLs.
This commit replaces document.write with regular stylescript tabs to avoid the warning and potential issues due to poor network connectivity. It seems that the latest versions of Chrome Firefox and IE can handle this fine without naticeable delays.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";perfngModelngForm change ngmodelform controllers to use prototype methods;"This makes the largetablebp ngmodel benchmarks faster down ms for me. The actual controller instantiation doesn't change too much but the overall numbers seem consistently faster I assume all due to reducing memory usage gc. Specifically on creation there is less memory GCed on destruction there is about less.
Looking at the heap snapshot this is entirely from having less closures k k closures other counts are all equal or very close.
Looking at the chrome timeline the number of GC events is about half and the timegc amounts roughly match the benchpress measurements.
Worth the breaking change The diff can probably be reduced or split into commits if there's interest...";0
298;chore clean up package.json and CircleCI config;This is a followup to cleaning up package.json and .circleciconfig.yml and making release scripts executable.;refactorcompile remove unnecessary trycatch;I don't see anything in there that could throw...;0
299;choreci fix code deployment;"AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fix fix scoping for transclusion directives inside replace directive;"Tweaks to the implementation of 
Closes 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
300;fixjqLite prevent possible XSS due to regexbased HTML replacement;"AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

Yes
What is the current behavior You can also link to an open issue here

The regexbased input HTML replacement may turn sanitized code into unsanitized one. An analogous jQuery advisory GHSAgxrxjjpx
Wrapping option elements in select ones changes parsing behavior leading to possibly unsanitizing sanitized code. An analogous jQuery advisory GHSAjpcqcgwvj

What is the new behavior if this is a feature change
The issues are fixed. The second one is a breaking change so a new method restoring legacy insecure behavior
angular.UNSAFErestoreLegacyJqLiteXHTMLReplacement
was added.
Does this PR introduce a breaking change
Yes
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixngMessage make ngMessage work with ngBind;"Fixes 
I'm not actually sure why this works tbh
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
301;chore update jQuery from .. to ..;"AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version
It updates the tested jQuery version and breaking jQuery is listed as one of the reasons we might need a new AngularJS release.

What is the current behavior You can also link to an open issue here
NA
What is the new behavior if this is a feature change
NA
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Feat linky;No description provided.;0
302;docssecurity add SECURITY.md;"Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version
No but it documents the project's Security policy in a standard GitHubsupported way.

What is the current behavior You can also link to an open issue here
There is no Security policy in the repo only on the docs website.
What is the new behavior if this is a feature change
There is a Security policy in the repo in a well known GitHubsupported location.
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixtestabilityPatch reset cache after memory leak detection;"When you have a test failure in the angular.js project which also causes a memory leak such as a failure to dealocate an element or a scope you often get a falsenegative failure for every subsequent test. This change ensures that after such an error the cache is reset so that subsequent tests can run normally.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
303;chore update Node.js from to update some dependencies;"AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

What is the current behavior You can also link to an open issue here
Node.js is used to buildtest AngularJS.
What is the new behavior if this is a feature change
Node.js is used to buildtest AngularJS.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated
FixFeature Tests have been added existing tests pass

Other information
Node.js ends its support at the end of . Node will be supported
until April which is way past AngularJS end of support.
Some dependencies needed to be updated to make them work in Node.js .
TODO

 Migrate to Gulp v";fixngOptions override select option registration;"When ngOptions is present on a select the option directive should not be able to
register options on the selectCtrl since this may cause errors during the
ngOptions lifecycle.
This can happen in the following cases

there is a blank option below the select element an ngModel
directive an ngOptions directive and some other directive on the select
element which compiles the children of the select
i.e. the option elements before ngOptions is has finished linking.
there is a blank option below the select element an ngModel
directive an ngOptions directive and another directive which uses
templateUrl and replacetrue.

What happens is

the option directive is compiled and adds an element destroy listener
that will call ngModel.render when the option element is removed.
when ngOptions processes the option it removes the element and
triggers the destroy listener on the option.
the registered destroy listener calls render on ngModel.
render calls selectCtrl.writeValue which accesses the options
object in the ngOptions directive.
Since ngOptions has not yet completed linking the options has not
yet been defined and we get an error.

This fix moves the registration code for the option directive into the
SelectController which can then be easily overridden by the ngOptions
directive as a noop.
Fixes 
Closes 
Closes";0
304;fixangular.merge do not merge proto property;"By blocking proto on deep merging this commit
prevents the Object prototype from being polluted.
AngularJS is in LTS mode
We are no longer accepting changes that are not critical bug fixes into this project.
See httpsblog.angular.iostableangularjsandlongtermsupporteeec for more detail.

Does this PR fix a regression since .. a security flaw or a problem caused by a new browser version

What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixngOptions skip comments when looking for option elements;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
305;chore update jQuery from .. to ..;This updates jQuery to .. to ensure future security fixes won't break it.;docssceProvider XSS when turning of SCE;Document that turning off SCE is very very dangerous and should normally not be used by applications.;0
306;chore make yarn.lock GitHub templates identical between master v..x;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docsinterpolateProvider document XSS in interpolate;interpolateProvider.startSymbol friends are often used dangerously to embed Angular templating in other templating languages. This change documents that that is a very dangerous practice.;0
307;chore update copyright year;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";choredocs update to lunr..;"This improves the search results for certain terms. Compare the results for scope
Currently

After the update

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
308;fixrequired correctly validate when required on noninput element à;"àis surrounded by ngIf
Closes 
I've also ran this change against the ngMaterial unit tests the uiBootstrap unit tests the ionic unit tests and manually tested with uiSelect.

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixngMessages prevent race condition with ngAnimate;"If ngMessage tried to add a message back in that was about to be removed
after an animation the NgMessageController got confused and tried to detach
the newly added message when the pending node was destroyed.
This change applies a unique attachId to the message object and its DOM
node when it is attached. This is then checked when a DOM node is being
destroyed to prevent unwanted calls to detach.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
309;fixngRequired set error correctly when inside ngRepeat and false bà;"ày default
Previously in the required validator we would read the required setting directly from attr.required
where it is set by ngRequired.
However when the control is inside ngRepeat ngRequired sets it only after a another digest has
passed which means the initial validation run of ngModel does not include the correct required
setting. Before commit a this would not have been a problem
as every observed value change triggered a validation.
We now use the initially parsed value from ngRequired in the validator.
Fixes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";Style Docs gulpfile.js Spacing Consistency;"Updated gulpfile.js in Docs so that spacing is consistency.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
310;Docs known issues;"What kind of change does this PR introduce Bug fix feature docs update ...
Updates various APIs with known issues that we are not planning to fix due to LTS never intended to fix.
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";featngModel provide ngempty and ngnotempty CSS classes;I believe that this feature should be enough to fix;0
311;fixcompile fix ngprop with undefined values;Fixes;fixangular.copy support copying XML nodes;Closes;0
312;Isolated module tests;"SauceLabs is struggling to keep connecting and disconnecting
for each of the modules unit test runs. This commit puts most of
the module tests into IIFEs so that they can be run in one go.


ngMock is still tested separately since unlike the other tests
it doesn't want to have a prebuilt version of ngMock available.


ngAnimate is still tested separately because it does some funny
things with globals that were difficult to isolate in the main modules
test run.";fixngMockhttpBackend fail if a url is provided but is undefined;"While the url parameter is optional for httpBackend.when
httpBackend.expect and related shortcut methods it should not have the
value of undefined if it has been provided.
This change ensures that an error is thrown in those cases.
Closes  BREAKING CHANGE
It is no longer valid to explicitly pass undefined as the url argument
to any of the httpBackend.when... and httpBackend.expect...
methods.
While this argument is optional it must have a defined value if it is
provided.
Previously passing an explicit undefined value was ignored but this
lead to invalid tests passing unexpectedly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
313;testngSanitize disable a failing Edge test in all versions including;"What kind of change does this PR introduce Bug fix feature docs update ...
Test fix.
What is the current behavior You can also link to an open issue here
Edge fails tests.
What is the new behavior if this is a feature change
Edge passes tests or at least the one I fixed.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated
FixFeature Tests have been added existing tests pass

Other information
The test has been only disabled on Edge so far which made it fail in Edge .";In changes;"Closes 
";0
314;fixcompile properly handle false value for boolean attrs with jQuery;"What kind of change does this PR introduce Bug fix feature docs update ...
Bug fix
What is the current behavior You can also link to an open issue here
ngdisableddisabled always disables the element in XHTML mode when jQuery is used even when the disabled binding is set to false.
What is the new behavior if this is a feature change
Yes but only in XML mode a.k.a. XHTML.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated NA
 FixFeature Tests have been added existing tests pass

Other information
jQuery skips special boolean attrs treatment in XML nodes for historical reasons
and hence AngularJS cannot freely call .attrattrName false with such attributes. To avoid issues in XHTML call removeAttr in such cases instead.
Ref jqueryjquery
Fixes";fixngCsp allow CSP to be configurable;"There are two different features in Angular that can break CSP rules
use of eval to execute a string as JavaScript and dynamic injection of
CSS style rules into the DOM.
This change allows us to configure which of these features should be turned
off to allow a more fine grained set of CSP rules to be supported.
Closes ";0
315;fixngRepeat fix trackBy function being invoked with incorrect scope;"This also fixes a leak of that scope across all further instances of the
repeated element.
Fixes 
What is the current behavior You can also link to an open issue here
The trackby function would get created on the first linking of an ngrepeat and then get cached forever so each time that ngrepeat was relinked when it is repeated or destroyedrecreated via ngif etc. the previous scope would be used. This also leaks the scope for the lifetime of that compiled node.
What is the new behavior if this is a feature change
The trackby no longer directly references the scope";revert fixcompile do not write bound properties if attribute à;"àis not present
This reverts commit aeb.
This commit broke the tabs component on the material project
which caused internal breakages. Will open a separate issue to
look into the issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
316;perfinput prevent multiple validations on compilation;"This commit updates inbuilt validators with observers to prevent
multiple calls to validate that could happen after compilation in
certain circumstances

when an input is wrapped in a transclude element directive e.g. ngRepeat
the order of execution between ngModel and the input validation directives changes so that
the initial observer call happens when ngModel has already been initalized
leading to another call to validate which calls all defined validators again.
Without ngRepeat ngModel hasn't been initialized yet and validate does not call the validators.

When using validators with scope expressions the expression value is not available when
ngModel first runs the validators e.g. ngMinlengthmyMinlength. Only in the first call to
the observer does the value become available making a call to validate a necessity.
This commit solves the first problem by storing the validation attribute value so we can compare
the current value and the observed value which will be the same after compilation.
The second problem is solved by parsing the validation expression once in the link function
so the value is available when ngModel first validates.
Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixorderBy ensure correct ordering with arrays of objects and no predicate;"This fix also considerably refactors how the orderBy filter works in internally.
The new algorithm precomputes the predicate values for the array being ordered. This makes the algorith easier to follow but also ensures that this computation is done a maximum of n times whereas in the previous algorithm it could be greater. The downside is that we must temporarily store this intermediate array.
There could be performance implications but they are as likely to be beneficial as detrimental. It could probably do with benchmarking.
Closes";0
317;Update karma so we can remove Safari workaround;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsapp merges master into materialize branch;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
318;fixcompile do not create directives for constant media URL attributes;"By creating attribute directives that watch the value of
media url attributes e.g. imgsrc we caused a conflict
when both src and datasrc were appearing on the
same element. As each directive was trying to write to the
attributes on the element where AngularJS treats src and
datasrc as synonymous.
This commit ensures that we do not create create such directives
when the media url attribute is a constant no interpolation.
Because of this and because we no longer sanitize URLs in the
attr.set method this commit also updates ngHref and
ngSrc to do a preliminary sanitization of URLs in case there
is no interpolation in the attribute value.";Updates branch with master;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
319;fixinput prevent browsers from autofilling hidden inputs;petebacondarwin;adds angulario resources;This adds all of the resources from httpsgithub.comangularangular.iotreemasterpublicresources minus the bio pics to get a snapshot of the angular.io site's styles. I'm not sure if this is everything but should be enough to get started.;0
320;chore update Sauce Connect from .. to ..;"What kind of change does this PR introduce Bug fix feature docs update ...
An infra fixupdate.
What is the current behavior You can also link to an open issue here
The builds often terminate with a message like

Failed The test with session id eaffafafaaffdabc has already finished and can't receive further commands.
This was build httpstravisci.organgularangular.jsjobs

What is the new behavior if this is a feature change
I hope the Sauce Connect update will eliminate those issues especially that its changelog explicitly mentions they fixed a major bug in connection state logic that caused clients to exit prematurely.
See httpswiki.saucelabs.comdisplayDOCSSauceConnectProxyChangeLogs
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated
FixFeature Tests have been added existing tests pass

Other information";Revert ng style regression for ..x;I know . is around the corner but this should be handled nevertheless.;0
321;fixurlUtils make IPv URL's hostname wrapped in square brackets in IEEdge;"What kind of change does this PR introduce Bug fix feature docs update ...
A bug fix.
What is the current behavior You can also link to an open issue here
In IE and Edge not in Preview location.host incorrectly returns hostnames of IPv addresses without wrapping in square brackets.
This is caused by and IEEdge bug which incorrectly don't wrap IPv addresses' hostnames in square brackets when parsed out of an anchor element which is used by location for the purpose of URL parsing.
Issue 
What is the new behavior if this is a feature change
For all supported browsers location.host returns an IPv address wrapped in square brackets.
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsselect remove obsolete ngOptions equality check comments;No description provided.;0
322;chore update minimum Yarn version do some Yarnrelated cleanups;"What kind of change does this PR introduce Bug fix feature docs update ...
Build change.
What is the current behavior You can also link to an open issue here
See the next section.
What is the new behavior if this is a feature change
Included changes
chore update minimum Yarn version from .. to ..
Yarn . added the integrity field to the lockfile making newer Yarn users
have their lockfile changed a lot if they run yarn. This commit updates the
required Yarn version to be at least .. and changes Travis Jenkins to use
Yarn ..
chore change the package.json's engines grunt field to gruntcli
The grunt field suggested it's the grunt package version we're checking while
we check the gruntcli version instead.
chore stop separating Yarn script arguments from script names via 
The separator is necessary in npm but not in Yarn. In fact it's
deprecated in Yarn and some future version is supposed to start passing this
parameter directly to the scripts which may break them.
chore Don't install gruntcli globally during the build
It's enough to use yarn grunt instead of grunt and the global gruntcli
installation is no longer needed.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated
FixFeature Tests have been added existing tests pass

Other information";fixngMessageFormat ensure bindings are valid for Protractor;"Refer original PR 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
323;fixngMock make matchLatestDefinitionEnabled work;"Fixes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bower publish ng message format;No description provided.;0
324;chore properly isolate module tests;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
Previously our module tests weren't running in isolation. Theroetically we wanted to test if the angular.js build file works well with the individual module source files Note that we don't use the module build files because we sometimes test nonpublic apis.
However we bundled all module files together with the build file and this messed up the results as some modules assign angular helpers like isDefined in the current scope which means all following modules have access to them too which essentially defeats the purpose of these tests. See .
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";chorengMessageFormat rename angularmessageFormat to angularmessageformat;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
325;fixngStyle skip setting empty value when new style has the property;"What kind of change does this PR introduce Bug fix feature docs update ...
Bug fix.
What is the current behavior You can also link to an open issue here
Using ngstyle with CSS transition with jQuery .. currently the latest tag the animation is disabled in certain circumstances.
httpsjsfiddle.netqzayc
Without jQuery using jqLite.css or using jQuery .. the div animates. I reported to the jQuery dev on this behavior difference jqueryjquery. I think this is a bug in jQuery.
This pull request suggests a workaround on the disabled animation issue. I'm not sure how the report to the jQuery will be handled but we can fix the behavior with reasonable changes in AngularJS. Skipping the common properties with newStyles will fix the animation issue with jQuery .. which can be confirmed by httpsjsfiddle.netgstfh. I think the diff is reasonable and also improves the performance because the properties in oldStyles and newStyles are same in most cases.
What is the new behavior if this is a feature change
I believe there's no changes except for fixing the animation issue.
Does this PR introduce a breaking change
No I believe.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsin expand the MessageFormat syntax documentation;No description provided.;0
326;docsversionsupportstatus remove outdated info resolve inconsistencies;"What kind of change does this PR introduce Bug fix feature docs update ...
Docs update.
What is the current behavior You can also link to an open issue here
httpsdocs.angularjs.orgmiscversionsupportstatus is outdated it talks about August in future tense.
What is the new behavior if this is a feature change
Outdated info is removed inconsistencies e.g. around . support are resolved.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
FixFeature Docs have been addedupdated
FixFeature Tests have been added existing tests pass

Other information";fixngAnimate use negative delay values to drive animation blocking;"DO NOT MERGE YET. IT STILL NEEDS MORE LIVE TESTING USING ANYTHING ..
Applies to . and ..
when CSS transitions are used via ngAnimate a preemptive block is
applied to the element via transition s none in order to gaurantee
that the .ngenter .ngleave andor .ngmove CSS classes are
applied instantly. By setting s none we gaurantee that the styles
present within these classes actually appear on the element. While this
works it causes a major issue with CSS classes since they disupt an ongoing
transition since the s none value is destructive.
This fix makes use of negative delay values in transitions to handle
this blocking mechanism yet it doesn't trigger the problems that setting
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
327;docsguide grammar correction in security guide;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";refactorcompile remove unused return statement;"As discussed in bcommitcomment.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
328;fixngAnimate remove prepare classes with multiple structural animaà;"àtions
Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixhttp throw error if success and error methods do not receive a fu...;"...nction
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
329;fixngAria.ngClick restrict preventDefault on space enter to nonà;"àinteractive elements
Fixes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";Cherry pick;No description provided.;0
330;fixselect allow to select first option with value undefined;"Previously the value observer incorrectly assumed a value had changed even if
it was the first time it was set which caused it to remove an option with
the value undefined from the internal option map.
Fixes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choretravis turn on caching for nodemodules and bowercomponents directories;"The cache behavior is documented at httpdocs.travisci.comusercaching
This commit also disabled our custom caching via npmbundlerdeps.sh";0
331;fixngHref allow numbers as input;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choreci make all browserstack tests allowed failures;No description provided.;0
332;fixcompile use correct parent element when requiring on html element;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixngMock handle cases where injector is created before tests;"This caused an exception for people who created an injector before the tests actually began to run. Since the array was initialized only in beforeEach anyone accessing it before that would throw. This is solved easily but initializing the array immediately.
Closes";0
333;fixAngular add workaround for Safari Webdriver error;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngOptions fix modeloption interaction when using track by;Closes;0
334;fixngEventDirs check for rootScope.phase in event handler and don't apply if already in digest;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsapp fixes material build;The theme css files were reorganized at some point in Angular Material ..x and the build is now failing because the files are missing. The styles on the site do not work correctly now with ..x because the css is missing. This change will keep us on ..x until we can update the theme issue.;0
335;docsngProp ngOn;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsapp increments year;Increments the year from to .;0
336;Docs update location guide info fix some headlines;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choretravis split out the docs ee tests into their own travis job;"Previously they were in the 'unit' job to save travis VMs but this
was confusing and made it more difficult to track down errors easily.";0
337;docschangelog guideMigration add info about sce BC in .;"Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choretravis make browserstack unit tests allowed failures;No description provided.;0
338;Add event info to animation event callbacks;"What kind of change does this PR introduce Bug fix feature docs update ...
feat
What is the current behavior You can also link to an open issue here
there's no information in animation event calls
What is the new behavior if this is a feature change
info is added
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsapp makes minor updates;"Renames controller files and makes minor updates.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
339;refactorlocation move repeated path normalization code into helper method;"What kind of change does this PR introduce Bug fix feature docs update ...
Refactor to reduce duplicate code
Other information
I originally did this as part of an attempted solution in but I thought it might be worth committing on it's own.";docsapp adds border;"Adds a border to the top of the h like the current docs app.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
340;featcompile add support for arbitrary property and event bindings;"Here's the initial work for arbitrary property and event bindings. I think ngattr and ngon are essentially ready. The main thing to do is the sce logic which I'm very unfamiliar with I've never used it so any helpfeedback in that area would be great. Also docs...
Could also think about doing the ngbindon as gkalpak has been calling it something equivalent to in Angular.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

TODO

 no or not in this pr update getTrustedAttrContext to the el|attr style like getTrustedPropContext to reuse code
 no or not in this pr add ability to add new attribute contexts
 run customelementseverywhere angularjs tests done but needs to reference the new release
 tests to verify effects of addPropertySecurityContext fae
 tests for nontrusted imgaudiovideosrc values a
 tests for nontrusted sourcetracksrc values a
 try moving tests to new files abe
 change ngProp to do preassign in prelink bab
 ngon docs 
 ngprop docs make note of comment 
 tests for |style c
 ensure tests for each context type whitelisted non whitelisted trustedvalue aee mainly copied from interp tests of the attribute equivalents
 source ngpropsrcset tests similar to img ngpropsrcset d
 sce tests for things like innerHTML fbd
 add sce valueOf similar to ngBindHtml tests fbd
 undo sourcesrcset attribute change ef
 drop tests copied from ngattr that are interpolate specific eb
 file bug for ngattrbrokencamels issue referenced in tests dc
 reduce size of sce prop IIFE seems unnecessary see comment";cherrypick fixbrowser prevent infinite digests when clearing the hash of a url;"By using location.hash to update the current browser location when only
the hash has changed we prevent the browser from attempting to reload.
Closes 
Closes 
Closes 
Closes";0
341;choredocsapp ensure ToC links contain the path;"Without the path the browser address changes so the hash
fragment is directly on the base url. Then on refresh the
browser navigates to an invalid page.
Closes";docsapp adds roboto font;The Google Material design docs at httpwww.google.comdesignspecstyletypography.html state that we should use the font 'Roboto' for our Typography. I went ahead added the font using import but we could also download the fonts and add them to the project. I'm fine with either way.;0
342;fixbrowser normalize inputted URLs;"What kind of change does this PR introduce Bug fix feature docs update ...
fix
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";docsapp adding a mobile first breadcrumb solution;"added a simple breadcrumb solution that works with all mobile devices.

just a back to next highest level of api documentation
could add in some way to show normal breadcrumbs if on desktop if needed or wanted.


added in the old version picker to the top of the left sidebar. No styling just yet. Was going to mess with the left sidebar but wanted to see if you all like it how it is I think it should be pinned open all the time unless on mobile which is default for angularmaterial from what I have seen.";0
343;featform.FormController add getControls;"Fixes 
Closes 
Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
feat
What is the current behavior You can also link to an open issue here
there's no straight forward way to get all controls of a form
What is the new behavior if this is a feature change
you can get a shallow copy of the form controls
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
I decided against a synchronized copy comment because I don't see the clear benefit over a simple shallow copy is slightly more involved to implmenent.";docsapp matches anchor tags to current docs theme;Updates the styles for the anchor tags to match the current docs theme.;0
344;featerrorHandlingConfig add option to exclude error params from url;"Specific errors such as nested module loading can create very long
error urls because they include the error stack. These urls create visual
clutter in the browser console are often not clickable and may be rejected
by the docs page because they are simply too long.
We've already made improvements to the error display in which excludes
the error url from error parameters which results in cleaner error messages.
Further modern browsers restrict console message length intelligently.
This option can still be useful for older browsers like Internet Explorer or
in general to reduce visual clutter in the console.
Closes 
Closes 
Closes 
Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
I've decided to go with this implementation instead of allowing the parameter length or url length to be configurable. A maxlength will truncate the errors in unexpected places which means the resulting urls might also be unusable. Also modern browsers restrict the console message length on their own.";isEmpty fixes;We should only use isEmpty on viewValue not for validating models.;0
345;https link to editorconfig.org;"What kind of change does this PR introduce Bug fix feature docs update ...
https link to editorconfig.org
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choredocs add favicon to docs app;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
346;featngMessages add support for default message;"Added support for showing default message when no values are mapped with ngmessage.
Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";perforderBy copy array with slice instead of for loop;"Lets see if this can be backported I mostly just want to keep tests in synch
Use array slice method to copy entire array instead of a for loop
httpjsperf.comnewarrayvssplicevsslice
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
347;Feat input timeformat;"What kind of change does this PR introduce Bug fix feature docs update ...
Feature
What is the current behavior You can also link to an open issue here
Browser differences when displaying input time and datetimelocal
What is the new behavior if this is a feature change
Option to adjust the format
Does this PR introduce a breaking change
No
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
Closes 
Closes 
There are two options
timeFormatSeconds can be used to configure if seconds or milliseconds should be displayed in general.
timeStripEmptySeconds mimics the behavior of Chrome to hide the seconds completely if they are zero.";testorderBy add test cases for ordering arraylike objects;"Testing before merging
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
348;docsngMockEE add docs for httpBackend.matchLatestDefinitionEnablà;"àed

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";fixngModel don't run parsers when executing validate;"Previously validate would execute the parsers to obtain a
modelValue for validation. This was necessary because a validator
that is called outside of model view update e.g. from an observer
otherwise might only an undefined modelValue because a previous
view update has found a validation error and set the model
to undefined as is tradition in angular
This is problematic as validators that are run immediately after
the ngModelController initializes would parse the modelValue
and replace the model even though there had been no user input.
The solution is to go back to an older design the ngModelController
will now internally record the rawModelValue. This means a model
or view update will store the set parsed modelValue regardless
of validity that is it will never set it to undefined because of
validation errors.
When validate is called the rawModelValue will passed to the
validators. If the validity has changed the usual behavior is kept
if it became invalid set the model to undefined if valid
restore the last available modelValue the rawModelValue.
Additionally validate will only update the model when the validity
changed. This is to prevent setting initially invalid models other
than undefined to undefined see 
Fixes 
Fixes 
Fixes 
Fixes 
Closes 
Closes 
Closes 
Bonus the commit which introduced parsing when validating I actually wanted invalidModelValue to be removed oh well add
caitp petebacondarwin lgalfaso";0
349;docsinputnumber note issue with large number and step validation;"Closes 

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport security bugfixes from . to .;No description provided.;0
350;testAngular remove special case for Edge;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DUPE of for Travis fixselect assign result of track exp to element value;"Fixes a regression where the optionselect values would always be set to
the key or index of a value within the corresponding collection. Prior to
some .. refactoring the result of the track expression would be bound
to the value but this behavior was not documented or explicitly tested. A
cache was added in order to improve performance getting the associated
value for a given track expression.
This commit adds one explicit test for this behavior and changes several
other trackBy tests to reflect the desired behavior as well.
Closes 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
351;testsanitize exclude elclob test in Edge;"We don't exclude Edge completely to know if the bug has been fixed
in the next version

What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixjenkins reset baseUrl in protractor conf;"Tested before and after fix locally and manually on ci.angularjs.org
Commit be changed the url
used by protractor in all docs tests to add builddocs which
was already set to the baseUrl in protractorjenkins.conf. This
commit just changes the protractor config's baseUrl to adapt
to the changes in the spec files.
Closes";0
352;refactorcompile remove workaround for chrome bug fixed in v;"Based on the comments this shouldn't be needed anymore
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixsce do not assume document exists;"this is important so that people can mock window without having to add stuff that angular uses internally into it
Closes";0
353;featcompile add oneway collection bindings;Implements;refactorjqLite remove a duplicate DOMContentLoaded handler attachment;No description provided.;0
354;docsguideComponents add link to documentation for component method;"What kind of change does this PR introduce Bug fix feature docs update ...
docs
What is the current behavior You can also link to an open issue here
Does not link to API of method which shows all syntaxes
What is the new behavior if this is a feature change
Links to API of method
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";chorejqLite remove leftover attachEventdetachEvent from tests;No description provided.;0
355;docsangular.Module improved documentation for component method;"Copy improved documentation for component method from compileProvider
and add missing object syntax.

What kind of change does this PR introduce Bug fix feature docs update ...
docs
What is the current behavior You can also link to an open issue here
Does not mention all syntaxes is inconsistent with other documentation.
What is the new behavior if this is a feature change
Fixes these issues
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";Anchor scroll offset;No description provided.;0
356;featngCookies support sameSite option;"What kind of change does this PR introduce Bug fix feature docs update ...
feature for issue 
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
support sameSite option for ngCookie
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";choresniffer Remove sniffer.hashchange;"The hashchange event is not supported only in ancient browsers like Android.
and IE. Angular never really supported IE and in . where support for IE
is dropped it makes even less sense to check for hashchange support.";0
357;update changelog with .. and ..rc.;"What kind of change does this PR introduce Bug fix feature docs update ...
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information";featlocation allow automatic rewriting of links to be disabled;"Currently when the location provider is set to html mode all links
on the page are hijacked and automatically rewritten. While this may be
desirable behavior in some cases such as using ngRoute not all cases
where html mode are enabled imply the desire for this behavior.
One example would be an application using the
uirouter library with some
pages that exist outside of angular. Links that are meant to go through
the router use the uisref directive so the rewrite behavior is
unnecessary.
Closes";0
358;testinput fix date type tests with max timezone;"What kind of change does this PR introduce Bug fix feature docs update ...
test update
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Please check if the PR fulfills these requirements

 The commit message follows our guidelines
 FixFeature Docs have been addedupdated
 FixFeature Tests have been added existing tests pass

Other information
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of recent changes to location to v..x;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
359;docscompile add known issues with replacetrue;"An old PR that I had lying around.
Theoretically we could also close the issues that are referenced in the docs because they are very unlikel to get fixed especially the directive deduplication and the attribute merging are basically wontfixes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";chorenpm publish artifacts to npm;"Note that there are still a few pending tasks before this can land namely getting permissions for all of the package names on npm

angular û got it. Thanks bclinkinbeard
angularanimate û got it. thanks PitBeast
angularcookies û got it. Thanks petermelias
angularmocks û got it. Thanks Zizzamia
angularroute û got it. Thanks mljsimone
angularresource û got it. Thanks roylines
angularsanitize û got it. Thanks akalinovski

If you own one of these packages you can help by adding user angularcore to the package
unclaimed

angulararia
angularin
angularloader
angularscenario
angulartouch
angularmessages

I also still need to add package.json for each bowerangular repo since that's how we'll be publishing these artifacts. done
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
360;fixcompile correctly handle nullundefined href attrs.set;"Accidentally broken while backporting .
Since sanitizeUri can no longer handle nullundefined values.
In ..x there are no such calls.
In ..x there is still one such calls inside Attributes.set so it needs to be adjusted accordingly.";fixinput correctly handle invalid model values for inputdatetimeà...;"...
Similar to inputnumber Angular will throw if the model value
for a inputdate is not a Date object.
For Invalid Dates dates whoÆs getTime is NaN inputdate
will render an empty string.
Closes";0
361;Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Features

Only include last elements of comma expressions if they are used or have side effects 

Bug Fixes

Prevent a crash that could occur when calling object methods 

Pull Requests

 Switch to ESLint lukastaegert
 Drop unused last sequence element lukastaegert
 Prevent crash for recursive this deoptimization lukastaegert

v..

Features

Detect sideeffectfree static class methods and properties 
Detect sideeffectfree array elements 
Do not apply deoptimizations from dead code 

Bug Fixes

Handle side effect detection for getters and setters added in untracked code 
Track this mutations for methods getters and setters 

Pull Requests

 Class method effects marijnh and lukastaegert




Changelog
Sourced from rollup's changelog.

..

Features

Only include last elements of comma expressions if they are used or have side effects 

Bug Fixes

Prevent a crash that could occur when calling object methods 

Pull Requests

 Switch to ESLint lukastaegert
 Drop unused last sequence element lukastaegert
 Prevent crash for recursive this deoptimization lukastaegert

..

Features

Detect sideeffectfree static class methods and properties 
Detect sideeffectfree array elements 
Do not apply deoptimizations from dead code 

Bug Fixes

Handle side effect detection for getters and setters added in untracked code 
Track this mutations for methods getters and setters 

Pull Requests

 Class method effects marijnh and lukastaegert




Commits

febefa ..
ad Update changelog
de Prevent crash for recursive this deoptimization 
db Drop unused last sequence element 
ebbff Switch to ESLint 
ea ..
bee Update changelog
dbac Class method effects 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";v Add disabled examples for .formcontrol .formselect and .formrange;"Forgot to include these somehow. Checkboxes radios and file pages already have examples. Range input might need to be documented as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
362;Bump rtlcss from .. to ..;"Bumps rtlcss from .. to ...

Changelog
Sourced from rtlcss's changelog.

.. May. 

Add aliases option to support processing Custom Properties CSS Variables. Thanks elchininet




Commits

dece ..
fbe Update .rtlcssrc
efd Bump postcss from .. to ..
 Bump hostedgitinfo from .. to ..
fd Bump lodash from .. to ..
ad Add aliases option to flip variables
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Add Sass variable for CSS variable prefix;"Suggestion from nix at comment.
Question though should we include the trailing in the prefix variable Thinking we either do this or detect if it's nil and remove the dash. Leaning towards the former and requiring that we include it.
Thoughts twbscssreview
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
363;Change HTTP to HTTPS;No description provided.;Don't wrap the code snippets in our docs;"Bringing back no wrapping in our code snippets. This helps keep pages and doc snippets a little shorter on our longer pages. Found myself hitting wrapped lines with only a few characters on a new line.
Only affects our docs.
Preview httpsdeploypreviewtwbsbootstrap.netlify.app
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
364;Fix prevented show event disables modals with fade class from being displayed again;"Fixes 
Thanks to RichDeBourke for spotting this problem and his amazing issue report";Simpler input groups validation roles and test fixes;"patrickhlauke Think I got this right but would love your eyes This PR is based on and will merge into that if approved. This PR also fixes the failing tests in the base PR.
I believe this fixes .";0
365;Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

cc Chore merge all html formatter files into html.js Milos Djermanovic
ebe Update nounusedvars false negative with comma operator fixes Nitin Kumar
afe Chore use includes instead of indexOf Mikhail Bodrov
cfe Chore Remove lodash Stephen Wade
dd Update norestrictedimports custom message for patterns fixes Alex Holden
bc Chore Fix typo in large.js Ikko Ashimine
a Sponsors Sync README with website ESLint Jenkins
fef Sponsors Sync README with website ESLint Jenkins
cd Chore add more test cases for nosequences Nitin Kumar
aced Docs Update README team and sponsors ESLint Jenkins




Changelog
Sourced from eslint's changelog.

v.. May 

cc Chore merge all html formatter files into html.js Milos Djermanovic
ebe Update nounusedvars false negative with comma operator fixes Nitin Kumar
afe Chore use includes instead of indexOf Mikhail Bodrov
cfe Chore Remove lodash Stephen Wade
dd Update norestrictedimports custom message for patterns fixes Alex Holden
bc Chore Fix typo in large.js Ikko Ashimine
a Sponsors Sync README with website ESLint Jenkins
fef Sponsors Sync README with website ESLint Jenkins
cd Chore add more test cases for nosequences Nitin Kumar
aced Docs Update README team and sponsors ESLint Jenkins




Commits

ca ..
ebd Build changelog update for ..
cc Chore merge all html formatter files into html.js 
ebe Update nounusedvars false negative with comma operator fixes ...
afe Chore use includes instead of indexOf 
cfe Chore Remove lodash 
dd Update norestrictedimports custom message for patterns fixes ...
bc Chore Fix typo in large.js 
a Sponsors Sync README with website
fef Sponsors Sync README with website
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";V dev backports and updates;No description provided.;0
366;Bump eslintpluginimport from .. to ..;"Bumps eslintpluginimport from .. to ...

Changelog
Sourced from eslintpluginimport's changelog.

.. 
Fixed

norestrictedpaths fix false positive matches thanks malykhinvi
nocycle ignore imports where imported file only imports types of importing file thanks cherryblossom
nocycle fix false negative when file imports a type after importing a value in Flow thanks cherryblossom
order restore default behavior unless type is in groups thanks grit

Changed

Docs Add norelativepackages to list of to the list of rules thanks arvigeus




Commits

cc Bump to v..
aba Tests order add passing test to close 
bd Fix order restore default behavior unless type is in groups
bcd Fix nocycle fix false negative when file imports a type after importing...
bbaa Fix nocycle ignore imports where imported file only imports types of im...
cfd meta sort and uniquify usernames in changelog
ddb Fix norestrictedpaths fix false positive matches
bcb Docs Add norelativepackages to list of to the list of rules
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Dropdown fix variable always evaluating to true;No description provided.;0
367;Update Hugo config and sitemap.xml;No description provided.;Webpack page add postcssOptions key;"postcssloader now uses the postcssOptions key. postcss .. postcssloader ..
";0
368;Delete FUNDING.yml;We set this organizationwide.;Bump stylelintconfigtwbsbootstrap from .. to ..;"Bumps stylelintconfigtwbsbootstrap from .. to ... Commits bdeb Bump eslint from .. to ..  Additional commits viewable in compare view You can trigger a rebase of this PR by commenting dependabot rebase. Dependabot commands and options You can trigger Dependabot actions by commenting on this PR dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
369;Change element.parentNode.removeChildelement to element.remove;Change element.parentNode.removeChildelement to element.remove;Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

ca Fix Corrected notice for invalid plugin names Josh Goldberg
fcd Docs Fix leaky anchors in v migration page Timo Tijhof
fdf Docs Provide install commands for Yarn Nikita Baksalyar
dcdc Fix preferdestructuring removes comments refs Milos Djermanovic
bdaa Docs fix typo in working with plugins docs 
fdb Update fix idlength false negatives on Object.prototype property names Milos Djermanovic
acd Fix NonOctalDecimalIntegerLiteral is decimal integer fixes Milos Djermanovic
f Docs update outdated link klkhan
c Docs add missing eslint directive comments in noawaitinloop Milos Djermanovic
bb Docs clarify correct example in noreturnawait fixes Milos Djermanovic
fa Chore fix typo Nitin Kumar
dffb Sponsors Sync README with website ESLint Jenkins
bdd Sponsors Sync README with website ESLint Jenkins
deab Sponsors Sync README with website ESLint Jenkins
bfe Sponsors Sync README with website ESLint Jenkins
 Sponsors Sync README with website ESLint Jenkins




Changelog
Sourced from eslint's changelog.

v.. September 

ca Fix Corrected notice for invalid plugin names Josh Goldberg
fcd Docs Fix leaky anchors in v migration page Timo Tijhof
fdf Docs Provide install commands for Yarn Nikita Baksalyar
dcdc Fix preferdestructuring removes comments refs Milos Djermanovic
bdaa Docs fix typo in working with plugins docs 
fdb Update fix idlength false negatives on Object.prototype property names Milos Djermanovic
acd Fix NonOctalDecimalIntegerLiteral is decimal integer fixes Milos Djermanovic
f Docs update outdated link klkhan
c Docs add missing eslint directive comments in noawaitinloop Milos Djermanovic
bb Docs clarify correct example in noreturnawait fixes Milos Djermanovic
fa Chore fix typo Nitin Kumar
dffb Sponsors Sync README with website ESLint Jenkins
bdd Sponsors Sync README with website ESLint Jenkins
deab Sponsors Sync README with website ESLint Jenkins
bfe Sponsors Sync README with website ESLint Jenkins
 Sponsors Sync README with website ESLint Jenkins




Commits

a ..
faac Build changelog update for ..
ca Fix Corrected notice for invalid plugin names 
fcd Docs Fix leaky anchors in v migration page 
fdf Docs Provide install commands for Yarn 
dcdc Fix preferdestructuring removes comments refs 
bdaa Docs fix typo in working with plugins docs 
fdb Update fix idlength false negatives on Object.prototype property names ...
acd Fix NonOctalDecimalIntegerLiteral is decimal integer fixes 
f Docs update outdated link 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
370;Fix test of;"Put the test in the right place. Replace the body removal that destroys jasmine things with a known safe wrapper
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump hugobin from .. to ..;"Bumps hugobin from .. to ...

Commits

def ..
baed Update Hugo to v...
da ..
aa npm audit fix
da Update Hugo to v...
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
371;Document how to make utilities responsive using the API;Adds a little snippet to our docs for how to make an existing set of utilities generate responsive classes. Covers things like IMO.;Update Stylelint rules;"This will go along with a new release in stylelintconfigtwbsbootstrap with twbsstylelintconfigtwbsbootstrap merged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
372;Bump postcss from .. to ..;"Bumps postcss from .. to ...

Release notes
Sourced from postcss's releases.

. ôDuke Murmurö

PostCSS . improved source map parsing performance added Nodeassign shortcut andáexperimentaláDocument node to AST.
Thanks to Sponsors
This release was possible thanks to our community.

If your company wants to support the sustainability of frontend infrastructure or wants to give some love to PostCSS youácanájoináourásupporters by

Tidelift with a Spotifylike subscription model supporting all projects from your lock file.
Direct donations in PostCSS Autoprefixer Open Collective.

Source Map Performance
Because PostCSS needs synchronous API we canÆt move from the old sourcemap . to . many other opensource projects too.
rulnik forked sourcemap . to sourcemapjs and backported performance improvements from .. In . we switched from sourcemap to this sourcemapjs fork.
You map see x performance improvements in parsing map from processing step before PostCSS for instance Sass.
Document Nodes
Thanks to gucong PostCSS already parse CSS from HTML and JS files CSSinJS templates and objects.
But his plugin need big updates. hudochenkov from stylelint team decided to create new parsers for styles inside CSSinJS HTML and Markdown.
He suggested adding new Document node type to PostCSS AST to keep multiple Root nodes inside and JSHTMLMarkdown code blocks between these style blocks.
const document htmlParser
 'htmlstyleacolorblackstylestylebzindexstyle'

document.type 'document'
document.nodes.length 
document.nodes.type 'root'
This is an experimental feature. Some aspects of this node could change within minor or patch version releases.
Nodeassign Shortcut


... truncated


Changelog
Sourced from postcss's changelog.

Change Log
This project adheres to Semantic Versioning.
. ôDuke Murmurö

Added Nodeassign shortcut by Jonathan Neal.
Added experimental Document node to AST by Aleks Hudochenkov.
Moved to faster fork of sourcemap by Valentin Semirulnik.




Commits

bdcb Release . version
cfcd Update dependencies
bc Use codeBefore instead of markupBefore
ea Merge pull request from hudochenkovadddocumentnode
afab Update documentation
ebb Fix Parser type
ee Test custom parser
eeca Remove Root.raws.before
ed Remove Nodedocument
cd Remove unneeded parent type
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Handle the Ubuntu sansserif case;"On Ubuntu our native fontstack doesn't output the same font on Firefox and Chrome. This is a known aliasing issue ù check at the bottom Ubuntu .. Ubuntu . my current doesn't use the same Firefox uses Liberation Sans Chrome uses the default system font Ubuntu.
I'm inclined to prefer Liberation Sans since it's closer to Arial Helvetica. This patch already exists in Boosted didn't notice it was missing in bootstrap until todayà
BTW our linked Smashing Magazine's system fonts post mentions this and is even more accurate since it targets the three major Linux distributions. AFAIK this is not needed since Liberation Sans is available everywhere ù but we might go back to Oxygen Ubuntu Cantarellif we want to stick to system fonts.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
373;Automatically select an item in the dropdown when using arrow keys;"closes 
Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.componentsdropdowns";Add a comment for escapesvg function;"Closes by leaving a comment in the source that the escapesvg function must have quotes around data URIs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
374;Replace Freenode with Libera IRC server;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix disabled checkbox toggle buttons;"Hi
Fixed a bug from issue 
For convenience of managing the state disabled added variables to variables.scss.
formcheckinputdisabledopacity the default opacity for input with the formcheckinput class
formchecklabeldisabledopacity The opacity value for the label. By default copies the value from formcheckinputdisabledopacity
formcheckbtncheckdisabledopacity The opacity value for the checkbox toggle buttons. By default takes the opacity value for disabled button
Solved with a selector because the order of input and label should not change
Demo httpsdeploypreviewtwbsbootstrap.netlify.appdocs.formschecksradios
Fixes";0
375;Handle complex expressions in add subtract;"Fixes 
I don't expect any regression but who knows D Need to consider about backporting this to v if this gets merged.

SassMeister demoing this httpswww.sassmeister.comgistdacebeebcebaedfb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Carousel enhancements including .carouseldark;"This PR replaces the current carousel control chevron icons with the ones from Bootstrap Icons and then adds a new .carouseldark variant. That modifier class uses filter to invert the SVGs and some additional CSS to change the indicator and caption colors.
Fixes .

Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.componentscarouseldarkvariant";0
376;Fix wrong comment text for tooltip;"closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Match container gutters with row gutters;"Grid container row and column paddingmargin should always match. I missed this in my reviews and testing unless there's uh something else I missed. 

Replaces makecontainer mixin's paddingx param with gutter to match naming
Changes value of container padding variable to match grid gutter width variable
Uses local CSS variable for container padding

Fixes 
cc MartijnCuppens directly since the original PR at changed this
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
377;Update buttonvariant mixin to add missing space.;No description provided.;Typo in About Overview;No description provided.;0
378;Bump babelcli from .. to ..;"Bumps babelcli from .. to ...

Release notes
Sourced from babelcli's releases.

v.. 
 Bug Fix

babelcore

 Pass assumptions set in presets to plugins nicoloribaudo


babelparser

 fix preserve tokensLength in tryParse JLHwung
 Parse let declarations whose id starts with \ nicoloribaudo


babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock

 Don't duplicate the base class when using constantSuper nicoloribaudo



 Internal

Other

 chore add classstaticblock test mapping JLHwung


babelplugintransformblockscoping

 Add test for fixed block scoping issue nicoloribaudo



 Output optimization

babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv

 Compile static blocks without the intermediate priv field step nicoloribaudo



Committers 

Babel Bot babelbot
Bogdan Savluk zxbodya
Hußng J?nli?ng JLHwung
Nicol? Ribaudo nicoloribaudo

v.. 
Thanks liuyenwei quickgiant serut and trinangkur for your first PRs
 Bug Fix

babelnode

 Fix Only create babelnode IPC channel when needed quickgiant


babelparser

 Parse attributes of import expression with estree plugin sosukesuzuki
 Fix invalid identifier name on unfinished escape JLHwung


babeltypes

 Support objects from other contexts in t.valueToNode nicoloribaudo


Other

 eslint Don't crash on multiple babelparser copies nicoloribaudo


babelgenerator

 Print parentheses around identifier let where necessary Zalathar



 Polish

babelhelpermoduletransforms babelplugintransformmodulescommonjs

 Better error for export as ns without the correct plugin JLHwung



 Documentation

 DOC Add missing Monorepo configuration serut



... truncated


Changelog
Sourced from babelcli's changelog.

v.. 
 Bug Fix

babelcore

 Pass assumptions set in presets to plugins nicoloribaudo


babelparser

 fix preserve tokensLength in tryParse JLHwung
 Parse let declarations whose id starts with \ nicoloribaudo


babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock

 Don't duplicate the base class when using constantSuper nicoloribaudo



 Internal

Other

 chore add classstaticblock test mapping JLHwung


babelplugintransformblockscoping

 Add test for fixed block scoping issue nicoloribaudo



 Output optimization

babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv

 Compile static blocks without the intermediate priv field step nicoloribaudo



v.. 
 Bug Fix

babelnode

 Fix Only create babelnode IPC channel when needed quickgiant


babelparser

 Parse attributes of import expression with estree plugin sosukesuzuki
 Fix invalid identifier name on unfinished escape JLHwung


babeltypes

 Support objects from other contexts in t.valueToNode nicoloribaudo


Other

 eslint Don't crash on multiple babelparser copies nicoloribaudo


babelgenerator

 Print parentheses around identifier let where necessary Zalathar



 Polish

babelhelpermoduletransforms babelplugintransformmodulescommonjs

 Better error for export as ns without the correct plugin JLHwung



 Documentation

 DOC Add missing Monorepo configuration serut

 Internal

Other

 Update lodash version for fixing security vulnerability trinangkur


babeltypes

 babeltypes Update matchesPattern to account for this liuyenwei



 Performance

babelparser



... truncated


Commits

a v..
bbea convert babelcli to typescript 
c Add internal ESLint rule for consistent parser error messages 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.
Dependabot will merge this PR once CI passes on it as requested by XhmikosR.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dist;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
379;Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
 Bug Fix

babelcore

 Pass assumptions set in presets to plugins nicoloribaudo


babelparser

 fix preserve tokensLength in tryParse JLHwung
 Parse let declarations whose id starts with \ nicoloribaudo


babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock

 Don't duplicate the base class when using constantSuper nicoloribaudo



 Internal

Other

 chore add classstaticblock test mapping JLHwung


babelplugintransformblockscoping

 Add test for fixed block scoping issue nicoloribaudo



 Output optimization

babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv

 Compile static blocks without the intermediate priv field step nicoloribaudo



Committers 

Babel Bot babelbot
Bogdan Savluk zxbodya
Hußng J?nli?ng JLHwung
Nicol? Ribaudo nicoloribaudo




Changelog
Sourced from babelcore's changelog.

v.. 
 Bug Fix

babelcore

 Pass assumptions set in presets to plugins nicoloribaudo


babelparser

 fix preserve tokensLength in tryParse JLHwung
 Parse let declarations whose id starts with \ nicoloribaudo


babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassproperties babelpluginproposalclassstaticblock

 Don't duplicate the base class when using constantSuper nicoloribaudo



 Internal

Other

 chore add classstaticblock test mapping JLHwung


babelplugintransformblockscoping

 Add test for fixed block scoping issue nicoloribaudo



 Output optimization

babelhelpercreateclassfeaturesplugin babelhelperreplacesupers babelpluginproposalclassstaticblock babelpresetenv

 Compile static blocks without the intermediate priv field step nicoloribaudo






Commits

a v..
fc Pass assumptions set in presets to plugins 
dc babel Move ESLint parsing to a Worker 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Add a state field to create utility pseudoclasses;"Fixes 
Added state option for utilities. This will generate custom pseudoclasses when generating utilities.
Example
SCSS
utilities 
 shadow 
 property boxshadow
 state hover focus
 class shadow
 values 
 null boxshadow
 sm boxshadowsm
 lg boxshadowlg
 none none
 
 

CSS output
.shadowhoverhover 
 boxshadow .rem rem rgba . important


.shadowfocusfocus 
 boxshadow .rem rem rgba . important


.shadowsmhoverhover 
 boxshadow .rem .rem rgba . important


.shadowsmfocusfocus 
 boxshadow .rem .rem rgba . important


.shadowlghoverhover 
 boxshadow rem rem rgba . important


.shadowlgfocusfocus 
 boxshadow rem rem rgba . important


.shadownonehoverhover 
 boxshadow none important


.shadownonefocusfocus 
 boxshadow none important
";0
380;Bump eslintpluginimport from .. to ..;"Bumps eslintpluginimport from .. to ...

Release notes
Sourced from eslintpluginimport's releases.

v..
httpsgithub.combenmoshereslintpluginimportblobv..CHANGELOG.md



Changelog
Sourced from eslintpluginimport's changelog.

.. 
Changed

meta add safepublishlatest use prepublishOnly script for npm 

.. 
Fixed

newlineafterimport fix crash with export syntax thanks ljharb
ExportMap do not crash when tsconfig lacks .compilerOptions thanks ljharb
order fix alphabetical sorting thanks grit

.. 
Added

nocommonjs Also detect require calls with expressionless template literals requirex thanks FloEdelmann
nointernalmodules Add forbid option thanks guillaumewuip
add norelativepackages thanks tapayne panrafal
add noimportmoduleexports rule report import declarations with CommonJS exports thanks kentcdodds and ttmarek
nounusedmodules Support destructuring assignment for export. thanks shadow
order support type imports thanks grit
order Add warnOnUnassignedImports option to enable warnings for out of order unassigned imports thanks hayes

Fixed

exportTypeScript properly detect export specifiers as children of a TS module block thanks andreubotella
order ignore nonmodulelevel requires thanks golopot
nowebpackloadersyntaxTypeScript avoid crash on missing name thanks leonardodino
noextraneousdependencies Add package.json cache thanks fahws
preferdefaultexport handle empty array destructuring thanks ljharb
nounusedmodules make type imports mark a module as used fixes thanks cherryblossom
nocycle fix perf regression thanks Blasz
first fix handling of import require thanks MatthiasKunnen
nocycleextensions fix isExternalModule usage thanks paztis
extensionsnocyclenoextraneousdependencies Correct module real path resolution thanks paztis
nonameddefault ignore Flow import type and typeof thanks christianvuerings
noextraneousdependencies Exclude flow typeof imports thanks devongovett
newlineafterimport respect decorator annotations thanks lilling
norestrictedpaths enhance performance for zones with except paths thanks malykhinvi
nounresolved check import thanks aladdinadd

Changed

Generic Import Callback Make callback for all imports once in rules thanks ljqx
Docs nonamedasdefault add semicolon thanks bicstone
Docs noextraneousdependencies correct peerDependencies option default to true thanks dwardu
Docs order Document options required to match ordering example thanks silviogutierrez
Tests nounresolved add tests for import thanks davidbonnet
Docs Add importrecommended ruleset to README thanks edemaine




Commits

af Bump to v..
aff meta add safepublishlatest use prepublishOnly script for npm 
b Bump to v..
fce Fix order fix alphabetical sorting
 Tests add missing fixture from dfebeefafcbeadfcc
d Fix ExportMap do not crash when tsconfig lacks .compilerOptions
ddecb meta correct 
dec Fix newlineafterimport fix crash with export syntax
eed Bump to v..
bc resolverswebpack v..
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.
Dependabot will merge this PR once CI passes on it as requested by XhmikosR.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revamp close button component;"This PR redesigns our close buttons to make them more consistent across browsers and devices as well as making it slightly easier to style them overall. With a little CSS backgroundimage magic we're sizing the ? SVG to the contentbox. This allows us to give use padding and rounded corners that carry the styling through with no impact to the ? icon.

Renamed .close to .btnclose for more specific class name
Replaced inline times sign with embedded SVG in our CSS
Improved focus styles with custom boxshadow outline like our buttons
Increased focus shadow width of all buttons including the new close button from .em to .em for a more pixel perfect rendering
Adds .btnclosewhite variant for darker backgrounds.

Here's a preview of the default and disabled styles as well as a focused and disabled style.




Closes and closes .
Fixes focus fixes default styling in toasts fixes rename. and fixes focus.
Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.componentsclosebutton";0
381;Bump rollup from .. to ..;"Bumps rollup from .. to ...

Changelog
Sourced from rollup's changelog.

..

Features

Add replacement to conditionally insert asset extensions in entryFileNames when preserving modules 

Bug Fixes

Fix crash when dynamically assigning to namespace members 
Do not associate pure annotations in front of a semicolon or comma with succeeding code 

Pull Requests

 ignore invalid trailing pure annotations kzc
 undefined deoptimizePath when the first element is empty string sinloong
 add node.js v support dnalborczyk
 Add assetExtname replacement in entryFileNames BPScott
 Added Rollup logo in README.md priyanshurav
 fix comment regarding invalid annotation handling kzc




Commits

ba ..
fbbbe Update changelog
ccc Add assetExtname replacement in entryFileNames 
b Added Rollup logo in README.md 
 fix comment regarding invalid annotation handling 
acd fix undefined deoptimizePath when the first element is empty string 
cd ignore invalid trailing pure annotations 
 chore add node.js v support 
bee Update dependencies 
cca chore remove unused dependencies 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.
Dependabot will merge this PR once CI passes on it as requested by XhmikosR.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Add getInstance method in the docs for tooltip;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
382;Adjusted zindex to cover copy buttons;"The copy to clipboard buttons have a zindex while the toasts were styled to have a zindex causing them to appear under the button.
Without this fix it looks like this

With this fix it looks like this tested locally

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump nodefetch from .. to ..;"Bumps nodefetch from .. to ...

Release notes
Sourced from nodefetch's releases.

v..
This is an important security release. It is strongly recommended to update as soon as possible.
See CHANGELOG for details.



Changelog
Sourced from nodefetch's changelog.

v..
This is an important security release. It is strongly recommended to update as soon as possible.

Fix honor the size option after following a redirect.




Commits

bee update version number
ac Honor the size option after following a redirect and revert data uri support
cf docs Fix typos and grammatical errors in README.md 
e fix Change error message thrown with redirect mode set to error 
ef docs Show backers in README
ad fix Properly parse meta tag when parameters are reversed 
aa chore Add opencollective badge
b chore Add funding link
ce fix Check for global.fetch before binding it 
da docs Add Discord badge
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by akepinski a new releaser for nodefetch since your current version.



You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
You can disable automated security fix PRs for this repo from the Security Alerts page.";0
383;Fix backdrop Cannot read property 'removeChild' of null when removed from body;"Hi
This fixes 
Here is a reproducer httpsweaverryan.github.iobootstrapmodalclosereproducer
Code httpsgithub.comweaverryanbootstrapmodalclosereproducerblobmainindex.htmlLL

Click Launch demo modal
Click Save changes in the modal.

Then in the console you'll see

TypeError Cannot read property 'removeChild' of null
backdrop.js

This occurs if you hide a backdrop but then the HTML of the backdrop is removed from the body while its animation is finishing. From the reproducer
bootstrap.Modal.getInstancedocument.querySelector'exampleModal'.hide
document.body.innerHTML 'Page content changed'
When would this happen It happens for example if you're using Turbo. For example if you close a modal then immediately visit another page in reality that just swaps the body.innerHTML for the page which causes backdrop to error when it can't find its parent after the animation.
Please let me know if you need any more clarification or tweaks to the PR .
Thanks";Bump bundlewatch from .. to ..;"Bumps bundlewatch from .. to ...

Release notes
Sourced from bundlewatch's releases.

exclude hashes when comparing diff's
Adds

 via thanks to cheapsteak and BeeeQueue




Commits

be feat Add filename normalizing 
bef builddepsdev bump babelpresetenv from .. to .. 
cb builddepsdev bump eslint from .. to .. 
fab builddepsdev bump babelcore from .. to .. 
efb builddepsdev bump lintstaged from .. to .. 
ffa builddepsdev bump husky from .. to .. 
 builddepsdev bump babelcli from .. to .. 
ef builddeps bump yargsparser from .. to .. 
abd builddepsdev bump yarndeduplicate from .. to .. 
aa builddepsdev bump lintstaged from .. to .. 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
384;Cheatsheet fix JS errors in setActiveItem;"Fixes 
Prevent default on submit buttons and check for an item matching location hash before going on.

Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplescheatsheet";Bump rolluppluginbabel from .. to ..;"Bumps rolluppluginbabel from .. to ...

Commits

 chorerelease babel v..
ccff chorerelease wasm v..
bccbb chorerelease typescript v..
bc fixtypescript Change noEmitOnError default to false 
ecd featwasm option to not inline wasm 
c testtypescript add generating declarations with nondefault rootDir 
acb chorebabel add deprecationmigration warnings for the runtime 
df choreci disable running all pkg scripts if no filter found
f chorerelease multientry v..
fc chorerelease noderesolve v..
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
385;Drop BlinkMacSystemFont in docs;"Closes 
Not supporting Chrome anymore dropped in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump karma from .. to ..;"Bumps karma from .. to ...

Release notes
Sourced from karma's releases.

v..
.. 
Bug Fixes

revert sourcemap update dba closes 




Changelog
Sourced from karma's changelog.

.. 
Bug Fixes

revert sourcemap update dba closes 




Commits

fffbaee chorerelease .. skip ci
eca docs mention that html include type does not work anymore 
dba fix revert sourcemap update 
fdef chorerelease update contributors when publishing a release 
acba refactor use colorssafe 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
386;Fix xpaddings for select with floating label and in Firefox;"Fixes fixes 
Floating labels
Since ypadding are overriden for formselect later in the file I'm simply moving paddings to .formcontrol which prevents to override existing xpadding for select.
Firefox
Applying vendor property works fine I'm simply taking user agent styles into account by subtracting the internal start padding to our own.

Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.formsfloatinglabelsselects";Update devDependencies and gems;"Preview httpsdeploypreviewtwbsbootstrap.netlify.app
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
387;Dashboard example improvements;"Closes sort of.
Allowing multiple links in the nav isn't needed in our example and only requires to switch the navbar to row direction. However I found a few tiny bits of things to improve more regarding overall quality and accessibility despite none of those fixes are mandatory.

Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplesdashboard";Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Do not fail for unknown nodes as if statement branches 

Pull Requests

 Handle debugger statements as ifstatement branches lukastaegert




Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Do not fail for unknown nodes as if statement branches 

Pull Requests

 Handle debugger statements as ifstatement branches lukastaegert




Commits

a ..
ee Handle debugger statements as ifstatement branches 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
388;Don't add empty content holder when there is no content available;"Fixes 
Alternative to 
A popover should not have an empty header or body when the content is not available on the main element or in the configuration.";Docs layout ensure content sits in main;Next to and I think I managed to get the main docs layout right it required to use nested grids since subgrid is only supported in Firefox ATM and display contents tends to ruin semantic.;0
389;Add v.. docs.;No description provided.;Add baseof.html layout to docs;"For 
Adds a base layout used by most other layouts. Also adds a base redirect layout to avoid some duplication.

Biggest sticking point here is bodyoverride.
Seems like hugo doesn't like having an attribute defined like this
body block bodyattribute . end 

Since this is used just for the class attribute you could add a class override like this
body class block bodyclass . end 

But then you have body class on most pages. The issue indicates that you may want to add a body class for most pages anyways so if this is a preferable approach let me know.
Preview httpsdeploypreviewtwbsbootstrap.netlify.app
TODO

 Test releasezipexamples just in case

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
390;Release v..;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Regenerate packagelock.json to fix CVE;No description provided.;0
391;Update devDependencies;"babelcore .. ..
babelpresetenv .. ..

Closes closes .";Bump karma from .. to ..;"Bumps karma from .. to ...

Release notes
Sourced from karma's releases.

v..
.. 
Bug Fixes

remove broken link from docs angularjs.md daf
remove unused JSON utilities and flatted dependency beed




Changelog
Sourced from karma's changelog.

.. 
Bug Fixes

remove broken link from docs angularjs.md daf
remove unused JSON utilities and flatted dependency beed




Commits

d chorerelease .. skip ci
daf fix remove broken link from docs angularjs.md 
ba chorerelease fix documentation update task 
beed fix remove unused JSON utilities and flatted dependency 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
392;Bump sass from .. to ..;"Bumps sass from .. to ...

Release notes
Sourced from sass's releases.

Dart Sass ..
To install Sass .. download one of the packages below and add it to your PATH or see the Sass website for full installation instructions.
Changes


Potentially breaking bug fix Null values in use and forward configurations no longer override the default variable matching the behavior of the equivalent code using import.


Use the proper parameter names in error messages about string.slice


See the full changelog for changes in earlier releases.



Changelog
Sourced from sass's changelog.

..


Potentially breaking bug fix Null values in use and forward
configurations no longer override the default variable matching the
behavior of the equivalent code using import.


Use the proper parameter names in error messages about string.slice





Commits

dd Fix bug with null values in configuration 
bede Fix argument names in strslice errors 
e Fix a couple doc comment typos 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

fbd Fix Update broken eslinteslintrc version fixes Nicholas C. Zakas
cb Sponsors Sync README with website ESLint Jenkins
ddeda Sponsors Sync README with website ESLint Jenkins
eefe Sponsors Sync README with website ESLint Jenkins




Changelog
Sourced from eslint's changelog.

v.. September 

fbd Fix Update broken eslinteslintrc version fixes Nicholas C. Zakas
cb Sponsors Sync README with website ESLint Jenkins
ddeda Sponsors Sync README with website ESLint Jenkins
eefe Sponsors Sync README with website ESLint Jenkins




Commits

d ..
cfa Build changelog update for ..
fbd Fix Update broken eslinteslintrc version fixes 
cb Sponsors Sync README with website
ddeda Sponsors Sync README with website
eefe Sponsors Sync README with website
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
393;Revert readonly selector back to readonly;Reverts . Fixes fixes .;Bump babelcli from .. to ..;"Bumps babelcli from .. to ...

Release notes
Sourced from babelcli's releases.

v.. 
Thanks janbrasna for their first PR
 Internal

 Run prepublish build after versioning JLHwung

 Revert

babelcli babelcore babelgenerator babelhelpertransformfixturetestrunner

 Revert JLHwung



Committers 

Hußng J?nli?ng JLHwung
Jan BraÜna janbrasna




Changelog
Sourced from babelcli's changelog.

v.. 
 Internal

 Run prepublish build after versioning JLHwung

 Revert

babelcli babelcore babelgenerator babelhelpertransformfixturetestrunner

 Revert JLHwung






Commits

ed v..
afdeb Revert 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
394;fix isVisible false positives from deep nesting or alternate means;fixes;Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Do not create invalid code when simplifying expressions in return statements that contain line comments 

Pull Requests

 Handle linecomments when removing linebreaks to prevent ASI lukastaegert




Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Do not create invalid code when simplifying expressions in return statements that contain line comments 

Pull Requests

 Handle linecomments when removing linebreaks to prevent ASI lukastaegert




Commits

febdd ..
bb Update changelog
dbf Handle linecomments when removing linebreaks to prevent ASI 
cfc Fix api docs loadconfigfile 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
395;Tests on scrollbar.js better handling if a style property doesn't exists;"Add some tests on scrollbar.js
Sanitize the old ones
Transfer tests from modal.spec. to scrollbar.spec
Add check on setElementAttributes not to set dataattribute if it doesn't exists";Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
Thanks janbrasna for their first PR
 Internal

 Run prepublish build after versioning JLHwung

 Revert

babelcli babelcore babelgenerator babelhelpertransformfixturetestrunner

 Revert JLHwung



Committers 

Hußng J?nli?ng JLHwung
Jan BraÜna janbrasna




Changelog
Sourced from babelcore's changelog.

v.. 
 Internal

 Run prepublish build after versioning JLHwung

 Revert

babelcli babelcore babelgenerator babelhelpertransformfixturetestrunner

 Revert JLHwung






Commits

ed v..
afdeb Revert 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
396;Fix dropdown test warning without expectations;No description provided.;Build tools mention how to get the sources;"followup for v.
To help with installation struggling eg. in add a bullet about direct download fork repo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
397;Bump karmajasminehtmlreporter from .. to ..;"Bumps karmajasminehtmlreporter from .. to ...

Release notes
Sourced from karmajasminehtmlreporter's releases.

v..
Upgrade to Jasmine ..



Commits

dd Upgrade to Jasmine .. 
da Fix links to Jasmine source
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Build tools mention how to get sources;"To help with installation struggling eg. in add a bullet about direct download fork repo.
Incoming PR for v.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
398;remove index.html files;"Remove index.html files from the joomlacms. Used from the CLI
find . name 'index.html' type f delete";Kill indexes;Over in infograf mentioned that there is some move to remove all index.html files from Joomla. Well here you go. No more index.html files. The only ones left are in the build folder because those actually serve some purpose.;1
399;Silence PHP Notice on no items tagged;"Pull Request for Issue .
Summary of Changes
Dont run code block when there are no items linked to a tag
Testing Instructions
Install Joomla
Create a tag
go to front end and load that tags page with url like
httpjoomlacmsindex.phpoptioncomtagsviewtagid
Expected result
No PHP notices
Actual result
PHP notice
Notice Trying to get property of nonobject in ...componentscomtagsviewstagview.html.php on line 
Documentation Changes Required
None";tags If we count false it returns and not zero;"Pull Request for Issue 
Summary of Changes
var countfalse see httpphp.netmanualenfunction.count.php
tonypartridge please check this too as this comes from 
Testing Instructions

enable maximal error reporting
add one article
add one tag to a article
access the article from the frontend
get the URL for the list of the tagged articles
untag the tag from the article
see the error in the frontend Notice Trying to get property of nonobject in JRoot\components\comtags\views\tag\view.html.php on line 

Expected result
No error just the No matching items were found. message
Actual result
The No matching items were found. plus a PHP notice Notice Trying to get property of nonobject in JRoot\components\comtags\views\tag\view.html.php on line 
Documentation Changes Required
none";1
400;UX showon Dynamic options in the Joomla Backend;"Integration of the new feature made during the Bug Squad of the JBeyond with Peter van Westen and myself.
The new feature allow to hide and show some elements in the configuration depending other configured elements. So the FTP options are not displayed if the FTP is not activated. Same thing for the SMTPSendmail options.
Different views in the configuration has been updated in order to use a new generic layout which support the showon option.";Adding the showon feature to JForm;"Overview
In the Joomla Global Configuration we use showon attribute to showhide certain fields based on the state of a parent field. You can see this for example with the FTP settings where the settings itself only show when Enable FTP is set to Yes. It's also available for Component settings.
This PR takes this feature to the JForm so it can be used in any xml file.
Testing
You can add a showon attribute to any config field you want to hide. For example in
modules\modfinder\modfinder.xml you add to line 
showonshowlabel. So it looks like this
 field
 namelabelpos
 typelist
 defaultleft
 showonshowlabel
 labelMODFINDERFIELDSETADVANCEDLABELPOSLABEL
 descriptionMODFINDERFIELDSETADVANCEDLABELPOSDESCRIPTION
 option
 valuerightJGLOBALRIGHToption
 option
 valueleftJGLOBALLEFToption
 option
 valuetopMODFINDERCONFIGOPTIONTOPoption
 option
 valuebottomMODFINDERCONFIGOPTIONBOTTOMoption
 field

This will only show the Label position setting only if the Show Label is set to Yes which has the value .
Tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";1
401;Improve Datetime validation;"Problem
Currently when you enter an invalid datetime value for a calendar form field Joomla will throw a system error like this

DateTimeconstruct datetime.construct Failed to parse time string jerror ......

There were atleast two issues reported and which I can see
Solution
I attempt to fix this issue by introducing a new form rule JFormRuleDatetime which uses strtotimevalue false command to validate the value of the field. If it return false the date is invalid and an exception will be returned
Testing instructions
With this PR I just modify the addedit article form in the backend of Joomla to show how it works.
Please try to edit an article before this patch if you enter a wrong value for any Calendar field for example Start Publishing Finish Publishing.. you will see a system error
After this patch there will be an error message like this being showed and it will prevent you from saving the article

Warning
Value you entered for Start Publishing is invalid datetime format";New DateTime picker replaces calendar;"UX UI improvements
Summary of Changes

Bootstrapified
Remove old code for IE
New simplified popup code
The internals of the date calculations are unchanged
Base on improved support for non Gregorian calendars
New time picker code based on select elements or h based
options to display or not week numbers today button year month in one row days from previous next month as disabled
Everything is controllable through the calendar field definition documentation will be done later on

Preview

With time picker

Basic view

Testing Instructions
You need a . installation
apply this patch
try various forms contact banner article and check if the calendar works ok.
edit UsersdimitrisDocumentsgithubprojectsjoomlaadministratorcomponentscomcontentmodelsformsarticle.xml
 field namepublishup
 typecalendar
 labelCOMCONTENTFIELDPUBLISHUPLABEL
 descriptionCOMCONTENTFIELDPUBLISHUPDESC
 formatYmd HMS size
 filteruserutc
 todaybuttontrue
 weeknumbersfalse
 timeformat
 showtimetrue
 filltabletrue
 singleheaderfalse
 minyear
 maxyear 
and alter different options to check if everything still works ok
Install Persian language and test if that calendar works ok
Try some rd PD components and check if they still functioning ok.
Report any problems";1
402;editor buttononclick SyntaxError expected expression got '';"tinymce is concatenating button callback with and it generates the SyntaxError.
It is fixed removing 
To test it a callback can be added to any of the current editorsxtd plugins. For instance in pluginseditorsxtdimageimage.php line 
buttononclick 'alerttest'

When the patch is applied there is no console error editor loads fine and when you click on the button it shows 'test'";Fix JavaScript error in TinyMCE button plugins;"To test it install OneDrive extension and enable editor buttons plugins.
Go to article edit view and hit OneDrive button. Check you browser console to see the error.
httpswww.perfectweb.cojoomlaextensionsmicrosoftonedrivegalleryfile
When button plugin has onclick property with JavaScript code it is being added after
editor.windowManager.open...
So there can not be a coma between above code and onclick code define in plugin.
Below is code rendered by TinyMCE plugin which contains a coma line before SkyDriveButton... which leads to JavaScript error
editor.addButtonOneDriveFile 
 text OneDrive File
 title OneDrive File
 icon none iconflag 
 onclick function 
 editor.windowManager.open
 title OneDrive File
 url 'httplocalhostadministratorindex.php'
 buttons text Close onclick close 
 
 SkyDriveButton.browseFile'tinymce'
 return false
 
";1
403;Implementing caching for getRootId to save queries;The method getRootId is executed numerous times per page load for example when editing an article around times. At the same time that method always returns the same value. By adding a static variable as cache we save us all those duplicate queries and they are only run once per table.;Cache root ID for nested sets table;"The root ID of a nested sets table is highly unlikely to change within a single page load of the site. When there are potentially multiple queries being executed to determine the root ID this can become redundant work on a popular tree. To avoid this once we have determined the root ID for a given tablekey combination the code will cache it internally and return that later reducing the number of times that redundant queries need to be executed.
JoomlaCode Issue Tracker httpsjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";1
404;End use of metadata to store tags information;Tag information was stored in metadata to solve a specific problem with processing. This pull request implements a solution to the same problem without requiring that store. Use of the metadata store make using tags in extensions much more complex than does using an approach that does not require storage.;Update tags.php;"Bug in joomla cms tag helper while deleting tags attached to any content.
Tags does not get deleted when all the attached tags have been removed from the comcontentarticle in the previous condition there is nothing set in newTags so it will not set the tagsChanged parameter to true which ultimately does not delete the tag in postStroreProcess where tagsChanged paramter is checked";1
405;STRICTTRANSTABLES' on MySQL .;"With this parameter 'STRICTTRANSTABLES' on MySQL ..
When I try to save a module I get an error
Save failed with the following error Incorrect datetime value '' for column 'publishup' at row 
When I try to save the content language I get an error
Save failed with the following error Field 'assetid' doesn't have a default value";Module publish up down and checkout out time should always have a null date if not set;"Pull Request for Issue .
Summary of Changes
This a fix aimed towards the Joomla .x branch that ought to be in the .x branch too. Currently we don't always set this value but with STRICTTRANSTABLES disabled it automatically has a null date applied. In the .x branch we've enabled this parameter causing modules to fail to save.
We are doing this same check in comcontact for example hence why I'm making this PR at the staging branch rather than .x even if the results aren't obvious to test in this branch
Testing Instructions
Check modules continue to save in the .x branch with a null date if any of publish up publish down or the checked out time isn't set
Documentation Changes Required
None";1
406;Removed unsafe eval from compressed treeselectmenu script;"referring to issue 

I'm using CSP on my server. Sadly I have to allow unsafeeval because of Joomla. There are more secure alternatives to eval
httpsdeveloper.mozilla.orgenUSdocsWebJavaScriptReferenceGlobalObjectsevalDon.tuseeval.
See also httpwww.w.orgTRCSPscriptsrc";improve jquery selector;This patch is against staging and replaces .;1
407;Remove catslug in content modules;"The request is to use the same principle for creating links to articles in content modules. Since catslug is used in some modules and is not used in other module this potentially leads to double article URLs when SEF is disabled. But there is no need to use catslug in Joomla .x because process link function ContentHelperRoutegetArticleRoute requires only catid integer value.
componentscomcontenthelpersroute.php
public static function getArticleRouteid catid language 
After going deeper into the issue I came to conclusion that only catid must be used and catslug must be removed.
Steps to reproduce the issue

disable SEF SEO Settings set all fields No
publish thee content modules Articles Category Module Latest News Module Articles Newsflash Module in the same page for comparison.
In the module settings select the same one category as source the same for three modules.
Compare URLs to the same article in different modules.

The results I got
Articles Category Module
httptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidcategoryaliasItemid
Articles Newsflash Module
httptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidItemid
Expected result
httptest.comindex.phpoptioncomcontentviewarticleidarticlealiascatidItemid
All the links to the same article must be identical in all modules. Otherwise it's a serious SEO mistake.";ContentHelperRoutegetArticleRoute needs to be called with catid and language;"While working on I noticed that we never use the language value of the article when calculating the URL for it. Basically it means that we don't care if an english article is assigned to a french menu item etc. Long story short If you want to get the right URL you need to provide the article ID the category ID and the language.
Testing instructions See that Joomla now creates the same and right URLs everywhere. Except for the TOS in the user plugin... Can't fix that one...
This testing instructions actually mean that this needs a code review rather than a test.
For those looking for numbers We have files where ContentHelperRoutegetArticleRoute is called. Only in of those files we are using the right language parameter.";1
408;menuparams is already a Registry object.;"Pull Request for Issue .
Summary of Changes
JApplicationSitegetParams tried to instantiate a new registry object from menuparams but that is already a registry object.
This PR removes that step and directly merges the component and menu params.
Testing Instructions
Set up a menu item for a component of your choice and set some parameters different from the global counterpart
Check that the menu parameter overrides the component ones.
Documentation Changes Required
None";Regression J. menu item params loaded incorrectly;"Pull Request for Issue 
Summary of Changes
Issue is due to the change at rootlibrariescmsapplicationsite.php line from
temp new Registry temploadStringmenuparams
to
temp new Registrymenuparams
Testing Instructions
Test the menu item params override no more taking effect in comcontent etc
Documentation Changes Required
Steps to reproduce the issue
Use JApplicationSite getParams'commycomponent' method for a certain component in the frontend having a valid routed menu item.
Expected result
All component params are merged with the specific menu item parameters in the same JRegistry object
If you have a menu item parameter 'myparam' and you call
registry thisappgetParams'commycomponent' 
You always had
myParam registryget'myparam'
Actual result
Menu item parameters are not merged as properties of the JRegistry object that can be obtained using the JRegistry 'get' method but instead menu items parameters are all included in an array property named 'data'.
If you have a menu item parameter 'myparam' and you call
registry thisappgetParams'commycomponent' 
You have
menuParameters registryget'data'
myParam menuParameters'myparam'
System information as much as possible
Issue is due to the change at rootlibrariescmsapplicationsite.php line from
temp new Registry temploadStringmenuparams
to
temp new Registrymenuparams
Currently menu item params are not applied in J. at all. Just test creating for example a menu item for a single article view.";1
409;Error are not reported due to thisconnected call;"Due to the fact that the
thiserrorNum int mysqlerrnothisconnection
thiserrorMsg string mysqlerrorthisconnection . ' SQL' . query
was after the call to if thisconnected
then the error message was empty because it contains the result of the thisconnected call.
See bugtracker 
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeridtrackeritemid";Fixing error message in Mysql driver;This is a copy of but this time against master. See the original pull request for more details.;1
410;Menu manager pagination broken in .. beta;"Simple fix for .
A copy of the original issue description

Steps to reproduce the issue
Install Joomla .. beta
Open AdministratorMenusMain menu
Add at least new menu items
Change limit dropdown to 
Open search tools select Published.
Change to page everything ok.
Change back to page everything ok.
Open search tools again select Select status.
Try going to page again.
Expected result
Page shown
Actual result
Page shown again
Additional comments
Please note that this is using .. beta so the changes regarding pagination included here do not fix this problem.

For details see that issue.";Fix pagination in user components and comusers with enabled filters;"Sometimes pagination in JModelList dont work. Usually it happens when you are on first page and has no active filters if it present in frontend. Reason that list.start state is cleared in populateState method.
Second commit fix pagination in users list comusers when you activate some filters.";1
411;Correct spelling;"Summary of Changes
The word information is incorrectly spelled.
Testing Instructions
Check the diff against a dictionary to ensure the correct spelling is used 
Documentation Changes Required
NA";Lang string typo;Simple correction.;1
412;Fix error message is not displayed in comconfig;"While building a custom JFormRule to validate the options in my custom component's configuration I realize that the rule's error message is not displayed after redirecting back to the configuration form.
class JFormRuleFoo extends JFormRule

 public function testSimpleXMLElement element value group null JRegistry input null JForm form null

 Validation fails enqueue error message it must be displayed when we are taken back to the form.
 JFactorygetApplicationenqueueMessageJText'Validation fails' 'warning'
 return false



But if we try to go to somewhere else
JFactorygetApplicationenqueueMessageJText'test' 'warning'
JFactorygetApplicationredirect'index.php'

Then the message is displayed as usual.
The problem is in httpsgithub.comjoomlajoomlacmsblobstagingcomponentscomconfigmodelform.phpL
It should be
foreach formgetErrors as message

 if message instanceof Exception
 
 JFactorygetApplicationenqueueMessagemessagegetMessage 'error'
 
 else
 
 JFactorygetApplicationenqueueMessagemessage 'error'
 
";Config doesn't output error message when we have a required field PHP validation not JS;"This is the same fix as here except that in the old pull request I've somehow screwed it up...
When I originally fixed this issue the configuration didn't have Javascript validation. That is why I was able to run into this. Right now the config has a javascript validation and we can only run into the issue when we turn it off. But despite the fact that we can't run into the issue when js validation is on it doesn't change the fact that the php code is wrong.
Testing instructions
First we need to disable the javascript validation. Go to
administrator\components\comconfig\view\component\tmpl\default.php
comment out line . At the end your code should look like this
Joomla.submitbutton functiontask
 
 if task config.cancel.component || document.formvalidator.isValiddocument.getElementByIdcomponentform
 
 Joomla.submitformtask document.getElementByIdcomponentform
 
 

After that test it with CMandrill
First download CMandrill from
httpscompojoom.comdownloadsofficialreleasesstablemandrill
then install it. Now go to components CMandrill options. Go to the permissions tab and try to change any permission. Save. The page will refresh without any error message and the permissions that you've applied shouldn't be saved.
Now apply the patch and try to save the config again. This time you'll see the error message.";1
413;comwrapper autoheight error in IE;"fix for 
Original issue description

javascript code in mediacomwrapper should have
document.frames'blockrandom'.document.body.scrollHeight

but not
document.frames'blockrandom'.document.body.scrollHeight

Note that autoheight actually works for IE only.";Resize to the correct height of the iframe;"Summary of Changes
Auto height is broken for the wrapper menu item.
Testing Instructions

Create a wrapper menu item with a local link like demoarticle.
In the advanced options of the wrapper menu item set Auto Height to yes.
Open the wrapper menu item on the front.

Expected result
The iframe is resized that not scrollbars are visible.
Actual result
The iframe doesn't get resized.";1
414;Support collection of custom stats in stats frontend module;"Summary of Changes
Similar to how the backend module triggers an event to add additional items to its output this adds support for the modstats module to do the same.
A new onGetStats event is published with a single parameter a context hardcoded to modstatsadmin and any plugin responding to this event is expected to return an array matching this schema
array
 'title' 'Stats Item Title'
 'data' 'Data to be displayed'
 'icon' 'Optional IcoMoon font icon for the row defaulting to info if not set'

The title and data attributes MUST be defined or a row is not added.
Similar to the quickicons implementation items can NOT be removed via the plugin event.
Testing Instructions
Add the following method to a system plugin
 public function onGetStatscontext
 
 return array
 array
 'title' 'Plays Audio'
 'data' JText'JNO'
 'icon' 'music'
 
 
 
With the admin stats module enabled you should see a new row with this data.
Based on the same thing that mbabker did for the backend 
The weblinks part is moved here httpsgithub.comjoomlaextensionsweblinkspullfiles to be included in the . version.";Add statistics in modstats front end depending on the event onGetStats;"Summary of Changes
I added showing statistics in modstats front end depending on the event onGetStats.
And I deleted the fix way web links counted the stats.
modstatsadmin used the event onGetStats already.
Testing Instructions


Install web links httpsgithub.comjoomlaextensionsweblinksreleases


Create a web link and a menu item for showing the web link per category.


Open frond end and click the web link so stats are collected.


Create a module that shows statistics in frond end and select hit counter. Select a position for this module and show it on all pages.


Navigate to the front page and see that the stats for web links are shown


Navigate to the plugin manager and see that the plugin System Web Links is not active


Apply my patch and see that stats are shown if the plugin is active and they are not shown if the plugin is not active.


Expected result
If the plugin System Web Links is not active there should no stats are shown.
Actual result
Stats are shown in the front end for the component web links independent of the plugin System Web Links.
If another component used the event onGetStats these stats are only shown in the back end module
modstatsadmin and not in the frond end module modstats.";1
415;Code Style Line exceeds characters contains characters;Code Style Line exceeds characters contains characters;Code Style administratorcomponentscombanners;.;1
416;OCI Versions of Oracle Database Driver Iterator and Query Classes;"Pull Request for Issue .
Summary of Changes
Renaming of existing PDO Oracle Driver Iterator and Query classes to pdooracle.php.
Creation of new OCI versions of Oracle Driver Iterator and Query classes which are named oracle.php
This primarily came up because I've been wanting to do some Joomla work that will need to utilize an Oracle database for some data retrieval but PHP 's support for the pdooci extension is not very good and it's unclear whether or not that will improve so in order to better support PHP and things that work well with it it's best that we have an OCI version of the Oracle Driver Iterator and Query classes available.
I'm not sure if the Framework's Database package is being actively maintained but I could submit these changes over there as well too if needed.
Testing Instructions
This is going to be difficult for most since not everybody has an Oracle database available to test with and this would really only apply to the few developers utilizing Joomla in this fashion to connect to external Oracle databases from within their custom extensions inside of a Joomla site.
I almost want to say that it would simply be easiest if the submissions could be reviewed for general correctness but not necessarily for functional correctness due to the difficulty doing so might require.
However generally on Windows with XAMPP and the bit version of the Oracle instant client downloaded and added to the Windows Path it is pretty easy to be able to enable your local PHP install for Oracle support. The next step would be to grab a copy of Oracle's Express Edition and install that onto your local machine or a VM and with the sample database connect to it from within Joomla using something like this I added this code right before the closing body tag in the protostar template of a default Joomla install for testing from my end
options 
 'database' 'TEST'
 'user' 'yourusername'
 'password' 'yourpassword'
 'host' 'localhost'
 'driver' 'oracle'


php oracle JDatabasegetInstanceoptions 
php
 result oracleconnected
 rows oraclegetTableColumns'SOMETABLE' false
 rows oraclegetTableCreate'SOMESCHEMA.SOMETABLE'

 rows oraclegetTableKeys'SOMETABLE'

 rows oraclegetTableListnull true
 rows oraclegetTableList'SOMESCHEMA' true

 rows oraclegetVersion
 oraclesetDateFormat
 oraclesetQuery'SELECT FROM SOMETABLE WHERE SOMEID '

 
 pidm 
 query oraclegetQuerytrue

 queryselect''
 queryfrom'SOMETABLE'
 querywhere'SOMEID someid'

 querybind'someid' someid

 oraclesetQueryquery
 

 oraclesetQuery'SELECT FROM SOMETABLE WHERE SOMEID someid'
 oraclegetQuerybind'someid' someid

 oraclesetQuery'select from SOMETABLE' 

 
 oracletoUpper
 it oraclegetIteratornull 'ArrayObject'

 rows array
 foreachit as row
 
 rows row
 
 

 rows oracleloadObjectList

 affected oraclegetAffectedRows
 numRows oraclegetNumRows

 result oracleconnected
 echo pre
 echo printrrows true
 echo pre


More info on what I've tested so far can be found over on the Issue page and I'm happy to answer questions that might come up too.
I'm pretty sure this initial PR will fail due to code consistency checks so I'll work on correcting those tomorrow morning.
Documentation Changes Required";Use thisconnection null rather than unset;"Pull Request for Issue Use thisconnection null rather than unset
Summary of Changes
unset will undeclare the class member variable we don't want to do that.
replicates framework changes
Testing Instructions
merge by code review
Documentation Changes Required
none";1
417;Pagination user manager when Search Tools present;"Issue
Pagination doesn't work when you select a value in the SearchTools. In the user manager this is for example Activated or the state Enabled. In the Article Manager this would be the state Disabled btw consistency ftw.
See for the original issue
Solution
I tried to fix that originally with but did a stupid mistake. Of course is a valid filter value but my boolean check would take that as an invalid value.
This PR fixes it by only threating an empty string nothing selected as invalid.
Testing
Test that the pagination the managers with Search Tools work with any values. Also test that it still works in Hathor and modal layouts.
Known issue so far
The Groups filter in the user manager still acts wrong. I haven't found yet why that is. maybe someone has an idea.";fixed pagination issue after applying serch tools filter in use?Çª;fixed pagination issue after applying serch tools filter in users list at Joomla administrator side.;1
418;combanners Fix;"Thanks joomdonation for the fix.
Pull Request for Issue .
Testing Instructions
Switch to Hathor style.
Go to Components Banners Clients.
Edit a client.
Actual result
No more warnings.";hathor combanners client;"Before this PR the client view will not work at all with the following error
Call to a member function get on null";1
419;The sidebar arrow jumps fix;;Isis fix for safari bug;"This is a redo of but without introducing BS affix
Should work with all browsers but the idea here is to fix and safari rubber band effect that messes up the buttons
Testing
Use safari as your browser
apply this PR
try pages with long lists and observe if toolbar buttons are correctly rendered";1
420;Ensure the session close method is called instead to e?Çª;"Ensure the session close method is called instead to ensure that sessionwriteclose is called before redirect
Before this change we called the applications close method which was just a exit command the sessions close method has more specific code to base encode and write the session explicitly with sessionwriteclose so doing this on the redirect should fix any session write lag issues as per the PHP comments section and 
See PHP.net httpphp.netmanualenfunction.sessionwriteclose.php comments
Its VERY VERY hard to replicate unless you have a crap webhost and slow session saving
To test just edit some articles on the frontend nothing should be broken.
Closes";Graceful recovery for issue You are not permitted to use that link to directly access ...;"Add some faulttolerance to the system and recalculate edit permission also checking out the record
CASE The initial edittask failed to update session properly due to raceconditions
CASE The initial edittask was never called because the HTTP request was cached by the browser for any reason
See issue here for a detailed discussion 
NOTE
rd party extensions that extend JControllerLegacy need to reimplement this

if they need to pass to allowEdit more than just idNNN

Maybe best solution would be instatiate the view inside the controller add edit task

but this means that all tasks would need to redirect to the edit task instead of the view ... e.g. the 'apply' task etc which is a major BC break so i did not make such a PR 
if you do not like something this PR then please comment and help fix improve it

Testing
Try adding this to your .htaccess to force browser caching of the requests that try to add articlerecord iseditable into the sessions NOTE the bad effects for the effected URLs will persist for an hour so do not add more to it
ExpiresDefault now plus hour";1
421;loadmodule breaking the output of article category module;"Summary of Changes
The function ModArticlesCategoryHelpertruncate uses JHtmlStringtruncateComplex instead of JHtmlStringtruncate
Testing Instructions
Follow the instruction in the issue .
Expected result
Actual result
Apply this PR";fix a bug when truncate splits within a tag;"Pull Request for Issue .
Summary of Changes
Check if the cut is within a tag
Testing Instructions
see or";1
422;update to phpass .;"Pull Request for Issue new version of phpass .
Summary of Changes
Update to current version of phpass found at httpcvsweb.openwall.comcgicvsweb.cgiprojectsphpassPasswordHash.phpr.rev.
additional release note information in the official announcment
httpwww.openwall.comlistsannounce

Dropped PHP support in favor of PHP friendliness no deprecation warnings. Specifically

Added the newphpstyle constructor.


Just assume md supports a second argument which it does since PHP .
Use the and comparison operators.
While at it dropped the fallback to CRYPTEXTDES if there's no working CRYPTBLOWFISH fallback to the portable hashes right away.

Testing Instructions
unit tests pass code review
Documentation Changes Required
none
Note
Remember within Joomla this is only used to verify then migrate old passwords to the new hashing methods.
CC mbabker wilsonge rdeutz";Upgrade PHPPass to v.;"Pull Request for Issue 
Upgrade PHPPass to v.
Steps to reproduce the issue
Run unit tests in PHP . see httpstravisci.orgjoomlajoomlacmsjobs
Expected result
No warnings
Actual result
PHP Deprecated Methods with the same name as their class will not be constructors in a future version of PHP PasswordHash has a deprecated constructor in hometravisbuildjoomlajoomlacmslibrariesphpassPasswordHash.php on line";1
423;Simplified spaghetti code;Removed duplicated code;Fix undefined variable skin and minimize code in TinyMCE;"This fixes two things

First undefined variable skins in the switch cases at the end of this method when isSite and isAdmin both fails please don't say this can't happen.
Second minimize the code by providing fallback value once.";1
424;email cloaking kills email value of input field;"Solved issue from 
The issue
The plugin kills the email value of an input field when ohter inputs of the form don't validate.
Expected result

Defect result
input value
The solution
The issue are solved in steps

Before the email cloaker comes into action all form script image picture and noemailcloak tags will be extracted from the content.
Extracted elements with numbered placeholders like formelement formelement ... formelementn are replaced.
The email cloaker comes into action.
Eventually the numbered placeholders with the extracted elements in step are replaced.
The file of the email cloaker is located at .pluginscontentemailcloakemailcloak.php . The function wich extracted the formelements calls extractFormElements And the function which inserts the extracted elements into the content calls insertFormElements

How to test
Create a new Content. Put in the Content an inputfield with valueÆemailexample.orgÆ attribute like

And Save this Content. Then navigate to the Content like a visitor.
With the old emailcloaker the emailcloaker will distroy the htmlstructure.
Then load the pull request and opend the same Content.
Expected Result after solution
The htmlstructure is still correct. The email in the inputfield is shown.
Worked as a group on that issue icampus FPerisa Flow and kathastaden";Email Cloaking plugin corrupts HTML;"The plugin ôContent Email Cloakingö under some circumstances corrupts the HTML of the processed content.
The use of email addresses within attributes of HTML tags is legitimate in the HTML code of a Joomla article.
Chances are high this actually happens when users include any kind of modules within articles using the ôContent Load Modulesö plugin now used more than ever due to the new editor button ôModuleö.
An article containing this HTML code
img srcenvelope.png titleemailaddress.com
Should appear like that

But the cloak plugin corrupts the output
img srcenvelope.png titlespan idcloakThis email address is being protected ...spanscript type'textjavascript'...script
Which produce that result

The same goes for an input element
input typetext value placeholderemailaddress.com
Which should appear like that

but it becomes like that instead
input typetext value placeholderspan idcloakThis email address is being protected ...spanscript type'textjavascript'...script

The cause
HTML attributes like titleö...ö don't allow any further nested HTML tags nor JavaScripts inside them.
Summary of Changes

The negative lookahead '' added to the regular expression is used to exclude occurrences within HTML tags.
Added exhaustive comments to explain the reason behind the lookahead.

Testing Instructions
I have tested the new regular expression with a lot of sample text and it behaves good to me but everyone interested is encouraged to test further we know how tricky regular expressions can be.";1
425;Detect Google Search App GSA NOT as Safari;"Google Search App on IPad or IPhone others throws Can't Identify Browser Version because is identfiied as Safari.
So 'function identifyBrowserVersion' in 'browser.php' fails because it tries to identify the BrowserVersion via a RegEx that uses Version as identifier but not GSA.
See my comments concerning user agent strings at 
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";Remove the notice from JBrowser;"Abstract
Each time Joomla cannot detect a browser type a visible warning will appear in Front end. The issue tracker is filled with endless bug reports for all type of obscure browsers.

Proposed solution
I don't know any use for the logger notice that appears. So I propose to remove it completely.
Testing instructions
Try to change your user agent with a browser extension or something to something obscure. The warning should appear. Keep on trying till you find one.
Apply patch.
See that the notice is gone.";1
426;Missing colspan;"Check administratorindex.phpoptioncomlanguagesviewlanguages. There is missing a colspan in the table footer.
This PR changes colspan to colspan

Tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";Fix the bottom border.;"JC
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";1
427;Fix for email addresses validation rules;"Description
This fixes regular expressions used for email validation see 
Joomla didn't allow the ' char in user email addresses because JMailHelperisEmailAddress and JFormRuleEmailtest used Æ Unicode Right single quotation mark instead of ' ASCII apostrophe x in their regexp.
According to RFC it is allowed to have apostrophes in email addresses as long as they are ASCII character x Irish email example o'sullivanexample.com.
Testing instructions
You can test this patch by trying to enter valid andor invalid email addresses in User Manager and in Contacts. In most cases anyway you will be actually testing JS validation PHP validation has been tested by unit test.
Only expected cases accepted by JS and rejected by PHP are those of these kinds
.userexample.com
user.example.com
user..nameexample.com

Additional Comments
Reference material for email addresses validation rules

httpstools.ietf.orghtmlrfc
httpsen.wikipedia.orgwikiEmailaddress";Fixed JMailHelperisEmailAddress to validate IPv addresses;"Fixed JMailHelperisEmailAddress to validate IPv addresses. Previously any numeric values were treated as valid domains for emails.

Steps to reproduce the issue
JMailHelperisEmailAddress'q'
Expected result
false
Actual result
true
System information as much as possible
Joomla .. OpenServer Apache . PHP . MS Windows 
Additional comments
The problem piece of code is librariesjoomlamailhelper.php
 No problem if the domain looks like an IP address ish
regex '.'
if pregmatchregex domain

return true

A bit better solution
regex '\d\d|\d|.\d\d|\d|.
\d\d|\d|.\d\d|\d|'
Source httpwww.mkyong.comregularexpressionshowtovalidateipaddresswithregularexpression";1
428;Proxy JApplicationWebClient to the framework class;This removes JApplicationWebClient in favour of the version found in the framework. It adds an alias similar to that used with JRegistry to keep bc. To test ensure that navigating your website works as expected web apps only;Remove duplicate code by aliasing JApplicationWebClient to Framework;"Pull Request for Issue JApplicationWebClient was not extend from nor aliased to Framework WebClient thus duplicate code
Summary of Changes

Remove duplicate code by aliasing JApplicationWebClient to the Framework
Removes unit test for JApplicationWebClientTest.php With the removal of JApplicationWebClient in favor of the version found in the framework this unit test is no longer needed since the framework is already unit tested.

Testing Instructions

Add patch to .. or staging httpsdocs.joomla.orgTestingJoomlapatches
Navigate to the backend and frontend with one or more browsersdevices and be sure nothing is broken web apps only
Report your result back here with the JTracker Application";1
429;hathor postinstall typos;Pull Request for typos introduced in Issue;Consistency with the use of Isis instead of isis;"Summary of Changes
consistency with the use of Isis instead of isis
Testing Instructions
Easy fix on code review";1
430;RECAPTCHAAPISERVER URL no longer accessible;"Since yesterday httpapi.recaptcha.net is not accessible. It must be replaced by httpwww.google.comrecaptchaapi
Relevant bug
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";Fixed broken recaptcha urls;No description provided.;1
431;Permissions status not translated on the fly Solving;"Pull Request for Issue 
Summary of Changes
Added the js ini constants
Testing Instructions
On staging install at least one language more than enGB.
Switch to this language in backend.
Edit the permissions Global or any component.
Select a new setting for a user group.
Before patch the Calculated Setting will be displayed as harcoded English Allowed or Not Allowed. One has to save to get the correct translation in the language used.
After patch the Calculated setting will display in the language of the UI.";Remove hard coded strings on permissions;"Test instructions

Install other language set new language on backend
go to a component click on options
Change a permission

Before patch
English string
After patch
Your language string
ps there was a issue for it but I couldn't find it anymore";1
432;imp Adding a dropdown with flags display in language switcher;"Redo because of a conflict in 
This improvement adds a new parameter to let display a bootstrap dropdown with flags and language names instead of the older dropdown. It is BC. Test on Protostar. Beez is untouched by adding an override.
It was requested by many users on the forums.
Until now choosing dropdown display we would get


New parameters in the language Switcher
Use simple dropdown as in the past

Yes to Flags for dropdown

Do not use dropdown as well as do not use Image flags

No to dropdown and yes to Image flags


Results of the new type of dropdown in frontend other types are unchanged


if choosing Yes to decrease line height

andrepereiradasilva
dgt
richard";Module language switcher showon options;"Summary of Changes
Use the showon functionality now available in forms to simplifyreduce the options displayed in the module options note that this also removes some text that explains not so use things etc
Testing Instructions
This is only a cosmetic change
Go to the module and try all the options on that page to ensure that the new showhide functionality makes sense.";1
433;Fixed calendar field hint;"The code to display hint property in calendar fields is there but it doesn't work.
Testing Instructions
Create a new or modify an existing calendar field in the frontend or backend and ensure to assign it a hint property as shown in the picture
I have temporary modified the calendar fields already present in Article Manager to save me a lot of time.

Before the patch the hint does not show.

After the patch the hint is there.";Calendar placeholder doesn't work;"Pull Request for Issue .
Summary of Changes
placeholder attribute doesn't work on new calendar field due to missing echo.
Testing Instructions
Call JHtml'calendar' with a 'placeholder' 'test' in the attribs array eg
JHtml'calendar' value name id format 'Ymd' attribs array'placeholder' 'test'
Expected result
placeholdertest in the HTML output.
Actual result
No placeholder attribute shown in HTML.
Documentation Changes Required
None";1
434;comfields Define the batch commands;"Pull Request for Issue .
Summary of Changes
Removes the notice from the issue.
Testing Instructions

Create some field groups
Create a Content field.
Select this Content field and Batch copy or move

Documentation Changes Required";Refactoring comfields to no longer use comcategories;"This is a bigger refactoring of comfields to get rid of the use of comcategories for its field groups fieldset feature.
During the rewrite I found also several code pieces which are unused or were copypasted from comcategories but don't make sense in the context of fields.
I also replaced the useage of some deprecated methods.
So forgive me that it become a bit bigger than initially planned 
Summary of Changes

Main thing is that the field groups are now handled in comfields using own views.
ACL should work now at least better than before.

Testing Instructions

Make sure managing the fields and groups works
Also test that the fields appear as expected. You don't have to test the indivual field types as I haven't changed anything there.
Please also test ACL. It should inherit permissions from component to field group to field. I haven't had the time yet to test that myself but in theory the code should work.

Documentation Changes Required
If there already is documentation how to implement comfields into an extension that will need to be adjusted.

Needs a helper method which returns possible contexts.
Needs added permission sections in the access.xml file.";1
435;Remove from extensions useless columns systemdata and customdata;"Pull Request for Issue 
Summary of Changes
Remove columns from extensions table and all files.

Fix template copy functionality.
Fix postgresql installation some plugins in extension table has missing column value.
Set correct PK value for template style protostar in mysql
Set correct auto increment value for postgresql copy template error

Testing Instructions


Try to copy template style for protostar before patch it does not work.


a. Install dev. joomla branch and then apply patch and go to database fix button. Mentioned columns should be deleted from databases.
b. Test installation of patched Joomla on mysql andor postgresql.


Try to copy template style again now it should work


Expected result
Template copy works.
Actual result
Error.
Documentation Changes Required
Maybe. Two columns has been deleted from extensions table.";j Default customdata and systemdata to an empty string;"Summary of Changes
Discovery is broken on Joomla becaus of an SQl error that customdata and systemdata don't have to be null.
Honestly I don't know what are this columns for but they must be initialized with some data as the installer defines them as not nullable. Either way we always write some data into the coumns for an extension or we allow null values. Somebody a clue what these columns are for
Testing Instructions

Install Joomla with the .dev branch.
Download the override plugin from httpsgithub.comDigitalPeakIncubatorplgsystemoverridearchivemaster.zip
Extract it to pluginssystem
In the back end got to Extensions Manage Discover
Click on the Discover button on the top

Expected result
The override plugin should appear in the list.
Actual result
The list is empty.
Documentation Changes Required
None as it is a bug.";1
436;Fixes initial comfields sql update file for mysql.;"Summary of Changes
Fixed two issues with the initial comfields sql update file for MySQL I don't have PostgreSQL or MSSQL so someone should probably look at possible constraints of those too.


Due to the length of the context field combined with the utfmb unicode default for the table it will not create the index. That is because it would surpass the max length of bytes for MySQL.
I changed the specific fields to utf so the max length of bytes is not surpassed.


TEXTBLOBS cannot have a default
Removed defaults for those in this specific file.


Testing Instructions
Run the sql file before the patch notice the errors.
Run the sql file after the patch notice the errors missing.
Documentation Changes Required
The issue with the max key length for mysql and maybe others should probably be noted in the docs.";Limit indexed column size to bytes for fields;"Pull Request for Issue 
Summary of Changes
Indexed column can not have more than bytes for mysql database.

shrink index to first chars for column context in fields fieldsgroups.
shrink index to first chars for column itemid in fieldsvalues
addsync unsigned to assetid and groupid which should have that.
add missing label for indexes in fieldsvalues

Testing Instructions
Installation should works as before.
It is enough to test installation without testing data.
How to emulate installation error.
Mysql . with old configuration has by default ROWFORMATCOMPACT.
To emulate that you have to replace text in installation sql file from
 ENGINEInnoDB
to
 ROWFORMATCOMPACT ENGINEInnoDB
for all lines.
Expected result
No errors on mysql . with old configuration.
Actual result
Error on installation.
Documentation Changes Required
None";1
437;Resolves Issue;"This resolve an issue with TinyMCE and the use of width and height on JForm editor field element.
How to test
Before applying the patch try to resize the TinyMCE editor via a JForm xml field definition. Add width and height attributes to the editor definition in the xml file
 field
 namedefaultdescription
 typeeditor
 buttonstrue
 labelCONTENTTEXTLABEL
 descriptionCONTENTTEXTDESC
 classinputbox
 filterJComponentHelperfilterText
 assetidcomcontent
 width
 heightpx
 
then open the form to confirm that the editor widthheight has not changed.
After applying the patch confirm that the width and height do change.";Height of a form field type editor the Tiny MCE plugin overrides custom settings;"The XML code I have in my extensions for the form field type editor did not use my defined height of px it always shows the standard height of px 

I think that this is a bug in the Tiny MCE plugin. This plugin sets px as height in the setting parameters and that overrides the height definition in the custom XML forms.
How to test

Open Component | Newsfeed| New and check that the height of the editor is px.
Set the value of a custom form field with the type editor for the height to px. For example Open the file JOOMLA\administrator\components\comnewsfeeds\models\forms\newsfeed.xml and set in a height for the editor of px.
Open Extension | Plugin | Tiny MCE Advanced and delete the value for the htmlheight
Open again Component | Newsfeed| New and see that the height of the editor is still px. I would expect that this height is now px
Check the patch
After you completed steps to apply the patch.
Again open Component | Newsfeed| New and see that the height of the editor is now px.
Open after that the settings of other Joomla core components and check that the height of this are still px.";1
438;Missing form field attribute maxlength.;"This patch adds the attribute maxlength to the form field textarea.
JoomlaCode Tracker Page
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";Support for attribute maxlength. Form field textarea. Issue;"Issue 
The maxlength attribute specifies the maximum length in characters of a text area. The maxlength attribute is new for the textarea tag in HTML.
Test

Edit administratorcomponentscomconfigmodelformapplication.xml
Add attribute
maxlength
to field MetaDesc or any other field of type textarea.
Go to administratorindex.phpoptioncomconfig Site
Enter text into field Site Meta Description.
No limitation concerning length.
Apply patch. Try again. characters maximum are possible.";1
439;Update Codemirror to .;"Changelog for Codemirror . can be found here
codemirrorCodeMirror.......";CodeMirror .;"CodeMirror got an update so here's the CodeMirror update.
Release notes httpcodemirror.netdocreleases.html";1
440;Feature jquery keepalive;"Change the keepalive function to use jQuery instead of MooTools.
Tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";Remove Mootools Behavior Keepalive without any library dependency.;"Keepalive without any library dependency.
I have tried to shrink the code as short as possible.
Should work from IE and all other modern Browsers.";1
441;fix Bug in setting startOffset to tabs using localStorage all the time;"To reproduce the issue
Do this before applyting patch
Add the following code in any joomla template file for example anycomponentviewstmpldefault.php
 We are setting start offset to and setting browser storage to false
options array
 'startOffset' 
 'useCookie' false


echo JHtml'tabs.start' 'pane' options

echo JHtml'tabs.panel' Tab 'tab'

 echo Tab content

echo JHtml'tabs.panel' 'Tab' 'tab'

 echo Tab content

echo JHtml'tabs.panel' 'Tab' 'tab'

 echo Tab content

echo JHtml'tabs.panel' 'Tab' 'tab'

 echo Tab content
echo JHtml'tabs.end'
Ideally you should have open Tab as we have set offset to . Now if you have Tab as selected then select Tab and simply refresh the page. We have disabled the broweser storage it means Tab should be selected. But it's not.
Reason
httpsgithub.comjoomlajoomlacmsblobstagingmediasystemjstabs.jsL this line of code is expecting boolean but when you will check in cosole with code
console.logtypeof this.options.useStorage
it will show string and because of that condition in above file always become true.
Test Confirm fix
Apply this patch and confirm with enabling or disabling browser storage.";Fixed tabs ignoring useCookie param;"Not sure why they were strings before. They're assumed to be booleans later on when they're used in JS at this line httpsgithub.comjoomlajoomlacmsblobstagingmediasystemjstabs.jsL
Reason for not removing the true and false values since they're redundant joomlacodingstandards
Steps to reproduce

Create tabs using something like this echo JHtml'tabs.start' 'signInPane' array'startOffset' 'useCookie' false and anything else that's necessary to create the rest of the tabs pane.
Visit the tabs on the frontend.

Expected result
Have the rd tab because of zero indexing be open. And upon selecting another tab and refreshing have the rd tab still open and not the last active tab.";1
442;error fix;"Pull Request for Issue .
Summary of Changes
Testing Instructions
Expected result
Actual result
Documentation Changes Required";Joomla . Fixing fatal error in admin template;This should be selfexplanatory;1
443;Added safemode ini setting compatibility check before setting incompati...;"Added safemode ini setting compatibility check before setting incompatible curl options.
See httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";Check for safemode or openbasedir in the cURL adapter;"Certain environments with PHP's safemode or openbasedir options set can cause errors with the cURL adapter. Users will get a message similar to Warning curlsetoptarray CURLOPTFOLLOWLOCATION cannot be activated when an openbasedir is set in librariesjoomlahttptransportcurl.php on line .
Edit Tracker httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemid";1
444;Very slow of JavaScript performance in Isis...;"previous pull 
I made some updates based on Bakual idea about apply chosen only for .advancedSelect
so here I removed JHtml'formbehavior.chosen' 'select' from all tmpl and added options to the template for allow to enabledisable JHtml'formbehavior.chosen' ... that will work only for select with class .advancedSelect
and I made new pull because previous have conflicts....
Links

original pull 
 Very slow of JavaScript performance in Isis in Opera
chosen.js is the cause of the low backend performance in google group";Missing CSS File at the Updater choosen.css;"Tracker 
httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart";1
445;Fix menu icon for trashed menu item state;"Issue description
Trashed menu items use the unpublished icon instead of the trashed icon in backend. This patch should fix this issue without affecting any other behavior. Issue was originally reported by user Cartho on joomlabugs.de httpwww.joomlabugs.deforumindex.phptopic..html
Testing instructions

Go to Menus Your Menu in backend to see the list of menu items.
Trash one or more menu items.
Set the state filter to trashed or all to display trashed items.
Apply the patch.
Make sure the icon is now correct and all actions still work in particular

untrash an item by clicking the trash icon.
untrash one or more items by selecting some and clicking the clear trash button when the state filter is set to trashed.
trash one or more items by selecting some and clicking the trash button.



Further proposals
As mentioned the patch only changes the icon. For reasons of consistency I have two more proposals where I'd like to request for some comments
 Change the tooltips
I'm not sure if the tooltips Publish menu itemComponent disabled and Component disabled and menu item unpublished. are the correct ones to use for the trashed state .
 Use the same state buttons as in comcontent
In comcontent list of articles we have a button group containing the status icon featured icon and a dropdown with the actions trash and archive. Is there any point against doing this the same way in commenus Instead of featured we could use the default marker instead of having a separate column the dropdown could be replaced with a single trash icon because we don't have an archived state for menu items AFAIK.";Menu Items Manager status tips don't show for System Links;"Before patch mouse over the status icons for the url alias separator and heading menu items the tip does not display because tip was set to false
After patch";1
446;MSSQL fix install extensions crash;"Steps to reproduce the issue
try to install an extension for example the compatchtester or the pkgweblinks or....
Expected result
extension installed or some error msgs
Actual result
joomla crash
the issue is better described here 
System information
Windows R ..
Apache ..
PHP ..
Joomla ..dev
Additional comments
now handle the exception that was unhandled 
Installation of a module 
Add a new menu item to the Main Menu";SQL errors when installing extensions on MS SQL Server;"Executive summary
When Joomla is using MS SQL Server database is not possible to install any extension. A SQL error message is shown or the user is logged out without any message.
As final result the installation is aborted and no extension is added to the site.
Test instructions
Apply the patch then try to install any extension a Joomla installation using MSSQL is required.
No error messages should be presented and you could use the extension without any issue.
Technical information
The main problem is caused by columns flagged as NOT NULL we have to prime them with empty data.
An error occurred while updating site menu entries too due a syntax error in the query
Backwards compatibility
This PR does not affect backwards compatibility
Translation impact
This PR does not add remove or modify any language strings";1
447;Union should not apply settings to the set;"httpjoomlacode.orggfprojectjoomlatrackeractionTrackerItemEdittrackeritemidstart
The union applied settings like grouphavingorder to the result set instead of the first select. This corrects that they now apply to the first select.
Currently the query object doesn't support set settings. Use the string manipulation instead.";uniongroupbyproblem;httpissues.joomla.orgtrackerjoomlacms;1
448;fix APCu cache storage;"this fix for APC caching when server use PHP . with APCu
in my configuration it
PHP ..
APCu ..
how to test
make sure that you have installed PHP . or higher and APCu extension
enable APC caching in Global Configuration and go to the Clean Cache page there you will see a lot errors
then apply patch and again go to the Clean Cache page and check whether you are now able to see the cache info and able to clean up the cache
PS it seems bug in PHP APCu extension in compatibility with old APC";Fixes for APC when using APCu APCu BC break enable more cache tests;"Summary of Changes
Addresses potential issues in the APC APCu cache drivers when different APCu versions are in use and depending on PHP configuration this can affect the APC driver even though all fixes are related to the APCu extension.
Testing Instructions
I only hit this by fixing various unit test issues that caused many adapters to not be tested I don't have user level instructions for this. I can tell you though that if you apply only the patch for the unit test file and run the cache tests if you have the right APCu version installed you can trigger the undefined index errors that this fixes.";1
449;Corrected links in Contacts List All Contact Categories;The links generated in view categories of component comcontact link to the current page. The changed line removed all computed parameters in the link;Fixing broken URL creation when categories are trashed or unpublished;"When a category is not published or when it is trashed the URLs are not created and instead a fatal error is thrown. This is an issue with indexing in smart search.
And with the words of Cato the Elder Ceterum censeo Joomlacode esse delendam I believe that Joomlacode has to be destroyed.";1
450;fixngClass handle index change correctly;"changed the oddeven calculation to be done using modulo operation instead of bitwise operation. the bitwise operation caused issues with operator precedance mod oldindex is actually parsed as mod oldindex and not mod oldindex as might be expected. decided it is better to just use modulo operation for readibility instead of adding parentheses.
fixes";Update ngClass.js;"I don't know if this was intended but I don't think the code was comparing the indexes correctly and it was causing some weird behavior when using the ngclasseven and ngclassodd directives.
See the following plunkr for an example of the bug. httpplnkr.coeditVAiDBQdWRutNGnVdSLppreview
Select the Red Radio button option to see that when switching classes on rows the classes are not always switched properly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
451;fixcompileremove controllerAs requirement;"What kind of change does this PR introduce Bug fix feature docs update ...
Bug fix
What is the current behavior You can also link to an open issue here
Binding a directive to a controller without a controllerAs property throws an error unnecessarily.
What is the new behavior if this is a feature change
Binding a directive to a controller without a controllerAs property does not throw an error.
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information
Remove the controllerAs requirement when binding a directive to a
controller";fixcompile bindToController should work without controllerAs;"What kind of change does this PR introduce Bug fix feature docs update ...
fix
What is the current behavior You can also link to an open issue here
see 
Does this PR introduce a breaking change
no
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features";1
452;Fixed incomplete merge;No description provided.;fix for;"removed merge conflict comment in angularmocks.js
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
453;choreIE remove all IE specific code;Remove all code that was IE specific;refactor remove the remaining IE code bits from the codebase;No description provided.;1
454;WIP angular.component implementation ci skip;"Needs tests and experimentation it would be nice to make this work well
with TypeScript decorators for ease of use.
The whole controller instantiated after templateUrl is loaded thing seems
notideal it would be cool if a templateUrl function could be a method of
the component controller.";featloader add convenience method for creating components;"The proposed syntax
angular.module'myApp'.component'myComponent' 
 template 'divdiv' string | Function default ''
 templateUrl 'a.html' string | Function default undefined
 controller MyCtrl string | Function default function
 controllerAs 'vm' string default component name
 transclude false boolean | object default true
 isolate false boolean default true scope .vs. scope true
 bindings abc '' object default passed to bindToController
 canActivate MyCtrl.canActivate Function default undefined passed to factory.canActivate
 routeConfig MyCtrl.routeConfig RouteConfig default undefined passed to factory.routeConfig

This means that for the most common usecase of simple component ppl will only need to pass template controller and bindings.
I've discussed this with btford and we've decided to change a couple of things from 

Controller lifecycle hooks onActivate onDeactivate etc. are not going to be part of the component options since it makes more sense that the developer will just put those as methods of his controller this way those methods have access to controller's state
In case developer passes a function for templatetemplateUrl this function is injectable with locals of element and attrs. This is important because today if you pass a function for templatetemplateUrl in DDO you get element as attrs but for DI you rely on the injectable DDO factory. In the component helper you don't have a factory therefore we make all functions that can be passed in options injectable.

Docs are still missing obviously but I would like to get some feedback before moving on.
Closes";1
455;featparse support unicode identifier names;"Support unicode identifier names as defined in Section . Identifier Names
and Identifiers ECMAScript Language Specification
httpwww.ecmainternational.orgecma.sec.
except for unicode escape sequences which is hard to implement
without changing too much existing code.
Closes";featexpressions allow nonEnglish Unicode letters in identifiers;"Allow most of the nonEnglish Unicode letters in identifiers inside AngularJS expressions. Please see for the discussion.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
456;fixCHANGELOG missing version number for ..;Well the version number was missing there.;docsCHANGELOG missing version number added;No description provided.;1
457;Add support for multiple ignored directives;Sometimes it is useful to have a possibility to ignore more than one directive.;featcompile improve filter system of directive;"What kind of change does this PR introduce Bug fix feature docs update ...
Feature
What is the current behavior You can also link to an open issue here
when you
compileelement undefined undefined 'ngController'scope
scope.apply

only a single directive can be excluded
What is the new behavior if this is a feature change
with this patch we could have more control on what directives we want to compile.
An example could be
element.attrnginclude template
compileelement undefined undefined functionname return name 'ngInclude' scope
scope.apply

so we could compile just the directives we need. maybe just those attached runtime.
this way we can avoid reattaching controllers or other ngdirectives.
Does this PR introduce a breaking change
No. the code provided is backward compatible
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information";1
458;Fix compile remove templateUrl directive splitting;"How did compiling a templateUrl async directive with replacetrue work before this commit

apply all directives with higher priority than the templateUrl directive
partially apply the templateUrl directive create beforeTemplateNodeLinkFn
fetch the template
apply second part of the templateUrl directive on the fetched template
afterTemplateNodeLinkFn

That is the templateUrl directive is basically split into two parts two nodeLinkFn functions
which has to be both applied.
Normally we compose linking functions nodeLinkFn using continuation calling the linking
function of a parent element passing the linking function of the child elements as an argument. The
parent linking function then does

execute its prelink functions
call the child elements linking function traverse
execute its postlink functions

Now we have two linking functions for the same DOM element level because the templateUrl directive
has been split.
There has been multiple issues because of the order of these two linking functions creating
controller before setting up scope locals running linking functions before instantiating
controller etc.. It is easy to fix one use case but it breaks some other use case. It is hard to
decide what is the correct order of these two linking functions as they are essentially on the
same level.
Running them sidebyside screws up prepost linking functions for the high priority directives
those executed before the templateUrl directive. It runs postlinking functions before traversing
beforeTemplateNodeLinkFnnull do not travers
afterTemplateNodeLinkFnafterTemplateChildLinkFn
Composing them in any order screws up the order of postlinking functions. We could fix this by
having postlinking functions to execute in reverse order from the lowest priority to the highest
which might actually make a sense.
My solution is to remove this splitting. This commit removes the beforeTemplateNodeLinkFn. The
first run before we have the template only schedules fetching the template. The rest creating
scope locals instantiating a controller linking functions etc is done when processing the
directive again in the context of the already fetched template this is the cloned
derivedSyncDirective.
We still need to passthrough the linking functions of the higher priority directives those
executed before the templateUrl directive that's why I added preLinkFns and postLinkFns
arguments to applyDirectivesToNode.
This also changes the compile transclude should make the result of a transclusion available to the
parent directive in post linking phase templateUrl unit test. It was testing that a parent
directive can see the content of transclusion in its prelink function. That is IMHO wrong as the
ngTransclude directive inserts the translusion in its linking function. This test was only passing because of
cca which changed the behavior of the compiler to traverse
before executing the parent linking function. That was wrong and also caused the issue which
this change fixes.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Isolated scope properties are not available in 'pre' link function when using 'templateUrl';"Fix for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
459;featngMock add flushByIndex function;"Request Type feature
How to reproduce
Components ngMock
Impact small
Complexity small
This issue is related to
Detailed Description
I've recently needed to flush httpBackend requests in an arbitrary order to add unit tests around an edge case. This PR satisfies that need.
Other Comments
Adds a flushByIndex function to allow pending requests on httpBackend to be flushed in an arbitrary
order.";feathttpBackend flush requests in desired order;"What kind of change does this PR introduce Bug fix feature docs update ...
feature
What is the current behavior You can also link to an open issue here
 We are currently unable to test what happens if two HTTP requests complete in a different order with the current API.
What is the new behavior if this is a feature change
Now httpBackend.flush has the second parameter start. So you can flush any range of pending requests array. Hence you can flush requests in a different order.
Does this PR introduce a breaking change
No.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information
It was impossible to flush pending requests in desired order.
Now it is possible because you can specify a start number.";1
460;fixjqLite properly handle dashdelimited node names in jqLiteBuildFragment;Closes;fixjqLite Adding more support for custom element tagnames;"Before this change jqLite would allow you to create elements such as
myfoo and divfoo but would not allow you to create certain
elements such as trfoo and tdfoo. This is incorrect as well as
undocumented and unexpected.";1
461;fixinterval call fn even if invokeApply is false;"Becasue calling the interval function relies on a promise notify
handler the interval function would not get called without
invokeApply being true. With this update if invokeApply is false the
function is called normally.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixtimeoutinterval if invokeApply is false do not use evalAsync;"evalAsync triggers a digest and is unsuitable when it is expected that a
digest should not occur.
BREAKING CHANGE
Previously even if invokeApply was set to false a rootScope digest would occur during promise resolution. Workarounds include manually triggering scope.apply or returning q.defer.promise from a promise callback and resolving or rejecting it when appropriate.
var interval intervalfunction 
 if someRequirementFulfilled 
 interval.cancelinterval
 scope.apply
 
 false
or
var interval intervalfunction idx 
 make the magic happen
 false
interval.thenfunctionidx 
 var deferred q.defer
 do the asynchronous magic evalAsync will cause a digest and cause
 bindings to update.
 return deferred.promise
";1
462;fixcompile fix memory leak;"For functions that have a '' binding on the scope change the function from an inline definition to an external definition so the function closure has no access to the parent scope.
Closes 
Note I am not sure this if this is a Chrome GC bug as the function never uses the parent scope but for the scenario from the issue the patch fixes the leak
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixcompile Major Memory Leak in Directive '' attribute;"Request Type bug
How to reproduce httpplnkr.coeditTWTjCJkxlDyQRCLcRg
Start on Home click link for Leak directive click link for Home page.
In chrome timeline force garbage collection.
Take heap snapshot. Despite being entirely gone from the page and no external references directive is not GC'ed and because it contains a reference to it's parent the parent is not collected either.
Components compile
Impact large
Complexity small
This issue is related to a memory leak
Detailed Description
When a directive is written using '' reverse one way binding there is a major memory leak.
when attribute removed leak is gone.
Other Comments
For functions that have a '' binding on the scope change the function
from an inline definition to an external definition so the function
closure has no access to the parent scope.
Backport of fix on ..x
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
463;chorengLocale regenerate locale files;No description provided.;In changes;Closes   The text was updated successfully but these errors were encountered;1
464;Extended customizability of resource;"Added an option to resource's action parameters. The user can define a custom httpConfig and a custom parseResponse function. These allow the user to work with a lot more systems sending custom headers through action.httpConfig and parsing weird responses with parseResponse.
Example use case. these additions let me use www.parse.com and resource together easily.
var myHttpConfig headers myHeaders Our predefined custom headers to use parse.com
var ParseResource resource'httpsapi.parse.comclassesclassid' 
 class 'class'
 id 'id'
 
 get method 'GET' httpConfig myHttpConfig 
 create method 'POST' httpConfig myHttpConfig 
 save method 'PUT' httpConfig myHttpConfig 
 query 
 httpConfig myHttpConfig
 isArray true
 Parse.com's response from a query is stored in response.data.result
 a parseResponse function allows us to use this
 parseResponse functionresponse 
 return response.data.result
 
 
 remove method 'DELETE' httpConfig myHttpConfig 

I don't know if action.httpConfig and action.parseResponse are the best names but I think the idea of adding these two simple things adds a lot more flexibility to resource.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ability to configure the encodingdecoding data for resource;"Right now it seems like the resource module excepts the data from the REST API call to be returned the content of the response however sometimes it might not be formatted that way. What I have done is instead of getting the data from the responce.data automatically it is now a configurable function that defaults to the current process.
There is now a th optional parameter for resource that is the function used to parse for the data of the response so that if the REST API you are working with has the data formatted slightly or completely different than excepted it is very easy to still use the resource module.
An example of a REST API that has a different response the what resource right now except for be the Jira REST API.
I have already submitted the electronic CLA.";1
465;Support for 'extending' data;"By adding 'extendtrue' to action params you can have the data returned from server extend deeply the client side object rather than overwrite it.
This is useful primarily for updates e.g. when you save the object and get a returned object with some of the data changed and yet have client data which must be kept.
One possible flow
You have an object on the client which has an array displayed by a carousel thus each item has an 'isActive' property on the client side.
When saving the object you need to return the object for many reasons one of which ight be to get updated IDs when some items are new and must be created on server side getting an ID.
This scenario would normally overwrite the entire client object making the carousel slide to the first slide rather than maintaining the selected slide as needed.
By extending the client data with the server data you can avoid that.";featresource PUTPOST call should not always update the value object;Fixes;1
466;fixngClass when reversing the orderByFilter ngClassOdd and ngClassEven is not updated.;"Related to issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Repeater fixes;"I have reverted the original fix for because it was making the repeater unstable and in general was causing a lot of churn in the DOM. The current fix via ngModel is not ideal but better IMO.
I also added proper fix for . Similar fix was originally submitted by an external contributor Misko dismissed it and accepted only tests because these tests were now passing thanks to the repeater changes but that was only because the repeater was inefficient and was rebuilding the dom on every digest.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
467;docsie no fixes needed for IE but still relevant;"Closes 
None of the mentioned fixes are needed anymore but information on where Angular stands regarding IE is still relevant.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove some content about IE and earlier in IE guide doc;Remove some content about IE and earlier in IE guide doc;1
468;npm install to npm install karma;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Documentation Add missing argument to npm install;"Request Type docs
How to reproduce
Components
Impact small
Complexity small
This issue is related to
Detailed Description
The argument karma was missing in the command npm install given for the installation of Karma.
Other Comments";1
469;fixlocation absUrl does not return undefined for base href and à;"àhtmlMode
location's absUrl incorrectly returned undefined when using base href and htmlMode. Initializaing it to fix this issue.
Closes";fixlocation initialize locationPrototype.absUrl to empty string;"What kind of change does this PR introduce Bug fix feature docs update ...
Initialize locationPrototype.absUrl to avoid a crash when base href and current location have different domains.
What is the current behavior You can also link to an open issue here

What is the new behavior if this is a feature change
Does not crash anymore.
Does this PR introduce a breaking change
I don't think so...
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information
Closes";1
470;docsngDisabled describe your change...;disabled should be written as ngdisabled.;docsngDisabled correct directive.;In example of ngdisabled previously disabled was used in place of ngdisabled directive.;1
471;Add chinese readme.md;docs update;Add Chinese version README.Closed this PR thank you.;"What kind of change does this PR introduce Bug fix feature docs update ...
Added Chinese version README.
What is the current behavior You can also link to an open issue here
What is the new behavior if this is a feature change
Does this PR introduce a breaking change
No just README.
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information
I'am xiaofeizgoogle.com and I have signed CLA.";1
472;Karma installation on MacLinux command fix;No description provided.;Update index.ngdoc karmacli installation;"Request Type docs
How to reproduce
Components
Impact small
Complexity small
This issue is related to
Detailed Description
Added karmacli installation as proposed here httpstackoverflow.coma which fixes karma's ability to run scripts\test.bat on windows.
Tested and working.
Other Comments";1
473;feathttp promisebased request interceptors;"Currently there is no easy way to globally intercept requests sent with http û similar to the way responses can be intercepted with response interceptors. Furthermore there are many legitimate scenarios and usecases where the need for request interception arises for example

if security tokens parameters or headers need to be calculated for each individual request
for collecting statistics like request counts measuring turnaround times etc.
for dynamic clientside redirects e.g. rewrite apix to apiexperimentalx for resource x but not resource y

Please see for a further discussion and usecases on this topic.
Implementation
The request interceptor registration works exactly like the registration of response interceptors in fact I have put this into a separate routine to make it more explicit. If request interceptors are present they are prepended to the promise chain returned by http û this was mostly devised and written by splondike û this gives the interceptors a lot of flexibility and fits very well into the Angular API.
Tests and Documentation
This pull requests includes both tests and documentation of the new feature.
A note on testing a separate call to rootScope.apply is necessary to test the interceptors with the mocked http backend.
Example
 register interceptor using an anonymous function
httpProvider.requestInterceptors.pushfunction 
 return functionpromise 
 return promise.thenfunctionconfig 

 the config object will be used by the actual request
 you can modify it here

 config.url 'intercepted' config.url

 return the config object to pass it on to the next interceptor
 return config

 if you reject the promise the promise
 returned by http will be rejected
 
 


Compatibility
When no request interceptors are registered no promises are prepended to the chain. Therefore this feature should be completely backwards compatible û if you register not interceptors everything stays the same.";feathttp Pass http config to response interceptors;"Allow response interceptors to use the config object passed to the
http call that the response originated from

This arose from a use case where I needed a global loading indicator with loading messages that were customized for each endpoint.
Here is a jsfiddle I created that demonstrates this use case with a build of angular including this change httpjsfiddle.netashelveyUJXx
You can use Charles Fiddler etc.. to throttle http calls for a more realistic demo.
CLA signed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
474;Removed duplicated require section in directives guide;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update directive.ngdoc;removed redundant and truncated 'require' attribute description.;1
475;fixinput ngrequired conflicts with ngtruevalue;"Before this change overridden isEmpty method which is called in requiredDirective would return a wrong result when the parameter is given as true. This change corrects the statement value within method.
Closes";fixinput Allow ngtruevalue and ngrequired on a checkbox;"Put the inputcheckbox formatter and parser first in the formatters and parsers queue so they are the first being called when formatting and the last when parsing. This allows the existing logic at ngrequired that uses isEmpty to work on the ngtruevalue value
Closes";1
476;fixlocation consider baseHref in relative link for legacy browsers;"Request Type bug
How to reproduce
In a legacy browser that doesn't support HTML push state ie IE have the following

locationProvider.htmlModetrue.hashPrefix'' in app configuration
a number of routes such as foo bar in the routeProvider configuration
base hrefen in page headers
a hrefenfoo in a link.

When clicking a link it is rewritten as httphostenenfoo
Expected httphostenfoo
Components location
Impact medium
Complexity small
This issue is related to
Other Comments
I couldn't yet devise any test for covering this case. This fix concern a click handler on the rootElement which afaik is not covered in the current tests.
Please let me know if you find it reasonable and if you have ideas on how to test for it.
Thanks";revert fixlocation make legacy browsers behave like modern ones in htmlMode;"These commits have caused more problems than they've been worth and we get to remove some code too.
Reverts f ec
Opinions on reverting these would be appreciated cc IgorMinar";1
477;Add precision for currency filter;"Depends on .
This adds the fractionSize parameter to the currency filter.
For some the common fractionSize of needs to be overridden in certain scenarios.
Example gas pricing in the US where the price is actually accurate to decimal places.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add fraction size parameter to currencyFilter;"featfilter currencyFilter and numberFilter should have same fraction behavior
currencyFilter now accepts fractionSize so it behaves similar to a numberFilter it even uses locale patterns by default.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
478;fixcopy preserve prototype chain when copying object;"So far angular.copy was copying all properties including those from
prototype chain and was losing the whole prototype chain except for Date
Regexp and Array.
Deep copy should exclude properties from the prototype chain because it
is useless to do so. When modified properties from prototype chain are
overwritten on the object itself and will be deeply copied then.
Moreover preserving prototype chain allows instanceof operator to be
consistent between the source object and the copy.
Before this change
var Foo function 
var foo new Foo
var fooCopy angular.copyfoo
foo instanceof Foo true
fooCopy instanceof Foo false

Now
foo instanceof Foo true
fooCopy instanceof Foo true

The new behaviour is useful when using http transformResponse. When
receiving JSON data we could transform it and instantiate real object
types from it. The transformed response is always copied by Angular.
The old behaviour was losing the whole prototype chain and broke all
types from thirdparty libraries depending on instanceof.
This PR is somewhat related to issues and .";Use source object prototype in object copy;"Whilst not strictly necessary for the likes of watch to behave as expected given that angular.copy is exposed it should honour the prototype of the source object such that as the test ensures
function A 
var a new A
var acopy angular.copya
expectacopy instanceof A.toBetrue
Otherwise users of angular.copy read at least me end up having to create their own version of angular.copy to make this one change.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
479;docsguidemigration remove duplicate IE section;"Remove duplicate IE section from . migration guide
httpsgithub.comangularangular.jsblobmasterdocscontentguidemigration.ngdocLL
httpsgithub.comangularangular.jsblobmasterdocscontentguidemigration.ngdocLL";docsguideMigrating from Previous Versions Removes duplicate c;"Removes duplicate c IE only migration text.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
480;chorengMock Encapsulated ngMock in module wrapper;"I know this issue is very old but maybe this will help spark discussion on the subject of Testing.
Fixes issue encapsulate angularmocks.js into closure vojtajina

Leaving mocks out of 'min' grunt task because it probably doesn't belong in most production implementations of angularjs i.e. for testing purposes. Well probably the same for the unminified version. This might spark further talk.";choremocks wrap angularmocks.js in closure;The use strict that was at the top of this file was bleeding into other files and preventing the use of other test helpers that don't use strict mode. This was in a TODO so I figured it just needed to get committed;1
481;fixinputs ignoring input events in IE caused by placeholder changes o...;"...r focusblur on inputs with placeholders
This is my attempt at fixing as well as the extra placeholder issues with focusblur. I'm assuming I'm missing a weird test case that still breaks somewhere but I still think this is an improvement it definitely is for my use cases.";fixsniffer IE backspace bug in compatibility mode;"Change IE input event workaround in sniffer to
work in compatibility mode msie can be less than 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
482;fixinjector do not use inherited inject;"Ensure that a function has its own inject property and not an inherited
property when annotating. This ensures that derived functions classes do not
get the dependencies of their super class.
Fixes 
What kind of change does this PR introduce Bug fix feature docs update ...
Bug fix
What is the current behavior You can also link to an open issue here

What is the new behavior if this is a feature change
Does this PR introduce a breaking change
Yes
Please check if the PR fulfills these requirements

 The commit message follows our guidelines httpsgithub.comangularangular.jsblobmasterCONTRIBUTING.mdcommitmessageformat
 Tests for the changes have been added for bug fixes features
 Docs have been added updated for bug fixes features

Other information
BREAKING CHANGE
Prior to this PR derived classes with no dependencies could extend base classes with dependencies as long as the derived classes did not have constructors. As of this PR the derived class would be seen as having no dependencies and the base class's constructor would be called with no arguments.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix issue;"This PR only demonstrates a fix it still needs for someone to add tests.
Closes";1
483;fixngSanitize use the smallest match on searching end tags;"ngSanitize searches the string of the end tag with the longest match.
So it removes all of the HTML strings between script elements.
We should use the smallest possible match.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";choresanitize new implementation of the html sanitized parser;This implementation is based on inert document;1
484;Added namespace tracking to compile;"This is in relation to 
Things to note

This is a work in progress.
This needs cleaned up badly.
The commits need flattened.
etc.

Basic Idea
Added namespace tracking to the compile process.
When a namespace change is detected it updates a namespace context object that contains methods to wrap and clone elements appropriately. There is some ugliness where the namespace context had to be ferried around via some monkeypatches to get them into the appropriate closures.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixcompile use the correct namespace for transcluded svg elements;"Via transclusion svg elements can occur outside an svg container in an
Angular template but are put into an svg container through compilation
and linking.
E.g.
Given that svgcontainer is a transcluding directive with
the followingg template
svg ngtranscludesvg

The following markup creates a circle inside of an svg element
during runtime
svgcontainer
 circlecircle
svgcontainer

However this produces non working circle elements as svg elements
needs to be created inside of an svg element.
This change detects for most cases the correct namespace of transcluded content
and recreates that content in the correct svg container
when needed during compilation. For special cases it adds an addition argument
to transclude that allows to specify the future parent node of elements
that will be cloned and attached using the cloneAttachFn.
Related to";1
485;Fixes Argentina's currency.;"Currency symbol is ''. The symbol is placed before the number.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix Money simbol for Argentina;esar is Argentina translation. Argentina has pesos with '' currency symbol.;1
486;fixngAnimate do not use event.timeStamp anymore for time tracking;"Due to recent changes in Chrome Firefox and Webkit use of the
event.timeStamp value will lead to unpredictable behaviour due to
precision changes. Therefore it's best to stick entirely to use
Date.now when it comes to confirming the end of transition
ending values. See for more info.
Applies to . . . and ..
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix Use Date.now instead of Event.timeStamp to detect animation end;"Chrome and Firefox are planning to change event.timeStamp to be a
high resolution time instead of epoch time. This means that the
event.timeStamp will not longer be compatible with Date.now 
Instead we can use Date.now at the moment when the event is
received by event listener instead.
This addresses 
 httpcrbug.com
 httpsbugzilla.mozilla.orgshowbug.cgiidc";1
487;fixhttpBackend remove ContentType header on DELETE requests;"Sending empty string with XMLHttpRequest's post method causes browsers adding unneeded ContentType request header on DELETE requests. Chrome adds ContentTypeapplicationxml Firefox and IE adds ContentType textplain. Sending null insted of empty string fixes the problem.
More detail comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't send empty String in place of no body;"XMLHttpRequest.send spec defines different semantics for an empty string as compared to null any string whether empty or not should be sent with a ContentType of textplain whereas null should have no ContentType header set. Since the user hasn't passed in content to send the latter should be used.
See httpwww.w.orgTRXMLHttpRequestthesendmethod
Combined with this bug in WebKit based browsers
httpscode.google.compchromiumissuesdetailid
This means when no body is supplied the ContentType ends up being applicationxml which for an empty String means the body is invalid according to the content type. This causes issues for web servers that automatically parse the body according to the declared content type such as this issue in Play framework
playframeworkplayframework";1
488;fixhttp stop httpBackend coersion of falsy values to null before xh...;"...r.send
stop httpBackend from potentially overriding false values to null when sending a falsy value to a web service via POST or PUT et al
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";stop coercing falsy values to null before xhr.send;This is intended to resolve .;1
489;featMockHttpExpectation matchData supports function as data;"Add support for passing function as validating data

To avoid hacking test method of RegExp
Optionally overwrite toString method of fn to show validation tips";featngMock allow the use of a predicate to match data;"When using httpBackend the data in definitions and expectations can only
be defined as a string which must be matched exactly or as a regexp.
Both are not very practical when it comes to matching JSON objects. This
commits adds the possibility to pass a predicate function which should
return a truthy value if the data matches with the expectation and a falsy
value if it doesn't.";1
490;choredocs fix layout between px and px;Left nav and main content were tucked slightly under the version picker breadcrumb navbar;docsdocs.css add media query fix;"Request Type docs
How to reproduce resize browser to between px and px
Components
Impact
Complexity small
This issue is related to
Detailed Description
Other Comments
show mainbody content that is hidden underneath bootstrap navbar
between px and px screen width
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
491;fixparse ternary should give assignment precedence in middle and right expressions;Closes;fixparse ternary and assignment operator precedence;"Properly handle assignemnts inside ternary operators
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
492;fixinput validate minlengthmaxlength for nonstring values;"Use viewValue for minlengthmaxlength validation if model value is not a
string. This allows ngMinlength and ngMaxlength to be used for number inputs.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixinput make maxlength and minlength work with nonstring values;"Request Type bug
How to reproduce
Components misc core
Impact small
Complexity small
This issue is related to
Detailed Description
Other Comments
Validity for inputs with maxlength attribute and an underlying nonstring model value is always false e.g. the length property for a numeric data type returns undefined
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
493;docswindow move use of window to controller;"Move use of window from expression to controller because accessing
window in expressions is now dissalowed and doesn't work.
Code example doesn't work this PR will fix this.";Update window documentation to support ..;"When you currently run the code example for window you get the following error in the console
Error parseisecwindow httperrors.angularjs.org..parseisecwindowpwindow.alertgreeting
 at Error anonymous
 at httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at Va httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at g.eval httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at g.apply httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at HTMLButtonElement.anonymous httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at httpajax.googleapis.comajaxlibsangularjs..angular.min.js
 at Array.forEach native 

This PR fixes that issue.";1
494;featGrunt Switch from Rake to Grunt;"Migrates the Angular project from Rake to Grunt.
Benefits

Drops Ruby dependency
Lowers barrier to entry for contributions from JavaScript ninjas
Simplifies the Angular project setup and build process
Adopts industrystandard tools specific to JavaScript projects
Windows support for the build and endtoend tests

BREAKING CHANGE
Rake is completely replaced by Grunt. Below are the deprecated Rake tasks and their Grunt equivalents

rake grunt
rake package grunt package
rake init NA
rake clean grunt clean
rake concatscenario grunt buildscenario
rake concat grunt build
rake concatscenario grunt buildscenario
rake minify grunt minify
rake version grunt writeversion
rake docs grunt docs
rake webserver grunt webserver
rake test grunt test
rake testunit grunt testunit
rake testjqlite|jquery|modules|ee grunt testjqlite|jquery|modules|endend|ee
rake testFirefoxSafari grunt test inFirefoxSafari
rake testSafari grunt test inSafari
rake autotest grunt autotest

NOTES

For convenience grunt testee starts a webserver for you while grunt testendend doesn't.
Use grunt testendend if you already have the webserver running.
Removes duplicate entry for Describe.js in the angularScenario section of angularFiles.js
Updates docssrcgendocs.js to use done intead of the deprecated end
Uses gruntcontribconnect instead of libnodeserver removed
Removes nodeserver.sh travis now uses grunt webserver
Built and minified files are identical to Rake's output with the exception of one less
character for git revisions using short and a couple minor whitespace differences

Closes";choredocs fix gendocs.js deprecation warning;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
495;fixngHref allow setting href to empty string;"Fixed issue 

ngHref should now allow empty strings and ngSrc will not accept empty strings as intended bea
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngHref remove attribute when empty value instead of ignoring;"this will allow updating the values of ngsrc ngsrcset nghref back to empty state while preserving the intended behavior of not setting the attribute to an empty string to prevent behavior like trying to download the current page as an image or creating a link to the current page.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
496;featresource expose promise and response in promisebased api;"This is a WIP to show a possible resource promisebased api discussed in dbabc
Main changes

promise and response http response are exposed on resource instance object in addition to then and resolved.
on success the promise resolves to the same resource instance object filled with data. This is as expected to enable using it in resolve section of route.when.

Arguably then and response.resource are not needed anymore what do you think";fixresource return result from prototype methods;"Resourcename returns value that contains then and other useful things. L
Resource.prototype'' name invokes Resourcename at the end but returns nothing. L

Possible fix add return state to the end of the Resource.prototype'' name definition.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
497;fixngAnimate Fix text node animation;"Change to comment stripping code to return text nodes in addition to element nodes
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngAnimate ensure animations are not attempted on text nodes;"With the large refactor in ..rc. the detection code failed to
filter out text nodes from animating. This fix ensures that now properly
happens.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
498;fixngAria trigger digest on ngclick via keypress pass event to expression;"Minor improvement to ngclick directive from ngAria. Now if bindings are updated
during the click handler the DOM will be updated as well. Additionally the event
object is passed in to the expression via locals as is done for core event directives.
Closes";fixaria pass event in locals for ngClick;"pass event in locals for eval
This happens in angularbootstrap's repo for modals
ngclickcloseevent
angular.moduletemplatemodalwindow.html .runtemplateCache functiontemplateCache 
 templateCache.puttemplatemodalwindow.html
 div tabindex\\ role\dialog\ class\modal fade\ ngclass\in animate\ ngstyle\'zindex' index display 'block'\ ngclick\closeevent\\n 
 div class\modaldialog\ ngclass\'modalsm' size 'sm' 'modallg' size 'lg'\div class\modalcontent\ modaltranscludedivdiv\n 
 div
";1
499;featLogProvider flag to allow hideshow of log.infolog.log;"Add method to set a flag to enabledisable log.info and log.log messages.
logProvider.enableMessagesfalse|true
This is similar to how logProvider.debugEnabled works.

I havenÆt gotten the tests to pass yet thereÆs an error in the logSpec saying LogProvider undefined.";featlogProvider add additional control over what gets logged;"A simple addition that lets developers have greater control over what does and doesn't get logged. With this change you can disable log info warn and error messages similar to how debug logs could be disable with logProvider.debugEnabled in the past.
Closes";1
500;fixhttpBackend Fix for IE AJAX request aborting error.;"Aborting AJAX requests in IE makes the XHR object's properties inaccessible and throws the following error
SCRIPT Could not complete the operation due to error ccf.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixhttpBackend should not read response data when request is aborted;"When a request is aborted it makes no sense to read the response headers or text.
Also in IE trying to read data either response headers or text from an aborted request
throws an Error ccf.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
501;fix filterFilter;allow both dotted predicate object fields and nested predicate objects in filters.;featfilterFilter support deeply nested predicate objects;"Due to a it became impossible to filter nested properties of an object
using the filterFilter. A proposed solution to this was to enable the use of
nested predicate objects. This fix enables the use of these nested predicate
objects.
Example
div ngrepeatit in items | filter address country 'Canuckistan'div
Or
filter'filter'items address country 'Canuckistan' 
Related to";1
502;encode uri Matrix urls semicolons fix;"Solved issue Support for Matrix URIs


added to the list of replacements
added a unit test";fixangular.encodeUriSegment do not encode semicolon;"RFC indicates that is not encoded as part of the URI as is the case
with other members of subdelim. Changed encodeUriSegment to match that
behaviour along with the corresponding spec.
This was causing a practical issue with Java servers that append jsessionid... to the path. The was encoded leading to the following error in PhantomJS as it continually saw the current URL as different to the location.absUrl which had been encoded
Error rootScopeinfdig digest iterations reached. Aborting
Watchers fired in the last iterations fn locationWatch newVal oldVal fn locationWatch newVal oldVal fn locationWatch newVal oldVal fn locationWatch newVal oldVal fn locationWatch newVal oldVal 

I note that the specs previously called out specifically for being encoded which was introduced in ebaa and that it has been in place for some time. Is there a reason this might have been needed that I've missed
I also note that the same code is in ngResource but I'm unfamiliar with the codebase and what impact it would have to change that as well. Should the code in there be updated as well";1
503;fixngMobile touch event handling fix for when jQuery is present.;"originalEvent was not being handled properly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix issue with Jquery for ngMobile;"Issue
I found that the ngClick directive does not work with touch events dispatched by JQuery.
JQuery will wrap touch events and touches can only be found on originalEvent.
The touch event handlers in ngClick directive are not using the originalEvent but event instead
so the touches these handlers use are 'undifined'.
Also I found browsers are quite sensitive with touch when I just tap on my touch screen
the browser will dispatch 'touchstart' 'touchmove' and 'touchend'. Since the touch move handler
also reset status I never get my click handler triggered.
Fix
Check if event has an originalEvent property and use it instead if it is found.
Also I make touch end handler triggers click handler if the distance between touch start and touch end
is within MOVETOLERANCE.";1
504;fixinput create max andor min validation whatever the initial value is;"fix issue 
change tests to corresponding changes
also change tests for ngmax and ngmin though they have no some issue

Closes";fixinputnumber minmax not work when binded variable initial as false value;"fixinputnumber minmax not work when binded variable initial as false value
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
505;fixhttp promise chain for helper methods;"can has less promise chain breaking
angular.module'app' 
.factory'Auth' functionhttp 
 return 
 login functiondata 
 return http.post'signup' data
 .successfunctiondata 
 return data
 
 .errorfunctionerr 
 return q.rejecterr
 
 end login
 end module
 end factory
.controller'MainCtrl' functionscope state Auth 

 scope.login functionuser 
 Auth.loginuser.thenfunctiondata 
 state.go'dashboard'
 
 .catchfunctionerr 
 alerterr
 
 end login
 end ctrl
since the promise chain is broken when using Auth.login.thenotherStuff.catcherrorStuff you get the result from the http and not the error from .error.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixhttp continue promise chain with HttpPromise;".success and .error methods will now continue the promise chain.
Returning a promise in either of these callbacks will be appropriately
handled by the chain.
Closes";1
506;Update animator.js;Added support for transitiondelay property.;featanimator support CSS transitiondelay property detection;animator doesn't pay attention to the CSS Transition Delay transitiondelay property which is good for pushing an animation to start later. This fix provides that functionality.;1
507;featorderBy speed optimization;Closes .;fixorderBy ensure correct ordering with arrays of objects and no predicate;"This fix also considerably refactors how the orderBy filter works in internally.
The new algorithm precomputes the predicate values for the array being ordered. This makes the algorith easier to follow but also ensures that this computation is done a maximum of n times whereas in the previous algorithm it could be greater. The downside is that we must temporarily store this intermediate array.
There could be performance implications but they are as likely to be beneficial as detrimental. It could probably do with benchmarking.
Closes";1
508;fixforEach add the arrayobject as the rd param like the native forEach;This makes all the different object types supported by angular.forEach more like the native Array.forEach by adding the rd argument to the callback. Also adding tests to make sure all the different object types invoke the iterator with all arguments and the context.;angular.forEach passes object being iterated over as rd arg to callback;This is for consistency with native Array.prototype.forEach API and it is also sometimes useful;1
509;feathttp add option for unsafe xhr requests in FirefoxOS;"Previously it was not possible to pass settings to the constructor of the XMLHttpRequest. This
adds an optional config property xhrConfig to the http constructor allowing us to do so. This
is required for use of the mozAnon and mozSystem options for FirefoxOS.
See httpsdeveloper.mozilla.orgenUSdocsDOMXMLHttpRequestXMLHttpRequest for details.
Closes";feathttp adds xhrFields to http config object;"The xhrFields object is passed to the XMLHttpRequest constructor making it possible to set nonstandard properties on the XMLHttpRequest object. It is also possible to set the object on http.defaults to use it globally. With this functionality it is possible to set the mozSystem and mozAnon properties which is required to use angular in a packaged Firefox OS app. See httpsdeveloper.mozilla.orgenUSdocsDOMXMLHttpRequestXMLHttpRequest
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
510;Copy prototype bug with enumerable properties;"Per this thread
Creating a placeholder for a possible fix which includes associated tests.";fixcopy preserve property descriptors;"Instead of values being simply copied this change allows to preserve
definitions of own properties. Thus enumerable or not writable or
not gettersetter etc. property definitions are preserved across copies. It
improves change from bbf preserving prototype chain.
As a side effect it also includes previously ignored nonenumerable properties
by using Object.getOwnPropertyNames to iterate every own properties instead
of for ... in ... hasOwnProperty.";1
511;chore remove accidentally created file;"This removes a file which most likely was added unintentionally.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix deleted unused file;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
512;featroute express style route matching;"visionmediaexpress style route matching

optional params
wildcard params
regexes

.when'barfoo
 location.path'bar' routePrams 
 location.path'barfoovalue' routePrams foo 'foovalue'

.when'bar'
 location.path'barfoovalue' routeParams 'foovalue'

.when'bar.
 location.path'barfoo.js' routeParams 'foo' 'js

.when\\d
 location.path'' routeParams ''";refactorngRoute compile the route once and reuse the regex;Compile the route path once and reuse it in the future;1
513;fixngTouch don't prevent the click event after a touchmove;"Remove the touchmove handler so that resetState is not called on touchmove. The touchend event handler already prevents the click from being triggered if the distance moved exceeds the MOVETOLERANCE so detection of touchmove is not needed. Previously because of resetState on touchmove the click would not be triggered even if the event coordinates changed by only px or px which seems to be very common for taps on mobile browsers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngTouch prevent touchmove from canceling a click;"Usually browsers fire touchstart and touchend and ngclick works.
But some browsers I only experienced it on iOS fire touchmove
between touchstart and touchend and so before this fix ngclick
would not work in this case.
Also the test for touchmove was incorrect it did not test
the touchmove event itself but rather the coordinates change
which is handled elsewhere. If the coordinates are the same and
the interval is not too long ngclick should fire no matter if
there was a touchmove or not.";1
514;fixrootScope ngRepeat add support for objects created with Object.createnull for ngRepeat and watchCollection;"Basically the hasOwnProperty method was being called from an object gotten from the user. When that object was initially created with Object.createnull it didn't inherit from Object so it didn't have the hasOwnProperty method throwing an undefined is not a function error.
This was fixed by executing hasOwnProperty.callobject key instead of object.hasOwnPropertykey
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixrootScope ngRepeat accomodate objects resulting from Object.createnull;"Use Object.hasOwnProperty.call when iterating over properties of usersupplied objects.
Allow for objects not inheriting from Object.prototype.";1
515;fixparse mark empty expressions as constants and literals;"In response of comment
I decided to mark it as a literal because parse'undefined' is a literal.";refactorparse new and faster parse;"Change the way parse works from the old mechanism to a multiple stages
parsing and code generation. The new parse is a four stages parsing

Lexer
AST building
AST processing
Cacheing onetime binding and watch optimizations

The Lexer phase remains unchanged.
AST building phase follows Mozilla Parse API and generates an AST that is compatible. The only exception was needed for filters as JavaScript does not support filters in this case a filter is transformed into a CallExpression that has an extra property named filter with the value of true. This phase is heavily based on the previous implementation of parse.
The AST processing phase transforms the AST into a function that can be executed to evaluate the expression. The logic for expressions remains unchanged. The AST processing phase works in two different ways depending if csp is enabled or disabled. If csp is enabled the processing phase returns pregenerated function that interpret specific parts of the AST.
When csp is disabled then the entire expression is compiled into a single function that is later evaluated using Function. In both cases the returning function has the properties constant literal and inputs as in the previous implementation. These are used in the next phase to perform different optimizations.
The cacheing onetime binding and watch optimizations phase remains mostly unchanged.
 httpsdeveloper.mozilla.orgenUSdocsMozillaProjectsSpiderMonkeyParserAPI";1
516;fixq pass promiseaplustests v.. WIP;"This is still a work in progress but this implementation is now passing the
full promisesaplustests v...
It is still necessary to shrink this down and hopefully provide a better
flyweightprototypebased implementation.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";refactorq make q Promises A v. compilant;Refactor to make q Promises A v. compilant;1
517;fixform input inputemail and ngRequired not working together;"ngRequired added to an email field wasn't working properly. nginvalidrequired
stayed true unless a valid email was entered.
correct behaviour is that it turns to ngvalidrequired at first entered key.
closes";Add typeurl and typeemail into the validators pipeline;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
518;refactorngAria remove usused dependency;As mentioned in decommitcomment.;refactorngAria remove unused parse from ngModel directive;"mentioned in decommitcomment
cc gkalpak";1
519;Update step.ngdoc;"A simple typo correction delete duplicate 'the' word.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removed second 'the' in frase 'references the the name';No description provided.;1
520;fixhttp add missing shortcut methods and missing docs;"There was some inconsistency in version .. regarding the definition and documentation of shortcut methods in ng.http and ngMockEE.httpBackend. Some methods didn't exist although documented as existing whereas some methods did exist but wheren't documented.
This commit fixes the above errors and adds tests to verify the existence of all shortcut methods.
More specificcally the following issues were addressed

ng.http Add the missing patch shortcut method and related docs.
ng.http spec Add test to verify the existence and functionality of the patch shortcut method.
ngMockEE.httpBackend Add docs for the existing whenPATCH shortcut method add the missing expectHEADwhenHEAD shortcut methods fix grammatical errors.
ngMockEE.httpBackend spec Add test to verify the existence of shortcut methods for all HTTP verbs.

Closes";docshttp patch method is not exists;"The link here brings nowhere.
On the .. the patch method seems not exists not working.
You can observe the error here
httpplnkr.coeditcwJpgoqbBUzjSoApgS
TypeError undefined is not a function
If you just change the version of angular with .. the request will work.";1
521;in Taking numberformatsymbolsext into account;"There are some errors in certain locale files I noticed most latin american currencies were wrong. The problem is that closure library keeps a separate file numberformatsymbolsext.js for some languages.
This change uses this file too to generate the correct currency chars.
The locale generation process now downloads number format symbols from
this url too
httpclosurelibrary.googlecode.comsvntrunkclosuregooginnumberformatsymbolsext.js
Most locales should now be correct
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";in Extended Number Format Symbol Rules;"Added numberformatsymbolsext.js to Closure Slurper script
Regenerated locales

This should correct the configurations for many locales.
Fixes currency symbol issue in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
522;featinput allow templates on the name attribute of an input;"Handle the name attribute on an input as a template
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixngInput When 'name' attribute is a property name 'name' should be evaluated to the property value;"Not exactly sure if this is a bug fix or a feature enhancement. For simple cases such as the following it works
form namemyForm
 User name input typetext nameuserName ngmodeluser.name required
 span classerror ngshowmyForm.userName.error.requiredRequiredspan
form
But if the input is dynamically generated and the name is a scope property it run into issue
form namemyForm
 div ngrepeatfield in formFields
 spanfield.labelspan
 input typetext namefield.name required
 span classerror ngshowmyFormfield.name.error.requiredRequiredspan
 div
form";1
523;Changed from phonelist.html to index.html;"Changed from apppartialsphonelist.html to appindex.html at Animating ngView with CSS Keyframe Animations title.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed step correct file reference;No description provided.;1
524;Fixing missing dependency in Step of tutorial;No description provided.;Update step;"This is missing in the source downloaded for step and in the documentation for step .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
525;Simple fix to bootstrapdropdown.js to allow it to be compressed by Asset Packager and other packaging tools;"Added semicolons so that the file can easily be compressed by tools such as Asset Packager
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added semicolons to ensure minification doesnt break the dropdown plugin.;Added semicolons to ensure minification doesnt break the dropdown plugin. When I minified my scripts the dropdown plugin broke everything because there were not semicolons at the end of each line. This fixed it.;1
526;README.md clarify the process of running tests.;As seen here and here it is troublesome for a newcomer to run tests. You want people submitting pull requests to run and write tests. Ergo you want the process to be clear.;.. wip fix make docs;"the connect package is now a requirement for running the test suite and must be installed locally without the g flag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
527;make less files compile with strict maths in ..;"In .. the default mode is that operations are not operated unless they are inside brackets. This means that font gradient properties and calc functions do not need escaping in .. in the default mode.
There is an option to turn this off but we would like to phase people onto doing maths in brackets so we can remove that option.
This change compiles to the same css with less .. and less ..
It just means people won't have to specify strictmathsoff in order to get bootstrap to compile with less.
MatthewDL and jonschlinkert FYI.
There are some things I could tidy up with .. .. features but we can wait until you have raised your requirements.";Maths is required to be in parenthesis in variables.less;"according less.. currently .. BetaMaths is required to be in parenthesis.
in variables.less
inputHeight baseLineHeight px

in previous version of less will compiled to
inputHeight px

but in version . it will compiled to
inputHeight px px

so I modified to
inputHeight baseLineHeight px";1
528;A little mistake on .pageheader was .pagehaeder L;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix a typo haeder;No description provided.;1
529;Update dependecies.;CC cvrebert;Upgraded the package.json to their latest versions;"Using the httpsgithub.comtjunnonenpmcheckupdates
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
530;Include color scheme support for navbartoggler;"The navbartoggler should use the navbarlightcolor and
navbardarkcolor for the light and dark color schemes respectively.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use light color for toggler button for dark navbar;"Currently the navbar toggler button used to display collapsed items
is always black even if the navbar is dark themed .navbardark.
With this commit navbartoggler uses the same colors as navbarbrand and
navbarlink.";1
531;Add tooltip viewport option respect bounds of the viewport;"Currently tooltips do not respect their container. eg. I have a button jammed up against the right side of the page and place a tooltip on the top it will stick out of the page.
So I added two new options

viewport defaults to 'body'. It's the selector the tip should stay inside.
viewport padding how far in px should it stay from the edges

With changes from the original at . The tests pass for me in firefox.
fat What was the new offset method you mentioned in the other pull";adjust tooltip placement when rendered off screen to the right previously only happened on the left;I modified the bootstrap tooltip and by extension popovers to include behavior that previously only happened when the tooltip was cut off on the left side of the screen. When a tooltip was activated if a portion was to be rendered off the left side of the screen it was shifted to the right and the arrow was moved to the left. This did not happen when cut off to the right side. This code accomplishes the same desired behavior on both sides.;1
532;Flexbox grid column wrapping bug;"With flexbox enabled please take a look at this in IE all browsers
div classcontainer
 div classrow
 div classcolxs
 div classbgprimarycontentdiv
 div
 div classcolxs
 div classbgprimarysidebardiv
 div
 div
div

This is what i get";fix broken layout for flexbox;possible closes but should be test for other browser than FF and Chrome;1
533;Rename .active to .show;"Fixes .
Also fixes tabs by changing .in to .show";Change remaining .in references to .active.;Looks like we missed a few. Refs .;1
534;.inputgroupaddon lineheight should be the same as .formcontrol;"When lineheight is changed the .formcontrol line height is increased see httpsgithub.comtwbsbootstrapblobvdevscssforms.scssL. But the line height of .inputgroupaddon was hard coded so it would not increase in size. The text .inputgroupaddon will not center vertical that way.
This change fixes that issue.
Found which looks similar but am to big of a git nub to see that change probably
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";v Updated form and button sizing;"Fixes .
Long story short the funky vertical padding values we had for inputs and buttons were causing fucked up computed heights when the root fontsize is changed from px to px. This PR updates inputs and buttons to

Use easier math e.g. .rem on default buttons to more readily support root fontsize changes.
Due to the increased padding we now use a tighter lineheight . instead of inherited .. This lineheight is the same across all input and button sizes.
Some mixins and size variation styles were cleaned up as well.";1
535;Added responsive textalign classes;"This allows you to set textalignment for specific screen width. For example if you want to centre text to improve readability on xsmall screens.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add resposive textalign classes;Some times you want the text to be leftaligned for large screens and centred for phones. I was surprised these classes didn't already exist.;1
536;Improve JS style;CC twbsteam;Add disallowMultipleVarDecl to the JSCS config;"We already adhere to it so I was wondering why we didn't check for it.
See httpsgithub.commdevilsnodejscsdisallowmultiplevardecl";1
537;Documentation link cleanup;This is a v rebase of with several other broken links fixed.;Update Bower URL HTTP to HTTPS;"Bower homepage is available in HTTPS.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
538;Fix missing e in slide.bs.carousel;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix typo in carousel doc;No description provided.;1
539;Update tooltip.js;"Don't reference Tether via attachment to window with the update one can import bootstrap providing the dependencies in webpack with
new webpack.ProvidePlugin
 'jquery'
 jQuery 'jquery'
 Tether 'tether'

Then inside one's own bootstrapglobals import 'bootstrap' will simply work and jQuery can be used from there.
I had wanted to do this but also expose jQuery Tether etc when in development build in my code but if I provide window.Tether I can't then expose it to the outside...";Refs Use Tether as a nonwindow global variable last try;No description provided.;1
540;Update bower.json;"Main files in bower.json are outdated like so
 main .docsassetsjsbootstrap.js .docsassetscssbootstrap.css
I think it should reference the dist files.";Fixed path to bootstrap.css and bootstrap.js;"With the current bower.json file it's not possible to install Boostrap via Bower and using gruntcontribcopy.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
541;Repaint fixes;"Hey hey
Applied translateZ translated to fixed elements to prevent browser repaint when scrolling.
These changes were originally part of a Bootstrap reset I made called Lil' B
httpitsjonq.github.iolilb
Also added a new mixin under vendorprefixes.less .translateZz. This targets translateZ directly.
I initially wanted to use .translated to target the Z axis for the repaint fixes.. but I believe translateZ has IE whereas translated doesn't
httpcaniuse.comtransformsd
Hope this helps
For you guys
httpspbs.twimg.commediaBlXWPkIUAAmk.jpglarge
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Modals force translated for more performance;No description provided.;1
542;Fixed URLs in JavaScript comment blocks;"Just a small fix to the URLs in the header comment blocks in the JavaScript files a couple had the wrong URL fragment.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";.wip Fixjs headers;yep.;1
543;Panel title collapse toggle should displayed as block;"Display collapse toggle as block so panel can collapse when panel heading clicked.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make the paneltitle easily clickable;"I think this is useful because it makes the accordion plugin much easier to operate. With this change you can click anywhere on the paneltitle and the link which opens the accordion will work just fine.
I hope it helps
Best regards Lubomir Georgiev.";1
544;Fix getSelectorFromElement when is a selector;"Check if datatarget contain to avoid JQuery error
Close";Less restrictive Regex in Util.getSelectorFromElement issue;"PR for issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
545;Make spacer utils responsive;"This makes the spacer utilities responsive. Instead of .mt for example we have .mtsm. Bit longer of a class name but more versatile.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds responsive spacing;"The Responsive spacing is really useful.
For example In few scenarios you want put marginpadding bottom when boxes are side by side but you don't want space px when the same boxes are one below the others like It's common in XS views.";1
546;Clear tooltip timeout on destroy.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Clear timeout on destroy.;"Clears the internal timeout on destroy so that hanging timers are not fired after destruction.
fat does this need tests";1
547;Fix progress colors in IE;IE support color for value not backgroundcolor. By this fix it works now in IE;contextual progressbar for IEEdge clarify stripedanimated lack of support;closes;1
548;Fix selectable disabled toggle radio buttons;"Currently if when using a toggle button radio group with disabled Inputs or Label input container despite having the correct cursor and styling those inputs are still selectable
This pull request makes it so disabled radio toggle button is not selectable
They can be disabled either by

adding a disabled class on Label container
decorating the Input with a disabled attribute";Fixed Toggle buttons don't honor disabled or .disabled;"This commit adds a check for disabled attributes and classes on the button element.
Close";1
549;v Fix Typo in Forms docs;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo in docscomponentsforms.md;".cselecct
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
550;Fix double space in wells bottom.;"If we have blockelements in well instead of text we will get a double space issue well's padding and element's margin.
div classwell
 table classtable
 ...
 table
div
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove bottom margin of the .well last element;"When a well contains a paragraph or an element with a margin this causes an unpleasant effect. We feel that the content of the well is not centered.
div classwell
 pSome textp
div

This code sets to the margin of the last element of the div classwell...div.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
551;Update QUnit to v...;No description provided.;Fix potential XSS attack in QUnit;"See
httpstwitter.comhamdstatus
qunitjsqunit
I've reported this to qUnit but since you seem to have the directory in your project directly I figured it couldn't hurt to submit this also";1
552;Add jekyll plugins to group in gemfile;"Trying to run jekyll serve would fail if the plugins in config.yml aren't also in the Gemfile as per Jekyll docs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";v Add display typography code example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
553;Fix transitiontimingfunction mixin;"The mixin introduced in contains a bug I think.
While it is supposed to set the transitiontimingfunction attribute it's actually setting the animationtimingfunction attribute.
This fixes that.";Wrong property set in .transitiontimingfunction mixin;"my last PR introducing .transitiontimingfunction mixin was setting the wrong CSS property.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
554;typeahead do not store item data in an attribute;"By using a datavalue attribute each item is forcefully
converted into a string. If the items are not simple values
the resulting retrieval is useless at select time.
Storing it with the jQuery data function instead means the
object is stored without problems.
This is the same as and rebased against the ..wip branch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use .data instead of .attr;This allows for complex items instead of simple strings.;1
555;Update equalwidth example numbering;PR simply updates the numbering in the equalwidth example in the grid docs.;Minor Documentation Copy and Paste error;I know this isn't against master but the error doesn't exist in master.;1
556;Suppress spacebar keyup for dropdowns;"Firefox and Chrome both fire click events when the spacebar is released on a button however Chrome suppresses this event if preventDefault is called from the keydown handler and Firefox still fires it so it must be explicitly prevented from the keyup as well to get them both working the same.
Alternatively could change the dropdown to work with the keyup event instead of keydown but I took this approach as it seemed less destructive with existing code.
Fix for issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove dropdown.js reliance on roles and fix keyboard navigation;"Per migration documentation in ddbd


Rebuilt dropdown styles and markup to provide easy builtin support for a and button based dropdown items.
Dropdown items now require .dropdownitem.


In addition fix the the space key behavior on firefox for button elements . Thanks to RyanThomasMusser for the analysis here. Fixes .
This PR

Remove the dependency to rolemenu or rolelistbox and rely on the class dropdownmenu instead
Remove the dependency to the a element for the dropdownitem and rely on the class dropdownitem instead
Remove the necessity to wrap dropdownitem in li elements

With this modification the javascript now matches the markup in the documentation.
The keyboard navigation works again now in dropdowns.
Also fixes see comment";1
557;store typehead item value as a object not string;"now the typehead control can only use string to build the listwe can't store more data in the items.
so i change the attr'datavalue' to data'value' to get object value from the select so we can extend the item object like this.
 var TypeHeadItemfunctionitemvalue
 this.itemitem
 this.valuevalue
 

 TypeHeadItem.prototype
 toString function 
 return this.value
 
 toLowerCasefunction
 return String.prototype.toLowerCase.applythis.value
 
 indexOffunctionvalue
 return String.prototype.indexOf.applythis.valuearguments
 
 replacefunction
 return String.prototype.replace.applythis.valuearguments
 
 

 TypeHeadItem.prototype.defineGetter'length'functionreturn this.value.length
then we can get more information from the typehead selected item so we don't need to use a cache to store the object which match to the key.It's useful when u have same keyword for different items.although typehead is not desgined for thisbut we use it
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";typeahead support for items that are object;Currently objects can't be used as items because the item is stored on the element as an attribute rather than as data. This simple change fixes that.;1
558;Fix cards cut of when in columns;"This changes the cards to use display inlineblock when in columns to stop them
wrapping when in columns and therefore stopping them getting cut off.

Fixes";v Fix card columns;Fixes by reverting . Cards must be inlineblock in columns otherwise they can get split across columns.;1
559;Fixed responsive label selector;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update CSS selector to remove horizontal labels;"The CSS selector to float the labels left in horizontal forms is .formhorizontal .controllabel httpsgithub.comtwitterbootstrapblobmasterlessforms.lessL but the selector to remove this float on small screens is .formhorizontal .controlgroup label.
This can lead to a display error on small screens when using the class controllabel on elements different than labels
div classcontrolgroup
 p classcontrollabelText inputp
 div classcontrols
 p classhelpinlineInline help text with no inputp
 div
div";1
560;bind dataapi events to document instead of body to allow body replacement;"By binding dataapi events to document we can replace the body element without losing the bindings.
This is necessary to be compatible with httpsgithub.comrailsturbolinks and other javascript libraries that replace body.";Ajax Based DOM Replacement support;"Currently if the document body is replaced via ajax style websites there is no way to reinitialize bootstrap js. This now monitors pageload which is also used by the new Rails turbolinks gem created by dhh.
However this fix may apply to more than just rails turbolinks but rather any ajax based javascript framework could benefit.
Support Added for Turbolinks which will become standard in rails httpsgithub.comrailsturbolinks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
561;Added column offset for small devices;Added in the ability to offset small columns using .colsmoffset when using the colsm class;Separate push pull offset for Large and Small grids;"There is a discussion going on about this but I had to fix the problem to get our theme working with Bootstrap .
If you're going to have multiple grids you have to do pushes pulls and offsets for both grids separately. I really don't see a way around this. Consider the following
 Inside a container row 
div classcollg colsm
 Some Text
div
div classcollg colsm colpush
 Some More Text
div
div classcollg colsm colpull
 Corporate Logo
div
also available as a fiddle
This is going on the traditional info bar at the bottom of every page look at the bottom of any modern web page to see what I'm talking about. On tablet and large screens I want the corporate logo to be centered. On the tablet the logo can be a little bigger because I'm going to hide some of the text in the info boxes.
However there is currently no way whatsoever to specify that the pushing and pulling is different on the small grid. If the small grid is set to the same as the large grid collg colsm colpush of course it works just fine. But if the grid changes for tablets then push pull and offset all break miserably.
With this patch you can change the above code to
 Inside a container row 
div classcollg colsm
 Some Text
div
div classcollg colpush colsm colsmpush
 Some More Text
div
div classcollg colpull colsm colsmpull
 Corporate Logo
div
Classes get a bit cluttered but honestly I see no other way to do this.";1
562;do not show tab when disabled;attempts to fix;Fix Tabs are opened even if disabled.;Fixes and adds tests for disabled case and active case previously not tested.;1
563;v docs Change incorrect LESS references to SCSS;No description provided.;Update typography.md;"change scaffolding.less to the correct location variables.scss
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
564;Improve alignment of the dashboard placeholder images;"Clean solution to not pollute responsive images overall but to fix placeholder images.
Fixes .";Fixes issue placeholder image alignment on Dashboard example;"Add .centerblock to placeholder images on Dashboard example.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
565;Some quick doc link fixes and listinline ref fix;"fixed a few links to javascript page
fixed listinline reference";Dustin the docs again;"Fix alllll the links
Change all .js in JS plugin docs no mo bootstrap
Fully remove tr.info
Bring nav includes up to date";1
566;Rename order utilities to intended class names;"Somehow I screwed this up in Alpha . These utilities should be propertyvalue whenever possible so instead of flexfirst and the like it should be orderfirst. I've left the and as last and first but renamed unordered to . Is that weird I'm not sure how best to handle this one.
Closes .";Documentation Correct prefix for flexbox order classes;à they are called flexà not orderà as it can be seen in the source.;1
567;fix the modal bug;the backdrop peeping out the white when the height of modal has increased and scroll down;fixed modal dialog has not background;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
568;horizontal collapse fixes;add CSS for collapsing over width fix collapse plugin to use innerWidth instead of innerHeight in the hide function when collapsing over width;Add transition when collapsing by width;"Seems this was forgotten
Example httpjsfiddle.netzhtj
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
569;Add distcssbootstrap.css to bower.json main;"It's useful when you use gulp wiredep to have css when needed being injected
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add css to main in bower.json;"Required for wiredep httpsgithub.comtaptapshipwiredep
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
570;Fix link;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Broken link;inb why the ghpages branch and not the docsincludes folder Well I checked and the typo is not there. Sorry Rorschach;1
571;Use .data instead of .attr in typeahead for more flexibility.;"Typeahead queries that correspond to arbitrary JavaScript objects cannot be easily attached to the HTML DOM objects using .attr changing this to .data solves this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Store the typeahead data via .data instead of .attr to allow custom String objects to be stored.;"It looks like Bootstrap typeahead was removed in . in favor of Twitter's typeahead.
However it'd be nice to have this functionality in the mean while.
Live example
httpjsfiddle.netJLnbc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
572;v Fix link to narrow jumbotron example;"Fix 
Correct URL httpvalpha.getbootstrap.comexamplesnarrowjumbotron";fix link in docs to jumbotron narrow example;"Attempts to fix 
Opted to change the names to be more like the navbar and stickyfooter examples
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
573;Meteor Switch to manual installation instructions for v;Accurate Meteor install instructions;Fix meteor add command;Removed additional '.' in meteor add command as that package doesn't exist.;1
574;split .forminline .inputgroup into separate docs example;"Refs httpsgithub.compatrickhlaukebootstrapcommitecfadcfdbcddccommitcomment
CC patrickhlauke
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Inline form example doesn't match its code.;"This example of the inline form doesn't not match the highlighted code below it.
It is quite confusing because there are email fields in the sample form that is shown. I have proposed the correction of this.
I hope this helps.
PS
I don't think so but if by any chance these two email fields were intentional where the first field was for the local part of the email e.g. john.doe and the second field for the domain part e.g. domain.com then I suggest rightaligning the first field. But I doubt was the intention because it wouldn't be a very clear form example and quite an unusual approach.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
575;Change breakpoint of docs navbar from sm to xs;"àHTML code
should close";Change breakpoint of docs' .navlink from SM to XS;"PR fix mobile state px px of valpha website header
Before header state px

Before header state when user openclose mobile menu by button on screen less than px then rotate device screen to horizontal mode that more than px

And after PR it will be px

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
576;Updated copyright in LICENSE to;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";New Year.;"New Year. New License.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
577;Fix duplicated popover content on reopening;"BUG FIX fixing a problem when dynamic content is added to popover through content function. In this case if element wasn't in DOM detached element popover content will be duplicated on popover reopening.
Here is a JS fiddle demonstrating the problem
httpjsfiddle.netzFZ";Fix popover when using append;Using a HTML object for content is currently adding the same content several times in popover. The old content should be removed before adding the new one.;1
578;Fixes alignment issue in static control example;"Fix . Replaced controllabel with formcontrollabel class which
is new in v.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update static form control example;"Use the row class on the formgroup and change the controllabel class to formcontrollabel
This fixes a problem brought up in but also adds row classes...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
579;ARIA screenreader support for collapse.js;"Added handling of ariaexpandedtruefalse to collapse.js updated
documentation to include advice on making expandcollapse controls
accessible updated examples and javascript documentation to use
ariaexpanded and ariacontrols when targetting single collapsible
element using ID rather than class selector";Collapse accessibility;"This addresses a decent amount of issue .

Added tabIndex aria attribute to collapse plugin
Added tabrole ariaselected and ariacontrols into the collapse html docs.
Added support for toggling ariaexpanded ariaselected and ariahidden via the javascript collapse events.

A decent amount of the changes were inspired by the example at httpaccessibility.athenaict.comariaexamplestabpanel.shtml";1
580;WIP Transition from Grunt to Gulp;"As said in in the super ambitious nice to haves I have transitioned from Grunt to Gulp.
Some things still need to be done and not everything works.
This is a base for the transition from Grunt to Gulp.
I have done my best to try to create all the tasks it wan't that easy trying to find what each task does.
Also note that gruntsaucelabs does not have a gulp equivalent so something will need to be thought out as an alternative.
Another note the hound config needs updating.
If anyone has any improvements please post them here.";v Move to npm scripts;"This PR is heavily WIP but addresses a growing concern I've had with developing Bootstrapùthe build process is way to convoluted. Currently we make use of Grunt npm Bundler Jekyll etc all just to run our docs and compile source assets. More personally I find the current dev process incredibly fatiguingùas a maintainer it's hard to be motivated to jump into this codebase right now.
My goal here is to overhaul the build process and make Bootstrap development more approachable to everyone myself included. Originally I was thinking Gulp would be our answer but it's still a task runner build on npm rather than npm itself.
So far I've started to pull apart a few bits of our current tooling and replacing them with npm scripts. Right now they all live under tasks and are split by dist and docs. I'm probably doing a ton wrong but maybe you can help with that D.
Here's the list of tasks we need for developing and distributing Bootstrap

 CSS

 Lint Sass before trying to compile with stylelint over scsslint
 Compile Sass files with nodesass no more Ruby options
 Compile and minify Sass files
 Autoprefixer compiled CSS files


 JavaScript

 Babel
 Uglify
 Qunit tests
 Concatenate and minify


 Docsdevelopment

 Update version
 Shrinkwrap dependencies
 Lint HTML files
 Run Jekyll and watch SassJS files stylelint compile autoprefixer
 Saucelabs
 Package dist files in zipfile for release
 Deploy Jekyll site directory to remote to update docs site



I'm probably missing some tasksscripts we need but I do believe we need the above. These tasks should be runnable by us as maintainers as well as casual users who wish to extend Bootstrap's code and docs so I want them to be clear concise and documented.
cc twbsteam";1
581;Changed all the attr'data... to data'...;Instead of accessing the data.. attributes with the .attr everywhere changed to use the .data;carousel use .data instead of .attr;"HTML data Attributes
As of jQuery .. HTML data attributes will be automatically pulled in to jQuery's data object. The treatment of attributes with embedded dashes was changed in jQuery . to conform to the WC HTML specification.
httpapi.jquery.comdata
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
582;Fixes Use box sizing inheritance;"Fixes .
Updated the docs too.
Interested to see people thoughts on this and wether resetting whole regions was more or less common than reseting a single element.
Right now I'm thinking that resetting the whole region is most likely what people would want to do especially to fix problems like the google maps bug described.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Accomplish boxsizing borderbox in a more friendly way;"Jon Neal had an idea that I think is a great fit for bootstrap.
httpcsstricks.cominheritingboxsizingprobablyslightlybetterbestpractice";1
583;Button hover class;"Add button hover class for use with another class ie
button classbtn btndefault btnsuccesshoverSuccess on hoverbutton";Add hover styles for buttons;"Buttons using btn layouts on hover. Example
button classbtn btndangerhoverDangerbutton

Uses btndefault background and border with brandcolor text color. On hover inherits appropriate btnbuttontype class.
Inspired by Github's Cancel button.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
584;modal.jsoptions.cache added;"tests and docs included
allows you to specify whether a modal caches its content after hidden or not
for reference

";Add cache options to modal;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
585;Use higher precision when calculating breakpointmax values;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";prevents gaps between breakpoints;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
586;Reorder var affectation;Reorder var affectation to work with the .Net compiler dotless httpwww.dotlesscss.org;Fixes out of order variables;"
should fix this issue";1
587;Tooltip arrow fixes;"This fixes two bugs in the tooltips plugin

The tooltip arrow orientation was chosen using the truthiness of the delta.left value returned by getCalculatedOffset however there are cases when this value is but the placement of the plugin is still top or bottom which means the arrow should be positioned using the left property. This fix uses the existing placement variable fixes 
If the page layout changes after the tooltip has been shown the tooltip orientation could change in which case the alternate CSS property was never reset couldn't find an existing issue for this";Fixes arrows in tooltips wrongly centred at times;"Tooltips and popovers showing arrows wrongly positioned at times centred more commonly seen when zoom is enabled in the browser. The reason was for example with an arrow to be shown at the bottom of the tooltip getViewportAdjustedDelta returned delta with left and the test delta.left failed. In these cases when it happened and there was an adjustment to be made height actualHeight the arrow ended up being vertically centred instead of at the bottom of the tooltip.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
588;Dropdown remove dependency to rolemenu rolelistbox a and li elements fix keyboard navigation;"Per migration documentation in ddbd


Rebuilt dropdown styles and markup to provide easy builtin support for a and button based dropdown items.
Dropdown items now require .dropdownitem.


Per comment rolemenu should have been dropped.
This PR

Remove the dependency to rolemenu or rolelistbox and rely on the class dropdownmenu instead
Remove the dependency to the a element for the dropdownitem and rely on the class dropdownitem instead
Remove the necessity to wrap dropdownitem in li elements

All this problems affected only the keyboard navigation in the dropdown.
With this modification the javascript now matches the markup in the documentation.
The keyboard navigation works again now in dropdowns.";Invalid visible items selector for dropdowns prevents arrow keys from working;The keys updown do not work with Bootstrap dropdowns. The selectors in Javascript require nodes which are not present in BS markup. The attached patch seem to solve the problem I was facing.;1
589;Force LF line endings for the dist files.;"This should make things more consistent on all platforms.
CC cvrebert
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ensure unix line end;"To prevent changes in the dist files that only are result of running build process on different platforms I suggest to force the line feed char.
The option is documented here httpgruntjs.comapigrunt.utilgrunt.util.linefeed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
590;Add 'bootstrap' directory to .gitignore;"Ignores the bootstrap directory that is created when you make bootstrap. No
need to track these files since they're generated. conzett's commit to Add
'dist' directory to .gitignore 
is the same idea but for Bootstrap the generated files are place in a
bootstrap directory by default not a dist directory like jQuery. Left
the dist directory in the .gitignore since it may be a convention others are
using already.
Is this line If modifying the .less files always recompile and commit the compiled files bootstrap.css and bootstrap.min.css in CONTRIBUTING.md supposed to be there Assume that refers to make bootstrap not make build";Ignore build folder in .gitignore;Bootstrap folder created with compiled files is listed as an uncommitted change.;1
591;Fix package.json;For example resolve npm module can't resolve path to bootstrap.;package.json main reference;"Hi
It seems to me as if the main module is incorrectly defined as when I install ..alpha. or ..alpha. it incorrectly points to distjsnpm as main entry point and that file does not exist.";1
592;typo in components.html split buttons;"classe classes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed typos in documentation;"classe classes
and
appropratiely appropriately";1
593;v Navbar improvements;"WIP as I slog through .


New Sass variables for various navbar components.
 Improved and highly flexible responsive behaviors added.
 Dropdown example for navbars.
 Navbar togglers don't respect color scheme.
a Update collapsible navbar docs to demonstrate color scheme functionality of navbar toggler.
 Clear the floats within .navbartoggleable to avoid broken animation on close.
 Restore .navbartext and add some docs examples.
 Docs for examples of using images in navbar brand component.
 Clarify usage of .active in navbar navs.
 Improve color contrast of navbar nav links.
 Navbar brand and image options solved thanks to utilities.

Still to do

 Container adding extra padding
 Revisit lightdark nomenclature
 Make sure docs navbar is updated
 Input group sizing in navbar
 Flexbox navbar
 Migration docs";v contextual .navbartoggler color;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
594;Add CDNJS version badge in readme;"This will add a badge that shows the lib version on CDNJS and link to its page on CDNJS
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add CDNJS version badge in readme;This will add the badge to show its version on CDNJS and also link to its page on CDNJS;1
595;Overlay fix after hide modal;"Fix scroll after overlay two or more extensive modals.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Feature Overlapping modals;"In documentation it is said that modal overlapping is not supported. But with recent version of Bootstrap it is working fine except one bug
You can open the second modal on top of the first modal without any problems at all but when you close the second modal 'modalopen' class is removed from 'body' and you can't scroll the first modal. I have created a jsfiddle to illustrate this bug.
This pull request fixes this bug so modal overlapping is fully supported.";1
596;Add font colors to contextual table variants;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";v Inverse table variants;"Fixes . Nullifies .

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
597;fix dropdown event listener;"fixes middle click in firefox and other issues
see also comment
this fix is currently running on httpszkillboard.com with what seems to be no issues EVEKILLzKillboardea";Fix middlebutton click in anchor elements on Firefox;"The removed line blocks the use of middlebutton open in new tab on Firefox
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
598;Bump glob from .. to ..;"Bumps glob from .. to ...

Commits

ceea ..
ce force 'en' locale in string sorting
bc use tap 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Download link in README;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
599;Bump rolluppluginnoderesolve from .. to ..;"Bumps rolluppluginnoderesolve from .. to ...

Changelog
Sourced from rolluppluginnoderesolve's changelog.

v..

Breaking Changes

fix mark module as external if resolved module is external 

Features

feat Follow up to refining exports and browser field interaction 

v..

Breaking Changes

fix mark module as external if resolved module is external 

Features

feat Follow up to refining exports and browser field interaction 




Commits

bb chorerelease noderesolve v..
ccb fixnoderesolve handle nested entry modules with the resolveOnly option ...
ebebd chorerelease noderesolve v..
fedb featnoderesolve Add default export 
e fixnoderesolve resolve local files if resolveOption is set 
eebea featnoderesolve export defaults 
ddcade chorerelease noderesolve v..
dba fixnoderesolve resolve symlinked entry point properly 
aa chorebuble upgrade buble resolves babelbabel 
ecd chorerelease noderesolve v..
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.
Dependabot will merge this PR once CI passes on it as requested by XhmikosR.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docsModal Add xxl fullscreen example;Docs was missing a modal fullscreen xxl example so added it here.;0
600;Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

aafe Upgrade eslintrc for ModuleResolver fix Brandon Mills
aedbd Fix track variables not names in requireatomicupdates fixes Patrick Ahmetovic
ae Chore remove looseparser tests fixes Milos Djermanovic
eeaea Fix create .eslintrc.cjs for module type Nitin Kumar
dec Docs fix example for requireatomicupdates Milos Djermanovic
ebe Sponsors Sync README with website ESLint Jenkins
fde Update Add automated suggestion to radix rule for parsing decimals Bryan Mishkin
baf New Include XO style guide in eslint init Federico Brigante




Changelog
Sourced from eslint's changelog.

v.. May 

aafe Upgrade eslintrc for ModuleResolver fix Brandon Mills
aedbd Fix track variables not names in requireatomicupdates fixes Patrick Ahmetovic
ae Chore remove looseparser tests fixes Milos Djermanovic
eeaea Fix create .eslintrc.cjs for module type Nitin Kumar
dec Docs fix example for requireatomicupdates Milos Djermanovic
ebe Sponsors Sync README with website ESLint Jenkins
fde Update Add automated suggestion to radix rule for parsing decimals Bryan Mishkin
baf New Include XO style guide in eslint init Federico Brigante




Commits

eaad ..
bfd Build changelog update for ..
aafe Upgrade eslintrc for ModuleResolver fix 
aedbd Fix track variables not names in requireatomicupdates fixes ...
ae Chore remove looseparser tests fixes 
eeaea Fix create .eslintrc.cjs for module type 
dec Docs fix example for requireatomicupdates 
ebe Sponsors Sync README with website
fde Update Add automated suggestion to radix rule for parsing decimals 
baf New Include XO style guide in eslint init 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Wrap home content in main use section;"Followups content should probably be in a landmark to improve discoverability for ATs thus I wrapped them in main and also used sections too since that's basically what this element is for.
This one is not critical at all opinions are welcome.
BTW our current template for docs also have its intro content h and lead outside any landmarkùthus not discoverable by users navigating with landmarks. It'd require to revamp the whole grid layout to change this should I suggest a fix
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
601;Bump rollupplugincommonjs from .. to ..;"Bumps rollupplugincommonjs from .. to ...

Changelog
Sourced from rollupplugincommonjs's changelog.

v..

Breaking Changes

feat Add support for circular dependencies 

v..

Bugfixes

fix idempotence issue 

Features

feat Add defaultIsModuleExports option to match Node.js behavior 




Commits

eccef chorerelease commonjs v..
feb featcommonjs Add support for circular dependencies 
bff chorerelease commonjs v..
ebb pnpm lockfile publish adjustments linting fixes
a fixcommonjs idempotence issue 
fbaab chorerepo remove circle ci add validate workflow update deps 
c chorerepo Add directory to package.json repository fields. 
bfed featcommonjs Add defaultIsModuleExports option to match Node.js behavior...
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ensure examples content sits in landmarks;"Using landmarks for proper semantic also really helps navigating the page for users and ATs most of this PR only wraps content in main or header.
There's also small fixes regarding contrasts and proper semantic.";0
602;Bump postcss from .. to ..;"Bumps postcss from .. to ...

Release notes
Sourced from postcss's releases.

..

Fixed list type definitions by nhtz.

..

Removed sourcemap from clientside bundle by barak.




Changelog
Sourced from postcss's changelog.

..

Fixed list type definitions by nhtz.

..

Removed sourcemap from clientside bundle by Barak Igal.




Commits

fb Release .. version
dabe Update fsextra
ad Try to fix CI
fa Update dependncies
ae Merge pull request from nhtzfixlistdeclaration
aeeb fix List declartation
ffed Release .. version
ea Update dependencies
bdd Merge pull request from baraksourcemapbrowser
defc remove sourcemap from browser build
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Scrollspy keyboard access in docs;Mention using tabindex on scrollable areas and apply it in our examples to ensure keyboard access as stated in axecore and explained by Heydon Pickering in its inclusive components eg. Content Slider.;0
603;Reset inside a Dialog does not work if datadismissmodal is set;"closes 
example on codepen";Drop h color customization in callouts;"Our docs colors are very very light and used in our callouts for h with a white backgroundùresulting in contrasts under 
Since only h are customized and we also use h or h in callouts which stay black I'd be in favor of simply drop this color for headings to ensure readability.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
604;Fix offcanvas test to expect the initial body overflow value;No description provided.;SVG placeholders accessibility;"Our shortcode currently generates SVGs with roleimg without any alternate text when no title nor text is usedûwhich is flagged by aXe and my very own ay.css as an error.
This PR ensure to set roleimg only if we have either text or title and ariahiddentrue otherwise.";0
605;Fix offcanvas example using a custom trigger selector;"Fixes 
Offcanvas example is based on an old custom implementation but uses the databstoggleoffcanvas that triggers the offcanvas component without a given target.";Fix docs incorrect green and cyan hex codes;"httpsv.getbootstrap.comdocs.customizecolor
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
606;Fix directoinal typo in v migration docs;"Typo under docs.migrationutilities

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add default parameters to each border radius mixin;This addresses my feature request by adding a default parameter to each border radius mixin. The default value used is the borderradius SCSS variable.;0
607;CI remove Node.js;"Node.js is EOL since 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Regenerate packagelock.json to flatten the deps tree;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
608;Fix Click on input outside of dropdownmenu prevents dropdown from closing;fixes;Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

abd Update support logical assignments in code path analysis refs Milos Djermanovic
dbe Update support logical assignments in core rules refs Milos Djermanovic
 Docs Update Step of Development Environment documentation klkhan
a Chore Test formatted integers in nodupekeys refs Brandon Mills
aade Update add es environment refs Milos Djermanovic
dc Update support numeric separators refs Milos Djermanovic
ba Update Add exceptionPatterns to idlength rule fixes sodam
fea Update support numericseparator in nolossofprecision refs Anix
ed Update add comment to message in nowarningcomments fixes Anix
eec Sponsors Sync README with website ESLint Jenkins
bff Docs fix examples in objectcurlynewline Soobin Bak
cd Docs Remove stale Keybase FA instructions Brandon Mills
fa Chore Extract some functionality to eslintrc refs Nicholas C. Zakas
d Docs Fix typo and missing article before noun in docs Patrice Sandhu
ea Upgrade espree.. refs Kai Cataldo
fb Sponsors Sync README with website ESLint Jenkins
bdbec Chore add rd party parsers in BUGREPORT template YeonJuan
f Chore add common rd party parsers to issue template Kai Cataldo
beed Chore Mark configrelated files refs Nicholas C. Zakas
a Update Add nomagicnumbers 'ignoreDefaultValues' option Dieter Luypaert
b Docs add exponentiation operators to operatorassignment documentation Milos Djermanovic
f Sponsors Sync README with website ESLint Jenkins
eafc Sponsors Sync README with website ESLint Jenkins




Changelog
Sourced from eslint's changelog.

v.. August 

abd Update support logical assignments in code path analysis refs Milos Djermanovic
dbe Update support logical assignments in core rules refs Milos Djermanovic
 Docs Update Step of Development Environment documentation klkhan
a Chore Test formatted integers in nodupekeys refs Brandon Mills
aade Update add es environment refs Milos Djermanovic
dc Update support numeric separators refs Milos Djermanovic
ba Update Add exceptionPatterns to idlength rule fixes sodam
fea Update support numericseparator in nolossofprecision refs Anix
ed Update add comment to message in nowarningcomments fixes Anix
eec Sponsors Sync README with website ESLint Jenkins
bff Docs fix examples in objectcurlynewline Soobin Bak
cd Docs Remove stale Keybase FA instructions Brandon Mills
fa Chore Extract some functionality to eslintrc refs Nicholas C. Zakas
d Docs Fix typo and missing article before noun in docs Patrice Sandhu
ea Upgrade espree.. refs Kai Cataldo
fb Sponsors Sync README with website ESLint Jenkins
bdbec Chore add rd party parsers in BUGREPORT template YeonJuan
f Chore add common rd party parsers to issue template Kai Cataldo
beed Chore Mark configrelated files refs Nicholas C. Zakas
a Update Add nomagicnumbers 'ignoreDefaultValues' option Dieter Luypaert
b Docs add exponentiation operators to operatorassignment documentation Milos Djermanovic
f Sponsors Sync README with website ESLint Jenkins
eafc Sponsors Sync README with website ESLint Jenkins




Commits

ab ..
bb Build changelog update for ..
abd Update support logical assignments in code path analysis refs 
dbe Update support logical assignments in core rules refs 
 Docs Update Step of Development Environment documentation
a Chore Test formatted integers in nodupekeys refs 
aade Update add es environment refs 
dc Update support numeric separators refs 
ba Update Add exceptionPatterns to idlength rule fixes 
fea Update support numericseparator in nolossofprecision refs 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
609;Remove unneeded Edge Legacy mention in Range docs;"Edge Legacy is dead and unsupported so no need to mention here.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Add regular expression support to watch includeexclude types 

Pull Requests

 Add RegExp to the include and exclude fields of the WatcherOptions type dagda
 Update FAQ I think it was meant external instead of otherentry.js madacol

v..

Bug Fixes

Make sure that both unresolved and resolved ids are passed to the external option in all cases 

Pull Requests

 Also pass resolved ids to external if they use the object for lukastaegert

v..

Bug Fixes

Avoid invalid code when rendering hoisted variable declarations from dead branches 
Mark the options parameter of this.parse as optional for TypeScript plugins 

Pull Requests

 Make options of PluginContextparse optional intrnl
 Extract hoisted variables from dead branches lukastaegert

v..

Bug Fixes

Avoid conflicts between the namespace of synthetic named exports and local variables 

Pull Requests

 Properly deconflict synthetic named exports lukastaegert




Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Add regular expression support to watch includeexclude types 

Pull Requests

 Add RegExp to the include and exclude fields of the WatcherOptions type dagda
 Update FAQ I think it was meant external instead of otherentry.js madacol

..

Bug Fixes

Make sure that both unresolved and resolved ids are passed to the external option in all cases 

Pull Requests

 Also pass resolved ids to external if they use the object for lukastaegert

..

Bug Fixes

Avoid invalid code when rendering hoisted variable declarations from dead branches 
Mark the options parameter of this.parse as optional for TypeScript plugins 

Pull Requests

 Make options of PluginContextparse optional intrnl
 Extract hoisted variables from dead branches lukastaegert

..

Bug Fixes

Avoid conflicts between the namespace of synthetic named exports and local variables 

Pull Requests

 Properly deconflict synthetic named exports lukastaegert




Commits

fd ..
fbf Update changelog
bdac add RegExp to the include and exclude fields of the WatcherOptions type 
fd Update changelog
c Update FAQ I think it was meant external instead of otherentry.js 
aa ..
bdc Update changelog
fcec Also pass resolved ids to external if they use the object form 
ecbc ..
bc Update changelog
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
610;docs fix rtlcss stringmap configuration;"closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump postcsscli from .. to ..;"Bumps postcsscli from .. to ...

Changelog
Sourced from postcsscli's changelog.

.. 

Make version machinereadable 
Organize and clarify help text 
Update dependencies




Commits

dfc ..
af Organize and clarify help text 
def Output plain version number 
ebedc Update dependency getstdin to v 
df Update dependency uuid to v 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
611;Add Fathom Analytics to v docs;No description provided.;Bump karma from .. to ..;"Bumps karma from .. to ...

Release notes
Sourced from karma's releases.

v..
.. 
Bug Fixes

client avoid race between execute and clearContext bcb closes 
client check in bundled client code into version control cdab closes github.comkarmarunnerkarmacommitfdfdfcdbdcedcebffcfdcommitcomment
dependencies update dependencies dbb
docs Update howitworks.md ecfb
server log error when file loading or preprocessing fails fcfd

Features

server allow 'exit' listeners to set exit code ad




Changelog
Sourced from karma's changelog.

.. 
Bug Fixes

client avoid race between execute and clearContext bcb closes 
client check in bundled client code into version control cdab closes github.comkarmarunnerkarmacommitfdfdfcdbdcedcebffcfdcommitcomment
dependencies update dependencies dbb
docs Update howitworks.md ecfb
server log error when file loading or preprocessing fails fcfd

Features

server allow 'exit' listeners to set exit code ad




Commits

ff chorerelease .. skip ci
fbf choretest fix client tests in older IE versions 
ad featserver allow 'exit' listeners to set exit code 
bcb fixclient avoid race between execute and clearContext 
cdab fixclient check in bundled client code into version control 
dbb fixdependencies update dependencies 
ecfb fixdocs Update howitworks.md 
fcfd fixserver log error when file loading or preprocessing fails 
ac chore fix appveyor glitch on Node 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
612;docs make tooltip anchor properly wrap the svg;closes;Bump babelcli from .. to ..;"Bumps babelcli from .. to ...

Release notes
Sourced from babelcli's releases.

v.. 
Thanks giovannicalo johanholmerin uhyo for their first PRs
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


babeleslintplugin

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


All packages

 Use Yarn JLHwung



Committers 

Brian Ng existentialism
Giovanni Cal? giovannicalo
Hußng J?nli?ng JLHwung
Joe Haddad Timer
Johan Holmerin johanholmerin
uhyo uhyo

v.. 
Thanks Monchi for their first PR to Babel
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung







Changelog
Sourced from babelcli's changelog.

v.. 
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


Other

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


babelcli babelcodeframe babelcompatdata babelcore babelgenerator babelhelperannotateaspure babelhelperbindifydecorators babelhelperbuilderbinaryassignmentoperatorvisitor babelhelperbuilderreactjsxexperimental babelhelperbuilderreactjsx babelhelpercalldelegate babelhelpercompilationtargets babelhelpercreateclassfeaturesplugin babelhelpercreateregexpfeaturesplugin babelhelperdefinemap babelhelperexplodeassignableexpression babelhelperexplodeclass babelhelperfunctionname babelhelpergetfunctionarity babelhelperhoistvariables babelhelpermemberexpressiontofunctions babelhelpermoduleimports babelhelpermoduletransforms babelhelperoptimisecallexpression babelhelperplugintestrunner babelhelperremapasynctogenerator babelhelperreplacesupers babelhelpersimpleaccess babelhelperskiptransparentexpressionwrappers babelhelpersplitexportdeclaration babelhelpertransformfixturetestrunner babelhelperwrapfunction babelhelpers babelhighlight babelnode babelparser babelpluginexternalhelpers babelpluginproposalasyncgeneratorfunctions babelpluginproposalclassproperties babelpluginproposaldecorators babelpluginproposaldoexpressions babelpluginproposaldynamicimport babelpluginproposalexportdefaultfrom babelpluginproposalexportnamespacefrom babelpluginproposalfunctionbind babelpluginproposalfunctionsent babelpluginproposaljsonstrings babelpluginproposallogicalassignmentoperators babelpluginproposalnullishcoalescingoperator babelpluginproposalnumericseparator babelpluginproposalobjectrestspread babelpluginproposaloptionalcatchbinding babelpluginproposaloptionalchaining babelpluginproposalpartialapplication babelpluginproposalpipelineoperator babelpluginproposalprivatemethods babelpluginproposalprivatepropertyinobject babelpluginproposalthrowexpressions babelpluginproposalunicodepropertyregex babelpluginsyntaxclassproperties babelpluginsyntaxdecimal babelpluginsyntaxdecorators babelpluginsyntaxdoexpressions babelpluginsyntaxexportdefaultfrom babelpluginsyntaxflow babelpluginsyntaxfunctionbind babelpluginsyntaxfunctionsent babelpluginsyntaximportmeta babelpluginsyntaxjsx babelpluginsyntaxlogicalassignmentoperators babelpluginsyntaxmoduleattributes babelpluginsyntaxnumericseparator babelpluginsyntaxpartialapplication babelpluginsyntaxpipelineoperator babelpluginsyntaxrecordandtuple babelpluginsyntaxthrowexpressions babelpluginsyntaxtoplevelawait babelpluginsyntaxtypescript babelplugintransformarrowfunctions babelplugintransformasynctogenerator babelplugintransformblockscopedfunctions babelplugintransformblockscoping babelplugintransformclasses babelplugintransformcomputedproperties babelplugintransformdestructuring babelplugintransformdotallregex babelplugintransformduplicatekeys babelplugintransformexponentiationoperator babelplugintransformflowcomments babelplugintransformflowstriptypes babelplugintransformforof babelplugintransformfunctionname babelplugintransforminstanceof babelplugintransformjscript babelplugintransformliterals babelplugintransformmemberexpressionliterals babelplugintransformmodulesamd babelplugintransformmodulescommonjs babelplugintransformmodulessystemjs babelplugintransformmodulesumd babelplugintransformnamedcapturinggroupsregex babelplugintransformnewtarget babelplugintransformobjectassign babelplugintransformobjectsetprototypeoftoassign babelplugintransformobjectsuper babelplugintransformparameters babelplugintransformpropertyliterals babelplugintransformpropertymutators babelplugintransformprototoassign babelplugintransformreactconstantelements babelplugintransformreactdisplayname babelplugintransformreactinlineelements babelplugintransformreactjsxcompat babelplugintransformreactjsxdevelopment babelplugintransformreactjsxself babelplugintransformreactjsxsource babelplugintransformreactjsx babelplugintransformreactpureannotations babelplugintransformregenerator babelplugintransformreservedwords babelplugintransformruntime babelplugintransformshorthandproperties babelplugintransformspread babelplugintransformstickyregex babelplugintransformstrictmode babelplugintransformtemplateliterals babelplugintransformtypeofsymbol babelplugintransformtypescript babelplugintransformunicodeescapes babelplugintransformunicoderegex babelpolyfill babelpresetenv babelpresetflow babelpresetreact babelpresettypescript babelregister babelruntimecorejs babelruntime babelstandalone babeltemplate babeltraverse babeltypes

 Use Yarn JLHwung



v.. 
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung
 fix reset EndLocation for catch param JLHwung


Other

 fix do not mutate newTypes JLHwung
 fix ensure defaults are set in babeleslintparser kaicataldo


babelgenerator

 fix disallow line break between async and property JLHwung



 Internal

Other

 Move legacy node version tests to GitHub actions JLHwung
 chore do not push version commit on lerna version JLHwung


babelparser

 Add more parser test cases JLHwung







Commits

afccb v..
dbcc chore bump sourcemap to .. 
fadea Use Yarn 
a add showConfig support 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
613;Fix accordion link;"The exclamation mark probably broke the link
Image from the migration guide

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump babelpresetenv from .. to ..;"Bumps babelpresetenv from .. to ...

Release notes
Sourced from babelpresetenv's releases.

v.. 
Thanks giovannicalo johanholmerin uhyo for their first PRs
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


babeleslintplugin

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


All packages

 Use Yarn JLHwung



Committers 

Brian Ng existentialism
Giovanni Cal? giovannicalo
Hußng J?nli?ng JLHwung
Joe Haddad Timer
Johan Holmerin johanholmerin
uhyo uhyo

v.. 
Thanks Monchi for their first PR to Babel
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung







Changelog
Sourced from babelpresetenv's changelog.

v.. 
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


Other

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


babelcli babelcodeframe babelcompatdata babelcore babelgenerator babelhelperannotateaspure babelhelperbindifydecorators babelhelperbuilderbinaryassignmentoperatorvisitor babelhelperbuilderreactjsxexperimental babelhelperbuilderreactjsx babelhelpercalldelegate babelhelpercompilationtargets babelhelpercreateclassfeaturesplugin babelhelpercreateregexpfeaturesplugin babelhelperdefinemap babelhelperexplodeassignableexpression babelhelperexplodeclass babelhelperfunctionname babelhelpergetfunctionarity babelhelperhoistvariables babelhelpermemberexpressiontofunctions babelhelpermoduleimports babelhelpermoduletransforms babelhelperoptimisecallexpression babelhelperplugintestrunner babelhelperremapasynctogenerator babelhelperreplacesupers babelhelpersimpleaccess babelhelperskiptransparentexpressionwrappers babelhelpersplitexportdeclaration babelhelpertransformfixturetestrunner babelhelperwrapfunction babelhelpers babelhighlight babelnode babelparser babelpluginexternalhelpers babelpluginproposalasyncgeneratorfunctions babelpluginproposalclassproperties babelpluginproposaldecorators babelpluginproposaldoexpressions babelpluginproposaldynamicimport babelpluginproposalexportdefaultfrom babelpluginproposalexportnamespacefrom babelpluginproposalfunctionbind babelpluginproposalfunctionsent babelpluginproposaljsonstrings babelpluginproposallogicalassignmentoperators babelpluginproposalnullishcoalescingoperator babelpluginproposalnumericseparator babelpluginproposalobjectrestspread babelpluginproposaloptionalcatchbinding babelpluginproposaloptionalchaining babelpluginproposalpartialapplication babelpluginproposalpipelineoperator babelpluginproposalprivatemethods babelpluginproposalprivatepropertyinobject babelpluginproposalthrowexpressions babelpluginproposalunicodepropertyregex babelpluginsyntaxclassproperties babelpluginsyntaxdecimal babelpluginsyntaxdecorators babelpluginsyntaxdoexpressions babelpluginsyntaxexportdefaultfrom babelpluginsyntaxflow babelpluginsyntaxfunctionbind babelpluginsyntaxfunctionsent babelpluginsyntaximportmeta babelpluginsyntaxjsx babelpluginsyntaxlogicalassignmentoperators babelpluginsyntaxmoduleattributes babelpluginsyntaxnumericseparator babelpluginsyntaxpartialapplication babelpluginsyntaxpipelineoperator babelpluginsyntaxrecordandtuple babelpluginsyntaxthrowexpressions babelpluginsyntaxtoplevelawait babelpluginsyntaxtypescript babelplugintransformarrowfunctions babelplugintransformasynctogenerator babelplugintransformblockscopedfunctions babelplugintransformblockscoping babelplugintransformclasses babelplugintransformcomputedproperties babelplugintransformdestructuring babelplugintransformdotallregex babelplugintransformduplicatekeys babelplugintransformexponentiationoperator babelplugintransformflowcomments babelplugintransformflowstriptypes babelplugintransformforof babelplugintransformfunctionname babelplugintransforminstanceof babelplugintransformjscript babelplugintransformliterals babelplugintransformmemberexpressionliterals babelplugintransformmodulesamd babelplugintransformmodulescommonjs babelplugintransformmodulessystemjs babelplugintransformmodulesumd babelplugintransformnamedcapturinggroupsregex babelplugintransformnewtarget babelplugintransformobjectassign babelplugintransformobjectsetprototypeoftoassign babelplugintransformobjectsuper babelplugintransformparameters babelplugintransformpropertyliterals babelplugintransformpropertymutators babelplugintransformprototoassign babelplugintransformreactconstantelements babelplugintransformreactdisplayname babelplugintransformreactinlineelements babelplugintransformreactjsxcompat babelplugintransformreactjsxdevelopment babelplugintransformreactjsxself babelplugintransformreactjsxsource babelplugintransformreactjsx babelplugintransformreactpureannotations babelplugintransformregenerator babelplugintransformreservedwords babelplugintransformruntime babelplugintransformshorthandproperties babelplugintransformspread babelplugintransformstickyregex babelplugintransformstrictmode babelplugintransformtemplateliterals babelplugintransformtypeofsymbol babelplugintransformtypescript babelplugintransformunicodeescapes babelplugintransformunicoderegex babelpolyfill babelpresetenv babelpresetflow babelpresetreact babelpresettypescript babelregister babelruntimecorejs babelruntime babelstandalone babeltemplate babeltraverse babeltypes

 Use Yarn JLHwung



v.. 
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung
 fix reset EndLocation for catch param JLHwung


Other

 fix do not mutate newTypes JLHwung
 fix ensure defaults are set in babeleslintparser kaicataldo


babelgenerator

 fix disallow line break between async and property JLHwung



 Internal

Other

 Move legacy node version tests to GitHub actions JLHwung
 chore do not push version commit on lerna version JLHwung


babelparser

 Add more parser test cases JLHwung







Commits

afccb v..
fadea Use Yarn 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
614;Add accessible names to SVG icons in alerts;No description provided.;Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
Thanks giovannicalo johanholmerin uhyo for their first PRs
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


babeleslintplugin

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


All packages

 Use Yarn JLHwung



Committers 

Brian Ng existentialism
Giovanni Cal? giovannicalo
Hußng J?nli?ng JLHwung
Joe Haddad Timer
Johan Holmerin johanholmerin
uhyo uhyo




Changelog
Sourced from babelcore's changelog.

v.. 
 Bug Fix

babelhelperbuilderreactjsxexperimental babelplugintransformreactjsxdevelopment

 Fix jsxDEV for generated elements Timer


babelparser

 fix ExpressionBody should respect In parameter JLHwung
 Set generator to true during error recovery of accessor existentialism


Other

 Added linting support for private class methods giovannicalo


babelpluginproposalfunctionbind

 fixpluginproposalfunctionbind fix invalid code emitted for super.foo uhyo



 Polish

babeltraverse

 Forward deopt node path johanholmerin



 Internal

Other

 Remove unused enhancedresolve and normalize lock resolutions JLHwung
 chore use Rollup JLHwung
 Restructure CI workflow JLHwung
 chore improve Yarn cache on CI JLHwung


babelcli babelcodeframe babelcompatdata babelcore babelgenerator babelhelperannotateaspure babelhelperbindifydecorators babelhelperbuilderbinaryassignmentoperatorvisitor babelhelperbuilderreactjsxexperimental babelhelperbuilderreactjsx babelhelpercalldelegate babelhelpercompilationtargets babelhelpercreateclassfeaturesplugin babelhelpercreateregexpfeaturesplugin babelhelperdefinemap babelhelperexplodeassignableexpression babelhelperexplodeclass babelhelperfunctionname babelhelpergetfunctionarity babelhelperhoistvariables babelhelpermemberexpressiontofunctions babelhelpermoduleimports babelhelpermoduletransforms babelhelperoptimisecallexpression babelhelperplugintestrunner babelhelperremapasynctogenerator babelhelperreplacesupers babelhelpersimpleaccess babelhelperskiptransparentexpressionwrappers babelhelpersplitexportdeclaration babelhelpertransformfixturetestrunner babelhelperwrapfunction babelhelpers babelhighlight babelnode babelparser babelpluginexternalhelpers babelpluginproposalasyncgeneratorfunctions babelpluginproposalclassproperties babelpluginproposaldecorators babelpluginproposaldoexpressions babelpluginproposaldynamicimport babelpluginproposalexportdefaultfrom babelpluginproposalexportnamespacefrom babelpluginproposalfunctionbind babelpluginproposalfunctionsent babelpluginproposaljsonstrings babelpluginproposallogicalassignmentoperators babelpluginproposalnullishcoalescingoperator babelpluginproposalnumericseparator babelpluginproposalobjectrestspread babelpluginproposaloptionalcatchbinding babelpluginproposaloptionalchaining babelpluginproposalpartialapplication babelpluginproposalpipelineoperator babelpluginproposalprivatemethods babelpluginproposalprivatepropertyinobject babelpluginproposalthrowexpressions babelpluginproposalunicodepropertyregex babelpluginsyntaxclassproperties babelpluginsyntaxdecimal babelpluginsyntaxdecorators babelpluginsyntaxdoexpressions babelpluginsyntaxexportdefaultfrom babelpluginsyntaxflow babelpluginsyntaxfunctionbind babelpluginsyntaxfunctionsent babelpluginsyntaximportmeta babelpluginsyntaxjsx babelpluginsyntaxlogicalassignmentoperators babelpluginsyntaxmoduleattributes babelpluginsyntaxnumericseparator babelpluginsyntaxpartialapplication babelpluginsyntaxpipelineoperator babelpluginsyntaxrecordandtuple babelpluginsyntaxthrowexpressions babelpluginsyntaxtoplevelawait babelpluginsyntaxtypescript babelplugintransformarrowfunctions babelplugintransformasynctogenerator babelplugintransformblockscopedfunctions babelplugintransformblockscoping babelplugintransformclasses babelplugintransformcomputedproperties babelplugintransformdestructuring babelplugintransformdotallregex babelplugintransformduplicatekeys babelplugintransformexponentiationoperator babelplugintransformflowcomments babelplugintransformflowstriptypes babelplugintransformforof babelplugintransformfunctionname babelplugintransforminstanceof babelplugintransformjscript babelplugintransformliterals babelplugintransformmemberexpressionliterals babelplugintransformmodulesamd babelplugintransformmodulescommonjs babelplugintransformmodulessystemjs babelplugintransformmodulesumd babelplugintransformnamedcapturinggroupsregex babelplugintransformnewtarget babelplugintransformobjectassign babelplugintransformobjectsetprototypeoftoassign babelplugintransformobjectsuper babelplugintransformparameters babelplugintransformpropertyliterals babelplugintransformpropertymutators babelplugintransformprototoassign babelplugintransformreactconstantelements babelplugintransformreactdisplayname babelplugintransformreactinlineelements babelplugintransformreactjsxcompat babelplugintransformreactjsxdevelopment babelplugintransformreactjsxself babelplugintransformreactjsxsource babelplugintransformreactjsx babelplugintransformreactpureannotations babelplugintransformregenerator babelplugintransformreservedwords babelplugintransformruntime babelplugintransformshorthandproperties babelplugintransformspread babelplugintransformstickyregex babelplugintransformstrictmode babelplugintransformtemplateliterals babelplugintransformtypeofsymbol babelplugintransformtypescript babelplugintransformunicodeescapes babelplugintransformunicoderegex babelpolyfill babelpresetenv babelpresetflow babelpresetreact babelpresettypescript babelregister babelruntimecorejs babelruntime babelstandalone babeltemplate babeltraverse babeltypes

 Use Yarn JLHwung






Commits

afccb v..
dbcc chore bump sourcemap to .. 
fadea Use Yarn 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
615;Update README.md for v;We forgot to update our readme to reflect the latest release of v.;Fix form validation tooltip alignment;"Fixes as per my comment there comment
Summary IE is nonstandards compliant about positioning. Fix was put in place which broke alignment in all browsers. This implements a more robust fix and scopes it to IE only.
Tested in Google Chrome Firefox Edge Internet Explorer Google Chrome Android.



Before
After












IE before 
IE after this PR 



vdev httpsvdevtwbsbootstrap.netlify.appdocs.componentsformstooltips
this branch httpsdeploypreviewtwbsbootstrap.netlify.appdocs.componentsformstooltips
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
616;Fix no long require to no longer require typo;Fixed a typo in the Migration guide from We no long require... to be We no longer require...;docs Fix typo on Customize Color page;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
617;Don't redefine listgroupcolor in loop;The loop in scsslistgroup.scss uses listgroupcolor as though it was a local variable but is in fact overwriting the setting from variables.scss. This means that using the value of listgroupcolor in other stylesheets included in the scss build will get the wrong color value I'd expect it to be but it is in fact .;Add new Chinese Simplified translation;"This is an open source Chinese Simplified translation which is more pure than another one.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
618;Fix value;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Use correctly deconflicted variable names for reexported namespaces in ES formats 

Pull Requests

 Avoid variable name conflict when reexporting several namespaces from a chunk lukastaegert

v..

Bug Fixes

Fix a situation where invalid code was rendered when dynamically importing a module with synthetic named exports when preserving modules 
Create a proper namespace object when in a nones format a namespace is imported from a chunk with default export mode 
Use the same variable when in a chunk a namespace is both imported and reexported as a binding 
Do not include the synthetic namespace in static entry points unless it is actually used 
Make sure the chunking of one output does not interfere with the namespace objects of another output 




Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Use correctly deconflicted variable names for reexported namespaces in ES formats 

Pull Requests

 Avoid variable name conflict when reexporting several namespaces from a chunk lukastaegert

..

Bug Fixes

Fix a situation where invalid code was rendered when dynamically importing a module with synthetic named exports when preserving modules 
Create a proper namespace object when in a nones format a namespace is imported from a chunk with default export mode 
Use the same variable when in a chunk a namespace is both imported and reexported as a binding 
Do not include the synthetic namespace in static entry points unless it is actually used 
Make sure the chunking of one output does not interfere with the namespace objects of another output 

Pull Requests

 Improve synthetic entry handling lukastaegert




Commits

bbb ..
 Update changelog
 Avoid variable name conflict when reexporting several namespaces from a chunk...
fadaf ..
ede Update changelog
ef Improve synthetic entry handling 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
619;Update Sidebars example to fix dividers and rendering on Chrome;"Fixes closes .
Couple things were happening with the existing Sidebars example

The tooltip issue reported in .
The dividers and content were not behaving correctly in Chrome but where in Safari and mobile Safari.

This PR fixes both of these issues and addresses some small refactoring of the flexshrink styles into utilities in the HTML.
Preview httpsdeploypreviewtwbsbootstrap.netlify.appdocs.examplessidebars
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump linkinator from .. to ..;"Bumps linkinator from .. to ...

Release notes
Sourced from linkinator's releases.

v..
.. 
Bug Fixes

deps update dependency jsonexport to v fcba




Commits

fcba fixdeps update dependency jsonexport to v 
dc choredeps update dependency typescript to v 
eeec choredeps update dependency typesmocha to v 
ffa choredeps update dependency nock to v 
dfb choredeps update dependency mocha to v 
af build address typescript build failure 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
620;Remove extra t in Close button heading in Migration guide;No description provided.;Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
Thanks Monchi for their first PR to Babel
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung
 fix reset EndLocation for catch param JLHwung


Other

 fix do not mutate newTypes JLHwung
 fix ensure defaults are set in babeleslintparser kaicataldo


babelgenerator

 fix disallow line break between async and property JLHwung



 Internal

Other

 Move legacy node version tests to GitHub actions JLHwung
 chore do not push version commit on lerna version JLHwung


babelparser

 Add more parser test cases JLHwung
 Simplify tokenizer update context JLHwung
 chore enable flowcheck on CI JLHwung
 Refactor In production parameter tracking JLHwung


babelhelpers

 chore remove obsolete comment jamescdavis


babelhelpertransformfixturetestrunner

 chore build babelpolyfilldist on make watch JLHwung


babelcore babelhelpertransformfixturetestrunner babelpluginproposalobjectrestspread babelplugintransformblockscoping babelplugintransformclasses babelplugintransformdestructuring babelplugintransformreactjsxsource babelplugintransformspread

 Isolated exec tests jridgewell


babelhelperbindifydecorators babelhelpercalldelegate babelhelperexplodeassignableexpression babelhelperexplodeclass babelhelperremapasynctogenerator babelhelperreplacesupers

 Move some babeltraverse from deps to devDeps Monchi



Committers 

Brian Ng existentialism
Hußng J?nli?ng JLHwung
James C. Davis jamescdavis
Justin Ridgewell jridgewell
Kai Cataldo kaicataldo
Yuku Kotani Monchi

v.. 
Thanks AleksRap for their first PR




Changelog
Sourced from babelcore's changelog.

v.. 
 Bug Fix

babelhelperreplacesupers

 fix declare babeltraverse as a dependency JLHwung


babelcore

 Ensure import is not transpiled in babelcore published source JLHwung


babelparser

 Throw error on invalid flow async generic arrow syntax existentialism
 Fix parsing type casted generic flow arrow exprs existentialism
 fix do not transform ClassPrivateMethods in estree JLHwung
 fix push new token context when braceHashL is seen JLHwung
 fix reset EndLocation for catch param JLHwung


Other

 fix do not mutate newTypes JLHwung
 fix ensure defaults are set in babeleslintparser kaicataldo


babelgenerator

 fix disallow line break between async and property JLHwung



 Internal

Other

 Move legacy node version tests to GitHub actions JLHwung
 chore do not push version commit on lerna version JLHwung


babelparser

 Add more parser test cases JLHwung
 Simplify tokenizer update context JLHwung
 chore enable flowcheck on CI JLHwung
 Refactor In production parameter tracking JLHwung


babelhelpers

 chore remove obsolete comment jamescdavis


babelhelpertransformfixturetestrunner

 chore build babelpolyfilldist on make watch JLHwung


babelcore babelhelpertransformfixturetestrunner babelpluginproposalobjectrestspread babelplugintransformblockscoping babelplugintransformclasses babelplugintransformdestructuring babelplugintransformreactjsxsource babelplugintransformspread

 Isolated exec tests jridgewell


babelhelperbindifydecorators babelhelpercalldelegate babelhelperexplodeassignableexpression babelhelperexplodeclass babelhelperremapasynctogenerator babelhelperreplacesupers

 Move some babeltraverse from deps to devDeps Monchi



v.. 
 Bug Fix

 fix add ImportExpression visitorKeys JLHwung

 Polish

babelparser

 refactor add recoverable error on accessorIsGenerator JLHwung



 Internal

babelparser

 refactor simplify smart pipeline parsing JLHwung
 simplify isLookaheadRelational method JLHwung
 Support ConditionalExpressions in dryerrormessages rule existentialism







Commits

b v..
cfff chore test against workspace babelcore
befb Ensure import is not transpiled in babelcore published source 
abc Isolated exec tests 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
621;Add examples section to Release Drafter;No description provided.;Update icons.yml;"Add new icons set CoreUI Icons
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
622;Fix backdrop rootElement not initialized in Modal;"Fixes 
The backdrop rootElement is not initialized when the javascript file loaded in the document head as the document.body is not yet initialized and Default variable in backdrop.js is loaded before it.";docstypography missing punctuation;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
623;Fix unnecessary classes;"Fixes 
I made all the changes suggested for the Border hero with cropped image and shadows.
I did not make the change for the centered hero because I could not verify that it would produce the exact same result as prior to the change. Was hoping someone else could double check that again and I could make adjustments as needed.";Use next breakpoint when targetting xs only;"Fixes 
I made a Sassmeister to try this. Simply change upper to name on L to reproduce the issue.";0
624;Fix typo in migration.md;"First of all thank you for creating and maintaining a great framework.
Today I read the v migration guide and found a typo in the doc. Thus I'd like to fix it.

An ending square bracket is missing
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump terser from .. to ..;"Bumps terser from .. to ...

Changelog
Sourced from terser's changelog.

v..

import.meta is now supported
Typescript typings have been improved




Commits

dd ..
eb update changelog
ffd fix typings 
ce support parsing import.meta 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
625;Fix browser support versions in migration doc;"Noticed browser support versions in migration doc didn't match browserslist file
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump sirvcli from .. to ..;"Bumps sirvcli from .. to ...

Release notes
Sourced from sirvcli's releases.

v..
Patches

sirv Ensure options.setHeaders changes are respected eb




Commits

fabf v..
eb fixsirv respect existing headers
ed chore bump uvu version
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
626;Fix typo in scrollspy docs;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Fix a situation where linebreaks in a nested simplified conditional expression could result in broken code 

Pull Requests

 Prevent ASI when simplifying a nested logical expression lukastaegert

v..

Bug Fixes

Fix a situation where linebreaks in a simplified conditional expression could result in broken code 

Pull Requests

 Prevent unintended ASI for nested conditionals lukastaegert

v..

Bug Fixes

Correctly render external namespace imports when only generating SystemJS output 

Pull Requests

 Render system namespace import sastan and lukastaegert

v..

Features

Add a new entry importedBindings to the bundle information to list bindings per dependency 

Bug Fixes

Do not render an invalid UMD wrapper when no bindings are imported from a dependency 
Avoid situations where removing the else branch from an if statement might catch the else branch from another one 

Pull Requests

 Add import specifiers to bundle information lukastaegert
 Fix missing variables for UMD and IIFE builds lukastaegert
 Do not entirely remove else branch if another else branch might accidentally be referenced lukastaegert

v..

Features

Add failAfterWarnings CLI flag that will complete builds with warnings but return an error at the end 

Pull Requests

 Implement failAfterWarnings flag tjenkinson





Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Fix a situation where linebreaks in a nested simplified conditional expression could result in broken code 

Pull Requests

 Prevent ASI when simplifying a nested logical expression lukastaegert

..

Bug Fixes

Fix a situation where linebreaks in a simplified conditional expression could result in broken code 

Pull Requests

 Prevent unintended ASI for nested conditionals lukastaegert

..

Bug Fixes

Correctly render external namespace imports when only generating SystemJS output 

Pull Requests

 Render system namespace import sastan and lukastaegert

..

Features

Add a new entry importedBindings to the bundle information to list bindings per dependency 

Bug Fixes

Do not render an invalid UMD wrapper when no bindings are imported from a dependency 
Avoid situations where removing the else branch from an if statement might catch the else branch from another one 

Pull Requests

 Add import specifiers to bundle information lukastaegert
 Fix missing variables for UMD and IIFE builds lukastaegert
 Do not entirely remove else branch if another else branch might accidentally be referenced lukastaegert

..

Features

Add failAfterWarnings CLI flag that will complete builds with warnings but return an error at the end 

Pull Requests

 Implement failAfterWarnings flag tjenkinson





Commits

fd ..
bea Update changelog
ad Prevent ASI when simplifying a nested logical expression 
cb Update changelog
fba ..
dbb Update changelog
ede Prevent unintended ASI for nested conditionals 
bdc ..
ae Update changelog
dfa WIP test case for import namespace when only rendering systemjs 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
627;update About text now that Bootstrap is live;..and big congrats and thanks to all the Bootstrap team on v launching;Bump karmajasmine from .. to ..;"Bumps karmajasmine from .. to ...

Release notes
Sourced from karmajasmine's releases.

v..
.. 
Bug Fixes

adapter filter functions from result.order fc

v..
.. 
chore

update dependencies adead

BREAKING CHANGES

Drop support for node add support for node 




Changelog
Sourced from karmajasmine's changelog.

.. 
Bug Fixes

adapter filter functions from result.order fc

.. 
chore

update dependencies adead

BREAKING CHANGES

Drop support for node add support for node 




Commits

cb chorerelease .. skip ci
fc fixadapter filter functions from result.order 
be chorerelease .. skip ci
adead chore update dependencies 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
628;Rewrite migration guide;"Little worried I might have cut too much but there was so much detail in this thing that just made it actually kind of unusable. Trying to find the right balance of information for context and actions to take to do the migration work.

Deduplicates bulk of the content for a migration from v to v
Adds clear breaking labels where appropriate
Leaves room for more guidance around doing the actual migration

cc XhmikosR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump rolluppluginbabel from .. to ..;"Bumps rolluppluginbabel from .. to ...

Commits

ac chorerelease babel v..
acfe chorerelease commonjs v..
ed chorerelease dynamicimportvars v..
edba refactornoderesolve remove deepfreeze from dependencies 
dfe fixcommonjs add .cjs to default file extensions. 
dd fixpluginutils don't add cwd to absolute or patterns that start with a gl...
baf refactormultientry virtualised entryFileName 
ecd docspluginutils Correct minimatch to picomatch 
fa featbabel export as ns support 
b featcommonjs return the namespace by default when requiring ESM 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
629;refactordocs Added form file input variables;"File input belongs to this page in doc added variables in last.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump rolluppluginnoderesolve from .. to ..;"Bumps rolluppluginnoderesolve from .. to ...

Commits

fc chorerelease noderesolve v..
cfe chorerelease pluginutils v..
ac chorerelease babel v..
acfe chorerelease commonjs v..
ed chorerelease dynamicimportvars v..
edba refactornoderesolve remove deepfreeze from dependencies 
dfe fixcommonjs add .cjs to default file extensions. 
dd fixpluginutils don't add cwd to absolute or patterns that start with a gl...
baf refactormultientry virtualised entryFileName 
ecd docspluginutils Correct minimatch to picomatch 
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.

Note Dependabot was ignoring updates to this dependency but since you've updated it yourself we've started tracking it for you again. 

Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
630;Fix doc typo and Bootstrap Icons link;"Fixes a couple issues in docs

typo in migration guide
bad link in alerts page

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump eslint from .. to ..;"Bumps eslint from .. to ...

Release notes
Sourced from eslint's releases.

v..

bfee Update allowFunctionParams option in nounderscoredangle fixes Sunghyun Cho
aa Docs clarify case specifier in paddinglinebetweenstatements Milos Djermanovic
c Docs Update semantic versioning policy Nicholas C. Zakas
eb Fix revert Update disallow multiple options in commadangle schema Kai Cataldo
e Fix indent for async arrow functions fixes Anix
ca Sponsors Sync README with website ESLint Jenkins
ed Sponsors Sync README with website ESLint Jenkins
d Sponsors Sync README with website ESLint Jenkins
ce Sponsors Sync README with website ESLint Jenkins
 Sponsors Sync README with website ESLint Jenkins
dbb Sponsors Sync README with website ESLint Jenkins
dced Sponsors Sync README with website ESLint Jenkins
e Sponsors Sync README with website ESLint Jenkins
aebe Sponsors Sync README with website ESLint Jenkins
a Chore remove leche fixes Mark de Dios
ccf Sponsors Sync README with website ESLint Jenkins
dec Sponsors Sync README with website ESLint Jenkins




Changelog
Sourced from eslint's changelog.

v.. August 

bfee Update allowFunctionParams option in nounderscoredangle fixes Sunghyun Cho
aa Docs clarify case specifier in paddinglinebetweenstatements Milos Djermanovic
c Docs Update semantic versioning policy Nicholas C. Zakas
eb Fix revert Update disallow multiple options in commadangle schema Kai Cataldo
e Fix indent for async arrow functions fixes Anix
ca Sponsors Sync README with website ESLint Jenkins
ed Sponsors Sync README with website ESLint Jenkins
d Sponsors Sync README with website ESLint Jenkins
ce Sponsors Sync README with website ESLint Jenkins
 Sponsors Sync README with website ESLint Jenkins
dbb Sponsors Sync README with website ESLint Jenkins
dced Sponsors Sync README with website ESLint Jenkins
e Sponsors Sync README with website ESLint Jenkins
aebe Sponsors Sync README with website ESLint Jenkins
a Chore remove leche fixes Mark de Dios
ccf Sponsors Sync README with website ESLint Jenkins
dec Sponsors Sync README with website ESLint Jenkins




Commits

d ..
e Build changelog update for ..
bfee Update allowFunctionParams option in nounderscoredangle fixes ...
aa Docs clarify case specifier in paddinglinebetweenstatements 
c Docs Update semantic versioning policy 
eb Fix revert Update disallow multiple options in commadangle schema 
e Fix indent for async arrow functions fixes 
ca Sponsors Sync README with website
ed Sponsors Sync README with website
d Sponsors Sync README with website
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
631;Update migration guide for some v changes;cc XhmikosR;Bump rollupplugincommonjs from .. to ..;"Bumps rollupplugincommonjs from .. to ...

Commits

acfe chorerelease commonjs v..
ed chorerelease dynamicimportvars v..
edba refactornoderesolve remove deepfreeze from dependencies 
dfe fixcommonjs add .cjs to default file extensions. 
dd fixpluginutils don't add cwd to absolute or patterns that start with a gl...
baf refactormultientry virtualised entryFileName 
ecd docspluginutils Correct minimatch to picomatch 
fa featbabel export as ns support 
b featcommonjs return the namespace by default when requiring ESM 
cd chorerepo Merge pull request from rollupupdatedependencies
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
632;Prevent accentbg from leaking in nested table;"Fixes 
Solution by Hintzmann in comment.

Demo httpscodepen.ioffooddpenqBrWrGp
Comment the single CSS line out and hover the nested table to reproduce initial bug.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add border width utility;"I added borderwidth utility. it was a request 
Example
div classborder borderprimary borderwidthHello worlddiv

div classborder borderprimary borderwidthHello worlddiv
Fixes 
Demo httpsdeploypreviewtwbsbootstrap.netlify.appdocs.utilitiesbordersborderwidth";0
633;Bump hugobin from .. to ..;"Bumps hugobin from .. to ...

Commits

ee ..
bc Update Hugo to v...
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Give more priority to .dnone;"So we don't have to remove already assigned d class to hide the element.
Fixes";0
634;Bump babelpresetenv from .. to ..;"Bumps babelpresetenv from .. to ...

Changelog
Sourced from babelpresetenv's changelog.

v.. 
 Bug Fix

babelparser

 Parse static blocks with typescript plugin sosukesuzuki


babelplugintransformblockscoping

 Fix plugintransformblockscoping const violations overlookmotel


babelgenerator babelparser

 Parse for await async of ... Zalathar


babelhelpercreateclassfeaturesplugin

 fix Typo in babelhelpercreateclassfeaturesplugin aancerrca



 Documentation

babeltypes

 Add alias docs for babeltypes JLHwung



 Internal

babelparser

 Don't use composite true in tsc until it supports cycles nicoloribaudo
 chore remove duplicated test parser tests JLHwung


babelpluginproposalexportnamespacefrom babelpluginsyntaxmodulestringnames babelplugintransformmodulesamd babelplugintransformmodulescommonjs babelplugintransformmodulessystemjs babelplugintransformmodulesumd

 Archive babelpluginsyntaxmodulestringnames nicoloribaudo


babelcore babelpluginproposalclassproperties babelpluginproposalclassstaticblock babelpluginproposalprivatemethods babelpluginproposalprivatepropertyinobject babelpluginsyntaxclassproperties babelplugintransformflowcomments babelplugintransformflowstriptypes babelplugintransformmodulescommonjs babelplugintransformtypescript babelplugintransformunicodeescapes babelpresetenv babelstandalone

 Archive babelpluginsyntaxclassproperties nicoloribaudo






Commits

ecc v..
bf Archive babelpluginsyntaxclassproperties 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove 'both' as its no longer just breakpoints;now that XXL is added it makes sense to remove the word 'both' here.;0
635;Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Features

Warn about ambiguous imports from combined external namespace reexports 
In case of combined namespace reexports always prefer local exports over external namespaces 
Treat conflicting names in local namespace reexports as undefined 

Pull Requests

 Prefer locally defined exports and reexports over external namespaces lukastaegert




Changelog
Sourced from rollup's changelog.

..

Features

Warn about ambiguous imports from combined external namespace reexports 
In case of combined namespace reexports always prefer local exports over external namespaces 
Treat conflicting names in local namespace reexports as undefined 

Pull Requests

 Prefer locally defined exports and reexports over external namespaces lukastaegert




Commits

ccdb ..
dbf Update changelog
ec Prefer locally defined exports and reexports over external namespaces 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
 Bug Fix

babelparser

 rescan gtlt token after TsAsExpression is parsed JLHwung


babelcore

 Do not cache nonexistent config files forever devongovett


babelplugintransformblockscoping babelstandalone

 fix ensure àmap.keys can be correctly transformed in loose mode JLHwung



 Documentation

 docs remove experimental warning on README JLHwung

 Internal

babelparser

 Parser refactoring JLHwung


Other

 Update babel deps JLHwung



Committers 

Devon Govett devongovett
Hußng J?nli?ng JLHwung




Changelog
Sourced from babelcore's changelog.

v.. 
 Bug Fix

babelparser

 rescan gtlt token after TsAsExpression is parsed JLHwung


babelcore

 Do not cache nonexistent config files forever devongovett


babelplugintransformblockscoping babelstandalone

 fix ensure àmap.keys can be correctly transformed in loose mode JLHwung



 Documentation

 docs remove experimental warning on README JLHwung

 Internal

babelparser

 Parser refactoring JLHwung


Other

 Update babel deps JLHwung






Commits

ae v..
cf Do not cache nonexistent files forever 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
636;Tweak toast docs;"a few rewordingstweaks
add info about toasts with focusableactionable controls shouldn't autohide them";Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Bug Fixes

Fix an issue where dynamically importing an entry point could return a malformed namespace for CJS and AMD formats 

Pull Requests

 Properly construct namespace when dynamically importing chunks with facades in default export mode lukastaegert




Changelog
Sourced from rollup's changelog.

..

Bug Fixes

Fix an issue where dynamically importing an entry point could return a malformed namespace for CJS and AMD formats 

Pull Requests

 Properly construct namespace when dynamically importing chunks with facades in default export mode lukastaegert




Commits

 ..
cfe Update changelog
cbc Properly construct namespace when dynamically importing chunks with facades i...
cdfcf Acknowledge that the input option is conditionally required 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
637;vdev backports and updates;"TODO

 See if nodesass releases a new version fixing Node.js support otherwise decide how to proceed

sassnodesass
sassnodesass


 See if the stylelint error is fixed and update dependencies again and drop the temp patch

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update currentrubyversion to ...alpha;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
638;Bump hugobin from .. to ..;"Bumps hugobin from .. to ...

Commits

befc ..
e Update Hugo to v...
fa Update eslint to v..
f README.md remove broken links
bfbb Travis CI Add Node.js 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add v.. docs;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
639;Update devDependencies;"babelcore .. ..
babelpresetenv .. ..
stylelintconfigtwbsbootstrap .. ..";Remove flex from rows;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
640;Bump stylelint from .. to ..;"Bumps stylelint from .. to ...

Release notes
Sourced from stylelint's releases.

..

Fixed invalid JSON for maxwarnings option .
Fixed noinvalidpositionatimportrule false positives for dollar variables .




Changelog
Sourced from stylelint's changelog.

..

Fixed invalid JSON for maxwarnings option .
Fixed noinvalidpositionatimportrule false positives for dollar variables .




Commits

b ..
ef Prepare ..
dae Update deps
feba Update CHANGELOG.md
fde Fix invalid json for max warnings option 
eb Fix false positives for dollar variables in noinvalidpositionatimportrul...
cfae Refactor libtestsstandalonefix.test.js 
c Add test against Node.js 
c Refactor cli.test.js 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Prepare v...;I'll update this branch after the patches are merged;0
641;Bump cleancsscli from .. to ..;"Bumps cleancsscli from .. to ...

Changelog
Sourced from cleancsscli's changelog.

.. 

Fixed issue source maps rebasing and batch processing.
Fixed issue batch processing with output path.




Commits

bcefc Fixes changelog diff.
fed Version ...
aeea See fixes invalid rebasing when output is a directory.
b See source maps not being built in batch mode.
fafed Fixes batch processing with output path.
eacb Version ...
d Bumps cleancss dependency to version ...
fcca Version ...
cce Bumps cleancss dependency to version ...
aff Adds more batchsuffix docs.
Additional commits viewable in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";docs Fix issue number typo in migration;Fixes the extra in the issue number;0
642;Bump rollup from .. to ..;"Bumps rollup from .. to ...

Release notes
Sourced from rollup's releases.

v..

Features

Add option to disable file name sanitation 
Add information about importers to unused external import warning 

Pull Requests

 Use Github actions only lukastaegert
 Fix REPL artefact branch reference lukastaegert
 Use codecov action for coverage lukastaegert
 Add to UNUSEDEXTERNALIMPORT warning information about the origin of the problem cawa
 Add sanitizeFileName option guybedford




Changelog
Sourced from rollup's changelog.

..

Features

Add option to disable file name sanitation 
Add information about importers to unused external import warning 

Pull Requests

 Use Github actions only lukastaegert
 Fix REPL artefact branch reference lukastaegert
 Use codecov action for coverage lukastaegert
 Add to UNUSEDEXTERNALIMPORT warning information about the origin of the problem cawa
 Add sanitizeFileName option guybedford




Commits

fd ..
ea Update changelog
eafc Add sanitizeFileName option 
cabe Add to UNUSEDEXTERNALIMPORT warning information about the origin of the p...
aaba Use codecov action for coverage 
efc Fix REPL artefact branch reference 
f Use Github actions only 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Remove flex from rows;"Looking some recent grid changes I think the best option is to revert the latest tweaks and make some isolated improvements rather than the global row and container changes.
Here's a rundown of what got us to today

Shipped responsive containers in and w v...
Added minwidth to .col to prevent some broken columns in which closed .
Shipped to fix which reverted the above minwidth change.
Shipped to fix which added flex to .rows so they didn't shrink if the parent was a flex container. This problem stemmed from v.. where navbar container was changed due to responsive containers. This caused .
Shipped to dedupe our container classes in our generated CSS which also removed a mixin instead of deprecating it. This was a breaking change.

We've already removed the minwidth in v.. so that's covered. The last step is to undo the flex on .rows and get us back to our stable grid in v. This is causing the problem reported in . Unsetting flex fixes the issue so that's why this PR removes the line entirely.
The workaround for the pre element in the columns is to add minwidth to help flex layout shrink past the content's size. This is documented at httpsstackoverflow.comquestionswhydontflexitemsshrinkpastcontentsize. There's also a demo of this in the CodePen below.
 restores the makecontainermaxwidths mixin fixing our backward compatibility issue.
Adding .flexfill to the .row in our navbars fixes the issue with the row not taking up the full width of the parent container that has display flex. This addresses properly. We could add custom styles to the navbar's rows but that just sounds like it'd perpetuate the issue here.
This demos hows all issues and changes at httpscodepen.ioemdeohpenLYNYmPReditors.
Fixes closes .

My plan is to have us ship a v.. to fix the breaking change in and this PR to undo the grid changes and restabilize v's grid system.";0
643;Bump sass from .. to ..;"Bumps sass from .. to ...

Release notes
Sourced from sass's releases.

Dart Sass ..
To install Sass .. download one of the packages below and add it to your PATH or see the Sass website for full installation instructions.
Changes

Fix a bug that disallowed more than one module from extending the same selector from a module if that selector itself extended a selector from another upstream module.

See the full changelog for changes in earlier releases.



Changelog
Sourced from sass's changelog.

..

Fix a bug that disallowed more than one module from extending the same
selector from a module if that selector itself extended a selector from
another upstream module.




Commits

ede Fix extending selectors across multiple modules. 
a Fix inverted changelog lines 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Restore and deprecate makecontainermaxwidths mixin;"We removed this to dedupe our grid containers in our compiled CSS see and I wasn't thinking when reviewing that it'd be a breaking change. We're sticking with not using the mixin but adding the mixin back for others to use.
We may need to add a deprecation notice to it as well.
Fixes fixes";0
644;Update links to CCA MQ prefersreducedmotion evergreen WCAG urls;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";make breakpoints specifications consistent with layoutgrid.md;px could also be misinterpreted as up to px included;0
645;Docs adding intro about web accessibility;"Adding an introduction to web accessibility in the documentation related to educational reasons.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Mention that Edge Legacy also supports 'filling' their track;"Edge Legacy supports filling their track by default.
Example httpscodepen.iocoliffpenVwaZgVZ

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
646;Add new team members to the Teams page;No description provided.;Bump babelpresetenv from .. to ..;"Bumps babelpresetenv from .. to ...

Release notes
Sourced from babelpresetenv's releases.

v.. 
Thanks coderaiser cwohlman morrme ryzokuken SirWindfield szcoder and vahnag for their first PRs
 Spec Compliance

babelparser

 fix disallow \ \ in strict mode string JLHwung
 fix allow . and e in sloppy mode JLHwung


babelpluginproposaloptionalchaining

 fix eval. is indirect JLHwung



 New Feature

babelcli babelcore

 add showConfig support JLHwung


babelcompatdata babelpresetenv

 enable logical assignment in babel preset env morrme
 Add numericseparator to presetenv JLHwung
 Add exportnamespacefrom to presetenv JLHwung


babelparser

 feat enable numericSeparator parsing support JLHwung
 Allow unknownany in TS catch clause param existentialism
 TypeScript . Allow spread in the middle of tuples nicoloribaudo
 eslintparser ES features JLHwung


babelgenerator babelparser babeltypes

 TypeScript . Support labeled tuple elements nicoloribaudo


babelcore babelgenerator babelparser babelpluginsyntaxdecimal babelstandalone babeltypes

 Add decimal parsing support JLHwung


babelcore

 Add cloneInputAst option to babel.transformFromAst coderaiser



 Bug Fix

Other

 update hardcode babeleslintparser min supported version check kaicataldo


babelhelperskiptransparentexpressionwrappers babelpluginproposaloptionalchaining babelplugintransformspread

 Skip TSAsExpression when transforming spread in CallExpression oliverdunk


babelhelpermemberexpressiontofunctions babelpluginproposalclassproperties babelpluginproposallogicalassignmentoperators

 add support for logical assignments with private properties ryzokuken


babelplugintransformtypescript

 Typescript always strip declare from class fields jamescdavis


babelplugintransformruntime

 Fix incorrect module path when absoluteRuntime is specified szcoder


babelparser

 Correctly check reserved word for PropertyDefinition IdentifierReference JLHwung
 fix correctly set innerEndPos in CoverParenthesizedExpressionAndArrowParameterList JLHwung


babelgenerator babelparser babelplugintransformtypescript

 Followup on initial TS catch param support JLHwung


babelgenerator

 Always retain lines for async arrow cwohlman



 Polish

babeltraverse





Changelog
Sourced from babelpresetenv's changelog.

v.. 
 Spec Compliance

babelparser

 fix disallow \ \ in strict mode string JLHwung
 fix allow . and e in sloppy mode JLHwung


babelpluginproposaloptionalchaining

 fix eval. is indirect JLHwung



 New Feature

babelcli babelcore

 add showConfig support JLHwung


babelcompatdata babelpresetenv

 enable logical assignment in babel preset env morrme
 Add numericseparator to presetenv JLHwung
 Add exportnamespacefrom to presetenv JLHwung


babelparser

 feat enable numericSeparator parsing support JLHwung
 Allow unknownany in TS catch clause param existentialism
 TypeScript . Allow spread in the middle of tuples nicoloribaudo
 eslintparser ES features JLHwung


babelgenerator babelparser babeltypes

 TypeScript . Support labeled tuple elements nicoloribaudo


babelcore babelgenerator babelparser babelpluginsyntaxdecimal babelstandalone babeltypes

 Add decimal parsing support JLHwung


babelcore

 Add cloneInputAst option to babel.transformFromAst coderaiser



 Bug Fix

Other

 update hardcode babeleslintparser min supported version check kaicataldo


babelhelperskiptransparentexpressionwrappers babelpluginproposaloptionalchaining babelplugintransformspread

 Skip TSAsExpression when transforming spread in CallExpression oliverdunk


babelhelpermemberexpressiontofunctions babelpluginproposalclassproperties babelpluginproposallogicalassignmentoperators

 add support for logical assignments with private properties ryzokuken


babelplugintransformtypescript

 Typescript always strip declare from class fields jamescdavis


babelplugintransformruntime

 Fix incorrect module path when absoluteRuntime is specified szcoder


babelparser

 Correctly check reserved word for PropertyDefinition IdentifierReference JLHwung
 fix correctly set innerEndPos in CoverParenthesizedExpressionAndArrowParameterList JLHwung


babelgenerator babelparser babelplugintransformtypescript

 Followup on initial TS catch param support JLHwung


babelgenerator

 Always retain lines for async arrow cwohlman



 Polish

babeltraverse

 babeltraverse prefer clearer reducedbias option naming jayaddison







Commits

fdb v..
fe enable logical assignment in babel preset env 
ccdf Add numericseparator to presetenv 
cdbd Add exportnamespacefrom to presetenv 
beb refactor replace caniusedb by mdnbrowsercompatdata 
fea chore fix typo in codebase 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
647;Improve overall new examples' accessibility;"Small tweaks caught by Pay on Boosted. Mostly

ensuring having main and h on each page
a few input missing a label
some redundant alt on img inside a link
contents not wrapped in a landmark.

I ignore some other errors since they're not applicable for such snippets IMHO several banner roles instead of one for example.
Nonwhitespace diff httpsgithub.comtwbsbootstrappullfilesw";Bump babelcore from .. to ..;"Bumps babelcore from .. to ...

Release notes
Sourced from babelcore's releases.

v.. 
Thanks coderaiser cwohlman morrme ryzokuken SirWindfield szcoder and vahnag for their first PRs
 Spec Compliance

babelparser

 fix disallow \ \ in strict mode string JLHwung
 fix allow . and e in sloppy mode JLHwung


babelpluginproposaloptionalchaining

 fix eval. is indirect JLHwung



 New Feature

babelcli babelcore

 add showConfig support JLHwung


babelcompatdata babelpresetenv

 enable logical assignment in babel preset env morrme
 Add numericseparator to presetenv JLHwung
 Add exportnamespacefrom to presetenv JLHwung


babelparser

 feat enable numericSeparator parsing support JLHwung
 Allow unknownany in TS catch clause param existentialism
 TypeScript . Allow spread in the middle of tuples nicoloribaudo
 eslintparser ES features JLHwung


babelgenerator babelparser babeltypes

 TypeScript . Support labeled tuple elements nicoloribaudo


babelcore babelgenerator babelparser babelpluginsyntaxdecimal babelstandalone babeltypes

 Add decimal parsing support JLHwung


babelcore

 Add cloneInputAst option to babel.transformFromAst coderaiser



 Bug Fix

Other

 update hardcode babeleslintparser min supported version check kaicataldo


babelhelperskiptransparentexpressionwrappers babelpluginproposaloptionalchaining babelplugintransformspread

 Skip TSAsExpression when transforming spread in CallExpression oliverdunk


babelhelpermemberexpressiontofunctions babelpluginproposalclassproperties babelpluginproposallogicalassignmentoperators

 add support for logical assignments with private properties ryzokuken


babelplugintransformtypescript

 Typescript always strip declare from class fields jamescdavis


babelplugintransformruntime

 Fix incorrect module path when absoluteRuntime is specified szcoder


babelparser

 Correctly check reserved word for PropertyDefinition IdentifierReference JLHwung
 fix correctly set innerEndPos in CoverParenthesizedExpressionAndArrowParameterList JLHwung


babelgenerator babelparser babelplugintransformtypescript

 Followup on initial TS catch param support JLHwung


babelgenerator

 Always retain lines for async arrow cwohlman



 Polish

babeltraverse





Changelog
Sourced from babelcore's changelog.

v.. 
 Spec Compliance

babelparser

 fix disallow \ \ in strict mode string JLHwung
 fix allow . and e in sloppy mode JLHwung


babelpluginproposaloptionalchaining

 fix eval. is indirect JLHwung



 New Feature

babelcli babelcore

 add showConfig support JLHwung


babelcompatdata babelpresetenv

 enable logical assignment in babel preset env morrme
 Add numericseparator to presetenv JLHwung
 Add exportnamespacefrom to presetenv JLHwung


babelparser

 feat enable numericSeparator parsing support JLHwung
 Allow unknownany in TS catch clause param existentialism
 TypeScript . Allow spread in the middle of tuples nicoloribaudo
 eslintparser ES features JLHwung


babelgenerator babelparser babeltypes

 TypeScript . Support labeled tuple elements nicoloribaudo


babelcore babelgenerator babelparser babelpluginsyntaxdecimal babelstandalone babeltypes

 Add decimal parsing support JLHwung


babelcore

 Add cloneInputAst option to babel.transformFromAst coderaiser



 Bug Fix

Other

 update hardcode babeleslintparser min supported version check kaicataldo


babelhelperskiptransparentexpressionwrappers babelpluginproposaloptionalchaining babelplugintransformspread

 Skip TSAsExpression when transforming spread in CallExpression oliverdunk


babelhelpermemberexpressiontofunctions babelpluginproposalclassproperties babelpluginproposallogicalassignmentoperators

 add support for logical assignments with private properties ryzokuken


babelplugintransformtypescript

 Typescript always strip declare from class fields jamescdavis


babelplugintransformruntime

 Fix incorrect module path when absoluteRuntime is specified szcoder


babelparser

 Correctly check reserved word for PropertyDefinition IdentifierReference JLHwung
 fix correctly set innerEndPos in CoverParenthesizedExpressionAndArrowParameterList JLHwung


babelgenerator babelparser babelplugintransformtypescript

 Followup on initial TS catch param support JLHwung


babelgenerator

 Always retain lines for async arrow cwohlman



 Polish

babeltraverse

 babeltraverse prefer clearer reducedbias option naming jayaddison







Commits

fdb v..
a add showConfig support 
baf Enable logical assignment by default in babelparser 
e Add decimal parsing support 
cfa feature babelcore add cloneInputAst 
fea chore fix typo in codebase 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
648;Tooltip ù doc updates;"Based on ffcd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump autoprefixer from .. to ..;"Bumps autoprefixer from .. to ...

Release notes
Sourced from autoprefixer's releases.

..

Fixed env option.




Changelog
Sourced from autoprefixer's changelog.

..

Fixed env option.




Commits

faad Release .. version
bc Update dependencies
a Clean up code
becd Normalize CHANGELOG.md
cf Change log fix for v.. 
See full diff in compare view




You can trigger a rebase of this PR by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";0
649;Update cmake readme;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix cmake android prebuilt libcpufeatures path error;"fix tested by rh and me
Related discuss
httpsdiscuss.cocosdx.orgtcmakeandroidprebuildcpufeaturesmissing
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
650;Fixed bug size does not change when the screen is rotated in v;"in forum discuss
httpsdiscuss.cocosdx.orgtincocosdxvthescreenbecomeshalfsizewhenyouchangethedevicefromportraittolandscape
background

After updating cocosdx from v to v there was a bug that the screen was not drawn properly when the screen orientation of the device was changed

As I posted in the forum I solved the problem by regenerating the CCEAGLView but there was a problem with the drawing so I had to do a root solution



Cause of the problem
It turns out that the cause of the problem is that the layer of CCEAGLView is CAMetalLayer and CAMetalLayer.drawableSize is not updated when CCEAGLView.layoutSubView is used.
Revision details
Fixed to resize CAMetalLayer on CCEAGLView layoutSubviews.
related issues



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci skipAUTO updating luabinding jsbinding cocosfile.json automatically;No description provided.;0
651;bugfix iOS compile error;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update CHANGELOG;Just corrected little mistakes;0
652;Fix Crash on Android when HttpResponse did not return OK;No description provided.;CMake let app resource path visible when executing cmake .. on win;fix;0
653;Fix template CMakeLists.txt so correct Info.plist is used.;"This small fix means that Xcode points to the correct Info.plist file within the source tree and not in the intermediate folder.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";sync . to v;please merge minggo;0
654;Update AudioMacros.h;"Fix to compile with Visual Studio .
Ricardo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add methods to change window icons on windows and linux;"After some research I found function glfwSetWindowIcon to set window icons.
Pros

We can finally set window icon on linux
We can provide few different icons for different resolutions and let GLFW select best one.

Cons

It works only for windows and linux refer to httpwww.glfw.orgdocslatestgroupwindow.html.

Question is tests required If yes I probably need some help with it.";0
655;Setup precompiled header for all platforms;No description provided.;sync Chinese release notes with English improvements;related with;0
656;bugfix Android DevicegetDPI v;ref cocoscreatordtasks;modify for release;"corrections to RELEASENOTES.MD
corrections to CMake documentation";0
657;Add custom programs to ProgramCache;"Store and retrieve custom userdefined programs in ProgramCache.
This feature was in v but not present in v.";update root Readme;No description provided.;0
658;Fix incorrect rendering of tilemaps with csv data on windows;"Each tilemap row would be shifted to the right a certain number of tiles.
When saving Tiled maps with data in CSV format it is saved like this
data encodingcsv










data

When reading each line there is a carriage return at the beginning which in windows is '\r\n'.
Because of how each line is parsed the '\r' at the beginning of each line would be parsed as a tile id.
On windows we must remove all '\r' from the parsed string.
I had talked about the issue here httpsdiscuss.cocosdx.orgtcocosdxvreleasedubolin";fix sqlite link on iOS platform;No description provided.;0
659;Reference Creator in the main page;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docs update for . release ChangeLog and ReleaseNotes;No description provided.;0
660;remove experimental;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci skipAUTO updating luabinding jsbinding cocosfile.json automatically;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
661;fix crash issue due to the uninitialized;"ref issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix cmake use sqlite error on macOS;"SQLite on macOS platforms is only used by LocalStorage.h
see comments
 Local Storage support for the JS Bindings.

 Initializes the database. If path is null it will create an inmemory DB. 
void CCDLL localStorageInit const stdstring fullpath 

only cocosdjs libs need to depend Sqlite not cocosd core libs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
662;fix drawnode line width issue;"ref issue
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci skipAUTO updating luabinding jsbinding cocosfile.json automatically;No description provided.;0
663;fix memory leak issue;ref here.;fix reorder warning;"It's just a fix for the reorder warnings so the CLion build on macOS will be more warnings free.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
664;ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.;refactor cmake copy res fix;"Using configurefileinput output COPYONLY to copy res files instead of custom command.
fix 
Refer to
httpsstackoverflow.comquestionscmakecopyfilefromsourcedirectorytobinarydirectory

Unlike fileCOPY ... it creates a filelevel dependency between input and output that is
If the input file is modified the build system will rerun CMake to reconfigure the file and generate the build system again.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
665;bugfix set CFBundleExectuable in template info.plist;"fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";correct iOS project config when using CMake GXcode generate . round test;"fix cmake generate iOS project default arch config run fail on iOS device

cmake cmd cmake .. GXcode DCMAKETOOLCHAINFILE..cmakeios.toolchain.cmake
httppunchbox.infoissues



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
666;fix memory leak;No description provided.;fix ios downloader progress bug;fix bugwhen downloader's http request didn't return ContentLength header downloader will return a negative progress value;0
667;ci skipAUTO updating luabinding cocosfile.json automatically;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";check android Gradle config for release mode;No description provided.;0
668;v spine v.;add examples;beauty cmake format reduce duplicate defines;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
669;bugfix fix potential incorrect attribute location;Use query result as attribute location argument;add download multi task test case;"related PR.

cocoscreatorenginenative
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
670;V uilayout scissorclipping fix;"This is a better fix for the scissor clipping issue in uiLayout with original code from including a very good test case that compares scissor clipping with stencil clipping.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix out of range access in Label;"Out of range accessing for stdvector occurred in some condition
when using Label with its getLetter member function.
LabelrecordPlaceholderInfo member function is called for
new line \n letter in LabelmultilineTextWrap
but the function doesn't set lettersInfoletterIndex.lineIndex.
But lineIndex is used in LabelupdateLabelLetters
even if letter is new line.
This change checks letterInfo.valid to avoid
accessing linesOffsetXletterInfo.lineIndex
for invalid i.e. NewLine letter.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
671;V uiLayout scissor clipping fix;"This fixes issue and is the same as what was already merged into V
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";check test cases and fix small bugs before . release;No description provided.;0
672;V bmfont improved api;Merged the code changes that were added in V regarding the BM Font API. This adds support for embedding BMFont atlases into a larger sprite atlas which also supports rotated images.;replace ptrfun with lambda avoid compile error;"fix issues 
refer to httpstackoverflow.coma
please merge minggo";0
673;bugfix set Info.plist path;"Info.plist template used by cmake is not set properly
introduced in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CMake avoid unsafe header path when crosscompiling;No description provided.;0
674;set gl framebuffer read and write back again;issue discuss here.;adjust android linux build config for cocos CLI;No description provided.;0
675;set xcode installation path to;No description provided.;ci skipAUTO updating luabinding jsbinding cocosfile.json automatically;No description provided.;0
676;removed old URLs I could not fine replaced with new URLS;"removed old URLs I could not fine replaced with new URLS
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";a commit about render texture destroy test cases revert it;"?Çª with global z order 
This reverts commit .
Seriously it causes awful crash issues. when running the NodeRenderTexture Touch the screen test case. on all the tests project include cpptests jstests luatests.";0
677;no need to convert to RGBA when it is DEFAULT;No description provided.;Fix link in README;"In the link webchat.freenode.net was deleted.
But it has not been completely deleted.
So I deleted the remaining links.";0
678;ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.;update web submodule for cocosdx .;"the main change of web submodule is upgrade spine to .. refer to cocosdcocosdhtml
meanwhile the submodule update will bring others bug fix out for web module.";0
679;ci skipupdate to v;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix NDK compile error for jstestsluatests on windows;"add bullet include dir to cocos mk
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
680;fix flicker of fast tilemap;No description provided.;updated README;corrected that we support Android Studio. Fixed language for CMake introduction and usage.;0
681;CI add cocos new for iOS;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support for nonbreaking characters in label;"Description
Add support for some Unicode characters used to prevent line breaks at their position.
A previous PR added support for nonbreaking space but that fix removed the character as a whitespace and could mess with other logic relaying on StringUtilsisUnicodeSpace including

LabelmultilineTextWrap
trimUTFVector from ccUTF
The test Unit Test N?? was broken.

Additional Info

httpsen.wikipedia.orgwikiSpacepunctuationSpacesinUnicode
httpsen.wikipedia.orgwikiNonbreakingspace
httpsen.wikipedia.orgwikiFigurespace
httpsen.wikipedia.orgwikiWordjoiner

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
682;ci skipAUTO updating luabinding cocosfile.json automatically;No description provided.;Don't count spaces at the end of line as part of the line width;"Currently the label text formatting counts the space used by the spaces at the end of a line as part of the line width. This makes the center and right alignment not to work properly.
The screenshots below show the Cocos test Node Label New API Clamp content Test Word Wrap with different alignments before and after this change.




Left
Center
Right




Original





Fixed";0
683;fix lua cmake template;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add uiLoadingBar support to Progress actions;"Just checked for the loading bar target and cast appropriately.
I made this edit in Github but the source edit was from my old fork that I can't get to merge in tankorsmashcocosdxmytrackeraacab";0
684;Fix isVariable method buffer overflow.;The safe size was calculated but not used maybe is a hand mistake.;Fix sqlite link errorCMake support iOS app Icon;"CMake support iOS app Icon
improve build on iOS Device
fix cmake sqlite link error

This should be merged before the . released.";0
685;Fix to properly delete easingParams array;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix issue;see issue;0
686;Fix to properly delete easingParams array;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci skipAUTO updating luabinding jsbinding cocosfile.json automatically;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
687;fix incorrect hash structure for RenderPipeline;A program may be release and its memory address will be allocated to another program result in getting incorrect renderpipelineState object.;Simplify CI scripts;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
688;Fix appvenyor CI;add cocos console to Path env;cmake add collect headers list unify the logic of source add;"When cmake compile sources we always add headers search by includedirectories to supply the header file search path so that when generated Xcode or VS project not include headers files. Of course we can add headers files in CMakeLists.txt to achieve this goal. But it's a little complex and need much time.

This PR finish this job add header list for cocosdx libs and app except external CMakeLists.txt


Unify the logic of source add for app like this

listAPPEND GAMEHEADER
 ClassesHelloWorldScene.h

listAPPEND GAMESOURCE
 ClassesHelloWorldScene.cpp


I think it's more friendly than the old way easy to use";0
689;use sprite to create editbox;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add cmake guide docs;"improve cmake docs add using the prebuilt libs docs
change the default iOS build target from i to make default value alway build success";0
690;Changed IRC references to Libera.Chat.;No description provided.;Refs Raised TypeValueError instead of using assert in django.core.;No description provided.;0
691;Fixed note about ISP caching in docs.;ISP caching is not possible under HTTPS. It look like this was accidentally changed in the bulk HTTP HTTPS findreplace in aabd.;Fixed Added note about DEBUGPROPAGATEEXCEPTIONS setting to middleware docs.;httpscode.djangoproject.comticket;0
692;Fixed Fixed altering BLOBTEXT field to nonnullable with default on MySQL ...;"Currently MySQL doesn't support altering blobtext columns with default values like
ALTER TABLE ... ALTER COLUMN ... SET DEFAULT ...
But it does support adding columns like
ALTER TABLE ... ADD COLUMN ... longtext DEFAULT '' NOT NULL
So it's better to skip such alter statement until MySQL fully support it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed Confirmed support for PROJ .X.;"ticket
Everything works with PROJ .. GDAL .. and GEOS .. on the main and stable..x branches.";0
693;Renamed object argument of ModelAdmin.logaddition logchange and logdeletion methods.;"Wasn't sure if this change needed a ticket since it's trivial I can open one if desired.
obj is used instead of object throughout django.contrib.admin since object shadows the builtin. This change just makes it consistent in the one place it wasn't.";Refs Raised ImproperlyConfigured instead of using assert in SessionStorage.;No description provided.;0
694;Fixed Used ISPOPUPVAR constant instead of hardcoded value.;No description provided.;Fixed Added links to BaseDetailViewBaseListView.get methods in CBV docs.;httpscode.djangoproject.comticket;0
695;Fixed Removed unused ORDERTYPEVAR.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed typo in docsrefchecks.txt.;"Refs httpscode.djangoproject.comticket
Adresses timgraham comment";0
696;Fixed typo in docsrefcontribadminindex.txt.;"There is no rawidadmin seems to be referring to rawidfields.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed Made View.asview do not use updatewrapper.;"Building on the discussions at 
The error was in the signature of the asview function. updatewrapper was adding self to the signature taking it from the dispatch method.
Manually removing self from the signature of asview fixes the issue as suggested in the thread above.";0
697;Fixed Removed for HTML attribute from ReadOnlyPasswordHashWidget.;"Fixes the 'for' attribute on the label element for ReadOnlyPasswordHashWidget.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated datum directory for PROJ in GIS install instructions.;"See OSGeoPROJdff.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
698;Fixed Corrected Model.getabsoluteurl example in docs.;Ticket .;Fixed Avoided Meta.ordering columns in GROUP BY clauses.;"This change continues ddbeb which removes Meta.ordering fields from ORDER BY but doesn't removes Meta.ordering from GROUP BY.
See also my comment httpscode.djangoproject.comticketcomment
Fixed httpscode.djangoproject.comticket";0
699;Fixed Made AdminSite.catchallview respect SCRIPTNAME.;No description provided.;Fixed Optimized DiscoverRunner.buildsuite by calling findtoplevel only if isdiscoverable is true.;httpscode.djangoproject.comticket;0
700;Fixed Fixed crash of Extract transform on OuterRef expressions.;No description provided.;Refs Added repr to Origin and Template.;"This adds an implementation for Origin.repr and it is part of ticket
Signedoffby Tiago Honorato tiagohonoratogmail.com";0
701;Fixed Started deprecation toward changing default USETZ to True.;No description provided.;Made GitHub action add welcome message only after opening PR.;"By default pullrequesttarget workflow runs when an activity type is opened synchronize or reopened.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
702;Fixed Started deprecation toward changing the default sitemap protocol to https.;httpscode.djangoproject.comticket;Refs Refs Made makemigrations always name initial migrations initial.;No description provided.;0
703;Fixed Prevented initialization of unused caches.;"Thanks Alexander Ebral for the report.
Regression in ecc.
ticket";Reduced nesting inside DiscoverRunner.buildsuite.;This is a trivial simplification of DiscoverRunner.buildsuite that I noticed.;0
704;Refs Cleaned up loaddata command.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refs Raised ValueError instead of using assert in lazy.;httpscode.djangoproject.comticket;0
705;Fixed Fixed migrations crash when adding namespaced spatial indexes on PostGIS.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added missing event argument to addEventListener call in actions.js.;"Very small change. Noticed that event.preventDefault was being called but the event listener function didn't have an event argument.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
706;Fixed Fixed filtering of querysets combined with the | operator.;"Address a long standing bug in a Where.add optimization to combine equal nodes that was surfaced by implementing equality for Lookup instances in bbfb.
Thanks Shaheed Haque for the report.";Fixed Improved naming of migrations with multiple operations.;"ticket
Supersedes";0
707;Fixed Caught OSError from colorama.init.;As per comment on ticket I'm not quite sure how or indeed whether to test this so any thoughts that aren't too horrible welcome.;Refs Improved assertQuerysetEqual warning message with stacklevel.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
708;Refs Corrected CVE release notes.;"See comment.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refs Raised ImproperlyConfigured instead of using assert in middlewares.;"httpscode.djangoproject.comticket
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
709;Fixed Fixed validation of startapp's directory with trailing slash.;"httpscode.djangoproject.comticket
Added a test that fails on master

The test passes after the fix is applied

Running start app with a trailing slash in the target dirname works";Removed unnecessary lines in testhasvieworchangepermissionrequired.;"AutocompleteJsonViewTests.user is already a staff member

 
 
 djangotestsadminviewstestautocompleteview.py
 
 
 Lines to 
 in
 dfc
 
 
 
 

 
 
 cls.user User.objects.createuser 
 

 
 
 username'user' password'secret' 
 

 
 
 email'userexample.com' isstaffTrue 
 

 
 
 
 
 
 


Noticed when checking .";0
710;Fixed Deprecated django.utils.datetimesafe module.;ticket;Fixed Delayed creating a test suite in buildsuite.;httpscode.djangoproject.comticket;0
711;Fixed Removed usage of deprecated 'db' and 'passwd' connection options in MySQL backend.;"ticket
The db and passwd connection arguments have been deprecated and database and password available since mysqlclient.. should be used instead.";Refs Added repr to MiddlewareMixin and subclasses.;ticket;0
712;Fixed Skipped system check for specifying type of autocreated primary keys on abstract models.;"ticket
System check was introduced in bed.";Fixed Fixed reordersuite with duplicates and reverseTrue.;httpscode.djangoproject.comticket;0
713;Fixed Updated datetime module usage to recommended approach.;"ticket
Supersedes .
I've split this into separate commits for replacement of each method .utcnow .utcfromtimestamp .utctimetuple with a few extra commits to handle documentation additional assertions etc. Hopefully this will make it easier to review.";Refs Raised TypeError instead of using assert on unsupported operations for sliced querysets.;ticket;0
714;Update BuildTools CoreClr CoreFx CoreSetup to rc servicing servicing servicing respectively release.;"cc dotnetmaestroreviewerscore
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Build the platforms package;"We need to add the platforms package to packages.build to build the final package
Rest of the work is already merged 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
715;release. Update buildtools version;"React to mastermain conversion.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";release. Update dependencies from dotnetarcade;"This pull request updates the following dependencies
From httpsgithub.comdotnetarcade

Subscription efaeaebddcddbc
Build .
Date Produced PM
Commit aacaeacaaafd
Branch refsheadsrelease.x


Updates

Microsoft.DotNet.XUnitExtensions from ..beta.. to ..beta..
Microsoft.DotNet.XUnitConsoleRunner from ..beta.. to ..beta..
Microsoft.DotNet.VersionTools.Tasks from ..beta.. to ..beta..
Microsoft.DotNet.ApiCompat from ..beta.. to ..beta..
Microsoft.DotNet.Arcade.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Configuration from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Feed from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Packaging from ..beta.. to ..beta..
Microsoft.DotNet.CodeAnalysis from ..beta.. to ..beta..
Microsoft.DotNet.CoreFxTesting from ..beta.. to ..beta..
Microsoft.DotNet.GenAPI from ..beta.. to ..beta..
Microsoft.DotNet.GenFacades from ..beta.. to ..beta..
Microsoft.DotNet.Helix.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.RemoteExecutor from ..beta.. to ..beta..";0
716;Merge .. internals;"Publish internal changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";release. Add Fedora RID;"podman run it registry.fedoraproject.orgfedorarawhide binbash c 'cat etcosrelease'
NAMEFedora
VERSION Container Image Prerelease
IDfedora
VERSIONID
VERSIONCODENAME
PLATFORMIDplatformf
PRETTYNAMEFedora Container Image Prerelease
ANSICOLOR
LOGOfedoralogoicon
CPENAMEcpeofedoraprojectfedora
HOMEURLhttpsfedoraproject.org
DOCUMENTATIONURLhttpsdocs.fedoraproject.orgenUSfedorarawhidesystemadministratorsguide
SUPPORTURLhttpsfedoraproject.orgwikiCommunicatingandgettinghelp
BUGREPORTURLhttpsbugzilla.redhat.com
REDHATBUGZILLAPRODUCTFedora
REDHATBUGZILLAPRODUCTVERSIONrawhide
REDHATSUPPORTPRODUCTFedora
REDHATSUPPORTPRODUCTVERSIONrawhide
PRIVACYPOLICYURLhttpsfedoraproject.orgwikiLegalPrivacyPolicy
VARIANTContainer Image
VARIANTIDcontainer

This is a backport of dotnetruntime.";0
717;Update branding to ..;"Prepare branch for .. release. After merge the servising branch is considered open.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";release. Add Fedora RID;"Fedora rawhide now uses the fedora.x RID
 podman run it registry.fedoraproject.orgfedorarawhide binbash c 'cat etcosrelease'
NAMEFedora
VERSION Container Image Prerelease
IDfedora
VERSIONID
VERSIONCODENAME
PLATFORMIDplatformf
PRETTYNAMEFedora Container Image Prerelease
ANSICOLOR
LOGOfedoralogoicon
CPENAMEcpeofedoraprojectfedora
HOMEURLhttpsfedoraproject.org
DOCUMENTATIONURLhttpsdocs.fedoraproject.orgenUSfedorarawhidesystemadministratorsguide
SUPPORTURLhttpsfedoraproject.orgwikiCommunicatingandgettinghelp
BUGREPORTURLhttpsbugzilla.redhat.com
REDHATBUGZILLAPRODUCTFedora
REDHATBUGZILLAPRODUCTVERSIONrawhide
REDHATSUPPORTPRODUCTFedora
REDHATSUPPORTPRODUCTVERSIONrawhide
PRIVACYPOLICYURLhttpsfedoraproject.orgwikiLegalPrivacyPolicy
VARIANTContainer Image
VARIANTIDcontainer

This is a backport of dotnetruntime.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
718;Update branding to ..;Prepare branch for .. release. After merge the servising branch is considered open.;Update CoreClr CoreFx CoreSetup to servicing servicing servicing respectively release.;cc dotnetmaestroreviewerscore;0
719;Port regex timeout fix test only change;"Port dotnetruntime which causes a hang on Linux.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";release. Update dependencies from dotnetarcade;"This pull request updates the following dependencies
From httpsgithub.comdotnetarcade

Subscription efaeaebddcddbc
Build .
Date Produced PM
Commit ddcaceaefbf
Branch refsheadsrelease.x


Updates

Microsoft.DotNet.XUnitExtensions from ..beta.. to ..beta..
Microsoft.DotNet.XUnitConsoleRunner from ..beta.. to ..beta..
Microsoft.DotNet.VersionTools.Tasks from ..beta.. to ..beta..
Microsoft.DotNet.ApiCompat from ..beta.. to ..beta..
Microsoft.DotNet.Arcade.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Configuration from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Feed from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Packaging from ..beta.. to ..beta..
Microsoft.DotNet.CodeAnalysis from ..beta.. to ..beta..
Microsoft.DotNet.CoreFxTesting from ..beta.. to ..beta..
Microsoft.DotNet.GenAPI from ..beta.. to ..beta..
Microsoft.DotNet.GenFacades from ..beta.. to ..beta..
Microsoft.DotNet.Helix.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.RemoteExecutor from ..beta.. to ..beta..



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
720;Release. Fix race condition issues between SinglePhaseCommit and TransactionEnded events;"Ports dotnetsqlclient to fix below issue in System.Data.SqlClient

dotnetsqlclient System.Data.SqlClient .. throws TransactionAbortedException the connection has been broken
Premier customer support Devdiv Ticket 

Summary
A race condition exists between Single Phase Commit and Transaction Ended as both are triggered externally by delegated SqlTransaction. With new changes to doom connection in Transaction Ended Event Commit started failing intermittently leading to this issue. Dooming connection is essential to prevent connection reuse that leads to security issues so that PR is valid and important.
But as a consequence Commit's inconsistent locking leads to this problem. Locking is essential in this part of code but in Single Phase Commit implementation late and split locking causes issues between Commit and Abort event handling leading to intermittent Transaction Aborted Exception.
This change in lock scope fixes the issue. It wasn't easily reproducible in Microsoft.Data.SqlClient but happens very often with System.Data.SqlClient .. due to slow performance. Making testcase more rigorous and forcing latency while debugging aided in reproducing this issue.
Customer Impact
 Critical Premier customer application is impacted due to this issue followed via Emails.
Regression
Yes Issue started occurring since System.Data.SqlClient v.. PR 
Testing
It's not possible to add test case for this behavior since it's a race condition scenario and is greatly influenced by MS DTC that manages delegated transaction completion.
Risk
Low This PR does not introduce any critical design changes but only makes changes in lock scope.
Issue has been verified by customers as well as with the repro apps available in issue 
cc danmoseley saurabh DavidEngel";update branding to ..;"merge
update branding
remove internal feed";0
721;Release. Fix wrong data blended with transactions in .NET Core;"Ports dotnetSqlClient to fix a critical issue that also exists in System.Data.SqlClient

Fixes SqlDataReader returns stale data

Summary
When working with delegated transactions completing a transaction with open resultset leads to data corruption in the connection instance that's sent back to connection pool. Because connection pooling is enabled by default it results in the pooled connection to contain stale data from old transaction.
This issue was identified in Microsoft.Data.SqlClient but was also traced back to System.Data.SqlClient oldest version in .NET Core.
Customer Impact
 Critical This issue causes data corruption and leads to customers reading data from old query.
Regression
No The issue exists since System.Data.SqlClient v..preview.
It was an error that occurred during port activity of System.Data.SqlClient Transaction support from .NET Framework.
Testing
Test has been added to cover the wrong data flow.
Risk
Low Fix matches the implementation with System.Data.SqlClient in .NET Framework and has been verified by various members of the community. It has also been released in Microsoft.Data.SqlClient v..preview.
cc danmoseley saurabh DavidEngel";Update branding to ..;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
722;release. Add CentOS RID and make CentOS arm as well;"Port Description
This is the only part of dotnetruntime that wasn't already backported to release..
httpswww.redhat.comenblogfaqcentosstreamupdates says

There will not be a CentOS Linux .
CentOS Stream will launch in Q as part of the RHEL development process.

That's my motivation I want to be able to build .NET Core . for RHEL 
The last part also means that the current parentchild relationship that we use for RHELCentOS in our RID graph will flip starting in . I dont see any immediate impact so I think we can leave it alone for now.
I got a currently internal build of CentOS Stream and etcosrelease looks like this
 cat etcosrelease
NAMECentOS Stream
VERSION
IDcentos
IDLIKErhel fedora
VERSIONID
PLATFORMIDplatformel
PRETTYNAMECentOS Stream 
ANSICOLOR
CPENAMEcpeocentoscentos
HOMEURLhttpscentos.org
BUGREPORTURLhttpsbugzilla.redhat.com
REDHATSUPPORTPRODUCTRed Hat Enterprise Linux 
REDHATSUPPORTPRODUCTVERSIONCentOS Stream

I have been told that builds of CentOS Stream should become public soon. I don't know exactly when though.
Customer Impact
This kind of blocks Red Hat from building .NET Core . on RHEL we can apply this patch locally but it's probably better for everyone if it's here upstream too.
Regression
This is not a regression.
Testing
I have tested that this RID update fixes the build issue for me.
Risk
The risk of this is pretty low it's just adding RIDs.";releaseuwp. NuGet Feed Update;"NuGet Feed Update
This pull request updates the usage of NuGet.org in cases where it is used in conjunction with other feeds.
Is this PR required
Generally yes. If the target branch is no longer in use and will not need to be built in the future please close this PR.
This PR is broken build what do I do
If packages are missing please tag 'dotnetdnceng' or 'mmitche' on this PR and note the missing packages.
If there are other unexpected failures please contact 'dotnetdnceng'.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
723;Update CoreClr CoreFx CoreSetup to servicing servicing servicing respectively release.;cc dotnetmaestroreviewerscore;releaseuwp. NuGet Feed Update;"NuGet Feed Update
This pull request updates the usage of NuGet.org in cases where it is used in conjunction with other feeds.
Is this PR required
Generally yes. If the target branch is no longer in use and will not need to be built in the future please close this PR.
This PR is broken build what do I do
If packages are missing please tag 'dotnetdnceng' or 'mmitche' on this PR and note the missing packages.
If there are other unexpected failures please contact 'dotnetdnceng'.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
724;merge of .. internals;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";releaseuwp. NuGet Feed Update;"NuGet Feed Update
This pull request updates the usage of NuGet.org in cases where it is used in conjunction with other feeds.
Is this PR required
Generally yes. If the target branch is no longer in use and will not need to be built in the future please close this PR.
This PR is broken build what do I do
If packages are missing please tag 'dotnetdnceng' or 'mmitche' on this PR and note the missing packages.
If there are other unexpected failures please contact 'dotnetdnceng'.";0
725;release. Update dependencies from dotnetarcade;"This pull request updates the following dependencies
From httpsgithub.comdotnetarcade

Subscription efaeaebddcddbc
Build .
Date Produced AM
Commit beefeddbfc
Branch refsheadsrelease.x


Updates

Microsoft.DotNet.XUnitExtensions from ..beta.. to ..beta..
Microsoft.DotNet.XUnitConsoleRunner from ..beta.. to ..beta..
Microsoft.DotNet.VersionTools.Tasks from ..beta.. to ..beta..
Microsoft.DotNet.ApiCompat from ..beta.. to ..beta..
Microsoft.DotNet.Arcade.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Configuration from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Feed from ..beta.. to ..beta..
Microsoft.DotNet.Build.Tasks.Packaging from ..beta.. to ..beta..
Microsoft.DotNet.CodeAnalysis from ..beta.. to ..beta..
Microsoft.DotNet.CoreFxTesting from ..beta.. to ..beta..
Microsoft.DotNet.GenAPI from ..beta.. to ..beta..
Microsoft.DotNet.GenFacades from ..beta.. to ..beta..
Microsoft.DotNet.Helix.Sdk from ..beta.. to ..beta..
Microsoft.DotNet.RemoteExecutor from ..beta.. to ..beta..



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";release. add Alpine . and Fedora to RID graph;No description provided.;0
726;Update branding to ..;No description provided.;release. add Alpine . RID;"packages.builds already seem to include platform package
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
727;Update branding to ..;No description provided.;correct system.numerics.tensors package version in package index and directoty.build.props;"The last released version for SNT is .. during that era
so correcting baseline version and stable version list
tested change locally by building the package. the package should be in nonshipping with a version suffix";0
728;Add suppressions for the hashes flagged by credscan;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";RID for Exherbo linux;"Hello 
I'm the maintainer of dotnetsourcebuild for the Exherbo linux distribution. I would like to have the RID in Corefx if possible.";0
729;. Add suppression for test key data;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Port graphics metafile refcount fix to avoid disposing the native image multiple times;"Ports dotnetruntime
Summary
Due to libgdiplus behavior we were disposing metafiles twice causing the app to crash. This adds a ref count to avoid disposing a metafile when a graphics instance still has a reference to it.
Customer Impact
Detected via tests.
Regression
No.
Testing
Unit tests.
Risk
Lowmedium. The fix just adds a ref count to the metafile and avoids disposing it if it is still referenced by a graphics object.
cc Anipik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
730;. Add suppression for test key data;No description provided.;Update CoreClr CoreFx CoreSetup to servicing servicing servicing respectively release.;cc dotnetmaestroreviewerscore;0
731;Last fix for credentials effort;"This fix is the last change to make the repo clean.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix package index;"It seems we have inconsistency in package index.
As an example I use System.Json package
httpsgithub.comdotnetcorefxblobrelease.pkgMicrosoft.Private.PackageBaselinepackageIndex.jsonL
 System.Json 
 StableVersions 
 ..
 ..
 ..
 ..
 
...
 AssemblyVersionInPackageVersion 
 ... ..
 ... ..
 ... ..
 ... ..
 
 
however in Json source there is
httpsgithub.comdotnetcorefxblobrelease.srcSystem.JsonDirectory.Build.props
Project
 Import Project..\Directory.Build.props 
 PropertyGroup
 AssemblyVersion...AssemblyVersion
 PackageVersion..PackageVersion
 StrongNameKeyIdOpenStrongNameKeyId
 PropertyGroup
Project
So I would expect there is inconsistency and StableVersions in package index should contains ... The proposed change is in this PR.
Also I expect there is inconsistency in AssemblyVersionInPackageVersion as the assembly version ... points to .. instead of .. but there I need a confirmation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
732;. Some overlooked credscan fixes;port of;Port graphics metafile refcount fix to avoid disposing the native image multiple times;"Ports dotnetruntime
Summary
Due to libgdiplus behavior we were disposing metafiles twice causing the app to crash. This adds a ref count to avoid disposing a metafile when a graphics instance still has a reference to it.
Customer Impact
Detected via tests.
Regression
No.
Testing
Unit tests.
Risk
Lowmedium. The fix just adds a ref count to the metafile and avoids disposing it if it is still referenced by a graphics object.
cc Anipik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
733;. Some overlooked credscan fixes;"aikjahoda this is needed in . . and main as well.
I'll let CI run this test..";Port Merge Internal Commits;"I accidentally squashmerged the last internal merge PR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
734;Add Xamarin placeholders for System.Memory package;"Ref dotnetruntime
Not really sure how to proceed with servicing OOB package from an ancient branch like this cc ViktorHofer.";release. Update buildtools to a version that doesn't reference myget;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
735;. Credscan followup;Follow up for;Build a new version of platforms package;Related change;0
736;. Credscan followup;Adds suppression messages.;Update branding to ..;No description provided.;0
737;BUGFIX lts Make hash object properties settable;"Makes all hash object properties settable but deprecates setting them. See glimmerjsglimmervm comment for more details.

This PRfix ended up not working out so we're not backporting
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add deprecation for RoutedisconnectOutlet;"Adds deprecation for RoutedisconnectOutlet. See RFC for more info.
I was initially going to ship the disconnectOutlet render and renderTemplate deprecations together in but the amount of tests which break and require a expectDeprecation is a bit overwhelming and taking longer than expected I've decided to break this one out instead.
id 'routedisconnectoutlet'
until '..'
url 'httpsdeprecations.emberjs.comv.xtocroutedisconnectoutlet'
for 'embersource'
since 
 enabled '..'
";0
738;BUGFIX release . deprecation metadata;"Dependent on emberlearndeprecationapp

Unify deprecation ids
Add missing url and since
Correctly reference emberlegacybuiltincomponents addon
Error instead for LinkTo href...";BUGFIX lts Makes user helper computation lazy instead of eager;"From .. the behavior of certain helpers was slightly different.
Essentially if we detected that the arguments to the helper were
constant we would eagerly run the helper to determine if it was
constant. If it was constant we would then not have to update the
helper.
This was a bit mistaken because as we realized later on when we fully
converted the VM to use autotracking we cannot eagerly detect if
arguments are constant in all cases. The solution was to have a system
which would convert cached values to be constant if no autotracked
values were detected during the first computation whenever that
occured.
Unfortunately in the affected versions helpers sometimes run eagerly
when previously they would not. This PR fixes that for user helpers
which could contain bugs if they ran eagerly when they previously
ran lazily.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
739;BUGFIX release Ensure embertesting is loaded lazily;"The recently modules API update means we are now loading real modules
not polyfills based on the global. This means that the modules
themselves are eagerly required rather than being references to a
value on the global. For example previously this
import registerWaiter from 'embertest'

if someCondition 
 registerWaiter 

Would become this
if someCondition 
 Ember.Test.registerWaiter 

In either example registerWaiter may or may not be called based on
the state of someCondition. However in the second case if
Ember.Test is not defined at all it's completely ok as long as
someCondition is false. It's never called so we never get an error
telling us Ember.Test is undefined.
Without the transform the module is eagerly required along with all of
its dependencies. If no one included embertesting then that means
it will throw an error immediately.
This PR makes the embertest module load embertesting lazily and
if it's not available e.g. in a production environment it replaces the
values with a function that throws a helpful error.
Fixes babelemberclibabel";BUGFIX release Avoid instantiation errors when approuter.js injects the router service.;"Related to my previous PR 
And issue 
rwjblue Since we talked about this with snewcomer recently maybe you can weigh in on this approach
The intention is to prevent an infinite recursion when servicerouter is invoked before routermain has a chance to be initialized and cached. This PR does it by making servicerouter more passive so that the responsibility of forwarding routeWillChange and routeDidChange events is handled by routermain as opposed to looking upand possibly instantiating routermain and listening to events on it from servicerouter. The active behavior of servicerouter instantiating routermain seems unexpected and doesn't appear to be required in any tests.
Specifically the servicerouter has been changed to only use routermain if it's already available and routermain now forwards those two route events to servicerouter if that service has been instantiated. That way there's no possibility of getting caught in a loop if servicerouter happens to be used during initialization of routermain which can happen unexpectedly when using a service from an addon that references servicerouter.
Definitely open to any kind of feedback.";0
740;Security Bump hostedgitinfo from .. to ..;"Bumps hostedgitinfo from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Regular Expression Denial of Service in hostedgitinfo
The npm package hostedgitinfo before .. are vulnerable to Regular Expression Denial of Service ReDoS via regular expression shortcutMatch in the fromUrl function in index.js. The affected regular expression exhibits polynomial worstcase time complexity
Affected versions ..



Changelog
Sourced from hostedgitinfo's changelog.

.. 
Bug Fixes

backport regex fix from adfe closes 


.. 
Bug Fixes

 addressing issues w url.URL implmentation which regressed node support b closes 


.. 
Bug Fixes

Do not attempt to use url.URL when unavailable dbb closes 
Do not pass scpstyle URLs to the WhatWG url.URL fcdfcf closes 


.. 

.. 
Bug Fixes

updated pathmatch for gitlab eb closes 
updated pathmatch for gitlab ffef


.. 


... truncated


Commits

db chorerelease ..
adfe fix backport regex fix from 
afeaefd chorerelease ..
b fix addressing issues w url.URL implmentation which regressed nod...
afa chorerelease ..
dbb fix Do not attempt to use url.URL when unavailable
fcdfcf fix Do not pass scpstyle URLs to the WhatWG url.URL
ebdf chorerelease ..
ffa Ensure passwords in hosted Git URLs are correctly escaped
fdf chorerelease ..
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by nlf a new releaser for hostedgitinfo since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Update ArrayProxy Documentation;"Makes it more clear what kinds of contents may be provided.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
741;Security Bump underscore from .. to ..;"Bumps underscore from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Arbitrary Code Execution in underscore
The package underscore from .. and before .. from .. and before .. are vulnerable to Arbitrary Code Execution via the template function particularly when a variable property is passed as an argument as it is not sanitized.
Affected versions .. ..



Commits

e Merge branch 'umdalias' tag .. release
f Add version .. to the change log
aab Update the bundle sizes
cda Bump the version to ..
cdab Add some build clarifications to the documentation 
bc Revert .gitignore underscore.js from aae fix 
a Update generated sources and tag .. release
dca Merge pull request from jgonggrijpprepare..
d Add version .. to the change log
efefbf Bump the version to ..
Additional commits viewable in compare view



Maintainer changes
This version was pushed to npm by jgonggrijp a new releaser for underscore since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";BUGFIX Ensure entries are properly defined on loader;"Ensures the registry field on Ember.loader is setup properly and
that the shim loader has entries defined on it correctly.";0
742;Security Bump lodash from .. to ..;"Bumps lodash from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Command Injection in lodash
lodash versions prior to .. are vulnerable to Command Injection via the template function.
Affected versions ..



Commits

fb Bump to v..
ceb Improve performance of toNumber trim and trimEnd on large input strings
 Prevent command injection through .template's variable option
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX lts Force building Ember bundles when targets.node is defined;"This is my first attempt at fixing the issue described in 
This does not follow pzuraq's recommendation in comment because it would essentially mean that the prebuilt dev bundle would have Node v as the lowest common denominator for all modern browser features which means that we will not be able to make use of native optional chaining until Node v is EOL in April and going forward this is likely going to cause the dev bundles to be a little bit behind constantly
Instead this is opting out of using the prebuilt bundle when you have node current or really anything listing node in your targets file. This will obviously make the build slower for anyone using fastboot but really we need to make a decision here because the current outofthe box fastboot experience is very broken since optional chaining was added to the ember.js codebase e.g. httpsgithub.comemberjsember.jsblobv..packagesemberinternalsruntimelibmixinsarray.jsL 
Let me know if you have any questions";0
743;Security Bump handlebars from .. to ..;"Bumps handlebars from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Remote code execution in handlebars when compiling templates
The package handlebars before .. are vulnerable to Remote Code Execution RCE when selecting certain compiling options to compile templates coming from an untrusted source.
Affected versions ..



Changelog
Sourced from handlebars's changelog.

v.. February th 

fix weird error in integration tests ebc
fix check prototype property access in strictmode bdde
fix escape property names in compat mode f
refactor In spec tests use expectTemplate over equals and shouldThrow f
chore start testing on Node.js and a

POSSIBLY BREAKING CHANGES

the changes from version .. now also apply
in when using the compileoption strict true. Access to prototype properties is forbidden completely by default specific properties or methods
can be allowed via runtimeoptions. See for details. If you are using Handlebars as documented you should not be accessing prototype properties
from your template anyway so the changes should not be a problem for you. Only the use of undocumented features can break your build.

That is why we only bump the patch version despite mentioning breaking changes.
Commits



Commits

aae v..
eaed Update release notes
dd disable IE in Saucelabs tests
ebc fix weird error in integration tests
bdde fix check prototype property access in strictmode 
f fix escape property names in compat mode 
f refator In spec tests use expectTemplate over equals and shouldThrow 
a chore start testing on Node.js and 
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX release Revert deprecation of htmlSafe and isHTMLSafe;Starts addressing .;0
744;DOC release fix passing params to named blocks examples;"I tried following the docs when first trying to pass parameters to named blocks.
Currently the docs state yield totitle person.name as being valid but this gave me an error.
I think the to needs to be the last argument so the examples should be yield person.name totitle";LTS fix only return empty href when LinkTo href generation throws error;"Summary
In .... we made changes to let LinkTo href generation returns
empty when initial transition is not started. This is not true and
causing regression on the superrental tutorial emberlearnsuperrentalstutorial.
In previous tutorials the LinkTo component will return empty href when
this.owner.setupRouter is not called. It generates valid href if
setupRouter is called and complete model are passed for dynamic
segments.
In our previous changes we removed the requirement to call
setupRouter and always return empty href when initial transition is
not started. This is not expected when passing complete dynamic segments
without initial transition.
Test done
I linked the fix and superrentalstutorials pass test";0
745;Bump fsextra from .. to ..;"Bumps fsextra from .. to ...

Changelog
Sourced from fsextra's changelog.

.. 

Add promise support for fs.rm 
Upgrade universalify for performance improvments 




Commits

 ..
dfc tests fix birthtime not available on tmpfs on Linux 
dcf Add promise support for fs.rm 
bffcd Upgrade universalify 
facaa Docs add fsecli to the README 
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";FEATURE modernizedbuiltincomponents Enable input event handlers;"Tracking issue 
More specifically this PR enables the input event handlers deprecations introduced in and fixes broken tests";0
746;Bump typesqunit from .. to ..;"Bumps typesqunit from .. to ...

Commits

See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Refactor the internal Ember loader to use the standard Ember CLI loader;"This PR refactors the internal Ember loader so that it uses the standard
Ember CLI loader instead for modules. This means that modules will be
defined in the main namespace and importable from there instead of in
a hidden namespace that only Ember can use.
Notes

Code is still loaded and built via treeForVendor and included as a
vendor file. This needs to be the case for the time being for
bootstrapping.
Loader code is still included for Node support. If define and
require are not already defined then a backup shim is used instead.
Modules are now exposed from Ember but emberclibabel still
transpiles them to global references. This unblocks us from being able
to make all modules work normally however.
require shim module is no longer defined we reference define and
require as globals instead which is more accurate. In the future
we should update this to use Embroider's conventions.
loader is still exposed on the Ember object referencing the same
values as before.";0
747;Fix types;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removes template ids;"Upgrades Glimmer VM removing template ids
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
748;BUGFIX release Makes the hash helper lazy;"Makes the hash helper's individual keys lazy so that they do not eagerly
incur costs. See this PR for more details glimmerjsglimmervm

This PRfix ended up not working out so we're not backporting
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX lts LinkTo with incomplete model failing in rendering tests;"LinkTo needs route context to allow omitting model from current active
route. Without the guard tests where LinkTo rendered in tests without
routing transition started will break. See 
Add failing test before the fix
While generating link to route dynamicWithChild.child can't access
property shouldSupercede newHandlerInfo is undefined";0
749;BUGFIX beta Remove Namespace processing;"Ember no longer uses Namespaces in the toString on classes so there's
no reason to eagerly process namespaces on application boot. This is
currently triggering the deprecation message in new Ember applications
on Beta so this removes it to prevent that.
Fixes part of .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecate passing input actions as strings;"Tracking issue 
Fixes input tests for passing actions to components as strings deprecation";0
750;BUGFIX beta DEPRECATION Deprecate foohelper;"Per RFC this commit deprecates the implicit invocation of argumentless helpers and requires explicit parenthesis if

Nonstrict mode AND
helper is a free variable not this.helper helper or
a local variable AND
No arguments are provided to the helper AND
It's in a component invocation's named argument position not
div idhelper or Foo barhelper AND
Not parenthesized not foohelper AND
Not interpolated not foohelper.

The cases in real apps where all of the above are true should be quite rare as most helpers take at least one argument.
This is probably not the most efficientminimal changes to the compiler infrastructure but I chose to optimize for making the change easier to removerollback i.e. adding new nodes instead of changing existing ones as we won't be needing this for very long.
This also bumps glimmer to latest which also brings in the bugfix commit glimmerjsglimmervm.";Use qunitdom in helper and component test blueprints;No description provided.;0
751;BUGFIX beta Allow passing a string literal to helper and modifier;"As per RFC 
However dynamic string values are currently disallowed per earlier framework team weekly meeting discussion to not make it harder for Embroider to heuristically analyze the dynamic usages.
Eventually we will want to do the same for components as well and this AST transform would work there too.";FEATURE modernizedbuiltincomponents Remaining implementation work;"Instead of hardcoding a list of events to bind copied from the EventDispatcher û which could be reopened and modified this refactor uses a modifier to dynamically read the list from the EventDispatcher at runtime instead.
Also switches the Textarea component to use the new implementation. Passes all existing tests.
Part of";0
752;Security Bump yn from .. to ..;"Bumps yn from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Prototype Pollution
Overview
The npm package yn before versions .. .. and .. is vulnerable to Prototype Pollution.
POC
const yn require'yn'
yn.setLocale'proto'
yn.updateLocalepolluted true
console.logpolluted true

Recommendation
Upgrade to version .. .. .. or later.
Affected versions ..



Changelog
Sourced from yn's changelog.

Change Log
All notable changes to this project will be documented in this file. See standardversion for commit guidelines.
.. 
Bug Fixes

address prototype pollution issue aac

.. 
Bug Fixes

exports node . and . require the dotted object form with a string fallback fd

.. 
Bug Fixes

exports node .. require a string fallback ee

.. 
Bug Fixes

deno update types for deno .. da

.. 
Bug Fixes

main had old index path fb

.. 
 BREAKING CHANGES

exports maps are now used which modifies import behavior.
drops Node and . begin following Node.js LTS schedule 

Features

add support for ESM and Deno dae



... truncated


Commits

See full diff in compare view



Maintainer changes
This version was pushed to npm by ossbot a new releaser for yn since your current version.



Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DEPRECATION Add Array Observers deprecation;"Adds the array observers deprecation specified in RFC httpsgithub.comemberjsrfcsblobmastertextdeprecatearrayobservers.md
Depends on";0
753;DOC Update loading action code example;Added a guard against undefined controller in the loading action documentation. Also updated syntax from using set to directly setting values. See issue for context.;FEATURE modernizedbuiltincomponents Implement input attrs deprecations;"Tracking issue 
More specifically this PR enables the attribute deprecations introduced in fixes broken tests and updates all test input invocations to use instead.";0
754;BUGFIX beta Export on from correct path;"on is a modifier and supposed to be exported from embermodifier
not emberhelper.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CLEANUP Refactor DataAdapter to not use observers or array observers;"The DataAdapter class is exposed specifically for the Ember Inspector to
support Ember Data. Currently the adapter relies on both array
observers and standard observers. This PR refactors the adapter to use
autotrackingbased methods for tracking changes instead with minimal
API churn.
The main change is to introduce a regular poll that checks for changes
after each backburner runloop. There are two types of polling done

TypeWatcher which checks to see if a record array has changed at
all e.g. contents have changed
RecordsWatcher which watches the array as a whole and the
individual records within it. Whenever any changes occur it
reiterates the records array and looks for new records updated
records and removed records and notifies of any changes.

This removes the need for both array observers and standard observers.
Standard observers were previously used to detect changes on the model
instances but now we autotrack serializing them and that
autotracking is used to detect if they've been updated.
 Breaking Changes

The recordsRemoved callback from watchRecords has changed. It now
receives an array of removed records not an index and count. On the
consuming side in Ember Inspector we'll have to update the code to
remove the items passed via id explicitly.
The observeRecord method has been removed. Because serializing the
object is observing it via autotracking there is no need to
manually observe it. Users who are still implementing this method
e.g. Ember Data can still keep it and it shouldn't cause issues it
just will no longer be called.";0
755;DOC Remove extra argument from associateDestroyableChild;According to implementation in httpsgithub.comglimmerjsglimmervmblobv..packagesglimmerdestroyableindex.tsL there are just two arguments parent and child;Fix typo in templateonlyglimmercomponents feature detection;"Fixes 
Fixes hjdivademberm";0
756;BUGFIX LTS move LinkTo assertion into a method so LinkToExternal can override;"Part one of a fix for . Once this lands I'll push a change in emberengines to override this method to just be a noop.
First affected ember version is .
Existing tests continue to pass.";ES property syntax in Location example;"Update API Location example to use ES syntax for the implementation property.
Continuation of comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
757;FEATURE Enable helper and modifier helpers;No description provided.;DEPRECATION Deprecate old class binding syntax and attrs;"Adds deprecations for the old class binding syntax and accessing args
via attrs.";0
758;BUGFIX release Exposes getTemplateLocals utility from Glimmer VM;"Exposes the getTemplateLocals utility from Glimmer VM so that it can
be used for strict mode template compilation.";Add hasBlock and hasBlockParams deprecation messages;"Adds a deprecation for hasBlock and hasBlockParams. RFC
key hasblockandhasblockparams taken from emberlearndeprecationapp
hasBlock is deprecated. Use hasblock instead.

hasBlockParams is deprecated. Use hasblockparams instead.

cc pzuraq";0
759;BUGFIX LTS Prevent transformation of block params called attrs;"This prevents the transformattrsintoargs transform plugin from transforming block params that are named attrs and are yielded by components.
The following snippet would render nothing before this change even though a value was yielded from the component template
Component as |attrs|attrsComponent
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DEPRECATION Deprecate Old Manager capabilities;Adds the deprecations for older manager capabilities versions.;0
760;Bug set symbol on factory objects only in Prod for sealed objects;"ref emberjsdata

 
 
 ember.jspackagesemberinternalsmetallibmixin.ts
 
 
 Line 
 in
 cdf
 
 
 
 

 
 
 Object.sealthis";DEPRECATION Adds deprecations for Classic edition and optional features;"Adds the deprecations outlined in RFC 
and RFC";0
761;BUGFIX release Prevent eager argument consumption on modifier destruction;"Upgrades the VM to include the fix for eager argument consumption on
modifier destruction.
Fixes on canary";Deprecate implicit this property lookup fallback;"Lands the deprecation proposed in emberjsrfcs
The noimplicitthis template linting rule has been enabled for Ember applications by default since around Ember . included in the octane preset.
This PR will take that a step further and issue a deprecation for templates that are still using foo to mean this.foo.
Note It does provide for an easy way to temporarily disable the deprecation messages e.g. to reduce console output to hone in on other issues. This is intended for sporadic usage while debugging not as a way to mitigate the deprecation the fallback behavior will be removed in ...";0
762;FEATURE Remove globals namespace based toString;"Removes the legacy toString behavior and replaces it with using the
factory forcontainer system for classes when possible and just
unknown when not.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX beta Update glimmervm to prevent errors for older inline precompilation;"This updates glimmervm to avoid emitting the scope property on precompiled template blocks when not using strict mode when using strict mode scope will either be null or a function.
This is specifically to work around a bug in older versions of babelpluginhtmlbarsinlineprecompile versions from v.. through v.. where they would incorrectly attempt to build an ObjectExpression when a null value is found in the template precompilation result D'oh.
Note those versions of babelpluginhtmlbarsinlineprecompile should still be migrated away from they are quite old and will definitely not work for newer features like strict mode.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
763;BUGFIX Rename private runloop functions;"We currently export a few private functions from emberrunloop for
packages like embertesthelpers. These functions are not public API
but need to be accessible for these core packages. Previously they were
exposed on the private APIs of the global run but now that we're
getting rid of the the modules transform these are now exposed directly
so underscoring them should help make users aware that they are not
meant for public consumption.";Bump broccolibabeltranspiler from .. to ..;"Bumps broccolibabeltranspiler from .. to ...

Release notes
Sourced from broccolibabeltranspiler's releases.

v..
 Enhancement

 Update to babelcore... rwjblue

Committers 

Robert Jackson rwjblue




Changelog
Sourced from broccolibabeltranspiler's changelog.

v.. 
 Enhancement

 Update to babelcore... rwjblue

Committers 

Robert Jackson rwjblue

v.. 
 Enhancement

 Update minimum babelcore version to ... rwjblue

 Documentation

 Fix typo in README kant

Committers 

Dar?o Here±· kant
Robert Jackson rwjblue

v.. 
 Enhancement

 feature adds heimdall monitor for logging information helpful for debugging babel process gabrielcsapo

Committers 

Gabriel Csapo gabrielcsapo

v.. 
 Enhancement

 Update the minimum Babel dependencies to . rwjblue

 Internal

 Add dependabot config file Turbo

Committers 

Robert Jackson rwjblue
Tobias Bieniek Turbo




Commits

ca ..
dbe Release v...
eb Merge pull request from babelupdatebabelcore
df Update to babelcore...
adccf ..
aab ..
f Add v.. to CHANGELOG.md.
ddd Merge pull request from babelupdateminimumbabelversion
dcdf Update minimum babelcore version to ...
f Merge pull request from kantpatch
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";0
764;BUGFIX Use getter for currentRunLoop;"The currentRunLoop property on the global run was a getter not a
value. I missed this when doing the conversion and it doesn't appear
that we had a test for the behavior of that property other than the
reexport test which I also changed mistakenly. This restores
the previous behavior which deprecating it.";Bump jquery from .. to ..;"Bumps jquery from .. to ...

Commits

ecffde ..
dce Release update AUTHORS.txt
eadd Tests Workaround failures in recent XSS tests in iOS 
eac Docs Fix typos
ae Tests Add tests for recently fixed manipulation XSS issues
cc Tests Cleanup window document handlers in a new event test
bac Tests Fix flakiness in the jQuery.ajax JSONP Same Domain test
ffede Docs Update the link to the jsdom repository
dd Build Test on Node.js stop testing on Node.js 
bd Build Enable reportUnusedDisableDirectives in ESLint
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
765;BUGFIX Restore nested paths on run and computed;"These values were previously nested on run and computed and were
accessible from the imported versions of those values due to the fact
that they transformed to be the same as globals. They were used by a few
different consumers but were not intended to be used this way.
This PR restores the previous behavior but also deprecates it.";BUGFIX release Remove nonexisting reexport from helperaddon blueprint;"The blueprint for an addon's apphelpersfoo.js contains a reexport of a named export of addonhelpersfoo.js which does not exist as it only has a default export.
FWIW Embroider is constantly complaining about this rightly.";0
766;FEATURE Add remaining Ember modules;"Adds all of the remaining Ember modules so that we can remove the
API polyfill. Also updates the tests for reexporting modules so they
are organized by exported module and also test reexporting the external
module and not any internal one.";BUGFIX beta Update VM fix component name preprocessing;No description provided.;0
767;Use positional and named as the argument names in ember g helper blueprint;More info.;Add url for with helper deprecation;"Follow up to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
768;Refactor router remove owner presence checks;"rwjblue This follows the discussion we had about this.
That way I think it removes a useless small mental overhead.
Also as it was a concern only in tests I think it's better.
Feedback welcome 
To go a little further I was wondering if the setupRout";CLEANUP Remove usages of property fallback lookup from tests;"Removes all usages of property fallback from tests except where the
tests are actually testing fallback lookup.
List of tests still containing property fallback

 Application test engine rendering sharing a template between engine and application has separate refinements 
 ambiguouscurlies
 
 Application test engine rendering sharing a layout between engine and application has separate refinements 
 ambiguouscurlies
 
 Application test rendering it can access the model provided by the route via implicit this fallback 
 model
 
 Application test rendering interior mutations on the model with set 
 model.color
 
 Application test rendering interior mutations on the model with tracked properties 
 model.color
 
 Application test rendering exterior mutations on the model with set 
 model
 
 Application test rendering exterior mutations on the model with tracked properties 
 model
 
 ClassNameBindings integration it can have class name bindings in the template 
 model.someInitiallyTrueProperty
 model.someInitiallyTrueProperty
 model.someInitiallyFalseProperty
 model.someInitiallyFalseProperty
 model.someInitiallyUndefinedProperty
 model.someInitiallyUndefinedProperty
 model.isBig
 model.isOpen
 model.isUp
 model.bar
 
 ClassNameBindings integration const bindings can be set as attrs foo
 ClassBinding integration it should merge classBinding with class 
 birdman
 
 ClassBinding integration it should apply classBinding with only truthy condition 
 myName
 
 ClassBinding integration it should apply classBinding with only falsy condition 
 myName
 
 ClassBinding integration it should apply nothing when classBinding is falsy but only supplies truthy class 
 myName
 
 ClassBinding integration it should apply nothing when classBinding is truthy but only supplies falsy class 
 myName
 
 ClassBinding integration it should apply classBinding with falsy condition 
 swag
 
 ClassBinding integration it should apply classBinding with truthy condition 
 swag
 
 Components test contextual components mutable params parameters in a contextual component are mutable when value is a hash value 
 component
 
 Components test curly components can use component.foo in a template GH 
 component.foo
 
 linkto component routing tests The linkto component supports 'classNameBindings' with custom values GH 
 foo
 
 Helpers test custom helpers it does not resolve helpers with a . period 
 hello.world
 
 Syntax test each with native arrays the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with native arrays the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with emberAwrapped arrays the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with emberAwrapped arrays the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with native Set the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with native Set the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with arraylike objects implementing forEach the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with arraylike objects implementing forEach the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with arraylike objects implementing Symbol.iterator the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with arraylike objects implementing Symbol.iterator the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with array proxies modifying itself the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with array proxies modifying itself the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with array proxies replacing its content the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with array proxies replacing its content the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with array proxies arrangedContent depends on external content the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with array proxies arrangedContent depends on external content the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test each with array proxies content is updated after init the scoped variable is not available outside the each block. 
 name
 name
 
 Syntax test each with array proxies content is updated after init the scoped variable is not available outside the each block 
 ring
 ring
 
 Syntax test let as the scoped variable is not available outside the let block. 
 name
 name
 
 Syntax test Multiple let as helpers the scoped variable is not available outside the let block 
 ring
 ring
 
 Syntax test Multiple let as helpers nested let blocks should have access to root context 
 name
 name
 name
 
 Syntax test with as the scoped variable is not available outside the with block. 
 name
 name
 
 Syntax test Multiple with as helpers the scoped variable is not available outside the with block 
 ring
 ring
 
 Syntax test Multiple with as helpers nested with blocks should have access to root context 
 name
 name
 name
 
";0
769;Add deprecation for the Ember Global;"Towards RFC 
Adds a deprecation for the Ember Global

 id 'emberglobal'
 until '..'
 url 'httpsdeprecations.emberjs.comv.xtocemberglobal'
 for 'embersource'
 since 
 enabled '..'
 

Can this PR be merged asis or do we need to wait for a new release of emberclibabel with babelemberclibabel";DEPRECATION Deprecates old browser support policy;Adds the deprecation specified in httpsgithub.comemberjsrfcsblobmastertextnewbrowsersupportpolicy.md;0
770;Prevent changelog script from erroring when the commitInfo object has;"no author value
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecation implicit injections;"Implements the implicit injections RFC
emberjsrfcs
maybe ref";0
771;Update current route in willChangeRoute during an intermediate transition;"Updated to follow rwjblue comment.
Fixes";update license to;No description provided.;0
772;Ensure query params are preserved through an intermediate loading state transition;"rwjblue rreckonerr I think I've reproduced a failing test that highlights .
Let me know if it's correct and not a 'false' failing. Then I don't know how to fix either it's in ember or in the router microlib.
Fixes 
 
 
";CLEANUP Some misc cleanup for the internal classes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
773;DOC Add rendered output of eachin helper;No description provided.;BUGFIX beta Ensure locals do not clobber components of the same name;"Updates glimmervm to include glimmerjsglimmervm.
Fixes";0
774;Setup git user in alpha publishing script.;The alpha publishing script failed due to running git commit without a user setup. This sets the git usernameemail and also updates to run Wednesdays I'm too lazy to wait a fully week P .;DOC Call super in Glimmer component willDestroy hook example;"It seems this is also automatically added when running eslint . fix. Adding it to the docs makes sense I think.
cc ijlee.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
775;BUGFIX beta Remove unnecessary module transform;"The injectNodeGlobals transform would detect usage of module and
transform it to be compatible with Node. Recently the VM was updated to
make this unnecessary and it turns out that the VM's more robust code
actually breaks when used with this transform.
The transform was removed in a much larger refactor on master which is
why it was not backported along with the other related fixeschanges.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC Correctly mark public linkto component named arguments;"Based on this RFC summary and this part of the API docs.
cc chancancode.";0
776;Add deprecation for Routerender method;"Adds deprecation for Routerender. See RFC for more info. This deprecation has the same idurl as RouterenderTemplate as they were part of the same RFC.
id 'routerendertemplate'
until '..'
url 'httpsdeprecations.emberjs.comv.xtocrouterendertemplate'
for 'embersource'
since 
 enabled '..'
";Security Bump socket.io from .. to ..;"Bumps socket.io from .. to ... This update includes a security fix.

Vulnerabilities fixed
Sourced from The GitHub Security Advisory Database.

Insecure defaults due to CORS misconfiguration in socket.io
The package socket.io before .. are vulnerable to Insecure Defaults due to CORS Misconfiguration. All domains are whitelisted by default.
Affected versions ..



Release notes
Sourced from socket.io's releases.

..
This release reverts the breaking change introduced in .. socketiosocket.iofa.
If you are using Socket.IO v you should explicitly allowdisallow crossorigin requests

without CORS server and client are served from the same domain

io.originsreq callback 
 callbacknull req.headers.origin undefined crossorigin requests will not be allowed


with CORS server and client are served from distinct domains

io.originshttplocalhost for local development
io.originshttpsexample.com
In any case please consider upgrading to Socket.IO v where this security issue is now fixed CORS is disabled by default.
Reverts

fixsecurity do not allow all origins by default a

Links

Diff socketiosocket.io.......
Client release 
engine.io version ..
ws version ..

..
Related blog post httpssocket.ioblogsocketio
Features from Engine.IO

add support for all cookie options cc
disable perMessageDeflate by default ad

Bug Fixes

security do not allow all origins by default fa
properly overwrite the query sent in the handshake da

 BREAKING CHANGE 
Previously CORS was enabled by default which meant that a Socket.IO server sent the necessary CORS headers AccessControlAllowxxx to any domain. This will not be the case anymore and you now have to explicitly enable it.


... truncated


Changelog
Sourced from socket.io's changelog.

.. 
Reverts

fixsecurity do not allow all origins by default a

.. 
Bug Fixes

security do not allow all origins by default fa
properly overwrite the query sent in the handshake da




Commits

eb chorerelease ..
a revert fixsecurity do not allow all origins by default
fdc chorerelease ..
fa fixsecurity do not allow all origins by default
da fix properly overwrite the query sent in the handshake
a chore bump engine.io version
faf ci migrate to GitHub Actions
a chore Release ..
cf chore Bump socket.ioparser to version ..
dbc test remove deprecated Buffer usage 
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
777;Add automated publishing of weekly alpha releases to NPM;"By default the embercli blueprint uses embertry to download the npm pack result of the most recent canary build from Amazon S this is usually setup to run in that addon's CI configuration. Unfortunately some organizations have security restrictions preventing access to the internet during CI jobs. They often have customized NPM mirrors that do work otherwise how would they ever build test JS code but block access to the rest of the internet. Up until this change those organizations simply could not be early testers of our canary builds.
This change adds a new CI job to autopublish a new alpha.x release to NPM once a week on Mondays. This will allow folks to leverage their normal npm install infrastructure to be able to test canary Ember builds once a week though we could in theory decide to make more publish. However since the process is automated these alphas will not include changelog entries. It is theoretically possible that we would prefer to leverage this infrastructure for testing addons against published tags instead of using embersourcechannelurl but that would reduce our speed of identifying regressions.";RFC Deprecate with;"Also transforms with into the equivalent combination of let andor if to allow removing the legacy upstream code on the Glimmer VM side.
See RFC .";0
778;Bump qunit from .. to ..;"Bumps qunit from .. to ...

Release notes
Sourced from qunit's releases.

..
Added

HTML Reporter Use a fixed header with scrollable test results. Bryan Crotaz 
Core Add official support for SpiderMonkey runtime. Timo Tijhof 

Changed

CLI Update and reaudit tinyglob and nodewatch dependencies. 

Fixed

HTML Reporter Set main and navigation ARIA roles. Steve McClure 
Core Fix QUnit.module.only logic for unscoped modules. Steve McClure 
Assert Fix assert.timeout bug causing a nonasync test to fail. 

..
Added

Core Log test name as part of Assertion after test failures. brandonocasey 
CLI Add native support for ESM .mjs files on Node . Timo Tijhof 

Deprecated

HTML Reporter Deprecate PhantomJS. Steve McClure

Fixed

Core Count tests run so that suiteEnd emits correctly with active filters. Stephen Yeung 
Core Fix test counter bug when nesting invalid test functions. Timo Tijhof
HTML Reporter Avoid leaking Map global in older browsers. Timo Tijhof

..
Added

Core Add QUnit.test. aliases for QUnit.only QUnit.skip and QUnit.todo. Steve McClure 
Assert Support arrow functions in assert.throws as expected matcher callback. Steve McClure 

Changed

CLI Update nodewatch and commander dependencies. Timo Tijhof 

Deprecated

Core Deprecate QUnit.extend. Steve McClure 

..
Fixed


... truncated


Changelog
Sourced from qunit's changelog.

.. 
Added

HTML Reporter Use a fixed header with scrollable test results. Bryan Crotaz 
Core Add official support for SpiderMonkey runtime. Timo Tijhof 

Changed

CLI Update and reaudit tinyglob and nodewatch dependencies. 

Fixed

HTML Reporter Set main and navigation ARIA roles. Steve McClure 
Core Fix QUnit.module.only logic for unscoped modules. Steve McClure 
Assert Fix assert.timeout bug causing a nonasync test to fail. 

.. 
Added

Core Log test name as part of Assertion after test failures. brandonocasey 
CLI Add native support for ESM .mjs files on Node . Timo Tijhof 

Deprecated

HTML Reporter Deprecate PhantomJS. Steve McClure

Fixed

Core Count tests run so that suiteEnd emits correctly with active filters. Stephen Yeung 
Core Fix test counter bug when nesting invalid test functions. Timo Tijhof
HTML Reporter Avoid leaking Map global in older browsers. Timo Tijhof

.. 
Added

Core Add QUnit.test. aliases for QUnit.only QUnit.skip and QUnit.todo. Steve McClure 
Assert Support arrow functions in assert.throws expected callback. Steve McClure 

Changed

CLI Update nodewatch and commander dependencies. Timo Tijhof 

Deprecated


... truncated


Commits

ea Release ..
ef Build Prepare .. release
ffb Build Limit Code coverage job to local branches
ccc Build Add audit script for reviewing changes to build artifacts
eac Build Avoid nondeterministic timestamp in published builds
ae Assert Fix assert.timeout bug causing a nonasync test to fail
abbe Docs Modernize and improve documentation examples
ef Core Fix QUnit.module.only logic for unscoped modules
df Core Repair support for SpiderMonkey runtime
ddc Build Add names for Travis matrix jobs
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";RFC Deprecate LinkTo positional arguments;"Implement RFC 
The tests still need to be updatedfixed. I'd like to hand this off if someone else has the bandwidth to do that in the next few days so I can implement another deprecation RFC but if no one is able to pick it up I'll come back to this after.";0
779;Bump eslintpluginprettier from .. to ..;"Bumps eslintpluginprettier from .. to ...

Changelog
Sourced from eslintpluginprettier's changelog.

v.. 

fix add eslintconfigprettier as an optional peer dependency ddf
builddepsdev bump eslint from .. to .. bd
builddepsdev bump eslint from .. to .. ee

v.. 

Minor Perf improvement Do not clear the config cache on each run bea
Add peerDependenciesMeta block d
builddepsdev bump eslint from .. to .. f
builddepsdev bump eslint from .. to .. cebcb

v.. 

Skip CI for eslint node ffe
Turn off problematic rules in recommended config prepare for next eslintconfigprettier version ae
Create dependabot.yml fbc
docsREADME fix prettier getFileInfo link af
builddepsdev bump eslintplugineslintplugin from .. to .. c
builddepsdev bump eslint from .. to .. ded
builddepsdev bump eslint from .. to .. afe
chore update CI badge in readme b
Use Github Actions for CI ebf




Commits

bddb Build update package.json and changelog for v..
ddf fix add eslintconfigprettier as an optional peer dependency 
bd builddepsdev bump eslint from .. to ..
ee builddepsdev bump eslint from .. to ..
ecf Build update package.json and changelog for v..
bea Minor Do not clear the config cache on each run 
d Add peerDependenciesMeta block 
f builddepsdev bump eslint from .. to ..
cebcb builddepsdev bump eslint from .. to ..
bdacb Build update package.json and changelog for v..
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.
If all status checks pass Dependabot will automatically merge this pull request.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Automerge options neverpatchminor and devruntime dependencies
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX release Fix misleading LinkTo error message;"This fixes .
An easy way to demonstrate the original problem is to make a route that throws from serialize
export default class FooRoute extends Route 
 serialize 
 throw new Error'boom'
 

Before this change you would see

Notice that both the message and the stack trace are misleading.
After this change you would see

In which the message is not so misleading anymore and the stack trace points to the real site of the problem.
I also confirmed that this still gives reasonable results for the case of failing to pass enough dynamic parameters. Before

And after

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
780;Backport of update circle go image to cimg matching release pipeline into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

CircleCI has new a new image namespace which is being used in the release pipeline. Match the testing image for consistency. This also allows us to update go past ...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of Upgrade cty to .. into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Upstream changelog

functionstdlib Fix a panic in SetproductFunc in situations where one of the input collections is empty. 
functionstdlib Improvements to ElementFunc ReverseListFunc and SliceFunc to handle marked values more precisely individual element vs. wholecollection marks. 

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
781;update circle go image to cimg matching release pipeline;"CircleCI has new a new image namespace which is being used in the release pipeline. Match the testing image for consistency. This also allows us to update go past ...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";jsonplan Add replacepaths;"The set of paths which caused a resource update to require replacement has been stored in the plan since .. . This commit adds a simple JSON representation of these paths allowing consumers of this format to determine exactly which paths caused the resource to be replaced.
This representation is intentionally more loosely encoded than the JSON state serialization of paths used for sensitive attributes. Instead of a path step being represented by an object with type and value we use a moreJavaScripty heterogenous array of numbers and strings. Any practical consumer of this format will likely traverse an object tree using the index operator which should work more easily with this format. It also allows easy prefix comparison for consumers which are tracking paths.
While updating the documentation to include this new field I noticed that some others were missing so added them too.
This is the last missing piece of the JSON plan format that I'm aware of so we might want to bump the output format to . soon. If so that can be a separate decision from this PR.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
782;Backport of Fix crash with deposed instances in orphaned resources into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

If an orphaned resource only consists of deposed instances there will be no current state with which to plan causing a panic when accessing the stored private data. There is no reason however to access this private field for a noop change in a destroyed instance so avoid the field altogether since we accept that the state may be nil here anyway.
We also should not have been planning to delete an orphan here in the first place since there is no current instance state to plan. We can skip any instances with no current state when adding orphan nodes to the graph.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upgrade cty to ..;"Upstream changelog

functionstdlib Fix a panic in SetproductFunc in situations where one of the input collections is empty. 
functionstdlib Improvements to ElementFunc ReverseListFunc and SliceFunc to handle marked values more precisely individual element vs. wholecollection marks. 

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
783;Fix crash with deposed instances in orphaned resources;"If an orphaned resource only consists of deposed instances there will be no current state with which to plan causing a panic when accessing the stored private data. There is no reason however to access this private field for a noop change in a destroyed instance so avoid the field altogether since we accept that the state may be nil here anyway.
We also should not have been planning to delete an orphan here in the first place since there is no current instance state to plan. We can skip any instances with no current state when adding orphan nodes to the graph.
Fixes";Validate passing default providers through modules;"Add validation for the local side of the providers map assignments in module calls. If these did not actually correspond to a configuration during runtime the user would be presented with a missing provider error with the assumed address of the provider but no indication how to configure that address. We can detect these during validation and present a much more precise error

 Warning No configuration passed in for provider aws in module.mod

 on modmain.tf line in module mod
 aws.local aws

 Provider aws is referenced within module.mod but no configuration has been supplied.
 Add a provider named aws to the providers map for module.mod in the root module.

It was also assumed that inherited providers could be referenced within modules which is understandable because resources effectively do the same. This inheritance does not work in module calls however because the provider is looked up in the next child module one level removed from the inherited provider. Rather than rework inheritance to account for this edge case we can direct users to create a more explicit configuration by declaring the name within the module so that we can follow up with the above recommendation if no configuration is presented.
 Warning Provider aws is undefined

 on modmain.tf line in module mod
 aws.local aws

 No provider named aws has been declared in module.mod.
 If you wish to refer to the aws provider within the module add a provider configuration 
 or an entry in the requiredproviders block.

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
784;Backport of update go version into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Update with latest security fixes";Add link to lifecycle tutorial;No description provided.;0
785;update go version;Update with latest security fixes;Backport of cli Fix diagnostic snippet crash into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

The following invalid HCL via causes .. to crash on plan
resource awscloudwatchloggroup test 
 name test

The underlying issue is that the diagnostic generated by HCL has a zerovalue End position in its range which is invalid. Terraform . rendered this but incorrectly
Error Extraneous label for resource

 on main.tf line 
 resource awscloudwatchloggroup testresource awscloudwatchloggroup test 

Only labels type name are expected for resource blocks.

Note the garbled source snippet.
This PR fixes this in two places when converting the diag to the normalized JSON structure and when rendering a JSON diagnostic which may have invalid highlight range. The first of these is enough on its own for Terraform at the moment but since the crash surfaced in the JSON diagnostic renderer I thought it prudent to make that code a bit more robust as well.
Fixes .
Screenshots

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
786;Backport of backendremote add support for refreshfalse refreshonly and replace options into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Adds support for several new options when running plans and applies using the remote backend for remote runs in Terraform Cloud. Going forward users will have access to the following new flags when running the plan or apply commands

refreshfalse
replace
refreshonly

These options will be released to Terraform Enterprise users in v anyone attempting to use these options with an earlier release of Terraform Enterprise will receive a validation error since the new run options are not supported.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of commandformat NestedType attr formating fixes into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

I address issues in this commit


writeNestedAttrDiff and writeAttrDiff were both printing the unchanged attribute message. This removes one of the redundant prints.


NestedType attributes were printing a sum total of unchanged attributes including those in entirely unchanged elements while not printing the total of unchanged elements.


Being commandformat this required a lot of messing with which functions prints which newlines etc so ... sorry for the mess. I was able to extract some small bits of the logic printing the of skipped attrs into discrete functions as a treat.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
787;Backport of return diagnostics from provisioners into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

The calls to resource provisioners were still converting diagnostics to error which was losing any detail information. We also need to ensure that the builtin provisioners return diagnostics which can be annotated with config context.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of Update gotfe client to v.. into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

The gotfe client used in the remote backend is an aging version so to ensure stability in the ..x series and in anticipation of adding new things and avoiding potential unrelated regressions at that time bump the client to latest.";0
788;return diagnostics from provisioners;"The calls to resource provisioners were still converting diagnostics to error which was losing any detail information. We also need to ensure that the builtin provisioners return diagnostics which can be annotated with config context.
Fixes";cli Fix diagnostic snippet crash;"The following invalid HCL via causes .. to crash on plan
resource awscloudwatchloggroup test 
 name test

The underlying issue is that the diagnostic generated by HCL has a zerovalue End position in its range which is invalid. Terraform . rendered this but incorrectly
Error Extraneous label for resource

 on main.tf line 
 resource awscloudwatchloggroup testresource awscloudwatchloggroup test 

Only labels type name are expected for resource blocks.

Note the garbled source snippet.
This PR fixes this in two places when converting the diag to the normalized JSON structure and when rendering a JSON diagnostic which may have invalid highlight range. The first of these is enough on its own for Terraform at the moment but since the crash surfaced in the JSON diagnostic renderer I thought it prudent to make that code a bit more robust as well.
Fixes .
Screenshots

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
789;Backport of negative substring indexes into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Document that negative indexes are valid in substr
Closed 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update gotfe client to v..;The gotfe client used in the remote backend is an aging version so to ensure stability in the ..x series and in anticipation of adding new things and avoiding potential unrelated regressions at that time bump the client to latest.;0
790;Fix typo in the docs;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";commandformat NestedType attr formating fixes;"I address issues in this commit


writeNestedAttrDiff and writeAttrDiff were both printing the unchanged attribute message. This removes one of the redundant prints.


NestedType attributes were printing a sum total of unchanged attributes including those in entirely unchanged elements while not printing the total of unchanged elements.


Being commandformat this required a lot of messing with which functions prints which newlines etc so ... sorry for the mess. I was able to extract some small bits of the logic printing the of skipped attrs into discrete functions as a treat.";0
791;backendremote add support for refreshfalse refreshonly and replace options;"Adds support for several new options when running plans and applies using the remote backend for remote runs in Terraform Cloud. Going forward users will have access to the following new flags when running the plan or apply commands

refreshfalse
replace
refreshonly

These options will be released to Terraform Enterprise users in v anyone attempting to use these options with an earlier release of Terraform Enterprise will receive a validation error since the new run options are not supported.";Backport of commandviews Add reason to JSON planned change into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Now that we have extra information about the reason for a given resource action include that in the JSON log output for planned changes.";0
792;negative substring indexes;"Document that negative indexes are valid in substr
Closed";Backport of cli Show forces replacement for sensitive attrs into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

When rendering a plan diff sensitive resource attributes would previously omit the forces replacement comment which can lead to confusion when the only reason for a resource being replaced is a sensitive attribute.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
793;providers lock tests;"There are a few small changes in this PR

Tests for providers lock go me
I replaced a clearly copypasta'd error message with a more appropriate Invalid provider argument error please do nitpick my wording.
Writing tests for providers lock unearthed a very tiny bug in getproviders.ParsePlatform so a fix for that including tests is in here too.
Barely worth mentioning providers mirror tests emphasis on the airquotes";commandviews Add reason to JSON planned change;"Now that we have extra information about the reason for a given resource action include that in the JSON log output for planned changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
794;Backport of update CODEOWNERS paths into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Update paths from package renaming";cli Show forces replacement for sensitive attrs;"When rendering a plan diff sensitive resource attributes would previously omit the forces replacement comment which can lead to confusion when the only reason for a resource being replaced is a sensitive attribute.
Fixes .";0
795;unmanaged providers support w protocol v cherrypick to v.;cherry picking commits from;command New replace... planning option;"This allows a similar effect to pretainting an object but does the action within the context of a normal plan and apply avoiding the need for an intermediate state where the old object still exists but is marked as tainted.
terraform plan replacenullresource.blah
terraform apply replacenullresource.blah

The core functionality for this was already present from so this commit is just the UIlevel changes to make that option available for use and to explain how it contributed to the resulting plan in Terraform's output. It does include one little tweak to the corelevel implementation to respond to some error reporting feedback I deferred in .
As with instances that are marked as tainted in the prior state an instance that is forced for replacement gets a special annotation in the plan to acknowledge that this replace was in response to an explicit user request rather than in response to tainting or as directed by the provider.

Terraform used the selected providers to generate the following execution plan.
Resource actions are indicated with the following symbols
 destroy and then create replacement

Terraform will perform the following actions

 nullresource.blah will be replaced as requested
 resource nullresource blah 
 id known after apply
 

Plan to add to change to destroy.

The source information needed to replicate that special annotation in another external UI was already included in the terraform show json plan output as part of so there's no additional work for that here.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
796;update CODEOWNERS paths;Update paths from package renaming;website Reworking of the terraform plan docs and related pages;"It's been a long time since we gave this page an overhaul and with our ongoing efforts to make plan and apply incorporate all of the sideeffects that might need to be done against a configuration it seems like a good time for some restructuring in that vein.
The starting idea here is to formally split the many terraform plan options into a few different categories

Planning modes
Planning options
Other options

The planning modes and options are the subset that are also accepted by terraform apply when it's running in its default mode of generating a plan and then prompting for interactive approval of it. This then allows us to avoid duplicating all of that information on the terraform apply page and thus allows us to spend more words discussing each of them.
This set of docs is intended as a fresh start into which we'll be able to more surgically add in the information about refreshonly and replace... once we have those implemented. Consequently there are some parts of this which may seem a little overwrought for what it's currently describing that's a result of my having prepared this by just deleting the refreshonly and replace... content from our initial docs draft and submitted the result in anticipation of readding the parts I've deleted here in the very near future in other commits.
This does include some additions that catch up with some changes in that weren't documented yet

terraform apply destroy is now a thing for symmetry with terraform plan destroy and later on both with refreshonly.
Our help output for various commands changed to match with the restructuring I made to the docs here where terraform apply help is more explicit that it's effectively running terraform plan internally and so to go look at the plan docs for information on modes and options.";0
797;cli Improve sensitivity change warning output;"When an attribute value changes in sensitivity we previously rendered this in the diff with a update action and a note about the consequence of the sensitivity change. Since we also suppress the attribute value this made it impossible to know if the underlying value was changing too which has significant consequences on the meaning of the plan.
This commit adds an equality check of the oldnew underlying values. If these are unchanged we add a note to the sensitivity warning to clarify that only sensitivity is changing.
Fixes . This is a more conservative change that the one I originally proposed in that issue but I think it's a reasonable step forward.
Screenshot";Backport of cli Add JSON logs for operations commands into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Original PR had no description content.";0
798;Affix no longer jumps when using sticky footer fixes .;"This doesn't fix the other jumping issue .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Affix use scrollHeight instead of offsetHeight;"document.body.offsetHeight returns wrong value when the following CSS is applied
html body 
 height 

A wrong negative top value is then calculated for affixbottom.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
799;Rearrange tooltip and popover documentation examples;"from top left bottom right left top bottom right
This way they do not overlap with each other.
Tooltips Example

Popovers Example

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Javascript tooltips directions easier visualization;Changed the order of the visualization. It is not the css order however it is easier to see the tooltips;1
800;Correct spelling of our.;No description provided.;fixes typo are our;"Fixes a typo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
801;Dropdowns update keyboard touch and submenus;"Fixes

Keyboard navigation using submenus acts similar to rightclick in Mac going up first starts to top of list bottom the bottom moves from there etc. Only difference is that the submenus display on item focus
Takes into account the .dropup .dropdown and .pullleft modifier classes. E.g. If it's pullleft the left and right arrows switch around if it's a dropup submenu we start by focusing the last item vs the first which is at the top.
Touch navigation now works prevents the default click events from happening with the delay looks ugly
esc key will bring you back in focus with the initial button no matter where in the dropdown you are and tapping it again reopens the dropdown like previous behaviour

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for issue button dropdowns not working on mobile devices;"This is a fix for issue Button dropdown links don't work on mobile android iOS based on these comments
 comment
 comment
 comment";1
802;Triggering event on when affix is changed;I need to trigger an event when affix is set or unset.;Feature affix events;"Fixing my own issues from previous pull request 
This should now conform to the event guidelines. Please let me know if I made any other mistakes that need to be resolved.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
803;Typo fix Sprited Striped;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo corrected;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
804;enforceFocus event.target event is undefined;"event.target should be e.target within enforceFocus method.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo in Modal.enforceFocus;A typo in Modal.prototype.enforceFocus make it fail.;1
805;Updated jQuery to v..;"Fix for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update jQuery to ..;"Fixes 
Closes 
Note it's not yet on Google CDN.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
806;Implements a custom.scss resolves and todo on;"I added a custom.scss file and added it to the bootstrap.scss file to be compiled for user customizations to variables. This resolves issue that was closed and added as a todo on . The todo states Consider implementing a custom.sccss for easier builtin variable overrides
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added missing file promised in variables.scss;variables.scss mentions custom.scss for custom variables but is not included in the file structure or build list. This is a quick solution.;1
807;Tooltip Options not propagated correctly;"Tooltip's enter function is not propagating options correctly. In my case I'm using jQuery .. while also trying to use the container option. However when the tooltip is displayed the container option is lost reset to the default false resulting in an insertAfter call in show rather than appendTo.
This is a fix that uses jQuery's .extend to propagate tooltip options.";tooltip options never inherited bug;"Also .eachobj fn args is undocumented api usage.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
808;Fix documentation for allside spacing classes.;"Fixes . I debated the wording but this is the cleanest I can think of for now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix 'all sides' utility class documentation;"if i'm not mistaken it looks like the new syntax is to omit the a value.
ex m vs ma
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
809;Fix element precision bug in at media CSS elements widths;"Add more precision with media maxwidth .em changed to media maxwidth .em.
For bug example httpvalpha.getbootstrap.comlayoutresponsiveutilities with a layout of px hiddensmdown and hiddenmdup are visible both.";Fix maximum value for breakpointmax;"If you just substract . from breakpointmin there is always one particular width for example px where none of the breakpoints work.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
810;Translucent .inputgroupaddon borders;Added backgroundclip paddingbox like .formcontrol;Fix border on input group elements and custom form inputs;"cecbd changed the border of input elements to be translucent. This makes input group elements and custom form inputs follow the same pattern.
Fixes";1
811;..wip Fixed 'Running Doc. Locally Link;httpgetbootstrap.dev does not work when running the documentation locally. Should be httplocalhost instead.;Prevent jekyll version mixup in docs;"The new docs do not publish to getbootstrap.dev they publish to localhost. The Customize and Download button was fixed to handle this in but the docs were not updated.
There have been a number of comments e.g. where people are trying to use the new Jekyll .x syntax with the old version of the library. This updates the docs to explain that the instructions are for .x as well as changing the link to point to localhost
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
812;add Chinese translations website boot.com;No description provided.;Update translations.yml;add Chinese doc.;1
813;fix uses luajit for android;"instead of using Lua it uses LuaJIT for android
fixes github issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Luajit;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
814;Fixed memory leaks in CCLabel.cpp;"flener pointed out that there's a memory leak when executing
auto ttf LabelcreateWithTTFTTF fontsMarker Felt.ttf 
ttfsetPositionvisibleSize
ttfsetOverflowLabelOverflowSHRINK
ttfsetDimensionsttfgetContentSize.width";Memory leak in setFontAtlas if set equal font in Label.;"setCharMap setBMFontFilePath and setTTFConfigInternal use getFontAtlas.
getFontAtlas retain font atlas always.
setFontAtlas not release if atlas equal current.
For example call LabelsetTTFConfig for equal ttfConfig.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
815;update external library add iOS x and arm architectures support...;"... Xcode. iPhone simulator bit
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bit support;"rebuild libpng libjpeg libwebp libfreetype libtiff with arm support
upgrade libpng to ..
details
iOS support armv armvs arm i x
Mac support x i";1
816;normalize path on android.;"because AAssetManageropen do not support '..' in path.
for example
can not open test..img.png in android.
open img.png is ok.
this patch will change test..img.png to img.png.";issue fixed relative path issue on Android;No description provided.;1
817;fixed scrolling bug when scroll view is not at CCPointZero position in w...;"if ccscrollview or cctableview is not at CCPointZero postion in world the scrolling behaviour is not correct.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed CCScrollView display area and touch area are wrong if its parent's postion isn't at CCPointZero in world.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
818;Fix the variable isTween value error.;"In the function FrameDatacopy the variable isTween had not
assigned correctly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed no effect with stopping tween between two frames;"fixed no effect with stopping tween between two frames.
when copy property of FrameData also need to copy 'isTween' property";1
819;dispatchPendingRunnables is not called from any where;"In case of Java activity dispatchPendingRunnables is not called from any where.
So runOnGLThread is not work well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";closed Fixed CocosdxHelper.runOnGLThread can not work;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
820;Fix compileTimeDefines not end;"Fix for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bis;fix for github;1
821;Fixed MenuItemImage Camera Issue.;"related issue 
";Update CCMenu.cpp;"I think if the menu in D view it only be triggered by D camera. D is also the same.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
822;hot fixedclosed issuefixed label is unsharp if it's created by smaller font.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix label using system font on iOS not use premultiplied alpha blend;Fix Label using system font on iOS draw without use premultiplied alpha blend;1
823;Fix UIWebViewImplloadHTMLString;"As described here.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Webview ios load data fix;"Fix loadHTMLString on iOS. Your test works bacause you load website call loadUrl... at the first time and init self.uiWebView using setupWebView.
But when you call loadHTMLString first you didn't initialize webView and call method on nil.
Same issue is when calling setScalesPageToFit... befor first draw.
Example
auto webView WebViewcreate
webViewloadHTMLStringbodyHello Worldbody 
addChildwebView";1
824;Clang build fix;This fixes the Linux build and adds a Travis build for clang;Adding clang build for travis ci.;No description provided.;1
825;Add AudioEngine js bindings;No description provided.;modify bindingsgenerator index fix the binding error.;modify bindingsgenerator index fix the binding error.;1
826;cocosdlibs.xcodeproj Add CCTweenFunc.cpp to cocosdx Mac target.;"CCTweenFunc.cpp is not included in the mac target.
The reason the tests still build is because it is in CocosDenshion so the symbols are present. However if you are just using the cocosdxmac static lib Ease Actions will fail to link.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updates iOSMac project configuration CCTweenFunc.h.cpp was included to wrong target.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
827;Fix a bug in Scheduler which may case Force Close;"Fix a bug in Scheduler which may case Force Close
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";user dynamiccast instead of staticcast in Scheduler;"A node could has selector callback scheduler at same time so should use dynamiccast instead of staticcast when get element from timers in Scheduler.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
828;No CCUNUSEDPARAM;"In I tried to make cocosdx more consistent in the use of CCUNUSEDPARAM but to keep the code more simple and cleaner it was suggested it might be better to just ignore this type of warning.
This PR adds the Wnounusedparameter which is turned on in DEBUG with Wextra and removed all the uses of the macro CCUNUSEDPARAM. The macro itself is kept as it might be in use by some game devs in their own code.";cocosdInternal cleaned from warnings on Linux with gcc.;"Mainly

unused parameters
signedunsigned comparisons
missing breakets

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
829;add issue;"refer to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed crash if dispatch event after remove event listener in callback;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
830;reset texture parameter of CCTMXLayer after coming to foreground on android;No description provided.;Fixed bug where texParams would get lost after reloading textures on and...;"Fixes issue described here httpwww.cocosdx.orgboardstopics
If you make any calls to setAliasTexParameters setAntiAliasTexParameters or setTexParameters then those changes are lost on android if you go to the home screen and back into the game because the OpenGL context is lot. This change caches those changes to VolatileTexture and reapplies them after the textures are reloaded.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
831;Enhance egl select config;"I notice that when we are using glContextAttrs in AppDelegate and when using configchooser to choose the config it will search whether it has the config if it's not exists then it will select the first config available. But in ASUS Nexus one of the many configs available is but instead the old codes chooses and it makes UIScrollView implementation in Nexus become all green and white..
This changes need to be addressed further by testing it onto many devices.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bug Clipping node doesn't work on Android ..;"The related issue

In this pr if configattribs matched choose the first one config.
If not match sort all configs then use bin search to find a closest one.
sorted configs example
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
 color depth stencil 
pandamicro dabingnn felixjingga
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
832;fix debug draw remains after remove the last PhysicsBody.;Split drawing process into two parts and always perform detachFromScene will solve the problem.;closed Refactor PhysicsDebugDraw.;No description provided.;1
833;bugfix SimpleAudioEngine misreporting whether music is playing when pausedresumed;"Issue 
Flag was not being changed when background music was paused or resumed on Windows
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";V. Win UWP add missing CCCameraBackgroundBrush files;"This PR adds the missing CCCameraBackgroundBrush files to the Win UWP libcocosd project.
This PR also fixes winrt paused audio issue issue 
Added running tests section for Windows UWP apps in ReadMe.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
834;Fix;"Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert remove CCClippingRectangleNode transform error support.;"Reverts 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
835;CGBitmapContextCreate param type error in iOS .;"Fixes CGBitmapContextCreate param type error visible in iOS when running test JS projects tested w Developer Preview for iPhoneXCode
Jun XXX.local YYY Error CGBitmapContextCreate unsupported parameter combination integer bitscomponent bitspixel component color space kCGImageAlphaPremultipliedLast bytesrow.


Reference Image resized error CGBitmapContextCreate unsupported parameter

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes for iOS and Xcode;"Fixes for iOS and Xcode .
The main fix is in CCImage.cpp. If not applied labels won't render correctly on iOS.";1
836;Remove accum.a .;"tested with jstestsOpenGL test
before

after";Fix jsbtests compile error on the iOS platform;No description provided.;1
837;fix crash in CCAnimation.h on vs.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing æActionTestAnimationTestÆ crashes. It should return empty ValueMapValueVector when ValueasValueVectorMap is invoked in empty Value.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
838;This is a small optimization about TextReader.;No description provided.;FixOptimisation of TextReader;"If a long piece of text is defined in cocosStudio with a custom font TextReader will unnecessarily and implicitly build the label with the default system font first. It will also trigger repeat recalculations of the label's size atlas and system font texture via the setFontName and setFontSize calls.
By setting the text content last we can drastically minimise this overhead.
Furthermore if the text content is large the system font renderer will potentially produce a texture wider than the maximum texture size of the device. This is avoided with the given change for custom fonts but will still pose an issue for large labels relying on the default system font.";1
839;Out of bound error fix in CCFileUtilsgetWriteablePath for BlackBerry;This cause crash for CCUserDefault test.;Fixing up array bounds error.;No description provided.;1
840;Fixed a type bug in CCDeprecated;"Fixed a minor type bug.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enumeration refactoring;No description provided.;1
841;fix richText UTF;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";RichTextandroid;RichText ;1
842;fixing label being missaligned after glow effect applied bug;"Due to DistanceFieldFontSize being set to during creating font atlas for label with glow effect
label size is wrongly calculated. After applying value all effects on label seems to work fine
so do the correct allignment please reffer to bug for details
";Fixed the content size of Label is incorrect with GLOW effect.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
843;Removed CCSAFEDELETE of the static CCUserDefault object in the UserDefault destructor;"The existing code caused the UserDefault destructor to call itself
recursively an infinte number of times causing stack overflow.
Test case is to call the following from anywhere in your code
CCUserDefaultpurgeSharedUserDefault
Only applies to iOS. Tested on iOS.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";closed Fix of UserDefault. Infinite loop in UserDefault's destructor on iOS. The destructor of UserDefault is private now.;"Reproduce Step
Invoking UserDefaultdestroyInstance on iOS.
Solution
To prevent developer uses delete UserDefaultgetInstance we need to make the destructor of UserDefault as private function.
Therefore developer could only use getInstance and destroyInstance. And delete UserDefaultgetInstance will be forbidden.
UserDefault UserDefaultgetInstance

 ...
 if userDefault
 
 userDefault new UserDefault
 

 return userDefault


void UserDefaultdestroyInstance

 CCSAFEDELETEuserDefault
";1
844;add screenshot and corresponding test.;No description provided.;Add a new utility function to snap the screen;"This function can't be invoked synchronous at present.
The users need to specify a callback handler to process further work after the screen is captured.";1
845;Branch fix cc scale sprite anchorpint bug;"fix cc scale sprite anchorpint bug
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed AnchorPoint property of CCScaleSprite doesn't work in CCBReader.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
846;fix scalesprite flip issue;"Problem description.

When set ScaleSprite's setFlippedXfalse and setFlippedYfalse the scaleSprite will be flipped.
When settings the scale and flip property at the same time the result would be wrong.

After apply this patch

It shouldn't be flipped when set flip to false.
And it also fix the the scale and flip conflict issue.";fix UIScaleSprite setFlipped bug;Currently a ScaleSprite in .RC will be flipped even if flippedX or flippedY is set to false which is a bug.;1
847;receive content data even though status code is not xx;No description provided.;Finish http request even if status code is not between and;"HTTP request must not be cancelled even if received status code is not between and . Most of times status code indicating error contains additional information in their body.
For example you can curl facebook api like the below which returns status code and detailed information as their response text.
 redism curl i XGET httpsgraph.facebook.commeaccesstokenINVALIDTOKEN
HTTP. Bad Request
ContentType applicationjson charsetUTF
WWWAuthenticate OAuth Facebook Platform invalidtoken Invalid OAuth access token.
AccessControlAllowOrigin 
XFBRev 
Pragma nocache
CacheControl nostore
Expires Sat Jan GMT

Date Tue Mar GMT
Connection keepalive
ContentLength 

errormessageInvalid OAuth access token.typeOAuthExceptioncode

Current code always returns empty string as response text if status code is not between and and this PR fixes it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
848;Fix crash when websocket close by server side. send an error message to UI when libwebsocketclientconnect return nullptr;No description provided.;fixed . fix crash when websocket close;No description provided.;1
849;Fix ccCArray;"Please see my comments on this commit for an explanation of the issue fc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for broken ccArrayGetIndexOfObject;"The optimisation introduced in fc has broken ccArrayGetIndexOfObject which fails now i.e. returns CCINVALIDINDEX for object inside array but with indexes . And it has nasty effect for all CCTouchHandlers not unregistered and still handling events even if no longer existing...
Here is a fix for that.
Regards
Jaro";1
850;SpriteDReader and test case completed;"Now the SpriteD can saved in CSB file and can be loaded frome CSB file.
The test case for it is done.";CocosStudio DReader;"NodeD is the base node of CocosStudio D Editor
NodeDReader pull request
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
851;link pthread to fix compiline error on ubuntu .;"Please don't merge it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";issue Bit fix and . bit complication is ok.;No description provided.;1
852;crystaxndk.. needs stdint.h to be included in cocosuiUIWebViewImplandroid.h.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";android Include stdint.h for uintt in UIWebViewImplandroid.h;"This fixes compilation error when building cocosdx demo by CrystaX NDK.
According to POSIX uintt is defined in stdint.h so if you use it in code you should include stdint.h.
In Google's Android NDK it works because their iosfwd include stdint.h implicitly however it's not a requirement and you shouldn't rely on that.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
853;add project function to camera;project d space position to screen position;Add opengl version projectunproject function in camera.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
854;Fixed Propagated reverse foreign keys from proxy models to their concrete class.;No description provided.;Refs Tests for IntegrityErrors deleting MM to proxy models;"Add unit tests that demonstrate the error condition where deleting a
proxybased object fails if that object has reverse MM relationships
to a proxy ancestor using a database that enforces foreign key
integrity constraints e.g. PostgreSQL not SQLite
The root cause is Django does not findinclude reverse MM relationships
to proxy models when collecting objects for deletion via
getdeletedobjects etc these relationships are only included if they
target concrete parent models.
In the new tests

two of the four tests pass because the MM relationship targets a
concrete model
the other two tests fail with integrity errors because the MM rel
targets a proxy model.";1
855;Fixed Made simplifyregex handle named capture groups correctly;httpscode.djangoproject.comticket;Fixed Fixed simplifyregex in admindocs;"Fixes httpscode.djangoproject.comticket
Fixes an issue where simplifyregex would not notice a trailing
bracket when cleaning up regex patterns involving groups.
Steps to reproduce
run this in your shell

";1
856;Fixed Added negative timedelta support to parseduration.;No description provided.;Fixed Fixed parseduration with a negative number of seconds.;No description provided.;1
857;Fixed Refactor of lazy model operations;See Trac ticket at httpscode.djangoproject.comticket.;Refs Prevented pending lookup pollution by abstract models.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
858;Fixed Improved template extending algorithm.;No description provided.;Fixed Raised custom exception for recursive template extends;"Fixed the RuntimeError Recursion Depth Exceeded caused in the case of templates being loaded cyclicly.
Added tests for template extension using variable names as well as constant file names.";1
859;Fixed squashmigrations nooptimize still optimizes;I opted to not remove it because it might become useful when the migration optimizer breaks for some reason.;Fixes squashmigrations optimize conditionally;"This commit fixes this issue
httpscode.djangoproject.comticket
It has tests and implementation";1
860;Don't automatically collapse '' and None for keys.;"Ticket which I forgot to send this for.
Many databases treat these differently including MySQL and there are
legitimate cases where '' is a valid value in key fields. This change
updates both the ForeignKey class and the row cache to check the
connection feature interpretsemptystringsasnulls and will collapse
these two values if that's True otherwise it will treat them
differently.";Fixed Removed Nullification of Foreign Keys To CharFields;This pull request fixes httpscode.djangoproject.comticket and httpscode.djangoproject.comticket;1
861;AuthRouter docs;httpscode.djangoproject.comticketticket;Fixed Added applabel to the signature of allowmigrate.;No description provided.;1
862;Make sure to never catch SystemExit.;"If a SystemExit is raised one way or another it should not be caught.
In some places there are already some guards against catching SystemExit but it's good to add some more.";Fixed Corrected catching bare exceptions;No description provided.;1
863;Speedup migration rendering;httpscode.djangoproject.comticket;WIP Fixed Added preserve state option to mutatestate;"In reference to httpscode.djangoproject.comticket
Like I've mentioned in the ticket I'm not convinced this is the best solution or even safe since state was intended to be immutable but I am curious what you guys think. Additionally it only solves half the problem for us since migration time is still lengthy. All expected test cases are passing locally with this change.";1
864;Fixed fixed the assertXMLEqual behavior.;"Fixed the issue that caused two identical XMLs to be treated as
different if one of them had some extra whitespaces in the begining
or the end of the xml string. Now it is ignoring all whitespaces as it
is expected to be. The corresponding test case was added.
Fix for ticket httpscode.djangoproject.comticket";Fixed Made SimpleTestCase.assertXMLEqual ignore whitespace outside of tags.;"In every argument passed to comparexml will be applied split function.
All withespaces in the beginning and or end of xml string in assertXMLEqual will be ignored.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
865;Fixed GeoDjango contrib.gis does not create geometry columns in .a;"httpscode.djangoproject.comticket
Fixed Added new method getcolumntype to BaseDatabaseCreation allowing child classes to have more logic then just string formatting a value in the datatypes dict. This was nessecary for postgis creation where the name of the column type would change from geometryPOINT to geographyPOINT given the geography flag on GeometryField e.g. PointFieldsrid geographyTrue.
Updated the datatypes field in each Creation class under contribgisdbbackends to include all the Geodjango fields.
Added a test and supporting classes in the contrib.gis module. This code follows the way tests are setup in the test folder under djangotestsmigrations.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make Field.dbparameters use dbtype;"This reverts parts of caccd which appear to have been made unintentionally.
It removes support for dbtype to return the CHECK s constraint suffix.
Internal code appears to use dbparameters for this.
Fixes httpscode.djangoproject.comticket.
This needs tests. Please point me at where to put them and how to test this best.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
866;Don't cache nonContentTypes in the ContentTypeManager cache;"Migrationtime virtual models were being cached which wreaks havoc with postmigration ORM queries that expect actual live ContentTypes to be passed in.
In case someone stumbles across the same problem
ValueError Cannot assign ContentType something Something.contenttype must be a ContentType instance. can be worked around by calling ContentType.objects.cache.clear at the end of migration steps that call any of the caching ContentType manager methods.";Fixed Prevented content type managers from sharing their cache.;"This should prevent managers methods from returning content type instances
registered to foreign apps now that these managers are also attached to models
created during migration phases.
Refs .";1
867;Fixed fieldname no longer raises KeyError;"fieldname was added in de to the part that
builds the output list but not to the part that inserts hidden fields
to the last row when the last row doesn't end with rowender.
Added the fieldname to the dict in said location.";Fixed Fixed KeyError with BaseForm.htmloutput;fieldname was not fully add and will trigger the bug when using a hidden field with a unmatch rowender.;1
868;Fixed Fixed Korean date formatting;"F' translates a month to Korean name with a month number so 'F ' becomes ' ' for example for October.
'F ' should be fixed to either 'F' or 'n' and I followed conventions in other languages like Japanese and Chinese.";Fix MONTHDAYFORMAT for Koreanko language;"Fix for ticket 
httpscode.djangoproject.comticket
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
869;Fixed Typo in PostGISOperators;"Fixes 'strictlyabove' dictionary key typo in PostGISOperators.
httpscode.djangoproject.comticket
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed Fixed misnamed strictlyabove PostGIS lookup;Fixes a regression from bdbbc. Thanks Daniel Wiesmann for the report.;1
870;Fixed Added block.super to bodyclass blocks in relevant admin templates.;No description provided.;Fixing ticket;"Added the test case for the ticket as well as updated the templates with the needed block.super .
All the these test cases are passing.";1
871;Fixed Added PointZField model field.;Add support for postgis field like location geographyPointZ or GeoRuby like t.stpoint location geographic true hasz true;Fixed Fixed introspection for geography point field with dim;Thanks Yegor Kazantsev for the report and the initial patch.;1
872;Fixed Fixed default User model Meta inheritance.;"Updated default User model Meta class to extend AbstractUser Meta
where translated verbosename and verbosenameplural are
defined.";Add back verbosenameplural for contrib.auth.models.User;"I also translated to Hebrew.
It was lost with the changes to User in Django .. Surely it was accidental.";1
873;Fix docstrings of MonthArchiveViews;MonthArchiveView and BaseMonthArchiveView refer to year in their docstrings instead of month.;MonthArchiveView BaseMonthArchiveView docstrings;"MonthArchiveView BaseMonthArchiveView docstrings now reference month rather than year.
Thanks to sztosz for the report.";1
874;Fixed Added GiST Index to contrib.postgres.;"We can already create them on spatial fields but they are generally useful for other fields such as hstore.
httpswww.postgresql.orgdocs.staticgistexamples.html
httpscode.djangoproject.comticket";WIP Close . Add Gist index;"This PR adds the GIST index for PostGIS
ref httpscode.djangoproject.comticketticket";1
875;Fixed Documented what INTERNALIPS does under the DEBUG setà;àting.;Fixed Clarified the docs about what INTERNALIPS does.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
876;Fixed Added getorset method to dummy cache backend;httpscode.djangoproject.comticket;Fixed Added a 'default' argument to self.get signature on BaseCache.getorset;"Refactored Django's builtin BaseCache.getorset to
work well with DummyCache.
getorset implementation tries to fetch the key first.
If it doesn't exists it adds the default value
passed as 'default' parameter to the cache and gets it.
Since DummyCache backend doesn't actually add something
but returns True on add operation getorcache thinks
that it's successfully added to the cache and do a GET
operation to the related key which returns None. This way
instead of returning default returns None.
This also fixes possible data eviction problems
between setting and getting a key. Another thread possibly
remove the key before getandset access it again.
Also added the getorset related unit tests for DummyCache backend.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
877;Fixed Conditional aggregation over subqueries;httpscode.djangoproject.comticket;Fixed conditional aggregation over subqueries;No description provided.;1
878;Disable failed tests for issues.;"Disabled following issues









cc danmosemsft safern";Disable two System.Net.Security tests on desktop;"These tests are .NET Corespecific as they're verifying that protocols that have been explicitly made unsupported for security reasons fail appropriately but they're still supported on desktop.
Fixes httpsgithub.comdotnetcorefxissues
Fixes httpsgithub.comdotnetcorefxissues
cc CIPop davidsh safern";1
879;Update CoreClr ProjectNTfs Standard to beta beta beta respectively master;"Fixes httpsgithub.comdotnetcorefxissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";tests in corefx that party on corelib internals using reflection;Fixes;1
880;Cleanup Array tests;"The Array. test files were removed because their functionality was
duplicated in Array.cs or I added tests that did the same thing in a
better way in Array.
This was not done to combine test files into a single class.
Increases coverage to over";Add missing System.Runtime tests;Porting missing tests that are present in SystemRuntimeBringup internally.;1
881;Move src\dirs.props properties into the root;Avoids issues where setting Configuration to anything will cause the build to fail because of checks in the Microsoft common targets.;Move src\dirs.props properties into the root;Avoids issues where setting Configuration to anything will cause the build to fail because of checks in the Microsoft common targets.;1
882;Fix VectorToStringTest to use correct variable for assertion and to wor...;"...k on non enUS culture machines
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Tests should be aware of the Current Culture Info;"Hello
As i'm French my CultureInfo.CurrentCulture is set to frFR while running tests.
But for some tests especially for the ToString methods tests are write to check enUS Culture.";1
883;Update core fx dependencies and remove System.Private.Xml workaround;"fixes 
replaces 
FYI krwq weshaggard";Remove workarounds for System.Private.Xml and S.P.Xml.Linq;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
884;Remove FormatterServices from System.Runtime contract;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Add FormatterServices.GetUninitializedObject partial for;"Reverts per discussion with weshaggard
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
885;WIP Expose string.Join APIs in System.Runtime;"Description This PR exposes and adds tests for string.Join overloads accepting a char in System.Runtime.
Notes I'm very hopeful that this will build but unable to test or even compile this locally because I'm consistently running into an issue httpsgithub.comdotnetcorefxissues. So I will try to inspect any errors raised by CI and hopefully fix them and then unWIP this.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tests for new String.Join overloads;Close;1
886;Modify NetworkInformation tests to search deeper for test files.;"Helix builds for the Open tests for System.Net.NetworkInformation.FunctionalTests are failing because the testdata is being binplaced differently from in the open. The Helix build is placing the testdata into a NetworkFiles subdirectory like it is in the project structure whereas it is binplaced to the dnxcore directory when running them normally. Rather than add complicated specialcasing for Helix for this particular test project I instead modified the only place we use that testdata to check both possible places before performing the file read.
CIPop MattGal joshfree davidsh";Temporary removing Microsoft.VisualBasic.Tests.csproj from the tests builds;"Because of dotnetmsbuild Microsoft.VisualBasic.vbproj can't be built in Unix so it has been disabled for some time. Now we have a build break because even though the product side project build is being disabled the test build is trying to build the project again causing the build to fail. This change temporarily disables the VisualBasic test project from building.
cc weshaggard sokket";1
887;Disable CancelConnectAsyncInstanceConnectCancelsInProgressConnect test;"It appears to be suffering the same random failures as its static counterpart which was disabled yesterday.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve CI disable socket eventarg test;"Disabling new test CancelConnectAsyncInstanceConnectCancelsInProgressConnect since it is failing in CI
Applies to issue httpsgithub.comdotnetcorefxissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
888;Crosscompilation support for native code;"Add support for compiling the native code via cross compilation.
It uses almost the same setup as CoreCLRCoreRT.";Enabling cross building of native corefx for Ubuntu . ARM target;"ARM Using the cross build process of coreclr enable cross building
of native corefx components for Ubuntu . ARM target.
e.g. u. ROOTFSDIRworkdotnetrootfscorefxarm 
.build.sh native arm clean cross 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
889;Make fields readonly in System.IO.MemoryMappedFiles;No description provided.;Refactor memory mapped files with PAL;Moved all Windows code to Windowsspecific files and added corresponding Unix stubbed out methods to match.;1
890;Net standard.library package;"Moves NETStandard.Library MS.NETCore.Targets and MS.NETCore.Platforms to corefx.
Fixes httpsgithub.comdotnetcorefxissues";Port Microsoft.NETCore.Targets and Microsoft.NetCore.Platform packages;"cc weshaggard ericstj
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
891;Port Misc InteropServices APIs;"Port the following miscellenous InteropServices API Changes
MSystem.Runtime.InteropServices.COMException.ToString
MSystem.Runtime.InteropServices.CriticalHandle.Close
MSystem.Runtime.InteropServices.HandleRef.opExplicitSystem.Runtime.InteropServices.HandleRefSystem.IntPtr
MSystem.Runtime.InteropServices.HandleRef.ToIntPtrSystem.Runtime.InteropServices.HandleRef";Update S.R.InteropServices to ns.;"ref 
This change updates S.R.InteropServices with all netstandard. types that didn't require code changes in coreclr.";1
892;DoNotMerge Revert Update to BuildTools version;"This reverts commit fdefc. seeing if the Linux builds get better
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add exclusion for ToolRuntime directory in the linux test script;"This should take care of the current linux tests running failing. The reason they were failing is because the runtest script was finding the windows versions of some of the libraries in the new ToolRuntime directory and it was overlaying those over top the linux overlay.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
893;Package baseline;"This enables the package baseline to live in the repo that builds the
packages avoiding a roundtrip to buildtools every time we update
package versions.
I've updated the baseline with the latest changes to corefx package
versions.
Requires dotnetbuildtools";Updating BuildTools to get new OfficialBuildId fixes;"Once this is merged OfficialBuildId will be used as BuildNumberMajor date seed if it is passed in.
cc jhendrixMSFT weshaggard
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
894;Update buildtools to pick up newer code coverage tools;cc weshaggard mmitche;Update buildtools to ..prerelease;"This contains an update to the NuGet binaries that
allow us to use the latest TFMgeneration mappings.
Specifically dotnet..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
895;Update BuildTools version to ..prerelease;"Update BuildTools version to ..prerelease
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update BuildTools.TestSuite and Xunit.Console.NetCore runner;"Update references to Microsoft.DotNet.BuildTools.TestSuite to a version that understands uap. add version validation rule for same.
Update reference to Xunit.Console.Netcore to pick up new version which does not throw if Console Color APIs do.
ericstj";1
896;Update projects to netcoreapp. and netstandard.;Fixes;Ensure we set Configuration on PP and traversal;"Similar to cae
which solved this problem for static evaulation do the same
on traversal builds and PP references.
Submitting for CI coverage. alexperovich will pick this up in his change.
cc weshaggard chcosta
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
897;Updating External dependencies to rc;"Update to new TFS package drop manually because the autoPR failed httpsdevdiv.visualstudio.comDevDivbuildasummarybuildId due to dotnetversions
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updating External dependencies to rc;No description provided.;1
898;Use BlockExpression subclasses more widely.;"BlockExpression has several subclasses that cover various numbers of sub
expressions when the type is the same as the last expression and there are
no variables. These are only used in one or two of the possible paths under
which they make sense. Use them more widely.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use optimized Nary BlockExpression nodes from all Block factories;This addresses issue by using BlockBlock types when applicable regardless of the factory method used to create the BlockExpression.;1
899;ZipFile Reduce string allocations;When creating entry names reuse a single char buffer across all entries to avoid intermediary char array allocations for each entry. Append the PathSeparator if necessary as part of this operation to avoid additional string concatenation allocations.;Avoid char buffer allocations in System.IO.Compression;These changes avoid creating an intermediate char buffer when creating a string.;1
900;Update buildtools to;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upgrade dotnet CLI version;"The CLI version upgrade changes restore from using DNX to using xplat nuget. This was blocking httpsgithub.comdotnetcorefxissues. This change also means that the internal and open builds will use the same restore tool which will make it harder to get TFSonly errors when changing project.jsons.
project.json changes

Adding win runtimes to the redist packages allows xplat restore. xplat RIDs would otherwise be inferred.
Capitalization fix for NetNative NETNative avoids xplat nuget race condition. NuGetHome

cc ericstj weshaggard";1
901;Bump glimmer;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WIP Glimmer tags integration;"Firstpass implementation of integrating Glimmer's validators system
cc krisselden";1
902;Ability to specify the view class used by the outlet Handlebars helper;"Currently the outlet Handlebars helper always creates an OutletView Metamorph extension of ContainerView that manages the views rendered into the outlet. While this handles simple view replacement on navigation through connectOutlet class in routes for example it makes it difficult to animate between views since the outgoing view is immediately destroyed upon connecting the incoming view.
This change allows the view class used by the outlet to be set. A simple use case is animating between views rendered into an outlet on a route change. E.g. sliding jQuery mobilestyle between masterdetail views. The pseudocode for a naive replacement outlet container view for this would be something like
outlet viewClassApp.SlideContainer
App.SlideContainer Ember.ContainerView.extend
 currentViewWillChange Ember.beforeObserverfunction 
 Hold on to old view
 'currentView'

 currentViewDidChange Ember.observerfunction 
 Append new current view to container
 Slide all views in container to the left
 When animation is complete destroy old view
 'currentView'

PR addressed a similar issue but in curgtt's case the problem could be easily solved by specifying tagName and other general view properties in the outlet helper call since it's an extension of the view helper. The problem being addressed here involves the need for custom view lifecycle handling code that requires replacing not adding bindings to a hardcoded OutletView class.
PR appears to be somewhat of a duplicate of . wycats' proposed solution does allow a custom class to be used but no longer is a sufficient replacement for the role of an outlet since the base view helper does not find and set the outletSource property of the parent view.";Outlet helper allows to define its own view class;"outlet viewApp.NavigationView

The outlet view property allows to setup a view class to define how the route view content will be shown.
When omitted the outlet helper will use a Ember.OutletView
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
903;Glimmer port input helper tests;"Part of 
UPDATE This is ready for review
TODO

 port main tests
 port remaining two tests
 refactor to remove boilerplate
 build there are some tests failing in saucelabs possible due to a bug with input on firefox
 annotatedeleted moved tests
 comment on commented out null tests comment here";Glimmer Migrate input tests;No description provided.;1
904;Support jQuery versions . and .;"The .. and .. release of jQuery have been tagged a couple of hours ago.
The regex for checking jQuery versions for Ember Views didn't pass for ..x or ..x";Recognizes jquery v. for ember views;embercli uses semver .. for jquery which resolves to ... Unfortunately the regexp in ember.debug only matches . through . for .x releases resulting in Assertion Failed Ember Views require jQuery between . and .. Note that as a result of this error the tutorial as presented in the guide will not run which must give newcomers fits. This PR simply amends the regexp to include ..;1
905;CLEANUP beta Removed deprecated currentWhen of LinkComponent;Use currentwhen instead;CLEANUP beta Remove deprecated LinkComponentcurrentWhen;Use currentwhen instead.;1
906;PreGlimmer Remove references to HTMLBars and keywords;"Remove all references to HTMLBars and keywords in test file that covers Ember's test helpers.
Q Should I also remove all references to View Or is okay to do that as part of unskipping tests for Glimmer";GLIMMER Cleanup Glimmer View Support Mixin;"In glimmer we have a better strategy around setting layout and thus
private APIS such as templateNameFor are no longer needed. This also
removes the following from the view support mixin.

CP for template does nothing today
CP for layout cannot change post init slotted in component class
Slotted layoutName in Component class
Slotted templateName doesn't work in components and was deprecated
Slotted isView not used in glimmer

This also consolidates the component lookup between both engines and removes the view keyword from HTMLBars.
cc krisselden";1
907;Change ember click patch assertion to a warning;"This is a sortof fix for . The assertion has been changed into a warning so that application tests can continue to work on Firefox.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the jQuery patch code for embertesting click in Firefox.;The first problem was that Firefox was not firing all the expected events on checkboxes that were not in the DOM so we have to make sure the checkboxes are appended to the body before testing them. The second problem was that Firefox fires changeclick events on checkboxes in a different order than everybody else so we can't make the more exact assertion about events fired without doing browser sniffing or more in depth bug sniffing which didn't quite seem worth it.;1
908;BUGFIX beta Increase precedence of route.controllerName;"Currently a controller specified for a route via the controllerName
property is considered too late when the controller for the route is
determined when a controller with the routeName already exists for
example it has been used elsewhere in the app before then it is used
regardless of controllerName being present on the route.
This fix moves the check for a specified controllerName before the
routenamecontrollerlookup.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX When selecting controller for view prioritize controllerName over controller matching template or route name;"When specifying controllerName in a route if a controller exists with a name matching the template name it will be ignored.
This seems to go against the documentation for controllerName which states that the specified controllerName will be used as the controller for the view being rendered by the route.
We have added a test for this particular case. All existing tests pass unchanged.
The new priority for looking up the controller passed to the view is as follows

use controller explicitly passed in render
use controller based on controllerName
use controller based on templateName
use controller based on routeName";1
909;fallback for browsers that don't support domElement.outerHTML;"If you look at the element.outerHTML page below outer.outerHTML is available in most browsers just not Firefox versions . Even old IE has it.
Also let me know if I can improve the test. I tried deleting the outerHTML property from the element but that raised an exception. I tried also stubbing XMLSerializer by redefining it on window which also threw an exception.
I know that the string I provide in the test is not really a DOM element but I'm stuck on how to stub this out in a better way. Happy for suggestions.
Resources
httpstackoverflow.comquestionshowdoidoouterhtmlinfirefox
httpsdeveloper.mozilla.orgenUSdocsXMLSerializer
httpsdeveloper.mozilla.orgenUSdocsDOMelement.outerHTML
EDIT httpjsfiddle.netRCLd This is the updated version of emberhandlebars from the original issue that I tested in Firefox .
fixes";Fix Firefox missing outerHTML;"In Firefox there is no outerHTML as a workaround we wrap the element with a div and return the wrapped elements innerHTML.
It looks ugly to me and someone with more insight might find a better solution but it works for me.
This fixes for me
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
910;Call preventDefault and stopPropagation on events handled through action;"The idea is that we'd like to be able to use arbitrary view methods as
action handlers. As it is they need to return false or call
e.preventDefault e.stopPropagation to be usable as handlers.
For the presumably few cases where propagation or default handling is
desired we can still register our own handlersdelegates with jQuery
or use event handling on views or with eventManagers which does not
have automatic preventDefaultstopPropagation.

I realize this change potentially breaks compatibility so I'm targeting it at master not stable.
What do you guys think
Also can someone with a larger Ember app please test this and report back whether it breaks things
Cc ebryn who introduced the test I'm changing.
IRC discussion
pm joliss I'm bothered by the fact that all of my action handlers have to call e.preventDefault e.stopPropagation. It means I can't just call arbitrary methods on my views as actions. Is there anything that's fundamentally stopping us from changing it to do this automatically
pm michaellatta joliss returning false from click events seems to be sufficient in the experimenting I have done to date.
pm joliss michaellatta Right unless they throw an exception though. And it's still the same problem with fewer characters.
pm joliss Hm there used to be an automatic stopProgagation but dmarcotte changed it in ed. I'm not sure why.
 Note This actually seems to be a different one relating to event methods like doubleClick not action handlers.
pm knassar joliss i am a bit bothered by the same thing
pm peterwagenet joliss automatic stop propagation wasn't well implemented
pm knassar seems like the case is that you don't want the events to propagateà
pm peterwagenet if anyone has a solution for normalizing that seems fine
pm joliss peterwagenet Can you elaborate what the issue was
pm peterwagenet inconsistent
pm joliss Looking at the diff I'm just thinking preventDefault should be called as well and it should be called before calling the handler.
pm joliss Hm you mean there were cases other events where it didn't stop propagation
pm endash man there are certainly states where I'd like to ensure the end of propogation.
pm joliss peterwagenet ping before I submit a pull request do you happen to remember what the issue with stopping event propagation was
pm peterwagenet we weren't doing it across the board
pm peterwagenet so it only worked some places
pm peterwagenet and not others

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";action should also prevent default;In order to make it work for elements for example. As discussed in aaaa cc wycats;1
911;BUGFIX Changing eager routing on linkto without href;"When eager routing occurs on a linkto with a tagName
specified the router attemps to find an href attribute
and fails.";FEATURE embereagerurlupdate non atags work;"Eager url updating was breaking for non a tags
since their hrefs weren't being generated.
Thanks jonnii for pointing this out";1
912;BUGFIX beta Align Em.isArray behavior with Array.isArray for FileList type;"FileList type is currently detected as array however it doesn't provide it's methods like forEach or map.
Also Array.isArray doesn't consider FileType as an array.
This PR unifies this behavior and fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ember.isArray will not detect plain object with length property;"To fix and 
This is a backwards incompatible change if someone was relying on this test returning true for an object that happened to have a length property but the old behaviour is surprising and out of line with native Array.isArray implementations lodash.isArray and so on.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
913;WIP Deprecate render and outlet orphaning;Want to get the ball rolling on so it's not forgotten.;Deprecate render helper;"This implements .
Here is the TODO list from mixonic.

 Add the deprecation of render 'foo' in a PR.
 Add tests for the deprecation of render 'foo'.
 Update any tests that still use render 'foo' to test unrelated behavior to use modern idioms components.
 Audit the codebase for any remaining usage for example in documentation and refactor that to modern idioms.
 Audit the guides for any remaining usage of render that can be removed.
 Open a deprecation guide PR on the website.

I'm happy to work in the other items as well but I'm not sure what to do with the current tests we have. Note that we have quite a few tests around render into from a route e.g. httpsgithub.comemberjsember.jsblobmasterpackagesembertestsroutingbasictest.jsL
Also there are several test failures because of the deprecation. Would love to get some guidance on how to update these tests and migrate the render into tests.
ErikCH any change you still are interested in taking on some documentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
914;Doc;"Make ArrayController show up in JsDoc


Fix router docs
serialize not deserialize is called with the context object when
transitioning between states from within the application.


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Jsdoc fixes;"Added some jsdoc tags and moved a var get Ember.get set Ember.set that was in the wrong place.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
915;Add underscore and camelize to String.prototype.;"I thought that these methods mix automatically to String.prototype because tests passes with this
if Ember.EXTENDPROTOTYPES 
 same'innerHTML'.underscore 'innerhtml'


But that code is never called.
Q How to run tests with extended prototypes
Thanks.";Add underscore and camelize to string prototype extensions.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
916;FEATURE emberruntimesortablesortorder Sort order per proeprty in Sortable mixin;"This is a non breaking change that would allow one to specify a different sort order per property in sortProperties array.
Let's say you have an array of users each of who has a weight. Weight can be the same for users so then one would want the order to use the names and logically the user with the most weight should be on the top of the list. With this feature it's possible now by adding a desc at the end of the property which needs to be inverted before being included in the sort order
sortProperties 'weightdesc' 'name'
Basically the Sortable mixin has the same behaviour as before related to sortProperties and sortAscending except that now you can append one or more property names in sortProperties array with a desc so that for that propertyies the order function will work the other way around.";allows enumerable to be sorted in descending order;"useful in multicolumn scenario when some columns asc and some desc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
917;DOC Update license year;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC update license to correct years;No description provided.;1
918;DOC Add missing link to handlebars.helpers.input in Ember.Checkbox.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC Add link to Handlebars.helpers;"In the explanation of Ember.Checkbox it says See
Handlebars.helpers.input for usage details. This commit adds
a link to that text to the appropriate method.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
919;Allow multiple calls to App.Router.map;"I've found a need to be able to add new routes at runtime one of my apps allows plugins. Upon looking through docs and API I couldn't find a way to do this so I went to source and still didn't find anything.
Attached is code that allows you to call App.Router.map multiple times without overwriting the previous behavior.
I've written two tests for it because the change is minor. I'm happy to write additional tests or receive guidance from the team.";Calling router.map now appends the routes instead of replacing them;"I would have added a test but there did not seem to be any route
generation tests.";1
920;Ensure top level destroys DOM;"Prior to this change the render nodes are cleared replaced with but not removed from the DOM
cc krisselden";BUGFIX beta Cleanup view teardown.;"Add tests to ensure .parentView is available in all hooks.
 Add tests to ensure .element is available in appropriate hooks.
 add tests that assure counts of hooks in all dynamic scenarios
 add regression tests

 willDestroyElement is called for components invoked from the else hook of an each .
 this.parentView is available in willDestroyElement .
 willDestroyElement is called before actual destruction for components rendered with component helper.



This should fix and";1
921;BUGFIX release Allow currentwhen to be specified via a variable;"Per guidance from stefanpenner this fixes the issue where we are not able to set currentwhen to a variable property in ..
Fixes";BUGFIX release allow currentwhen to be a boolean;"Bring currentwhen in line with the docs
Sorry but I created this PR from within Github as a start. My testing experience is not enough to create a test and run it locally on my machine. Hope this helps though...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
922;Adds warning for nested key passed to mapBy;"When a nested dependent key is passed to a mapBy e.g.
computed.mapBy'todos' 'owner.name' it will now
warn the user that nested dependent keys aren't supported.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX beta improve nested each property key warning;"I think this should be enough to help people easily locate the offending properties in their app. If so we should be able to close




When using a key such as comments.each.author.name we'll now get the warning
WARNING Dependent keys containing each only work one level deep. 
You used the key comments.each.author.name which is invalid. 
Please create an intermediary computed property.

instead of the previous generic message
WARNING Dependent keys containing each only work one level deep. 
You cannot use nested forms like todos.each.owner.name or todos.each.owner.each.name. 
Please create an intermediary computed property.

TODO

 Verify that this gives a good warning with computed.mapBy'todos' 'owner.name'

people 
 
 nested name 'Alex' 
 
 
 nested name 'Ben' 
 

names Em.computed.mapBy'people' 'nested.name'
gives";1
923;Create CODEOFCONDUCT.md;"Thank you so much for this tweet httpstwitter.comtrekstatus
It would be great to formalize your support with the inclusion of CoralineAda's code of conduct.
Thanks for your consideration.";Added a link to Guidelines Page and Changelog;Practically we should only be maintaining one copy of this. So I'm adding the missing links to places folks might go looking for this;1
924;Ember.SortableMixin Add support of custom sortFunction;"The default sorting algorithm used in the Routable mixin based on Ember.compare was not satisfying in our case.
For example we want 'a' to appear before 'B' in ascending order
new clean PR I closed";Ember.Arrangable mixin SortableMixin FilterableMixin;"This PR take commits from and combines that with the existing SortableMixin. This makes it easier to use both at the same time. It also should be more performant in the combined use case because it does not have to loop over the content array twice to add observers. The existing api from Ember.SortableMixin is mirrored for filtering. You can specify filterProperties the same as sortProperties.
There is one failing test ATM. The test is carried over from the Ember.SortableMixin and the other PR. I've added more tests around filtering and sorting the same array.
I've pushed this code to say that I'm serious about this feature. This is a major pain point of us. I can't see why there can't be one single mixin to do this.
The original implementation is from crofty. I've simply pulled his commits and refactored them so they can be merged with Ember.SortableMixin.
Edit I've realized that I completely suck at spelling andor typing.";1
925;LocationApi Added notes about how to extend;Put some notes about how ember scans applocations and an example of how to extend to make a custom location.;enhance custom location API documentation;"didn't find anything on how to register cutom location implementation for router.
Not sure should i use embercli code examples with export default instead of Em.Application.initializer";1
926;GLIMMER Fix emberglimmer iterators when handling dupes in each;"The purpose of this PR is to fix array iteration via each in Glimmer when the iteratee contains duplicate items. The following tests from emberglimmertestsintegrationsyntaxeachtest.js are now passing for Glimmer

it can render duplicate primitive items
it can render duplicate objects

Key changes

The order that we check objects for arraylikeness changed such that we look for Emberish arrays before plain JS arrays. Emberish arrays seemed to be falling into the plain JS array check which seems wrong.
ArrayIterator and EmberArrayIterator now keep track of the keys they've seen and when a duplicate key is seen it creates a composite key using a GUID of the array as a separator.";glimmer fix each key collision detection;"When using each things keykey as |thing| glimmer integration
did not update the DOM correctly when things was an array with objects
that shared the same key value. For example
this.set'data' 
 
 name 'Yehuda' 
 
 
 name 'Jenn'
 
 
 name 'Yehuda'
 

and the following template
each data keyname as |person|
 person.name
each
In the above example we want each item in the list to render even though two objects have the same
value for the key Notice there are two Yehuda's above.
As the iterator goes through the array it will cache value of the key name.
In order to make sure the cache updates correctly we assign it a unique key.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
927;FEATURE emberviewsbindableattributes;"Any properties listed in bindableAttributes that exist on the
at the time of the first render will be bound and observed.
However any properties that do not exist will not have observers
setup.
The main difference here from attributeBindings is the fact that the
observers are only setup when needed.
The Ember.BindableAttributesMixin is mixed into Ember.TextSupport by
default and all HTML attributes for input type'text' and textarea.

Credit for the idea goes to lukemelia. Any errorsmistakes in implementation are my own.";Add required to TextSupport attributeBindings;"I personally use the required attribute all the time since most modern browsers support it nowadays I suggest we add it to the default attribute bindings.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
928;DOC beta Add API docs for the component lifecycle hooks.;These hooks were originally described here httpemberjs.comblogemberreleased.htmltoccomponentlifecyclehooks;DOC RELEASE Ember . Component Lifecycle Events API Docs;Fixes;1
929;Update State.transitionTo transition generator to allow multiple contexts;"Right now if you do action someAction context context the generated transition only passes the first context.
I think I covered every weird contextcontexts edge case. I'm pretty sure the jQuery event always has a contexts property which would clean this up quite a bit but I wanted someone else to chime in.
Could use a hint on how to write a test that involves presence of Event. I can't seem to fake the typeof Event if no matter how many things I tried.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow State.transitionTo handle multiple contexts;"Allows multiple contexts to be passed to Ember.State.transitionTo either as multiple arguments or as an array of contexts within an event.
Changed StateManager.send and sendRecursively to allow multiple context arguments.
Added missing test coverage for transitionTo.";1
930;BUGFIX release Remove jQuery version assertion.;No description provided.;add . to jquery regexp matches;due to httpblog.jquery.comjqueryandreleased;1
931;action will target a template's controller;"If a function whose name matches an an action is implemented on
a template's controller that method will be called instead of
delegating the action to the application's current state.
Not sure why a check of hasOwnProperty was used but
it prevented this new behavior from occurring.
tomdale and I discussed this briefly last night.";Make controllers handle events defined on their prototypes;"The following very simple use of action doesn't work
script typetextxhandlebars datatemplatenameapplication
diváaction myActionActiondiv 
script

App Ember.Application.create

App.ApplicationController Ember.Controller.extend
 myAction function alertit worked

Runnable version here httpjsfiddle.netAMLf
The event fails to fire because ControllerMixin.send uses hasOwnProperty to determine if the controller can handle the event. In this case and most cases the property is defined higher up the prototype chain.";1
932;Fix render helper with model when used multiple times;No description provided.;Fix for using render with same template multiple times;"Yehuda added support for using render with same template multiple times with different models in dfee. But when using it Ember threw an assertion error This view is already rendered for everything but the first render call.
This should be fixed now and I added a test for it and adjusted the assertion error message.";1
933;Add emberhttp package;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ember.ajax;"I did talk with wycats and I had an ok to implement this.
If this PR is usefull I still have some doubts like

Is the package jqueryextensions apropriated 
The ajax request isn't just a RSVP.Deferred is actually a Ember.Object with Ember.Evented and Ember.DeferredMixin so in some moment the destroy must be called

Thanks in advance.";1
934;DOC Use as |obj| syntax for each examples;The parameters still needs some work though as well as the helper itself since it says that it requires the each item in list form.;Fix documentation for each and with helpers;"Addresses .
each helper
Restored the original documentation from . with the following changes

Updated to block params syntax e.g. replace each post in posts with each posts as |post|
Removed mentions of ObjectController and replace with Controller.
Replaced crossLink helpers with links to relevant documentation.

with helper

Updated to block params syntax
Expanded the example for the section about the controller option

Comment about documentation of parameters
I still think in both cases the description of the parameters are unclear and I think this holds for all helpers. Like the each helper documents the parameters name and path but it's not clear how they're used and what they represent.
Instead would it make sense to document the syntax of the helpers with a sort of grammar I like how MDN documents the formal syntax of CSS rules. For instance the formal syntax of the boxshadow rule is as follows httpsdeveloper.mozilla.orgenUSdocsWebCSSboxshadowFormalsyntax
none | inset offsetx offsety blurradius spreadradius color 

Using this for helpers you could have something as follows for each
each array itemViewClassitemviewclass emptyViewClassemptyviewclass itemControlleritemcontroller as |item|

In any case correct me if I'm wrong but I don't think that in their current format the documentation of the parameters are particularly useful to most of the Ember.js users.";1
935;Allow Route to render a View correctly when the View's Template is explicitly set.;"If template is explicitly set on an Ember.View I would expect the view to render with that template as it would normally. However a template explicitly set on an Ember.View that is obtained from the container in Ember.Route.render is ignored and the container is asked to provide the corresponding template. For view's that have simple one line templates i.e. template Em.Handlebars.compile'My name is name' it is desirable from my perspective at least that one should still be able to specify a template directly on a view and not be forced to use defaultTemplate or a separate file along with templateName.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Router can not render View with embedded Template nonexternalized;"I have a simple View that I would like to render when Route is executed. Apparently Route implementation of render function always try to set a particular template into the view ignoring if

View already has a template
Template which is trying to be set is not there undefined

This small fix checking if template is there and if not then it will not try to manipulate template parameter of the view.
Stackoverflow question httpstackoverflow.comquestionsviewwithembeddedtemplatecantberendered
JSFiddle httpjsfiddle.netnLvf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
936;Decouple embertestinghelperstest from default resolver;"
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Decouple acceptancetest helperstest frm globals;"Decouple the acceptancetest and helperstest files from the globals
resolver per .
Update setupForTesting to reference the router factory in the registry
instead of the globally resolved one on the application instance.
Extend the Router during application registry setup to isolate
reopen calls.";1
937;Document Ember.Route controllerName and viewName properties;In reference to .;Added documentation for controllerName property on Route;So I was trying to reuse a controller in multiple routes and tucked away in the setup method on the routes I found the undocumented and very useful controllerName property I could use for just that.;1
938;Glimmer Implement mut and readonly helpers;"Also implement support for the INVOKE symbol in closure actions.
This also enables partial reference pooling on components û when doing rending a foo in the foobar layout it first checks if foo is an arg passed from the outside foobar foo... and if so it tries to reuse the same reference instead of making a newone. This should reduce the total number of references created and also reduce the number of value computation as the same reference can be reused across multiple curlies.
This also allows Glimmer to better optimize things û for example if the component is invoked with literals foobar footrue and foo is then used in a conditional in its layout if foo... Glimmer will be now able to see that foo is a const reference and optimize out the updating step. This works recursively as well û if foobar then passes the same property down barbaz barfoo we now propagate the same reference all the way down.
Thanks Joelkang for doing most of the work on this one in 
Closes";GLIMMER Add component name to classNameBindings assertion.;No description provided.;1
939;Better error message for calling set on a destroyed object.;cf httpdiscuss.emberjs.comtcouldcallingsetondestroyedobjecterrorbemoredescriptive;DOC Improved assertion message upon calling set on a destroyed object;"See 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
940;Component sendAction code sample;I think that the API evolved and the code sample wasn't adapted right sendAction is just a simpler version for triggerAction. But it can't be triggerAction because that one takes a hash as input. Correct me if I'm wrong.;DOC Fix a typo in the Ember.Component documentation;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
941;Fixes leading slash being added to componenttest module name;"Fixes leading slash being added to componenttest module name when not generated alongside a component.
embercliembercli
embercliembercli
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add filter for undefined options.path during componenttest blueprintgenerator;"Howdy folks 
I don't know the root cause of this issue but I thought I thought I would open the discussion with a PR that actually fixes it for me.
The issue occurs when I use ember g componenttest supercomponent from the command line. The render calls in the generated tests have the component name prepended with a for some reason. Here is what it looks like
 this.renderhbssupercomponent

 this.renderhbs
 supercomponent
 template block text
 supercomponent
 

Doing a bit of debugging I found that options.path was undefined when coming into the generator but like I said I don't know why that might be the case. All I know is that the fix in this PR works for me now 
I didn't include any tests or anything because at first glance I didn't see any test harness that actually exercises the generators. Let me know if there is one and I'll create whatever tests are required.
As ever if you have any questions just let me know";1
942;Revert withtests;"Reverts 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGFIX Release Special case with for isTruthy;Should resepect isTruthy on objects.;1
943;Prevent race condition in Router;"This defends against deleting the wrong view from the Router's activeViews when we have a newer view with the same template name. It closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix over zealous active view removal;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
944;Build test and install embedding example.;Addresses . Should catch basic regressions in the embedding example.;fix embedding example continued;This is a rebased version of plus the changes I wanted. However the example program crashes on startup for me have not figured out the problem yet.;1
945;Add promotion rules for Nullable;"These are consistent with convert.
Cc johnmyleswhite";Add missing promoteop method for Nullable;"I noticed that these promotion methods were missing for Nullable types when working with the following code
julia using NullableArrays

julia NullableArrayDateTime NullableArrayDateTime
ERROR MethodError Cannot convert an object of type Base.Dates.Millisecond to an object of type DateTime
This may have arisen from a call to the constructor DateTime...
since type constructors fall back to convert methods.
Closest candidates are
 convertTypeDateTime Date
 convertRRealTypeDateTime RReal
 convertTTypeT T
 ...
 inlined code from .nullable.jl
 in NullableArrays.NullableArrayDateTime NullableArrays.NullableArrayDateTime at .arraymath.jl
 in evalModule Any at .boot.jl
These changes should be backported to .. The promoteop test will need to be updated to work on . and ..";1
946;IO fixes;just going back through old IO issues and trying to close a few;Don't declare nested anonymous types;"This addresses this warning
.julia.h warning anonymous types declared in an anonymous union are an
extension Wnestedanontypes
struct";1
947;fix imII should be shown as imI;No description provided.;display complex UniformScaling with parentheses;fixes;1
948;RFC Make Tuple types with defined lengths iterable;"More abstract tuple types like Tuple or NTuple without parameters and vararg tuples remain without any iteration methods defined.
This is something I'd really like to see but I understand that it may be contentious. For the most part this is fairly straightforward but I did discover one minor confusion stemming from a definition for eltype for NTuples of all the same type. Since eltype works in the type domain there is no way to tell whether eltypeNTTypeNTupleNT should be T or TypeT. I have removed these definitions. This broke one unrelated test since collect is now Any and indexing with an Any array isn't implemented.";Add functions nparams getparam to access type parameters;No description provided.;1
949;Move markdown types into their own file.;"cc onemoreminute I know we discussed this but after hacking on some other bits it seems clearer that this is a significant improvement in terms of clearer code simplicity.... Also I realised that after doing this as a proof of concept it's is going to be difficult to rebase and I don't really want to do it again... so selfishly wanted to punt it as a PR. 
All this does is reorder methods so that the rendering utils are available when markdown types are defined e.g. group all the methods related to Code together.
This also adds in a couple of missing methods which I spotted were missing once in individual files.
Edit I don't think the linux travis failure is me";Add missing markdown render methods.;Markdown plain text rendering was missing for BlockQuote and Link types.;1
950;WIP Improve accuracy of for illconditioned matrices;"Add the algorithm for At from Higham and Lin . See .
I split the old version of logm into several functions to reuse some of the code.";Fixed the algorithm for powers of a matrix.;"Fixed 
I did a few small bugfixes and also changed the AAbstractMatrix pInteger algorithm a bit to make use of powmAUpperTriangularT pReal.";1
951;RFC Give AbstractArrays smart and performant indexing behaviors for free;"This is still a work in progress but I'd like to get some feedback on the architecture and design here before applying this same sort of scheme to setindex.
The basic idea is that the only getindex method defined in base for abstract arrays is getindexAbstractArray I.... And the only methods that an AbstractArray subtype must define are size and just one getindex method
getindexT Int if linearindexingT LinearFast
getindexT Int Int ...ndimsA indices... if LinearSlow
Unfortunately it is currently impossible to express the latter method for arbitrary dimensionalities but in practice it's not a big issue most LinearSlow arrays have a fixed dimension.
This is achieved through dispatch on an internal getindex method which recomputes the indices such that it can call the canonical getindex method that the user must define. If the user has not defined their canonical method it will fall back to an error method in getindex. I use similar scheme for unsafegetindex with the exception that we can fallback to the safe version if the subtype hasn't defined the canonical unsafe method. This enables fast vector indexing by checking bounds of the index vectors instead of on each element. And once inbounds is extensible AbstractArrays will be able to support it by default.
The difficulty with all this redirection is that an extra function call can wreck indexing performance and it can be hard to avoid. I've had particular difficulty getting good performance with CartesianIndexes and I still lag in performance there by x for big arrays. I think call site inline annotations would be a magic bullet but there may be other tricks we can use too. I've not looked into this very carefully yet though. Fixed with a more sensible inlining strategy
TLDR
In my cursory performance tests hacked onto Tim's indexing perf suite from his reshape work more tests are needed I'm close to matching or outperforming master with Array with only these definitions
julia methodsgetindex Array Any...
element ArrayAny
 getindexAArrayTNiInt at array.jl
 getindexTRealAArrayTNIRangeTReal at array.jl Needed for bootstrap
 getindexAAbstractArrayTNI... at abstractarray.jl
Of course in places where we're not quite able to close the gap we can always reinstate the specialized methods. This is just a very useful stresstest of both functionality and performance.
cc timholy";Improve bounds error for ranges;No description provided.;1
952;make countfitr count the number of nonzero countnzitr countitr;Closes .;Add countitr to count true elements;Fix .;1
953;fix embedding docs of jlatexithook;It seems that this now takes a return value parameter.;Add missing return argument for jlatexithook.;No description provided.;1
954;Fix embedding example simplify Makefile and test it;"get rid of makefile cruft
build inplace instead of putting in usrbin
use juliaconfig for flags as documented in manual

related";Immediately expand JULIAHOME in Makefile;"This fixes part one of 
The size of my patches is starting to get pretty small. Next up replace a single character with the smallest possible hamming distance to truly attain the smallest possible diff.";1
955;Improve apropos searching of markdown;"Search the entire plaintext markdown wholistically instead of searching each markdown element independently. Before docsearchmdfoo bar rfoo.bar would return false it now properly returns true.
This does have significant overhead it is about x slower than the current implementation but it still searches the entire standard library on my wimpy laptop in less than . seconds after compilation. This does get slightly worse as more packages are imported but I am not aware of any packages that even come close to defining as many docstrings as there are in the standard library.
As a bonus the implementation is much simpler too.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";strip all MD markup when calling docsearch on Markdown.MD object;"Instead of recursing through the elements inside a Markdown.MD object and searching them independently this PR now strips all markup from the MD and searches all the plain text contents.
This means that we can now do things like this
julia 
 This would not have worked before

 but now it does
 
 foox y xy
foo generic function with method

julia aproposbut now it does
foo

julia aproposrwould not.before
foo";1
956;Include deferredalloc in total allocation count;"This was caused by which should have been obvious since the issue was reported days after the PR was merged.....
Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";avoid DomainError in time;"when bytes and allocs 
 . secondsERROR LoadError DomainError
 in nandomerr at .math.jl inlined
 in logFloat at .math.jl
 in prettyprintgetunitsInt Int Int at .util.jl
 in timeprintUInt Int Int Int at .util.jl
 in includefromnodeString at .loading.jl
 in includeString at .sysimg.jl";1
957;Key and value iterators show their contents on the REPL;simonster suggested this idea. Since showing a key iterator on the REPL is currently dumping the whole dictionary using the most generic show routine it seems we might as well show just the dictionary keys. A frequent complaint about Python is that it;RFC Moderately improved dict printing;"This is a modest attempt at improving the situation for issue . I've added
slightly enhanced summarys with information about the number of kv pairs for
Associative and KeyValueIterator types.
I'm still slightly confused by all the different methods used for show but
this PR keeps the old behavior mostly as showcompact. I then added new
functionality in show and showlimited using newlines as delimiters between
keyvalue pairs. When output is limited values are truncated at newlines or
the TTY screen edge and a limited number of pairs are printed.
The key and value iterators no longer spit out entire dictionaries when shown.
They instead show a limited array of the keys and values.";1
958;fix the read and write methods of DevNull;"This patch fixes the IOrelated behaviors of DevNull.
In the current revision writeDevNull x is not callable
vjulia master|à juliadev
 
 | A fresh approach to technical computing
 | | Documentation httpdocs.julialang.org
 | | | Type help for help.
 | | | | | | | | |
 | | || | | | | | | Version ..dev UTC
 |\'|||\'| | Commit dcad days old master
| | xappledarwin..

julia writeDevNull x
ERROR Base.DevNullStream does not support byte IO
 inlined code from error.jl
 in write at io.jl
And readDevNull UInt throws an incorrect exception due to a typo EOFErorr.
So I fixed these problems and added tests in testio.jl which is a newly created file for these tests since I couldn't find a suitable place to put them.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Few tests for DevNull properties;"I wasn't sure if testmisc.jl was the right place for these. I can move them if there's a better file for them to go in.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
959;Fix type inference problem for eigSymTridiagonal;"by changing the catch all kwargs... argument in eigStridedMatrix to specific keywords and by adding
a fallback eig method without keywords.
Also changing the formatting of the eig methods for SymTridiagonal to make
them easier to read.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";better inference when calling a nonkw method with empty kw;"reported by andreasnoack
is there an open issue about that";1
960;WIP datesio coverage;"Test show representation of DateDateTime.
Refs

httpscoveralls.iobuildssourcefilenamebaseFdatesFio.jlL
httpscoveralls.iobuildssourcefilenamebaseFdatesFio.jlL

av skip";A few small miscellaneous tests;For Dates and a last missing one for Char.;1
961;Added ConjArray wrapper type for conjugate array views;"By default this is used only in conjugation with RowVector so that both transposevec and ctransposevec both return views.
However this will pave the way for views for transposed matrices and replacement of AcmulB etc by specialized methods on simplifying parsing.";Make rowvector tests check for specific exception type;"addresses comment cc andyferris
and line wrap";1
962;Don't bail out on test errors by default;"I don't always run tests
But when I do I ignore the failures.
Seriously though when I run all tests locally it is because I want to know the status of all of them for individual investigation later e.g. . Tests are slow in general really slow on Windows and painfully slow with MCJIT on Windows. Stopping the run due to a possibly random failure in the middle of the list is unhelpful because it only tells me about one test failure at a time. I usually go away when running tests because my core gets really sluggish.
This PR makes the test suite continue through errors by default and adds a check for the environment variable JLTESTFAILURESTOP for use on the CI systems.";Replacement for Base.Test ready for review;"The goal of this PR is to make Base.Test better than just assert with some fancier output. It does so primarily by introducing testset which lets users bundle tests together and delay throwing an error until the end.
Designwise it primarily needs to be nonbreaking for . uses of the current Base.Test and be simple minimal and relatively opinionfree. It is clear there is a large space of possibilities for testing frameworks but I don't want to go there personally. My goal is for a incremental improvement over the existing Base.Test if someone wants to pick up the ball and add more features later they can. A thing that falls outside the scope includes fancier outputs to e.g. files.
This PR is basically httpsgithub.comIainNZBaseTestNext.jl. It is a dropin replacement for Base.Test and all tests except for those in testtest.jl pass without modification.
Features for later PRs probably not by me

Use the special formatting on Travis for expandcollapse via simonbyrne
Enable changing the default test set used which then enables custom output e.g. JSON XML
testapprox needs to be either included in the testset world or even better deprecated in favor of isapprox based testing.

Some demo output from BaseTestNext.jl";1
963;Fix typo in variablesandscoping.rst;Fixed to in output of soft local scope example.;Fix example in documentation;There was a wrong output for the example of scoping of forloops variables.;1
964;WIP Add methods optional RNG argument to randrng Array... and r...;"...andrng Array... that create arrays
For some reason dsfmtfillarray with state is not deterministic in my tests right now
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rand sampling from an array accepts an optional rng;"The diffs for the docs update are probably easier to read with Split diff instead of Unified. I tentatively merged the two docs for rand into one text but comments are welcome.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
965;remove unnecessary doc string macros resync documentation;No description provided.;Convert stdlib to markdown.;"This completes the conversion of the stdlib docstrings from a mixture of markdown and rst to just markdown.
This PR consists of the following

split helpdb.jl into several smaller files based on which module they're from
add footnote parsing and rendering footnote and footnote content
add rst simple table rendering
transform links when outputting rst if they're func ref etc. This is a temporary measure until the manual is also converted to markdown when we can switch to StefanKarpinski's plan for refs.
adds inline tex using the scholarly markdown syntax of double backticks and fenced code blocks with language math
Reformatting of all docstrings in Base to remove rst blocks wrap text at chars
adds a macro to basedocs.jl to make the keyword docstrings defined there appear more uniform with doc ie. docstring above the object being documented
regenerate the stdlib docs and make some minor fixes to correct for incorrectly escaped \s

.. note syntax doesn't seem to have an equivalent in markdown so I've just made a basic change for now a header called notes I'll change to something else if anyone has a suggestion for formatting them differently.
make doctest fails currently with incorrect backtrace linenumbers nothing related to this PR I believe.
The best commit to review these changes is probably the last one edce most of the diff is just escaped backslash changes which don't appear to affect the final docs in any way.";1
966;WIP Clean up arraylistt handling ci skipav skip;"This compiles cleanly but it crashes and I haven't had time to look into it yet but I thought it might give people an idea of just what I was saying about changing the code to not depend ever on sticking integers into pointer values at least for right now for things using arraylistt.
My digging into this has also exposed some things I'd like to ask about where it looks like there is potential for memory leaks...";Initialize finalizerlistmarked;"Noticed this when I was checking .
This doesn't cause a crash because arraylistgrow thinks the items NULL space is a malloc'd array and called realloc on it which is allowed.
The implementation seems to be robust against this but this IMHO should be fixed.
Note that this does not fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
967;helpdb.jl Turn into explicit code blocks;"Avoids Sphinx getting upset or incorrectly parsing blocks
Note There are still blocks in the manual using that are preceded with comments
.. Docstring generated from Julia source
Are these autogenerated somewhere I couldn't find a script that extracted these blocks. onemoreminute
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";let's release this thing;"everyone cheer Jake is near the finish line

 Rendering of Mmap.
 Sphinx search resultpermalink of Base.processmessages
 Sphinx search result for macros e.g. assert nloops
 Stdlib doc for the doc system
 repl documentation for macrocalls";1
968;NTuples made me sad so I nixed them;"This rabbit hole turned out to be a giant dungeon instead and I haven't yet found the exit. I think I'm very close but I've spent far too much time on this and I'm beginning to run out of ideas and energy. but yay I found the exit.
This is the latest attempt at NTupleNT TupleVarargTN aka . Julia builds and passes many all tests but borks on some e.g. subarray. The current problem seems to be that a VarStateTupleVarargTNfalse gets injected somewhere leading ultimately to an attempted TupleVararg ASCIIString and Vararg type in nonfinal position error. It's probably a line fix but I have not yet succeeded in finding the correct lines inference.jl is difficult for notJeff to hack on.
This still containsThe intermediate commits contain a lot of debugging code that will eventually be was deleted in the later commits. In the end the way I got this farto work was to write new versions of jlintersecttype jlsubtypele typemorespecific and typematch which called the old algorithm and stored the result then translated NTuples onthefly and then called the new algorithm with the translated arguments and printed some output if the two disagreed. This branch is partway through the deletion of all that debugging code before completing the migration I'd love to figure out where the problem is.
It turns out that we have enough differences in how NTuples and TupleVarargs behave that some disagreements are unavoidable one of the best things about this presumably is that such differences will go away. I even went to the trouble to catalog the differences in the best column I use N to indicate that I think the new algorithm yields the most sensible result and O to indicate the old algorithm. Only two of those four algorithms had differences of which representative examples are
jlintersecttype
none as measured by a b b a
jlsubtypele



a
b
ta
invariant
old result
new result
best




Tuple
Tuple




N


TupleVarargTAny NAny
TupleVarargTAny NAny




N


Tuple
NTupleAny TAny




Osame


TupleTupleTupleAny Any
TupleTupleTupleAny Any




N


TupleVarargInt NAny
TupleVarargTAny Any




N


TupleSymbol Integer
TupleVarargTAny NAny







TupleChar Char
TupleVarargTAny NAny




N


TupleTypeTupleInt Int
TupleTypeTupleInt VarargInt NAny




N


TupleTypeTupleChar TupleVarargAny NAny
TupleTypeTupleVarargTAny NAny Tuple




N


TupleTupleTupleVarargAny NAny Int
TupleTupleTupleVarargAny NAny Int




N


TupleTupleSymbol VarargSymbol NAny DataType TypeTAny
TupleVarargTAny NAny




N


TupleSymbol VarargSymbol NAny
Tuple




N


TupleDataType Type
TupleVarargTAny NAny




N


TupleTupleSymbol VarargSymbol NAny DataType TypeTAny
TupleTupleVarargAny NAny DataType VarargAny NAny




N


TupleTypeTupleTypeBase.IteratorsMD.CartesianIndex TupleInt Int Int UInt
TupleTypeTupleTypeBase.IteratorsMD.CartesianIndex TupleVarargInt NAny UInt




N



jltypemorespecific
none
typematch



child
parent
morespecific
invariant
old result
new result
best




NTupleNAny Int
NTupleNAny Integer




N


TuplePtrTAny NTupleNAny Int
TuplePtrTAny NTupleNAny Integer




N



Note that in only one case doesthere are no cases where the result in current master seems to make more sense to me than the version here. I think there's some chance that once working this will fix some ambiguity and similar problems.";Fix type intersection of NTuple's;"The type intersection of NTupleN Int and NTupleN Float should be Tuple
This also give a ambiguity warning with the following function definitions
julia fNNTupleN Int 
f generic function with method

julia fNNTupleN Float 
Warning New definition 
 fNTupleNAny Float at none
is ambiguous with 
 fNTupleNAny Int at none.
To fix define 
 fTuple
before the new definition.
f generic function with methods
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
969;Bump to openlibm v. and openspecfun v.;"Bump openlibm and openspecfun versions. This is primarily to run all the tests in CI and upstream versions will be tagged if everything passes. This PR will then be updated to then use the released upstream versions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump openlibmspecfun versions to get properly versioned shlibs for them;"Also move openspecfun git branch to v.. as master is just a branch and is less desirable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
970;use sigwait for threadsafe and multithreadaware signal handling;"this is a redesign of the unix signal handling so that it will be more threadsafe and extensible.
yyc Close";Try to synchronize threads initializations;"Using uvbarrierwait as tkelman suggested in comment . I've also thought about tithreadgroupbarrier but I'm not sure if it is available at this point without introducing more race conditions....
Tested on top of and it seems to fix the segfault for me.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
971;maybe fix juliadebug on windows;"... by loading sys.dll but ignoring the code in it. cc tkelman
I haven't tried this yet on windows.";make win juliadebug build work again;"this makes two copies of sys.dll linked against both libjulia and libjuliadebug so that the user can pick the right one. loading the wrong one will probably cause a segfault pretty quickly.
breadcrumb these copies of sys.dll were built independently so the cache search path in will also need to be updated to be split based on some function of the debugbuild flag sys.so namelocation or the Main.uid value.";1
972;BUG CategoricalBlock shift GH;"Should resolve .
CategoricalBlocks always seem to have ndim even if multiple
categoricals are in a frame with the same categories. This simplifies
the axis shift logic somewhat.
Note that dataframe shift with axis still doesn't work with multiple
categorical columns since they are each a different block.";Add test and fix for categorical series .shift .;"
Waiting for Travis and will review further.";1
973;BUG isnull doesnt handle PeriodNaT properly;Related to isnull and notnull is required to be changed.;PERF use unique and isnull in nunique instead of valuecounts.;"closes 
Currently Series.nunique source calls Series.valuecounts source which by default sorts the values.
Counting unique values certainly doesn't require sorting so we could fix this
by passing sortFalse to valuecounts.
But nunique can also be calculated by calling Series.unique instead of
valuecounts and using com.isnull to handle the dropna parameter.
This PR attempts to implement this. Here is a vbench perf test which seems to show an improvement for tests using nunique.
usrbintime v .testperf.sh b master t nuniqueunique r groupby

Here are the best and worst ratios

Test name | headms | basems | ratio |

groupbyngroupsnunique | . | . | . |
groupbyngroupsnunique | . | . | . |
groupbyngroupssem | . | . | . |
groupbyngroupssize | . | . | . |
groupbyngroupsmax | . | . | . |
groupbyframenthnone | . | . | . |
groupbyngroupsvar | . | . | . |
groupbyngroupssem | . | . | . |
...
groupbytransformmultikey | . | . | . |
groupbynthdatetimesnone | . | . | . |
groupbytransformseries | . | . | . |
groupbytransformmultikey | . | . | . |
groupbynthdatetimesany | . | . | . |

Test name | headms | basems | ratio |


While working on this PR I ran into issue GH .
This PR includes Jeff's suggested fix.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
974;Changed uin to uint in response to issue;closes;BUG Fix typo in parsers.py;"closes 
np.uin should be np.uint";1
975;PERF releasing the GIL;"closes 
closes 
This is now implemented for all groupbys with the factorization part as well which is actually a big part fo the time
In N 

In ngroups 

In np.random.seed

In df DataFrame'key' np.random.randintngroupssizeN
 ... 'data' np.random.randnN 

def f
 df.groupby'key''data'.sum

 run consecutivily
def g
 for i in range
 f
def g
 for i in range
 f
def g
 for i in range
 f

 run in parallel
testparallelnumthreads
def pg
 f

testparallelnumthreads
def pg
 f

testparallelnumthreads
def pg
 f

So seeing a nice curve as far as addtl cores are used as compared to some of my previous posts.
In df
Out 
 after before speedup
 . . .
 . . .
 . . .";CLN Remove redundant self.uniquecheck and self.douniquecheck;"New version of which now completely removes unused attribute and method avoiding a couple of useless checks.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
976;BUG Fix subtraction with timezone Series;"Addresses issue in with timezone Series subtraction in which single element Series
objects containing tzaware objects would return a timedelta of zero even though it visually could not be the case.
The bug was traced to the conversion of the contained timezones to UTC in which the method call was somehow returning NaT even though attempts to replicate that behaviour were unsuccessful. This new
method call fixes the issue and is in some ways more intuitive given the comment above the conversions.";BUG GH where tzconvert used values of uninitialized arrays;closes;1
977;Timestamp replace compatibility;"x closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry";BUG GH Timestamp.replace raised ValueError instead of TypeError.;"closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
978;BUG fix for index name lost and also added the corresponding test in testindex.py;closes issue;Ensured that the index gets retained on Frame.apped. Fixes;No description provided.;1
979;ENHBUGDOC allow propogation and coexistance of numeric dtypes;"Support for numeric dtype propogation and coexistance in DataFrames. Prior to .. numeric dtypes passed to DataFrames were always casted to int or float. Now if a dtype is passed either directly via the dtype keyword a passed ndarray or a passed Series then it will be preserved in DataFrame operations. Furthermore different numeric dtypes will NOT be combined. The following example will give you a taste. This closes GH 
other changes introduced in this PR i removed all datetime like issues to PR should be merged first
ENH

validated getnumericdata returns correct dtypes
added blocks attribute and asblocks method that returns a
dict of dtype homogeneous dtyped DataFrame analagous to values attribute
added keyword 'raiseonerror' to astype which can be set to false to exluded nonnumeric columns
changed getdtypecounts to use blocks attribute
changed convertobjects to use the internals method convert which is block operated

added option to convertnumericFalse to convertobjects to force numeric conversion or set to np.nan turned off by default
added option to convertdates'coerce' to convertobjects to force datetimelike conversions or set to NaT for invalid values turned off by default returns datetimens dtype


groupby operations to respect dtype inputs wherever possible even if intermediate casting is required obviously if the input are ints and nans are resulting this is casted
all cython functions are implemented
auto generation of most groupby functions by type is now in generatedcode.py
e.g. groupaddgroupmean
added full floatintint support for all numeric operations including diff backfill pad take
added dtype display to show on Series as a default

BUG

fixed up tests from fromrecords to use record arrays directly
NOTE using tuples will remove dtype info from the input stream using a record array is ok though
fixed merging to correctly merge on multiple dtypes with blocks e.g. float and float in other merger
 can be fixed but is dependent on 
fixed bug in padbackfill with len frame
fixed very obscure bug in DataFrame.fromrecords with dictionary and columns passed and hash randomization is on
integer upcasts will now happend on where when using inplace ops 

TST

tests added for merging changes astype convert
fixes for testexcel on bit
fixed testresamplemedianbug
separated out testfromrecordsdictlike
added tests for GH 
added lots of tests forwhere

DOC

added DataTypes section in Data Structres intro
whatsnew examples

It would be really helpful if some users could give this a test run before merging. I have put in test cases for numeric operations combining with DataFrame and Series but I am sure there are some corner cases that were missed
In df DataFramerandn columns 'A' dtype 'float'

In df
Out 
 A
 .
 .
 .
 .
 .
 .
 .
 .

In df.dtypes
Out A float

In df DataFramedict A Seriesrandndtype'float' 
 B Seriesrandn 
 C Seriesrandndtype'uint' 

In df
Out 
 A B C
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 


In df.dtypes
Out 
A float
B float
C uint

In here you get some upcasting

In df df.reindexlikedf.fillnavalue. df

In df
Out 
 A B C
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 
 . . 

In df.dtypes
Out 
A float
B float
C float

the example from 
In a np.arraynp.random.randint sizeedtype'int'

In b np.arraynp.random.randint sizeedtype'int'

In df pandas.DataFramedicta a b b

In df.dtypes
Out 
a int
b int

Conversion examples
 conversion of dtypes
In df.astype'float'.dtypes
Out 
A float
B float
C float

 mixed type conversions
In df'D' '.'

In df'E' ''

In df.convertobjectsconvertnumericTrue.dtypes
Out 
A float
B float
C float
D float
E int

 same but specific dtype conversion
In df'D' df'D'.astype'float'

In df'E' df'E'.astype'int'

In df.dtypes
Out 
A float
B float
C float
D float
E int

 forcing date coercion
In s Seriesdatetime 'foo' . 
 .... Timestamp'' ''dtype'O'
 ....

In s.convertobjectsconvertdates'coerce'
Out 
 
 NaT
 NaT
 NaT
 
 
Dtype datetimens

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUG fillna with method segfaults on zerolength input fixes;"fixes 
just added a check for zerolength data to the backfill and pad templates
not sure if I should add test coverage the problem is that the tests will not fail without the fix but rather segfault so it might not be a good idea
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
980;BUG GH where nulls contributed to normalized valuecounts;"closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry";BUG valuecountnormalizeTrue dropnaTrue counting missing in denominator;Closes;1
981;BUG The 'jobComplete' key may be present but False in the BigQuery query results;"xref 
Fixes an issue when looking for 'totalRows' on a large dataset that is not finished in between two subsequent checks.";Fix gbq client to only return results when jobCompleted is True.;"When polling for a longrunning gbq job to determine if it is complete we should only return results once queryresults'jobCompleted' is True not just when the jobCompleted key exists. Otherwise the gbq client thinks results exist and it will start attempting to parse the results leading to a weird KeyError
LibraryPython.sitepackagespandasiogbq.pyc in readgbqquery projectid indexcol colorder reauth
 
 connector GbqConnectorprojectid reauth reauth
 schema pages connector.runqueryquery
 dataframelist 
 while lenpages 

LibraryPython.sitepackagespandasiogbq.pyc in runqueryself query
 jobIdjobreference'jobId'.execute
 
 totalrows intqueryreply'totalRows'
 resultpages list
 seenpagetokens list

KeyError 'totalRows'

This simple patch accounts for the case where queryresults'jobCompleted' is False.";1
982;BUG need better inference for path in Series construction GH;closes .;BUG GH in DataFrame construction from dict with datetime index;"closes 
closes 
where DataFrameSeries construction from nested dict with datetime index returns a DataFrame\Series of NaNs.";1
983;ENH Keep original stack when exception happened in dataframe.apply;"when using raise e the error stack app user received will begin in applystandard method.
Use raise instead so that user could received error stack in funvv call. Easier for user to debug.";ENHAPI Keep original traceback in DataFrame.apply;"When raise is used inside a tryexcept block the
original stacktrace containing the code path that raised the original
exception. This makes debugging difficult since all we know is that an error
occured when frame.applystandard attempted to call the provided function.
Preserve the original stacktrace by using raise instead of raise . This facilitates debugginb by allowing us to see where in the
provided callable the exception occured.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
984;BUG Issue in the gbq module when authenticating on remote servers;Resolve issue where gbq authentication on remote servers fails silently.;Use Service Account JSON Key File;"It is recommended by Google that we use Service Account credentials make
API calls from server. See this issue comment for details.
Docs and tests are not yet updated. DO NOT MERGE.";1
985;BUG googleapipythonclient minimum version check;Fixes bug with version check for googleapipythonclient;ENH Add ability to create tables using the gbq module.;"closes 
closes 

Added ability to automatically create a table using the gbq.togbq function if destination table does not exist
Added gbq.gbqtableexists function to the gbq module
Added gbq.creategbqtable function to the gbq module";1
986;Modest performance address;"closes 
closes 
closes 
closes 
Major performance improvements through use of Cython";BUG fixed SASBDATReader.getproperties;"this fixes a crasher I had in one of my files using SASBDATReader.
cc kshedden
self.pathorbuf.read is an obvious mistake
also added totalalign to osnameoffset and osmakeoffset as they are
present in the original code from Jared Hobbs
httpsbitbucket.orgjaredhobbssasbdatsrcdafaadbccaaebccbddsasbdat.pyfileviewerfileviewdefaultsasbdat.py";1
987;BUG incorrectly defined Memoridal Day holiday;"closes 
Memorial Day was incorrectly defined.
It is the last Monday in May so the earliest it could be is the th not the th.
This change fixes the problem.
 from pandas.tseries.holiday import AbstractHolidayCalendar USMemorialDay
 class MemorialDayCalendarAbstractHolidayCalendarrulesUSMemorialDay
 MemorialDayCalendar.holidays''''

Will now return Timestamp' ' instead of Timestamp' '";Update holiday.py to reflect that MLK Jr. Day was first observed in .;"closes 
Fixing MLK day not observed before per comment";1
988;Fix Improve toclipboard for objects containing unicode;"Superceded by 


 closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry

I added the whatsnew entry to ...";BUG in clipboard linux python with unicode and separator GH;"closes closes closes closes 
 tests added passed pandasioteststestclipboard.py for OSX
 passes git diff upstreammaster | flake diff";1
989;BUG unstack fails for mixed dtype subset;"closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TST tests for GH GH GH GH;"closes 
closes 
closes 
closes 
minor code change to otherwise only tests. the code change is to avoid issue.";1
990;DOC reorg whatsnew file v..;"No real edits just some rearranging.
I added an automatic 'contents' in the beginning so this gives all headers automatically and in this way restricted the list in the beginning to just the highlights then it can be copied exactly like this to the release notes in release.rst";DOC Remove duplicated Indexing Changes section;"Indexing Changes section is duplicated in what's new.

httppandasdocs.github.iopandasdocstraviswhatsnew.html";1
991;Skip tests on network error;No description provided.;TST Move explicit connectivity checks to decorator.;"Instead network decorator in pandas.util.testing catches IOError instead.
You have to opt into failing on tests by setting
pandas.util.testing.RAISENETWORKERRORDEFAULT to True.
Also adds a withnetworkconnectivitycheck that can automatically check for a connection.
Fixes .
This version of the fix ignores all IOErrors and assumes there are connectivity problems
with any URLError.";1
992;Show Index Headers on DataFrames with Style;"Partial solution for Conditional HTML styling hides MultiIndex structure and Followup to Conditional HTML Styling.
The Style API is inconsistent with DataFrame.tohtml when printing index names. Currently the style API doesn't print any index names but tohtml and the standard notebook repr functions do.
This PR adds a row for index headings in the Styler.translate method. This PR does not cause multiindex rownames to span multiple rows but I can work on adding that if people want.
Reproducing Output
import pandas as pd
import numpy as np

np.random.seed
df pd.DataFrame'A' np.linspace 
df pd.concatdf pd.DataFramenp.random.randn 
 columnslist'BCDE'
 axis
df.setindex'A' 'B'.style
Current Output

 Patched Output

 TODO
 X Add Tests";Include index names in column names of HTML output of DataFrame Styleà;"Include index names in column names of HTML output of DataFrame Styler if the index names are available previous behaviour is not to include index column names and instead leave blank spaces
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
993;add traintestsplit function to DataFrame;Use random sample to split a DataFrame to train set and test set which ready for cross validation.;added randomsplit in generic.py for DataFrames etc.;"Added a method randomsplit for NDFrames to split the Frame into several frames according to one axis.
Basic use for traintest or trainvalidationtest splitting of a dataframe.
Note I'm not sure this feature fits well in NDFrame. If you think this feature can be added I'll add more tests and docs.";1
994;COMPAT DataFrame construction compat with xarray.Dataset;"closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";COMPAT Objects construction compat with xarray.Dataset;"closes 
 tests added
 tests passed
 passes git diff upstreammaster | flake diff
 whatsnew entry

I'm changed the dict mapping issue but I can't get this part working so the tests fail at the moment

But pd.Seriesdictxr.Dataset'a' 'b' doesn't work either because the values in the dict are th dimension arrays and Series doesn't unpack them listdictxr.Dataset'a' 'b' .values for the full code
 comment

Is that a reasonable goal Where would be a good place to do the conversion";1
995;ENH readexcel MultiIndex;"closes 
xref 
Output of toexcel should now be fully roundtrippable with readexcel with the
right combination of indexcol and header.
To make the semantics match readcsv an index column name hasindexnamesTrue is
always assumed if something is passed to indexcol this should be nonbreaking
if there are no names it will be just filled to None as before.
In df pd.DataFrame 
... columns pd.MultiIndex.fromproduct'foo''bar''a''b'
... names 'col' 'col'
... index pd.MultiIndex.fromproduct'j' 'l' 'k'
... names 'i' 'i'

In df
Out 
col foo bar 
col a b a b
i i 
j l 
 k 

In df.toexcel'test.xlsx'

In df pd.readexcel'test.xlsx' header indexcol

In df
Out 
col foo bar 
col a b a b
i i 
j l 
 k";TST corrected URL for newly added Excel test data file;"There was one small thing overlooked when merging PR the url of the renamed test file was still pointing to my repo instead of pydatapandas.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
996;WIP Refactoring SQL code into perflavor classes.;"Still don't have down the code to dispatch appropriately though I'm not
even clear why the existing code has individual flavors given that it
appears to only accept SQLAlchemy objects anyways. Also would be
helpful to cover additional cases where we get connections and want to
convert to cursors.";ENH sql support via SQLAlchemy with legacy fallback;Code tests and docs for an updated io.sql module which uses SQLAlchemy as a DB abstraction layer. A legacy fallback is provided for SQLite and MySQL. The api should be backwards compatible with depreciated names marked as such.;1
997;Use correct random choice function in code snippet;A hidden code snippet uses tm.choice when it should use np.random.choice;Update groupby.rst;"Fixed typo replaced tm with np.random as there is no tm module in this doc so that the choice method at line will work. ellisonbg
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
998;pg requires PostgreSQL;backport of;cli Add JSON logs for operations commands;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
999;pg backend requires PostgreSQL;"CREATE SEQUENCE AS was added in version 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";core Internal implementation of the refresh only planning mode and replace planning option;"This PR adds the internal handling of what will eventually become the refreshonly and replaceADDR options when creating a plan. There's not yet any UIlevel code to activate these two so for the moment these are just dead code from an enduser perspective but I want to land these parts first and then iterate separately on how to present the effects of these in the UI since I expect that'll be a more subjective discussion with more tradeoffs to weigh.
For refresh onlyat the lowest level of abstraction inside the graph nodes themselves this effectively mirrors the existing option to disable refreshing with a new option to disable changeplanning so that either half of the process can be disabled. As far as the nodes are concerned it would be possible in principle to disable both but the higherlevel representation of these modes prevents that combination from reaching Terraform Core in practice because we block activating both skip refresh and the refreshonly planning mode at the same time when creating a context.
The forcereplace option is ultimately handled inside the NodeAbstractResourceInstance.plan method in the same place we handle the similar situation of the provider indicating that replacement is needed and so the rest of the changes here are just to propagate the settings through all of the layers in order to reach that point. The only externallyvisible difference in the result between those two situations is the new ActionReason field we added earlier in which we'll use in a later commit to describe this situation differently when we present the planned changes to the user.
This also introduces a new Mode field for plans which records which mode was active when the plan was created. As with ActionReason in the earlier PR this is something we'd intentionally excluded so far in fear of it becoming a loadbearing part of the planapply process but our later UI work here will need to include an explanation in the UI for why a refreshonly plan doesn't plan to change anything and so having core report that out rather than replicating similar logic in the UI layer again seems preferable to ensure that these will always stay aligned over time as the rules might change. This field is explicitly documented as for presentation only since the details in the Changes object should always be totally sufficient to correctly execute the apply step the plan mode just affects what sort of actions Terraform might include in the plan not how those chosen actions are to be executed.
Since these two changes have some toplevel overlap but are otherwise in different parts of the core package it might be easier to review them on a percommit basis.";0
1000;backport save apply diagnostics on backend failure;". Backport of 
Make sure to collect apply diagnostics before persisting the backend
state so runtime errors are not lost.";Backport of remove codedov into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

This leaves the cover profiles in place for now we can remove them later if we don't want to make use of those.";0
1001;save apply diagnostics on backend failure;"Make sure to collect apply diagnostics before persisting the backend
state so runtime errors are not lost.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of remove codedov into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

This leaves the cover profiles in place for now we can remove them later if we don't want to make use of those.";0
1002;Move all Go packages under internal;"Aside from some historical exceptions under helper which have since moved to the plugin SDK all of the Go packages in this repository have always been for Terraform's internal use only and not supported for importing by other codebases as if Terraform were a library.
However this codebases predates the addition of Internal Packages in the Go toolchain and so our packages were not positioned in such a way as to make it clear using the usual Go idiom that they are not suitable for external imports. Unfortunately this has meant that several times over the years we've refactored these internal packages and then heard from folks who mistakenly thought we were trying to create a public API surface because we'd broken their external system. That's a reasonable misunderstanding to make given how our repository is structured but unfortunate that someone would find this out only after having invested time building something against an unsupported library API.
Although we've been using the internal directory for newlyadded packages we've long put off moving our existing packages under internal due to the disruption that would inevitably cause to existing code contributions that are not yet merged and make it harder to backport commits to older releases.
However we use tags in this repository to represent official Terraform releases and do so using a syntax that happens to match what the Go toolchain expects for semantic versioning of library modules. Due to that overlap once we make a tag which looks like an initial semver release we will per normal Go idiom and Go toolchain assumptions unfortunately also be unintentionally communicating that this is a stable API surface that other Go modules can depend on.
Although there is never a good time for a change like this it's time to bite the bullet and get this migration done so that we're communicating our intentions in the way the Go community expects before we have a release tag in this repository that could be misinterpreted as a semantic versioning initial release and thus inadvertently encourage new dependents.
The only exception here is that I've not moved the github.comhashicorpterraformversion package to github.comhashicorpterraforminternalversion. Although we don't intend for that to be a public interface either it's pragmatic to leave it where it is because our automatic release processes update the version numbers in that package and so leaving these alone avoids the need for the release process to handle two different possible paths to update so that we can continue releasing against older major versions if we need to.
This sort of change is not practical to review in a difflike form so I can only promise that all I've done here is mechanically move directories around and rewrite import paths. There is no change to any code here aside from import statements and so this new tree should be functionally equivalent to what came before it.
I'm intending to backport this to v. too so that the current release branch is in the same directory layout as main in case we need to backport further changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of remove codedov into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

This leaves the cover profiles in place for now we can remove them later if we don't want to make use of those.";0
1003;backport Prevent automatic backend migration during terraform init;"v. Backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove codedov;This leaves the cover profiles in place for now we can remove them later if we don't want to make use of those.;0
1004;Prevent automatic backend migration during terraform init;"When terraform detects a change in the stored backend configuration it will always attempt to setup a state migration. This often presents a problem for users when the stored configuration is no longer valid in some way usually due to changes in authentication or accidental misconfiguration. The failure mode here can be quite confusing as the error may show Access Denied or similar for what the user intends to be the current backend though it is originating from the stored configuration.
Since init is a required part of the workflow the majority of time that init is executed migration is not expected. In the cases where it is desired the user should already be aware of the change because there was a change in the configuration. This would also match the behavior of running terraform in a clean environment every time as it usually is in automation.
See for more background.
This PR adds an init migratestate flag to indicate automatic state migration is desired. This flag will be implied by the forcecopy flag since that would indicate state migration is expected. If init now encounters a change to the stored backend configuration it will always return an error when neither reconfigure or migratestate is supplied. This would not apply to the first time a backend is configured as there would be no stored configuration to compare preventing any change in the usual remote state onboarding process.
We can also improve the init error output here and replace some of the legacy output strings with diagnostics removing the Please see the error message above errors which are referring to error output written to stdout. Being able to catch the unexpected change in backend configuration and return an error allows us to now present the user with instructions about how to accept the configuration changes either through migration of reconfiguration.
 Error Backend initialization required please run terraform init

 Reason Backend configuration changed for s

 The backend is the interface that Terraform uses to store state
 perform operations etc. If this message is showing up it means that the
 Terraform configuration you're using is using a custom configuration for
 the Terraform backend.

 Changes to backend configurations require reinitialization. This allows
 Terraform to set up the new configuration copy existing state etc. Please run
 terraform init with either the reconfigure or migratestate flags to
 use the current configuration.

 If the change reason above is incorrect please verify your configuration
 hasn't changed and try again. At this point no changes to your existing
 configuration or state have been made.

Running init without either of those flags will show
 Error Backend configuration changed

 A change in the backend configuration has been detected which may require migrating existing state.

 If you wish to attempt automatic migration of the state use terraform init migratestate.
 If you wish to store the current configuration with no changes to the state use terraform init reconfigure.";Backport of Add more diagnostic configuration context to provider methods into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

There were some remaining calls to providers where configuration could be
added to diagnostics warnings would not get config annotations
or the diagnostics were skipped entirely.
To ensure that real provider diagnostics with configuration information are
maintained ConfigureProvider errors now append a separate message
about missing configuration instead of relying on the diagnostic Err
string format.";0
1005;backendgcs Rework service account impersonation;".targeted backport of . Commits by upodroid.
Manually smoke tested and acceptance tests are passing
 TFACC go test v .backendremotestategcs
 RUN TestStateFile
 PAUSE TestStateFile
 RUN TestRemoteClient
 PAUSE TestRemoteClient
 RUN TestRemoteClientWithEncryption
 PAUSE TestRemoteClientWithEncryption
 RUN TestRemoteLocks
 PAUSE TestRemoteLocks
 RUN TestBackend
 PAUSE TestBackend
 RUN TestBackendWithPrefix
 PAUSE TestBackendWithPrefix
 RUN TestBackendWithEncryption
 PAUSE TestBackendWithEncryption
 CONT TestStateFile
 CONT TestBackend
 CONT TestRemoteLocks
 CONT TestRemoteClientWithEncryption
 CONT TestRemoteLocks
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaeatestremotelocks encryptionkeycty.StringVal prefixcty.StringVal
 CONT TestBackendWithEncryption
 CONT TestBackend
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaectestbackend encryptionkeycty.StringVal prefixcty.StringVal
 CONT TestBackendWithPrefix
 PASS TestStateFile .s
 CONT TestRemoteClient
 CONT TestBackendWithEncryption
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeedaetestbackendwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal
 CONT TestRemoteClientWithEncryption
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeectestremoteclientwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal
 CONT TestBackendWithPrefix
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeftestbackendwithprefix encryptionkeycty.StringVal prefixcty.StringValtestprefix
 CONT TestRemoteClient
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeftestremoteclient encryptionkeycty.StringVal prefixcty.StringVal
 CONT TestBackend
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeaectestbackend encryptionkeycty.StringVal prefixcty.StringVal
 CONT TestBackendWithPrefix
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeeftestbackendwithprefix encryptionkeycty.StringVal prefixcty.StringValtestprefix
 CONT TestBackendWithEncryption
 backendtest.go TestBackendConfig on gcs.Backend with configs.synthBodyFilenameTestWrapConfig Valuesmapstringcty.Valuebucketcty.StringValtffeeeedaetestbackendwithencryption encryptionkeycty.StringValyRyCOikXiZDNExNyiFsJjgLGimoLrGFcLZgQoVk prefixcty.StringVal
 PASS TestRemoteClient .s
 PASS TestRemoteLocks .s
 PASS TestRemoteClientWithEncryption .s
 CONT TestBackend
 testing.go TestBackend testing state locking for gcs.Backend
 CONT TestBackendWithPrefix
 testing.go TestBackend testing state locking for gcs.Backend
 CONT TestBackend
 testing.go TestBackend testing state locking for gcs.Backend
 CONT TestBackendWithEncryption
 testing.go TestBackend testing state locking for gcs.Backend
 PASS TestBackendWithPrefix .s
 PASS TestBackend .s
 PASS TestBackendWithEncryption .s
PASS
ok 	github.comhashicorpterraformbackendremotestategcs	.s";plans Track an optional extra reason for some planned actions;"Previously we were repeating some logic in the UI layer in order to recover relevant additional context about a change to report to a user. In order to help keep things consistent and to have a clearer path for adding more such things in the future here we capture this userfacing idea of an action reason within the plan model and then use that directly in order to decide how to describe the change to the user.
We previously resisted including this because it's arguably a UI concern rather than a core concern it doesn't provide sufficient detail to make applytime decisions based on it and so we always include other information in the change objects to allow us to make the same decisions during apply as we did during plan. However it doesn't seem sustainable to keep replicating all of the reason decisions in both the UI layer and in the core layer so this is a compromise where the core layer decides which highlevel reason to indicate but the UI is still responsible for describing it to the user. The comments inline indicate that this is not to be used for anything other than presenting information to the user.
For the moment the tainted situation is the only one that gets a special message matching what we had before but we can expand on this in future in order to give better feedback about the other replace situations too.
To avoid churn in the plan file format implementation this also preemptively includes the replacing by request reason which is currently not reachable but will be used in the near future as part of implementing the replace... plan command line option to allow forcing a particular object to be replaced.
So far we don't have any special reasons for anything other than replacing which makes some sense because replacing is the only one that is in a sense a special case of another action Update but this could expand to other kinds of reasons in the future such as indicating which of the few different reasons a data source read might be deferred until the apply step.";0
1006;Remove duplicate word;No description provided.;Add more diagnostic configuration context to provider methods;"There were some remaining calls to providers where configuration could be
added to diagnostics warnings would not get config annotations
or the diagnostics were skipped entirely.
To ensure that real provider diagnostics with configuration information are
maintained ConfigureProvider errors now append a separate message
about missing configuration instead of relying on the diagnostic Err
string format.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1007;docsplan fix minor typos;"Fix some typos in the Command plan docs site.

speculative plan which is a description of a the effect speculative plan which is a descripiton of the effect
This option is particular useful when running Terraform This option is particularly useful when running Terraform
Limit the number of concurrent operation as Terraform Limit the number of concurrent operations as Terraform

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of core Add sensitive provider attrs to JSON plan into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

When rendering a stored plan file as JSON we include a data structure representing the sensitivity of the changed resource values . Prior to this commit this was a direct representation of the sensitivity marks applied to values via mechanisms such as sensitive variables sensitive outputs and the sensitive function.
This commit extends this to include sensitivity based on the provider schema. This is in line with the UI rendering of the plan which considers these two different types of sensitivity to be equivalent.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1008;Mechanisms to allow for future language extension;"The Terraform language has always had a number of situations where reserved words defined in the language can appear in the same location as externallydefined names provided by either providers or modules. These are

In provider resource and data blocks Terraform overlays reserved metaarguments onto the relevant provider schema effectively masking any providerdefined argument with a conflicting name.
In module blocks Terraform overlays reserved metaarguments onto the set of input variable names defined in the module. Currently we block modules from declaring such conflicting names but that means that adding any new metaarguments here is a breaking change for existing modules as we previously saw when we reserved count in the v. release.
In provisioner blocks Terraform overlays reserved metaarguments onto the provisioner configuration schema likewise masking any provisionerdefined argument with a conflicting name.
References to managed resources use the resource type name with no prefix like awsinstance.foo but certain prefixes are reserved for other purposes such as var. local. path. etc which means that a managed resource of that name would not be referenceable.

Each of these situations is a liability for future language expansion because it makes any additional reserved word a potential breaking change. While we would always do research to select a name not used in any commonlyused providers or modules there are lots of providers and modules kept private within organizations and so there is always a risk that we'd pick a name that collides with a provider or module used only within a single organization.
In we reserved a mechanism which we intend to use in future to allow permodule optin to new editions of the Terraform language that may have breaking changes such as these which does at least allow for a gradual modulebymodule migration up to a new edition. However our intent is that there should usually be an largelyautomated process for upgrading a module to a newer edition without changing its behavior and that means that we must provide a way to continue using module and provider features that have been newlymasked by reserved words until there's a newer version of the provider or module that supports a nonreserved alternative name.
This PR then proposes two new language additions that will together serve as an escape hatch for all of the situations described earlier so that if we do introduce a new reserved word that is in use by a provider or module we cannot see we can offer a graceful migration path to still opt in to the new language edition without having to wait for the provider or module to be updated.
The resource. Prefix
When we refer to data resources we write data.type.name which means that there's no ambiguity that the second component type is always the name of a data resource type. The resource. prefix aims to get the same result for managed resources so that resource.awsinstance.foo is just an equivalent alias for awsinstance.foo as long as awsinstance is never a reserved word which would be weird.
My intent is that we'd use this as part of the module upgrade tool for any new language edition which introduces a new reserved reference prefix. For example if we'd introduced a new prefix foo. then the upgrade tool would search the module for any references that seem to refer to a resource type called foo and rewrite them to have the resource. prefix leaving all other references unchanged. For example foo.bar.baz would be come resource.foo.bar.baz but awsinstance.foo would remain just awsinstance.foo.
I don't intend to recommend using this prefix in cases where it isn't needed because it'll make such references unnecessarily long. Although I didn't implement this here yet I could imagine a future version of terraform fmt automatically trimming off a resource. prefix for any reference where the resource type name isn't a reserved word in the currentlyselected language edition to help reinforce that this is for upgrade path use only.
Metaargument Escaping Blocks
The idea of escaping blocks aims to address all of the variants above which involve a mixture of metaarguments and normal arguments inside a single HCL block body. This applies to resource data provider and module blocks at the top level and also to provisioner blocks nested directly inside resource blocks.
This mechanism reserves the special and intentionallyoddlooking block type name just a single underscore to contain block body items for which the author intends to avoid interpretation as metaarguments. For example if a later language edition introduced a new metaargument onlyif though there is no current plan to do so it might be the case that there's an existing resource type or module that already has an argument named onlyif which could be escaped using an escaping block like this
resource example foo 
 most arguments stay out here to be
 processed as normal
 beep boop

 
 Arguments that conflict with a lateradded
 metaargument can move in here to
 retain the old interpretation.
 onlyif var.something
 

Terraform interprets the content of the escaping block as if it were written outside of the escaping block except for bypassing the usual preprocessing to handle metaarguments and thus onlyif above would always be understood as an argument of the resource type example rather than as a metaargument.
Again my intent is that we'd use this as part of a module upgrade tool for a new language edition which introduces a new metaargument. It would search the module configuration for any argument names that are now shadowed by the new reserved word and move them into an escaping block to allow the module to retain its existing functionality.
I don't intend to recommend using escaping blocks in situations where they aren't needed because it's an intentionallyoddlooking syntax to try to help make it obviously distinct from normal blocks. Although I didn't implement this here yet I could imagine a future version of terraform fmt automatically hoisting items out of an escaping block if they don't conflict with any relevant metaargument names in the currentlyselected language edition to help reinforce that this is for upgrade path use only.
It's interesting to note here that dynamic blocks actually already serve as a funny sort of escaping block which works only for reserved nested block types a resource block containing a dynamic lifecycle block can produce an equivalent effect as an escaping block with a plain lifecycle block inside of it. Escaping blocks generalize that idea to include attributes too and they offer a syntax that is easier to directly map from the normal syntax retaining attached comments and all in an upgrade tool.

Some Other Loose Ends
Over in there's an early proposal for a new feature to allow separating template definition from template evaluation which if accepted would require adding a new reserved reference prefix. It seems unlikely that we'll fully accept and implement that proposal before we adopt a stricter compatibility promise but it would also be a shame to hold it all the way to a new language edition that's likely at least a year away and so out of a sense of pragmatism here I've also preemptively reserved some prefixes that seem unlikely to already be used as resource type names and that might be what we choose as the prefix for the template proposal if accepted.
These reserved prefixes are template. lazy. and arg.. Only zero or one of these will ultimately be used depending on the outcome of the proposal so the unused ones can be unreserved later and become available for use as unescaped resource type names again.
These additions also serve as a way to rehearse the use of the resource. escaping prefix to resolve any collisions in the unlikely event that there's a private provider out there which has a resource type name which conflicts with one of these three a module using that resource type can be rewritten to say e.g. resource.template. instead of just template. and otherwise retain the existing behavior. Since we are prior to stricter compatibility promises there is no explicit optin here but I'd like to make this tradeoff as a compromise to allow a discussion already in progress to conclude relatively promptly rather than retroactively become subject to a new blocker on its implementation.
The resource. prefix here does of course also theoretically conflict with a resource type literally named resource. That also seems very unlikely in practice but if it does arise then users can escape it by writing resource.resource. which looks silly but will buy some time to select a more reasonable resource type name without being blocked from upgrading Terraform.
Nothing in this PR actually requires the addition of metaargument escaping blocks yet they could in principle be added by the first future language edition that needs them but having this mechanism in place will give us some peace of mind that this path is available and also represent concretely in code our intentions for future language expansion.
It's pretty irregular to introduce stuff like this in a patch release but with stricter compatibility promises imminent I think it's a worthwhile compromise to give us necessarily flexibility for both work currently in progress and future work we've not yet imagined. Therefore I'm proposing to backport this to the v. branch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport of Unmark config values when planning a data source read into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

If the configuration is storing sensitive values in a data source which cannot be read at plan time those values must be unmarked before creating a planned read value.
This also updates the UpgradeResourceState codepaths to use Diagnostics and add configuration context when possible.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1009;Remove GitHub HashiBot configuration;"For the closedissuelocker behavior this is a migration to an equivalent action.
For the labelissuemigrater behavior this is not replaced and instead it is suggested to use native GitHub functionality for issue transfer. If mostly equivalent behavior is desired via label automation it may be possible to submit an issue transfer feature request to dessantlabelactions as it is a popular community action or create a new GitHub Action. Please reach out if this is a major issue for your team.
For the removelabelsonreply behavior it is equivalent except this initial configuration does not make the collaborators distinction. There is a workflow configuration workaround for setting up peruser ignores for any jobstep so if you desire that here please reach out.";Unmark config values when planning a data source read;"If the configuration is storing sensitive values in a data source which cannot be read at plan time those values must be unmarked before creating a planned read value.
This also updates the UpgradeResourceState codepaths to use Diagnostics and add configuration context when possible.
Fixes";0
1010;core Did you mean hint for missing data. prefix in references;"It's a relatively common mistake to try to refer to a data resource without including the data. prefix making Terraform understand it as a reference to a managed resource.
To help with that case we'll include an additional suggestion if we can see that there's a data resource declared with the same type and name as in the given address.";core Add sensitive provider attrs to JSON plan;"When rendering a stored plan file as JSON we include a data structure representing the sensitivity of the changed resource values . Prior to this commit this was a direct representation of the sensitivity marks applied to values via mechanisms such as sensitive variables sensitive outputs and the sensitive function.
This commit extends this to include sensitivity based on the provider schema. This is in line with the UI rendering of the plan which considers these two different types of sensitivity to be equivalent.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1011;monitor plugin std outputs for unexpected data;"Once a plugin process is started goplugin will redirect the stdout and
stderr stream through a grpc service and provide those streams to the
client. This is rarely used as it is prone to failing with races
because those same file descriptors are needed for the initial handshake
and logging setup but data may be accidentally sent to these
nonetheless.
The usual culprits are stray fmt.Print usage where logging was
intended or the configuration of a logger after the os.Stderr file
descriptor was replaced by goplugin. These situations are very hard for
provider developers to debug since the data is discarded entirely.
While there may be improvements to be made in the goplugin package to
configure this behavior in the meantime we can add a simple monitoring
io.Writer to the streams which will surface th data as warnings in the
logs instead of writing it to io.Discard";Backport of Better planing of unknown dynamic blocks into v.;. backport of;0
1012;Backport of Decode change values with marks into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

When decoding change values the stored marks should be applied to the decoded value as this is the direct inverse of the Encode operation. The missing marks were not noticed in most cases because they would be correctly reevaluated on demand however some cases like module output values can rely on the change source alone resulting in the marks being lost during apply.
Many call sites which were aware that the marks were missing would manually apply the marks after decoding. After removing the duplicate marking and verifying tests Decode call sites were again statically located and checked for mark handling. Any locations found that were relying on the absence of marks now must manually strip the marks before processing the values.
Fixes";docs correct spelling of normally;"Reasoning for docs update fix spelling of normally in the sentence which is found in init plan apply docs
Relevant Terraform version current
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1013;Backport of backendremote clearer error when we fail to read the organization into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

Currently the error when we fail to read the organization entitlements while configuring the remote backend is a little cryptic

It implies that the organization definitely does not exist but in practice there are any number of reasons why we might get an error there the user may have misspelled the organization name forgotten to specify the hostname causing it to default to app.terraform.io or be using an API token that's been revoked.
Surfacing more information and common debugging steps should help users resolve this problem more easily.";Updating sensitivenonsensitive docs with v. specifics.;A continuation of with more correct info.;0
1014;Decode change values with marks;"When decoding change values the stored marks should be applied to the decoded value as this is the direct inverse of the Encode operation. The missing marks were not noticed in most cases because they would be correctly reevaluated on demand however some cases like module output values can rely on the change source alone resulting in the marks being lost during apply.
Many call sites which were aware that the marks were missing would manually apply the marks after decoding. After removing the duplicate marking and verifying tests Decode call sites were again statically located and checked for mark handling. Any locations found that were relying on the absence of marks now must manually strip the marks before processing the values.
Fixes";v. update HC Public Key;No description provided.;0
1015;backendremote clearer error when we fail to read the organization;"Currently the error when we fail to read the organization entitlements while configuring the remote backend is a little cryptic

It implies that the organization definitely does not exist but in practice there are any number of reasons why we might get an error there the user may have misspelled the organization name forgotten to specify the hostname causing it to default to app.terraform.io or be using an API token that's been revoked.
Surfacing more information and common debugging steps should help users resolve this problem more easily.";update HC Public Key;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1016;langfuncs File hashing functions stream data from disk;"Previously our file hashing functions were backed by the same read file into memory function we use for situations like file and templatefile meaning that they'd read the entire file into memory first and then calculate the hash from that buffer.
All of the hash implementations we use here can calculate hashes from a sequence of smaller buffer writes though so there's no actual need for us to create a filesized temporary buffer here.
This then is a small refactoring of our underlying function into two parts where one is responsible for deciding the actual filename to load opening it and the other is responsible for buffering the file into memory. Our hashing functions can then use only the first function and skip the second.
This then allows us to use io.Copy to stream from the file into the hashing function in smaller chunks possibly of a size chosen by the hash function if it happens to implement io.ReaderFrom.
The new implementation is functionally equivalent to the old but should use less temporary memory if the user passes a large file to one of the hashing functions.
This might help with but we've not rootcaused that yet. Either way this seems like a reasonable optimization to implement.";v. update HC Public Key;No description provided.;0
1017;cliwebsite ignoreremoteversion doc elaboration and other cleanup;"We previously had only very short descriptions of what ignoreremoteversion does due to having the documentation for it inline on many different command pages and help output.
Instead we'll now centralize the documentation about this argument on the remote backend page and link to it or refer to it from all other locations. This then allows us to spend more words on discussing what Terraform normally does without this option and warning about the consequences of using it.
This continues earlier precedent for some localbackendspecific options which we also don't recommend for typical use. While this does make these options a little more buried than before that feels justified given that they are all exceptional use only sort of options where users ought to learn about various caveats before using them.
While there I also took this opportunity to fix some earlier omissions with the localbackendspecific options and a few other minor consistency tweaks.";langfuncs add consoleonly TypeFunction;"The type function which is only available for terraform console
prints out a string representation of the type of a given value. This is mainly intended for
debugging it's handy to be able to directly inspect terraform's understanding
of a complex variable.
This introduces a new field for lang.Scope ConsoleMode. When ConsoleMode is true any additional functions intended for use in the console only may be added.
with bonus go mody tidy cleanup";0
1018;core Did you mean hints for unsupported resource types;"When we detect that a module is trying to declare a resource type that doesn't exist in its corresponding provider we have enough information to give some hints as to what might be wrong.
We give preference to the possibility of mixing up a managed resource type with a data resource type but if not that then we'll use our usual levenshteindistancebased similar name suggestion function.
We currently don't typically test exact error message text and this is just a cosmetic change to the message output so there are no new automated tests or modifications to existing ones here. However some manual testing yielded the following output

 Error Invalid resource type
 
 on nullthings.tf line in resource nulldatasource example
 resource nulldatasource example 
 
 The provider hashicorpnull does not support resource type nulldatasource.
 
 Did you intend to use the data source nulldatasource If so declare this
 using a data block instead of a resource block.


 Error Invalid resource type
 
 on nullthings.tf line in resource nullresorce example
 resource nullresorce example 
 
 The provider hashicorpnull does not support resource type nullresorce.
 Did you mean nullresource


 Error Invalid data source
 
 on nullthings.tf line in data nulldatasauce example
 data nulldatasauce example 
 
 The provider hashicorpnull does not support data source nulldatasauce.
 Did you mean nulldatasource


 Error Invalid data source
 
 on nullthings.tf line in data nullresource example
 data nullresource example 
 
 The provider hashicorpnull does not support data source nullresource.
 
 Did you intend to use the managed resource type nullresource If so
 declare this using a resource block instead of a data block.


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";v. update HC PublicKey;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1019;Backport of communicatorssh Fix crash with SSH bastion port into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

The connection block schema defines the bastionport argument as a number but we were incorrectly trying to convert it from a string. This commit fixes that by attempting to convert the cty.Number to the int result type returning the error on failure.
An alternative approach would be to change the bastionport argument in the schema to be a string matching the port argument. I'm less sure about the secondary effects of that change though.
Fixes";v. update HC Public Key;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1020;website Make apply's usage of plan options harder to miss;"I'm using distinct subheaders and smaller paragraphs to try and make the info
about apply's two modes more skimmable.


I'm also adding a separate Plan Options subheader and keeping the section
tiny so it stays snugged up right next to the Apply Options one to make it
extraclear that Hey There's More Options They're Over There.


screenz";v. add the updated HC Public Key;"Rotate the public key and check providers against the new signature
files.
Move the signature check after the protocol check to speed up provider discovery.";0
1021;website Explicit example of foreach chaining between resources;This pattern follows as a natural consequence of how foreach is defined but I've noticed from community forum QA that newcomers often don't immediately notice the connection between what foreach expects as input and what a foreach resource produces as a result so my aim here is to show a short example of that in the hope of helping folks see the link here and get ideas on how to employ the technique in other situations.;Generalize the idea of a plan mode vs just destroy flag;"Previously there were only two planning modes normal mode and destroy mode. In that context it made sense for these to be distinguished only by a boolean flag.
We're now getting ready to add our third mode refresh only. This establishes the idea that planning can be done in one of a number of mutuallyexclusive modes which are related to but separate from the various other options that serve as modifiers for the plan operation.
This commit only introduces the new plans.Mode type and replaces the existing destroy flag fields with a field of that type. This doesn't cause any change in effective behavior because Terraform Core still supports only NormalMode and DestroyMode with NewContext rejecting an attempt to create a RefreshMode context for now and the CLI layer having no codepath that tries to set it.
It is in retrospect a little odd that the destroy flag was part of ContextOpts rather than just an argument to the Plan method but refactoring that would be too invasive a change for right now so we'll leave this as a field of the context for now and save revisiting that for another day.

For this PR I've just peeled off the first two commits from . These two just change internal implementation details of how we represent destroy mode without adding any new functionality. I want to land these first and early because they are crosscutting and thus likely to come into conflict with other work if they were part of a longlived feature branch.
With these in place the remaining work should involve more localized commits that we can land without necessarily colliding with other work in other subsystems.
I've marked this for backport primarily because otherwise it seems likely that other unrelated backports to v. will end up failing due to this being a crosscutting change. However it also seems likely that at least parts of the planned functionality for refreshonly plans will also land in the v. branch and so this backport will support that.";0
1022;communicatorssh Fix crash with SSH bastion port;"The connection block schema defines the bastionport argument as a number but we were incorrectly trying to convert it from a string. This commit fixes that by attempting to convert the cty.Number to the int result type returning the error on failure.
An alternative approach would be to change the bastionport argument in the schema to be a string matching the port argument. I'm less sure about the secondary effects of that change though.
Fixes";Backport of New login success output for TFCE into v.;"Backport
This PR is autogenerated from to be assessed for backporting due to the inclusion of the label .backport.
The below text is copied from the body of the original PR.

When logging in to Terraform Cloud or Terraform Enterprise this changes the success output to be a bit more customized for the platform. For Terraform Cloud fetch a dynamic welcome banner that intentionally fails open and defaults to a hardcoded message if it's not available for any reason.
Additionally after some research to ensure that adding a code for color terminals shouldn't be a problem I've added a Terraform purple color code to the default list of colorstring codes.
Screenshots
Logging in to Terraform Cloud

Logging in to Terraform Cloud a failure case with trace logging enabled

Logging in to Terraform Enterprise

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1023;Revert Delete CITATION.bib;Reverts;Protocol change from git to https in README.md;"https is a common protocol for cloning git repositories we should use that one.
latter for pushing a change to the origin when we run git push setupstream origin master an error message comes stating 
fatal remote error
 You can't push to gitgithub.comJuliaLangjulia.git
 Use httpsgithub.comJuliaLangjulia.git
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1024;docmanual fix grammar;"Number agreement should be with the subject of the sentence Using which is singular.
Please take a look.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Minor change of filename in gettingstarted.md;"I feel foo.jl should cahnge to script.jl as we have already have a script.jl from the previous command. If I am running julia coloryes O foo.jl arg arg.. by copypasting julia complain about file not found.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1025;docs Dynamic documentation clearer example;Having x as both the variable name and value makes the example slightly more difficult to understand.;Document UInt return type of objectid;"It took me some time to figure out that objectid returns a UInt. typeofobjectid gave me the false belief that the return type is UInt.
Is the return type for hash also fixed to UInt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1026;remove explicit inline annotation on expm functions;"These expand do a lot of code since all the internal functions are inlined as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Efficiency improvement of expStridedMatrix with UniformScaling and mul;Avoids the use of Inn Matrix T I n n. This reduces the number of matrix matrix products for nA commit zero additions for n commit This PR also has some memory allocation improvements by using mul. Two CPU time illustrations Random.seed The most important improvement is case where the number of matrix matrix products is reduced. Solves.;0
1027;Fix ryu tests from doing show to test;No description provided.;Replace llvmsysfsFNone with llvmsysfsOFNone;The former is deprecated. OF None has been available in LLVM since. OF None exists in LLVM .;0
1028;Pare down the CODEOWNERS skip ci ci skip;"skip ci ci skip
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Optimisation of getproperty for UmfpackLU object;Fix When calling getpropertyon an UmfpackLU object only the requested information is copied in the call to umfpack get numeric. It is faster and more memory efficient.;0
1029;ccall docs Fix typo in Indirect Calls section;"Fixes a typo in the code example for a dlsym macro.
A very small fix but this just cost me a Julia novice half an hour 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix typo in Rejecting cache file message;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1030;Fix documentation snippet;"Small fix to a documentation snippet in type inference where typeinfcode was called with the wrong signature.
The valid signature is typeinfcodeinterpAbstractInterpreter methodMethod nospecializeatypes sparamsSimpleVector runoptimizerBool.";Indexing arrays with AbstractUnitRanges retains indices;"In v.
julia using OffsetArrays

julia onesBase.IdentityUnitRange
element OffsetArrayVectorFloat with eltype Float with indices 
 .
 .
On master
julia onesBase.IdentityUnitRange
element VectorFloat
 .
 .
This happens because changed the behavior of getindex and it now uses the length of the indices instead of the axes to generate the output array. This PR reverts this to make the result account for the axes again. After this
julia onesBase.IdentityUnitRange
element OffsetArrayVectorFloat with eltype Float with indices 
 .
 .
Also
on master
julia using StaticArrays

julia onesSOneTo
element VectorFloat
 .
 .
After this PR back to v. behavior
julia onesSOneTo
element SizedVector Float VectorFloat with indices SOneTo
 .
 .
The performance impact on changing unsafecopyto to copyto appears to be minimal.
with copyto
julia a ones

julia btime aax
 . s allocations . KiB
with unsafecopyto
julia btime aax
 . s allocations . KiB
The difference is within the noise level.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1031;Set up a few code owners;No description provided.;Add compat to docstring for singlearg isapprox;This singlearg version was added in abba which first appeared in .;0
1032;Remove confusion between libsuitesparse the C library and SuiteSparse the stdlib;Fix;Set ModFlag for Debug Info Version to Warning;"Other producers like Clang set this to warning instead of error
which can cause spurious failures when linking in bitcode files.
Julia module
llvm.module.flags 

 i Dwarf Version i 
 i Debug Info Version i 


Bitcode file produced by Clang
 i Debug Info Version i 

Leading to the fun
error linking module flags 'Debug Info Version' IDs have conflicting behaviors in 'usrliblibopencilkabi.bc' and 'testloop'

cc neboat tkf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1033;docs add a missing space;No description provided.;add see also for strip lstrip and rstrip docstrings;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1034;Add type assertion in deepcopyinternal for Arrays;"On master
julia codewarntype Base.deepcopyinternalzeros IdDict
MethodInstance for Base.deepcopyinternalVectorFloat IdDictAny Any
 from deepcopyinternalxArray stackdictIdDict in Base at homejishnujuliabasedeepcopy.jl
Arguments
 selfCore.ConstBase.deepcopyinternal
 xVectorFloat
 stackdictIdDictAny Any
BodyAny
 Base.haskeystackdict xBool
 goto if not 
 Base.getindexstackdict xAny
 return 
 Base.eltypexCore.ConstFloat
 Base.deepcopyarraytx stackdictVectorFloat
 return 
After this PR
julia codewarntype Base.deepcopyinternalzeros IdDict
MethodInstance for Base.deepcopyinternalVectorFloat IdDictAny Any
 from deepcopyinternalxArray stackdictIdDict in Base at homejishnujuliabasedeepcopy.jl
Arguments
 selfCore.ConstBase.deepcopyinternal
 xVectorFloat
 stackdictIdDictAny Any
BodyVectorFloat
 Base.haskeystackdict xBool
 goto if not 
 Base.getindexstackdict xAny
 Base.typeofxCore.ConstVectorFloat
 Core.typeassert VectorFloat
 return 
 Base.eltypexCore.ConstFloat
 Base.deepcopyarraytx stackdictVectorFloat
 return";Fix typo in opaqueclosure.c;paramters parameters;0
1035;Disallow spaceseparated semicolons in array expression;"good
 error

As suggested by simeonschaub
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";make sure sortperm on VectorFloat is precompiled;;0
1036;Fix issue with concatenating strings and arrays together;"Resolves by implementing special catndims that returns for nonarrays.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";a bit of cleanup to initloading;"Did a bit of clearn up on the new loading stuff 

add some jl prefixes
rm threading suffix
rm some unused code
prefer normal exported runtime functions in fallback repl";0
1037;Adjust LQ show to other factorizations;"Closes .
Now it looks like in line with e.g. QR
julia lqMatrixI 
LQFloat MatrixFloat
L factor
? MatrixFloat
 . . . .
 . . . .
 . . . .
 . . . .
Q factor
? LinearAlgebra.LQPackedQFloat MatrixFloat
 . . . .
 . . . .
 . . . .
 . . . .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add some documentation to cliloaders;No description provided.;0
1038;Correct the error in doc of workers;"Dear maintainers
In the doc of function workers number of workers of the example should be instead of .
I have corrected it and hope able to help a little bit.
Yours
Yu";LLVM Drop support for versions prior to LLVM;"The usual spring cleaning. Since Julia . is using LLVM the .dev will
drop support to all versions prior to that.";0
1039;Faster dropdims;"This speeds up dropdims. With various variants and trying two computers I see these times
julia btime dropdimsrand dims Julia master
 . ns allocations bytes xeon
 . ns allocations bytes M mac

 notdims filterd d dims ntupleidentity ndimsA first attempt
 ax mapd axesAd notdimstypeofsubaxesA dims

 . ns allocations bytes
 . ns allocations bytes

 ax afoldlds d d in dims ds ds... axesAd ntupleidentity ndimsA...

 . ns allocations bytes
 . ns allocations bytes

 ax foldonetods d d in dims ds ds... axesAd ValndimsA

 . ns allocations bytes
 . ns allocations bytes
And for instance
julia btime dropdimsrandComplexF ' dims
 . ns allocations bytes master xeon
 . ns allocations bytes master M mac

 ax foldonetods d d in dims ds ds... axesAd ValndimsA

 . ns allocations bytes
 . ns allocations bytes
I hope I'm not overlooking something The PR is the last variant. It uses foldoneto added for ispermTuple in .";Updated Version for Git Checkout;"Updated the version for git checkout to the latest stable version ...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1040;remove separate verbose IRCode lineprinter;"ref comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add some precompile for Artifacts and add a type annotation;Showed up quite a bit in some package load times.;0
1041;make ssair output consistent with;"Ref comment
Maybe this is in a test somewhere we'll see.";REPL fix improve getfield type completion;"This PR makes field completions work for complex expression case which is reported in .
One thing I noticed while working on this was that the current implementation of
REPL.REPLCompletions.completionsString Int Module doesn't work for
simpler cases.
For example with this PR we can get completions for this complex case
struct Rs
 rsVectorRegex
end
foo Rsrfoo

foo.rs. completes to .regex etc.
while we can't get completions for this simpler one
struct R
 rRegex
end
foo Rrfoo

foo.r. no completion happens
Well in this PR I just focused on fixing and leave a fix for the problem described above
to another PR.";0
1042;Update editors and IDEs;"cc pfitzseb Should we still include Juno and fonsp added Pluto
ci skip
skip ci";REPL fix ensure macro existence before lowering;No description provided.;0
1043;restore performance of hash for BigInt and RationalBigInt;"When the code was moved out of hashing.jl some imports where missed
cancelling the benefits of .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tests to make sure that Base.projectnames Base.manifestnames Base.preferencesnames and Artifacts.artifactnames always have the same length;"There is code in Pkg.jl that assumes that the following tuples always have the same length

Base.projectnames
Base.manifestnames
Base.preferencesnames
Artifacts.artifactnames

So we should have tests to make sure that this always stays the case.";0
1044;improve hashing performance for uuid;"I was working with some dicts that has UUIDs for keys and they felt kind of slow. This helps a bit
Example benchmark
using UUIDs BenchmarkTools

function benchuuids numbers
 d DictUUID Int
 sizehintd lengthuuids
 for uuid number in zipuuids numbers
 duuid number
 end
 return d
end

N 
uuids uuid for i in N
numbers randInt N
btime benchuuids numbers
Master
 . s allocations . KiB

PR
 . s allocations . KiB";minor refactor for Base.which;"Two minor changes

look up matching methods in a passed world
pass the current world by default

The change . is strictly better.
As for . AFAIU there is no need to lookup in typemaxUInt
but I wonder if I miss something.
xref JuliaDebugJuliaInterpreter.jl
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1045;Make broadcastable treat Char like Number;"This is my very first PR so I hope I'm doing things right. It's motivated by a thread on Discourse see here. stevengj suggested that I file this issue on GitHub.
Starting point is the observation that Char seems to be the only plainbits type for which broadcastable calls collect the default method meant for collecting iterables. stevengj mentioned on Discourse that Char once was a subtype of Number so maybe it was just forgotten to align the treatment for Char with Number when Char ceased to be a subtype. This PR proposes to make this alignment.
It turns out that it's not enough to define broadcastablexChar x same method as for Number. One also needs getindexx CartesianIndex which is not defined for Char maybe again an omission. If one adds this then everything seems to work. The entire test suite runs without problems. I've also added a test for the getindex call mentioned above. Note that there is already a testset broadcasting of Char in testchar.jl.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add Missing Char;"As Missing String already exists one would expect a Char version to also exist.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1046;NFC Small typo fixes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert faster Float and Float pow;"Reverts 
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1047;fix Inf typeminInt;"A new method was added in ac which was seemingly violating the
stated assumption that typeminInt can be exactly represented by Float.
And a more corrected method was shadowed.
Idem for Int.
This was added at acdiffcdbefaeabaacbbedffafebacbccR cc vchuravy BTW I couldn't find a corresponding PR was there one.";Fix showindices for IdentityUnitRange;"IdentityUnitRange should not be displayed as in the summary of SubArrays.
On master
julia view onesBase.IdentityUnitRange
element viewVectorFloat with eltype Float with indices 
 .
After this PR
julia view onesBase.IdentityUnitRange
element viewVectorFloat Base.IdentityUnitRange with eltype Float with indices 
 .";0
1048;tweak the type of quotes for functions in llvm code output;"It is quite common to include parts of codellvm in julia code blocks. For example
julia x .
.

julia codellvm expx
 specialexp.jl within exp'
define double juliaexpdouble 
top
 specialexp.jl within exp'
 float.jl within muladd'
 fmul contract double xBFE
 fadd contract double x
 
 specialexp.jl within exp'
 essentials.jl within reinterpret'
 bitcast double to i
 
 int.jl within rem'
 trunc i to i
 
 specialexp.jl within exp'
 float.jl within '
 fadd double xC
 
 specialexp.jl within exp'
The problem here is that the way functions are quoted exp' means that code highlighting gets confused. This changes it to use the same delimiter
julia x .
.

julia codellvm expx
 specialexp.jl within exp
define double juliaexpdouble 
top
 specialexp.jl within expimpl
 float.jl within muladd
 fmul contract double xBFE
 fadd contract double x
 
 specialexp.jl within expimpl
 essentials.jl within reinterpret
 bitcast double to i
 
 int.jl within rem
 trunc i to i
 
 specialexp.jl within expimpl
 float.jl within 
 fadd double xC
 
 specialexp.jl within expimpl
...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";REPL Fix incorrect docstring for ..;"This PR fixes .
This is essentially a mirror of . Please refer to it for more information.
simeonschaub could you please suggest changes and improvementsif any";0
1049;LinearAlgebra Add bareiss det for BigInt Matrices Take;"As said in the previous PR with the same name I messed up my julia fork trying to rebase and push clean code.
This fixes 
Do suggest ways to improve this PR.
cc simeonschaub";Enable pasted lines to switch to pkg shell and help repl modes;"Currently it's possible to paste julia into the repl and julia will be stripped and the evaluated etc.
This adds the handling of pkg shell and help prefixes which are stripped and the mode changed.
With this PR for instance if I copy this
julia 

shell pwd

help trues

pkg st


and paste it into the julia repl mode I get
julia 


shell pwd
UsersianDocumentsGitHubjulia

help trues
search trues truncate InterruptException promoterule isstructtype AbstractUnitRange

 truesdims

 Create a BitArray with all values set to true.

 Examples
 

 julia trues
 ? BitMatrix
 
 

v. pkg st
 Status .juliaenvironmentsv.Project.toml
 ebf BenchmarkTools v..
 aff Revise v..

v. pkg 

Note that this only works for pasted text. Typing pkg st into the julia repl won't trigger the same behavior as it is pastespecific like the existing julia prefix handling";0
1050;fix alignment calculation in juliaconsttollvm;"This appears as a regression due to doing more constant folding in .
fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove the meetups links since several are inactive;"ci skip
skip ci";0
1051;fs grammartypo fix;No description provided.;test skip pseudotty tests on AIX;"See nodejsbuild

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1052;docurl clarify domainTo when built without ICU;"Continuation of 
Signedoffby Darshan Sen raisintengmail.com";process refactor unhandledRejection logic;"This commit prevents a deprecation warning from being emitted
if the 'unhandledRejection' event was actually handled.
Fixes 
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1053;v.. release proposal;"Version .. Current targos
Notable Changes

bc SEMVERMINOR asynchooks use new vContext PromiseHook API Stephen Belanger 
cdeeeacb lib support setting process.env.TZ on windows James M Snell 
cc SEMVERMINOR module add support for URL to import.meta.resolve Antoine du Hamel 
cc SEMVERMINOR process add 'worker' event James M Snell 
fbfe SEMVERMINOR util add util.types.isKeyObject and util.types.isCryptoKey Filip Skokan 

Commits

bc SEMVERMINOR asynchooks use new vContext PromiseHook API Stephen Belanger 
dcaee buffer remove TODOs in atob btoa Khaidi Chu 
be buffer remove unreachable code Rongjian Zhang 
bdfdea build add workaround for V builds Richard Lau 
bbdb build remove dependency on distutils.spawn Richard Lau 
aafda build add missing torque output sources Richard Lau 
baabf build compile with stdgnu Darshan Sen 
 buildsrctestdoc enable FIPS for OpenSSL . Daniel Bevenius 
bbdaba crypto forbid NODEED and NODEED raw key export Filip Skokan 
bbff debugger refactor inspect\repl to use primordials Antoine du Hamel 
acda debugger refactor to use internal modules Antoine du Hamel 
dda debugger disable only the lint rules required by current file state Rich Trott 
effa debugger avoid nonASCII char in code file Rich Trott 
db debugger wrap lines longer than chars Rich Trott 
a debugger rename inspectorcli test module to debugger Rich Trott 
def deps upgrade npm to .. Ruy Adorno 
cfdf deps upgrade npm to .. Ruy Adorno 
ecdbfb deps patch V to ... Micha?½l Zasso 
abb SEMVERMINOR deps V cherrypick facbcde Stephen Belanger 
aebed SEMVERMINOR deps V cherrypick cb Stephen Belanger 
baaaf SEMVERMINOR deps V cherrypick f Stephen Belanger 
abac SEMVERMINOR deps V cherrypick f Stephen Belanger 
ae SEMVERMINOR deps V backport cfceaab Stephen Belanger 
faa deps V cherrypick caf Milad Fa 
ddba dgram extract cluster lazy loading method to make it testable Rongjian Zhang 
adce doc document buffer.kStringMaxLength Tobias Nie?en 
ccd doc update abort signal in fs promise api example Moritz Kneilmann 
ab doc add documentation for fs.WriteStream.close Hitesh Sharma 
caec doc clarify synchronous blocking of Worker stdio James M Snell 
ec doc update contact info Gabriel Schulhof 
cbcb doc change color of doctag on night mode Qingyu Deng 
ae doc add ESM code examples in url.md Antoine du Hamel 
ddeefd doc fix fs.openSync signature Luigi Pinca 
bfcbcd doc typo stats should be stat clarity Bryan Field 
dfdf doc fix code example in ecdh.setPublicKey Jordan Baczuk 
ce doc use HEAD instead of master for links Antoine du Hamel 
aeec doc clarify DiffieHellmanGroup class docs Nitzan Uziely 
edf doc fix broken AHAFS link in fs doc Rich Trott 
edca doc use AIX instead of Aix in fs.md Rich Trott 
efa doc remove extraneous dash from flag prefix Rodolfo Carvalho 
eeaf doc corrected workload name as per the latest VS Installer MrJithil 
df doc use sentence case in headers in srccryptoREADME.md Rich Trott 
bf errors remove input from ERRINVALIDURL message moander 
bef events use nullish coalencing operator Voltrex 
acbc fs fix async iterator partial writes Nitzan Uziely 
ea fs fix error when writing buffers INTMAX Zach Bjornson 
bcfc fs use assert in fsCall argument checking Rongjian Zhang 
dbef http refactor to remove redundant argument of deferToConnect Rongjian Zhang 
cdeeeacb lib support setting process.env.TZ on windows James M Snell 
cfdcdf lib make IterableWeakMap safe to iterate Antoine du Hamel 
befb meta add v team Jiawen Geng 
cc SEMVERMINOR module add support for URL to import.meta.resolve Antoine du Hamel 
aacda nodeapi faster threadsafefunction Fedor Indutny 
beba path inline conditions Voltrex 
cc SEMVERMINOR process add 'worker' event James M Snell 
eb repl fix CtrlC on top level await Antoine du Hamel 
ade src fix fatal errors when a current isolate not exist legendecas 
adfcd src update careswrap OpenBSD defines Anna Henningsen 
bcf src remove extra semi after member fn Shelley Vohr 
bfecfd src make workers messaging more resilient Juan Jos?? Arboleda 
ffbf test refactor testreadlineinterface to be shorter Juan Jos?? Arboleda 
eea test stream.finished detects a destroyed IncomingMessage Nitzan Uziely 
bfbe test set common.bits to for riscv Andreas Schwab 
aba test improve coverage of libhttpclient.js Rongjian Zhang 
dfad test improve coverage of libos.js Rongjian Zhang 
bfbec test increase coverage for repl ZiJian Liu 
fce test call functions internally Voltrex 
fea test increase coverage for Histogram ZiJian Liu 
dbdafc test improve fs coverage Rongjian Zhang 
fff test complete coverage of querystring Rongjian Zhang 
bae test increase coverage for AbortController ZiJian Liu 
c test increase coverage for Blob ZiJian Liu 
edaccf test run message and pseudotty tests in parallel Richard Lau 
cbcc test move testnetconnecteconnrefused from pummel to sequential Rich Trott 
eebacda test fix flaky inspectorcli tests when breakpionts are restored Rich Trott 
bbfeece test skip tests for openssl..alpha Daniel Bevenius 
dbeeedf test update OpenSSL ..alpha error messages Daniel Bevenius 
dec testrepl fix tests when inspector is disabled Antoine du Hamel 
afe tools remove redundant v config Jiawen Geng 
afb tools update ESLint to .. Colin Ihrig 
ecabce SEMVERMINOR tools add Worker to typeparser James M Snell 
b tools make GH Actions workflows work if default branch is not master Antoine du Hamel 
cfcad typings add JSDoc typings for readline Voltrex 
fbfe SEMVERMINOR util add util.types.isKeyObject and util.types.isCryptoKey Filip Skokan 
eebb Revert worker remove ERR\CLOSED\MESSAGE\PORT Juan Jos?? Arboleda";build enhance Python compatibility;"CAUTION This PR requires a pip install six adding the Node deps tools directory to PYTHONPATH so it should not be merged. six is contained in a single file and is very broadly used so this PR advocates that we add it to our dependencies.
Modify Python files used in the build process to get us closer to Python compatibility. Based on lessons learned in this pull request combined with would allow us to modify just .travis.yml and configure and get a significant way through the V and Node build processes on Python in Travis CI.
In Python mode current state it passes all the Travis CI tests but I will need advise on how to

Add pip install six to the Jenkins tests or 
Add the six.py to our dependencies.
Add the Node deps tools directory to PYTHONPATH in all the right places especially on Windows


Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

nodejspython";0
1054;repl fix CtrlC on top level await;"On Node.js v.x there is no way to cancel a toplevel await call but to kill the program or wait for the promise to settle. I think that's a somewhat recent regression as this is not the case in Node.js v.x.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";build block SIGTTOU before calling tcsetattr;"We might be a background job that doesn't own the TTY so block SIGTTOU
before making the tcsetattr call otherwise that signal suspends us.
This is a better fix than PR for issue .
Fixes 
Fixes 
Refs";0
1055;docs update code examples for nodeurl module;"There are many things called url in this page including url module
URL instances etc.
The original example was not clear where these methods come from.";build link libatomic on gcc or clang on linux;"See 
libatomic is a gcc library. Clang default is to be built to use it on Linux.
cc devsnek addaleax
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1056;build add workaround for V builds;"V's build toolchain is not compatible with Python and the CI job
that tests V needs to be run with Python . Add a fallback to
findexecutable from distutils.spawn to allow the configure
script to run in the V test job.
Refs comment
cc targos";util attach return value to promisified functions;"Some functions that perform asynchronous tasks and
take a callback also return a synchronous result which
can be used in the same tick. Previously util.promisify
was discarding the return value.
While solved the problem for some specific functions the general problem for userdefined functions remained. It seems that not so rare practice is to return a useful value along with scheduling asynchronous actions in a function which takes a callback.
Documentation is not added yet. I would like to hear some feedback first regarding whether this change is a good change or maybe some better suggestions for the symbol name.
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1057;tools update ESLint to ..;"Update ESLint to ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";inspector reduce InspectorIo API surface;"This is a cleanup allowing for a better separation of concerns.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1058;build remove dependency on distutils.spawn;"Debian based packages of Python do not include distutils.spawn and
require an additional apt package to be installed pythondistutils.
Replace use of distutils.spawn with shutil.which available in all
versions of Python currently allowed by our configure scripts.
For the configure script only fall back to distutils.spawn to allow
friendlier error messages when run on older unsupported versions of
Python e.g. ..
configure.py also uses distutils.version this appears to be
available in Debian packaged Python without installing
pythondistutils so has been left asis.
Refs";deps upgrade npm to ..;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Where this should land

Node 
Node 
Node 

Notable changes

Faster npm install fewer lstat calls
No longer possible to publish a .git folder in the root of a module
Respect git's tagsign config on npm versioncreated tags if set
Fully address fstream security advisoryhttpswww.npmjs.comadvisories everywhere

Changelogs

..";0
1059;build add missing torque output sources;"The torquegenerateddefinitions target is missing some torque
generated files in its sources list when compared to the equivalent
target in V's BUILD.gn.
Fixes 
Syncs our gyp file with

 
 
 nodedepsvBUILD.gn
 
 
 Lines to 
 in
 ec
 
 
 
 

 
 
 foreachfile torquefiles 
 

 
 
 filetq stringreplacefile .tq tq 
 

 
 
 sources 
 

 
 
 targetgendirtorquegeneratedfiletqinl.inc 
 

 
 
 targetgendirtorquegeneratedfiletq.cc 
 

 
 
 targetgendirtorquegeneratedfiletq.inc 
 

 
 
 
 

 
 
 
 
 
 


cc johnyan nodejsvupdate

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";build update Windows icon to Feb node rebrand;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1060;testrepl fix tests when inspector is disabled;Fixes;build remove broken intel vtune support;"Support for VTune profiling was added in commit ab from November
 but has since bitrotted. Remove it.
Fixes 
Refs";0
1061;dgram extract cluster lazy loading method to make it testable;"There is no need to ensure cluster loaded in bindServerHandle because
it's already loaded before calling it.
This PR makes cluster as an argument to remind developers that cluster
needs to be loaded before calling this function.
Update
The lazy load parts in bindServerHandle is unreachable because cluster has been loaded before calling it. Extract it to a seperated method to make the code testable.
Refs
httpscoverage.nodejs.orgcoverageeaabclibdgram.js.htmlL";doc fix family default value in socket.connect;"Documentation says that default value is but in code no any default value 
 
 
 nodelibnet.js
 
 
 Line 
 in
 dbf
 
 
 
 

 
 
 family options.family 
 
 
 


as result dns.lookup uses own default .
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines";0
1062;test increase coverage for repl;Refs httpscoverage.nodejs.orgcoverageabcebelibinternalrepl.js.htmlL;zlib do not coalesce multiple .flush calls;"This is an approach to address the issue linked below. Previously
when .write and .flush calls to a zlib stream were interleaved
synchronously i.e. without waiting for these operations to finish
multiple flush calls would have been coalesced into a single flushing
operation.
This patch changes behaviour so that each .flush all corresponds
to one flushing operation on the underlying zlib resource and the
order of operations is as if the .flush call were a .write
call.
One test had to be removed because it specifically tested the previous
behaviour.
As a driveby fix this also makes sure that all flush callbacks are
called. Previously that was not the case.
cc mscdex ?Çô is this something you prefer over the current behaviour
Fixes 

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1063;debugger refactor to use internal modules;This avoids loading the entirety of nodeutil and nodeurl and their dependencies while only a subset is actually used by this module.;test skip externalexceedmaxbyhex on AIX;"stringbytesexternalexceedmaxteststringbytesexternalexceedmaxbyhex
is failing regularly on AIX. Skip for now.

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1064;buffer remove TODOs in atob btoa;"Refs comment

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";deps upgrade to libuv ..;"This upgrade is a small patch release fixing compilation errors on Android Cygwin and uClibc none of which are tested in the CI.
I'd like to propose fast tracking this so that it can make it into the .. release. It has already been run in the CI as all libuv releases are these days and is a very small release that fixes issues on untested platforms. cc nodejslibuv
Checklist

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1065;doc fix code example in ecdh.setPublicKey;"Fixes 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test create home for testnpminstall;"This test currently fails if run as root
npm ERR makeDirectory homeless
npm WARN installdir No description
npm WARN installdir No repository field.
npm WARN installdir No license field.

npm ERR path rootnodetest.tmp.npmsandboxhome
npm ERR code ENOENT
npm ERR errno 
npm ERR syscall stat
npm ERR enoent ENOENT
no such file or directory
 stat 'rootnodetest.tmp.npmsandboxhome'
npm ERR enoent This is related to npm not being able to find a file.
npm ERR enoent

assert.js
 throw new AssertionErrorobj
 

AssertionError ERRASSERTION npm install got error code 
 at handleExit rootnodetestparalleltestnpminstall.js
 at rootnodetestcommonindex.js
 at ChildProcess.exithandler childprocess.js
 at ChildProcess.emit events.js
 at maybeClose internalchildprocess.js
 at Process.ChildProcess.handle.onexit
 internalchildprocess.js 
 generatedMessage false
 code 'ERRASSERTION'
 actual 
 expected 
 operator 'strictEqual'
 
The home directory will be created as expected by npm in the npmSandbox
when run as nonroot but when run as root this directory has to exist.
This commit creates the home directory to allow the test to pass also
when run as the root user.
Refs httpsgithub.comnpmcliblobecbaceefcebcdlibutilscorrectmkdir.jsLL
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1066;doc use sentence case in headers in srccryptoREADME.md;"Use sentence case consistently in headers in srccryptoREADME.md.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test don't use deprecated crypto.fips property;"crypto.fips was deprecated in commit ee crypto docsonly
deprecate crypto.fips replace but its usage in common.hasFipsCrypto
seems to have been overlooked.";0
1067;v.. release proposal;"Version .. Current targos
Notable Changes

afa SEMVERMINOR fs allow noparams fsPromises fileHandle read Nitzan Uziely 

Commits

ecf asynchooksdoc replace process.stdout.fd with Darshan Sen 
cbabece benchmark avoid using console.log Antoine du Hamel 
bab benchmark use process.hrtime.bigint Antoine du Hamel 
bce bootstrap freeze more intrinsics Antoine du Hamel 
faffe build fix labelpr workflow Micha?½l Zasso 
bdaea build label PRs with GitHub Action instead of nodejsgithubbot Phillip Johnsen 
f crypto don't crash with some selfsigned certs Nils Dralle 
bbbeb crypto fix generateKeyPair type checks Nitzan Uziely 
cdbb crypto fix scrypt keylen validation Antoine du Hamel 
ad crypto fix DiffieHellman generator validation eladkeyshawn 
ed debugger enable linter on internalinspectorinspectclient Antoine du Hamel 
feaad debugger refactor internalinspectorinspect to use more primordials Antoine du Hamel 
acfa debugger apply automatic lint fixes for inspectrepl.js Rich Trott 
beab debugger apply automatic lint fixes for inspect.js Rich Trott 
faa debugger remove unused function argument Rich Trott 
aa debugger align message with Node.js standard Rich Trott 
efdcbb debugger add usage example for port Rafael Gonzaga 
bceda debugger fix race conditiondeadlock on initialization Rich Trott 
ad debugger replace internal use of deprecated API Rich Trott 
ffffff debugger allow longer time to connect Rich Trott 
defdaace debugger accommodate line chunking in Windows Rich Trott 
eb debugger fix inspect restart on Windows Rich Trott 
de debugger remove unused code Rich Trott 
bbcf debugger move nodeinspect to internal library Rich Trott 
ebcbaa deps V cherrypick fdcdf Micha?½l Zasso 
aabddfbeb deps upgrade npm to .. Ruy Adorno 
bfbd deps update to cjsmodulelexer.. Guy Bedford 
ca deps patch V to ... Micha?½l Zasso 
fe deps patch V to ... Micha?½l Zasso 
ddadc deps update llhttp to .. Fedor Indutny 
fcdbcc deps patch V to ... Micha?½l Zasso 
faaa Revert doc os.uptime temporary bug notice Micha?½l Zasso 
bdde doc document 'secureConnect' event limitation James M Snell 
ec doc fix outdated util inspect documentation and layout example Ruben Bridgewater 
decfca doc mark Node.js as EndofLife Richard Lau 
cbfdef doc mark querystring api as legacy James M Snell 
ac doc update nodeapi support matrix Michael Dawson 
fcefe doc add arguments for stream event of HttpServer and HttpSecureServer Qingyu Deng 
dbed doc indicate that abort tests do not generate core files Rich Trott 
fee doc add trycatch in http respondWithFile example Matteo Collina 
fff doc note the system requirements for V tests DeeDeeG 
bbeafc doc minor clarification to pathObject James M Snell 
eaeaff doc clarify that fs.Dir async iterator closes automatically James M Snell 
afb doc document new TCPKEEPCNT and TCPKEEPINTVL socket option defaults Arnold Zokas 
edef doc do not mention TCP in the allowHalfOpen option description Luigi Pinca 
c doc update message to match actual output Rich Trott 
bcceaf doc request default snap track be updated for LTS Rod Vagg 
dfdcba doc mark process.hrtime as legacy Antoine du Hamel 
cdda doc fix typo in workerthreads.md takayama 
acdad doc fix version history for exports patterns Antoine du Hamel 
cd doc fix package.json imports field history Antoine du Hamel 
eaeec doc fix typo in buffer.md divlo 
ccccda doc fix YAML comment opening tags Jayden Seric 
dc doc add nodejssec email template Daniel Bevenius 
 doc update TSC members list with three new members Rich Trott 
eef doc use foo.prototype.bar notation in buffer.md Voltrex 
afa SEMVERMINOR fs allow noparams fsPromises fileHandle read Nitzan Uziely 
afc inspector remove redundant method for connection check Yash Ladha 
fcace lib harden lint checks for globals Antoine du Hamel 
efa lib fix and improve os typings Akhil Marsonya 
fcbc lib add support for JSTransferable as a mixin James M Snell 
fd meta post comment when pr labeled fasttrack James M Snell 
fcf perfhooks add toJSON to performance class Yash Ladha 
fa perfhooks fix PerformanceObserver 'gc' crash James M Snell 
fe readline move utilities to internal modules Antoine du Hamel 
eeab repl document top level await limitation with constlet James M Snell 
aadcb repl display prompt once after error callback Anna Henningsen 
caf src fix validation of negative offset to avoid abort James M Snell 
dccabf src use progbits instead of progbits Stephen Gallagher 
ff src print arbitrary javascript exception value in node report legendecas 
ad src refactor to use THROW argument based snprintf Filip Skokan 
ebbcd src fix abort in pbkdf Tobias Nie?en 
cacd src fix setting Converter sub char length James M Snell 
ec src avoid deferred gccleanup for Buffer.from James M Snell 
fffabac stream the position of read is wrong helloyou 
ceb test fix common.mustCall length and name properties Antoine du Hamel 
dcde test address deprecation warning Rich Trott 
eef test crypto KeyObject.from ERRINVALIDARGTYPE pezhmanparsaee 
adcb test fix flaky testcryptotimingsafedqualbenchmarks Rich Trott 
bbe test update url Web Platform Tests Leko 
fceb test move abort test from pummel to abort directory Rich Trott 
efbce test move slower tests into pummel and skip on slow devices Rich Trott 
dfa test skip some pummel tests on slower machines Rich Trott 
bcacf test fix test to allow quictls fork of OpenSSL Richard Lau 
acf test extend timeout on debugger tests for slower machines Rich Trott 
bcde test fix comment typo Rich Trott 
ceb test fix testinspectorcliaddress Rich Trott 
dad test add ancestor package.json checks for tmpdir Richard Lau 
dee test replace function with arrow function and remove unused argument Andres 
ebfcef test use .test domain for not found address Richard Lau 
adc testdebugger migrate nodeinspect tests to core Rich Trott 
ebaa testreadline improve tab completion coverage Antoine du Hamel 
bcabe timers remove redundant unref calls Giora Guttsait 
bd tls validate ticket keys buffer Antoine du Hamel 
fe tls fix tlsSocket.setMaxSendFragment abort eladkeyshawn 
dade tools use mktemp to create the workspace directory Luigi Pinca 
abfdbd tools use a shallow clone of the npmcli repository Luigi Pinca 
becefb tools disable LTO for vcppgcshared target Jesse Chan 
dbc tools remove fixer for nonasciicharacter ESLint custom rule Rich Trott 
dceda tools fix doc generation when version info is not available Antoine du Hamel 
fccb tools add depottools to PATH for V tests DeeDeeG 
fcbcf tools update ESLint to .. Colin Ihrig 
feaceb tools update markdown linter rules Rich Trott 
ec tools remove nodeinspect from license Rich Trott 
dbdb tools fix type mismatch in test runner Richard Lau 
ab typings add JSDoc typings for fs Voltrex 
eebb typings add JSDoc typings for util Rohit Gohri 
ecbeae util fix infinite recursion during inspection Ruben Bridgewater 
bdecc zlib fix brotli flush range Khaidi Chu";Release v.. proposal;"Version .. Current targos
Notable changes

build

Experimental support for building Node.js on MIPS architecture is back .


childprocess

The promisified versions of childprocess.exec and childprocess.execFile
now both return a Promise which has the child instance attached to their
child property .


deps

Updated libuv to .. .

Support for the Haiku platform has been added.
The maximum UVTHREADPOOLSIZE has been increased from to .
uvfscopyfile now works properly when the source and destination files are the same.




process

A new method process.resourceUsage was added. It returns resource usage
for the current process such as CPU time .


src

Fixed an issue related to stdio that could lead to a crash of the process in
some circumstances .


stream

Added a writableFinished property to writable streams. It indicates that
all the data has been flushed to the underlying system .


worker

Fixed an issue that prevented worker threads to listen for data on stdin .


meta

Added Jiawen Geng to collaborators .



Commits

dbc benchmark refactor buffer benchmarks Ruben Bridgewater 
e bootstrap frozenintrinsics override problem workaround Guy Bedford 
cdaadb build expose napibuildversion variable NickNaso 
dcefa build link libatomic on mac and linux Gus Caplan 
cfbca build enable openssl support for mipsel mutao 
cfff Revert build remove mips support mutao 
ddefb childprocess attach child in promisification cjihrig 
fddb crypto move impl call out of handleError funct Daniel Bevenius 
ecfbc crypto move pbkdf call out of handleError funct Daniel Bevenius 
bab crypto move randomBytes call out of handleError funct Daniel Bevenius 
defae crypto move scrypt call out of handleError funct Daniel Bevenius 
feafcb crypto fix crash when calling digest after piping Tobias Nie?en 
e deps upgrade to libuv .. cjihrig 
abe deps upgrade to libuv .. cjihrig 
eeece doc merge bootstrapREADME.md into BUILDING.md Rod Vagg 
cec doc fix swapedOut typo cjihrig 
fcee doc reformat forawaitof cjihrig 
feaec doc update readline asyncIterator docs cjihrig 
dd doc add links to .. changelog notable changes Gus Caplan 
ebd doc clean up isDead example cjihrig 
cb doc clarify response.finished Robert Nagy 
dce doc replace version with REPLACEME cjihrig 
edefe doc remove NAPI version for Experimental APIs Michael Dawson 
eddd doc fix nits regarding stream utilities Vse Mozhet Byt 
dcead doc cleanup pendingSettingsAck docs cjihrig 
bdcbcf doc add example code for worker.isDead to cluster.md Jesse Cogollo 
ecc doc add missing word in frameError event docs cjihrig 
ddee doc fix sentence about HttpStream destruction cjihrig 
aca doc add example for Buffer.isEncoding Angie M. Delgado 
fc doc add example code for fs.existsSync nicolasrestrepo 
defa doc remove note that from assert.md Rich Trott 
d doc remove note that from asynchooks.md Rich Trott 
cace doc remove note that from buffer.md Rich Trott 
cff doc remove note that from cli.md Rich Trott 
cbbb doc remove note that from cluster.md Rich Trott 
afade doc remove note that from console.md Rich Trott 
bccdf doc remove note that from crypto.md Rich Trott 
cdbfbc doc remove note that from dgram.md Rich Trott 
dcfac doc remove note that from dns.md Rich Trott 
fbc doc remove note that from domain.md Rich Trott 
e doc remove note that from errors.md Rich Trott 
efc doc remove note that from events.md Rich Trott 
dcb doc remove note that from fs.md Rich Trott 
bca doc remove note that from http.md Rich Trott 
fafb doc remove note that from http.md Rich Trott 
fcfadb doc remove note that from modules.md Rich Trott 
fc doc remove note that from net.md Rich Trott 
badaec doc remove note that from process.md Rich Trott 
ebaecdf doc remove note that from stream.md Rich Trott 
bdcae doc remove note that from tls.md Rich Trott 
cdaa doc remove note that from tty.md Rich Trott 
ebfff doc remove note that from url.md Rich Trott 
ccbda doc remove note that from util.md Rich Trott 
dbfc doc remove note that from zlib.md Rich Trott 
abfe doc remove note that from pullrequests.md Rich Trott 
acaea doc remove note that from maintainingV.md Rich Trott 
aafcb doc remove note that from maintainingthebuildfiles.md Rich Trott 
efafb doc remove note that from usingsymbols.md Rich Trott 
ffbab doc remove note that from writingandrunningbenchmarks.md Rich Trott 
 doc remove note that from writingtests.md Rich Trott 
dacedcf doc remove make that from onboarding.md Rich Trott 
fbaa doc remove note that from releases.md Rich Trott 
cfa doc remove note that from CPPSTYLEGUIDE.md Rich Trott 
dae doc remote note that from BUILDING.md Rich Trott 
fadc doc fix typo in process.disconnect docs cjihrig 
cfeb doc drop 'Note that' in addons docs cjihrig 
aeb doc remove obsolete external link cjihrig 
fcfaf doc make multipleResolves docs less opinionated cjihrig 
cebdd doc format ECMA with a hyphen cjihrig 
bd doc revise assert legacy mode text Rich Trott 
acbcb doc document PerformanceNodeTiming.environment field Yuriy Vasiyarov 
fbccab doc revise strict mode text in assert Rich Trott 
ad doc add gengjiawen to collaborators gengjiawen 
ef doc clarify when http emits aborted event Robert Nagy 
cb doc tidy AssertionError text Rich Trott 
efdb doc remove instructions to post CI links Rich Trott 
dadf docnapi fix metadata for napicreatethreadsafefunction Richard Lau 
caaeeee esm ensure cwdrelative imports for module eval Guy Bedford 
fddef http remove square brackets from parsed hostname Luigi Pinca 
ddfb http propagate session destroy code to streams cjihrig 
dfd SEMVERMINOR http use writableFinished instead of writableState zerofive 
ddec http refactor ping settings object lifetime management Anna Henningsen 
feeff lib fix stack overflow check to not break on primitives kball 
bad lib refactor unhandled rejection deprecation warning emission Joyee Cheung 
ddee meta update LICENSE Rich Trott 
edceeba napi add error message for date expected Gabriel Schulhof 
ecb SEMVERMINOR napi make func argument of napicreatethreadsafefunction optional legendecas 
adffc net replace writableState.finished with writableFinished Rich Trott 
f SEMVERMINOR process expose uvrusage on process.resourcesUsage vmarchaud 
fd process split routines used to enhance fatal exception stack traces Joyee Cheung 
eb process hide NodeEnvironmentFlagsSet's add function Ruben Bridgewater 
cadada report add report versioning cjihrig 
bf src don't abort on EIO when restoring tty Ben Noordhuis 
fd src fix small memory leak David Carlier 
fd src add error codes to errors thrown in nodein.cc Yaniv Friedensohn 
beb src refactor uncaught exception handling Joyee Cheung 
cedfe src fall back to envexecpath for default profile directory Joyee Cheung 
bdbb src save exec path when initializing Environment Joyee Cheung 
bcf SEMVERMINOR stream add writableFinished zerofive 
abefe test fix flaky testvmtimeoutescapenexttick Rich Trott 
ffdee test skip tests related to CI failures on AIX Sam Roberts 
afcc test add test to doesNotThrow validate if actual with regex estrada 
dda test add tests to assert.ok and improve coverage estrada 
bea test reset validity dates of expired certs Sam Roberts 
dce test do not use fixed port in asynchookstesthttparserreuse Anna Henningsen 
bbfa test use assert in NAPI async test Anna Henningsen 
cdcefe test fixing broken test melinamejia 
dcff test refactoring test reordering arguments David S?ínchez 
ee test eliminate duplicate statements khriztianmoreno 
bf test switch the param order in the assertion raveneyex 
bcb test switch assertion order Yomar 
ecfdd test tls switch arguments order for the assertion Laura Ciro 
bcaa test change order of arguments MistyBlunch 
fb test fix order of assertion arguments in testeventemitternumargs Luis Gallon 
ffab test make testdhregr more efficient where possible Rich Trott 
feaa test split pummel crypto dh test into two separate tests Rich Trott 
e test move nonpummel crypto DH tests to parallel Rich Trott 
a test duplicated buffer in teststreamwritable.js Duvan Monsalve 
afd test fix assertion argument order in testbufferfailedalloctype Alex Ramirez 
 test use regex for OpenSSL function name Daniel Bevenius 
bdbe test remove testttywrap.writestream.js Rich Trott 
 test permit testgraph.signal to work without test runner Rich Trott 
aefcf test normalize location testworkerprocesscwd.js runs tests Samantha Sample 
cedbd test use .code for error in setgid 
cdbfea test fix flaky testworkerdebug Anna Henningsen 
daacb test add logging to statwatcher test Rich Trott 
fab test add Worker uncaughtException process.exit test Anna Henningsen 
aeb test do not spawn rmdir in teststatwatcher Jo?úo Reis 
deadc test check custom inspection truncation in assert Rich Trott 
cdbf test make sure test function resolves in testworkerdebug Anna Henningsen 
bafbcb tools update unifiedargs to .. for mdlint CLI Rich Trott 
aea tools move python code out of jenkins shell Sam Roberts 
dbc tools fix v testing with devtoolset on ppcle Sam Roberts 
bd tools change editorconfig's 'ignore' to 'unset' silverwind 
dbddce tools remove unused using declarations Daniel Bevenius 
debf tools remove outofdate codecachepath comment Daniel Bevenius 
cfcb tools fix typo in jsc.py Daniel Bevenius 
bbddcb tools update eslint Ruben Bridgewater 
eccdbe tools update remarkpresetlintnode to .. Rich Trott 
eb tools fix typo in cachebuilder.cc Daniel Bevenius 
ddeaaf tools update babeleslint to .. ZYSzys 
ecebec vm increase code coverage of sourcetextmodule.js kball 
ddcc worker only unref port for stdin if we ref?ÇÖed it before Anna Henningsen 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1068;doc mark Node.js as EndofLife;Node.js is out of support after today .;src remove unused using declarations in srcapi;"Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1069;testreadline improve tab completion coverage;Blocked on;test propagate napistatus to JS;"Re comment
This commit regards reporting to the JS level an actual event
that happens when using suspected improper null arguments. It is better
to report the exact reason from NAPI to the JS level.

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1070;quictlsopenssl ..alpha tests;"testnetconnecteconnrefused esems to run quickly on all platforms and
does not appear to need to be in the pummel directory. Move to
sequential.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc simplify process.resourceUsage section;"Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

Merge options list with its description to reduce redundancy some possible typos were also fixed and some periods added.";0
1071;test fix flaky inspectorcli tests when breakpoints are restored;"This pull request contains to commits related to updating to quictlsopenssl ..alpha.
Fixes";test increase testresourceusage.js validation;"This commit adds an assertion checking the exact field names returned by process.resourceUsage. This ensures that no new fields accidentally slip into the returned object in the future.
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1072;debugger enable linter on internalinspectorinspectclient;"Sometimes there isn't a newine in the AIX output that already has a
comment indicating it needs investigation.";doc fix swapedOut typo;"This corrects a typo in the process.resourceUsage docs. The field is named swappedOut not swapedOut.
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines";0
1073;tools remove fixer for nonasciicharacter ESLint custom rule;No description provided.;lib use class ... extends in perfhooks.js;"Don?ÇÖt unnecessarily set the protoype afterwards.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1074;debugger fix autofixable lint issues in inspect library code;"The fixer for nonasciicharacter does not typidally do the right thing. It
removes the entire node not the offending character. I discovered this
when it removed the entire contents of a file and I wasn't sure which
autofix rule was doing it.
This commit adds a minimal test for the rule. The tests require that
autofix results be supplied so if someone wants to readd autofixing
to the rule we'll have tests that it does the right thing.";Increase limit for network space overhead test;"This test imposes a limit on the average bytes of space per chunk for network traffic. However this number depends on VM implementation details and upcoming changes to V's array buffer management require a small bump to this limit in this test.

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1075;libzlib fix brotli flush range;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";src don't abort on EIO when restoring tty;"EIO has been observed to be returned by the Linux kernel under some
circumstances. Reading through driversttyttyio.c it seems to
indicate the tty went away. Of course none of this is documented.
Fixes";0
1076;debugger refactor internalinspectorinspect to use more primordials;Fixes;test use reinterpretcast to cast type;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1077;debugger cherrypick remaining commits for nodeinspect;"This is a refactoring of the module to use asyncawait where it makes more sense and some other changes to enable ESLint on the file.
The norestrictedsyntax rule is still disabled as the inspector throws custom errors which we might want to include in internalerrors at some point and the linter doesn't know promise versions of setTimeoutsetInterval.";http improve parser error messages;"Include the libraryprovided reason in the Error?ÇÖs message.
Fixes 

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1078;tools fix doc generation when version info is not available;The move of nodeinspect from deps to core did not include three relevant commits that landed in the nodeinspect repository after the last nodeinspect release. This pull request includes them.;perfhooks add HttpRequest statistics monitoring;"Add a way to track http request timing directly via perfhooks
const PerformanceObserver performance require'perfhooks'
const http require'http'

const obs new PerformanceObserveritems 
 const entry items.getEntries
 console.logentry.name entry.duration

obs.observe entryTypes 'http' 

const server http.Serverfunctionreq res 
 server.close
 res.writeHead
 res.end'hello world\n'


server.listen function 
 const req http.request
 port this.address.port
 path ''
 method 'POST'
 .end

I initially started this by adding inside the socket state but it could lead to race condition where multiple request on the same socket would mess with each other timings.
The downside of this approach is that we can't track how much it take to parse the header or how much byte we readwrite for this connection it would require to add more hook to the ServerResponse that could impact performance.
Since generally we want to monitor how much times it take by userland to process the request since approach should be enough.
I've also added a generic Notify on the performance c to allow any core jsland module to broadcast PerformanceEntry it should allow to instrument other core js module. There still a problem through this method will not broadcast traceevents for each perf entry i don't know if it really necessary 
cc jasnell

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1079;test move abort test from pummel to abort directory;"Fixes 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc remove unnecessary stability specifiers;"If a top level module is listed as Stable there is no need to call out individual components of that module as Stable. The extra text is just distracting.
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1080;test move slower tests into pummel and skip on slow devices;"testabortfatalerror is not resource intensive and would be better in
the abort directory than the pummel directory.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc address missing paren;"The closing paren was missing. Move to using commas instead.
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1081;test skip some pummel tests on slower machines;"Move slower tests to pummel and skip on Raspberry Pi devices in CI.
Refs comment

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Implement URL.from;"It should substitute legacy url.format with respect
to the new URL API.
Based on 
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1082;tools update markdown linter rules;"Skipped the longestrunning pummel tests on the Raspberry Pi devices in
CI.
Refs comment

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc format try...catch consistently;"Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines";0
1083;benchmark avoid using console.log;"Update remarkpresetlintnode to .. which includes improved YAML
comment linting for our markdown files.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";src clang build warning fix;"fix UB with string concatenations. operator makes things
clearer for compiler's perspective.";0
1084;doc fix typo in workerthreads.md;This may help reduce memory pressure when running intensive benchmarks.;test fix flaky test of paralleltestworkerprocesscwd;"fix .
You'll confirm fixing by running python toolstest.py J repeat moderelease paralleltestworkerprocesscwd on MacOS
Checklist


 make j test UNIX
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1085;doc update TSC members list with three new members;"Buffer.alloc Buffer.allocUnsafe
Buffer.alloc does not use the internal Buffer pool.";test fix assertion argument order in testesmnamespace;"Switch the argument order for the assertion to be in the correct order actual expected

 make j test UNIX
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1086;doc fix YAML documentation comment starts;No description provided.;test reset validity dates of expired certs;"Should be fasttracked.

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1087;doc fix typo in buffer.md should be uintarray;"This PR changes several YAML documentation comments starts from YAML to YAML to hopefully fix their content from being missing in the rendered documentation

httpsnodejs.orgapiglobals.htmlglobalsclassabortcontroller
httpsnodejs.orgapipackages.htmlpackagessubpathimports
httpsnodejs.orgapipackages.htmlpackagessubpathpatterns
httpsnodejs.orgapipackages.htmlpackagesexportssugar
httpsnodejs.orgapipackages.htmlpackagesconditionalexports
httpsnodejs.orgapipackages.htmlpackagesselfreferencingapackageusingitsname
httpsnodejs.orgapiworkerthreads.htmlworkerthreadsworkersetenvironmentdatakeyvalue

It would have saved me a lot of time over the past months had this information been rendering correctly as I've been sifting through Node.js PRs commits and changelog entries even at times doing local experiments with multiple Node.js versions ?ÿà
I'm not sure how to test the rendered docs locally the contributing guide doesn?ÇÖt mention how to to be sure the missing spaces at the start of the YAML comments is the problem but it seems to be the only difference between what does or doesn?ÇÖt display.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test remove threadsafe function uv thread usage;"Migrate the threadsafe function test from using uvthread to using
C's thrd.

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1088;timers remove redundant unref calls;"There is a typo inside docapibuffer.md currently the code snippets look like this
const buf Buffer.from'hello' 'utfle'
const uintarr new UintArray
 buf.buffer
 buf.byteOffset
 buf.length UintArray.BYTESPERELEMENT

console.loguintarray

 Prints UintArray 
But this snippets doesn't work as we've got this error
console.loguintarray
 

ReferenceError uintarray is not defined
 at Object.anonymous homedivloDocumentstestingtestapp.js
 at Module.compile internalmodulescjsloader.js
 at Object.Module.extensions..js internalmodulescjsloader.js
 at Module.load internalmodulescjsloader.js
 at Function.Module.load internalmodulescjsloader.js
 at Function.executeUserEntryPoint as runMain internalmodulesrunmain.js
 at internalmainrunmainmodule.js
To fix it we need to change uintarr to uintarray with that change it effectively prints to stdout UintArray . ?æì
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test generate des rsacert.pfx;"My node distribution uses a shared openssl library with some ciphers
disabled including RC.
These tests which use rsacert.pfx fail with unknown cipher

paralleltestcryptobinarydefault
paralleltesthttpspfx
paralleltestcrypto

This is a regression from ..
The other fixture .pfx's use the descert option I don't know if
rsacert.pfx was generated without descert intentionally or not but
none of the tests reference RC and the tests pass with a des cert.
I'm not an sslcrypto expert so I would appreciate any insight.
Old key
openssl pkcs info in testfixtureskeysrsacert.pfx noout passin
passsample
MAC Iteration 
MAC verified OK
PKCS Encrypted data pbeWithSHAAndBitRCCBC Iteration 
Certificate bag
PKCS Data
Shrouded Keybag pbeWithSHAAndKeyTripleDESCBC Iteration 

New
openssl pkcs info in testfixtureskeysrsacert.pfx noout passin
passsample
MAC Iteration 
MAC verified OK
PKCS Encrypted data pbeWithSHAAndKeyTripleDESCBC Iteration 
Certificate bag
PKCS Data
Shrouded Keybag pbeWithSHAAndKeyTripleDESCBC Iteration 


Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1089;crypto fix DiffieHellman generator validation;"Remove redundant calls to Timeout.unref by passing the
ref boolean parameter of timerspromisessetTimeout and
timerspromisessetInterval directly to Timeout constructor's
isRefed parameter.
Note possible expansion of this PR is to apply the same isRefed
parameter from Timeout to Immediate to prevent the same redundant
Immediate.unref call in timerspromisessetImmediate.";feat allow .local suffixed addresses for inspector;"The restriction of localhost and localhost as the only hostnames allowed for debug prevents easy debugging of locally running VMs especially those inside Kubernetes. This PR relaxes that restriction slightly to allow for any .local suffixed address.
nodejshelp
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1090;tls validate ticket keys buffer;Fixes;test skip tests related to CI failures on AIX;"These tests seem to trigger failures in the entire CI job not just the
test on AIX. Skip them to see if that helps alleviate spurious failures
in nodetestcommitaix and the upstream PR and commit test jobs.
See

nodejsbuild comment
nodejsbuild comment


Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1091;doc remove superfluous await from fsPromises.readdir example;"The await operator in the example iterating over the returned array
of filenames is not necessary since the returned array is either
consisting of strings or of fs.Dirent objects neither providing
an asyncIterator.
Refs nodejshelp

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";build avoid building V snapshot if withoutsnapshot;cc bnoordhuis refack ryzokuken;0
1092;tools fix type mismatch in test runner;"output.diagnostic is a list that is appended to on SmartOS when retrying a test due to ECONNREFUSED.

 
 
 nodetoolstest.py
 
 
 Line 
 in
 b
 
 
 
 

 
 
 self.diagnostic 
 
 
 



 
 
 nodetoolstest.py
 
 
 Lines to 
 in
 b
 
 
 
 

 
 
 SmartOS has a bug that causes unexpected ECONNREFUSED errors. 
 

 
 
 See httpssmartos.orgbugviewOS 
 

 
 
 If ECONNREFUSED on SmartOS retry the test one time. 
 

 
 
 if output.UnexpectedOutput and 
 

 
 
 sys.platform 'sunos' and 
 

 
 
 'ECONNREFUSED' in output.output.stderr 
 

 
 
 output case.Run 
 

 
 
 output.diagnostic.append'ECONNREFUSED received test retried' 
 
 
 


The test runner checks if output.diagnostic is truthy and if so assigns its value to self.traceback.

 
 
 nodetoolstest.py
 
 
 Lines to 
 in
 b
 
 
 
 

 
 
 if output.diagnostic 
 

 
 
 self.severity 'ok' 
 

 
 
 self.traceback output.diagnostic 
 
 
 


However self.traceback is supposed to be a string and printDiagnostic in the TapProgressIndicator attempts to call splitlines on it which fails if it is a list with
AttributeError 'list' object has no attribute 'splitlines'


 
 
 nodetoolstest.py
 
 
 Lines to 
 in
 b
 
 
 
 

 
 
 def printDiagnosticself 
 

 
 
 logger.info' severity s' self.severity 
 

 
 
 self.exitcode and logger.info' exitcode s' self.exitcode 
 

 
 
 logger.info' stack |' 
 

 
 
 
 

 
 
 for l in self.traceback.splitlines 
 

 
 
 logger.info' ' l 
 
 
 


Seen in httpsci.nodejs.orgjobnodetestcommitsmartosnodessmartosconsole
 ok pummeltestnetconnecteconnrefused
 
 durationms .
 severity ok
 stack |
 Traceback most recent call last
 File toolstest.py line in module
 sys.exitMain
 File toolstest.py line in Main
 if RunTestCasescasestorun options.progress options.j options.flakytests
 File toolstest.py line in RunTestCases
 return progress.Runtasks
 File toolstest.py line in Run
 self.RunSingleFalse 
 File toolstest.py line in RunSingle
 self.HasRunoutput
 File toolstest.py line in HasRun
 self.printDiagnostic
 File toolstest.py line in printDiagnostic
 for l in self.traceback.splitlines
 AttributeError 'list' object has no attribute 'splitlines'
 make Makefile testci Error 

cc nodejspython";lib reexport promises for esm;"fs.promises dns.promises and soon readline.promises should all be exposed nicely to esm. This does so.
cc nodejsmodules addaleax cjihrig
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1093;fs allow noparams fsPromises fileHandle read;Currently fileHandle.read throws a TypeError but fs.readfd cb works. This PR makes fileHandle.read work the same as fs.readfd cb.;doc merge bootstrapREADME.md into BUILDING.md;"Alternative to remove bootstrapREADME.md and merge its contents into BUILDING.md so we don't have duplication conflicts or confusion.
Includes some other minor reorg and tweaks.
cc nodejsbuild";0
1094;test use .test domain for not found address;"While it is extremely unlikely that .fhqwhgads will become a valid
domain we should where possible use one of the reserved domains for
testing.
Refs httpstools.ietf.orghtmlrfc
Refs 
cc Trott
iojstestdigitaloceanubuntuxbuildworkspacenodetestcommitcustomsuitesfreestyle .node 
Welcome to Node.js v..pre.
Type .help for more information.
 const opts hints family all false 
undefined
 dns.promises.lookup'something.invalid' opts
Promise pending 
 Uncaught Error getaddrinfo EAIAGAIN something.invalid
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises
 at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno 
 code 'EAIAGAIN'
 syscall 'getaddrinfo'
 hostname 'something.invalid'

 dns.promises.lookup'something.invalid.test' opts
Promise pending 
 Uncaught Error getaddrinfo ENOTFOUND something.invalid.test
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises
 at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno 
 code 'ENOTFOUND'
 syscall 'getaddrinfo'
 hostname 'something.invalid.test'

 dns.promises.lookup'something.invalid.example' opts
Promise pending 
 Uncaught Error getaddrinfo ENOTFOUND something.invalid.example
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at GetAddrInfoReqWrap.onlookup as oncomplete nodeinternaldnspromises
 at GetAddrInfoReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno 
 code 'ENOTFOUND'
 syscall 'getaddrinfo'
 hostname 'something.invalid.example'

 dns.promises.resolveMx'something.invalid'
Promise pending 
 Uncaught Error queryMx ESERVFAIL something.invalid
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises
 at QueryReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno undefined
 code 'ESERVFAIL'
 syscall 'queryMx'
 hostname 'something.invalid'

 dns.promises.resolveMx'something.test'
Promise pending 
 Uncaught Error queryMx ENOTFOUND something.test
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises
 at QueryReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno undefined
 code 'ENOTFOUND'
 syscall 'queryMx'
 hostname 'something.test'

 dns.promises.resolveMx'something.example'
Promise pending 
 Uncaught Error queryMx ENOTFOUND something.example
 at nodeinternalcaptureLargerStackTrace nodeinternalerrors
 at nodeinternal nodeinternalerrors
 at QueryReqWrap.onresolve as oncomplete nodeinternaldnspromises
 at QueryReqWrap.callbackTrampoline nodeinternalasynchooks 
 errno undefined
 code 'ENOTFOUND'
 syscall 'queryMx'
 hostname 'something.example'

";napi add napigetmodule;"We make the napienv permodule once more because it no longer
holds any state that needs to be shared among addons.
We then add a Node.jsspecific NAPI which allows one to obtain the
module whose exports were initialized at addon startup.


Checklist
 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1095;test fix flaky testdns and testdnslookup;"Ubuntu . is going to be unsupported after April . Switching
Node.js CI to Ubuntu . for the internet tests resulted in failures
in testdns and testdnslookup because it returns server failuretry
again on .invalid domain. Add a hostname for testing that will return
record not found.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test bind to free port;"Bind to port instead of 
Test does not require a well known port so it doesn't need port or
common.PORT. Tests were failing on my CI box because port was
already taken.
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1096;doc restore minimum Xcode version for macOS;"accidentally reverted the
change to the minimum version of Xcode for macOS.
Refs faer
Refs 
cc targos

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";test fix flaky testvmtimeoutescapenexttick;"Fixes 

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1097;build sync generation of vbuildconfig.json;"The contents of the vbuildconfig.json file generated when
configured with enabled is missing entries which prevent V's
test runner from using the built d binary. Sync the keys written
into the file with those generated in V's depsvBUILD.gn file.
Prior to this patch V's test runner would fail to parse vbuildconfig.json
as it was missing vcontrolflowintegrity
 python depsvtoolsruntests.py outdir ....outRelease progressdots timeout mjsunit debugger message preparser
Traceback most recent call last
 File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in execute
 self.loadbuildconfigoptions
 File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in loadbuildconfig
 self.buildconfig doloadbuildconfigoutdir options.verbose
 File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in doloadbuildconfig
 return BuildConfigbuildconfigjson
 File homerlausandboxgithubnodedepsvtoolstestrunnerbaserunner.py line in init
 self.controlflowintegrity buildconfig'vcontrolflowintegrity'
KeyError 'vcontrolflowintegrity'


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vm remove usage of public util module;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1098;doc fixed a missing backtick which broke the styling;Fixes;Expose headers and rawHeaders on an http.ClientRequest information event;" intermediate status responses are allowed to have headers expose these.
This partially fixes";0
1099;doc fix typo in repl.md;"I found a typo in REPL documentation 
entires entries";Centos ppc le v test support;"one
tools move python code out of jenkins shell

httpsci.nodejs.orgjobnodetestcommitvlinuxconfigure echoes
python code into tools and runs it. Move these scripts into tools for
better maintainability.

Once this lands and is backported into LTS branches a bunch of shell
code can be deleted from the job.

two
tools fix v testing with devtoolset on ppcle

The devtoolset doesn't use or set the CXX etc env vars so ignore them
if not present.


Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1100;doc fix typo in buffer.md;"I found a typo in buffer documentation 
alterered altered";src use threadlocal to declare modpending;"The pointer used to hold an incoming dynamically loaded module's
nodenodemodule structure needs to be threadlocal. So far this was
done with uvkeyset and uvkeyget. The language now supports
the threadlocal keyword which makes implementing this a lot cleaner.

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1101;lib enforce using primordials.globalThis instead of global;"global.global may be overwritten in userland it's probably safer not to rely on it.
 echo 'Reflect.definePropertyglobalThis global get throw new Error ' pre.js
 node r .pre.js
Welcome to Node.js v...
Type .help for more information.
UsersduhameanDocumentsnodef.js
 get throw new Error
 

Error
 at get ?Çªpre.js
 at REPLServer.createContext noderepl
 at REPLServer.resetContext noderepl
 at new REPLServer noderepl
 at Object.start noderepl
 at Object.createRepl as createInternalRepl nodeinternalrepl
 at nodeinternalmainrepl
 at Object.loadESM nodeinternalprocessesmloader";zlib remove usage of public util module;"Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1102;test fix typo in gtestall.cc;separater separator;inspector added inspector.waitForDebugger;"This method blocks current node process until a client sends
Runtime.runifWaitingForDebugger.
It can be useful when we need to report inspector.url before
waiting for connection
inspector.open undefined false
fs.writeFileSyncsomeFileName inspector.url
inspector.waitForDebugger


Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1103;bootstrap freeze more intrinsics;"Several intrinsics were missing and the comments were referencing an outdated version of ECMAScript spec.
Blocked on and .";src context little mem leak fix;No description provided.;0
1104;lib avoid mutating Error.stackTraceLimit when it is not writable;This PR aims to avoid getting Cannot assign to read only property 'stackTraceLimit' of function 'function Error native code ' errors thrown from core when Node.js is executed with the frozenintrinsics flag.;src print to TTY stderr using uvtrywrite;"So that ANSI color codes can be translated on Windows when it's
written to TTY.
Before

After

Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1105;lib add globalThis to primordials;"This is useful to avoid throwing exception if globalThis is being overwritten in userland
 node e 'globalThis.globalThis nullnew Error.stack'
nodeinternalprocessexecution
 globalThis.module origModule
 

TypeError Cannot set property 'module' of null
 at evalScript nodeinternalprocessexecution
 at nodeinternalmainevalstring
I'm using norestrictedglobals instead of nodecorepreferprimordials to generate better error messages.
libinternalprocessexecution.js
 error Use const globalThisModule primordials instead of the global nodecorepreferprimordials
 error Use const globalThisfilename primordials instead of the global nodecorepreferprimordials
 error Use const globalThisModule primordials instead of the global nodecorepreferprimordials

libinternalprocessexecution.js
 error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals
 error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals
 error Unexpected use of 'globalThis'. Use const globalThis primordials instead of the global norestrictedglobals";doc add links to .. changelog notable changes;"nodejsreleasers BridgeAR
Checklist


 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The te";0
1106;test skip fs.watch test on IBMi;"We've added pummel tests to CI so we need to add a skip for IBMi for
the fs.watch test there as we have for all the fs.watch tests
elsewhere.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";deps upgrade to libuv ..;"Notable changes

Support for the Haiku platform has been added.
The maximum UVTHREADPOOLSIZE has been increased from to .
uvfscopyfile now works properly when the source and destination files are the same.

Fixes 
Checklist

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1107;fs validate encoding to binding.writeString;"The binding layer performs some validation of the encoding and data passed to WriteString. This commit adds similar validation to the JS layer for better error handling.
Fixes I believe this issue was closed prematurely
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";deps update nghttp to ..;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1108;tools update ESLint to ..;"Update ESLint to ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";inspector change api to promiselike;"The old way is very easy to write callback hell hard to read and maintain
old way
const inspector require'inspector'
const fs require'fs'
const session new inspector.Session
session.connect

session.post'Profiler.enable' 
 session.post'Profiler.start' 
 Invoke business logic under measurement here...

 some time later...
 session.post'Profiler.stop' err profile 
 Write profile to disk upload etc.
 if err 
 fs.writeFileSync'.profile.cpuprofile' JSON.stringifyprofile
 
 
 

new way
New way should be something like this
const inspector require'inspector'
const session new inspector.Session
session.connect
const wait n new Promiseresolve 
 setTimeout resolve n

session
 .post'Profiler.enable'
 .then session.post'Profiler.start'
 .thenwait
 .then session.post'Profiler.stop'
 .thenconsole.log
 .catchconsole.error
cc nodejsinspector
I don't know whether this should create a issue to discuss it.
I have not touch the test case and doc luckily it's still an experimental api.
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1109;tls fix tlsSocket.setMaxSendFragment results in an abort;Fixes;build remove codecachepath help option;"This commit removes the now obsolete option.
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1110;test update OpenSSL .x expected error message;"This commit updates an expected error message which has changed in
OpenSSl .x. OpenSSL . is still under development but once there is a
relase we should not be seeing test failure like this.";tools allow single JS file for linkmodule;"The description for the linkmodule configuration option is as
follows
 .configure help | grep A 'linkmodule'
 linkmoduleLINKEDMODULE
 Path to a JS file to be bundled in the binary as a
 builtin. This module will be referenced by path
 without extension e.g. rootxy.js will be
 referenced via require'rootxy'. Can be used
 multiple times
This lead me to think that it was possible to specify a file like this
 .configure linkmodulesomething.js
 NODEDEBUGmkcodecache make j
This will lead to a compilation error as an entry in the source map in
nodejavascript.cc will end up having an empty string as its key
source.emplace UnionBytesraw 
This will then be used by CodeCacheBuilder when it iterates over the
module ids which will lead to the following compilation errors
nodeoutReleaseobjgennodecodecache.cc warning
ISO C does not allow a decomposition group to be
empty Wemptydecomposition
static const uintt 
 
nodeoutReleaseobjgennodecodecache.cc warning
decomposition declarations are a C extension Wcextensions
static const uintt 
 
nodeoutReleaseobjgennodecodecache.cc error
decomposition declaration cannot be declared 'static'
static const uintt 

nodeoutReleaseobjgennodecodecache.cc error
decomposition declaration cannot be declared with type 'const uintt'
aka 'const unsigned char' declared type must be 'auto' or
reference to 'auto'
static const uintt 
 
nodeoutReleaseobjgennodecodecache.cc error
excess elements in scalar initializer
static const uintt 
 
nodeoutReleaseobjgennodecodecache.cc error
expected expression
 
 
nodeoutReleaseobjgennodecodecache.cc error
no matching function for call to 'arraysize'
 staticcastintarraysize policy
 
..srcutil.h note candidate function template not viable
requires argument but were provided
constexpr sizet arraysizeconst T N 
 
 warnings and errors generated.
This commit suggests that passing a single file be allowed by modifying
toolsjsc.py or alternatively raise an Exception with an message that
indicates the cause of this.
With the changes in this PR the usage would look like this
 cat something.js
'use strict'

function logit 
 console.log'something module...'


module.exports 
 logit

 .configure linkmodulesomething.js NODEDEBUGmkcodecache make j
...
Generated cache for something size .B total .KB
...
 rm something.js
 .node p require'something'.logit
something module...
undefined
Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1111;depsdebugger move nodeinspect into core;"Refs 
I named a lot of filesdirectories with inspectorcli and I suspect inspectcli or debuggercli or just debugger or inspect would have all been better
Still some ESLint checks to reenable in three files but assuming tests pass everywhere I think this is good enough to land and things can be adjusted with subsequent PRs.
Because I was porting over the tests this found and fixed a small bug with node inspect in Node.js .x. Specifically calling scripts would always include internal scripts even with scriptsfalse. Wouldn't mind reconsidering that API as that first argument is a boolean trap. But OMG not when first landing this thing.
Also there are some changes that landed in the nodeinspect repo but never made it into a release. Those changes will need to be ported over. But that's the next PR. Or maybe the lint fixes would be the next one.";deps upgrade npm to ..;"Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines

Where this should land

Node 
Node 
Node 

Notable changes

none

Changelogs

..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1112;repl fix declaring a variable with the name util;Fixes;tools change editorconfig's 'ignore' to 'unset';"According to httpseditorconfig.orgsupportedproperties the canonical way to disable a property is to set it to 'unset'. We did use 'ignore' and this generally works because tools ignore unknown values but some of them like eclint are picky on it.
Checklist

 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines";0
1113;lib fix typo in libtlscommon.js;I found a typo byteLenth byteLength;buffer add Buffer.harden method;"This is a strawperson currently targeted at resolving Buffer controversies and providing an alternate safer Buffer API that could be opted in from the top level app code. This should both resolve potential concerns about Buffer unsafety that are otherwise nonresolvable in general for performance reasons and give ecosystem another nudge to migrate off unsafe deprecated Bufferarg API.
This adds Buffer.harden method that

Ensures all new buffers are zerofilled even from Buffer.allocUnsafe similar to zerofillbuffers CLI flag.
Ensures that pooling is permanently disabled.
Enables runtime deprecation for deprecated Bufferarg
Freezes Buffer object.

That method is callable only from the toplevel app it will throw when called from dependencies reuses already existing isInsideNodeModules check for that.
Example
 Buffer.allocUnsafe
Buffer 
 Buffer.from'sdfds'.buffer
ArrayBuffer 
 UintContents ff ff ff ff a ff ff ff ff ff ff ff ff ... more bytes
 byteLength 

 Buffer.harden
undefined
 Buffer.allocUnsafe
Buffer 
 Buffer.from'sdfds'.buffer
ArrayBuffer UintContents byteLength 

Unresolved

Reevaluating Buffer module could create nonhardened Buffers
Child process Buffers are non hardened I thought about going into those by an env var but let's keep that out of scope

cc nodejssecuritywg nodejssecurity nodejsbuffer mafintosh comments
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 documentation is changed or added
 commit message follows commit guidelines";0
1114;test remove unneeded m flag on regular expressions;"The m flag has no effect on regular expressions that don't match the
start or the end of a line.";http propagate session destroy code to streams;"Currently when an HTTP session is destroyed with a code that code is not propagated to the destroy call of the session's streams. This commit forwards any code used to destroy a session to its corresponding streams.
Checklist

 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1115;deps V cherrypick cbc;"Original commit message
Fix ValueDeserializerReadDouble bounds check

If end is smaller than sizeofdouble the result would wrap
around and lead to an invalid memory access.

Refs httpsgithub.comnodejsnodeissues
ChangeId Ibcddcbcaaffdcd
Reviewedon httpschromiumreview.googlesource.comcvv
Reviewedby Marja H??ltt?ñ marjachromium.org
CommitQueue Marja H??ltt?ñ marjachromium.org
CrCommitPosition refsheadsmaster

Refs vvc
Fixes";tools update unifiedargs to .. for mdlint CLI;"Update unifiedargs from .. to .. for
toolsnodelintmdclirollup. This removes a vulnerable package
setvalue.. from the dependencies.
Refs httpsapp.snyk.iovulnSNYKJSSETVALUE

Checklist


 make j test UNIX or vcbuild test Windows passes
 commit message follows commit guidelines

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1116;doc fix typo in fs.md;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";src correct json writer the place on process.report;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1117;tools relax maxlen lint rule for template strings;"Splitting template strings across multiple lines can make them harder to
read.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc replace version with REPLACEME;"Node .. has already been released. Replace the version with REPLACEME so that the proper version gets inserted at release time.
Refs 
Checklist

 make j test UNIX or vcbuild test Windows passes
 documentation is changed or added
 commit message follows commit guidelines";0
1118;v.. proposal;"Version .. 'Dubnium' LTS MylesBorins
This is a security release
Notable Changes
Vulerabilties fixed

CVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE OpenSSL NULL pointer deref in signaturealgorithms processing High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE npm upgrade Update yn to fix PrototypePollution High

This is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvh
Impacts

All versions of the .x .x and .x releases lines





Commits

ebce deps upgrade npm to .. Ruy Adorno 
cbdfc deps update archs files for OpenSSL..k Tobias Nie?en 
dbaa deps upgrade openssl sources to ..k Tobias Nie?en";add example for beforeExit event;doc add example for beforeExit event in file docapiprocess.md;0
1119;v.. proposal;"Version .. Current MylesBorins
This is a security release.
Notable Changes
Vulnerabilties Fixed

CVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE OpenSSL NULL pointer deref in signaturealgorithms processing High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE npm upgrade Update yn to fix PrototypePollution High

This is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvh
Impacts

All versions of the .x .x and .x releases lines





Other Notable Changes

bf SEMVERMINOR fs add support for async iterators to fsPromises.writeFile HiroyukiYagihashi 
cbbfe SEMVERMINOR net allow net.BlockList to use net.SocketAddress objects James M Snell 
daaabbcf SEMVERMINOR net add SocketAddress class James M Snell 
ace SEMVERMINOR net make net.BlockList cloneable James M Snell 
bcb SEMVERMINOR nettls add abort signal support to connect Nitzan Uziely 
afa SEMVERMINOR readline add AbortSignal support to interface Nitzan Uziely 

Commits

acbe crypto use correct webcrypto RSASSAPKCSv algorithm name Filip Skokan 
cbe crypto add buffering to randomInt Tobias Nie?en 
efde deps update to cjsmodulelexer.. Guy Bedford 
fea deps update archs files for OpenSSL..k Hassaan Pasha 
bbdcdadc deps upgrade openssl sources to ..kquic Hassaan Pasha 
ec deps cjsmodulelexer cherrypick ef pezhmanparsaee 
afcab doc fix asyncLocalStorage.run description Darkripper 
bdd doc document how to unref stdin when using readline.Interface Anu Pasumarthy 
ce doc move psmarshall to collaborators emeriti Peter Marshall 
aeaac doc add distinctive color for code elements inside links Antoine du Hamel 
ccb doc add missing events.on metadata Anna Henningsen 
adcadf doc improve Buffer's encoding documentation Micha?½l Zasso 
ffabbcf doc add missing cleanup step in OpenSSL upgrade Tobias Nie?en 
caf doc add Windowsspecific info to subprocess.kill Jo?úo Lucas Lucchetta 
bf SEMVERMINOR fs add support for async iterators to fsPromises.writeFile HiroyukiYagihashi 
adec fs fix chown abort Darshan Sen 
dacaa http optimize debug function correctly Micha?½l Zasso 
aae http add specific error code for custom frames Anna Henningsen 
 lib change wording in libdomain.js comment Akhil Marsonya 
ebec lib change wording in libinternalchildprocess comment Akhil Marsonya 
abe module improve error message for invalid data URL Antoine du Hamel 
cbbfe SEMVERMINOR net allow net.BlockList to use net.SocketAddress objects James M Snell 
daaabbcf SEMVERMINOR net add SocketAddress class James M Snell 
ace SEMVERMINOR net make net.BlockList cloneable James M Snell 
bcb SEMVERMINOR nettls add abort signal support to connect Nitzan Uziely 
acccbe path refactor to use more primordials Akhil Marsonya 
cce readline fix preaborted signal question handling Nitzan Uziely 
afa SEMVERMINOR readline add AbortSignal support to interface Nitzan Uziely 
eef src fix typo in nodemutex Tobias Nie?en 
eccbfb src fix typos in crypto comments Tobias Nie?en 
adbff src fix error handling for CryptoJobToResult Tobias Nie?en 
bed test add extra space in test failure output Qingyu Deng 
cfc test use faster variant for rss Pooja D P 
bcad test fix testtlsnosslv for OpenSSL Richard Lau 
dbaeacf test deflake testfsreadoptionalparams Luigi Pinca 
dcd test improve clarity of ALSenabledisable.js Darkripper 
eaed test add DataView test case for v serdes Rich Trott 
dafc tools update ESLint to .. Luigi Pinca 
ead toolsdoc add legacy badge in the TOC Antoine du Hamel 
fbcef url forbid pipe in URL host Darshan Sen 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";napi render finalizers as env cleanup hooks;"Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1120;v.. proposal;"Version .. 'Erbium' LTS MylesBorins
This is a security release.
Notable Changes
Vulnerabilities fixed

CVE OpenSSL CA certificate check bypass with XVFLAGXSTRICT High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE OpenSSL NULL pointer deref in signaturealgorithms processing High

This is a vulnerability in OpenSSL which may be exploited through Node.js. You can read more about it in httpswww.openssl.orgnewssecadv.txt
Impacts

All versions of the .x .x .x and .x releases lines




CVE npm upgrade Update yn to fix PrototypePollution High

This is a vulnerability in the yn NPM module which may be exploited by prototype pollution. You can read more about it in GHSAcwxmvh
Impacts

All versions of the .x .x and .x releases lines





Commits

cfae deps upgrade npm to .. Ruy Adorno 
acf deps update archs files for OpenSSL..k Tobias Nie?en 
cab deps upgrade openssl sources to ..k Tobias Nie?en";src add errorProperties on process.report;"fix 
Checklist


 make j test UNIX or vcbuild test Windows passes
 tests andor benchmarks are included
 commit message follows commit guidelines";0
1121;DOC update styler user guide for new textgradient;Add textgradient to Styler user guide after merge.;DEP Bump min version of dateutil to ..;"xref comment
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry


Not sure where to put the note in the whatsnew";0
1122;DOC add Styler.tolatex info in io.rst doc page;"followon from adding Styler.tolatex.
This is basic addition that primarily points to the core method docs which have detailed descriptions and examples";TST iat with duplicate column names;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1123;BUG groupby.transformagg caching args with numba engine;"closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";Fix read parquet import error message;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry NA

pandas.io.parquet.getengine uses handling of ImportErrors for flow control to decide which parquet reader engine is used. In doing so it quashed lowerlevel error messages that would have been helpful to the user attempting to diagnose the error replacing it with a misleading error message.
I refactored the error handling allowing for these lowerlevel error messages to be collected and explicitly bubbled up. Thus fixing the incorrect error message.
No tests added this behaviour is not worthy of testing. Presumably not worthy of a whatsnew entry either.";0
1124;REF deduplicate formatattrs;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PERF improve IntegerArray fast constructor;"Trying to improve the IntegerArray constructor from its constituents.
Example test case
a pd.array dtypeInt
values a.data
mask a.mask 
pd.arrays.IntegerArrayvalues mask

In timeit pd.arrays.IntegerArrayvalues mask 
. ?s ? . ns per loop mean ? std. dev. of runs loops each master
 ns ? . ns per loop mean ? std. dev. of runs loops each PR

So what is in the PR is one possible solution to show the impact of using general dtype checking functions that eg also need to deal with EA dtypes getting the dtype of values being passed etc. It is clear that here we can do a much more specialized check and that this gives a considerable performance boost in eg blockcolumnwise operations on IntegerArray this is reconstructed many times. Some options

do an inline specialized check as done here
define separate helper functions for those specialized checks eg restricting to numpy dtypes
improve performance of isbooldtype isintegerdtype for those cases maybe putting a check like this as a fastpath at the beginning of those functions might avoid more costly checks done in those functions for this specific case eg isboolnpdtype
simply don't do any validation at all in the IntegerArray constructor and assume this is the responsibility of the caller
provide a keyword in the IntegerArray constructor to turn off validation
add a private constructor similar as the simplenew we have for others that uses this fastpath

For optimal performance having a way to don't do any validation at all so also don't check the passed values are ndarray or their dtypes would actually even be better than what this PR does. But I also like the clean constructor we have now eg no separate private constructor";0
1125;FMT trim redundant freqstr from PeriodIndex repr;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PERF fastpath DataFrame constructor from BlockManager;"When trying to make fastapply unnecessary I found that there is nontrivial overhead in the constructors that we can avoid. Moreover since users shouldn't be passing BlockManagers around anyway we might be able to get that case out of the DataFrame constructor entirely.
In ser pd.Seriesrange 
In df ser.toframe 
In mgr df.mgr

In timeit pd.DataFramemgr 
. ?s ? . ns per loop mean ? std. dev. of runs loops each

In timeit pd.DataFrame.frommgrmgr 
. ?s ? . ns per loop mean ? std. dev. of runs loops each";0
1126;REF share arraywrap;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BUGREF unstack with EA dtypes;"ser.unstackargs should behave like ser.toframe.unstackargs.droplevellevel axis. This fails on master is fixed by this PR.
reshape.unstackextensionseries currently reimplements logic that is in ExtensionBlock.unstack. This deduplicates by dispatching.
We currently transpose in cases where we shouldn't. This implements DataFrame.canfasttranspose to avoid that.
testastypeobjectseries has what looks like a typo that is making us test nottheintendedthing TomAugspurger can you confirm im reading this right
The dtype comparisons in testastypeobjectframe currently raise are commented out for exposition should be fixed in a separate PR.";0
1127;typo fix;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";REF collect Index constructor tests;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1128;CLN remove unused maxfittingelement;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";TST implement testgetitem for Series;"Lime with lots of scattered stuff is going to end up here
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1129;CLN remove unnecessary comparables;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";CI Add argument docsourcedevelopment to formatting docstrings in codechecks.sh;Issue;0
1130;CI Unpin pip in py npdev;"closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ENH Implement StringArray.min max;"tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry

Using the new masked reductions from jorisvandenbossche to implement these for StringArray. Part of but doesn't close because we're not adding sum here.";0
1131;REF share mplrepr;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";REF DatetimeIndex testinsert testdelete;No description provided.;0
1132;REF simplify maybecasttodatetime;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";REF misplaced tests in testpartialslicing files;Whats left in these after this are all testing Series methods so belong elsewhere.;0
1133;REF convertdtypes return dtype objects;This turns out to be a blocker for sharing arrays.integers.safecast with maybecasttointegerarray which in turn is a blocker for;TST implement testsetitem for Series;"Lots of scattered tests that belong here. Also lots of scattered local branches.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1134;TYP NaTType comparisons;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";REF remove BlockManager.set;"xref .
This touches several DataFrameNDFrame methods. Those methods need a refactor in part because the ones defined on NDFrame are only ever called for DataFrame. Will refactor in followup.";0
1135;TYP future annotations in parsers;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";BUG Timestamp comparison with ndarraydt;"closes xxxx
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1136;REF trycast;"collect all the dtype is None cases together
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TST add readjson test GH;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1137;REGR CategoricalIndexNone;"closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";CLN Replace firstnotnone function with default argument to next;"closes xxxx
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1138;REF reuse sanitizearray in DataFrame.sanitizecolumns;"closes xxxx
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

A big partialindexing test is split and has a nontrivial diff but the only actual change is this line httpsgithub.compandasdevpandascomparemaster...jbrockmendelrefsanitizecolumnexpanddiffbfdfdcfaaebcbcfebbdceceeR declaring that empty range is intdtypelike instead of floatdtypelike which i think we should call a bug.";BUG scalar indexing on D DTATDAPA;"cc jorisvandenbossche this fixes the issue with DatetimeLikeBlockMixin.iget discussed in 
Note this sits on top of .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1139;BUG pydatetime case followup to;was merged before i got a chance to push these suggested edits;CI Sync web and dev docs automatically with prod server;"closes 

This forgets about the OVH server and after every merge to master will synchronize the repo web and docs in the production server.
Note that this will delete any file in the server that is not known except the cheat sheets and all the docs versions in pandasdoc. I don't think anything else should be kept but if there is anything else that we upload manually please let me know. I made a backup in the server so if we delete anything by accident with this it can be easily restored.
CC TomAugspurger jorisvandenbossche";0
1140;TYP deprecatenonkeywordarguments;"If we have
import pandas as pd

revealtypepd.Seriesrange.interpolate'linear'
then on master we get
 mypy t.py 
t.py note Revealed type is 'Any'
while here
 mypy t.py 
t.py note Revealed type is 'Unionpandas.core.series.Series None'";REF replace columnwise remove BlockManager.apply filter kwarg;Followup to .;0
1141;TST Old issues;"closes 
 closes 
 closes 
 closes 
 closes 
 closes 
 closes 
 closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them";BUG Don't raise on valuecounts for empty Int;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1142;BUG case argument ignored when regex is False in Series.str.replace;"closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOCPLT Add stacked in doc and doc example for barh and bar plot;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1143;ArrowStringArray TYP add annotations to str.replace;precursor to;PLT Order of plots does not preserve the column orders in df.hist;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1144;ArrowStringArray TYP use future annotations more;precursor to;BLD Increase minimum version of Cython to ..;"In particular this fixes a bug in code returning ctuples

cythoncython
cythoncython



This is a prereq for 


 whatsnew entry";0
1145;ArrowStringArray TSTCLN cleanup str.replace tests;precursor to;REF BlockManager.delete idelete;Moving towards alllocational inside BlockManager also makes it easier to grep for where methods are used.;0
1146;BUG DataFramendarraydt dtypeobject;closes  tests added passed    Ensure all linting tests pass see here for how to run them    whatsnew entry;CLN Static types in pandasliblib.pyx;"closes xxxx
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py flake diff
 whatsnew entry";0
1147;REF trycast go through fastpath more often;closes   tests added passed  Ensure all linting tests pass see here for how to run them    whatsnew entry;DOC Fix examples in pandascorestrings.py;"closes xxxx
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1148;TYP and DOC pd.merge accepts Series;I noticed that the docs for pd.merge and pd.mergeasof were requiring the first argument to be a DataFrame but in fact they can be a Series. This PR updates the docs and the types to fix that issue.    Didn't think a whatsnew entry was needed and I skipped creating an issue but will do so if required.;PERF fix placement when slicing a Series;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1149;TYP mypy fixups something upgraded;"I've been seeing these locally for a couple weeks not sure why they just started showing up on the CI
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TST Don't use 'is' on strings to avoid SyntaxWarning;"This avoids the below warning in Python . uservisible in Debian because they bytecompile everything on install and possibly unspecified behaviour though I haven't seen that in practice.
 usrlibpythondistpackagespandastestsframetestalteraxes.py SyntaxWarning is with a literal. Did you mean 
 False if keys is A and keys is A else drop noqa F";0
1150;REF simplify sanitizearray;We end up calling trycast in places instead of;DOCCLN Fix docstring typo;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1151;ArrowStringArray PERF use pyarrow.compute.replacesubstringregex if available;strings.Methods.timereplace ok    happy to break up if easier to reviewer The text was updated successfully but these errors were encountered;Changed files permissions to be the same;"Not sure about this change feel free to close at anytime.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1152;ENH Deprecate nonkeyword arguments for MultiIndex.setlevels; tests added passed    Ensure all linting tests pass see here for how to run them  whatsnew entry     The text was updated successfully but these errors were encountered;CLN Added static types for pandaslibsreduction.pyx;"closes xxxx
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1153;BUG Seriesrangeobjoutsideibounds;closes  tests added passed    Ensure all linting tests pass see here for how to run them     whatsnew entry;DOC do not include type hints in signature in html docs;"See . Removing the type hints in the online docs until we have a better solution to improve readability.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1154;BUG DataFramefloatdata dtypeinty does unsafe casting;closes   tests added passed  Ensure all linting tests pass see here for how to run them    whatsnew entry;Update citation webpage;"Followup of addressing 
I will leave it to the pandas team to decide whether to put in there a BibTeX entry with the concept DOI or a specific version some options of dealing with this are described in this comment.
Note how this comment thread on the previous PR asked to replace the author list by The pandas development team. However if users go to Zenodo to get the correct BibTeX entry of the version they're actually using their citation will contain the full author list provided in Zenodo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1155;DOC fixup docstring of deprecatenonkeywordarguments;"closes 
 tests added passed
 Ensure all linting tests pass see here for how to run them
 whatsnew entry";CLN remove filltuple kludge;No description provided.;0
1156;DEPS clean outdated version compat sync min versions;numpy    sqlalchemy .    pytest  The text was updated successfully but these errors were encountered;DOC include Offset.call to autosummary to fix sphinx warning;No description provided.;0
1157;ArrowStringArray PERF bypass some padding code in wrapresult;"The padding of np.nan across all columns is not needed for StringArrayArrowStringArray     before after ratio     master bypass    SOME BENCHMARKS HAVE CHANGED SIGNIFICANTLY.    PERFORMANCE INCREASED.     this is a small change for perf.    The padding code logic does not work for st.extract since the first value of a list maybe np.nan followed by other values. I made that change here and then reverted as is moreless perf neutral. so will do in another PR that uses wrapresult more for strextract. str.extract returns list of lists where any value in the list could be np.nan str.split returns array of lists with different lengths without np.nans and the np.nans returned as scalars
some further gains can also be achieved by bypassing the converting of np.nan to np.nan for partition for StringArrayArrowStringArray since the DataFrame constructor does not need this for a list of tuples. str.partition returns array of tuples str.split returns array of lists       The text was updated successfully but these errors were encountered";REF call blockshape from EABlock.makeblock;No description provided.;0
1158;DOC redocument the subset arg in styler for clarity of use;came up in a comment to another PR so here it is changed for all appropriate methods.;TST misplaced reductionindexing tests;No description provided.;0
1159;TST tighten stacklevel checks;closes  tests added passed    Ensure all linting tests pass see here for how to run them     whatsnew entry;REGR Fix construction of PeriodIndex from strings;"closes 
 tests added passed
 passes black pandas
 passes git diff upstreammaster u .py | flake diff
 whatsnew entry";0
1160;Add GitHub action to check for bug repro;"Resolves 
This action can be tested at httpsgithub.combvaughntestgithubissuetemplate by creating a new DevTools bug report.
Note that the debug logs in this Workflow won't be visible unless we set ACTIONSSTEPDEBUGtrue in the repository secrets settings.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove dependency on React;"Is this necessary I'd like to use the package in enzyme to avoid having to recopypaste the symbols for better debugging names but a hard dep in enzyme proper on a version of react isn't gonna work. This seems safe since nothing explicitly depends on React in here
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1161;DevTools Revert force deep remount when Fast Refresh detected;This reverts the most expensive part of ea which seems to no longer be necessary after subsequent changes.;Don't pass a Fiber to showErrorDialog;There are two places where we create CapturedError. The one in reconciliation phase correctly passes the stateNode but we accidentally broke it for the commit phase. This should fix it. To reduce duplication which confused me at first I removed the else branch which was already taken care of with the default values.;0
1162;Fix edgecase Fast Refresh bug that caused Fibers with warningserrors to be untracked prematurely;Refactor errorwarning count tracking to avoid preallocating an ID for Fibers that aren't yet mounted. Instead we store a temporary reference to the Fiber itself and later check to see if it successfully mounted before merging pending errorwarning counts.   This avoids a problematic edge case where a forceremounted Fiber from Fast Refresh caused us to untrack a Fiber that was still mounted resulting in a DevTools error if that Fiber was inspected in the Components tab.   Fixes   The text was updated successfully but these errors were encountered;Tweaks the build script;"This diff tweaks two things

The babel configuration now is configured to ignore all nodemodules folders wherever they are on the disk.
The getDependencies function won't break if the resolved path of the entry doesn't exactly match the entry name.";0
1163;Add key to inspectedelement error boundary;This way changing the selected element also recreatesresets the boundary automatically.     The text was updated successfully but these errors were encountered;Adds semver to the package dev dependencies;This diff simply adds semver to the toplevel dev dependencies. Semver was used in various scripts ex here without being listed which was invalid it worked because one of React's dependencies was itself depending on semver which was then hoisted to the toplevel through package managers optimizations.;0
1164;Improve error boundary in inspected elements panel;"Show more info about the error as well as the option to report it to GitHub.    The previous error boundary was probably preventing users from reporting certain kinds of issues like .
";Rename bits to unstableobservedBits;"This had me confused for a while. I was trying to write an example using bits and it wouldn't work. Then I found out that the real prop name was unstableobservedBits.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1165;DevTools bugfix for useState with hasOwnProperty key;Fixes bug reported in The text was updated successfully but these errors were encountered;Removed dev warnings from shallow renderer.;"We don't have anything close to full warning parity between the shallow renderer and other reconcilerbased renderers e.g. here. As we add some of the new polyfillrelated warnings that are a bit more verbose it would be nice to avoid having to duplicate them in this renderer also.
Note that this PR does not change the behavior of the shallow renderer only the DEV warnings.
Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1166;Account for another DevTools Fast Refresh edge case;DevTools now 'untrack' Fibers cleans up the IDtoFiber mapping after a slight delay in order to support a Fast Refresh edge case   Component type is updated and Fast Refresh schedules an updateremount.   flushPendingErrorsAndWarningsAfterDelay runs sees the old Fiber is no longer mounted it's been disconnected by Fast Refresh and calls untrackFiberID to clear it from the Map.   React flushes pending passive effects before it runs the next render which logs an error or warning which causes a new ID to be generated for this Fiber.   DevTools now tries to unmount the old Component with the new ID.    The underlying problem here is the premature clearing of the Fiber ID but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh. The 'debugNeedsRemount' flag won't necessarily be set.   The best we can do is to delay untracking by a small amount and give React time to process the Fast Refresh delay.    Resolves and;Warn about nonstatic getDerivedStateFromPropsCatch;"I found it pretty easy to do this mistake since it's the only static lifecycle.
So I figured let's warn about it.";0
1167;Fixed another Symbol concatenation issue with DevTools format util;"Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use Component as fallback name in more places;"This was supposed to be part of but I accidentally left it out.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1168;Errors thrown by Store can be dismissed in boundary;Split off from    Sometimes errors thrown by the store are recoverable. This PR updates the error boundary so that you can dismiss the error preferably after reporting it.;Add a fallback component name for warnings;"There used to be no fallback leading to warnings like this for anonymous components


This fixes them


I tried writing a unit test but it's pretty annoying to reproduce without createClass and that has its own warnings so it gets a bit confusing. Issues like and also made writing tests a bit painful. I'm happy to revisit with a test when those are resolved.";0
1169;Make StrictMode double rendering flag static for FBwww;Once D lands this will be at for FB engineers. Let's cleanup the GK and make the dynamic feature flag static.     The text was updated successfully but these errors were encountered;Subscriptions shouldn't call setState after unmount even for Promises;"Track mounted state to avoid calling setState callback even if the valuechanged callback is invoked.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1170;DevTools Reload all roots after Fast Refresh force remount;"Resolves some cases of as well as and I think    Alternative for that does not require a React Refresh bugfix release.    Unlike this PR works around the corrupted Store state by detecting a broken Fast Refresh remount and forcefully dropping the root and remounting the entire tree. This prevents Fibers from getting duplicated in the Store and in the Components tree. The benefit of this approach is that it doesn't rely on an update or change in behavior to Fast Refresh. This workaround is pretty dirty but since it's a DEVonly code path it's probably okay.   Note that this change doesn't fix all of the reported issues see comment but it does fix some of them.   This PR also slightly refactors the way DevTools assigns and manages unique IDs for Fibers in the backend by removing the indirection of a primary Fiber and instead mapping both the primary and alternate.   It also removes the previous cacheonread behavior of getFiberID and splits the method into three separate functions for different use cases
     getOrGenerateFiberID Like the previous function this method returns an ID or generates and caches a new one if the Fiber hasn't been seen before.
getFiberIDUnsafe û This function returns an ID if one has already been generated or null if not. It can be used to e.g. log a message about a Fiber without potentially causing it to leak.   getFiberIDThrows ûáThis function returns an ID if one has already been generated or it throws. It can be used to guarantee expected behavior rather than to silently cause a leak.    The PR also adds some basic integration tests for Fast Refresh DevTools including one that fails without this fix";Removed documentation badge from readme.md;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1171;Bugfix Prevent alreadycommitted setState callback from firing again during a rebase;First commit adds a failing test.   Second commit fixes it.;Improve cryptic error message when creating a component starting with a lowercase letter;"This PR adds a recovery suggestion to the error that appears when creating a component starting with a lowercase letter. e.g. if you try to render myComponent instead of MyComponent
The change passes both react and reactnative test suites locally.";0
1172;React Native Set allowConcurrentByDefault true;Overview   React Native needs this flag on for Relay tests.;Expanded DEVonly warnings for gDSFP and legacy lifecycles;"After a lot of discussion and careful consideration the team has reaffirmed the initial decision to not call unsafe legacy lifecycles componentWillMount componentWillReceiveProps and componentWillUpdate for any component that defines the new static getDerivedStateFromProps lifecycle. This applies to the UNSAFE aliases as well.
The reason for this decision ultimately boils down to support for the reactlifecyclescompat polyfill and concerns about consistent predictable behavior for future version of React.
As jquense pointed out with issue conditional lifecycle behavior is a new thing and it is not intuitive. For this reason we needed to improve the granularity and wording of the DEV warning. This PR does that first by expanding the warning conditionals to explicitly check for componentWillMount and componentWillUpdate as well rather than just componentWillReceiveProps and secondly by explicitly stating that Unsafe legacy lifecycles will not be called for components using the new getDerivedStateFromProps API.
The entire new DEV warning is
Unsafe legacy lifecycles will not be called for components using the new 
getDerivedStateFromProps API.

YourComponentName uses getDerivedStateFromProps but also contains 
the following legacy lifecycles
 componentWillMount
 componentWillReceiveProps
 componentWillUpdate

The above lifecycles should be removed. Learn more about this warning here
httpsfb.mereactasynccomponentlifecyclehooks

Tests have been updated as well to verify the new behavior.
Resolves";0
1173;lintbuild Infer format from artifact filename;Uses the layout of the build artifact directory to infer the format of a given file and which lint rules to apply.  This has the effect of decoupling the lint build job from the existing Rollup script so that if we ever add additional postprocessing or if we replace Rollup it will still work.  But the immediate motivation is to replace the separate stable and experimental lintbuild jobs with a single combined job.   Test plan   Downloaded build artifacts Manually edited a few files to add a lint error e.g. swapped a var for a const in ossstablereactcjsreact.development.js Ran yarn lintbuild to confirm the job fails in the expected way;Fix nowmissing errorInfo argument to componentDidCatch;"It was removed probably accidentally in .
I'm adding it back and also adding it for getDerivedStateFromCatch.";0
1174;Update entry point exports;"Note that the first commit in this branch is to alphasort the exports for entry points to make it easier to compare between them when reviewing which file exports which APIs.
The following APIs have been added to the react stable entry point

SuspenseList
startTransition
unstablecreateMutableSource
unstableuseMutableSource
useDeferredValue
useTransition

The following APIs have been added or removed from the reactdom stable entry point

createRoot
unstablecreatePortal removed

The following APIs have been added to the reactis stable entry point

SuspenseList
isSuspenseList

The following feature flags have been changed from experimental to true

enableLazyElements
enableSelectiveHydration
enableSuspenseServerRenderer

Todo

 Update tests once artifacts are built";Replaced an Object keys for each loop with a for key in object loop;"Replaced an Object keys for each loop with a for key in object loop which improves unit performance by .
forEach... is a good solution in general but when it comes to using Object.keys. It's significantly quicker to to use for let key in obj. Functionality remains the same code is also more legible and the loop performs faster this way so there are multiple benefits to doing it this way.";0
1175;Added new GitHub issue form for React DevTools bug reports;"Add a new GitHub issue form template for DevTools bug reports.    Update the React DevTools issue reporting flow to   You can demo this new form in action here.
Demo   newissueworkflowKapture..at....mp";tests add regression test for reading ReactCurrentOwner stateNode;"Follow up PR for . Adds a regression test related to issue .
Before the fix this test case would fail as
Expected the function not to throw an error matching
 TypeError Cannot read property 'warnedAboutRefsInRender' of null
Instead it threw
 TypeError Cannot read property 'warnedAboutRefsInRender' of null";0
1176;Renamed function in error log issue;"Summary

Test Plan";Fixed a batchedstate update bug with getDerivedStateFromProps;Addresses a batched state update bug reported in .;0
1177;Enable setJSRespondersetIsJSResponder for React Native Fabric;"Summary
Reenable setJSResponder setIsJSResponder for RN Fabric.
What could possibly go wrong
Test Plan
We have tested this extensively internally and will test before landing any ReactJS sync to the RN repo.";Fix falling in dev mode;"FiberNode.stateNode could be null
So I get TypeError
 at performWorkOnRoot tmpmyprojectnodemodulesreactdomcjsreactdom.development.js TypeError Cannot read property 'warnedAboutRefsInRender' of null
 at findDOMNode tmpmyprojectnodemodulesreactdomcjsreactdom.development.js

I checked reactnativerender render in dev it has the same check
httpsgithub.comfacebookreactblobmasterpackagesreactnativerenderersrcfindNodeHandle.jsL

 
 
 reactpackagesreactnativerenderersrcfindNodeHandle.js
 
 
 Line 
 in
 bea
 
 
 
 

 
 
 if owner null owner.stateNode null 
 
 
 


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1178;Fizz Make some tests more resilient to implementation details;"There are some invisible extra template tags inserted into Fizz atm for the IDs. It's not great and we'll probably optimize them away somehow but it'll likely be something in the HTML there.
Also the order of valueselect attributes swapped so we shouldn't test the exact HTML.";fabric register ReactFabric to be callable module;ReactFabric needs to be callable from native side for now to handle unmounting.;0
1179;Fizz Convert emulatedFizz PartialHydration tests to Fizz tests;"When implementing PartialHydration I simulated what Fizz would do in the future in the tests. This ports those to proper Fizz tests with hydration so that we don't rely on implementation details which varies slightly in the tests.
Notably I left some comments where Fizz doesn't do the right thing with SuspenseList yet.";New commit phase lifecycle getSnapshotBeforeUpdate;"Add new commit phase lifecycle getSnapshotBeforeUpdate that gets called before mutations are made. Any value returned by this lifecycle will be passed as the third parameter to componentDidUpdate.
This lifecycle is important for async rendering where there may be delays between render phase lifecycles e.g. componentWillUpdate and render and commit phase lifecycles e.g. componentDidUpdate.

This PR follows the precedent set by getDerivedStateFromProps and does not call unsafe legacy lifecycles componentWillMount componentWillReceiveProps or componentWillUpdate for any component that defines the new getSnapshotBeforeUpdate method. This is not strictly necessary unless we decide to polyfill the new method see reactjsreactlifecyclescompatpull but I think it may still be a good thing to do for consistency.
Likewise it does not log warnings for componentWillUpdate if a suppressDeprecationWarning flag is present.
If others disagree I can remove this specific part of the PR aka revert eda and .

Relates to reactjsrfcspull view formatted.";0
1180;Updated release scripts to work around GitHub Circle CI integration problems;"The GitHubCircleCI issue is blocking the DevTools release 
This updates the release scripts so they can accept a build parameter in addition to a commit parameter.
So before we would run either
scriptsreleasedownloadexperimentalbuild.js defaults to latest in master
We can still do that now explicitly
scriptsreleasedownloadexperimentalbuild.js commitmaster
But we can also do
scriptsreleasedownloadexperimentalbuild.js buildnumber
Here's it working even with a revision that GitHubCircleCI are out of sync on";Fix an infinite loop in new context;"Fixes .
The issue was caused by toplevel .return pointer not getting updated before descending. Then this condition would never be true and we'd loop forever.
It doesn't affect other cases because we update .return in the loop. The toplevel parent is just outside of the loop.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1181;Fix DevTools bug with SuspenseLegacyHidden component;"Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix small typos in createsubscription readme;Noticed a couple of typos.;0
1182;Allow complex objects as children of option only if value... is provided;"This one has bothered me for a while and as part of rewriting SSR now seems like a good time.
For legacy reasons we previously used React.Children to flatten the children of option. The reason for this is becase we need to know what the value will be so that we can see if it matches what the selected value passed to select was to know if this is the selected one. Also option only accepted text nodes as children anyway now this is not strictly true because template tags are allowed.
However at some point we stopped relying on flattening on the client because we just rely on the value that the browser provides after flattening.
React.Children is not really ever best practice because it doesn't allow for certain abstractions and so it lags in capabilities. Ideally it would never be used and it can be deadcode eliminated but that would never be the case if React itself has a dependency on it. So the goal here is to remove that dependency and to simplify things by just using the regular children path.
However as I noted in it's fine that we don't know what the implicit value is if we know the explicit value. In fact almost all usages of option provides an explicit value... attribute anyway. If you do that then why shouldn't you be able to use all the advanced abstraction features in the child position Such as function components that return strings but also allowing suspending in those as well as the child position of options in Flight.
This PR enables you to pass any children to option.
We still rely on flattening on the server if no value is provided. Therefore I always warn if a value is not provided and complex children are provided. I also added warning if dangerouslySetInnerHTML is used without a value attribute.
Additionally it's invalid to pass a div as a child of option because it won't parse as HTML. That automatically gets covered by the DOM nesting warning in this approach. This new approach adds comment nodes between text nodes. That seems to work fine in Chrome but not sure if there's a browser that has issues with those.
Additionally it might not be valid to pass fbt as a child of option because we might have previously relied on it being toStringed which triggers the string mode. Now it's being rendered as an element which might let it be rendered as a span. That might lead to DOM nesting warnings. We need to find a way to fix that in fbt because this is not the place to fix that. Additionally for the purpose of comparing the value of the option fbt shouldn't be used. It needs to pass a separate value prop.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support ForwardRef type of work in TestRenderer;No description provided.;0
1183;fix version in nvmrc;"Summary

When I execute yarn I get an error.
AssertionError ERRASSERTION Current node version is not supported for development expected .. to satisfy .. || .x || .x || .x || .x.

The devEngines field in package.json file is

 
 
 reactpackage.json
 
 
 Lines to 
 in
 eaa
 
 
 
 

 
 
 devEngines 
 

 
 
 node .. || .x || .x || .x || .x 
 

 
 
 
 
 
 


But the node version in .nvmrc file is

 
 
 react.nvmrc
 
 
 Line 
 in
 eaa
 
 
 
 

 
 
 v.. 
 
 
 


Test Plan
No.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Feature flag Use custom requestIdleCallback even when native one exists;"We'll use this in www to test whether the polyfill is better at scheduling highpri async work than the native one. My preliminary tests suggest yes but it's hard to say for certain given how difficult it is to consistently reproduce the starvation issues we've been seeing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1184;Add back root override for strict mode;"Overview
Adds back a unstablestrictMode option to the root which allows opting into strict mode at the root.
This keeps the levels implementation which is used for the strict effects GK but collapses it to a single option until theres sufficient demand for opting into different levels at the root.";Update user timing to record when we are about to commit;"what is the change
After repeatedly logging 'React Tree Reconciliation' we vary the
message slightly for the last reconciliation which happens right before
we commit.
why make this change
When debugging performance of async. rendering in the devtools it will be helpful if we can
quickly see where the 'commit' happens in a potentially long list of
sliced 'React Tree Reconciliation' logs.
test plan
Built and ran one of the fixtures. Also ran the unit test.";0
1185;DevTools Store emits errors before throwing;"The Store should never throw an error without also emitting an event. Otherwise Store errors will be invisible to users but the downstream errors they cause will be reported as bugs. For example 
Emitting an error event allows the ErrorBoundary to show the original error. Note that this may result in a slight uptick of errors being reported in the short term but should make bug reports more actionable.
The store still throws as well since throwing is valuable for local development and for unit testing the Store itself.
For example the underlying cause of is now shown in the error overlay";Removed an unnecessary wrapper object from state;No description provided.;0
1186;Add GitHub API query to bug report template;"This may help debug why sometimes the GitHub API search seems to not find a match when it should.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo in unexpected ref object warning;Just fixing a typo;0
1187;StrictMode includes strict effects by default;"Backs out some of the changes from . Builds on top of .
Removed unstablelevel attribute support for the time being";Renamed createRef .value attribute to .current;"Based on team discussion about awkwardness of inputRef.value.value.
Docs have been updated as well via dc.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1188;createRoot API is no longer strict by default;"Backs out some of the changes from .
This PR has been split into three commits to simplify the review process

The createRoot API no longer defaults to strict mode 
The unstablestrictLevel option has also been removed for now
Tests have been updated accordingly

 Support was left in place for defaulting a root into strict effects mode if the createRootStrictEffectsByDefault feature flag is enabled but this feature flag is only enabled within Facebook behind a GK.";resumeMountClassComponent should check for mount lifecycles not update;We have other tests that would have caught this if resuming were enabled in all cases but since it's currently only enabled for error boundaries the test I've added to prevent a regression is a bit contrived.;0
1189;Improve DevTools bug template text;Lots of issues get reported with incomplete or missing repro info. Maybe this change in template text will help.;Clean shell scripts;"Hi
I fixed some stuff spotted by shellcheck.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1190;Update timeslicing demo;"Overview
This PR makes some changes to the timeslicing demo including

Remove flushSync since we flush sync by default now.
Switch from Scheduler to startTransition.
Fix some CSS issues.
Use an experimental React build by default.

Screen

 
 
 

 Screen.Recording..at....PM.mov";Unify context stack implementations;"Implements the new context API on top of the existing ReactStack that we already use for host context and legacy context. Now there is a single array that we push and pop from.
This makes the interrupt path slightly slower since when we reset the unit of work pointer we have to iterate over the stack like before and switch on the type of work not like before. On the other hand this unifies all of the unwinding behavior in the UnwindWork module.
Also changes the context modules to use module constructors so that each renderer gets a separate instance which is currently broken when using reactreconciler.
This is not a total unification of legacy context and the new context API. A further step would be to implement the legacy contextTypesbased API on top of React.createContext.";0
1191;Added test fixture for scheduling profiler;"Related to 
Adds a test fixture for the scheduling profiler live at reactschedulingprofiler.vercel.app.
Right now the fixture shows that the experimental OSS release works

On an ondemand server though these marks are being logged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Prefix internal context properties with underscore;"So these aren't mistaken for public properties. Ideally we'd use symbols or private fields.
Addresses 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1192;Unify React.memo and React.forwardRef display name logic;"Alternative to 
Unify React.memo and React.forwardRef display name logic.
The critical changes in this PR are small only ReactMemo.js and ReactForwardRef.js. The rest is just added tests.

React.memo
Inner name only
function Innerprops 

const Memoized React.memoInner

 Warningserrors logged while rendering Memoized will have the format
 Error in Inner
 in Inner at 
Outer name only 
const Memoized React.memoprops 
Memoized.displayName 'Outer'

 Warningserrors logged while rendering Memoized will have the format
 Error in Outer
Inner and outer names
function Innerprops 

const Memoized React.memoInner
Memoized.displayName 'Outer'

 Warningserrors logged while rendering Memoized will have the format
 Error in Outer
 in Inner at 
No namedisplay name 
const Memoized React.memoprops 

 Warningserrors logged while rendering Memoized will have the formatsupsup
 Error in Memo

forwardRef
Inner name only
function Innerprops ref 

const Forwarded React.forwardRefInner

 Warningserrors logged while rendering Forwarded will have the format
 Error in ForwardRefInner
 in Inner at 
Outer name only 
const Forwarded React.forwardRef
 props ref 

Forwarded.displayName 'Outer'

 Warningserrors logged while rendering Forwarded will have the formatsupsup
 Error in Outer
Inner and outer names
function Innerprops ref 

const Forwarded React.forwardRefInner
Forwarded.displayName 'Outer'

 Warningserrors logged while rendering Forwarded will have the format
 Error in Outer
 in Inner at 
No namedisplay name 
const Forwarded React.forwardRef
 props ref 


 Warningserrors logged while rendering Forwarded will have the formatsupsup
 Error in ForwardRef

 Note that because of how ReactComponentStackFrame is implemented an anonymous inner function will not display a stack frame. We could add a fallback name e.g. Anonymous or Unkonwn like we do in other places if we'd like to add this functionality though.";Add unstable prefix to observedBits prop until its proven to work in practice;"Based on 
During a weekly team meeting we agreed to make this unstable until we can prove that it's a viable optimization strategy for Relay or some other library.";0
1193;subtreeFlag warning Fix legacy suspense false positive;"Legacy Suspense is weird. We intentionally commit a suspended fiber in an inconsistent state. If the fiber suspended before it mounted any effects then the fiber won't have a PassiveStatic effect flag which will trigger the missing expected subtreeFlag warning.
To avoid the false positive we'd need to mark fibers that commit in an incomplete state somehow. For now I'll disable the warning in legacy mode with the assumption that most of the bugs that would trigger it are either exclusive to concurrent mode or exist in both.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Initialize React prop nameattribute name mapping without Map;"Fixes . See comment.
Using new Mapiterable isn't supported in IE so it ends up trying to iterate through an empty map and these attributes don't get defined in properties. Since this is only run once on startup inlining the attributeName array is probably fine.";0
1194;DevTools refactor Profiler commit tree reconstruction to be iterative;Resolves;Add Netlify integration for DOM Fixtures folder;"In issue nhunzaker mentions that it would be nice to have an automatic deployment of the DOM Fixtures folder for manual and automated testing purposes.
Since Netlify offers their services for free to open source projects an account for this will need to be set up I thought it would be a great fit.
This commit adds a netlify.toml file to the repo allowing easier deployment out to the service.
This file will do two things

On master branch update it deploys the latest code to the main linked netlify site. For example httpsmusinglewinaefa.netlify.com
For every PR opened creates a 'Deploy Preview' site for validating that PR's changes. For example httpsdeploypreviewmusinglewinaefa.netlify.com
The preview site is linked via GitHub in the PR.


Test Plan
Create a Netlify account and connect the github repo you're testing to it.
After connection Netlify should deploy the DOM fixtures build folder to a live site for you to use.";0
1195;Preparing DevTools .. .. release;No description provided.;Improve warning message for setStateonunmounted;This is one of the most common warnings people see and I don't think the old text is especially clear. Improve it.;0
1196;DevTools should iterate over siblings during mount;Resolves and   Potentially resolves and    See this comment for more info comment   Previously DevTools recursed over both children and siblings during mount. This caused potential stack overflows when there were a lot of children e.g. a list containing many items.   Given the following example component tree   A method that recurses for every child and sibling leads to a max depth of     The stack gets deeper as the tree gets either deeper or wider.  A method that recurses for every child and iterates over siblings leads to a max depth of    The stack gets deeper as the tree gets deeper but is resilient to wide trees e.g. lists containing many items.;RFC React.forwardRef implementation;"Add new API React.forwardRef implemented as a new element type. Usage is e.g.
const ThemeContext React.createContextlight

 Example HOC
function withThemeThemedComponent 
 function ThemeContextInjectorprops 
 return 
 ThemeContext.Consumer
 value 
 ThemedComponent ...props refprops.forwardedRef themevalue 
 
 ThemeContext.Consumer
 
 

 Forward refs through to the inner themed component
 return React.forwardRefprops ref 
 ThemeContextInjector ...props forwardedRefref 
 


const ThemedButton withThemeButton
const buttonRef React.createRef

 buttonRef.value will point to ThemedButton rather than ThemeContextInjector
ThemedButton refbuttonRef 
Relates to reactjsrfcspull";0
1197;DOC Update computation.rst;A wider span means a smaller alpha which means each xt has less impact on the ewma.     The text was updated successfully but these errors were encountered;DOC fix conflicting ewma documentation;The information in the docs in the parameter description and in the body of the docstring is conflicting. This should hopefully make them consistent amongst themselves and with the code.;1
1198;BUG Fix Empty DataFrame.style.render raises IndexError;Fix attempt for Issue    Handles DataFrames and Series with no rows or columns   using pd.DataFrame.empty or pd.Series.empty   In import pandas as pd   In pd.DataFrame.style.render     closes tests added passed   passes git diff upstreammaster nameonly '.py' flake diff  whatsnew entry;BUG Render empty DataFrame as empty HTML table wo raising IndexError.;"closes 
 test added passed
 passes git diff upstreammaster nameonly '.py' | flake diff
 whatsnew entry

A one line change to add an if clabels guard to clabels enumeration.
Returns HTML string consisting of empty table.
Help requested with format and placement of whatsnew entry.";1
1199;ENHBUG color cannot be applied to line subplots;"Specifying subplotsTrue in line and kde plot draws all lines in black and may not accept colors and styles keyword. Summarized a table to compare current expected fixed behaviour. Sample data   df pd.DataFramenp.random.randn    Command   Current Behavior Expected Behavior    df.plotsubplotsTrue   All lines are in black OK
 lines are in default color cycle.    df.plotstyle'r' subplotsTrue    All lines are in red OK   No change    df.plotcolor'r' subplotsTrue All lines are in red OK   No change     df.plotcolor'red' subplotsTrue All lines are in red OK thanks to  No change      df.plotcolor'r' 'g' 'b' subplotsTrue ValueError torgba Invalid rgba arg 'r' 'g' 'b' NG  lines are drawn in red green blue   df.plotstyle'r' 'g' 'b' subplotsTrue  lines are drawn in red green blue OK   No change";TST Add hex color strings test;"It's already resolved. I added hex string color test.
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1200;ENH GH Add option infoverbose;"This adds a infoverbose to the options. There's a small section in faq and basic introduction. Entry in v. is still missing.
Closes";BUGAPI info repr should honor display.maxinfocolumns;"Closes 
I think this is what we agreed on. The tests are split up. In testformat we do more of the following global settings tests. The rest are in testframe which directly call df.info and I'm basically testing that the kwargs there override the global settings.";1
1201;Custom column formatters for HTML in IPython e.g. can show np Darray as image;I've created a gist to explain in more detail and with a screenshot.;ENH Conditional HTML Formatting;"closes 
closes 
Not close to being done but I wanted to put this here before the meeting. Maybe someone will have a chance to check it out.
httpnbviewer.ipython.orggithubTomAugspurgerpandasblobbdeaceeebaastyle.ipynb
httpsgithub.comTomAugspurgerpandasblobstylelystyle.ipynb
latest example notebook";1
1202;add support for microsecond periods GH;"Continues  Alrighty. This should be fine. There may be a few formatting changes that I rolled back through the git diff apply patch but all notskipped tests pass so I figured it wasn't a big deal. Here's what I did to fix the problem which was continually merging with upstream function getmycommits   local curdirpwd  cd  n adds a newline in addition to the file name  sed removes blank lines here  sort u sorts and removes duplicates lines  git log nameonly prettyn authorPhillip eeff..master sort u sed 'd'  oldpandaspathtoevilpandasmergeofdeath newpandasshinynewcheckoutofpandas   getmycommits oldpandas while read file do
 some boolean tests to filter out setup.py and missing files between versions  diff pu oldpandasfile newpandasfile patch p newpandasfile
done Needless to say I won't be doing any more merging of upstream into my branch. Thanks to those who helped me out here.";ENH support for nanosecond time in offset and period;"closes 
This pull request fixes handling of nanosecond times in periods and offsets. In addition it simplifies the internal processing of intraday periods.
In pd.daterange'' periods freqpd.offsets.Nano
Out 
class 'pandas.tseries.index.DatetimeIndex'
 ... .
Length Freq N Timezone None
It requires Numpy . to work using Numpy . yields the original behaviour before this PR.
This is the continuation of after it was merged without effect fixing issue .
The biggest part is a refactoring of pandassrcperiod.c to use a conversion factor matrix for intraday conversion. This minimizes the impact of adding three more intraday time units ms us and ns. Thus the amount of frequency conversion methods is reduced to one per intraday frequency source or target. The intraday conversion factor is looked up in the conversion factor matrix inside the method.
Nanosecond support is only available when using numpy .. When using with numpy . everything except nanosecond support should work as expected.";1
1203;BUG Fixed plot label shows as None.;Fixes;fixing pandas.DataFrame.plot labels do not appear in legend and label kwd;"Closes 
The following behavior has been tested

df.ploty'sinx' gives a legend with label 'None' this should give no legend instead as it plots one series and then we don't automatically add a legend see behaviour of df'sinx'.plot
df.ploty'sinx' legendTrue gives a legend with label 'None' this should of course give a legend with label 'sinx' behaviour as df'sinx'.plotlegendTrue
df.ploty'sinx' label'something else' legendTrue gives a legend with label 'None' should be a legend with label 'something else' as we want that the label kwarg overwrites the column name.

based on following data
xnp.linspace
yznp.sinxnp.cosx
xyzpd.Seriesxpd.Seriesypd.Seriesz
dfpd.concatxyzaxis
df.columns'x''sinx''cosx'
dfdf.setindex'x'";1
1204;BUG pivottable always returns a DataFrame;"closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry

Before this commit if

values is not list like
columns is None
aggfunc is not instance of list

pivottable returns a Series.
This commit adds checking for columns.nlevels is
greater than to prevent from casting table to
a Series.
This will fix .";BUG pivottable sometimes returns Series;"closes 
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry

The pivottable docs mentions that a DataFrame should be returned. In some cases a Series is returned. I had to also alter some existing tests that expected pivottable to return a Series
Any feedback welcomed thanks";1
1205;BUGCITST fix format strings;"Also test against an unsupported version of openpyxl ..
closes";fix string format for Python .;This PR fixes a minor string formatting problem when running under Python .;1
1206;Configurability of unicodeconsole encoding;"
checks whether there are nonascii characters and tries to convert them if possible
allows encoding to be set in setprintoptions default UTF
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";More Unicode factor out pprinting of labels and names;"addresses the same issue in edd applied to other occurences in the tree
factored out the pprint code to a helper.
now supports pprinting of heterogeneous nestednestednested tuples with unicode strings
FTW.";1
1207;BUG Bug in DataFrame.reindexlabelslevel with with reordered labels GH;closes;BUG preserve left frame order in left merge;"closes 
on master
 left
 dates states
 CA
 NY
 CA
 right
 stateid states
 CA
 NY
 pd.mergeleft right how'left' on'states' sortFalse
 dates states stateid
 CA 
 CA 
 NY 

DataFrame.join already works fine
 left.joinright.setindex'states' on'states' how'left'
 dates states stateid
 CA 
 NY 
 CA 

on branch
 pd.mergeleft right how'left' on'states' sortFalse
 dates states stateid
 CA 
 NY 
 CA 

 pd.mergeleft right how'left' on'states' sortTrue
 dates states stateid
 CA 
 CA 
 NY";1
1208;BUG Matched Round Signature with NumPy's;Closes by reaccepting the out parameter as a kwargs argument. Also removes the out parameter from the signature for DataFrame.round and replaces it with kwargs like its Series counterpart. Furthermore since out is a parameter that is not supported in pandas checks that out is None and throws an error if it isn't.;CLN removed unused parameter 'out' from Series.idxminidxmax;"closes xxxx
 tests added passed
 passes git diff upstreammaster | flake diff
 whatsnew entry

It seems misleading to have the out parameter in the function signature when it is not used
pd.Series.argminself axisNone outNone skipnaTrue
pd.Series.argmaxself axisNone outNone skipnaTrue

unlike the numpy.argminargmax methods where out can be used";1
1209;BUG query modifies the frame when you compare with;"Fix for . The simplest way to fix this involved adding an assignmentallowedTrue arg to the internal eval function. All existing behaviour should be preserved. If adding the arg isn't okay I'm not quite sure how else to do it as it's only once we reach the internal eval function that the expression is actually parsed and we know that it includes the assignment.
It also seems like a pretty bad side effect if query can silently overwrite values obviously only if you accidentally include an assignment so hopefully that's a good argument in favour of having the
assignmentallowed arg.";API multiline not inplace eval;"closes 
closes 
This is just a proof of concept at this point the idea is to allow multiple assignments within an eval block and also include an inplace argument currently default True to match old behavior although maybe that should be changed for chaining.
In df pd.DataFrame'a' np.linspace 'b' range

In df.eval
 ... c a 
 ... d c .
 ... e a b c

In df.head
Out 
 a b c d e
 . . . .
 . . . .
 . . . .
 . . . .
 . . . .

In df.eval
 ... f e 
 ... g f . inplaceFalse.head
Out 
 a b c d e f g
 . . . . . .
 . . . . . .
 . . . . . .
 . . . . . .
 . . . . . .";1
1210;Fix a lint error;No description provided.;Fix lint;Whitespace.;1
1211;Create section on using React with package managers.;"Our getting started experience is pretty rough. A user comes to our site wanting to learn about React and we start telling them about es npm babel webpack gulp and a whole ton of other infrastructurerelated stuff. This is all super important and does belong in our documentation but it's a bit much for a new user who just wants to get a Hello World example working.
This is the first step toward solving . It gives us a page where we can talk about configuring esnpmbabelwebpackgulpbower with React. We can freely add stuff to this page without worrying about complicating our gettingstartedwithReact experience.
cc zpao";Update gettingstarted.md;Added babelloader to the list of npm packages for proper webpack build;1
1212;Update tutorial.md;"Before submitting a pull request please make sure the following is done...

Fork the repo and create your branch from master.
If you've added code that should be tested add tests
If you've changed APIs update the documentation.
Ensure the test suite passes npm test.
Make sure your code lints npm run lint we've done our best to make sure these rules match our internal linting guidelines.
If you haven't already complete the CLA.

fix unknown Unexpected token in codepen.io.";Update tutorial.md;Fixes to Tutorial in httpsfacebook.github.ioreacttutorialtutorial.html;1
1213;Add missing index for array in tutorial;"Hello I was reading and following steps in the tutorial. I realised the example missed an key property otherwise I got this error in the console
Warning Each child in an array or iterator should have a unique key prop. Check the render method of CommentList. See httpsfb.mereactwarningkeys for more information.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Key dynamic children in tutorial.;"I don't think my explanation is great for a tutorial since it doesn't really introduce the concept of reordering or clobbering but keying your dynamic children seems necessary to avoid warnings and sounds like its generally recommended. Therefore it seems like this is the appropriate place to introduce this concept.
Besides improving the explanation for this to make a little more introductory it seems like this should be added to the tutorial. If the maintainers agree should I update any other example files";1
1214;add capture property;see;Add capture to supported attributes;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1215;Bump Commoner version to fix EMFILE errors;"Finally found a more robust solution for the too many open files
problem benjamncommoneradba.
Closes .
Closes .
cc zpao jeffreylin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Fix Sample Project reloads on empty form submission;"Before submitting a pull request please make sure the following is done...

Fork the repo and create your branch from master.
If you've added code that should be tested add tests
If you've changed APIs update the documentation.
Ensure the test suite passes grunt test.
Make sure your code lints grunt lint we've done our best to make sure these rules match our internal linting guidelines.
If you haven't already complete the CLA.

Returning false ensures that the page does not reload when one of the input fields is empty. Consequently this prevents form data from being cleared on page reload.";1
1216;Fixes bug where animation has not finished before component remà;"àoved from DOM
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Clear transition timeouts when component unmounts. Fixes;I noticed this when testing as react components are created and unmounted rapidly during tests. I think it makes sense to clear the timeouts set by the delay prop when the component is unmounted.;1
1217;docs Better clarification on passing callbacks to children;"Improvement to since it's stale.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Clearify callback text in the tutorial;"Clarify callback text in the tutorial. Supersedes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1218;Don't skip reconcilation if context differs;"This adds a reconciliation bailout condition asserting that context has not changed which fixes the other half of ryanflorence's discovery in .
For those following along the first half of this bug was fixed in . The assertion that there may be a bug in the reconciler turned out to be due to a bug in jest facebookjest if you're bored and want to have fun see if you can identify the 'fix' in this diff that avoids that bug. But I digress...
This diff results in a divergence between dev and prod behavior specifically more components will rerender more often in dev because we no longer bail out of reconciliation in dev mode due to httpsgithub.comfacebookreactpullfiles causing there to always be a context variable change. This means not only that we should start running React unit tests in both dev and prod mode but also has ramifications for developers who only test in dev before shipping their components to prod.
sebmarkbage spicyj";Bailout if the element and the context is unchanged properly;"Currently We use to check if a context is changed before bailing out but we create a new context everytime a compnent is updated regardless the origin context provided by the consumer is unchanged.
As a result would always return false unless the context is undefined. That is when there is a context a component would never be bailed out. Specifically If we use reactredux reactrouter reactintl or any other lib which provides a context we would get no bailout optimization.
To fix this I suggest we use shallowEqual instead of . But I am not sure it would introduce a breaking change or not. I have made this change in this PR along with a test.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1219;No whitespace warning;"Resolves 
Includes some misc. lint fixes. Will squash if accepted.
cc spicyj jimfb";Improve validateDOMNesting message for whitespace;For .;1
1220;Fixed shallowEqual for arguments that are not objects;"Fixed shallowEqual implementation to handle the case when inputs are not objects.
If either argument is not an object and unequal then shallowEqual should return false.
If only one argument is an object then shallowEqual should return false.
Fixes";Fix primitive values comparison of shallowEqual;"see 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1221;Oneclick benchmark runner script;"It's a bit verbose to run our benchmark script now and I'm thinking about ways to make it easier open to better ideas.

.scriptsbenchbenchmarkrunner dev

It takes bundles from your local build folder and compares them with React's latest master build from httpreact.zpao.combuildsmasterlatest. Notice that it doesn't build React by default you can run npm run build manually before invoking the benchmark runner like npm run build .scriptsbenchbenchmarkrunner.

cc spicyj gaearon zpao
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add React benchmarking infrastructure;"This is currently a WIP and is not yet complete.
The aim of this PR is to give us better tracking of performance and bundle sizes as we make changes to the React codebase.
To do this new infrastructure is needed to validate our code changes against predefined benchmarks. We can do this using Google's Lighthouse tool performance markers in the benchmarks an automated build process. For now the benchmarking script does a build and benchmark run comparing the local React repo and a remote merge base React repo.
The end goal is to have this process run on a CI pipeline which can provide us feedback in buildsPRs so we have constant feedback in regards to performance improvements and regressions.
To test how this works run
yarn bench
From the branch on this PR. It should take a few minutes to run and report back the performance metrics of local and remote merge base.
There are still things that need to be finished

 Provide a better visual output of results when yarn bench is run
 Add bundle size comparison checks and remove the existing code for showing branches from the Rollup build process it will become redundant with this feature
 Add more benchmarks other than the functionalcomponents benchmark
 Add bootstrapped sampled data over results to help show confidence in figures
 Add additional CLI options to better refine bench runs";1
1222;set className with setAttribute for SVG compat;Fixes SVG bug where changes to the className prop are not changed in the svg element.;Handle className correctly for SVG nodes;"Bring back the DOM mutator to check if the className we're writing
to is actually a string.
For SVG nodes the className property is not of type string but
and SVGAnimatedString and writing to the property will cause
a TypeError setting a property that has only a getter
See httpjsfiddle.netcaV 
This first checks if the className property is indeed a string
and uses setAttribute removeAttribute otherwise.";1
1223;Added handleHidden method to BootstrapModal in examples;"Added handleHidden method for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes jquerybootstrap example uses handleHidden which does not exist;Fixes . I've fixed this by adding a hook into the modal's hidden.bs.modal event.;1
1224;Resolve eslint error;"I was about to begin work on an issue and usually run the linter and tests before starting to be sure I'm starting with a clean slate. I noticed that the linter had one error so I thought it would be a good idea to have it be a separate PR and not lump it in randomly with the actual issue fix.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";missing semicolon;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1225;Another fix for TransitionGroup errors;"If the component has unmounted before a transition completes sometimes the ref is undefined therefore it will throw. By adding a check to make sure we actually successfully got the ref we avoid the error.
This is a fix for";Fixing jQuery Velocity compatibility;this fixes;1
1226;docs Move React Elements post to right place fix typo;"The URL already made its way around so we can't just break it. We might
want to just live with it instead of even doing this redirect.
httpsgithub.complaxdanreactcommitbcbefecfeacommitcomment
Reviewers spicyj vjeux sebmarkbage
Test Plan used the redirect locally";Update introductingreactelements.html;"Simple typo correction.
The file name should also be changed but that would break permalinks probably better to simply leave it incorrect for the time being.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1227;Fix home page code samples;"This change defaults the ReactPlayground to JSX compilation by default which fixes the errors with the samples on the home page.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix htmljsx compiler;"It changed React Playground to add a required props but unfortunately didn't update the call sites of the frontpage. I don't think it should be required so I'm just making it optional and providing the correct default value.
Test Plan

Open the front page and make sure examples are working
Open reactjsxcompiler.html and make sure it is working
Open reacthtmljsx.html and make sure it is working

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1228;Add unknown property warning for use of autofocus;"Resolves 
This PR also

Resurrects property warnings when ReactDOMFeatureFlags.useCreateElement is on
Adds property validity event to debug tool

I wrote some tests for this work but didn't notice any other DEV specific warnings being tested. I can include them with this PR if they're wanted.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";autofocus should warn with autoFocus as alternate name;;1
1229;Add support for SVG tspan and image elements and the preserveAspectRatio attribute;This pull request adds this support and updates the documentation.;Add full support for SVG .;"Adds all the missing elements from httpwww.w.orgTRSVGeltindex.html
Adds all the missing attributes except for the event related ones starting with 'on' from httpwww.w.orgTRSVGattindex.html
Updates documentation.
Adds support for namespaced attributes that need setAttributeNS
I have signed the CLA";1
1230;Change warning text 'a uncontrolled' 'an uncontrolled';Changes new React warning regarding controlled component status switching to properly use an rather than a before uncontrolled which begins with a vowel sound.;Grammar correction in ReactDOMInput.js warning;Changed a uncontrolled input to an uncontrolled input.;1
1231;Update examples for and other examples fixes;"No code in here had to change unlike the . upgrade we're warning free in here. I only fixed up a little bit of code to match our other examples and upgraded where we're pointing for several remote files pulling in from their cdns where appropriate. I also removed webcomponents.js from the examples and just pointed that at a cdn like we do for our other third party deps.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update CommonJS example to use Babel;"Initially I tried updating the version of React but this caused Node to resolve it to the parent directory and Babel started failing because it didnÆt recognize the presets option. To fix this I updated Babel as well. I had to add the presets explicitly since Babel requires that. While we donÆt explicitly use ES in the example I figured that adding a preset to it would cause less confusion than omitting it.
Both npm start and npm run build work correctly in my testing.
Reviewers zpao
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1232;tutorial Use ids in comments data;"Just the same bits from reactjsreacttutorial minus a comment and with simplified ids for illustrative purposes.
See previous discussion in 
TODO Update the code in the translated pages. Will do once we're certain on the code.";Update tutorial.md;If following tutorial then get the error Each child in an array or iterator should have a unique key prop. This change brings the code within the html file inline with the example.js;1
1233;NEEDS WORK Try to fix;"This is my attempt at fixing the regression in ..beta.
I also included a fix for onBeforeInput which I expect has the same bug as onChange.
However I could not get the test system to work change listeners aren't fired by the mock input event like they're supposed to.
Someone more experienced than me is going to have to write a test for this bug that actually works.";"Fix event target for input change events. Fixes 
";Fix event target for input change events. Fixes;1
1234;Fiber Throw on undefined component output;"This removes an in my opinion unnecessary duplicate warning from Stack so that I don't have to reimplement it in Fiber. Then it changes Fiber to throw on undefined component output.
See individual commits. Only the last commit affects Fiber the rest are tweaking Stack and tests.";Updated prod error code test to be fibercompat;"This test previously returned undefined from render to cause an error. Fiber allows this though so the test was failing. I've updated the test instead to trigger a different error that both Stack and Fiber share in common.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1235;Added component displayName to warning message in ReactUpdateQueue.js;"ref 
New message will look like this

Warning setState... Can only update a mounted or mounting component. This usually means you called setState on an unmounted component. Please check the code for the ExampleApplication component. This is a noop.";Improve warning in ReactUpdateQueue;"Now it references name correctly for ES class components. fixed ReactNoopUpdateQueue httpsgithub.comfacebookreactpullfilesdiffcdfdedaceeddbeR but not ReactUpdateQueue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1236;Fix minor typo in cloneWithProps doc;No description provided.;Documentation Fixed typo grammar in 'clone with props';As per grammar rules you use 'a' before words that begin with a consonant sound and 'an' before words that begin with a vowel sound hence 'an element' rather than 'a element'.;1
1237;Fiber Move memoization to begin phase;"Because memoizedProps and memoizedState are read from the instance the
instance's input pointers props state context should be updated even
when shouldComponentUpdate causes a bailout.
Update
The scope of this PR changed a bit. The main change is to move memoization to the begin phase right after reconciliation.
Currently we update the memoized inputs props state during the complete phase as we go back up the tree. That means we can't reuse work until of its children have completed.
By moving memoization to the begin phase we can do a shallow bailout reusing a unit of work even if there's still work to do in its children.
Memoization now happens whenever a fiber's child property is updated typically right after reconciling. It's also updated when shouldComponentUpdate returns false because that indicates that the given state and props are equal to the memoized state and props.";Add failing test for state merging when sCU is false;No description provided.;1
1238;Only reuse serverrendered React nodes if there are no unexpected siblings;"PR for 
I choose to believe that users should be correcting their own mistakes rather than have React transparently fix and unknowingly introduce weird edgecases and visual artifacts.
Quite simply this PR enforces that there are no other nodes except the node rendered by React inside the target it obviously does not warn if there isn't a node rendered by React inside the target. It only performs this check in DEV.
There is another test in which complements this PR.";Use '.firstElementChild' when looking for root element;when looking for a react root element the function would look at the 'container.firstChild' attribute which is a convenience for childNodes. this might be nonhtml nodes text for example causing hierarchies containing spaces between the container and child react root element to fail locating the react root elem. modified to '.firstElementChild' which is a similar convenience for children;1
1239;Lintcleanup;"Lint was not happy about some files. So I made him happy again partially.
I was not quite sure what the format was when placing expressions over multiple llines. So If there some tabs necessary or other things please let me know I will update it asap .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix some ESlint warnings;"CONTRIBUTING.md should do grunt lint to your codes.
But It has many warnings maxlen now.
 grunt lint
Running eslint task
 Lint passed but may contain warnings

 problems errors warnings

This pull request is fixing it.
 grunt lint
Running eslint task
 Lint passed but may contain warnings

Done without errors.

All warnings are about 'maxlen'.
Therefore this changes are for formatting codes.";1
1240;opt out of input events for ie and;"while supported the input event is too noisy in IE. It Fires on
placeholder sets and when an input is focused with a placeholder.
This is an potential alternative fix to 
cc syranide
fixes and fixes";fix onChange with placeholder on IE;"IE will fire input event when input renders if input's placeholder contains Chinese words
plain httpjsfiddle.netyiminghefmrckaz
react httpsjsfiddle.netyiminghezwepo
and other situations httpsconnect.microsoft.comIEfeedbackdetailsiefirestheinputeventwhenainputfieldwithplaceholderisfocused";1
1241;Make Simulate.mouseEnterLeave use direct dispatch;"Fixes .
onMouseEnter and onMouseLeave shouldn't actually use direct dispatch but doing so is more useful than doing nothing and I don't think it precludes adding proper enterleave dispatching later either.
Test Plan grunt test";Properly handle direct event dispatches;"When registering events to onMouseEnter and onMouseLeave in a component these events cannot be tested using the TestUtils. The methods TestUtils.Simulate.mouseEnter and TestUtils.Simulate.mouseLeave do exist but the event is never actually dispatched since makeSimulator function only calls accumulateTwoPhaseDispatches which does not cover mouseEnter and mouseLeave.
Adding a call to accumulateDirectDispatches takes care of this and the events are being dispatched normally.";1
1242;Add support for SVG image tag;"A support for SVG image tag.
This is used in lhausermannthegraphfaf
Note This is not enough to be able to load an external SVG|PNG|JPG
image file. The main issue is we can not create valid JS to have
a property name xlinkhref. As today we should use it using
a container object say 'g' and set the image tag using
a dangerouslysetinnerhtml
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support SVG image other related cleanup;I got tired of dealing with PRs trying to add image. Then I decided to cleanup while I was there since we've had to do a few followup changes when changes in getMarkupWrap weren't made in both places.;1
1243;Error boundaries;"Implements error boundaries for initial render which allow React components to become isolation boundaries. If a child of an error bounadry crashes the error boundary has the ability to handle the error and render something different like an error message or a frown face. This allows application authors to partition their app into regions and a crash in a single region won't take down the entire pageapplication.
Fixes";Workaround for dealing with exceptions thrown in asynchronous render method;"We provide a workaround for this issue by allowing the user to define a callback function to be executed whenever an exception is thrown inside the body of a render method. This function should be called exceptionCallBack as in the following example adapted from this issue
var a false

var MyComponent React.createClass
 render function 
 if this.props.a 
 throw 'err'
 

 return 
 h onClick a true run Hello this.props.nameh 
 
 
 exceptionCallBack functione 
 console.loge
 


function run 
 ReactDOM.render
 MyComponent aa nameRui Cardoso 
 document.getElementById'example'
 


ReactDOM.renderMyComponent afalse nameRui Cardoso document.getElementById'example'
This produces the expected result of err being logged to the console when the component is clicked.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1244;Grunt lint and syntax fixes;"Consistent spacing for class functions in examples
Consistency for render spaced to avoid line overflow in basicclickcounterindex.html
Fixed grunt lint errors in ResponderTouchHistoryStore.js ReactEmptyComponenttest.js";Fix lint for eslint .;"Travis was failing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1245;Use removeAttribute to forcefully remove properties from the DOM;"Proper implementation of because now there's something factual to discuss.
The DOM now statelessly reflects the props provided to DOM components. No more getDefaultValueForProperty. null and undefined no longer behave differently depending on the value being an attribute or property with being an actual value and distinct from null and undefined. I would dare say that this is the correct fix for .
As is mentioned and benchmarked in the there should be a theoretically measurable impact of this in some browsers. But I dare anyone to suggest a reasonable reallife usecase where it is actually at all measurable unless my benchmark is flawed.

If we want to push the performance of edgebrowsers to the limit we could conditionally make the default type be attribute instead of property as FF and Chrome perform significantly better but they're basically an order of magnitude faster already making it quite pointless and fragile IMHO.
Basic tests added removed an existing test that has been halfbroken as it no longer makes sense.
 raw gz Compared to master baceabacffdbdca
 buildJSXTransformerprevious.js
 buildJSXTransformer.js
 buildreactprevious.min.js
 buildreacttest.js
 buildreactwithaddons.js
 buildreactwithaddons.min.js
 buildreact.js
 buildreact.min.js";Change tabIndex to MUSTUSEATTRIBUTE to avoid special focus treatment in Chrome;"Chrome treats anchor tags with an explicit tabIndex'' different then if the attribute was not present. Specifically when clicking a link with an implicit tab index i.e. no attribute on the node no focus outline is shown. Whereas with an explicit tabindex'' it does get shown. This is super minor but maintaining reactbootstrap has taught me that A LOT of people are VERY touchy about browser focus outlines.
If anything this just makes the behavior consistent across browsers. tested in recent FF Chrome and Edge
example httpsjsfiddle.netkmckf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1246;Warn for functional refs on stateless functional components;"Resolves 
Currently React warns if you do
StatelessComponent ref'foo' 
But it doesn't warn if you do
StatelessComponent refnode ... 
It seems like a generally good idea to have a consistent warning when using refs with any SFC.";Warn for callback refs on functional components Stack Fiber;"For the changelog this also implements in Stack.
It implements it for Fiber too in addition to other Stackrelated Fiber warnings and invariants.

While working on the fiber implementation of ReactTestRenderer I came across this warning which is not yet implemented for fiber.
Initial questions

Are there any areas of the fiber impl where errors and warnings are expected to live This is the first instance added to BeginWork which I think may indicate this warning should exist elsewhere
This doesnÆt actually stop any ref from being attached. How should that be done
A related test seems to show refs throwing an error if used on a toplevel SFC. Should that exist in the same area of the code or elsewhere";1
1247;Fix Calling setState inside getChildContext should warn;It doesn't pass one of the tests but I'm curious if this is the right direction or not.;Warn when setState called within getChildContext;"Fix for 
I guess that we should reject update to prevent maximum call stack error.
jimfb what are you think";1
1248;A more descriptive createElement warning;"See 
This PR creates a doc to explain the possible causes of a createElement warning when used with invalid types.";Improve error messages for invalid element types;cc mkonicek httpstwitter.commartinkonicekstatus;1
1249;Fix confusing whitespace nesting warning;If any cases are missing please let me know;Don't wrap text in span elements;"Removes the span wrappers from text nodes and handles cases where the browser may have split or merged adjacent text nodes.
Sorry if this is a totally insufficient way of going about this. It seems to work fine for my needs. If you can point me in a different direction I'm happy to keep working on it.";1
1250;Using https URLs for embedded fiddles;"Official announcement from jsfiddle
httpstwitter.comjsfiddlestatus
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make jsfiddle iframes work on https pages;"When viewing httpsfacebook.github.ioreactblogthinkinginreact.html none of the jsfiddle iframes show up because they are pointing to http links. Using a protocolrelative URL works for both http and https access.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1251;Fix . Resolve to default props when config key is set to undefined in cloneElement;"Fix . Resolve to default props when config key is set to undefined in cloneElement
var Foo React.createClass
 getDefaultProps function 
 return foo 'bar'
 
 render function 
 return React.createElement'span' null this.props.prop
 


clonedElement React.cloneElementReact.createElementFoo foo 'foo' foo undefined
console.logelement.props.foo Should be 'bar' instead of undefined";Fix . Set default prop when prop is undefined while cloning;Set default props if a passed in prop is undefined while using cloneElement the same as what happens when doing createElement.;1
1252;Fix spacing in documentation;"Replace nonbreaking space by space in refs and the dom.
Fixes

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove nbsp and use space instead;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1253;CSS transition fix;"Hey React Team
I was playing around with transition groups and found that adding a call to requestAnimationFrame seems to help a lot with webkit transitionEnd events firing more consistently. I added a basic catch for browsers without the api call but this is a bandaid solution targeted at recent versions of evergreen browsers. This chromium bug thread helped me a ton in diagnosing the issue on Chrome.";Robust animationend handling in ReactCSSTransitionGroup;"As described in the transitionend event is buggy and prevents some animations from being cleanedup. This PR taking a lead from the Khan Academy's TimeoutTransitionGroup httpsgithub.comKhanreactcomponentsblobmasterjstimeouttransitiongroup.jsx requires developers to specify timeout durations for each kind of animation to ensure that they get cleanedup. Enabling transitions without providing timeouts now logs a deprecation warning.
This solution isn't perfect but in the absence of a more robust animationevent API it's the best that can be done. This change allows developers to produce reliable animations with ReactCSSTransitionGroup which would otherwise be impossible.";1
1254;Correct highlighted block;"The top block stops one line too soon and the second block is one line too hight.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix tutorial code highlights;Lines got shift down due to changes made in this commit.;1
1255;Update Flow version to v..;"This PR is to update Flowtype version to v.. and fix some errors.
In Flowtype v.. dictionary types are treated as invariant.

httpsgithub.comfacebookflowreleasestagv..

In the following case it has to explicit covariance with .

ReactNativeAttributePayload.js

type AttributeConfiguration 
 key string 
 CustomAttributeConfiguration AttributeConfiguration  boolean
 
But I avoid the error by using FlowFixMe comment because it's needed some works like this.

The covariant syntax causes a parse error in ESLint.
To fix it we have to update babylon for parse covariant syntax with .
. causes other ESLint errors which are noundef for type parameters.
To fix them We have to use eslintpluginflowtype.
To install eslintpluginflowtype We have to update ESLint to .. because of peerDependencies.
. causes other ESLint errors We have to fix them.

Can I work on this
If so I'll work on this as other PRs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Flow .;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1256;FiberFix tests for mountupdate callback errors;"This PR fixes some failing Fiber tests.
This is passing callerName to validate callback arguments.
callerName is being passed as an optional argument. Should I annotate it as a required argument
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add callback validation to fiberbased renderers;"Moved ReactFiberClassComponent validateCallback helper function into a standalone util used by both fiber and stack implementations. Validation now happens in ReactFiberUpdateQueue so that nonDOM renderers will also benefit from it.
This fixes failing fiber tests.";1
1257;Fix ReactTransitionGroup behavior when removing several children at once;"If several children complete leaving before rendering TransitionGroup
only the last one was removed. This could easily happen if
callback in componentWillLeave is called synchronously and several items
are removed from array. The other case is when ReactCSSTransitionGroup
has transitionLeavefalse and array is also cleaned up.
The bug was happening because this.state.children was used as a base for
children removal and it wasn't updated until the render so only the last
removal was actually happening.
Fix involves keeping the updated children state between invocations of
handleDoneLeaving. After updating this.state and rendering
updatedState is cleaned up and ready for subsequent array modifications.
Test case included.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added callback chain in TransitionGroup addon;"This added to prevent that the state gets updated before the last changes was not yet processed.
This should close .
Honestly I could not create an unit tests which reproduces the fault as described in . If someone could point me in the right direction I will extend this issue with the necessary unit tests.
I tested this through play testing. Builded created a single html page as given in the jsfiddle in and tested it like that.";1
1258;Support for JSX tag namespaces ReactDOMdiv;"This has been suggested and discussed before facebookarchiveesprima etc. But it seems to me like the discussions rather died out than a rejection of the issue. So here's for one final resurrection of the issue with a proper implementation using the XMLnamespaces as seemed to be preferred by jeffmo. In my opinion this issue points to a very pleasant but not required feature that vanilla JS has that JSX currently lacks. To me it also highlights a possible issue with respect to best practices for sharing components and frameworks as this may have impact design decisions depending on the authors preference for JS or JSX. Having to locally require and assign every single component intended to be used is tedious and unnecessarily verbose. Simply being able to refer to a collection of components as we easily can in JS should be available to JSX as well.    This brings JS and JSX to parity on this issue in my opinion without inventing custom features or weird syntaxes and it seems to me that this should not block any important future design decisions that would be compatible with JSX and it's entirely optional for the user. Technically the JSX implementation quotes invalid JS identifiers resulting from unusual characters in namespaces or tags when possible which explains the implementation of quoteNamespacedTagName. This PR depends on facebookarchiveesprima for fbesprima which is why the tests are failing.
All feedback and criticisms are appreciated. Fixes .";Add XML style JSX namespacing support using jsxns docblock comment.;"Adds support for using XML namespaces in JSX to refer to custom defined identifiers in a jsxns docblock comment. Can make a namespace refer to any JS identifier.

 jsx React.DOM
 jsxns UI MyApp.UI External External
 

React.createClass
 render function 
 return 
 UIComponent 
 
 

Compiles to
React.createClass
 render function 
 return 
 MyApp.UI.Componentnull 
 
 

Should address most of the concerns and patterns mentioned in .
Included some basic tests for validating namespace definition and usage.";1
1259;Unit Test for Context Updates;Fixes    But not well   The text was updated successfully but these errors were encountered;updateComponent should update the context iff it has changed;This fixes a bug where children of a component won't get context updates.;1
1260;Make it easy to run the browser tests on saucelabs;"This adds a bunch of tasks for manually running the tests in a browser on saucelabs.
I haven't enabled any of these for travisci yet. I plan to do that in a separate pull request.";Fix error in test logging;"grunt.error.writeln doesn't exist.
I think this is right. Can you confirm subtleGradient an then I'll push this.";1
1261;Adding a new webidl and websocket.rs file;Closes .     The text was updated successfully but these errors were encountered;Adding a new WebSocket.webidl and websocket.rs file;No description provided.;1
1262;Update mpmetadata version;This change is;Update crate mpmetadata;"This fixes a panic on some files.
Closes 



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix .



 There are tests for these changes OR
 These changes do not require tests because only an external library is updated




This change is";1
1263;Update androidrsglue for loading SpiderMonkey on android;"fixes 
r mbrubeck";Update androidrsglue;Fixes . r larsbergstrom;1
1264;Fixes;No description provided.    The text was updated successfully but these errors were encountered;Fix unused result warnings;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1265;Remove remaining unused imports;Closes;Get rid of unused import warnings;;1
1266;Resolves Composite data only if the target is ready to receive a new paint job;I'm not entirely sure that this is what you had in mind. Also I'm pretty sure that it doesn't solve anything wrt to vsync as this would require us to receive vsync ticks which we don't at the moment.   Also this does not contain tests yet. I need to understand how I can write tests for Servo.   Fixes .;Fixes additional calls to rAF.;"Often a rAF callback will request another rAF from the callback itself.
Previously the constellation would quickly receive two messages saying
that there were no animations and then there are animations again in the
situation above. This would make the compositor tick the new animation straight
away causing strange fluctuations and timings in rAF callbacks.
Instead only send the NoAnimationCallbacks message if the animation
callback queue is still empty after invoking the callbacks.
This fixes rAF timing which now runs at the correct vsync framerate.";1
1267;Default is toptobottom if unset not bottomtotop;Reverse linear gradient direction if not explicitly specified to match expected default behavior     .mach testtidy does not report any errors  These changes fix github issue number if applicable.     There are tests for these changes OR  These changes do not require tests because    This change is;Make default lineargradient direction 'to bottom' not 'to top'.;"Found this while looking at failing Firefox reftests with stylo. If a lineargradient value doesn't specify a direction then it should go from top to bottom.
r shinglyu



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 




This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1268;Revert Update glutin;"This reverts commit ffa.
notriddle and Jayflux reported that this breaks Linux desktop on both Fedora and Ubuntu with a backtrace like httpsgist.github.comnotriddlecdffbdcaabf
They confirmed that backing it out fixes Servo.
r nox
or whomever";Revert Update glutin;"This reverts commit ffa. It breaks stuff



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1269;making image element areas good at finding areas;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 



This change is";Issue Don't crash if an image uses a map that is defined before it;"The map referenced in an img element might have been declared before while the code expected it to always be after. This patch fixes this.


 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 
 There are tests for these changes



This change is";1
1270;Fix intrelated warnings in netmimeclassifier.;Also replaced for ranges with a..b notation.;Fix some intuint related warnings in mimeclassifier.rs;r jdm;1
1271;Revert Auto merge of servorustup rMsger;"This reverts commit ad reversing changes made to cba.


This change is";Revert Update Rust to ..nightly fca .;"This reverts commit e.

According to nox this breaks MacOS. Should be fine tomorrow
rustlangrust
r nox Msger or whomever



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 




This change is";1
1272;Move ParseErrorReporter from msg to style;"close 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove the msg dependency from style;This is part of slimming down the dependencies of geckolib.;1
1273;stylo Use implappunits for webkittextstrokewidth property.;"This is a follow up for .
After gecko bug we now use nscoord for webkittextstrokewidth
property. So we can use implappunits for the gecko glue code.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 


After gecko bug we now use nscoord for webkittextstrokewidth
property. So we can use implappunits for the gecko glue code.


This change is";update stylo bindings;"Update stylo bindings for the latest mozillacentral sync.
r Manishearth


This change is";1
1274;Upgrade cssparser;"Pick up the fix for servorustcssparser
.ini files removal based on running .mach testcss testswptcsstestscssdevhtmlcolor I didnÆt run the whole test suite.
r larsbergstrom



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update rustcssparser to ..;The text was updated successfully but these errors were encountered;1
1275;Added verbosity to buildcommands.py;"As per this issue I have added verbosity to buildcommands.py
First time contributing to mozilla community please be gentle";mach Print commands if 'verbose' is set;"Fixes .



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1276;Upgrade some dependencies;;Update mallocbuf.;The text was updated successfully but these errors were encountered;1
1277;Add warning for building without release;"Fixes issue adds warning to python build script when built without release flag

Warning This is an unoptimized debug build. For performance testing use .mach build release to enable compiler optimizations.


Followed debug warning conventions in rest of file and omitted colon.";Fixed;The text was updated successfully but these errors were encountered;1
1278;stylo Get rid of one of the copies of the expand function.;"This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace ParsedDeclarationexpand with nongeneric method;"... to reduce its code size impact.
httpsbugzilla.mozilla.orgshowbug.cgiid


This change is";1
1279;Fix README homebrew install regarding glfw;No description provided.;Update README for Homebrew.;"glfw is in the homebrewversions keg.
 brew install glfw
Error No available formula for glfw
Searching formulae...
Searching taps...
homebrewversionsglfw
Simplest fix
 brew install homebrewversionsglfw
Cloning into 'usrlocalLibraryTapshomebrewhomebrewversions'...
remote Counting objects done.
remote Total delta reused delta 
Receiving objects . KiB | . KiBs done.
Resolving deltas done.
Checking connectivity... done.
Tapped formulae
 Installing glfw from homebrewhomebrewversions
 Downloading httpsdownloads.sourceforge.netprojectglfwglfw..glfw...tar.bz
Already downloaded LibraryCachesHomebrewglfw...tar.bz
 Patching
patching file CMakeLists.txt
Hunk succeeded at with fuzz offset lines.
 cmake DCMAKEINSTALLPREFIXusrlocalCellarglfw.. DCMAKEBUILDTYPENone DCMAKEFINDFRAMEWORKLAST DCMAKEVERBOSEMAKEFILEON Wnodev DGLFWUSECHDIRTRUE DGLFWUSEMENUBARTRUE DBUIL
 make install
 usrlocalCellarglfw.. files K built in seconds
Users who have homebrewversions already tapped won't notice this since after tapping homebrewversions keg shouldn't notice since after tapping the library is available using just brew install glfw.
 brew tap
homebrewversions
 brew install glfw
 Installing glfw from homebrewhomebrewversions
 Downloading httpsdownloads.sourceforge.netprojectglfwglfw..glfw...tar.bz
Already downloaded LibraryCachesHomebrewglfw...tar.bz
 Patching
patching file CMakeLists.txt
Hunk succeeded at with fuzz offset lines.
 cmake DCMAKEINSTALLPREFIXusrlocalCellarglfw.. DCMAKEBUILDTYPENone DCMAKEFINDFRAMEWORKLAST DCMAKEVERBOSEMAKEFILEON Wnodev DGLFWUSECHDIRTRUE DGLFWUSEMENUBARTRUE DBUIL
 make install
 usrlocalCellarglfw.. files K built in seconds";1
1280;Update WR st stage of new clipping embedded shaders.;"This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update to webrender ..;"Changes necessary to build servor with webrender ..



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 




This change is";1
1281;Rename checknounwrap.sh to checknopanic.sh;"Hello I fixed .


This change is";Rename checknounwrap.sh to checknopanic.sh;"rename etccichecknounwrap.sh to etccichecknopanic.sh
 Replaced checknounwrap for checknopanic
 Rebased against Origin MozillaMaster
 Ran the build and tidy below without errors




 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.




This change is";1
1282;Attempt to fix webfontrelated intermittent test failures.;"I'm not completely sure the race condition outlined in this patch is
actually the race condition causing failures... but it's a possibility.
I plan to run this through try a couple of times to see if it actually helps.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Mark oljapaneseirohaa.html flaky on Mac;"Workaround for 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1283;Check the type attribute for scripts.;"
";check the typelanguage of script elements;"I tried to prevent allocations but the slices wouldn't live long enough to check the static array without duplicating code. Plus if the language attribute is used a new String is pretty much required.
Maybe if no type and no language are the most common it'd be worth using MaybeOwned so that textjavascript.tostring isn't needed
fixes";1
1284;Changes on comments in servolib.rs;"converted the first comments in servolib.rs into doc comments.
moved doc comment of impl Browser to pub struct Browser.
resolves";servo lib doc comments;Convert the comments in Servo's library to doc comments;1
1285;Update WR version add latest shaders to resources.;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because webrender update


Signedoffby Sam swoodmozilla.com


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update webrender gleam and associated shaders.;"This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1286;Add hr to PR template;"Gives some space for the original PR text to go.


This change is";Hide unnecessary information in the rendered PR template;"These changes attempt to make the initial PR view less cluttered. Instructions are hidden in HTML comments and there's a clear distinction between the PR description and the checklist.



 .mach build d does not report any errors
 .mach testtidy faster does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because not part of the build




This change is";1
1287;Add support of textcombineupright for stylo;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because it is just a trivial change for stylo only




This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Implement textcombineupright property.;"Closes 




 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 These changes do not require tests because it is a simple property. If it needs tests what should be tested





This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1288;Fix CSSStyleDeclarationsetPropertyPriority and some refactoring;"r Msger



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Optimize SetProperty for inline styles;r Msger;1
1289;Remove and ignore .rej and .orig files;This change is;Remove file accidentally added in .;"And prevent it from happening again.


This change is

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1290;Misc cleanup for DOM attributes;No functional change just cleanups related to parsing attributes.;Remove HTMLFontElementcolor parsed attribute value;Part of;1
1291;Overwrite the last servolatest.ext with current file;"So we kinda changed the naming scheme at the last minute and this PR will make it so we actually upload packages to the location servolatest.ext that we're telling people to download them from.
If none of this makes any sense please ping me in the morning and I'll fix it all up and be mildly embarrassed 



 .mach build d does not report any errors
etcci is unrelated to the build
 .mach testtidy does not report any errors
It's all mad about some wpt stuff I never touched
 These changes fix github issue number if applicable.
IRC conversation



 There are tests for these changes OR
 These changes do not require tests because I hope someone fluent in bash takes a look and tells me if they're bad




This change is";Add servolatest on uploadnightly;"Allows for easy linking over to servonightly builds.
cc larsbergstrom



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because they are part of the CI infrastructure



This change is";1
1292;Enable refcounting arbitrary DOM types;"This replaces the specialized TrustedXHRAddress and TrustedWorkerAddress code that was used for the same purpose. A nonzero refcount pins the given DOM object's reflector and prevents it from being GCed even when there are no other outstanding references visible to SpiderMonkey. This will enable us to implement asynchronous operations that refer to particular DOM objects such as queue a task to fire a simple event named load at the iframe element from the spec safely and conveniently and paves the way for things like asynchronous network responses.
Some concerns about the resulting size of XHR progress messages have been expressed but I believe optimizations to reduce that can be implemented in subsequent PRs.
r Msger note in particular the changes to the worker lifetime code. I couldn't figure out how to achieve an identical lifetime to the previous addrefrelease pairing and I also was having trouble figuring out why the existing setup was safe. The new implementation now holds the main script task Worker object alive via the TrustedWorkerAddress field in the dedicated worker global scope which is a significant difference.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugins Autogeneration of Reflectable Inheritance lint;"Now domstruct also generates Reflectable impls and there's another lint to ensure that a DOM struct only contains one bare DOM field as the first field or a Reflector.
A lot of this was generated by sed each autogenerated change has its own commit for easy review these will be squashed later.";1
1293;Fix warning Use iterator.minbykey instead of iterator.minby;;Replace usage of deprecated minby with minbykey;;1
1294;Don't try to unwrap the result of requestAnimationFrame callback;The text was updated successfully but these errors were encountered;layout Don't panic if requestAnimationFrame is called before first layout.;"Closes .
r glennw



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1295;Stop using stdslicebytescopymemory.;Fixes .;Fix some warnings;The text was updated successfully but these errors were encountered;1
1296;Implement discarding Document objects to reclaim space.;"This PR implements document discarding. Active documents are kept alive strongly but inactive documents are only kept alive weakly. When a document is GCd it is marked as discarded and if it is every reactivated a reload of the URL is triggered.
Note that this PR is pretty aggressive about discarding and can any inactive document other than those being kept alive by other sameorigin pipelines. We might want to damp it down a bit.
Also note that this interacts with browser.html in that the reloading triggered by reactivating a document triggers mozbrowser events.
To test this I added a Zdiscardinactivedocuments debug flag which discards all inactive documents even ones which are reachable through other sameorigin pipelines.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix .
 These changes do not require tests because we should be able to use the existing tests with Zdiscardinactivedocuments.




This change is";Keep same timestamp when replacing frame state;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 




This change is";1
1297;Drop support for boxsizing paddingbox;"This reverts commit adab PR .
The CSS Working Group resolved to drop this value from the spec
httplog.csswg.orgirc.w.orgcsse
The group was unable to come up with even a theoretical use case. Gecko only implemented this value for completeness. Other browsers vendors have clearly expressed they have no interest in implementing this.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove unnecessary unsafe block;"Remove unused unsafe block.
cc yichoi";1
1298;DO NOT MERGE style Assert the style sharing candidate cache is empty before restyling;"cc bholley


This change is";stylo Don't keep around cached style after oneoff style resolutions.;"r bholley



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix github issue number if applicable.



 There are tests for these changes OR
 These changes do not require tests because 




This change is";1
1299;compositing Send mouse events to the right pipeline when using WebRender.;"Fixes mouse events in browser.html.
Requires servowebrendertraits and servowebrender.
r glennw
cc paulrouget


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";webgl Unblock webrender update;"Due to a new variant being added to WebGLParameter.


This change is";1
1300;Wrap extern static usage in unsafe block.;"This avoids a softwarning from rustc which will become a hard error in the future.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix warnings and make style and geckolib denywarnings;"Warnings have been piling up in the style system and making it harder to tell when new warnings are introduced. I think we should tighten up on them.
CC emilio Manishearth SimonSapin heycam pcwalton metajack larsbergstrom


This change is";1
1301;Change default fonts to Liberation form badlylicensed Microsoft fonts.;"Here is what I did

Build master
Run .servo httpexyr.org. Renders fine.
Uninstall the ttfmsfonts package.
Run .servo httpexyr.org. Fails with No matching fonts are the appropriate fonts installed
Apply the changes in this PR
Run .servo httpexyr.org. Renders fine.";Add Fira Sans and DejaVu Sans to the lastresort font families.;This is probably not a good longterm solution but it makes things work on fedora and is not too invasive. Fixes .;1
1302;Fixed typo in di compilation article;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix typo Tts Its;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1303;DX Security Renamed key to secret;"Q
A




Doc fix
no


New docs
yes symfonysymfony


Applies to
.


Fixed tickets
na";change key to secret regrading changes in Symfony .;"see symfonysecuritybundlefed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1304;Removed all occurences of thisgetRequest;"Q
A




Doc fix
no


New docs
no


Applies to
.


Fixed tickets




Hello.
The request is a data object and so the request should not be
inside the container. That's why the request will be removed
from the container in Symfony .
So it is better to let the HttpKernel injects the request when
the user want to use the request.
More over it is faster. The HttpKernel will always check if the
request should be injected. So injecting the request is time constant.
However retrieve the request from the container will execute more
calls.";getRequest is deprecated in version .;"removed thisgetRequest and added it as a parameter to be passed to loginAction method



Q
A




Doc fix
yes


New docs
no


Applies to
.";1
1305;remove 'placeholder' from emptydata example;This snippet is also included on the TextType Field page httpsymfony.comdoccurrentreferenceformstypestext.html and might trick novice Symfony dev's into using the placeholder for the TextType as well. I think the placeholder can be removed here making the example even more to the point.    The text was updated successfully but these errors were encountered;Update example for emptydata.inc;"placeholder' needs to be in the 'attr' array.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1306;Fix typos in cookbooktestingdatabase;Applies to   Fixed tickets;Update database.rst;Typo;1
1307;Don't use deprecated functions in Callback.rst;"Applies to   Fixed tickets    The addViolationAt function is marked as deprecated and should be replaced by buildViolation according to the Symfony update guides.
 The text was updated successfully but these errors were encountered";Symfony\Component\Validator\ExecutionContextInterface is deprecated sinc...;"Q
A




Doc fix
yes


New docs
no


Applies to
.



Symfony\Component\Validator\ExecutionContextInterface is deprecated since ..
Replaced by Symfony\Component\Validator\Context\ExecutionContextInterface";1
1308;Update varnish.rst;fixed missing semicolon     The text was updated successfully but these errors were encountered;Added missing semicolon in varnish config example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1309;Fixed typo in file uploads article;No description provided.;fixed typo;"fixed typo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1310;typo fixed;There was a typo in httpsymfony.comdoc.cookbookworkflownewprojectgit.html     The text was updated successfully but these errors were encountered;Minor typo fixed in managing vendor libraries;"Change vinvendors binvendors
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1311;Update the docs about overriding services;This fixes . In Symfony .x we no longer use or recommend to define classes as parameters.   The text was updated successfully but these errors were encountered;Remove suggestion to change the .class parameters;To my knowledge this practice has been discouraged and the corresponding configuration hooks have been dropped in Symfony ..;1
1312;BookValidation fix code block syntax;Applies to   Fixed tickets     The examples should render properly even if . isn't maintained anymore.     The text was updated successfully but these errors were encountered;Fix codeblock php style;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1313;Update routing.rst;"
Applies to   all    Fixed tickets   none   The described version of the file was breaking default value functionality and if user would access this page without name variable it'll get warning   Notice Undefined variable name in ..srcpageshello.php on line";Fixed an error in the routing chapter;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets
none



The name variable isn't initiated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1314;CookbookDynamic Form Modification Fix sample code;No description provided.    The text was updated successfully but these errors were encountered;Typeo in example of dynamicformmodification.rst;"There was a typeo in one of the example blocks of dynamicformmodification.rst.
For the product to be new productgetId should be equal to NULL and not different.";1
1315;Documented the new labelformat option;"Applies to  Fixed tickets
";Documented labelformat option;"Q
A




Doc fix
no


New docs
yes symfonysymfony


Applies to
.


Fixed tickets
";1
1316;move assets options from templating to assets section and add basepath documentation;"Applies to    Fixed tickets
";Moved assets config outside from templating;"version
versionformat
baseurls
basepath is not documented

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1317;Form fixed CollectionType options;"Complicated doc fix.
Target branch .
Caution

in . revert the choices uppercase and add choicesasvalues true in options example
in . revert everything except choicesasvalues in example
in . revert choicesasvalues.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert minor Update php.rst carlosgranados;"This reverts commit fefca reversing
changes made to fe.
I messed up badly yesterday evening. This should make things good again. Please review if you have time I'll merge it later this afternoon.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1318;fix include directive so that the contents are really included;Applies to     Fixed tickets;BookDI Added missing code block;"The include statement seems to not work as the code block disapeared in documention see httpsymfony.comdocmasterbookservicecontainer.htmlcreatingconfiguringservicesinthecontainer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1319;Added note about using the Validator TypeTestCase in form unit testing;This update ads the usage of the validator TypeTestCase class to use for testing when validation is required.;Update unittesting.rst;No description provided.;1
1320;Fixed typos .;This PR affects some new files so I can't base my changes on .. branches.;Missing semicolon in Console Component example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1321;Cookbook Make registrationform follow best practices;Applies to     Fixed tickets;WIP Reworking most of the registration form;"Hi guys



Q
A




Doc fix
yes because it's got bad recommendations


New docs
no


Applies to
.


Fixed tickets




After trading emails with a user I realized that we have this very outdated registration form chapter. Wow . A summary of the changes

Showing the embedded Registration model is way too hard and unnecessary
Stopped persisted plainPassword why did we do this
Used AppBundle approach
Annotation routing
various other small things

This is still a WIP only because I have sections at the bottom I still want to add. Review for what is here now is appreciated.
Honestly I was a little surprised that entries like this can hide in the docs and get so out of date. It's a testament to how big our docs are but it's a bit of a problem this is similar to that had something totally irrelevant in an important doc.
Things to update during merge

password encoder
remove getName in .
setDefaultOptions

Thanks";1
1322;Update datatransformers.rst;"Add missing 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update datatransformers.rst;Added missing semicolon.;1
1323;Removing moved container dumping section;This is currently appearing in two places as a merge reintroduced it into the introduction pages. This PR is to take it out of the intro section so it is just in the compilation part;Extra piece of code was deleted.;"Piece of code
container new ContainerBuilder
loader new XmlFileLoadercontainer new FileLocatorDIR
loaderload'services.xml'
is extra. It should be deleted.";1
1324;Add note about using choicelabel as a callback;"I was wondering how to call a method with an argument for some time and then I've came with an idea of using ArrayAccess that can be used with PropertyAccessor.
Then I found I can actually use callback in choicelabel but this was not documented. Is this correct usage";Symfony . Form choice option update;"Hi guys
This replaces and should close or at least covers most things.



Q
A




Doc fix
yes


New docs
yes


Applies to
.


Fixed tickets




This is a big change and I rewrote a lot. If you have time to review I think it's best to read the published version up platform.sh and check the code for validity. You can see the code in a project that inspired all the examples here httpsgithub.comweaverryanformchoicestreefinished.";1
1325;Fix some typos;No description provided.;FrontendEncore Fix greet.js example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1326;BookPropel fix url of Propel Documentation;Applies to   all    Fixed tickets    The Propel Documentation was updated and these reference is in Propel .x documentation     The text was updated successfully but these errors were encountered;Update Propel docs link;No description provided.;1
1327;Fixed a broken link to FastCgiExternalServer directive documentation;"This fixes .

The previous official website fastcgi.com is down and I can't find this doc on the official Apache website. This is the only link that I found.";Fixed broken links for nginx FastCgiExternalServer;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1328;Fixed a syntax issue in customconstraint article;Here you can see how the render is broken httpsymfony.comdoccurrentvalidationcustomconstraint.htmlconstraintvalidatorswithdependencies;Fix extra colon in customconstraint block;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1329;Hackday Update Heroku doc with SYMFONYENV param;"Applies to   fixed tickets
";Instructions for setting SYMFONYENV on Heroku;"Much smoother sailing with that step included 
On a related note I was going to add general advice on using SYMFONYENV as it is currently very underdocumented just one aside mention at httpsymfony.comdoccurrentcookbookdeploymenttools.htmlcupdateyourvendors but I wasn't sure where to do this. Maybe in cookbookconfigurationenvironments.rst and a few other places";1
1330;Changed slash to backslash in use statement.;No description provided.;Changed forward slash to backslash in use statement;No description provided.;1
1331;Update formats.rst;"In this case the requestgetRequestFormat will give back html as default value. Possible solution is set format as parameter in the route to overwrite the format. In my example without format parameter it will render the articleindex.html.twig and with pdf format it will render the articleindex.pdf.twig.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improved the Templating formats article;This continues and replaces . It also adds a minor tip about FOSRestBundle's format listener as I think it's a quite usefull tool when talking about request formats.;1
1332;Document spool type;"This is a known thing httpsgithub.comsymfonysymfonystandardissues but not documented. I think many people will trip over this so I'm suggesting adding a tip about it.
New docs   no   Applies to   all   Fixed tickets";Update monologemail.rst;"Added caution note regarding monolog spooling based on the docs example.
httpsgithub.comsymfonysymfonystandardissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1333;Update csrfinloginform.rst;change 'csrfprovider' to 'csrftokengenerator'   change 'intention' to 'csrftokenid'    The text was updated successfully but these errors were encountered;csrftokengenerator and csrftokenid documentation;"Q
A




Doc fix
no


New docs
yes symfonysymfony symfonysymfony


Applies to
.


Fixed tickets
";1
1334;Remove remaining LdapClient usages;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ldap Fix service name and replace deprecated class;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1335;Normalization of method listings;Applies to   all   Fixed tickets   fixes;Ref Normalize methods listings;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets




I only did this on methods listings which have some informations about the methods. ie. I didn't change anything on this page httpsymfony.comdoccurrentcontributingcodeconventions.htmlmethodnames";1
1336;Update hostnamepattern.rst;Error in xml;Fixed typo in hostnamepattern.rst;"Hello
I was reading the documentation and i saw a typo error on the closing xml element it's supposed to be default not requirement.";1
1337;Syntax Error on Options FollowSymlinks;A missing s made the VirtualHost crash when symlink lines were uncommented.;Fix typo in Options;No description provided.;1
1338;Formtypes should be placed in Form\TypeDirectory;No description provided.;Included hint about file location;Copied from httpsymfony.comdoccurrentbookforms.htmlcreatingformclasses;1
1339;Form fixed reference to addViewTransformer method call;No description provided.;cookbook form transformer sappendClientTransformeraddViewTransformer;No description provided.;1
1340;Fixing some build errors;Applies to   all   Fixed tickets;CookbookEmail Fix internal doc link;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets
";1
1341;Updated Cookies Caching section;Correct code for Varnish unset instead of remove;CookbookCache Fix cookie example on Varnish cookbook;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets
none



I have realized that the example which unsets unnecesary cookies it's wrong and mixes Varnish and syntax so I've separate the current example in two one for each version.";1
1342;fix broken merge;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix faulty conflict resolution;Restore dde;1
1343;ComponentsForm describe how to access form errors;Applies to   all    Fixed tickets    The getErrors and getErrorsAsString methods haven't been documented before. This pull request adds a short description for them. This forms as basis for the solution of .;Form Removed deprecated getErrorAsString doc;"Q
A




Doc fix
Yes


New docs
No


Applies to
master


Fixed tickets




FormgetErrorAsString method is deprecated since Symfony .. I'm open to adding some deprecation messages";1
1344;Removeupdate lines causing build failures;"This pull request amends the invalid code blocks within the documentation to fix the build errors both locally and on platform.sh. Additionally this normalizes the dependency installation and build calls executed by both travis and platform.sh so they both use the same environment to build the documentation. This is important as currently often one will fail while the other will succeed this should not ever happen and they should both either fail or succeed.
See comment and comment for the origin story.
Note This should likely be applied to the . branch which is where the errors originate will update the target branch once this is confirmed.";Fix YAML and XML syntax errors in configuration blocks;"I changed the configuration blocks especially for the XML version of configuration to conform to the XML file format.
Despite the fact that the syntax errors are voluntary to give hints to the reader for possible extra attributes I fixed the doc for several reasons

The code doesn't get highlighted on the Symfony docs pages because of these errors. Example on the profiler data collector page at the bottom click on the XML tab and you will see it is not highlighted.
The documentation can't be compiled with newer versions of Sphinx ..x as it results in errors because of these syntax errors.
This is a regression since the Symfony . docs as there was no syntax error before.
The YAML error is indeed an error backslashes need to be escaped in doublequote strings.

Screenshot of a nonhighlighted code due to the commented attribute which is not allowed in XML

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1345;fix types;Applies to   . Master   Fixed tickets    The text was updated successfully but these errors were encountered;Improve cookbook form unit testing.;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets




I tweak this example from cookbook and receive error
Symfony\Component\Form\Exception\UnexpectedTypeException Expected argument of type string AppBundle\Form\CategoryType given

and i just fix it like in this pr and all become ok.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1346;Update pdosessionstorage.rst;Changes after the .. release keeping the names of the values as they where.;for symfony .;"for symfony .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1347;Update commandsasservices.rst;Missing parent construct;CookbookConsole Error in example code;The example code was not working. When overriding Commandconstruct you need to call the parent instructor.;1
1348;Update customconstraint.rst;Applies to    Fixed tickets   You MUST specify an alias because  Symfony Bundle FrameworkBundle ValidatorConstraintValidatorFactory.php   name will be a FQCN and will not be present in thisvalidators array name constraintvalidatedBy if issetthisvalidatorsname     thisvalidatorsname new name LOOK HERE IF I DON'T SPECIFY THIS ALIAS I WILL END HERE NO SERVICE   elseif isstringthisvalidatorsname     thisvalidatorsname thiscontainergetthisvalidatorsname    So if custom validator is a service that needs to be taken from Container there is no valid alternative to alias it should be mandatory and should be reported onto documentation as you can see from this factory.;Custom constraint with dependencies needs an alias;"It seems that Symfony . still needs an alias for the service declared for a custom constraint. Otherwise it's not loaded as a service from the container so the dependencies are not injected.
A. Failing example without alias
Service declaration
validator.customlessthan
 class AppBundle\Validator\Constraints\CustomLessThanValidator
 arguments 'servicecontainer'
 tags
 name validator.constraintvalidator

Constraint
class CustomLessThan extends Constraint

	public message 'The value should be lett than lessThan.'


Validator
class CustomLessThanValidator extends ConstraintValidator 

	use ContainerAwareTrait

	public function constructContainerInterface servicecontainer
	
		thissetContainerservicecontainer
	

	public function validatevalue Constraint constraint
	
		lessThanValue thiscontainergetParameter'lessthanvalue'
			 
		if value lessThanValue
		
			thiscontextbuildViolationconstraintmessage
					setParameter'lessThan' lessThanValue
					addViolation
		
	


Result

Catchable Fatal Error Argument passed to AppBundle\Validator\Constraints\CustomLessThanValidatorconstruct must be an instance of Symfony\Component\DependencyInjection\Container none given called in vendor\symfony\symfony\src\Symfony\Bundle\FrameworkBundle\Validator\ConstraintValidatorFactory.php on line and defined
 Internal Server Error ContextErrorException

B. Working example using alias
Service declaration
validator.customlessthan
 class AppBundle\Validator\Constraints\CustomLessThanValidator
 arguments 'servicecontainer'
 tags
 name validator.constraintvalidator alias 'alias.validator.customlessthan' 

Constraint
class CustomLessThan extends Constraint

	public message 'The value should be lett than lessThan.'

	public function validatedBy
	
		return 'alias.validator.customlessthan'
	


Validator
class CustomLessThanValidator extends ConstraintValidator 

	use ContainerAwareTrait

	public function constructContainerInterface servicecontainer
	
		thissetContainerservicecontainer
	

	public function validatevalue Constraint constraint
	
		lessThanValue thiscontainergetParameter'lessthanvalue'
			 
		if value lessThanValue
		
			thiscontextbuildViolationconstraintmessage
					setParameter'lessThan' lessThanValue
					addViolation
		
	


Result

No exception the field is validated the constraint message is displayed containing the parameters value taken from Container

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1349;ContributingCode fix indentation so that the text is rendered properly;Applies to all   Fixed tickets    The text was updated successfully but these errors were encountered;Patches end of page;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets
";1
1350;Typo when expression language is used to configure a service.;Typo in XML and PHP code block when expression language is used to configure a service.   Symfony\Component\ExpressionLanguage\SyntaxError   Unexpected character around position .;Removed references to in XML PHP examples;The syntax is for YAML only XML and PHP will error when these are included in configuration.;1
1351;Fixed syntax highlighting;Fixed syntax highlighting for the PostVoter example;miss define a block;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1352;PropertyInfo Add Component Documentation;New docs    yes symfonysymfony   Applies to Fixed tickets    This is still a work in progress but I'd like feedback from anyone regarding structure grammar and any other improvements while I continue. After speaking with dunglas I'm creating a new PR due our branches differing by about commits.;Added the documentation of the PropertyInfo component;"Q
A




Doc fix
no


New docs
yes symfonysymfony


Applies to
.


Fixed tickets




This PR finishes the work started in";1
1353;Misc changes;Applies to    Fixed tickets;Fix Entity namespace alias;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets




Change the Entity namespace alias from AppPost to AppBundlePost and use shortcut method so make the code simpler and equal to the newAction later in the chapter";1
1354;Fix;Applies to    Fixed tickets    Rewritten this page from talking about the deprecated SecureRandom class to talking about the randombytes replacement.;Remove Securely Generating Random Numbers;Remove the section securetools Securely Generating Random Numbers because the class SecureRandom is not available anymore deprecated in . removed in . in favor of randombytes.;1
1355;Update thecontroller.rst;Corrected error in the sample code.;Missing parameter name;"function indexAction misses the parameter name. This is needed because it is forwarded afterwards.
function indexActionname";1
1356;removed semicolon typo.;There was a typo in one of the code examples.;typo in task form;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1357;Form remove the getName function as it is deprecated;Applies to  Fixed tickets  none;Update dynamicformmodification.rst;"method getName has been removed in version .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1358;Add link for psr psr psr;"imho it's interesting to have link to each psr
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Coding Standards Add psr links;I have added PSR links in the coding standards. This makes it a lot easier for beginner to find and follow the PSR PSR and PSR standards.;1
1359;Remove duplicate link introduction.rst;Remove duplicate link;Remove duplicate helper questionhelper;"questionhelper was listed twice on this docs page.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1360;reflect the EOM of Symfony .;No description provided.;Change . to . as Symfony . has reached End of Maintenance;For security issues . still remains.;1
1361;Remove choices as values in .;Applies to  Fixed tickets    I think we must have just forgotten to remove this option;choicesasvalues references removed;"choicesasvalues is not available in Symfony . anymore so having it in the docs is misleading
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1362;Remove diff info from cookbooksecurityvoters.rst;No description provided.;Fixed wrong git conflict resolve;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1363;Fix two minor typos in the contributing section;Applies to   Fixed tickets   Fix two minor typos in contributingdocumentationoverview.html    The text was updated successfully but these errors were encountered;Fix typo lines instead of characters in the documentation standards;"Fixes typo on the following page documentation standards
httpsymfony.comdoccurrentcontributingdocumentationoverview.html



Q
A




Doc fix
yes


New docs
no


Applies to



Fixed tickets
na";1
1364;MicroKernel Fixed the display of a code block;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets




The display of a php code block was a quote.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Minor RST fix;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets
NA



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1365;Fixed typo in UglifyCss usage example;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing block name;No description provided.;1
1366;Update checkboxcompound.rst.inc;"very small typo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update checkboxcompound.rst.inc;Typo;1
1367;Update translation.rst;A simple typo correction.;Update translation.rst;"typo bahavior behavior
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1368;CookbookTestingDatabase Add missing configurationblock;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets
";added missing configurationblock;simple quick fix.;1
1369;Add note on the difference given how you attach a transformer to a form;Just a minor issue but I thought it was worth adding.;During String to Object transform addModelTransformer should be used instead;"In the docs' example it is doing a transform form String to Object. While suppose addViewTransformers is for Form to View.
suggested by merk on IRC

the tips is removed since it doesn't work for current master version not so sure is it a bug or deprecated behavior";1
1370;update cache and logs folder locations;Since Sy they are under var instead of app.;Fix filepermissions.rst.;Cache and logs folders were not pointing to the path for the .x version.;1
1371;Form Fix ChoiceType options;"Q
A




Doc fix
yes


New docs
no


Applies to
all


Fixed tickets
";Document callable for objects;It's shown in the Advanced Example with Objects but not explained in the choicelabel section.;1
1372;Update eventdispatcher.rst for consistency;"Improve event naming for example consistency with the what appends next.
The event is initially named foo.action that break the consistency with the lines and of the document.";Update introduction.rst;"There is a mistake in the event name.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1373;Process missing constant colon;"Q
A




Doc fix
yes


New docs
no


Applies to
.


Fixed tickets
X



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo in process compoment docs;Missing .;1
1374;Api key user provider should use implements instead of extends;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update apikeyauthentication.rst;"mistakenly
extends interface
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1375;Uninitialized variable;"totalFiles may not always be initialized which causes a noticelevel
error message.";Add variable declaration to stop warnings;No description provided.;1
1376;Cache Add adhoc TTL support fix peritem ttl handling.;"Why can't I specify TTL 
Since I remember working with codelevel cache solutions there was always an easy method to specify TTL on peritem basis. It is a common feature among most wellknown libraries and extensions and was present in ZF ZendCache. Sadly zf is missing this.
 APC
apcstore string key mixed var int ttl 

 Memcache
Memcacheadd string key mixed var int flag int expire 

 Wincache
wincacheucacheadd string key mixed value int ttl 

 Zend Server
zendshmcachestoreinternalKey value ttl

 ZendCache
ZendCacheBackendFilesavedata id tags array specificLifetime false

 etc.
Problem 
ZF Cache Storage does not allow to store items with specific TTL.
The first problem was missing ttl parameter in all Cache\StorageInterface write methods i.e. setItem replaceItem etc.. Without this the only way to set an item with a specific TTL was
 var cache StorageInterface 
oldTtl cachegetOptionsgetTtl
cachegetOptionssetTtl set to minute
cachesetItem'foo''bar' store the item
cachegetOptionssetTtloldTtl restore previous ttl
 phew
Problem 
Unfortunately the above code does not work properly. This is because many ZF adapters do not support or understand itemlevel TTL unless it is handled internally by the backend i.e. apcstore natively supports TTL and it's getting fed with the one from options.
For example Storage\Memory and Storage\Filesystem would exhibit unexpected behavior when discarding old items or fetching items if we tried to manipulate ttl
 var cache StorageInterface 
cache new \Zend\Cache\Storage\Adapter\Memory
cachegetOptionssetTtl set TTL to hour
cachesetItem'foo' store an item

cachegetOptionssetTtl set TTL to minute
cachesetItem'bar' store another item

sleep

vardumpcachehasItem'bar' false
vardumpcachehasItem'foo' false
 poof foo item disappeared but should live for an hour
The goal
 var cache StorageInterface 
cachesetItem'foo''' store the item for s
cachesetItem'bar''' store the item for hour

 store the item with default TTL setting from the storage   cachesetItem'bar'''   replace multiple items and set their TTL to s cachereplaceItems'foo''bar'     increment item by and make it live for h cacheincrementItem'foo'   Solution    Add ttl support to StorageInterface.   Refactor Cache\Storage\Adapter\AbstractAdapter to handle ttl in write operations. Pass on ttl to listeners plugins.    Refactor all Adapter\ classes to use peritem ttl and pass it on to underlying backend.    Refactor Adapter\Memory to support peritem TTL.    Refactor Adapter\Filesystem to support peritem TTL.    Add TTL tests that work with adhoc ttl setting.   Add overlapping temporal peritem ttl tests.    The text was updated successfully but these errors were encountered";proposal Cache item set lifetime of an item;"This PR add the possibility to set a time to live per item.
It's not perfect 

there is a BC break in ZendCacheStorageStorageInterfacesetItem prototype
not all adapters can use this parameter

What to you think of it 
Usecase i needed to set a ttl for a doctrine result cache using DoctrineModuleCacheZendStorageCache with a memcached adapter";1
1377;phpunit version bump commit for BC breaks detection with Travis CI;"This commit is only for test purpose. The aimed goal is to detect BC breaks using Travis CI.
Real PR to come.";phpunit .x phpcov .x see;"This is a rebasedcleaned version of targeted at .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1378;Another fix for;"This pull request give problem with null values and with InputFilter\InputgetValue
example
public function testGetNotScalarValue

 filter thisgetMockBuilder'Zend\Filter\FilterInterface'
 disableOriginalConstructor
 getMock

 filterexpectsthisany
 method'filter'
 willthisthrowExceptionnew \Zend\Filter\Exception\InvalidArgumentException
 Filters such as StripTags StringToUpper StringToLower HtmlEntities throw exception if value is not scalar

 filterChain new \Zend\Filter\FilterChain
 filterChainattachfilter

 input new Input
 inputsetFilterChainfilterChain

 value null or any not scalar value array object closure

 inputsetValuevalue

 thisassertSamevalue inputgetValue fail give exception
 thisassertFalseinputisValid also give exception



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove exceptions from;"introduced some type checking into a number of filters in order to remove notices that were being raised about array to string conversions. However it did so by raising exceptions which will be a nonstarter for anybody who was previously passing arrays andor objects to these filters.
Likely the more appropriate method would be to simply return the value presented and potentially raise an EUSERWARNING indicating the filter's inability to process the value.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1379;Found some PHPCS errors causing build failures.;These PHPCS errors were causing travis builds to fail. ?æè;Fixes CS trailing spaces and unused use;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1380;Increment thiscount when adding new elements to the Collection;"This gives the Collection an accurate count of the current elements attached to it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for the implementation of Collection Element;The current implementation of Collection Element imposes in prepareFieldset that the child element keys are set sequentially starting from . After that populateValues will remove the unused indexes and add new ones according to the input data. This behaviour breaks the test in this commit as it expects that the first key will always be which is not always true as when collection elements are dinamically added or removed with javascript. The changes done here makes Collection Element more flexible and maybe a little faster as it saves resources by avoiding unnecessary creation of child elements adding them just when neccessary. Also selflastChildIndex can be sent along with the template so javascript can set a proper index for the next element to be added. FieldsetPrepareAwareInterface and all its references were removed as they are no longer necessary.;1
1381;copyright date update;"All copyrights updated from to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update copyright range happy new year everyone;"Also backport to master when merging.
If you wonder what happened to the composer.json file in Zend\Db
That file had an executable flag set. My replacement method removed that executable bit which should be perfectly fine.";1
1382;ZF Reworked classmapgenerator;"I reworked the classmapgenerator simplifying the code and fixing some issues with the relative paths in Windows platforms
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed classmapgenerator;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1383;Move test components to requiredev;"Close 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";zendtest package moved to requiredev;No description provided.;1
1384;GData SVN Sync;"ZF Update ZendGdataYouTube to work with v. API  add ZendGdataAnalytics   ZF Added string cast to ctypedigit call in ZendGdataAppUtil   ZF Use HTTPS for YouTube API requests   Fixes ZF usage of https schema over http which is supported by API  ZF stop output buffering in case of exception fix problem in complete test execution  ZF ZendGdata ZendGdataAuthSub should not accept vanilla ZendHttpClient instances   ZF ZendGdata Improved test suite for ZendGdataAuthSub Resolves ZF Wrote test testCalendarOnlineFeed to test ZendGdataCalendargetCalendarEventFeed ZF backport from . release branch ZF Update ZendGdata to use HTTPS by default for all services that fully support it. ZF ZF ZendGdata
";Zend\GData\Analytics;"Porting the ZendGDataAnalytics from ZF to ZF.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1385;Fix mongo handler;"Hello
First of all tests pass 
php runtests.php Session
 OK but incomplete or skipped tests
 Tests Assertions Skipped 

This fix is about the last version of phpmongo driver where safe option is deprecated.
More informations here httpwww.php.netmanualfrmongo.writeconcerns.phpmongo.writeconcerns.options
On my dev environnement archlinux a lot of deprecated messages are present without this fix.";MongoClient has deprecated safe mode on by default change it to w option Write Concerns;No description provided.;1
1386;fixesimplements ZF;No description provided.;ZF;Zend\Filter\Encrypt should not rely on includepath;1
1387;Zend\Code file reads on eval'd code;No description provided.;Added failing test to reproduce the error with reflection and core classes;See also httpsgroups.google.comforumtopicsymfonyPpxQjNcGBA;1
1388;Adding missing NOT IN predicate;"Added NOT IN predicate.
Can be used while chaining where expressions
wherenotIn... ...";Missing notIn predicate;Somebody forgot to put 'notIn' function;1
1389;Zend\Db\Sql Create NotIn predicate;"httpframework.zend.comissuesbrowseZF
Rebase branch to develop
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";added NOT IN predicate in Zend\Db\Sql\Predicate;No description provided.;1
1390;Zend\Mvc\Controller\AbstractControllergetRequest docblock return value should be HttpRequest;"Currently this method shows
return Request

It should show
return HttpRequest

The issue this solves is that Zend\Stdlib\RequestInterface does not implement such methods as isPost or getPost making IDE intellisense break. This fixes that.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update AbstractController.php;"This is right for autocomplete IDE.
Perhaps someone made a mistake. As you can see Request is Interface. But HttpRequest is Zend\Http\Request";1
1391;Validator Code cleanup;"Fix PHPDoc
Fix CS remove underscore";Fix use statements in Zend\Validator fix phpdoc;;1
1392;Reset stoppropagation flag when triggering event;macnibblet noticed that if an event listener on say the dispatch event called stopPropagation on the event nothing was rendered in the response. On investigation I discovered that the stop propagation flag on the MvcEvent was not being reset betwee;Allow the event to propagete further.;"If you stop the propagation of the event in the dispatch phase you are
able to continue to further phases as render and finish but after
executing the first listener the other renderfinish listeners will not
be called.";1
1393;Introduce JsonSerializable polyfill and support in Zend\Json\Encoder;This is an alternative to It introduces a polyfill into Zend\Stdlib which can be used by legacy PHP implementations. Zend\Json\Encoder then tests for the PHP builtin interface which will work even on PHP implementations where \JsonSerializable doesn't exist.    The text was updated successfully but these errors were encountered;Backported JsonSerializable for PHP .;Polyfilled JsonSerializable for PHP .;1
1394;ZF Cannot Count rows in a MySQLi Result Set;"In case a mysqlistmt class is the resource for the result no mysqlistmtstoreresult was called. This will prevent some functions count rewind etc. to work correctly. Furthermore the result is not transferred from the prepared statement performance loss and multiple loop over the result set is also not possible.
This commit should fix the above bug.";ZF S Buckets With Capital Letters Not Supported;"Partial solution of the issue. For full support of US General bucket names SOAP API calls are required instead of REST ones. Is it worth
Also added the sgetLastResponse method for debugging and for complex applications.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1395;Reduced code duplication in FlashMessenger plugin;ZendMvcControllerPluginFlashMessenger.php;Enable passing namespace to FlashMessengerhasMessages;This allows to call hasMessages with specifying a namespace without having to call every dedicated method. Those ones set the according namespace.;1
1396;Hotfixzend db code cleanup;Merge this after;Bad Merge;A conflict wasn't cleaned up.;1
1397;Fizz Allow dangerouslySetInnerHTML in option;"I didn't think this was valid because if you don't provide a value for the option we don't know whether to select it or not. However it's arguably valid if you do provide the value attribute.
We should probably have a warning if you provide dangerouslySetInnerHTML and don't provide a value attribute though. Both server and client.";Fix documentation of the release process;"Adjusted some grammar in the scriptsreleaseREADME.md file.

Adjusted title to infer that there are different kinds of release scripts
The first sentence infers that there is one release script. However it seems that the release process includes two scripts rather than being a script on its own.
Officially and also confirmed on the homepage readme the npm logo and name are with lowercase letters.
Some abbreviations were missing punctuation.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1398;DevTools supports multiple modal dialogs at once;"Adds support for showing more than one modal dialog at a time.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove DefaultProps type parameter from ReactNativeComponent;"Removes the DefaultProps type parameter from ReactNativeComponent. Also makes State optional and default to void. This is the same convention employed by React.PureComponent.
Test Plan
Ran yarn lint and flow successfully.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1399;Fizz Let value override defaultValue if both are specified;"There's a DEV warning for this case but we still test for the production behavior.
It's a bit annoying since it might be more efficient to just rely on the loop and iteration order. I was almost ready to die on this hill but not quite.";createsubscription;"Asyncsafe subscriptions are hard to get right.
createsubscription provides an simple asyncsafe interface to manage a subscription.
View the formatted README to learn more...";0
1400;DevTools console patching should handle Symbols without erroring;"Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug fix SSR setState in diff components don't mix;Previously the queue and replace arguments were leaking across loops even though they should be captured.;0
1401;Update supported devEngines;Summary Change devEngines to indicate the required node version to perform every development workflow. With node.. yarn build reactserverdomwebpacknodeloader throws with  node .scriptsrollupbuild.js reactserverdomwebpacknodeloader homeepslonDevelopmentforksreactscriptsrollupbuild.js  throw Error Cannot find module 'reactserverdomwebpacknodeloader' Require stack homeepslonDevelopmentforksreactscriptsrollupbuild.js at Function.Module.resolveFilenameinternalmodulescjsloader.js  at Function.resolve internalmodulescjshelpers.js  at createBundle homeepslonDevelopmentforksreactscriptsrollupbuild.js at buildEverything homeepslonDevelopmentforksreactscriptsrollupbuild.js   code 'MODULENOTFOUND'  requireStack 'homeepslonDevelopmentforksreactscriptsrollupbuild.js'  error Command failed with exit code . Probably because of the way exports field in packagesreactserverdomwebpackpackage.json is constructed. exports . .index.js .plugin .plugin.js .writer  reactserver  node .writer.node.server.js browser .writer.browser.server.js default .writer.js.writer.node.server .writer.node.server.js .writer.browser.server .writer.browser.server.js  .nodeloader .esmreactserverdomwebpacknodeloader.js .noderegister .noderegister.js .package.json .package.json With node.. the command passes. Test Plan  CI green  yarn build reactserverdomwebpacknodeloader passes in node.. and node..;Fix comment type in ReactElement;"Hi all
little typo This tag allow us This tag allows us
Cheers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1402;Remove unnecessary type cast;"Summary

Increases type coverage from . to . ... 
... just because we got rid of one expression.
 git checkout master
 npx flow coverage packagesreactdomsrcclientReactDOMLegacy.js
Covered . of expressions

 git checkout epslonchorerootcoverage
 npx flow coverage packagesreactdomsrcclientReactDOMLegacy.js 
Covered . of expressions

TODO comment was added in bad. The flow bug was likely fixed during an update to flow since the type didn't change in the meantime.
Test Plan

 CI green";createResource returns an object with methods instead of a read function;"Per our discussion changes createResource to return an object with read and preload methods. Future methods may include set subscribe invalidate and so on.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1403;Fizz Switch the isPrimaryRender flag based on the stream config;"It's possible for Fizz and Fiber to coexist for example. If they both end up using the same context field then that can clash.
It's also possible for e.g. DOM and ART to coexist on the server.
Or Legacy Fizz DOM and Modern Fizz DOM.
Instead of protecting against every possible clash I just took the most common one. E.g. renderToString clashing with either Fiber or Modern Fizz.
I flip it in the legacy stream config so that renderToString use the secondary Context fields.";Do not clear errors after they are thrown;"Instead to trigger a retry the consumer should invalidate the cache.
In the future we will likely add a way to invalidate only the failed records.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1404;Fizz Escape style values;"I missed this case. When it's numeric we don't have to escape it. We already escape it if it's a custom CSS property.
This is covered by the legacy tests.";Persistent Finalize children after we've actually inserted them;"The order of this was wrong. We also unconditionally mark for updates so
killed that unused branch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1405;Fizz Implement lazy components and nodes;"Implements React.lazy either in the component type position the officially supported use case and the node position used by Flight.
This allows code on the server to be async loaded. It doesn't actually transfer any hints about what chunks you might want to eagerly preload like what reactloadable does. That's something you get for free with Server Components but not plain lazy.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't expose ReactGlobalSharedState on React Native renderer;"We should just go through the react package if need access to this one.
Remove the dependencies in React Native facebookreactnativecb";0
1406;Enable strict effects mode for React Native Facebook builds;No description provided.;Revert Temporarily disable Danger in CI;"Reverts 
 should have fixed it
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1407;Expiration should do nothing except disable time slicing;"We have a feature called expiration whose purpose is to prevent a concurrent update from being starved by higher priority events. If a lane is CPUbound for too long we finish the rest of the work synchronously without allowing further interruptions.
In the current implementation we do this in sort of a roundabout way once a lane is determined to have expired we entangle it with SyncLane and switch to the synchronous work loop.
There are a few flaws with the approach. One is that SyncLane has a particular semantic meaning besides its nonyieldiness. For example flushSync will force remaining Sync work to finish currently that also includes expired work which isn't an intended behavior but rather an artifact of the implementation.
An even worse example is that passive effects triggered by a Sync update are flushed synchronously before paint so that its result is guaranteed to be observed by the next discrete event. But expired work has no such requirement we're flushing expired effects before paint unnecessarily.
Aside from the behaviorial implications the current implementation has proven to be fragile more than once we've accidentally regressed performance due to a subtle change in how expiration is handled.
This PR aims to radically simplify how we model starvation protection by scaling back the implementation as much as possible. In this new model if a lane is expired we disable time slicing. That's it. We don't entangle it with SyncLane. The only thing we do is skip the call to shouldYield in between each time slice. This is identical to how we model synchronousby default updates in React .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace danger token with a refreshed facebookopensourcebot token;Once this PR is landed it should be possible to revert;0
1408;Delete unreferenced type;Had already deleted all the uses but didn't remove the type itself.;Fixes bug when initial mount of a host component is hidden;oldProps was null. This went uncaught by the unit tests because ReactNoop did not use oldProps in either prepareUpdate or completeUpdate. I added some invariants so we don't regress in the future.;0
1409;Fizz Restore context after an error happens;"Typically we don't need to restore the context here because we assume that we'll terminate the rest of the subtree so we don't need the correct context since we're not rendering any siblings.
However after a nested suspense boundary we need to restore the context. The boundary could do this but since we're already doing this in the suspense branch of renderNode we might as well do it in the error case which isn't very perf sensitive anyway.";added link to reactjs docs for test renderer;Add link to reactjs.com documentation for reacttestrenderer to the reacttestrendererREADME.mdfor fellow googlers that end up on the npmyarn package page and think there is no documentation on how to use this thing .;0
1410;Revert Emit reactroot attribute on the first element we discover;"This reverts .
The idea was to implement datareactroot for parity with the old renderer so that we could run the tests without manually branching on hundreds of tests. However this fix wasn't quite equivalent because the original root wasn't well defined. It was only injected when it was the first element and not when abstractions are used. At least for some of them. I'm not actually even sure what the semantics are.
It actually started failing more tests than it helped with.
This also broke something internally that relied on it not being added.
So trying to fix this just made it worse.";Temporarily disable Danger in CI;"Looks like Danger has started failing recently and it's causing builds to fail. Disabling it for now until we can figure out the problem
Example failure httpscircleci.comghfacebookreacttestscontainers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1411;DOC Update Featuretools link in Related Project Page;"What does this implementfix Explain your changes.
This PR updates the link used for Featuretools in the Related Projects page of the documentation. The Featuretools repo was moved from the FeatureLabs organization to the alteryx organization and this change points to the correct repo directly bypassing the redirect that is in place with the old URL.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC clarified fbeta score docs for beta param;"Reference IssuesPRs

What does this implementfix Explain your changes.
Corrects scorer documentation a higher fbeta score weights recall higher.
Any other comments";0
1412;DOC Update roadmap.;"What does this implementfix Explain your changes.
This pull request updates the roadmap striking out solved items updating link to active PRs.
Any other comments
I need to link this page and I found interesting to update it.
Note that a lot of issues there are milestoned as . it could be interesting to check which ones are realistic.
I think it is also nice to see that things move forward... keep up the good work ...";Rename p to power parameter in meantweediedeviance;"Rename p to power parameter in meantweediedeviance to be consistent with TweedieRegressorpower in following NicolasHug and ogrisel suggestion in comment
This will help reducing the diff in a bit. We can do this without a deprecation cycle since meantweediedeviance was introduced only recently.
Marking as WIP for now as I need to check the rendered docs on the use of \textrm vs \text in Latex. Edit Nevermind that was for a different PR.";0
1413;DOC Add Evalml to scikitlearn related projects;"Reference IssuesPRs

None
What does this implementfix Explain your changes.
This implementation just adds EvalML to the AutoML projects that use scikitlearn.
Any other comments
Thanks for maintaining a great repo

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Updates entire website design;"Here is a hosted version that follows this PR.
This PR

Updates the entire design of the website.
Keeps all features from the original website.
Adds custom sidebar with button on the lower left. Mobile friendly
Completely custom sphinx theme that does not inherit from basic. There were a bunch of jscss we did not use this is no longer loaded.
There are no images in the new theme.
Small images were generated for the logos on the bottom of the page in the index.
Uses bootstrap .

Enjoy";0
1414;CI Fix min dependencies for scikitimage.;"Reference IssuesPRs
Follow up of 
What does this implementfix Explain your changes.
Fix the minimal version of dask to make minimal version of scikitimage work
Any other comments
ping GaelVaroquaux";MRG BUG fix RidgeClassifierCV to accept custom score;"Fixes . Fixes .

What does this implementfix
Added param isclf to BaseRidgeCV for identifying whether the problem is regression or classification.
Changes target variable transformation in .fit based on input for cv because RidgeClassifierCV internally does the transformation.
I have included a test cases for both scenarios cv None and cvNone.";0
1415;TST Changes assert to pytest style in decomposition datasets covariance compose;"Reference IssuesPRs
References 
What does this implementfix Explain your changes.
Changed the assertraises assertraisemessage assertwarns in the following files

sklearncomposeteststestcolumntransformer.py
sklearncovarianceteststestrobustcovariance.py
sklearndatasetsteststestopenml.py
sklearndatasetsteststestsamplesgenerator.py
sklearndecompositionteststestnmf.py";MRG Release Highlights for .;"Addresses 
This is just an example of the kind of things I had in mind. I think having this as an example renders pretty well but I guess it would also be just as fine in a notebook or even a blog post.
Happy to hear any feedback
Rendered example";0
1416;TST Removed the estimators from the IGNORED list in testfitdocstringattributes;"Reference IssuesPRs
Fixes 
What does this implementfix Explain your changes.
Attributes were documented already but forgot to remove the estimators from the ignore list.";DOC improve the PDP example;"More detailed explanations for the computational tradeoffs of NN vs GBM and the pitfalls of NN on tabular data.
Using more sections should also lead to a nice notebook layout when using binder.";0
1417;DOC Replace broken link in clustering.rst;"What does this implementfix Explain your changes.
The link httpwildfire.stat.ucla.edupdflibraryfowlkes.pdf referenced here is broken.
I suggest replacing it with the publisher's link httpswww.tandfonline.comdoiabs...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MAINT Fix assert raises in sklearnsemisupervisedtests;"replaced assertraises and assertraisesregex with pytest.raises context manager.
related to";0
1418;DOC Add notes about the location of function body.;Action based on .;MAINT Post cleanups;"Forgot to include those cleanups when merging .
Will merge if CI is green.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1419;Update ensemble.rst;"I don't believe that negative binomial and negative multinomial distributions are used in these loss functions. The documentation is thus potentially confusing because it seems like it is saying that a binomial deviance uses the logliklihood of a negative binomial distribution. So I move the word 'negative' before 'loglikelihood.' Hopefully this makes it more clear that we're just talking about treating log logliklihoods as the loss function.

Reference IssuesPRs

What does this implementfix Explain your changes.
Any other comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MAINT simpler binder requirements.txt;"Mentioned by ogrisel in comment.
I tested this by doing
pip install r .binderrequirements.txt which does install scikitlearn dev version.
The advantages

simpler
no need to remember to update .binderrequirements.txt after a new release.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1420;DOC typo in docdeveloperstips.rst;"Reference IssuesPRs

What does this implementfix Explain your changes.
Fixes a typo in docdeveloperstips.rst.
Any other comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC Fix rendering issue due to the lack of whitespace;"Reference IssuesPRs

What does this implementfix Explain your changes.
Code markdown cannot be rendered due to the lack of whitespace.

Any other comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1421;DOC correct behavior of needsthreshold in makescore;"Reference IssuesPRs

Fixes .
See also comment and PR 
What does this implementfix Explain your changes.
Correct the description of the behavior of needsthresholdTrue in makescore.
Any other comments";MRG Adds attributes bound doctopicprior topicwordprior description to LatentDirichletAllocation;"Reference IssuesPRs
Partially addresses Addresses issues with PR 
Adds description for bound doctopicprior topicwordprior attributes in LatentDirichletAllocation
Still need to add description for expdirichletcomponent randomstate";0
1422;Update svm.rst. For the issue;"There was a wrong formulation of Linear SVC. In the hinge loss term was missing.
Fixes";DOC fix typos in clustering user guide;I found three typos when reading the chap. Clustering. Please check if I was right.;0
1423;MNT Move parameter validation from init to fit in neighbors module;"Reference IssuesPRs
Closes .
What does this implementfix Explain your changes.
This PR moves parameter validation from the init method to the fit method in the neighbors module to follow scikitlearn conventions.";MRG DOC Link items explictly;"Fixes 
This PR

Updates every link and explicitly links to the glossary function method etc.
Changes the default role to literal.";0
1424;TST Adjust atol in testridgeregressioncheckarguments on bit;"Reference IssuesPRs

Saw failing test on 
What does this implementfix Explain your changes.
Adjust the atol for bit.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MAINT Remove redundant code in MLP;"Closes 
Closes 
Alternative to 
This makes sure that it's possible to use a custom activation function registering new ones in sklearn.neuralnetwork.multilayerperceptron.ACTIVATIONSDERIVATIVES.
It was almost working before except for a manual check of supported activation instead of using the ACTIVATIONS variable so this mostly adds a test.
Not sure if we want to document it and if so where.";0
1425;MRG CI Push Scipy minimum version to ... Remove Python . from builds.;"Reference IssuesPRs
Closes closes .
What does this implementfix Explain your changes.
Pushes Scipy minimum version to ...
Pushes Numpy minimum version to ...
Pushes matplotlib minimum version to .. for compatibility with python.
Drop . builds.
Configure Azure builds to run on ubuntu Focal . LTS.
Adds one bionic . LTS azure build with scipy from condaforge and python .
Move the Linux bit build from ubuntu to Debian as debian still support bit and is distributed with python ..
Any other comments
Before I start fixing the version conflicts please let me know if the defined set of builds fits your requirements. Thanks.
maybe ping ... ogrisel thomasjpfan rth";MRG Updating SKF userguide example;"Reference IssuesPRs
Fixes 

What does this implementfix Explain your changes.
Updated the example of StratifiedKFold in the user guide and compared with KFold split.";0
1426;CLN Replace self.steps with self.steps;"self.steps and self.steps are both used. The former appears eight times and the latter twice. This change makes the code more consistent. Thanks for the suggestion from jnothman and NicolasHug .

Reference IssuesPRs
None
What does this implementfix Explain your changes.
None
Any other comments
None
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG skipcomplete flag for IterativeImputer;"Reference IssuesPRs
Fixes and 
What does this implementfix Explain your changes.
Before IterativeImputer had some unintuitive behavior when there were features with no missing values at fit but not at transform. This PR turns off this behavior by default and adds a flag skipcomplete to turn it back on. A test is added the docstring is updated.
This change also required a few minor changes to fix edge cases that were impossible before.
Paging jnothman and glemaitre.";0
1427;CI Uses minimum version for docmindependencies;"Reference IssuesPRs

Closes 
Related to 
What does this implementfix Explain your changes.
Sets the minimum version for doc build dependencies";MRG don't set upstream remote and branch ctnd;"closes 
This is a more complete version of";0
1428;MNT fix bad shebang in builddoc.sh;"Introduced by me in e thanks for noting jjerphan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ENH Verify mdchecksums received from openml arff file metadata;"Reference IssuesPRs

Fixes 
What does this implementfix Explain your changes.
When fetching an openml dataset metadata about the dataset is fetched via httpsopenml.orgapivjsondata which includes the latest file version to download its mdchecksum etc.
This PR adds functionality to verify the mdchecksum of the file downloaded to the one provided via the api. If the validation fails it produces a ValueError stating the same.
Any other comments

Validation is done by default unless explicitly overriden
Most files in the local tests sklearn.datasets.tests.data.openml folder do not match their checksums. This may be because of differences between versions of metadata vs actual file downloaded.";0
1429;DOC Add communication guidelines.;"What does this implementfix Explain your changes.
Numpy has recently add to its documentation some communication guidelines. I find them quite relevant and I believe it could be useful to add them to our review guidelines.
Thanks for considering it.
Perhaps reshamas might want to have a look Thanks";Removed redundant parameters of classes;"Reference IssuesPRs
Fixes 
What does this implementfix Explain your changes.
Removed redundant parameters from classes
makeblobs instances
makeclassification instance
Any other comments
Working with ttang";0
1430;DOC Add a note about the involvement of the contributor in maintenance.;"What does this implementfix Explain your changes.
This pull request add a note about the fact that contributors proposing new features will be asked to participate in the maintenance of their code at least initially.
The aim of this note is twofold

reduce the number of unmaintainable lines of code
engage new maintainersdevelopers on the long term.

Any other comments
This is the policy of the linux project see for example on submitting kernel patches.";DOC Reorganize plotncaillustration example into subsections;"Reference IssuesPRs
Partial fixes 
What does this implementfix Explain your changes.
Reorganize examplesneighborsplotncaillustration.py example into subsections
Any other comments
Working with olgadk at WiMLDS sprint";0
1431;DOC Add figure tag properties in css.;"Reference IssuesPRs
Fixes 
What does this implementfix Explain your changes.
Add css directives for the figure html tag.
Ping glemaitre
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Removed useless declaration in plotncaillustration;"Issue 
Removed a redundant parameter from an example";0
1432;DOC Add note for videos improve syncing instructions;"Reference IssuesPRs What does this implementfix Explain your changes. Add note for videos due to default branch change unify text styles for branch names Any other comments
None";MRG Remove redundant parameter assignment;"Reference IssuesPRs
Partial addresses .
What does this implementfix Explain your changes.
Remove redundant parameter assignment for example files.
Any other comments
Working with RuchitaGarde";0
1433;CLN Remove kwargs Neighbors init;These estimators have kwargs in init and it looks like they can be safely removed.;MRG Reorganize example plotkernelapproximation;"Reference IssuesPRs
Partially addresses 
Reorganizing example httpsscikitlearn.orgstableautoexamplesplotkernelapproximation.html
I split the continuous paragraph followed code block into two sections of para code block with paragraph paired with appropriate code and diagram.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1434;DOC Fix typo on comment about tSNE;"This is just a small correction in the text.
An alternative fix could be this

It might be the case that dimensions are too low to accurately represent the internal structure of the data.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG Change default dataset for plotjohnsonlindenstraussbound.py;"Reference IssuesPRs
Closes 
What does this implementfix Explain your changes.
Change the default dataset used in the examplesplotjohnsonlindenstraussbound.py to the twenty news groups. Use the digits dataset only if the flag usedigitsdataset is specified.
Also changed the hexbin plots to have square heatmaps.
Any other comments";0
1435;CLN Fix addnode parameter name;"Reference IssuesPRs

Fix 
What does this implementfix Explain your changes.
Correct parameter names in the addnode function of the Tree class

 
 
 scikitlearnsklearntreetree.pxd
 
 
 Lines to 
 in
 acced
 
 
 
 

 
 
 cdef SIZEt addnodeself SIZEt parent bint isleft bint isleaf 
 

 
 
 SIZEt feature double threshold double impurity 
 

 
 
 SIZEt nnodesamples 
 

 
 
 double weightednsamples nogil except 
 
 
 



 
 
 scikitlearnsklearntreetree.pyx
 
 
 Lines to 
 in
 acced
 
 
 
 

 
 
 cdef SIZEt addnodeself SIZEt parent bint isleft bint isleaf 
 

 
 
 SIZEt feature double threshold double impurity 
 

 
 
 SIZEt nnodesamples 
 

 
 
 double weightednnodesamples nogil except 
 
 
 


Any other comments
No obvious traceback encountered but the parameter would not be correct input.";Added fitstatus to OneClassSVM doc string;"Reference IssuesPRs
Issue 
What does this implementfix Explain your changes.
Added fitstatus to the OneClassSVM documentation OneClassSVM fitstatus
Any other comments
classweight probA probB don't seem to be relevant for this estimator
eugeniaft";0
1436;DOC Added return value info to SimpleImputer.transform docstring;"What does this implementfix Explain your changes.
transformX in SimpleImputer documentation was missing return value. Also missing from the definition as linked in documentation.
Added Returns section to the docstring for SimpleImputer.transform
Any other comments
Wasn't entirely sure on the type being returned.";DOC add missing attributes to OneVsRestClassifier;"Reference IssuesPRs
Partially addresses 
added nclasses coef intercept attributes to OneVsRestClassifier";0
1437;MNT clean futurewarning for . | deprecatepositionalargs;Remove deprecatepositionalargs for . part of . These decorators have been added in . see . Now that positional arguments are not allowed we can safely reorder parameters when appropriate maybe better in a separate issue though  Then manual checks with  git grep deprecatepositionalargs;MRG Write consistent descriptions of the data attribute C in LinearSVC LinearSVR SVC and SVR;"Reference IssuesPRs

Fixes 
What does this implementfix Explain your changes.
In the module sklearn.svm in classes LinearSVC LinearSVR SVC SVR the definitions for the C data attribute were inconsistent. The goal was to come up with a definition that would be in line with the two papers from which these classes have been implemented. While LinearSVC LinearSVR use Liblinear which calls C a penalty parameter SVC SVR use Libsvm which labels C as a regularization parameter. I have tried to come up with a definition that is consistent with both of these papers mainly
 Penalty or regularization parameter strictly positive that is inversely 
 proportional to the regularization strength and is multiplied to the 
 loss term of the cost function.

Any other comments
Issue also talks about editing the User Guide to clarify the different losses versus the different regularization norms being used. I feel that this discussion is beyond the scope of this issue and could be addressed with the creation of another more specific issue.

Acknowledgements
Thanks to WiMLDS for holding the Sprint event and neginkrahbar.";0
1438;TST Changes assert to pytest style in svm manifold linearmodel featureextraction decomposition;"Reference IssuesPRs
References 
What does this implementfix Explain your changes.
Changed the assertraises assertraisemessage assertwarns in the following files
testfactoranalysis.py
testtext.py
testbayes.py
testransac.py
testsag.py
testlocallylinear.py
testbounds.py
testsparse.py
testsvm.py";update definitions for oob attributes for BaggingClassifier BaggingRegressor ExtraTreesClassifier ExtraTreesRegressor RandomForestClassifier RandomForestRegressor;"Reference IssuesPRs

partially addresses 
What does this implementfix Explain your changes.
oob attributes below are false positives they only exist when oobscore is True. Added comments.
BaggingClassifier oobdecisionfunction oobscore
BaggingRegressor oobprediction oobscore
ExtraTreesClassifier oobdecisionfunction oobscore
ExtraTreesRegressor oobprediction oobscore
RandomForestClassifier oobdecisionfunction oobscore
RandomForestRegressor oobprediction oobscore
Any other comments";0
1439;DOC correct the orders of the x labels;"There was a mistake in the order of the x labels in the imputation of the missing values tutorial which led to the figure with 'Mean Imputation' being exchanged with 'KNN Imputation'
cc Unusualalex";DOC Documentation build Fixes;"Partial Fix for 
Fixes partial sphinx warnings and documentation errors
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1440;DOC Retroactive changed model entry;"changed the way we consume the rng for the center initialization of KMeans and we forgot to mention that in the changelog as pointed out in .
ping glemaitre";use returnXyTrue for loadiris dataset;"Reference IssuesPRs

Partially fixes 
What does this implementfix Explain your changes.
for loadiris dataset uses returnXyTrue wherever applicable
Any other comments";0
1441;DOC add import in binary tree class examples;"What does this implementfix Explain your changes.
Currently in the doc string of the binary tree class examples it doesn't include an import statement e.g. in the examples section here httpsscikitlearn.orgstablemodulesgeneratedsklearn.neighbors.BallTree.html

A copy paste of the example code
import numpy as np
rng np.random.RandomState
X rng.randomsample points in dimensions
tree BallTreeX leafsize

returns NameError name 'BallTree' is not defined
This PR adds the import statement at the top so it now reads
import numpy as np
from sklearn.neighbors import BallTree
rng np.random.RandomState
X rng.randomsample points in dimensions
tree BallTreeX leafsize 

Any other comments
I was able to builds the docs locally to test this";MRG added nclasses attribute definition to OneVsOneClassifier;"Reference IssuesPRs
Partially addresses 
added nclasses attribute definition to OneVsOneClassifier
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1442;Remove the unused import of cscmatrix;cscmatrix is imported but not being used anywhere.;MRG Reorganize document classification example into subsections;"Reference IssuesPRs
Partial fixes .
What does this implementfix Explain your changes.
Reorganize document classification example into subsections for examplestextplotdocumentclassificationnewsgroups.py
Any other comments
Working with RuchitaGarde
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1443;DOC Lowers precision for LinearRegression's doctest;"Follow up to I still see this doctest randomly fail.
CC glemaitre
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG add missing attributes to SVR class;"partially addresses 
Adds attributes fitstatus shapefit to SVR class";0
1444;TST Changes assert to pytest style in mixturetests;"Reference IssuesPRs
References See also 
What does this implementfix Explain your changes.
Changed the assertraises assertraisemessage assertwarns in mixtureteststestgaussianmixture.py and mixtureteststestbayesianmixture.py to pytest.raises.";MRG Added validation test for iforest on uniform data;"Reference IssuesPRs

Fixes 
What does this implementfix Explain your changes.
Added tests to make sure that the trees predict inliers after being fitted on uniform data.
Any other comments";0
1445;FIX support multiple strsingle category with dense DictVectorizer;"closes 
Add support for multiple strings single category with dense array in DictVectorizer
Add a nonregression test to check that sparsedense lead to the same output for fittransform transform inversetransform.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MRG update to attribute in ExtraTreeClassifier;"partially fixing 
Add featureimportances to attributes of ExtraTreeClassifier";0
1446;CI Fixes MAC ar build error;"Reference IssuesPRs

Fixes 
What does this implementfix Explain your changes.
Uses usrbinar instead of llvmar.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WIP adds missing Attribute documentation for BernoulliRBM;"partially addresses 
The hsamples attribute is missing in the docstrings of BernoulliRBM";0
1447;MAINT Remove tests for metric configuration ignoring poslabel;"Reference IssuesPRs
Close .
Credit qinhanmin who opened of which this PR is just a copy. Unfortunately he removed his branch so I couldn't retrieve his commits.
What does this implementfix Explain your changes.
Get rid of redundant tests since . the listed metrics do not support poslabel anymore if I understand correctly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding pvalue discussion to generalized linear model docs;"Issue 
Referenced statsmodel package for pvalue and confidence interval estimation for unpenalized regressions.";0
1448;DOC use reshape instead of manually reshaping in example;"What does this implementfix
A very small change my first contribution to sklearn to the plotcolorquantization.py example makes it simpler and more efficient.";removed redundant tol paramtere from examples;"Reference IssuesPRs

Partially addresses 
What does this implementfix Explain your changes.
this fix romoves redundant tolerance parameters in the examples folder.
Any other comments";0
1449;Release ..;"Pending PR to be included in this release
httpsgithub.comscikitlearnscikitlearnpullsqisAopenisAprmilestoneA..
Checklist

 update news and what's new date in release branch
 update news and what's new date and sklearn dev version in main branch
 check that the for the release wheels can be built successfully
 merge the PR with cd build commit message to upload wheels to the staging repo
 upload the wheels and source tarball to httpstest.pypi.org
 create tag on the main github repo
 upload the wheels and source tarball to PyPI
 httpsgithub.comscikitlearnscikitlearnreleases draft
 confirm bot detected at
httpsgithub.comcondaforgescikitlearnfeedstock and wait for merge
 httpsgithub.comscikitlearnscikitlearnreleases publish
 fix the binder release version in .binderrequirement.txt see

 announce on mailing list and on twitter

List of cherrypicked commits
pick c CI Dynamically select unpack directory 
pick ef MNT remove .githubworkflowssyncpullrequest.yml 
drop cbbf TST add pyloss for tests in sgdfast.pyx 
pick eafe DOC Fix broken link to SLEPs in the Governance docs 
pick ba DOC Updates confusionmatrix.py to match parameter in code
pick fe DOC more updates to maintainers' doc 
pick cd DOC Typo addressed in confusionmatrix docstring 
pick ebb Added self to abstract fit method 
pick fbfc DOC Update logos from Consortium funders 
pick df BLD Add clean command to skip list 
pick ba FIX change stats.mode to Counter for better performance with object dtype 
drop eb MNT Switch master to ..dev 
pick eced DOC Fix doc of defaults in sklearn.utils.sparsefuncs.py 
pick ada MNT fix GitHub pull request template link 
pick f DOC explain how to use custom edge bins in KBinsDiscretizer 
pick d CI Build wheels for the ARM architecture 
pick eedda BUG Fixes fetchkddcup for returnXy and asframe 
pick b DOC fix citations for de Leeuw in IsotonicRegression 
pick b Trigger cd build to test empty
pick d DOC fix multiclass AUC formulas in user guide 
drop ed MNT better error message in RidgeCV 
pick bca CI Avoid Travis stuck on failure 
pick e CI Only build wheels on main repo 
pick befa DOC correct some typo in bugtriaging.rst 
pick da DOC Revises a sentence in the description of RFE 
pick bd MNT skip preprocessing.rst when pandas is not installed 
pick ec MNT change . to . and . to . in deprecation messages 
pick cff CI Removes scipydev from travis 
pick d DOC correct shape of returned ndarray in BinaryTree.query 
pick abd DOC Fix typo in Gaussian Process docs 
drop dcea ENH Avoid repeated input checks in kmeans 
pick afa DOC removed algorithm parameter of CCA 
pick a DOC Improved consistency of the docstring of an ignored y parameter 
pick dee DOC Fix typo in experimental features documentation 
pick dc MNT silence spurious FitFailedWarning in testsearchcv 
pick aecb DOC fix simple typo variales variables 
pick afbdb MNT remove docstring check in pypy build 
pick e CI Use Travis secret tokens to upload the ARM wheels 
pick aaad Trigger cd build to test the result of empty
pick bcd DOC .. release highlights formatting 
drop cdfb Parallelize initbounddense in Elkan algorithm 
drop bf FIX ElasticNet.fit does not modify sampleweight in place 
drop fca ENH Adds nfeaturesin checking in gaussianprocess 
drop fb ENH Adds nfeaturesin checks to linear and svm modules 
pick defe CI Fixes scipydev build instance 
drop dacf ENHDOC Add additional validation for usersupplied gram matrixes 
drop dfce DOC Add var attribute and deprecate sigma in GaussianNB 
drop def Add Github Discussions to issue template. 
drop deb ENH add fontname argument in exportgraphviz for nonEnglish characters 
drop bb FIX An overflow issue in HashingVectorizer 
pick dd Add failsifpypy to testnonnegativehashingvectorizerresultindices 
pick bb DOC fix year release ..
pick bdd DOC Generalise norm notation in NMF docstring. 
drop FIX correct Lasso.dualgap to match the objective in its docstring 
pick dbe DOC Add scikeras to related projects. 
drop be FIX Incorrect warning when clustering boolean data 
pick eaa FIX validate handleunkown strategies in OrdinalEncoder 
drop f MRG Deprecates 'normalize' in LinearRegression base.py 
pick cf MNT replace master with main 
drop d DOC reorder what's new . 
pick a DOC Clarify the docstring of dict learning about the inits 
drop ca ENHDEP add class method and deprecate plot function for confusion matrix 
pick bbf FIX BIRCH self.partialfit self.partialfit 
pick feb FIX checkdecisionprobaconsistency random failure 
drop fc FEA Add SplineTransformer 
drop f FIX discrete Naive Bayes model fitting for degenerate singleclass case 
pick ec MNT use bool instead of np.bool to silence FutureWarning scipydev 
drop bbbf FIXMNT do not support OOB score for multiclassmultioutput and additional refactoring 
pick cf FIX Fixes testcomparetoelki failure 
drop eff MNT Ignore unused variable in pipeline. 
pick effa DOC replace plotconfusionmatrix in See Also section 
drop abb CLN Removes duplicated or unneeded code in ColumnTransformer 
pick f DOC update Keras description in related projects 
pick cafcd DOC Add URL to reference of Minka paper used in PCA 
pick fb DOC Add translation section in related projects 
drop aee ENH Checks nfeaturesin in semisupervised 
pick fae DOC Fixed typo in a comment 
drop d ENH Checks nfeaturesin in neighbors 
pick ac DOC Fixes formating in featureextraction module 
pick cf DOC clarify docstrings fixes links to references in linear models 
pick DOC Correct dataframe shape in fetchcovtype documentation 
pick ee DOC use notebook style and diagram for feature selection example 
pick abb DOC remove duplicated line of code in linearmodel.rst 
drop ffed TST add binary and multiclass test for scorers 
pick dfee DOC Add loglink to Gamma and Poisson Regressor 
pick f removing incrementalPCA example in basePCA 
drop b API Removes tolNone option from HistGradientBoosting 
drop aaea API Removes the use of fit and partialfit in Birch 
pick c CLN Fixes PendingDeprecationWarning in CountVectorizer 
pick e TST Ignores PendingDeprecationWarning in tests 
drop beab Simplify computation of radius to match BIRCH more closely 
pick f TST Filter out warning for pyamg using deprecated behavior 
drop af ENH Adds nfeaturesin checking in crossdecomposition 
pick c CI Check only title for regex labeling 
pick a DOC Balanced accuracy score adjusted doc fix 
pick a CI Skips test in loadingotherdatasets.rst based on env flag 
pick cce DOC fix ungrammatical sentence in doc of SelectFromModel 
pick abd FIX Don't overwrite input sampleweight in LogisticRegression 
pick d EXA use pipeline in feature engineering example with RFRTGBDT 
drop cd FIX nan bug in BaseLabelPropagation 
pick bce DOC Updates css consistent admonition styling 
pick eab DOC Remove algorithm flag for PLS regression 
drop d Dictionary Learning transformalpha default equal to alpha 
pick bab DOC use diagram and simplify pipeline in stacking example 
drop fdc FIX Ensure determinism of SVD init in dictlearning 
pick dbab CI Update ICC install commands 
pick f Fix minpos when all negative speed up 
drop ade MAINT Use checkfiniteFalse in sklearn.manifold 
pick cc DOC correct behavior of precompute with sparse input 
drop d ENH Checks nfeaturesin in discriminantanalysis 
pick d FIX Add with context manager to open file from OpenML in test file 
pick fa DOC rename Birch to BIRCH in docs 
drop afbb MAINT Remove the use of assertraises in modelselectionteststestsearch 
drop cb ENH Adds categories with missing values support to fetchopenml with asframeTrue 
drop dbdbe MNT simplify pyproject.toml by using oldestsupportednumpy cd build 
drop e TST replace assertraises by pytest.raises in dummy module 
drop TST Suppress multiple active versions of dataset warnings in testopenml.py 
drop bdf TST replace assertraises with the pytest.raises context manager in dummy module empty
pick EXA remove warning when setting yticks in permutation importances examples 
pick ca DOC fix a typo in kmeans.py 
pick cfe DOC simplify SVM margin illustration by chaging plotting style 
pick beb DOC Documents nfeaturesin in crossdecomposition 
pick f EXA improve example of forest feature importances 
drop efd ENH Adds nfeaturesin checking to featureselection 
pick bcc MNT specify main branch in asv config for the publish command 
drop cfa MNT Fix divide by zero error thrown by randomchoicecsc during a test run 
pick af DOC clarify variance estimation in PCA implementation 
pick ef DOC Explicitly remove support for precompute'auto' for Lasso 
pick a FIX index sampleweight in leastabsolutedeviation loss in HistGradientBoosting 
drop ea DOC reorder whats new section
drop MNT Consolidate incrementalweightedmeanandvar into incrementalmeanandvar 
pick cbebb DOC Evaluating estimator performance grammar fix 
pick aff DOC Better information about transductive and inductive cluster methods 
drop fdeb ENH Allow multiple scorers input to permutationimportance 
drop daf TST Fix RuntimeWarning invalid value encountered in testcalibration.py 
drop fee TST replace assertwarns by pytest.warns in ensembletests 
drop ad TST replace assertwarns by pytest.warns in module svmtests 
drop cdcff TST replace assertraise by pytest.raises in ensemble module 
drop cb FIX RuntimeWarning by dividing by zero in testkernelgradient 
drop ENH Checks nfeaturesin in covariance 
pick fedc TST Fixes logistic partialdependence test for bit wheels 
pick abd FIX Converted output to int in randomprojection mindim 
drop dad FIX CountVectorizer does not check for lowercase in vocabulary 
drop eeb ENH Better err messages for contamination in outlier detectors 
pick faf TST Fixes docstring ordering and testdocstringparameters 
drop bb Fix RuntimeWarning by dividing by zero in testradiusneighborsclassifierzerodistance 
drop dac TST replace assertraise by pytest.raises in linearmodel 
pick aba DOC oobscore is only available when bootstrapTrue 
drop c DOC update copyright year forever 
pick bff FIX Gives a unique id to html visualization 
pick bb DOC Fix typo in LDA User Guide 
pick de DOC Fix closing backtick in IterativeImputer 
pick da DOC Remove extra word from LOF docstring 
pick fdd DOC Fix broken link to wikipedia in semisupervised UG 
drop cc TST remove assertwarns in featureextractiontests module 
drop TST Replace the use of assertwarns messages in clustertests module 
pick cdc DOC clarify that niternochange is not just for earlystopping for SGD 
pick eeca DOC Replace onnxmltools by sklearnonnx 
pick bea DOC update whats new . for backport 
drop af ENH Add meanpinballloss metric for quantile regression 
drop ecfca Fix underflow issues due to float precision in TSNE 
pick cdd DOC enetpath docstring fix subsuperscript swap 
pick b DOC fix missing closing quote in user guide
drop bef TST replace assertwarns by pytest.warns in modelselectiontests 
drop bbc FIX RuntimeWarning by dividing by zero in testsanitycheckplsregressionconstantcolumnY 
pick cac DOC Fixed typos in documentation 
drop fdf TST Improve ridge solver consistency tests 
drop cebed TST replace assertraise by pytest.raises in neighbors module 
drop dbdb MRG fix Normalize for linear models when used with sampleweight 
pick EXA Fix overlapping titles in clustering overview 
drop da TST replace assertraise with pytest.raises in testbase.py 
drop e ENH Adds nfeaturesin to ensemble module 
drop ba CI Fixes twitter workflow 
pick c MNT Set noninteractive installation mode for the pypy job 
drop c ENH Adds nfeaturesin to naivebayes 
drop fabc CI Add workflow to check Changelog entry. 
pick edd TST Does not use cache in openml test 
drop fc CI Fix shell syntax introduced in 
drop ab CI Fix originmaster originmain in checkchangelog
drop b ENH Adds nan passthrough in OrdinalEncoder 
drop ce FIX Don't scale nearconstant features to large values 
pick ddf MNT Clear travis installation script 
drop afc TST Use pytest.warns in sklearn.semisupervised tests 
drop fbfe CI Add trigging events to checkchangelog workflow. 
drop efae TST Allows isotonic and manifold 
drop dbe ENH Checks nfeaturesin after fitting in randomprojection 
pick d DOC Update calibration.rst 
drop abe ENH Enables common test for bicluster 
pick efcf DOC Fix documentation on pickle portability 
drop faf FIX bug in SplineTransformer.nfeaturesout 
drop dfabf TST replace asertwarns by pytest.warns in composetests 
pick cc FIX Do not call getfeaturenames for empty column selections 
drop ccbd Change assertraises to pytestraises 
pick db FIX race condition in getdatahome causing FileExistsError 
drop dbc TST replaces assertraises by pytest.raises in modelselectionteststestsplit.py 
pick a FIX Deep copy criterion in trees to fix concurrency bug 
pick a MAINT Update arff.py 
drop cbbb TST replaces assertraise by pytest.raises in modelselection 
drop ee TST Change assert to pytest style in teststestdiscriminant.py 
drop bdf TST Change assert from sklearn to pytest style in teststestmulticlass.py 
pick ef Add BNP Paribas Cardif testimonial. 
drop d PERF don't compute variance when normalize is False in linear models 
pick ee DOC Fixes spelling mistake in kmeans.py 
drop fe TST replace assertraise by pytest.raises in teststestmultioutput.py 
drop aed TST Uses pytest.raises in modelselectiontests 
drop adc Fix Calibrated classifier cv predictions with pipeline 
pick bebc MNT Make setup.py command parsing more robust 
pick af DOC Use term 'black people' instead of 'blacks' in Boston descr 
drop ENH Speedup confusionmatrix 
pick fd BUG Fixes verbose for grid search 
pick bfdb TST Do not use cache in testfetchopenmliris 
drop ccfabf TST Change assert from sklearn to pytest style in module linearmodeltests 
drop ede move kmpp public next to kmpp private 
drop fd RFC Make nonnegativefactorization call NMF instead of the opposite 
drop fec ENH Raises error in hingeloss when 'preddecision' is invalid 
drop eea MNT Remove absolute imports 
drop cbb ENH Optimize dot product order for LogisticRegression for dense matrices 
pick cc DOC Fix typo in plotmultimetricevaluation example 
drop ed ENH Deprecated the default randomstate in randomizedsvd 
drop acdea MNT Fix error message for Minkowski metric parameter 
drop b FIX RuntimeWarning by dividing by zero in testiforestwithuniformdata 
drop deaf ENH Adds numfeatures for arraylikes 
drop edcf TST Change assert from sklearn to pytest style in teststestpipeline.py 
drop bbf FIX RuntimeWarning division by zero in checkclassifiersonelabel 
drop fcf TST Add a test to check the consistency of the Ridge and ElasticNetlratio solutions 
pick e MRG Fix documentation for russelrao formula 
drop bc ENH Add periodic extrapolation to SplineTransformer 
pick edc CI Use conda instead of pip to install anacondaclient 
pick aa MAINT Python . in badge on README.rst 
pick fc DOC Added utils.genbatches in documentation 
drop eb ENH Better error for corrupted files in fetchkddcup 
drop cac MNT move PolynomialFeatures from data.py to polynomial.py 
pick ddf Fix typo in elastic net docstring. 
pick bfc DOC Correct scorer documentation 
drop bddb MRG ENH Consistent loss name for squared error 
drop ddc Removed assertwarnsmessage from gaussianprocesstests 
drop ccb Replaced assertraises from utilsteststestestimatorchecks 
pick edffa DOC Add scikitsurvival to related projects 
pick fec DOC Move Sacred to Experimentation frameworks 
pick e DOC Fix doc regarding requiredparameters 
drop a Stratified Group KFold implementation 
drop eaee TST Remove assert warn from preprocessing tests 
pick bfa DOC Update broken link in conftest.py 
pick ed DOC Fix doc for single linkage in feature agglomeration 
pick fdd DOC Fix typo in KDE metric docstring default value 
pick db DOC Fix load iris datasets 
pick DOC Fixed typo in crossvalpredict docstring 
drop cb MRG Linear OneClass SVM using SGD implementation 
pick eee DOC Clarified njobs parallelization in plotpartialdependence 
drop cfc ENH Checks nfeaturesin after fitting in mixture 
drop da MAINT Improve issue template 
drop dffbd FIX Adds checkarray to inversetransform of StandardScaler 
drop d TST Replace assertwarns in covariancetests 
pick dfdfb DOC Fix typo in Truncated SVD documentation 
pick fe ENH numfeatures for a d collection of dicts is undefined 
drop ffb Test and doc for nfeaturesin for sklearn.calibration 
drop d MNT Avoid catastrophic cancellation in meanvarianceaxis 
drop cccf ENH Adds support for drop handleunknownignore in the OneHotEncoder 
drop ddb TST Changes assert to pytest style in teststestnaivebayes.py 
drop bccd ENH more efficient numcombinations calculation in PolynomialFeatures 
pick aae FIX Approximate nearest neighbors in TSNE example 
drop f MNT Remove HistGradientBoosting from experimental 
drop ed ENH Record output of transformers in ColumnTransformer 
drop f DOC Adds version added to outputindices in ColumnTransformer 
pick bf DOC Use the canonical Wikipedia link 
drop f DOC Fix order of whatsnew entries 
drop API Adds predictparams for Pipeline proba delegates 
drop ceb FIX Ignore zero sample weights in precision recall curve 
drop aafba MNT Improve Nearest Neighbor documentation code consistency 
pick bbf Add APHP to the Consortium sponsors 
pick ce DOC Fixes style for versionadded 
drop cfacf DEP Deprecate 'normalize' in ridge models 
drop dfbda CI Add a check for milestones. 
drop cb CI Fix string comparison in milestone workflow 
drop bfc CI Removes check milestone 
drop f TST Fixes testpartialfitoneclass 
pick dffc DOC Fix incorrect scaling in the RBM example 
drop ce TST Add a test for metaestimators with non tabular data 
drop eef ENH Improve the creation of KDTree and BallTree on their worstcase time complexity 
drop e FIX Let ColumnTransformer.getfeaturenames handle transformers with nonstring feature names 
drop fb TST Remove redundant max iter in sklearnlinearmodeltests 
pick dffab DOC Update attribute docstrings in multilayerperceptron.py 
pick abc DOC Fix versionchangedversionadded in OneHotEncoder 
pick aef DOC add explicit message regarding shuffling in default CV 
drop bda ENH Adds finalestimator in html repr for Stacking 
drop af TST Changes assert to pytest style in testconfig.py and testkernelapproximation.py 
drop ea TST replace assertraises by pytest.raises in testleastangle testomp testtesttheilsen 
drop eb TST Changes assert to pytest style in testrandomprojection.py 
pick dacd FIX MultiOutputRegressor correctly ducktypes fitted estimators 
pick dd FIX missing space in import in svmbase.py 
drop ff FIX allows TransformedTargetRegressor to take nD target 
pick bdd DOC Fixed typo in clustering.rst 
pick fc FIX BaseSuccessiveHalving class groups support 
drop bdd CLN Improve docerror consistency for GaussianProcessRegressor 
drop eda FIX Removes unecessary check in BaseChain 
pick cc DOC Fix typo in commonpitfalls.rst 
pick ca DOC Fix typos plotcolumntransformermixedtypes.py 
pick c Update who may propose a new triage member. 
pick fd DOC make documentation consistent regarding types in encoders.py 
drop aa FIX Error for sparse matrix in OrdinalEncoder.inversetransform 
drop bbddbb CI Add label on PRs modifying Cython code 
drop abcb TST Changes assert to pytest style in teststestisotonic.py 
pick faee DOC Clarify documentation for spectral clustering 
pick b FIX convert cvresults values to numpy array in SuccessiveHalving 
drop bd FIX detect near constant feature in StandardScaler and linear models 
drop dae MNT Use const memory views in DistanceMetric subclasses 
drop cb ENH Scalable MiniBatchKMeans plus cln fixes refactoring 
drop ceae DictionaryLearning Fix several issues in the dict update 
pick bda DOC Adds consistence in docs for univariate selection metrics 
pick b DOC Fix the description of some features in loaddiabetes 
pick efe DOC add FAQ entry for the many linear model classes 
pick fb DOC Fixes links in outlierdetection.html 
pick db FIX Fixes unknown handling for str dtypes in OrdinalEncoder.transform 
drop ecf MAINT Clean up code in FastICA 
pick ec DOC fix early stopping description in MLP 
pick ebd DOC use math mode in rscore function 
drop efcb MAINT Vendors packagingversion.py for pep versioning 
pick dfefe DOC Fixes typo in docmodulescrossvalidation.rst 
drop ddbe MAINT Remove getmemview helpers in neighbours.BinaryTree 
pick bff DOC improve learningrate AdaBoost estimator 
pick c EXA Fix plotmapdatatonormal.py example legend 
drop cedb FIX Fixes memory view bug in distance metrics 
drop ddde KBinsDiscretizer efficiency improvement to 'kmeans' strategy 
pick ac DOC Remove misleading linear kernel statements 
pick bfc FIX fix a bug in KernelPCA.inversetransform 
pick bdced ENH Enrich docstring on inversetransform of KernelPCA 
pick bd FIX OneHotEncoder.fit no longer alters the drop parameter 
drop debdca MRG Refactor featureselection.fregression and introduce featureselection.rregression 
pick bafe FIX prevent division by zero with constant target in GPR 
pick ab FIX Encoder should accept categories having dtype'S' 
pick dbed FIX Fixes regression in CCA due to change of cutoff values in SciPy 
pick efcc DOC order whats new ..";MRG Weights parameter of datasets.makeclassification changed to arraylike from list only Issue;"Fixes 
What does this implementfix
The weights parameter can be a list or array not just a list e.g.
 weights is arraylike or None in docstring.";0
1450;FIX Use chosolve when returnstdTrue for GaussianProcessRegressor;"Reference IssuesPRs
Fixes Issue 
What does this implementfix Explain your changes.
Provides more consistency in GaussianProcessRegressor when computing the predictive standard deviation often taken as a form of predictive uncertainty. Specifically consistency between using returnstdTrue and returncovTrue. For certain kernel hyperparameters returnstdTrue appears unstable.
returncovTrue can be used as an alternative and the end user can quickly find the standard deviation from the returned predictive covariance however id the predicted dataset is large the covariance matrix may become too large for memory.
The key to the inconsistency appears to be returnstdTrue attempting to explicitly form the inverse training kernel matrix. Typically in GP regression this inverse is never explicitly formed instead the Cholesky decomposition is stored and cholesky solves take the place of the explicit inverse this is the approach the returncovTrue uses.
This fix attempts to improve consistency and stability by using the Cholesky solve in both cases while still mitigating the large predictive covariance matrix formation when returnstdTrue.
Changes are localized to gpr.py
before
elif returnstd
 cache result of Kinv computation
 if self.Kinv is None
 compute inverse Kinv of K based on its Cholesky
 decomposition L and its inverse Linv
 Linv solvetriangularself.L.T
 np.eyeself.L.shape
 self.Kinv Linv.dotLinv.T

 Compute variance of predictive distribution
 yvar self.kernel.diagX
 yvar np.einsumijiji
 np.dotKtrans self.Kinv Ktrans

after
elif returnstd
 cache result of Kinv computation
 this is done for compatibility Kinv should be avoided
 if self.Kinv is None
 compute inverse Kinv of K based on its Cholesky
 decomposition L and its inverse Linv
 Linv solvetriangularself.L.T
 np.eyeself.L.shape
 self.Kinv Linv.dotLinv.T
 v chosolveself.L True Ktrans.T Line 

 Compute variance of predictive distribution
 Use einsum to avoid large matrix
 yvar self.kernel.diagX
 yvar np.einsumijjii
 Ktrans v

The matrix v has the same dimensions as Ktrans.T so size should not be an issue.
To my understanding the use of np.einsum avoids the formation of the potentially large covariance matrix Ktrans v just to get the diagonal entries.
The computation of self.Kinv is left in the code even though it is useless in the built in workflows. This retains compatibility should an end user be leveraging self.Kinv in some workflow. I will defer to more experienced developers if this is the correct course of action.
Any other comments
Running the reproducing code in Issue results in close agreement between the two computation methods now
. . . .
. . . .";returnXy for loaddiabetes;"Reference IssuesPRs
Partially addresses Use returnXyTrue when applicable in examples
What does this implementfix Explain your changes.
Changes how loaddiabetes is used in examples where applicable.
Any other comments";0
1451;DOC Remove misleading linear kernel statements;As LinearSVC and LinearSVR by their very nature use a linear kernel the statement This is only available in the case of a linear kernel. is confusing in that it falsely implies that the kernel type is configurable like with the other classes in the file.;MRG reorganize example plotjohnsonlindenstraussbound;"Reference IssuesPRs
Partially Fixes .
Reorganizing an example for httpsscikitlearn.orgstableautoexamplesplotjohnsonlindenstraussbound.htmlsphxglrautoexamplesplotjohnsonlindenstraussboundpy
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1452;KBinsDiscretizer efficiency improvement to 'kmeans' strategy;"Reference IssuesPRs
Fixes Change KMeans algorithm in KBinsDiscretizer from 'auto' elkan to 'full'
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update 'Using stop words' documentation;"Reference IssuesPRs
Addresses .
What does this implementfix Explain your changes.
Makes the documentation more explicit to state that the provided stop words list is not intended to be a general solutions and may not help with all tasks.
Any other comments
NA";0
1453;FIX Fixes memoryview bug in DistanceMetric;"Fixes 
Fixes the failing tests on main that resulted from";DOC adds Attribute documentation for AdditiveChiSampler;"AdditiveChiSampler

olgadk as part of the WiMLDS sprint
addresses 
Reference IssuesPRs
What does this implementfix Explain your changes.
Any other comments";0
1454;EXA Fix plotmapdatatonormal.py example legend;"What does this implementfix Explain your changes.
In this example
\lambda was very likely meant to be on a different line in the title.
main

This PR

Any other comments
The title font is probably too small for useful purposes but I tried to increase the font but that did not play well with matplotlib tight layout and I could not fix it in less than minutes ... so maybe for another PR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOC Add counterexample to MultiLabelBinarizer;"This is a PR to improve documentation for the MultiLabelBinarizer class by adding a counterexample.
Reference IssuesPRs
Fixes 
Fixes";0
1455;DOC Fixes typo in docmodulescrossvalidation.rst;"What does this implementfix Explain your changes.
Fix a minor typo on crossvalidation user guide.";DOC update to attribute from docstring in RidgeClassifierCV class;"partially addresses 
The cvvalues attribute in the docstrings of RidgeClassifierCV only exists when storecvvalues is set to True. I tested this by creating a fitted model using the example here httpsscikitlearn.orgstablemodulesgeneratedsklearn.linearmodel.RidgeClassifierCV.html and checked for this attribute. Therefore the docstring for the cvvalues attribute has been updated to include that caveat";0
1456;Fix doc upload job;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add default arguments so that .mach test all works;"Fix .mach test all not getting any default values for forcecpp and nowpt in pythonservotestingcommands.py. For .mach testtidy the default values are obtained using the CommandArgument decorator but this does not apply for calling testtidy when using .mach test all which calls the function directly. This call is found on line of registrar.py which should be located in something like pythonvirtualenv.python.sitepackagesmachregistrar.py but not located in this git repository.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because the change is minimal and non breaking. Any existing code should be able to work if it uses keyword arguments because the default values will be overriden. If there is code that calls testtidy with arguments by position this would cause breakage but I do not believe this happens anywhere in the testingcommand.py file. .mach testtidy should still work because the arguments are set using the CommandArgument decorator.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1457;Fix Github Actions doc builds;"Fix .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync";0
1458;Bump urlencoding from .. to ..;"Bumps urlencoding from .. to ...

Commits

See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself";Return the highest priority error from the descendant instead of return the very first one;"The test failed because we didn't return the highest priority error which is network error in this case.
As Manish mentioned in comment that's because we're using the Promise.all trick to signal loads.
If we can avoid relying on Promise.all maybe we don't need to do a complex logic like this instead ideally we should always finish the module load immediately when we hit network failure so that we don't even need to do the max comparison.


 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 
 There are tests for these changes";0
1459;Replace more taskcluster jobs;Fixes . Fixes . Fixes .;Fix canvas wpt test pathobjectsd.path.rect.zero..html;"After connecting the lines of a rectangle a new subpath has to be created containing the rectangle's origin as the only point in the subpath.
see step of httpshtml.spec.whatwg.orgmultipagecanvas.htmldomcontextdrect



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix part of 



 There are tests for these changes



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1460;Disable intermittent test on windows.;;Add SupportedPropertyNames to Document also fix iframe getting;"Existing test of namedgetting an iframe now succeeds. I added a new test for Object.getOwnPropertyNamesdocument based on my understanding of the spec that test could use a second opinion.
UPDATE This was trying to do too many things in one PR as originally submitted. It is now using as a base and I suggest reviewing that PR before this one to avoid duplicating review effort.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix for all implemented named getters fix and fix the iframe case only of .



 There are tests for these changes";0
1461;Make mach.bat request Python;"The mach Python script no longer supports Python so don't use
Python .
Fixes 
Signedoffby Dominic Cooney dominic.cooneygmail.com

Make mach.bat request Python 



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because this is the script which you use to launch the tests";Modify script to prevent further violations of snakecase;"Remove allownonsnakecase from scriptlib.rs and add allownonsnakecase at each instance of violation.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable";0
1462;Don't hardcode string types.;"Fixes an error reported in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add WebGL specific version strings;"Updated the VERSION and SHADINGLANGUAGEVERSION WebGL parameters to report the correct version strings when WebGL is in use.
See httpswww.khronos.orgregistrywebglspecslatest...

cc jdm zakorgy imiklos



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 There are tests for these changes";0
1463;Update doc comment for scriptpluginslib.rs;"scriptplugins no longer provides any macros. It currently only provides the mustroot lint.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because it is a doc comment only change.";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1464;Python fixes;"Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for WebGL uniform matrix operations;"Adds support for the uniformMatrixxfv WebGL functions.
See httpswww.khronos.orgregistrywebglspecslatest...

Note Similarly to some of the functions here also overlap with their WebGL variant.
cc jdm zakorgy imiklos



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 There are tests for these changes";0
1465;Upgrade to GitHubnative Dependabot;"Dependabot Preview will be shut down on August rd . In order to keep getting Dependabot updates please merge this PR and migrate to GitHubnative Dependabot before then.
Dependabot has been fully integrated into GitHub so you no longer have to install and manage a separate app. This pull request migrates your configuration from Dependabot.com to a config file using the new syntax. When merged we'll swap out dependabotpreview me for a new dependabot app and you'll be all set
With this change you'll now use the Dependabot page in GitHub rather than the Dependabot dashboard to monitor your version updates and you'll configure Dependabot through the new config file rather than a UI.
If you've got any questions or feedback for us please let us know by creating an issue in the dependabotdependabotcore repository.
Learn more about migrating to GitHubnative Dependabot
Please note that regular dependabot commands do not work on this pull request.";Fix canvas wpt test ensuring there's a subpath when drawing bezier curves;"These changes will ensure there's a subpath when drawing bezier curves.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix part of 



 There are tests for these changes";0
1466;builddeps bump markupever from .. to ..;"Bumps markupever from .. to ...

Commits

cfdb Auto merge of servojdmpatch rjdm
ff Update markupever minor version.
dad Auto merge of MichaelMcDonnellescapedefaultstable rjdm
bcf Remove escapedefault workarounds
cfeaf Auto merge of DavidKorczynskipatch remilio
e Fix breaking OSSFuzz coverage build
bbea Auto merge of svenfoofixclippywarnings rjdm
dda Remove a field that was never read
 Remove an unnecessary trailing semicolon that broke the build
c Remove unnecessary explicit lifetime specifiers
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Add support for WebGL uniform array operations;"Adds support for the WebGL overloads of uniformifv.

WebGL adds two optional parameters for the uniformifv functions to allow specifying input data ranges. However because they have the same name and overlapping parameters the Codegen cannot make a difference between their GL and variants. As a workaround I've added the new parameters to the WebGL side which which isn't strictly what the spec says but shouldn't break things either. Note Firefox devs also run into this issue .
cc jdm zakorgy imiklos



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 There are tests for these changes";0
1467;support Apple ARM base mac build and run;"i fixed build errors on apple m macbook build and running both successful but because of this issue servosurfman the surfman version must be updated locally by cargo patch.cratesio. so this pr is waiting for surfman release new version and related dependencies update the surfman version.
jdm



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1468;builddeps bump idna from .. to ..;"Bumps idna from .. to ...

Commits

c idna Bump to version ..
dde Merge pull request from djcdebugcannotbeabase
add Add cannotbeabase field to Url's Debug representation fixes 
ebb Merge pull request from DavidKorczynskipatch
ac Fix breaking OSSFuzz coverage build
ee Update issue templates
 Merge pull request from djcfixunicodebeforedelimiter
ce url more regressed clippy suppressions
de Reinstate suspiciousoperationgroupings suppression
aca Remove unnecessary return statement
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upgrade to rustc ..nightly ae;This was unblocked by rustlangrust fixing rustlangrust.;0
1469;Bump selectors;"Releasing this will help updating dependencies in crates that depend on
selectors.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Put target element form owner and element document on scope chain of compiled events;"Event listeners that are created from a function object just get whatever closure the function object had but event listeners created from a string need a special closure that acts like they were defined inside a series of with statements. This now happens. The existing WPT test for it htmlwebappapisscriptingeventscompileeventhandlerlexicalscopes.html also relies on other behavior we don't have so I added an easier version of the test that doesn't involve bubbling or capturing and doesn't check any IDL properties we don't have. This new test will eventually be redundant when we have everything else the upstream test expects.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 



 There are tests for these changes



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1470;Linux WPT tests on GitHub Action;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 
 These changes do not require tests because they add to an existing GitHub Action to run the Linux WPT tests.";Slightly increase timeout for linux tidyunit task.;Fixes .;0
1471;Block port;"See whatwgfetch




 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync";0
1472;Update mozjs to;"servorustmozjs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Initial implementation of GPUBindGroupLayout for WebGPU;"Added WebIDL bindings for GPUBindGroupLayout GPUBindGroupLayoutDescriptor GPUBindingType GPUShaderStage and GPUBindGroupLayoutBinding Note The servo's codegen doesn't like the name because its already occupied.
Implemented the createBindGroupLayout function of GPUDevice.




 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes addresses a part of 

cc kvark jdm zakorgy";0
1473;builddeps bump httparse from .. to ..;"Bumps httparse from .. to ...

Commits

dbbd v..
db Bump LICENSE year
dfc Add tests to check SIMD code against URICHARS
afbec Make the SIMD tables correspond exactly to URIMAP
dc Allow double quotes in URIs fixes 
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Mitigation for;"This is not a complete solution

The alert string can get a bit mangled in some cases but not to the point of unreadability.
tinyfiledialogs has many codepaths that can pass strings to various different potentiallydialogdisplaying executables I do not know if some of those executables have their own unique escaping requirements.
If some form of the same problem exists on OSX or Windows this does not address them.

While imperfect this is an improvement over continuing to have a known way for page authors to execute arbitrary shell script.";0
1474;Try to work around windows unit test failures.;"Attempting to work around .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Implement Blob methods textarraybuffer;"comment
 comment
rjdm



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes";0
1475;builddeps bump miow from .. to ..;"Bumps miow from .. to ...

Changelog
Sourced from miow's changelog.

v.. 
Changed

Upgrade rand devdependency from . .
Upgrade socket dependency from . to . and make it a devdependency




Commits

aac Bump version to .. and add a changelog
dced Merge branch 'removeexterncrate'
ceb Remove empty dependencies section
 Remove not needed extern crate statements
bff Merge pull request from Thomasdezeeuwsocketupdate
eece Update to socket v.
aebe Merge pull request from Kestrermaster
b Reduce required WinAPI version
fc Update dependencies
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Add support for WebGL RASTERIZERDISCARD enum.;"Add support for the RASTERIZERDISCARD enum for the WebGL version of the Enable Disable and IsEnabled functions.
See httpswww.khronos.orgregistrywebglspecslatest...

cc jdm zakorgy imiklos
Note The test results may depend on .



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 There are tests for these changes";0
1476;builddeps bump generator from .. to ..;"Bumps generator from .. to ...

Commits

a bump version to ..
cec fix aarch release optimization issue
b fix aarch stack init
fa fix aarch stack unwind
bd bump version to ..
bba remove appveyor build
cbd fix edition panic warning
cbf revert send bound
adb fix generator send bound 
ddc switch from rustcversion to rustversion
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync";0
1477;Don't run full CI against master pushes.;This avoids a bunch of unnecessary work after homu successfully merges a PR.;Add support for WebGL unsigned uniform operations;"This adds support for the WebGL uniformui and uniformuiv operations.
See httpswww.khronos.orgregistrywebglspecslatest...

cc jdm zakorgy imiklos



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 There are tests for these changes";0
1478;Disasable net unit test on windows.;"This test frequently but not always panics on Windows for reasons that are unclear . This makes it harder to gate homu merges on github actions passing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix canvas wpt test pathobjectsd.path.end..html;".mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix part of 



 There are tests for these changes";0
1479;builddeps bump gif from .. to ..;"Bumps gif from .. to ...

Changelog
Sourced from gif's changelog.

v..

Fix panic when LZW code size is invalid
Added option to omit check for lzw end code




Commits

ebba Fix exclude paths for tests
afc Update meta data for ..
af Merge pull request from atouchetlinks
ddff Replace Travis badge with GitHub Actions and update doc links
bdc Merge pull request from imagerscheckminimumcodesize
adcc Annotate required feature for crash test
affed Handle small code size instead of crashingerror
f Check minimum code size
dcf Merge pull request from imagersgithubactions
f Add std as required feature for tests
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Add microtask checkpoints to script elements and custom elements;"Servo had a microtask checkpoint at the end of running a script but there was also supposed to be one at the end of HTMLparsing a script element before Javascriptparsing the script itself and there were supposed to be checkpoints immediately after the call to a custom element constructor. This adds those passing all cases of one WPT test file.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix except for the remaining notreallyaboutmicrotasks case 



 There are tests for these changes



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1480;builddeps bump atomicrefcell from .. to ..;"Bumps atomicrefcell from .. to ...

Commits

See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Render backgroundimage urlà;"à and support most background properties.
Still to do

backgroundattachment
Gradients";0
1481;Improve IME messaging to embedder with insertion point index and multà;"àiline flag.

This improves handling of IME requests in the embedder by passing the location of the insertion point along with the current text and a boolean flag 'multiline' true for HTML textarea false otherwise which allows the embedder to be more clever about handling of the 'enter' or 'return' keys.
Tested and working in an embedding example.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Implement queueMicrotask;"The VoidFunction of a userqueued microtask is identical to a PromiseJobCallback in everything but type name so implementing this method turned out to be just a matter of attaching a WebIDL frontend to a copyandpasted backend. All the remaining queueMicrotask WPT failures are because we don't have sharedservice workers.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 



 There are tests for these changes";0
1482;Minor fixes in simpleservo;"improve embedding C header generation.
Don't recursively panic if embedder doesn't throw on panic.
Make initwithgl unavailable when doing nonWGL windows build.




 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because";Update ANGLE for UWP build.;Update ANGLE to include keyed mutexes configuration. This improves framerates with our surfman configuration on HoloLens devices.;0
1483;builddeps bump pyyaml from . to . in pythontidy;"Bumps pyyaml from . to ..

Changelog
Sourced from pyyaml's changelog.

. 

yamlpyyaml Build modernization remove distutils fix metadata build wheels CI to GHA
yamlpyyaml Fix for CVE moves arbitrary python tags to UnsafeLoader
yamlpyyaml Fix memory leak in implicit resolver setup
yamlpyyaml Fix py copy support for timezone objects
yamlpyyaml Fix compatibility with Jython

.. 

yamlpyyaml Prevents arbitrary code execution during pythonobjectnew constructor

. 

yamlpyyaml Use is instead of equality for comparing with None
yamlpyyaml Fix typos and stylistic nit
yamlpyyaml Fix up small typo
yamlpyyaml Fix handling of slots
yamlpyyaml Allow calling addmulticonstructor with None
yamlpyyaml Add use of safeload function in README
yamlpyyaml Fix reader for Unicode code points over xFFFF
yamlpyyaml Enable certain unicode tests when maxunicode not xffff
yamlpyyaml Use fullload in yamlhighlight example
yamlpyyaml Document that PyYAML is implemented with Cython
yamlpyyaml Fix for Python .
yamlpyyaml Increase size of index line and column fields
yamlpyyaml Remove some unused imports
yamlpyyaml Create timezoneaware datetimes when parsed as such
yamlpyyaml Add tests for timezone

. 

Repair incompatibilities introduced with .. The default Loader was changed
but several methods like addconstructor still used the old default
yamlpyyaml A more flexible fix for custom tag constructors
yamlpyyaml Change default loader for yaml.addconstructor
yamlpyyaml Change default loader for addimplicitresolver addpathresolver
Make FullLoader safer by removing pythonobjectapply from the default FullLoader
yamlpyyaml Move constructor for objectapply to UnsafeConstructor
Fix bug introduced in . where quoting went wrong on systems with sys.maxunicode xffff
yamlpyyaml Fix logic for quoting special characters
Other PRs
yamlpyyaml Update CHANGES for .

.. 

Rerelease of . with regenerated Cython sources to build properly for Python .b



... truncated


Commits

dcb . release
afa Fix compatibility with Jython
eeabd Run CI on PR base branch changes
ddf constructor.timezone copy deepcopy
fcd Avoid repeatedly appending to yamlimplicitresolvers
af Fix for CVE
fe Add . to appveyor file for completeness sake
ecfb Add a newline character to end of pyproject.toml
bbd Start sentences and phrases for capital letters
c Shell code improvements
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language

You can disable automated security fix PRs for this repo from the Security Alerts page.";Update wgpucore;"Update wgpucore to the latest master. This version contains a fix for an issue which occurred when we exited from a WebGPU thread.
cc kvark jdm



 .mach build d does not report any errors
 .mach testtidy does not report any errors





This change is";0
1484;Update mozdebug for py fixes.;No description provided.;Change code of conduct contact;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1485;Update mozjs to;Depends on servorustmozjs;Support features in webxr;"Based on servowebxr
Todo

 gate reference space creation on feature presence
 Fix the featuresdeviceSupport test to correctly use simulateUserActivation

Fixes 
r jdm asajeffrey";0
1486;builddeps bump waylandsys from .. to ..;"Bumps waylandsys from .. to ...

Changelog
Sourced from waylandsys's changelog.

.. 

client Add getconnectionfd to Display as well as EventQueue.
client Bugfix remove a spurious panic when using the usesystemlib feature.




Commits

ccb version ..
bfd client Add getconnectionfd to Display
be travis silence clippy on waylandsys
c travis ignore tests in coverage count
bdde Fixed copypaste error in example
abd fmt
dc client fix the creation of Main in dispatcher
f Reinstall tarpauling for rust coverage
dcc Add section about the chatrooms in the readme
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow dumping the fragment tree in layout;"This is done when the dumpflowtree debug option is passed.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because this just adds debug output.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1487;builddeps bump openssl from .. to ..;"Bumps openssl from .. to ...

Commits

ec Release openssl v..
eeb Release opensslsys v..
fa Merge pull request from nospamfixmoderngenerateparameters
cff Update opensslsrcdh.rs
adc Merge pull request from baloobaloociphernid
acbe Use DHgenerateparametersex
c Expose NID from cipher
ffcf Merge pull request from jiegecaddsm
fbfe Pass OPENSSLNOSM definition to rust properly
bbf Fix NID of SM series in libreSSL
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1488;builddeps bump unicodexid from .. to ..;"Bumps unicodexid from .. to ...

Commits

See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired";Implement dirname support for form element;"Added support for dirname in input on form submit
Added Dir getter setter for HTMLElement
NOT YET Added get directionality according to httpshtml.spec.whatwg.orgmultipagedom.htmlthedirectionality

 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable";0
1489;builddeps bump opensslsys from .. to ..;"Bumps opensslsys from .. to ...

Commits

eeb Release opensslsys v..
fa Merge pull request from nospamfixmoderngenerateparameters
cff Update opensslsrcdh.rs
adc Merge pull request from baloobaloociphernid
acbe Use DHgenerateparametersex
c Expose NID from cipher
ffcf Merge pull request from jiegecaddsm
fbfe Pass OPENSSLNOSM definition to rust properly
bbf Fix NID of SM series in libreSSL
fe Fix NID definitions of SM
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync";0
1490;builddeps bump regex from .. to ..;"Bumps regex from .. to ...

Changelog
Sourced from regex's changelog.

.. 
This is a small patch release that fixes a regression in the size of a Regex
in the .. release. Prior to .. a Regex was bytes. In the ..
release it was bytes due to internal changes. In this release a Regex
is now bytes. In general the size of a Regex was never something that was
on my radar but this increased size in the .. release seems to have crossed
a threshold and resulted in stack overflows in some programs.

BUG rustlangregex
Fixes stack overflows seemingly caused by a large Regex size by decreasing
its size.

.. 
This is a small patch release that contains some bug fixes. Notably it also
drops the threadlocal and lazystatic via transitivity dependencies.
Bug fixes

BUG rustlangregex
Memory leaks caused by an internal caching strategy should now be fixed.
BUG rustlangregex
All regex types now implement UnwindSafe and RefUnwindSafe.
BUG rustlangregex
Add missing Replacer impls for Vecu String Cow etc.

.. 
This is a small patch release that adds some missing standard trait
implementations for some types in the public API.
Bug fixes

BUG rustlangregex
Add FusedIterator and ExactSizeIterator impls to iterator types.
BUG rustlangregex
Add missing Debug impls to public API types.




Commits

ffba ..
ccef impl substantially reduce regex stack size
bb ..
a regexsyntax..
a changelog ..
ecb impl drop threadlocal dependency
 doc refine use of the word 'unsafe'
ec bench reduce huge regex a bit
fff deps update quickcheck and rand
bfff doc use 'text' instead of 'ignore' for regexes
Additional commits viewable in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CI build Linux amd mediastackdummy;"Include mediastackdummy in CI as discussed in .



 .mach build d does not report any errors
 .mach testtidy does not report any errors



 There are tests for these changes OR
 These changes do not require tests because it's build infra";0
1491;Update boto;"Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make sure input value doesn't turn into;"Fixed convertvalidnormalizedlocaldateandtimestring to add the mandatory leading before seconds values that needed it added tests to see that variouslength strings with zeroes in them would roundtrip properly.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 



 There are tests for these changes



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1492;Update to rustc nightly.;No description provided.;Simplify and fix iteration over radio button group;"Code for iterating over radio button group elements has been extracted to radiogroupiter
insamegroup now checks if elements are in the same tree
radiogroupname returns None if name is empty
Radio buttons now group together in orphan trees 



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 
 There are tests for these changes";0
1493;Disable hanging hang monitor tests on windows;This avoids longrunning builds due to .;Event dispatch rewritten to align to spec activate on clicks better;"I went over the changes to the event dispatch spec that had accumulated over the past few years rewriting dispatchinvokeinnerinvoke almost completely and modifying other code where it was relevant. Most of the remaining obvious deviations from spec are things that will only come up when we start handling events in shadow DOM.
I am pushing now because I want to see CI test results but please do not approve this PR just if automated test improvements look good. I may have broken some actual UI interactions in the course of fixing synthetic events and some manual testing is needed including checking that manual interactions with interactive content continue to fire the events they're supposed to.



 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix and fix and fix 



 There are automated tests for the syntheticclick parts of these changes BUT the effects on real UI events need some manual testing before merging";0
1494;Update mozjs;"Requires
servomozjs
servorustmozjs


 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix GitHub issue number if applicable



 There are tests for these changes OR
 These changes do not require tests because 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow deletions from overflowed textinput;"Allow deletions from textinput when the length is greater than the max length.


 .mach build d does not report any errors
 .mach testtidy does not report any errors
 These changes fix 
 There are tests for these changes

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1495;Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sync WPT with upstream;"Automated downstream sync of changes from upstream as of .
nowptsync
r servowptsync
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1496;builddeps bump byteorder from .. to ..;"Bumps byteorder from .. to ...

Commits

abffade ..
feea impl change asptr to asmutptr to fix Miri error
dd impl prefix unsafe macros with 'unsafe'
 doc use HTTPS in links
See full diff in compare view




Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting dependabot rebase.


Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR

dependabot rebase will rebase this PR
dependabot recreate will recreate this PR overwriting any edits that have been made to it
dependabot merge will merge this PR after your CI passes on it
dependabot squash and merge will squash and merge this PR after your CI passes on it
dependabot cancel merge will cancel a previously requested merge and block automerging
dependabot reopen will reopen this PR if it is closed
dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version unless you reopen the PR or upgrade to it yourself
dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version unless you reopen the PR or upgrade to it yourself
dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency unless you reopen the PR or upgrade to it yourself
dependabot use these labels will set the current labels as the default for future PRs for this repo and language
dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
dependabot badge me will comment on this PR with code to add a Dependabot enabled badge to your readme

Additionally you can set the following in your Dependabot dashboard

Update frequency including time of day and day of week
Pull request limits per update run andor open at any time
Outofrange updates receive only lockfile updates if desired
Security updates receive only security updates if desired


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactor display list creation preparing for backgroundimage;backgoundimage itself will require more plumbing to get an image cache in layoutthread. This can land in the mean time.;0
1497;DependencyInjection Update servicecontainer.rst;Fix service declaration;Symfony . secrets management system;"Hi
This completes 
I also made some changes to the section in configuration.rst about environment variables to make sure that it read well with the secrets stuff.
Thanks to jderusse for doing the vast majority of the work.
Cheers";0
1498;Notifier Adds documentation for Slack stuff added in .;Closes by adding documentation for these additions related to the notifier.;Remove usages of transChoice method for Symfony .;"The transChoice method and the transChoice Twig filter were removed in Symfony .
Notes for reviewers I'm not too sure about the new Pluralized Translations section I couldn't find any other information about it in the docs so maybe it's relevant I'm not sure if there's a better place to put it maybe componentstranslation.rst or if it's even needed";0
1499;RateLimiter Closes adds information about the lock being nullable;"Closes by adding documentation about the ability to make the lock factory null to disable this behavior.
It also adds a new in sf . text about the login throttling that has it disabled by default.";Added documentation for the priority access decision strategy;fixes;0
1500;Adding HTTP Certificates;"See symfonysymfony
Questions

Should I create an anchor for verifyhost and verifypeer to be able to link directly to these headings
Maybe a link on how to actually add it to the system store For ubuntu I found httpsaskubuntu.coma and httpssuperuser.coma";Fix Typo;"Fix a typo in line is build is built

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1501;Bump Symfony PHP requirements to ..;Fixes .;Yaml Documented the yamllint binary;Fixes .;0
1502;CI Make sure composer cache is properly used;"PR made sure we had a composer cache folder. This PR is making sure we use the cache properly.
Currently we are using the following paths

varworkspace
varchecker
varsfapp

The issue is that hashFiles only works for files in varworkspace. So I moved everything down one level.

varworkspacedocs
varworkspacechecker
varworkspacesfapp

Now we will use the two new composer.lock files to know if we should save the github cache or not ie if new dependencies were updated.
I think that the composer cache will contain many versions of a package. Ie we dont need a separate cache for . and one of . etc.";Update Console Input Optional Options;"The documentation for the Option Input commands was not easy to follow. This leads to confusion such as in symfonysymfony. Modified to make it more clear what the different outcomes are and to provide a simple example before the condensed example.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1503;CI Fixed composer cache for code blocks job;"I've noticed that since we dont have a composer.json file we cannot get the path to the cache. This PR will fix that.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Translation Added tip about the incompatibility of character;"With the ICU MessageFormat syntax the character is not valid anymore in parameter keys. It throws a UPATTERNSYNTAXERROR exception
This fix must be backported on all versions from . included since the introduction of IntlMessageFormatter";0
1504;Added indexes to sql commands used to create session tables;"As per httpsgithub.comsymfonysymfonyblob.UPGRADE..mdhttpfoundation PdoSessionHandler now precalculates the expiry timestamp in the lifetime column so the index will speed up garbage collection

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Mention that setting router.utf is now mandatory;This fixes .;0
1505;Security Document logout.target;Fixes and;Update authorization.rst;No description provided.;0
1506;Lock Update lock.rst;fix typo;Move method and class;"It reads more natural to me.
I would check the following branches if you agree and in this case we could add a Doctor rule.
Cheers";0
1507;Update NuSOAP client example;The soapClient created in the example is an instance of the native \SoapClient class instead of NuSOAP.;Update example to use taggedlocator helper function;"For some reason all php examples use the taggedlocator helper function except one. This has been changed since I don't see any apparent reason why not to use to it also keeps the examples more consistent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1508;CI Dont use the special respository for docsbuilder;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Use the get method instead of using the array;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1509;RateLimiter Fix syntax error in config;This is not the same as;Workflow Added a way to not fire the announce event;fixes;0
1510;Rewrite config form the Security bundle to use ConfigBuilders;No description provided.;adding the to .xml in the Conf Env;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1511;RateLimiter Rate Limiter Added missing opening single quotes;Added the missing opening single quotes in the PHP config example;Update setup.rst;No description provided.;0
1512;Update deprecated PHPUnit schema doc links;"PHPUnit gives Warning Your XML configuration validates against a deprecated schema.
Running the suggested .vendorbinphpunit migrateconfiguration updated phpunit.xml.dist and fixed the warning. The resulting XML is the update here.
The links to PHPUnit are also outdated updated to link to the current stable English release in the manual
Edit I'm not certain if this should be on the . branch instead since it's not directly related to Symfony. I can correct the branch if necessary";Fix damadoctrinetestbundle docs;"To sync this with the change made here dmaicherdoctrinetestbundlefabec
The PHPUnit extension does not work properly for PHPUnit . ?ÿò";0
1513;Adding fileloader dependency.;When trying to follow the steps described in frontendencorecopyfiles.html I'm getting an error related to the missing fileloader dependency. Adding it via yarn fixes the issue. I've updated this part of the documentation to make this part easier to implement.;Messenger Add an example for messengerfailedremove with several ids;fixes;0
1514;Messenger Add a description to the AMQP exchange arguments with example;"It took me some time to configure an alternateexchange.
Just figured to append the documentation so others can find it there.";FrameworkBundle Template Controller should accept extra arguments;"fix 
Not sure of the format of the PR in this project any help is welcome.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1515;Fixed array notation for yaml file in sessiondatabase.rst;No description provided.;Notifier Added a placeholder article for the component docs;"Notifier doesn't have docs yet. We don't link to them from symfony.com ... but we link to them from the README of the code repo. So let's add a placeholder article to avoid errors.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1516;remove unused inc files;"these inc files are not used anywhere
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Messenger Redis example with Unix Socket;"This is the documentation change for symfonysymfony .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1517;HttpKernel Minor Fix;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Server Configuration Clarified performance tip about symfonyapachepack;Fixes;0
1518;Security Update experimentalauthenticators.rst;"httpsgithub.comsymfonysymfonyblob.xUPGRADE..mdsecurity
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console Updated section 'Building a single Command Application' with the new 'SingleCommandApplication';fixes;0
1519;HttpClient Clarifying how to autowire scoped HTTP clients;The documentation didn't make it very clear that the key of the scopedclients array was the actual service name that could be used to autowire the service. By using the same name in the code example and in the paragraph about autowiring that should be clearer to the reader.;Fixes unclear sentence in finder.rst;No description provided.;0
1520;Messenger Add a note about messengerstopworkers command;"TODO

 Reword the message to make the description clearer
 Check if we can provide a recipe to avoid the described problem.

See CachePoolPassprocess.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Hint for generating container preload file;"The container preload file will only be generated when both factories and classloader are inline so you need to set both parameters to true explicitly.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1521;Unifying wording to configuration parameter;"Followup of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove getPublicDir documentation;"see symfonysymfony comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1522;OptionsResolver Documenting new setPrototype method;"PR symfonysymfony
Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update extending.rst;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1523;Form Documenting new priority option;"PR symfonysymfony
Fix";Update extending.rst;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1524;Security Fix some typos related to . security changes;"Spotted in .
Cheers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update workflowandstatemachine.rst;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1525;Runtime Composer node extra.runtime.options is incorrect;"Wanted to make a change to the dotenvpath so set composer.json as per previous docs to
 runtime 
 options 
 dotenvpath environments.env
 
 

resulted in autoloadruntime.php of
runtime new runtimeSERVER'APPRUNTIMEOPTIONS' 
 'options' 
 array 
 'dotenvpath' 'environments.env'
 
 'projectdir' dirnameDIR 


Which obviously didn't work
so I propose the options node is removed from the docs and then composer.json
 runtime 
 dotenvpath environments.env
 

resulted in autoloadruntime.php
runtime new runtimeSERVER'APPRUNTIMEOPTIONS' 
 'dotenvpath' 'environments.env'
 'projectdir' dirnameDIR 


Worked for me.";FrameworkBundle Fix lock.invoice.retrytillsave.store decoration;No description provided.;0
1526;Fix typo sit'sits;Fix typo;Serializer Remove note about CsvEncoder ascollection flag;"This is the default since .
httpsgithub.comsymfonysymfonyblobaddcddbceaecebbaaccbsrcSymfonyComponentSerializerEncoderCsvEncoder.phpL";0
1527;Serializer Fixed occurence of an old FQCN notation;No description provided.;Update process.rst;No description provided.;0
1528;CI Add new rule for DOCtorRST;"Follows 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove recommendation;"We do not recommend to alias php to symfony anymore.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1529;Uid Add note about ULIDs not being random in one case;Without reading the ULID specification it is not obvious in this documentation that the random portion of a ULID is not entirely random when multiple are generated in the same millisecond.;Fix a minor code mistake;No description provided.;0
1530;Fix link to Composer;By the way I added a small change in the Before You Start section.;Console Fix code example for definitionList;"Hi
Some comma in the argument list of definitionList in SymfonyStyle was missing.";0
1531;remove unused inc file;vendordeps.rst.inc is not used anywhere;some spelling updates;continues;0
1532;Translation Introduce Translation Providers;"Docs for symfonysymfony symfonysymfony symfonysymfony and symfonysymfony
Ready for first review but I'm not sure that I've written documentation in the right and all required places.
ATM Translation Providers Bridges packages doesn't exists so Flex recipes are not created yet.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DependencyInjection Reworded the article about factories;"This fixes by linking to an article which explains what factories are and by rewording contents a bit and introducing sections for a better navigation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1533;Console Add explicit note about the type of VALUENONE;"It was not clear what the default value nor what the type returned
from InputOptionVALUENONE is.";Fixed a wrong reference;No description provided.;0
1534;Updating to PHP .;No description provided.;Testing Fix broken link;"Fix a broken link here httpssymfony.comdoccurrenttesting.htmlajaxrequests
SymfonyComponentBrowserKitClient has been replaced by SymfonyComponentBrowserKitAbstractBrowser in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1535;Security Renamed encoders to passwordhashers;Fixes .;Fix invalid yaml;"Because deprecated 'The aliasid alias is deprecated. Don\'t use it anymore.' is not valid Yaml it leads to this error
OK All YAML files contain valid syntax.


Unexpected characters near t use it anymore.


The yaml specification says

All nonprintable characters must be escaped. YAML escape sequences use the ?Ç£\?Ç¥ notation common to most modern computer languages. Each escape sequence must be parsed into the appropriate Unicode character. The original escape sequence is a presentation detail and must not be used to convey content information.


Note that escape sequences are only interpreted in doublequoted scalars. In all other scalar styles the ?Ç£\?Ç¥ character has no special meaning and nonprintable characters are not available.

So I think removing the ' will help users who copy the configuration from the documentation.";0
1536;FrameworkBundle Document env vars in framework.ide;"This fixes .
MatTheCat please review this. Thank you";Update service id of the MailerInterface;The service id of the MailerInterface was changed in symfonysymfony to avoid an conflict with SwiftMailer;0
1537;Testing Remove docs on PHPUnit configuration;"This continues what I said in the first testing rewrite PR it's not our job to document PHPunit. I don't think we should document how to enable PHPUnit code coverage or test suites.
I checked with Laravel and Laminas and they also don't provide any detailed information about the config file.";Update doctrine.rst;Grammar.;0
1538;Testing Application testing in Symfony is fun Let's document the modern features;"This PR continues the efforts of restructuring the Testing docs

Focus more on Arrange Act Assert
Advertise modern testing features assertions. Somehow we didn't mention any easy to use assertion in the main guide but instead explained the complex dom crawler API.
Reduce some duplication. There is an astonishing number of ways to fill in and submit a form we documented at least different APIs in the main guide. I've reduced this to two a plain and short one and a longer one for more complex form submissions.

Todo preferably in a followup PR combine the testingdomcrawler and componentsdomcrawler feature documentation into testingdomcrawler.
cc Nyholm";Mailer Fixed broken link;This will fix;0
1539;Serializer update example for attributes;"update attributes example as well
see";String Replace codePoint by codePointsAt;"symfonysymfony renamed the codePoint method to codePointsAt.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1540;Config Added caution notice about nested bundle configs;Inspired by a chat with Nyholm;minor tweaks;No description provided.;0
1541;Console Updates method reference for retrieving console helpers;"While reading the docs I've found it weird that the documentation was talking about a getHelperSet method when referencing in the following codeblock the method getHelper.
This MR harmonizes the wording according to the Debug Formatter Helper";backport some tweaks from . docs;backports the tweaks made by atailouloute in that apply to . too;0
1542;Runtime Minor fixes;"These are really minor tweaks because the article is excellent and explain things in great detail.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";SMimeEncrypter add Tip;Add Tip about SmimeEncrypter to configure cipher.;0
1543;Serializer match example with description above;"Discriminator description mentions abstract class but example contains interface
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace references to Goutte with HttpBrowser;"With the introduction of HttpBrowser there's no need for Goutte any more but the docs currently mention both which is a little bit confusing. Also the current version of Goutte actuality extends HttpBrowser but doesn't add any functionality to it. It seems to me that Goutte is being completely replaced with HttpBrowser so there's no point in mentioning it in the docs any more.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1544;Validator Make it clear that configuring a constraint doesn't enforce anything;This is probably trivial for people who've been working for Symfony for a longer time but I found myself needing to explain this on more than one occasion so I think it would be good to mention it.;add url to bootstrap.php for older versions;"doc states that changes can be made to any Symfony . or higher app which requires different bootstrap.php solution found in comment
While I understand it's not encouraged to use unsupported versions I think this information can be useful for projects that can't be upgraded yet.";0
1545;Form Minor rewording;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update typehints;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1546;EventDispatcher Minor fixes;I have added some minor fixes to the Event Dispatcher pages.;Add documentation for new reverse method;"PR for issue 
Adding documentation in master for new reverse method
I was not sure whether it was necessary to create a new section or to add this method to an existing one i'll edit according to your opinion if necessary.";0
1547;Testing fix 'eachother' 'each other';"each other' is two separate words see httpsdictionary.cambridge.orggrammarbritishgrammareachotheroneanother
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update multipleguardauthenticators.rst;"Add missing entrypoint authenticator in PHP example
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1548;Security Fixes typo in experimental authenticators;email was not defined in the example.;Update usercheckers.rst;Remove unused import;0
1549;Update docsbuilder to version .;"We had a lot of errors when building the docs related to phpattributres. They are resolved now.
I don't get any errors when I build locally on . and .x. So I naively assume everything is fine.
I don't know why we have not updated before If there is a problem I don't know about please share.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removed Translation component documentation;"While translation is one of the components that is used by other applications quite a lot most of the components docs was about general translator usage that also applies to usage in the framework. Setting up the translation component isn't that difficult.
This PR moves all relevant docs from the components doc to the main guide. Much of this was duplicated in both so that proves that this move is a usefull thing to do. articles have been completely removed Creating your custom message formatter and format. A custom message formatter seems really advanced usage. The Translation component provides so many formats that I think creating a custom format is also quite advanced. If it turns out this is not true we can rest assured that they still exist in GIT history so we can quickly add them back.
Please note that the main translator guide is a really ugly structured document. However let's only do the rewriting in Symfony . as lots has changed flex ICU message format etc between .x and .x.";0
1550;CI Don't use special repository for symfonytoolsdocsbuilder;"When symfonytoolsdocsbuilder is registered on packagist we can remove the composer.json and composer.lock. But Im not sure we want to do that because we dont want to live on the edge.
Blocked by symfonytoolsdocsbuilder
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed problem normalizer example;No description provided.;0
1551;CICodeBlockChecker Installed tagged version instead of devmain;This will allow us to decide when changes should go public. Ie with a release.;remove old versionadded directive;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1552;Recommend using root controller attribute in route definition;"Also it is consistent with the example above
 configroutes.yaml
hello
 path hello
 controller App\Controller\HelloControllerindex
 methods GET

Checked on Symfony ..";Update Valid.rst;"Changed few doublequotes to singlequotes for code consistency

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1553;fix tagged mapping value YAML syntax;No description provided.;Validator added alpha option to country constraint;Documentation part of symfonysymfony;0
1554;Security Removed some deprecated features related to UsergetUsername;"Fixes .
The only occurrence of getUsername left in the docs is in this file httpsgithub.comsymfonysymfonydocsblob.xcomponentsmessenger.rst
Please help me to know how should I proceed to remove it. Thanks";Update guardauthentication.rst;"Minor improvements
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1555;Logger Monolog Add ConfigBuilders for Monolog;Only two more PRs after this;Update security.rst;Hello since version . we use lazy.;0
1556;Routing Fixing some typos;"Question Is this rule always true

then token will only get the last part and the rest is matched by path.

Cause if Yes the introduction doesn't make sense

you might get unexpected results

since if there's a rule it's not unexpected 
So it would be better to explain that the first parameter is always greedy.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update passwordmigration.rst;No description provided.;0
1557;Rename symfonydocstools to symfonytools;Just waiting for the actual rename.;.Security Password migration with guards;"Fixes 
When using password migration with guard you also need to implement an interface in your guard class.
Thanks chalasr for reporting this missing bit.";0
1558;Twig ConfigBuilder Use ConfigBuilder for TwigBundle;Here are config builder for TwigBundle;Update errorpages.rst;Small fixes improvements;0
1559;ConfigBuilder Adding PHP ConfigBuilders for DoctrineBundle;"All doctrine bundle configuration is converted
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update errorhandler.rst;There is no more FatalErrorException in SF .;0
1560;Uid Document the namespace string values;"Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update argumentvalueresolver.rst;No description provided.;0
1561;Fixed some typos in some images;"This finishes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update customrouteloader.rst | Fix wrong tag;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1562;ConfigBuilder Replace all framework config;This PR will replace all framework configuration with the new ConfigBuilders.;Make custom routers compatible with the LoaderInterface;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1563;Fixed syntax errors in .x;"These errors does not exist in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update routing.rst Fix wrong XML;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1564;Fixed syntax error in .;Here are the syntax errors I found when running the parser on ..;Update routing.rst;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1565;Fixed syntax errors on .;"I ran the new parser on .. There are about more syntax errors that I decided not to fix. Some are false positives ie a code example where we only have a PHP array. Others show some limitations of the parser. Ie we cannot automatically detect a code block with no language we currently assume it is PHP but that is not always correct.
This is the last fixes I'll do for ..";Update routing.rst;Remove missing return;0
1566;Start using ConfigBuilder;I start with documents to see how it feels.;Update injectiontypes.rst;"Typo fixed in the code snippet

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1567;update doc with maxage;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update eventdispatcher.rst;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1568;Mercure Fix configurationblock;Hi just a minor typo but that induces a little issue while rendering;. Fixed everything found by the spellcheck builder;"This completes what I started in 
I've also committed the custom word list and Sphinx configuration. This way everyone is able to run it and I accidentially removed the word list after the last time so I don't want to loose it again.
Some quick notes

Many titles that consisted of option or function names are transformed to be a literal. This is supported by Sphinx and all references still work. On symfony.com code elements in a title are ignored and titles are displayed as normal see httpssymfony.comdoccurrentcomponentsfilesystem for an example
I once again updated many cases of library names. I used the main websitedocumentation of each library to find the proper casing e.g. NGINX webpack npm and HInclude.js.

To avoid merge conflicts I will merge this PR asap. Don't worry about the merge conflicts I'll resolve them once and then they should no longer occur";0
1569;remove .x versionadded directive;No description provided.;Update references to . version;"As version . is an LTS would be useful for the docs to reference the . version specifically when updating to this version.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1570;apply zendconfig .;No description provided.;remove dependency on stdlib package;This commit removes the dependency on the Stdlib package so that the Dom package can be used completely standalone. It does so by extending DOMXpath to wrap each raised error with an ErrorException with logic similar to that used in Stdlib ErrorHandler.;0
1571;Prepare for version;"This patch prepares the package for version . Specifically Updates the minimum required PHP version to .. Updates to the latest stable release of existing packages.
Adds new vspecific components  Updates the zendldap suggestion to specify a knowngood stable version of the component.
Removes the various bin scripts. The plugin map and class map generators are no longer relevant and the template map generator is now part of zendview.";patch barcode analyzer fixes;Fixes some php analyser issues;0
1572;Updated dependencies to .;"Previously we were using .. which is equivalent to ..... This is problematic as a number of components are at . and . versions and some of those newer versions include security fixes. By being too restrictive in the constraints we are locking users to insecure versions which is problematic.
As none of these new minor versions introduces backwards compatibility breaks this patch updates to use the . constraint to allow .... versions to be installed for all components.
The plan is to do an immediate .. release with these changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PostRedirectGet should keep query parameters;The Post Redirect Get Plugin should keep query parameters for redirects but I don't know if this is the right approach to do this.;0
1573;Fixed typo;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecate Proxy autogeneration;"Supersedes 
Ping blanchonvincent";0
1574;update latest CHANGELOG.md with correct zf version;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes;Fixes;0
1575;Make zendldap optional;"Per zendframeworkzendldap ZF cannot be installed at version .. if you do not have extldap installed due to the hard requirement on that extension in zendframeworkzendldap. This patch makes zendframeworkzendldap an optional component.
After this is merged users updating ZF that need zendldap will need to perform the following to grab the zendldap requirement
 composer require zendframeworkzendldap
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sqlsrv fixes cursor type fix utf support transaction support varbinary update support;Please merge this stuff mssql support is buggy and very limited without it.;0
1576;Pass the \r\n sequence to PartgetHeadersAsArray;"Per the gist provided by Qronicle I've created a unit test against Zend\Mail\Message and a proposed fix.
Zend\Mime\PartgetHeadersAsArray accepts an optional argument the line separator sequence. This defaults to \n but for mail messages should be \r\n. The proposed patch passes that argument when retrieving MIME headers to include in the mail message.
This is an alternative to . That patch removes all header folding. In most cases that should be acceptable but in cases where the MIME boundary is long the header could potentially exceed bytes. The attached patch preserves header folding by ensuring the correct sequence is used when aggregating MIME headers for use in a Mail message.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enabling the Request object to generate the correct scheme for SSL URI;"Enabling the Request object to generate the correct scheme for SSL URI requests to a web server through an HTTP proxy or load balancer.
HTTPXFORWARDEDPROTO request header is sent by load balancers instead of HTTPS to indicate the URI was requested via a secure connection.
An example of this usage is Amazon Elastic Beanstalk applications which can sit behind a load balancer when autoscaling";0
1577;ldap Fix exceptions while parsing are not captured.;Fix;Zend\Filter\Compress added PHP . support for strings in Bz and Gz decompress;"With this PR Zend\Filter\Compress\Bz and Zend\Filter\Compress\Gz are capable of decompressing Strings in PHP . without throwing a Warning like stated in 
In my research I found out that the only problem are null byte characters so we go for a check if there is a null byte char in the given content.
The skipped tests are working now in PHP .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1578;http Allow serialize any character on cookies;No description provided.;Avoid function usage in loops;"Complete the previous pull request .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1579;mail Fix set UTF values to headers. Fix;No description provided.;Run Travis build also on PHP .;No description provided.;0
1580;console Assert only int error levels are set;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";New class Translator\Loader\PhpMemoryArray;This translator loader takes a php array that already exists instead of loading it from a file like Translator\Loader\PhpArray does. This is beneficial when you already have the translations in memory or when using a service like Google App Engine where disk IO is an expensive API call. It is also useful when translations come from a centralized place like memcached which is what prompted me to write this loader.;0
1581;dbpgsqltest Fix testDisconnect;"Fix incomplete test introduced in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Usage of a function in loops should be avoided;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1582;travisci Print list of PEAR packages installed and their versions;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Zend\Soap\ServerNEWáadd a getSoap method return the internal instance;"Currently we are no able to access of the internal SoapServer instance. But in certain case especially when we need to send a soapfault with the setReturnResponse at true we need an access to the internal instance.
So this pull request adds a proxy method getSoap which returns the internal SoapServer instance.
Code is unittested";0
1583;stdlibtest Fix Deprecated notice for Nonstatic method called static;"Should handler EDEPRECATED PHP nightly change error level
Close 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Zend\Soap\Server Add getException to get caught exceptions;"If the Server class catch an Exception the caught exception is hidden and the original exception is lost this pull request adds a getException method to get the caught exception during business code execution.
Code Unittested
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1584;XMLRPC Incompatibility with HHVM;"Hello
I'm trying to use the zendxmlrpc library with a composer package that I'am
writing. I wanted to test it using a hhvm environment and received an error with the
way hhvm handles the each method.
Fatal error Uncaught exception 'ErrorException' with message 'Invalid operand type was used expecting an array' in srvwwwpackagevendorzendframeworkzendxmlrpcAbstractValue.php

Looking at line 
 protected static function extractTypeAndValue\SimpleXMLElement xml type value
 
 listtype value eachxml
 if type and value null 
 namespaces array'ex' 'httpws.apache.orgxmlrpcnamespacesextensions'
 foreach namespaces as namespaceName namespaceUri 
 namespaceXml xmlchildrennamespaceUri
 listtype value eachnamespaceXml
 if type null 
 type namespaceName . '' . type
 break
 
 
";Removed comment vardump;No description provided.;0
1585;mongo mentions of redis removed;redis mongodb;Removing recursive directory iterator write operation as of facebookhhvm;"Write operations done in a RecursiveIteratorIterator seemed to be quite a bad idea to me so I removed them and replaced them with a simple iteration.
The original issue was facebookhhvm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1586;Updated phpDoc and removed duplicates;"Updated phpDoc
ValidatorPluginManager deleted duplicate for line .";Zend\Code file reads on eval'd code;No description provided.;0
1587;configtest Fix assertContains should be assertArrayHasKey;"This bug is NOT related with 
Surprisingly assertContains as well inarray'' tokens true does not fail when the string does not exists in the array value side.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ServiceManagercanCreateFromAbstractFactory missing foreach break after valid abstract factory found;"It seems that in the ServiceManagercanCreateFromAbstractFactoryMethod is missing foreach break after an abstract factory is found and assigned to the nestedContext.
Missing break after httpsgithub.comzendframeworkzfblobdeveloplibraryZendServiceManagerServiceManager.phpL
Now the issue is that the first abstract factory if can create a service is always overridden with the last abstract factory that can create the same service e.g. DiAbstractServiceFactory.
For example I add an abstract factory to the service manager config AdapterAbstractServiceFactory and I configure the db adapter. When I want to inject that adapter with the Di I have to configure the di instance alias. But when the service manager is creating that db adapter new instance it continues over the AdapterAbstractServiceFactory to the DiAbstractServiceFactory because of that missing foreach break. Thus db adapter instance can't be created";0
1588;Fix undefined PGSQLCONNECTASYNC only present in PHP .;"Issue introduced in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Soap\Client\DotNetFIX Undefined property in void return;"The dotNet soap implementation send the result in a LastRequestResult xml node so the DotNet preProcessResult return directly this node.
But in some case when the method return nothing and if this behaviour is not defined in the ws defition wsdl for example a notice error is raised because the searched node does not exists.
So I have added an exists condition on the LastRequestResult xml node to avoid this error.
The code is not unittested because I don't know how to test this peculiar behaviour but the modification is really really tiny.";0
1589;CS remove unused uses;Most of them are related with abc and df;SoapServer add debug mode;"When an exception is raised the \Zend\Soap\Server catch it and check if this is an authorized exception.
If not and for security reason it send an Unknow error message.
And if in production its a sane behaviour its really annoying during development tests process.
So I propose to add a setDebugMode method when activated send all exceptions to the client.
The code is unittested.";0
1590;travisciáHHVM nightly is not supported;"HHVM nightly is no longer supported on Ubuntu Precise. See traviscitravisci and facebookhhvm

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Correct references toPHPUnitRunnerVersionVERSION;"From PHPUnit's history this looks like it was meant to be internal.
It's also been removed from recent versions of PHPUnit.
Fixes several tests under PHPUnit .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1591;memory isLocked sometimes return integer instead bool;Method must return a bool type without need of cast;Do not exit from loadClass early;"In loadClass if the namespaceprefix matches but the classfile is not
found we were returning a boolean false immediately. However if a more
specific namespaceprefix matches but is later in the stack we're
essentially ignoring it making the class unreachable.
This patch removes the return false line in the foreach loop allowing a
namespace registered later to match and potentially fulfill the autoloading.
There will be a performance impact which means it's always better to
register the more specific namespace earlier.";0
1592;travis Colorize PHPUnit output requires PHPUnit .;"Since PHPUnit . there is an option for enforce ANSI colors in the output regardless if PHPUnit detect if terminal is compatible or nor.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove unneeded key name under inputfilter perelement in FormAbstractServiceFactoryTest;to make no ambiguous which key must be written;0
1593;test Replace assertTrue|False with more appropriate assertions where possible;"This PR aims to remove uses of asserTrue and assertFalse.
PHPUnit provides alternative assertions specific for certain cases and provides useful information about the nature of the failure.";Support PHPUnit . compatibility;PHPUnit . adds a method to its PHPUnitFrameworkTestListener interface called addRiskyTest. Need to stub it out to avoid must implement this interface method fatals when using ..;0
1594;Implement expected InputisValid workflow;"This patch implements the logic I outlined in a comment to 

required true allowempty true continueifempty false validators are NOT run
required true allowempty true continueifempty true validators are run
required true allowempty false continueifempty false validators are NOT run
required true allowempty false continueifempty true validators are run
required false allowempty true continueifempty false validators are NOT run
required false allowempty true continueifempty true validators are run
required false allowempty false continueifempty false validators are NOT run
required false allowempty false continueifempty true validators are run

It builds on the patch of and addresses the BC break demonstrated in and in zfcampuszfcontentvalidation.";Allow specifying break chain on failure flag as Validator option;"When calling attachByName allow passing the break chain on failure
flag
as an option instead of requiring it to be passed as the third argument to
the method simplifies factories.
Fixes zfcampuszfapigilityadmin";0
1595;Replace whitespace in the parameter prefix option passed to AbstractSqlprocessExpression;"This PR is to allow using a parameter prefix containing spaces when processing Db\Sql\Expression objects which is necessary when using Expressions as columns with the name containing spaces
select new Select
selectcolumnsarray
 'Column Name With Spaces' new Expression'FROMUNIXTIME' array

Here 'Column Name With Spaces' is passed as the last parameter to AbstractSqlprocessExpression but the resulting parameter name is invalid and the query cannot execute.
A solution is to replace any whitespace with double underscores so that the parameter name is valid.";FIX Zend\Db\Sql\Select getRawState'order' is inconsistent;"Zend\Db\Sql\Select getRawState'order' is inconsistent after calling reset 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1596;update url to 'current' at INSTALL.md;from version specific '.' to 'current';remove unneeded createService functions that actually do same with base class AbstractPluginManagerFactory;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1597;removed anchor after redirect for validate host;"server side when you are redirected to a url with an anchor in this this is not removed
with this modification are removed allowing proper verification of the host
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Http\Headers hotfix bit of refactoring and new headers;"this PR includes

fix Http\PhpEnvironment\Request to set correct names for headers extracted from SERVER
move PluginLoader for headers into separate HeaderLoader class
locationbased headers Location ContentLocation Referer
datebased headers Date LastModified Expires etc.
Allow Age and RetryAfter headers";1
1598;Let FormElementErrors view helper translate error messages;"Added translation for form element errors
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Error messages in Zend\Form\View\Helper\FormElementErrors are now being translated;"This is regarding issue Issue .
Custom validation errors were not translated by the view helper what made it inconsistant with other form view helpers for example FormLabel.";1
1599;correcting ConsoleResponseSender's invoke;"Just an argument fix causing an error in recent PR 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update libraryZendMvcResponseSenderConsoleResponseSender.php;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1600;. Added msgpack serializer;see httpsgithub.commsgpackmsgpackphp;MessagePack serializer;httpmsgpack.org;1
1601;New escape strategy for view;"Escaping the value for these decorators was broken due to a change in the view layer
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix form tests for escaping and invalid assumptions;"Most fixes were to ensure fixes against escaping API

escape is now a view helper not a function of the variables
container
we use ENTQUOTES now so some comparisons needed updating


Label decorator a test was making the wrong assumption regarding
setting an empty tag
Element a test was making an invalid assumption as to a validator
default";1
1602;Add controller's implemented interfaces to its shared event manager default identifiers;"Apparently from the shared manager it is not possible to attach a callback to a controller dispatch event from an interface id it implements.
I simply added the list of the implemented classes to the identifiers. This adds the possibility to do this
 Module.php this was never triggered
eventManagergetSharedManagerattachLambdaControllerInterfaceclass 'dispatch' 
 this 'myCallback'


 MyController.php
class MyController extends AbstractActionController implements LambdaControllerInterface


I am not an expert on the event managers waiting for some feedback before adding some tests.";Patchesinterfaces as identifiers;"Adding interfaces implemented by a controller as identifiers. This helps to attach events to controllers sharing an interface. Right now we can only do so with abstract classes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1603;zen Renamed abstract classes in Zend\Service;"Renamed abstract classes
Fixed exceptions
Renamed interfaces
Fixed phpdoc";update Exceptions in Service\AbstractService;No description provided.;1
1604;Added missing method call brackets to Zend\Mvc\Router\Http\TreeRouteStack;"When setting up a base URL in ZendSkeletonApplication I add this method to my Application\Module class and register it to be called on bootstrap
public function registerBaseUrle

 app egetParam'application'
 router appgetRouter
 routersetBaseUrlegetParam'config'baseurl
 

When I run the app I get the following notice
Notice Undefined property Zend\Http\PhpEnvironment\RequestgetBaseUrl in ZendMvcRouterHttpTreeRouteStack.php on line 
This is because the call to getBaseUrl in TreeRouteStack is missing the 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed calling getBaseUrl instead of getBaseUrl;"This fixes a Notice
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1605;Use Timestamp with IntlDateFormatterformat in DateSelect and MonthSelect view helpers.;"This is a fix for issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update FormDateSelect and FormMonthSelect to support .. as is recommended in composer.json;"Support for passing in a DateTime object was only added in ...
httpwww.php.netmanualenintldateformatter.format.php
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1606;csfixer Centralize configuration in a single file;No description provided.;Remove unused uses that are causing checkcs to fail;"Remove all unused uses causing checkcs to fail
EDIT I Didn't notice the unused uses fixer wasn't enabled for the tests folder so the problem is cscheckcs.sh itself.
Maksw Some of the tests i guess is the second one is showing up this message Loaded config from varwwwzf.tests.phpcs which makes the checkcs.sh think there is an error. As you're working with that checker could you please take a look at that All PR's are failing in Travis even with no errors.";1
1607;Composer dependencies fixed;"Added needed packages to require requiredev and suggest sections in composer.json.
See";Moving form to required;"because of httpsgithub.comzendframeworkzfblobdeveloplibraryZendMvcServiceServiceListenerFactory.phpL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1608;Zend\Db\Sql\Select problems with Reset containing Joins;Actually the RESET on columns works only with the actual tables columns but this RESET should reset each JOIN column too because when you do a \Zend\Paginator\Adapter\DbSelectCOUNT on a PostgreSQL database you need to reset all columns including columns on joins.;clear joins and create without columns;clear joins and create without columns;1
1609;Adding HHVM to build matrix;Fixes PHP;Update .travis.yml;No description provided.;1
1610;Issue Zend\Db\PDO adapter driver ignores charset option;No description provided.;Added optional charset to pdo dsn;"It was not possible to set the charset of the connection now it can be passed as configuration parameter.
If somebody could give me a hint how I'll also write a test 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1611;Fix docblock typo;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";code Implement logic for include a file in FileReflection if this exists and is not already included;"Remove the double check done in FileReflection and FileGenerator
There is a small BC Break because InvalidArgumentException is throwed from Zend\Code\Reflection\Exception namespace
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1612;Properly pass context to input filter;"Hi
I was quite surprised to see this bug. Basically the isValid method of input filter did not allow to pass any context which in hence could not be transfered to various validators that made it impossible to use some validators that relied on context.
The problem is that input filter actually considered the whole array data as context and pass it to various inputs.
To avoid any BC I just checked if a context was explicitly given in the input filter. If that's the case this context is preferred over the data as array.
Thanks";Input receives complete context for validation;"Instances of InputInterface used to receive all submitted values from BaseInputFilter as context. After the changes made in only the values extracted from other inputs are passed on.
Is this by intention or by accident I'd like to peek into the context without defining values as an input sometimes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1613;Set response returned from dispatch event to MvcEvent test.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Controller action HttpResponse is not used by SendResponseListener;"SendResponseListener is getting the response from the event via the getResponse whereas the actual HttpResponse returned by the controller action is stored as the result for that event.
public function indexAction

 return new ViewModel
 response new \Zend\Http\PhpEnvironment\Response
 responsesetContent'OK'

 return response


This is a little confusing given that the AbstractController will stop dispatching when the returned value is a Response instance.
 result thisgetEventManagertriggerMvcEventEVENTDISPATCH e functiontest 
 return test instanceof Response
 

And then the SendResponseLister is pulling from getResponse
public function sendResponseMvcEvent e

 response egetResponse
 vardumpresponse egetResult these instances differ

It seems like the Mvc\Application should set the result Response as the event response
 response resultlast
 if response instanceof ResponseInterface 
 eventsetTargetthis
 eventsetResponseresponse set response for SendResponseListener";1
1614;Fixes Zend\In\Validator\Float set error message for NOTFLOAT;Fixes;Add error messages to Float validator;"Fixed Float validator not setting error message for failed validation.
PR needs tests but i have no time atm.
Reopening PR against master";1
1615;Support commas in names;Bad things happen when an email header has a comma in the name this fixes that.;AbstractAddressList handles names with comma incorrectly;"Zend\Mail\Header\AbstractAddressListfromString gets confused if the name of a named email address is quoted and contains a comma as it explodes the string using a comma not taking into account the quotation. For example
From Name Given Name myemail.com
is split into two addresses.
I'm adding a pull request to this issue whith a test case and hotfix.";1
1616;update DocComment in SharedEventManager;No description provided.;ZF Fix SharedEventManager docblock;"SharedEventManager docblock references none existent method SharedEventManagergetInstance
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1617;Fix controller tests to support HTTP PATCH method;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support additional params for PATCH request test.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1618;driver perform stripping before and after macro expansion.;"This allows macros to both be conditionally defined and expand
to items with cfg's.
This seems to have a performance improvement e.g. for std
 Before 
time . s expansion
time . s configuration
 After
time . s configuration 
time . s expansion
time . s configuration 

And for extra
 Before
time . s expansion
time . s configuration
 After
time . s configuration 
time . s expansion
time . s configuration 

This seems a little peculiar but it is possibly because the expansion AST traversal is very slow so removing as much as possible as early as possible has big benefits.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow attributes on macros;"It's unclear to me why these currently aren't allowed and my best guess is that
a long time ago we didn't strip the ast of cfg nodes before syntax expansion.
Now that this is done I'm not certain that we should continue to prohibit this
functionality.
This is a step in the right direction towards because now we can add an
empty stdmacros module to the documentation with a bunch of empty macros
explaining how they're supposed to be used.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1619;Do not dropinplace elements of VecT if T doesn't need dropping;"With O LLVM's inliner can remove this code but this does not happen
with O and lower. As a result dropping Vec was linear with length
resulting in abysmal performance for large buffers.
See issue .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Skip the dropinplace loop in Vecdrop based on needsdrop.;"Fix 
This should help unoptimized builds according to comment
r gankro
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1620;fix Remove abi foo attributes from codebase;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove unused abi attributes.;"They've been replaced by putting the name on the extern block.
abi foo
goes to
extern foo 
Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1621;Add a link validator to rustbuild;"This commit was originally targeted at just adding a link checking script to the rustbuild system. This ended up snowballing a bit to extend rustbuild to be amenable to various tools we have as part of the build system in general.
There's a new srctools directory which has a number of scriptsprograms that are purely intended to be used as part of the build system and CI of this repository. This is currently inhabited by rustbook the error index generator and a new linkchecker script added as part of this PR. I suspect that more tools like compiletest tidy scripts snapshot scripts etc will migrate their way into this directory over time.
The commit which adds the error index generator shows the steps necessary to add new tools to the build system namely

New steps are defined for building the tool and running the tool
The dependencies are configured
The steps are implemented

In terms of the link checker these commits do a few things

A new srctoolslinkchecker script is added. This will read an entire documentation tree looking for broken relative links HTTP links aren't followed yet.
A large number of broken links throughout the documentation were fixed. Many of these were just broken when viewed from core as opposed to std but were easily fixed.
A few rustdoc bugs here and there were fixed

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fmt Reexport Alignment unstable;"fmt Reexport Alignment unstable
Alignment is returned by the unstable method Formatteralign. Without
this change the links to it in documentation are dead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1622;Fixed deprecation warnings on Unicode literals;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup serialize;"This brings over some changes from rustcserialize. It makes sense to keep the two in sync until we finally remove libserialize just to make sure they don't diverge from each other.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1623;Fix typo in Getting Started section of the book;"Closes 
r steveklabnik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";typo in 'getting started';"start the installation instead of stat the installation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1624;test Add a compilefailfulldeps test suite;"Compilefail tests for syntax extensions belong in this suite which has correct
dependencies on all artifacts rather than just the target artifacts.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix make checkstage by fixing deps of exported syntax cfail tests.;"Our make checkstageN for all N including N was not working
because there is an unspecified dependence from the cfail tests on
certain crates that export syntax.
We need to encode that dependence in some manner. The quick hack is
to add CSREQTH SREQTH to the
dependency list for all of the cfail tests. But I would prefer to
not force the make logic to build all of the external crates before it
gets to exercise the cfail tests.
So here is how this PR fixes the problem more properly

Add CTESTDEPScfailfull that analogous to
CTESTDEPSrpassfull has a dependency on
CSREQTH SREQTH.
CTESTDEPScfail is left unchanged and thus continues to
match the structure of CTESTDEPSrpass.
Added all of the other ingredients for cfailfull family of make
logic.
moved cfail tests that rely on macros in separate crates to
separate compilefailfulldeps directory.


Landing this may or not be a prerequisite for landing PR . In
any case this is a pretty isolated change and a net improvement in
the overall structure for the tests IMO at least given what we
currently have in the makefiles.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1625;correct ExactSizeIterator examples;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update ExactSizeIterator docs to match iter doc changes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1626;Stable Compatibility fixes for LLVM .;"Based on the pull request from Luca Bruno 
I'm trying to get the .. release running on a Fedora system using the system supplied llvm.
It's still not running but i getting somewhere.
Is this patch correct This was my first practical contact with Rust code and hey it's the rust compiler itself 
Now i'm having a dynamical system llvm linked stage rustc which can compile small rust programms. Next stages still don't work not the referenced ICE i get here illegal instructions but only if i activate optimizations in rustc need to investigate this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Require LLVM .;"Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1627;Fixed snippet to return the proper error.;"This PR fixes a snippet of code on the error handling chapter of The Rust Programming Language.
cc steveklabnik
The docs state that trying to compile the snippet will yield the following error
anon error nonexhaustive patterns not covered E
But instead the error received is
anon error unresolved name NewRelease
anon stdioprintlndescriptiveprobabilityNewRelease
 
anon error unresolved name stdioprintln
anon stdioprintlndescriptiveprobabilityNewRelease
 
error aborting due to previous errors
playpen application terminated with error code 
After applying this PR the expected error is returned
anon error nonexhaustive patterns not covered E
anon match probabilityevent 
anon . certain
anon . impossible
anon . ... . very unlikely
anon . ... . unlikely
anon . ... . likely
 ...
anon help see the detailed explanation for E
error aborting due to previous error
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TRPL minimize diff between examples in Error Handling;"Two successive examples were slightly different for no reason.
r steveklabnik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1628;fix make install;"There seems to be a problem introduced by
bc that causes make install
to fail when the build is not configured to skip doc building.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix make install dependencies;"After bc the make install
command fails if docs are not disabled through CFGDISABLEDOCS
because now the install target uses
....tmpdistDOCPKGNAMECFGBUILDinstall.sh
Instead of explicitly depending on
distPKGNAMECFGBUILD.tar.gz the prepareuninstall
targets now depend on disttarbins which packages the appropriate
dist archives depending on the configuration.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1629;std Change escapeunicode to use new escapes;"This changes the escapeunicode method on a char to use the new style of
unicode escapes in the language.
Closes 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make UnicodeEscapedChars use new unicode escape syntax.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1630;Skip coherence checks for error types;"Fix .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make coherence more tolerant of error types.;"This is an alternative to for fixing that seems to me to be more inline with the general strategy around TyError. It also includes the fix for in fact just the minimal change of making tyislocal tolerate TyError avoids the ICE but you get a lot of duplicate error reports so in the case where the impl's trait reference already includes TyError we just ignore the impl altogether.
cc arielb sanxiyn
Fixes .
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1631;libc unbreak severals osplatform;"affected struct

sockaddrstorage
sockaddrun

apply the same method used for linux for

bitrigopenbsd
freebsd
dragonfly

this commit unbreak build for openbsd and bitrig freebsd and dragonfly too I think
r alexcrichton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";This fixes the OpenBSD and Bitrig builds.;"The lastest master doesn't build on Bitrig. This patches fixes that and probably OpenBSD too.
cc semarie
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1632;Fixed invalid JavaScript;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix JS syntax error;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1633;Partial implementation for UFCS traitless associated paths.;"Adds moduleTypemethod support and makes moduleTypemethod a shorthand for it.
This is most of except that chaining multiple associated types is not yet supported.
It also fixes as impls are no longer treated as modules in resolve.
Unfortunately this is still a breakingchange

If you used a global path to a primitive type i.e. bool i etc. that was a bug I had to fix.
Solution remove the leading .
If you passed explicit implside type parameters to an inherent method e.g.

struct FooTT
implA B FooA B 
 fn paira A b B FooA B Fooa b 

FooA Bpaira b
 Now that is sugar for
FooA Bpaira b
 Which isn't valid because Foo has only one type parameter.
 Solution replace with
FooA Bpaira b
 And if possible remove the explicit type param entirely
Foopaira b

If you used the QPathrelated AstBuilder methods hugwijst added in .
The methods still exist but QPath was replaced by QSelf with the actual path stored separately.
Solution unpack the pair returned by cx.qpath to get the two arguments for cx.exprqpath.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Catch attempts to project nonexistent associated items from a trait.;"Catch attempts to project nonexistent associated items from a trait.
Also fix an instance of this mistake this fix uncovered in iter.rs
Fix .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1634;Some struct visibility fixes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";extraurl Make Url and UserInfo public;"Some external projects e.g. rusthttp used them without error due to broken crosscrate visibility.
Now it is fixed so we have to make them public.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1635;sTHRADSTHREADS;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo RUSTTESTTHRADS RUSTTESTTHREADS;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1636;Fixed CFLAGS and CXXFLAGS propagation for platform.mk to use;"I tested this Brian and it seemed to propagate the CFLAGS and CXXFLAGS correctly now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add x windows to platform.mk and mingw header fixes.;"Add the x windows target to platform.mk and reorder some headers to fix build on mingw. There are still some issues with building llvm but this gets us one step closer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1637;Add ARM MUSL targets;"The targets are These mirror the existing gnueabi targets. All of these targets produce fully static binaries similar to then x MUSL targets. For now these targets can only be used with rustbuild builds as rustlangcompilerrt only made the necessary compilerrt changes in the CMake configs not the plain GNU Make configs. I've tested these targets GCC .. compiled again musl.. downloaded from httpmusl.codu.org. An example .configure invocation is .configure \ enablerustbuild targetarmunknownlinuxmusleabi \ muslrootMUSLROOT where MUSLROOT points to the armlinuxmusleabi prefix.
Usually that path will be of the form   foobararmlinuxmusleabiarmlinuxmusleabi. Usually the crosscompile toolchain will live under
foobararmlinuxmusleabibin. That path should either by added
to your PATH variable or you should add a section to your
config.toml as follows target.armunknownlinuxmusleabi cc foobararmlinuxmusleabibinarmlinuxmusleabigcc cxx foobararmlinuxmusleabibinarmlinuxmusleabig As a prerequisite you'll also have to put a crosscompiled static
libunwind.a library in MUSLROOTlib. This is similar to how
the x MUSL targets are built.
r alexcrichton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rustctrans implement lld compatibility;"This changes the semantics of rustctrans?öùLinker such that the underlying command can no longer be directly accessed. That's used in a later commit which implements preliminary lld compatibility.
r japaric
cc alexcrichton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1638;rustdoc Handle concurrent mkdir requests;"It's likely that rustdoc as a tool is run concurrently in the same output
e.g. documenting multiple crates as Cargo does in which case it needs to
handle concurrent calls to fscreatedir.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rustdoc Use createdirall to create directories;"This fixes a race condition where a directory is created in between the Pathexists check and the fscreatedir call. This race condition is triggered sometimes by running a command like cargo doc p foo p bar which can run multiple rustdoc commands in parallel.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1639;Fix up build warnings about use of;"Simple PR to fix some build warnings on a clean clone of master.
homeubuntusrcrustsrclibrustcmiddleastconvutil.rs warning obsolete syntax 
homeubuntusrcrustsrclibrustcmiddleastconvutil.rs Someprimtytotytcx path.segments nty
 
note write .. instead
...
homeubuntusrcrustsrclibrustcresolvelib.rs warning obsolete syntax 
homeubuntusrcrustsrclibrustcresolvelib.rs self.resolveerrortraitpath.span msg
 
note write .. instead

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove some compiler warnings;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1640;remove explicit iflet and tupleindexing feature enables;"Now they trigger warnings.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed Feature accepted warnings;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1641;Enable and make stage landing pads optional;"Part of 
Landing pads during stage are now enabled by defaullt. Since this has its downsides and upsides either way I made it possible to change the option through configure.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add configure flag to build stage with landing pads.;"This adds a new configure flag enablestagelandingpads.
It allows the use of make checkstage which is broken when
Z nolandingpads is used to build stage. The downside is that bootstrapping
will be slower with this flag is enabled but some developers already manually do this to speed up their
testing cycle.
The default is to build with Z nolandingpads as before so this commit has
no effect except when someone uses .configure enablestagelandingpads.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1642;Rollup of pull requests;"Successful merges 
Failed merges

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rolling up PRs in the queue;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1643;Fix native failure and improve licenseck;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";etc licenseck don't hardcode a specific year;"don't check for an hardcoded copyright claim year check the surrounding strings instead
logic if either the or style copyright patterns are found don't invalidate
cleanup hardcoded content and streamline the few files with different line breaks

r brson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1644;Rollup of pull requests;"Successful merges 
Failed merges

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rollup of pull requests;"Successful merges 
Failed merges

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1645;Add error explanation for E;"I'd like to have added examples for each case but the overall error explanation started getting uncomfortably long. Instead I've lifted and rewritten notes from srclibrustcmiddletraitsobjectsafety.rs to be somewhat clearer.
Personally I feel this should become five separate error codes for each ObjectSafetyViolation case also counting MethodViolationCodes.
cc 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bunch of diagnostics fixes and additions;"I'll be adding more commits to this PR as the weekend progresses. Was hoping to make this a megaPR but getting some eyes on this early would be nice too.
r steveklabnik
r eddyb on the object safety bits
cc michaelsproul
Part of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1646;Register new snapshots;Closes  The text was updated successfully but these errors were encountered;rustdoc Fix errors on table of contents links in rendered docs;"Extraneous backslashes cause the browser to interpret url as a new page instead of an anchor tag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1647;extend the iterator tutorial fix zerosize element vec iterators;documents conversion size hints and doubleended iterators and adds   more of the traits to the prelude     The text was updated successfully but these errors were encountered;Account for possible sized elements in vector iterators;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1648;fix expandquotety function as parsety was changed and needs no args now;"Subj. expandquotety produces wrong call to parsety now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ack parser.parsety change in quotety test;"parsety no longer takes a boolean parameter. quotety implementation has not yet been modified accordingly.
As a matter of fact quotety was not covered by tests. One test called qquotes references it but it has been ignored for nearly one year and now need heavy refactoring.
quotetoken.rs seemed like a good place to test quotety many other quote macros were asserted there.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1649;Correct fns exp that were calling exp;"Fixes .
I was working on adding examples to the documentation in stdnumFloat. I got to exp which says Returns raised to the power of the number self.
So I tried running this code
use stdnumFloat

test
fn testexp 
 asserteq. ..exp


and it resulted in a failure of left right .. That . is the value for e which is exp not exp.
Sure enough exp is calling exp and shouldn't be looks like a copypaste error.
I haven't added any tests for this since it's unlikely to break again but I will happily do so if people think that would be a good idea. The doc examples are coming 
I scanned through the other functions in these files for similar sorts of errors and didn't notice any.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix exp;"I'm guessing this will fix but it's untested. Seems like it should...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1650;Fixes by adding new snapshot for dragonfly bsd;"alexcrichton please upload the following snapshots
httpsgithub.comdhusebyrustmanualsnapshotsrawmasterruststagedragonflyxedeacdebdafddaeeb.tar.bz
thanks
 
 
 
";Add snapshot for DragonFly;"Related to .
alexcrichton Please upload snapshot httpsgithub.comdhusebyrustmanualsnapshotsblobmasterruststagedragonflyxedeacdebdafddaeeb.tar.bz
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1651;book replace the deprecated sleep function;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove oldio from trplconcurrency.md;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1652;Update of the the Rust Reference so that it mentions isizeusize instead of intuint;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docs replace deprecated integer suffixes from examples;"More uint i|usize and i|u i|us changes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1653;rustc Fix make install;"Move a few docblocks from 'ignore' to something that's not rust e.g. 'text'.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Properly mark example;"This triggers an ICE otherwise 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1654;Fix a few links in the docs;"r steveklabnik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix links in From Into Cursor docs;"Tidied up some more issues with quotebracket nesting. These are the last ones that I could easily find.
r steveklabnik
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1655;cleanup use the for x in xs form instead of for x in xs.iter;"This also implements IntoIterator for HashMaps and HashSets and changes the conditionals for x in option.iter statements to the more readable form if let Somex option. The former looks like an ordinary forloop the later clearly states conditional execution.
r alexcrichton
This needs a snapshot before it can land.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove pointless calls to iter and itermut;"Pull request for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1656;Use the improved submodule handling;r alexcrichton That was a crap... Updating submodules TypeError a byteslike object is required not 'str' Maybe we need to confirm the compatibility of git options such as git config or git C I believe they existed long before though. This is tested locally.     The text was updated successfully but these errors were encountered;Fix x.py;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1657;Task killing linked failure and exit code propagation in the new runtime.;"Some notes about the commits.
Exit code propagation commits

Reimplement unwrap has the same old code from arcunwrap ported to use modern atomic types and finally it's considerably nicer this way
Add tryunwrap has some new slightlytricky but pretty simple concurrency primitive code
Add KillHandle and Add killDeath are the bulk of the logic.

Task killing commits

Implement KillHandlekill and friends Do a taskkilled check and Add BlockedTask implement the killing logic
Change the HOF context switchers turns said logic on

Linked failure commits

Replace rusttask ptrs adapts the taskgroup code to work for both runtimes
Enable taskgroup code does what it says on the tin.

r brson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Implement Optiontake;"Implement Optiontake that replaces the value with None and returns the Option value as it was.
As mentioned in issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1658;Implement BorrowFrom'a T for T with mutable variants;"This should be a more general version of .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";implT BorrowFrom'static T for T;"This is for symmetry with the strbased implementation and allows things
like Map'static u V from rustphf to work properly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1659;WIP Add RawVec to unify raw Vecish code;"Per the top level comment
A lowlevel utility for more ergonomically allocating reallocating and deallocating a
a buffer of memory on the heap without having to worry about all the corner cases
involved. This type is excellent for building your own data structures like Vec and VecDeque.
In particular

Produces heapEMPTY on zerosized types
Produces heapEMPTY on zerolength allocations
Catches all overflows in capacity computations promotes them to capacity overflow panics
Guards against bit systems allocating more than isizeMAX bytes
Guards against overflowing your length
Aborts on OOM
Avoids freeing heapEMPTY
Contains a ptrUnique and thus endows the user with all related benefits

This type does not in anyway inspect the memory that it manages. When dropped it will
free its memory but it won't try to Drop its contents. It is up to the user of RawVec
to handle the actual things stored inside of a RawVec.
Note that a RawVec always forces its capacity to be usizeMAX for zerosized types.
This enables you to use capacity growing logic catch the overflows in your length
that might occur with zerosized types.
However this means that you need to be careful when roundtripping this type
with a BoxT cap won't yield the len. However withcapacity
shrinktofit and frombox will actually set RawVec's private capacity
field. This allows zerosized types to not be specialcased by consumers of
this type.
Edit
fixes and fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc use 'index' and 'value' in place of 'i' and 't';"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1660;Move base out of extra.;"In accordance with the dissolution of libextra this moves base out of libextra and into its own module.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move base and hex from libextra to libserialize;"extrabase serializebase
extrahex serializehex
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1661;iOS fallout of env stab;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";compilation error in std for targetosios;"This patch corrects the following errors
..srclibstdenv.rs error unresolved name superosDLLPREFIX
..srclibstdenv.rs pub const DLLPREFIX 'static str superosDLLPREFIX
 
..srclibstdenv.rs error unresolved name superosDLLSUFFIX
..srclibstdenv.rs pub const DLLSUFFIX 'static str superosDLLSUFFIX
 
..srclibstdenv.rs error unresolved name superosDLLEXTENSION
..srclibstdenv.rs pub const DLLEXTENSION 'static str superosDLLEXTENSION
 

The patch is untested only the compilation was done. The code follow macos definition.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1662;Show span for trait that doesn't implement Copy;"Point at span for trait that doesn't implement Copy.
Given the following code
struct NoCopy

enum Test 
 MyVariantNoCopy


impl Copy for Test 

fn main 
show the following output
errorE the trait Copy may not be implemented for this type
 file.rs
 |
 | MyVariantNoCopy
 | MyVariant defined here
...
 | impl Copy for Test 
 | variant MyVariant does not implement Copy

error aborting due to previous error

Re .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix associated types in copy implementations;"Fixes an ICE and an error in checking copy implementations.
r nikomatsakis
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1663;Allow syntax extensions which modify and decorate;"This adds a new SyntaxExtension type Renovator.
A renovator is a syntax extension which can modify and decorate the items it is attached to the union of MultiModifier and MultiDecorator.
This allows things such as syntax extensions which modify existing methods for types and implement traits all in one.
This shouldn't break any existing code and it only touches unstable compiler internals.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow MultiItemModifier s to expand into zero or many items;"Fixes .
r nrc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1664;Remove implicit shrinking from hashmap.;"Part of enforcing capacityrelated conventions for the collections reform.
Implements fn shrinktofit for HashMap.
The reserve method now takes as an argument the extra space to reserve.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Prevent hashtable shrinking past INITIALCAPACITY on clear.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1665;Show impl for RefCell;"Safe Show impl for RefCell.
I'm open to debate about how to handle the case where tryborrow fails. I went with displaying that the refcell is borrowed to minimize surprises
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Forward Show Eq and Hash to RefCell's contents;"I'm happy to add some tests but none of the existing context did so. I assumed that this code is obviously correct to visual inspection.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1666;resolveunexported resolveunexported to fix pretty printing;"Without this change we were unable to do
 rustc test pretty expanded foo.rs bar.rs
 rustc bar.s
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Purge resolveunexported from the compiler;"This rewrites the test harness generation to create modules that reexport things as needed to make sure all tests are visible.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1667;Add accessors for ioError's inner Error;"The first commit simply forwards ioError's cause implementation to the inner error.
The second commit adds accessor methods for the inner error. Method names mirror those used elsewhere like BufReader.
r alexcrichton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove 'yet to be added' from API docs;"In general this kind of text gets outdated as it already sorta kinda is.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1668;Add saveanalysis data to nightly manifests.;"For use by RLS.
r alexcrichton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add rustanalysis manifest;"Originally in buildbot as rustlangdeprecatedrustbuildbotfe and rustlangdeprecatedrustbuildbotde

Ref rustlangrustup
r nrc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1669;Rename Option in tutorial to workaround iteration bug.;"Fix for .
I opted to rename Option to MyOption so we won't get an error if we simply type in all code.
Explicitly mention that rust has an Option type and in the following code snippets we use rust's built in type. It should be clear what's going on I hope.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";librustc Remove for desugaring;"librustc Stop desugaring for expressions and translate them directly.
This makes edge cases in which the Iterator trait was not in scope
andor Option or its variants were not in scope work properly.
This breaks code that looks like
struct MyStruct ... 

impl MyStruct 
 fn nextmut self Optionint ... 


for x in MyStruct ... ... 

Change adhoc next methods like the above to implementations of the
Iterator trait. For example
impl Iteratorint for MyStruct 
 fn nextmut self Optionint ... 


Closes .
breakingchange
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1670;. release notes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix a minor issue in release note of .;"something renamed from something would be recognized as a link to renamed from something instead of a link with a note after. Use something to solve this issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1671;Add a missing errorreturn case.;"Fixes .
It was a little mistake in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";libsyntaxparse fix missing kind error reporting;"Fixes .
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1672;Add Mathjax Support to Rustdoc;"I'm not super clear on the best way to use TLDs and doc configs but this seems to work and isn't obviously wrong
httpcg.scs.carleton.caabeingesdoccollectionsvecstruct.Vec.html
However the current design interacts weirdly with reexports
httpcg.scs.carleton.caabeingesdocstdvecstruct.Vec.html
Detailed design
Mathjax support will only be enabled on crates that declare docenablemathjax. When enabled mathjax can be used by wrapping math in doubledollars like so \sqrtx \logn . If the dollars are part of a larger block element the content will be rendered inline. If they surround an entire block the math will be rendered in display mode as seen in my example pages. Note the opening 's must be lead by whitespace and the closing 's must be followed by whitespace. Therefore blah blah x. will not render as math because there is no whitespace between the last and the ..
Closes 
Trivializes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";replace LaTeX \bot with actual ?èÑ symbol;"Right now the LaTeXism \bot shows up literally in the manual. This PR replaces the LaTeX with the unicode bottom symbol.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1673;adding Dragonfly x snapshot d;"alexcrichton please upload the following snapshot with this PR.
httpsgithub.comdhusebyrustmanualsnapshotsrawmasterruststageddragonflyxeabddfeccdbbbfaac.tar.bz
 
 
 
";mk Bootstrap from stable instead of snapshots;"This commit removes all infrastructure from the repository for our socalled
snapshots to instead bootstrap the compiler from stable releases. Bootstrapping
from a previously stable release is a longdesired feature of distros because
they're not fans of downloading binary stage blobs from us. Additionally this
makes our own CI easier as we can decommission all of the snapshot builders and
start having a regular cadence to when we update the stage compiler.
A new srcetcgetstage.py script was added which shares some code with
srcbootstrapbootstrap.py to read a new file srcstage.txt which lists
the current stage compiler as well as cargo that we bootstrap from. This script
will download the relevant rustc package an unpack it into targetstage as
we do today.
One problem of bootstrapping from stable releases is that we're not able to
compile unstable code e.g. all the feature directives in libcorelibstd.
To overcome this we employ two strategies

The bootstrap key of the previous compiler is hardcoded into srcstage.txt
enabled as a result of and exported by the build system. This enables
nightly features in the compiler we download.
The standard library and compiler are pinned to a specific stage which
doesn't change so we're guaranteed that we'll continue compiling as we start
from a known fixed source.

The process for making a release will also need to be tweaked now to continue to
cadence of bootstrapping from the previous release. This process looks like

Merge beta to stable
Produce a new stable compiler.
Change master to bootstrap from this new stable compiler.
Merge master to beta
Produce a new beta compiler
Change master to bootstrap from this new beta compiler.

Step above should involve very few changes as master was previously
bootstrapping from beta which is the same as stable at that point in time.
Step however is where we benefit from removing lots of cfgstage and
get to use new features. This also shouldn't slow the release too much as steps
 requires little work other than waiting and step just needs to happen at
some point during a release cycle it's not time sensitive.
Closes 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1674;Remove reference to str in documentation;"Update docs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";str is dead long live String doc fix;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1675;more int and cloned cleanup in collections;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Map clone;"This resolves for the singleletter variables that I could grep. Some occurences could not be replaced.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1676;Reorganize doc index add pointer guide;"This reorganizes the documentation index to be more focused on the intree docs and to clean up the style and it also adds steveklabnik's pointer guide.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed grammar and spelling;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1677;test Ignore prettyhugevec.rs to fix nightlies;"This ignores a test added in because unfortunately the nightly bots are
now broken but this is now tracked in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use lazy range in gdb pretty printers;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1678;std Implement Iteratorsizehint method for Option iterators;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";aggregated small commits;"dbeab rbrson
ebcf rthestinger
cfe rhuonw
caf rhuonw
eeeb rcmr
eaa rthestinger
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1679;Remove feature gate directives for iflet whilelet and tupleindexing .;"This is a revival of per request of alexcrichton now that the new snapshots have landed. We can now remove the last feature gates for iflet whilelet and tupleindexing scattered throughout the test sources since these features have been added to Rust.
Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removing feature directive tupleindexing and iflet as both these features are added to Rust;"While compiling rust I am getting warning regarding tupleindexing and iflet not required as added part of the Rust. I have removed these directives.
rustrustsrclibrustcborrowcklib.rs warning feature has been added to Rust directive not necessary
rustsrclibrustcborrowcklib.rs featuredefaulttypeparams globs iflet importshadowing macrorules phase quote
 
rustsrclibrustcborrowcklib.rs warning feature has been added to Rust directive not necessary
rustsrclibrustcborrowcklib.rs featureslicingsyntax tupleindexing unsafedestructor

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1680;Don't generate dochidden elements;"Fixes .
r brson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rustdoc Don't generate empty files for stripped items;"We need to traverse stripped modules to generate redirect pages but we shouldn't generate
anything else for them.
This now renders the file contents to a Vec before writing it to a file in one go. I think
that's probably a better strategy anyway.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1681;Add a few missing stability attributes; kind of like to be able to use HashState in AnyMap which I can  do without a stability attribute on it. While I was at it I looked around and found a few more missing. Closes .      The text was updated successfully but these errors were encountered;Add unstable to HashState and DefaultState;"Fixed 
r gankro
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1682;Move simd out of unstable;"It's still marked experimental. Also add documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Pull some things out of stdunstable.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1683;Obsolete message for capture clauses.;"See .
This will only detect obsolete capture clause using 'copy'. It seems the move keyword has been completely removed from the parser. Is this alright
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Stop parsing capture clauses;"I also deleted a test that would be entirely useless without capture clauses.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1684;Fix issue number for typemacros gate;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Type macro is tracked at rustlangrust not;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1685;r Intpocalypse book edition.;"Fix all usage of intuintiu in the book.
r nikomatsakis who called this to my attention.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove intuint from the Rust Programming Language book;"Remove int and uint from the Rust Programming Language book replacing
with the most appropriate type in the context iusize when absolutely
needed iu for 'small' integer iu otherwise.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1686;libcore make iterator adaptors Clone able;closes cc Valloric   aturon alexcrichton  Because of I had to move the struct bounds from the where clause into the parameter list    The text was updated successfully but these errors were encountered;Implement Clone for iterator adaptors using functions;"impl Clone wherever the underlying iterator and the predicate mapping
function implement Clone. For example bare functions impl Clone FnMut
so such functions used with .map will produce a clonable iterator.
With this change str's .bytes iterator becomes clonable.
Add a single test that execises .clone on a Map.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1687;Generalize MacExpr MacPat MacItems;"Might be a bit clumsy ...
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";creating convenience types for makedef makestmt makemethods in MacResult;"I was experimenting writing a plugin and noticed that there were convenience types for a few of the methods in the MacResult trait but not for all of them. So I added some for makestmt makemethods and makedef. For the last one I noticed that essentially the same struct existed in macrorules so I removed it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1688;fix in the guide;"There was a link to a non existing guide
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Small documentation link fix;"The lifetime guide was renamed to ownership guide in efea.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1689;Don't run travis tests on master.;"This saves us builders for more helpful purposes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upload linuxx artifacts on try branch.;"This is an experiment to explore generating artifacts for testing with cargobmomb. See rustlangcrater.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1690;When elaborating predicates purge duplicates from the initial vector.;We were already building a hashset to check for duplicates but we assumed that the initial vector had no duplicates. Fixes .  The text was updated successfully but these errors were encountered;Eliminate assoc type projection predicate candidate duplicates;"When projecting associate types for a trait's default methods the
trait itself was added to the predicate candidate list twice one from
parameter environment the other from trait definition. Then the
duplicates were deemed as code ambiguity and the compiler rejected the
code. Simply checking and dropping the duplicates solves the issue.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1691;Rename two instances of MAPNONRESERVE;"To the correct MAPNORESERVE. Every other instance is known as MAPNORESERVE so this is just a basic typo.
I really doubt this will break anybody's but my own code.
breakingchange
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace MAPNONRESERVE by MAPNORESERVE;"Fixes issue .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1692;Minor doc updates;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docs Describe core injection correctly in tutorial;"r brson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1693;f inline msvcdispatched methods;"Should fix but I don't have MSVC and I don't really know how to test whether a function got inlined or not.
This adds featurestmtexprattributes to std in order to eliminate the inner functions.
I also added inline to the functions in mod shims but I am not sure if they are also necessary legal on the extern declarations.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";f inline methods with special variant for msvc;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1694;osd fix null pointer access and race condition;"We are risking of accessing a null osdmap pointer when we failed to handle an osdmap message due to network error.
Also it is not safe to change failurepending without protection of hearbeatlock.
Fixes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Osd shutdown fix;"c is a cleanup that skip hbpeers update when we plan to shutdown.
ebf is a bug fix for bug 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1695;clsrgw listplainentries stops before bilog entries;"listplainentries was using encodeobjversioneddatakey to set
its endkey which gives a prefix of BIBUCKETOBJINSTANCEINDEX
that range between startkey and endkey would not only span the
BIBUCKETOBJSINDEX prefixes but BIBUCKETLOGINDEX prefixes
as well. this can result in listplainentries trying and failing to
decode a rgwbilogentry as a rgwbucketdirentry
Fixes httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgw fix inputoutput err when using radosgwadmin bi list;"Fixes httptracker.ceph.comissues
Signedoffby fang yuxiang fang.yuxiangeisoo.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1696;testfio fix compiler error.;When call .doc make met the following error The text was updated successfully but these errors were encountered;testfiocephobjectstore fix fio plugin build failure by enginedata;"The commit in fio axboefiobfc
changed enginedata to a union which leads build of fiocephobjectstore failed.
Signedoffby Lisa Li xiaoyan.liintel.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1697;doc document rgw bucket quota ttl setting;"Signed off by Ken Dreyer kdreyerredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Document RGW quota cache options;"Quota cache options were undocumented. Issue 
Signedoffby Daniel Gryniewicz dangredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1698;jewel msg IPv Heartbeat packets are not marked with DSCP QoS simple messenger; The text was updated successfully but these errors were encountered;jewel IPv Heartbeat packets are not marked with DSCP QoS simple messenger;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1699;cmake use LINKPRIVATE instead of PRIVATE for CMake version ..;"with version .. i.e. the minimum version required by the building
system we will hit a compile error as follows
 usrbinld cannot find lPRIVATE
 collect error ld returned exit status
 make liblibrbd.so... Error 
 make srclibrbdCMakeFileslibrbd.dirall Error 

Signedoffby runsisi runsisizte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CMake LINKPRIVATE compatibility;"Use LINKPRIVATE keyword instead of PRIVATE in librbd for backward compatibility with cmake ...
Signedoffby heroanxiaobo heroanxiaobogmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1700;luminous cephbluestoretool primeosddir update symlinks instead of bailing;"If the symlink points to the right location do nothing. If it doesn't
replace it. If it's not a symlink bail with EEXIST.
Signedoffby Sage Weil sageredhat.com
cherry picked from commit dedc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc add missing asterisks in .. release notes;"These two missing asterisks caused a formatting meltdown in the list of bullet
points.
Signedoffby Nathan Cutler ncutlersuse.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1701;DNM qa qasuitesupgradejewelxpointtopointx Removed librgw from excludes;"Signedoffby Yuri Weinstein yweinsteredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DNM qa update deb package list;"Include all debs explicitly so that installing a downgrade from the distro
e.g. .. on xenial works.
Related httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1702;rbd return error if we specified a wrong image name for rbd du;"Fixes httptracker.ceph.comissues
Signedoffby Dongsheng Yang dongsheng.yangeasystack.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rbd 'rbd du' of missing image should return error;"Fixes httptracker.ceph.comissues
Reportedby Jason Dillaman dillamanredhat.com
Signedoffby Gaurav Kumar Garg garg.gauravgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1703;mds fix potential null pointer access message reference leak;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";mds add unregister command in the cleanupadminsocket;"add unregister command in the cleanupadminsocket
Signedoffby huanwen ren ren.huanwenzte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1704;DNM jewel rbdmirror gracefully handle missing sync point snapshots;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";jewel rbd rbdmirror include local pool id in resync throttle unique key;"httptracker.ceph.comissues
httptracker.ceph.comissues
httptracker.ceph.comissues
httptracker.ceph.comissues
httptracker.ceph.comissues
httptracker.ceph.comissues
httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1705;mailmap updates;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update mailmap remove name from unaffiliated;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1706;rbdmirror minor fixups for initial skeleton implementation;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix update pool peers;"Right now the update pool peers is not work. So fix it.
Signedoffby Tianqing tianqingunitedstack.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1707;librbd API changes to support separate data pool;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rbdclsrbd silence compiler warnings;"As below
 Building CXX object srctestlibrbdCMakeFilesrbdtest.dirtestfixture.cc.o
In file included from homejenkinsbuildbuildworkspacecephpullrequestssrcclsrbdclsrbd.cc
homejenkinsbuildbuildworkspacecephpullrequestssrcclsrbdclsrbd.cc In function ?Çÿint setfeaturesclsmethodcontextt cephbufferlist cephbufferlist?ÇÖ
homejenkinsbuildbuildworkspacecephpullrequestssrcobjclassobjclass.h warning format ?Çÿlu?ÇÖ expects argument of type ?Çÿlong unsigned int?ÇÖ but argument has type ?Çÿlong long unsigned int?ÇÖ Wformat
 clsloglevel cls sd fmt FILE LINE VAARGS
 
homejenkinsbuildbuildworkspacecephpullrequestssrcobjclassobjclass.h note in expansion of macro ?ÇÿCLSLOG?ÇÖ
 define CLSERRfmt ... CLSLOG fmt VAARGS
 
homejenkinsbuildbuildworkspacecephpullrequestssrcclsrbdclsrbd.cc note in expansion of macro ?ÇÿCLSERR?ÇÖ
 CLSERRAttempting to enable immutable feature PRIu
 
Linking CXX shared library ....liblibclsjournal.so
 Built target clsjournal
Scanning dependencies of target rbdtestmock

 Building CXX object srctestlibrbdCMakeFilesrbdtestmock.dirmockMockImageCtx.cc.o
 CC dbcompactioniterator.o
 Building CXX object srctestlibradosteststubCMakeFilesradosteststub.dirTestClassHandler.cc.o
 CC dbcompactionjob.o
 Building CXX object srctestlibradosteststubCMakeFilesradosteststub.dirTestIoCtxImpl.cc.o
Linking CXX static library ......liblibjournaltestmock.a
 Built target journaltestmock
Scanning dependencies of target rbdapi
 Building CXX object srclibrbdCMakeFilesrbdapi.dirlibrbd.cc.o
homejenkinsbuildbuildworkspacecephpullrequestssrcclsrbdclsrbd.cc In function ?Çÿint getdatapoolclsmethodcontextt cephbufferlist cephbufferlist?ÇÖ
homejenkinsbuildbuildworkspacecephpullrequestssrcclsrbdclsrbd.cc warning ?Çÿdatapoolid?ÇÖ may be used uninitialized in this function Wmaybeuninitialized
 intt datapoolid
 

Signedoffby xie xingguo xie.xingguozte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1708;Doc add comment explaining the method safecat;"Fixes 
Signedoffby johan coquillaud johancoquillaudgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc document include addrparsing.h;"Fixes 
Signedoff by JeanR??mi Deveaux jeanremi.deveauxgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1709;osd fixes for makewriteable;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix misc bugs about snap clone.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1710;checkgenerated.sh can't source bash from sh;"source' is not sh command and executing bash commands in sh won't
work. We could try to replace it with
'. ..qaworkunitscephhelpers.sh'
but the above file uses bash.
Signedoffby Michal Jarzabek stiopagmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testencodingcheckgenerated.sh remove bashism;"the source builtin is a bashism. just use . instead. was introduced
in decf.
this fixes the broken test in httpgitbuilder.sepia.ceph.comgitbuildercephtarballtrustyamdbasiclog.cgilogbcbeafdbe
FAIL testencodingcheckgenerated.sh

.testencodingcheckgenerated.sh .testencodingcheckgenerated.sh source not found

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1711;doc v.. dev release notes;".. release notes upto c added all pending changes as per the PendingReleaseNotes and a small section on RGW server side encryption
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";doc mention RGW encryption in PendingReleaseNotes;"Signedoffby Abhishek Lekshmanan abhisheksuse.com
Signedoffby Nathan Cutler ncutlersuse.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1712;systemd drop setusergroup options from cephosdprestart.sh call;"The setuser and setgroup options were added to the
cephosdprestart.sh call in cfdf
but that script does not support these options.
I peeked at how cephosdprestart.sh is being called in
upstartcephosd.conf and these options are not being provided there.
I don't think they are necessary but if they are they would need to be
implemented in the script somehow.
httptracker.ceph.comissues Fixes 
Signedoffby Nathan Cutler ncutlersuse.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cephosdprestart.sh drop setusersetgroup;"These are not supported by usrlibcephcephosdprestart.sh
resulting in warnings
cephosdprestart.sh getopt unrecognized option 'setuser'
cephosdprestart.sh getopt unrecognized option 'setgroup'
setuser and setgroup are only needed for the cephosd process.
Signedoffby James Page james.pageubuntu.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1713;doc rm reference to Inktank;"Let's avoid refering to a specific commercial vendor in the upstream documentation.
Signedoffby Ken Dreyer kdreyerredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove old references to inktank premium support;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1714;WIP DNM cmake compile libcephfs java native part;"Handy to have this for development ultimately will
need extending to all the java bits for a full cmake
build.
Signedoffby John Spray john.sprayredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cmake add libcephfsjava support;"cbodley mind taking a look thanks.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1715;Don't loop forever when reading data from sized segment.;"The sized segment can arise depending on how
the client uploads the object in the first place.
The cpu loop then happens during a swift GET'.
Signedoffby Marcus Watts mwattsredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";jewel rgw don't loop forever when reading data from sized segment.;"httptracker.ceph.comissues
The sized segment can arise depending on how
the client uploads the object in the first place.
The cpu loop then happens during a swift GET'.
Signedoffby Marcus Watts mwattsredhat.com
cherry picked from commit cf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1716;More CMake package check fixes;"These fix the check for yasm and the inclusions of gperftools. CMake now fails if yasm isn't installed and the stub CPU profiler is used if gperftools wasn't found.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cmake Removed files and fixed cephdencoder cmake;"Recent changes made to librbdreplay were not
applied to cmake and caused the cmake build to
fail also applied an old patch for yasm in cmake
Signedoffby Ali Maredia amarediaredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1717;mon calculate reportersbysubtree when adjustheartbeatgrace is false;"In the case monosdadjustheartbeatgrace is set to false should
also calculate reportersbysubtree.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";monosdmonitor decouple adjustheartbeatgrace and mindownreporters;"if cancel monosdadjustheartbeatgrace we must set monosdmindownreporters to zero.
otherwise the next checking for
reportersbysubtree.size gconfmonosdmindownreporters
will allways be fail.the two options should take effect respectively...
Signedoffby Zengran Zhang zhangzengranhc.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1718;common typofix for osdcheckmaxobjectnamelenonstartup;"Fixes a typo introduced in f
Signedoffby Robin H. Johnson robin.johnsondreamhost.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";configopts.h fix a typo that prevents compilation;"Signedoffby Willem Jan Withagen wjwdigiware.nl
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1719;rgw fix CORSACLs metadata processing in Swift API;"Fixes httptracker.ceph.comissues

CC yehudasa oritwas.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgwswift fix updating metadata failed for swift CORS;"I found it doesn't work when I try to update the CORS metadata
of swift buckets. as the following steps


use the following command to create a swift bucket and post the CORS metadata
swift post swiftbkt H XContainerMetaAccessControlAllowOrigin http... H XContainerMetaAccessControlRequestMethod HEADPOSTPUTGETOPTIONSDELETE


use the command to update the AccessControlAllowOrigin attr
swift post swiftbkt H XContainerMetaAccessControlAllowOrigin http... H XContainerMetaAccessControlRequestMethod HEADPOSTPUTGETOPTIONSDELETE


test the CORS access my swift bucket swiftbkt from the website at ...


then I got the following failed log message
 . fbefef Read RGWCORSConfigurationCORSConfiguration xmlnshttps.amazonaws.comdocCORSRuleAllowedMethodGETAllowedMethodAllowedMethodPUTAllowedMethodAllowedMethodDELETEAllowedMethodAllowedMethodHEADAllowedMethodAllowedMethodPOSTAllowedMethodAllowedMethodCOPYAllowedMethodAllowedOriginhttp...AllowedOriginCORSRuleCORSConfiguration
 . fbefef There is no cors rule present for http...

the AllowedOrigin has not yet updatestill http... so maybe we should not
use emplace which will not update the attrs if they are already present in attrs.
Signedoffby Yan Jun yan.junzte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1720;crush add missing tunable in tests;"Signedoffby Loic Dachary loicdachary.org
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testcrush adjust for new default default tunnable;"see also 
Signedoffby Kefu Chai kchairedhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1721;Fast read for erasure coding pool and erasure code error handling;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fast read for erasure coding pool;"As discussed with athanatos we would like to implement the fast read as a pool setting. This is a reimplementation according to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1722;rbdnbd code cleanup and fix generic option issue;"Fixes httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rbdnbd add htonl to cleanup rbdnbd code;"Signedoffby tang.jin tang.jinistuary.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1723;kraken tests qaworkunitsrbdimportexport.sh breaks jewelxsingleton test;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";kraken tests qatasksworkunit Backport repo fixes from master;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1724;cmake fix the build on AArch;"The PR comes from because the origin one is in a mess.
Reconstruct the cmake files extrace one common module from srcCMakeLists.txt.
And update the related CMakeLists.txt files.
When compile the Ceph UT because the msse and msse are hardcoded in
the testCMakeLists.txt the Ceph UT build fail in AArm. Fix the issue.
Signedoffby tone.zhang tone.zhanglinaro.org
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ARM fixes;"Three things to fix build on arm. The changes for jerasure and test should not affect x but the rocksdb update certainly might marking needsqa because of that.
We need a CI builder for arm. Something happened to the Caviumsupplied gitbuilder and I'm not sure what.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1725;Don't loop forever when reading data from sized semgment.;"The sized segment can arise depending on how
the client uploads the object in the first place.
The cpu loop then happens during a swift GET'.
This version of the patch no assert handles DLO with only empty segments.
Signedoffby Marcus Watts mwattsredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hammer rgw Don't loop forever when reading data from sized segment.;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1726;jewel rgw make sending ContentLength in and controllable;"This commit introduces a new configurable rgw print prohibited
content length to let operator decide whether RadosGW complies
to RFC a part of the HTTP specification or violates it
but follows the Swift's behavior.
Fixes httptracker.ceph.comissues
Signedoffby Radoslaw Zarzynski rzarzynskimirantis.com
cherry picked from commit dee
Signedoffby Matt Benjamin mbenjaminredhat.com
cherry picked from commit acabaaea
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";jewel rgw make sending ContentLength in and controllable;"This is a Jewel backport of PR .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1727;rgw don't store empty chains in gc;"Fixes httptracker.ceph.comissues
Signedoffby Yehuda Sadeh yehudaredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgw Do not record head only objects in GC;"Fixes httptracker.ceph.comissues
Signedoffby Pavan Rallabhandi PRallabhandiwalmartlabs.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1728;jewel radosgw valgrind invalid read size RGWGetObj;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";jewel rgw valgrind invalid read size RGWGetObj;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1729;jewel osd do not send ENXIO on misdirected op by default;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DNM jewel osd do not send ENXIO on misdirected op by default;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1730;cleanup code for RecoveyMessages;"liewegas log time ago i sent first patch but it don't merge into masteri think it's my fault see this . Send again.
 
 
 
 
 
 

 The text was updated successfully but these errors w";osd avoid empty transction when read in ec pool;"If i am not miss something the transaction would be emtpy in norecovery read.
I think this PR is good for ec pool because it reduce a transaction writen to journal and filestore.
Signedoffby Xinze Chi xmdxcxzgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1731;test Thrasher update pgpnum of all expanded pools if not yet;"waiting for healthy
otherwise the ceph health complains with
all OSDs are running luminous or later but the 'requireluminousosds'
osdmap flag is not set
ceph.restart task will timeout and fail at seeing this warning.
so we need to set the osdmap flag after upgrading all OSDs. and call
ceph.restart again to see if the cluster is healthy or not.
Signedoffby Kefu Chai kchairedhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";qaradosupgradejewelxsingleton run luminous.yaml at the end;"renumber too
Signedoffby Sage Weil sageredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1732;ceph.spec.inBuildRequires sharutils;"sharutils rpm is not needed in fedora.
sharutils rpm only a dependency on opensuse.
So this conditional is not needed.
Signedoffby Owen Synge osyngesuse.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ceph.spec.in Changes needed to support mock git builds on Fedora .;"You can't build git versions of ceph without... git
The other packages where added out of safety.
Signedoffby Ira Cooper irasamba.org
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1733;buffer make usable outside of ceph source again;"Add a radosbufferfwd.h symlink and remove the include prefix from
buffer.h.
Signedoffby Josh Durgin jdurginredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";librados fix invalid path;"The bufferfwd.h will be install to
usrincluderadosbufferfwd.h.
So the includebufferfwd.h is a invalid
path for the thirdpart source code which
include the librados.hpp.
Signedoffby Yunchuan Wen yunchuan.wenkylincloud.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1734;DNM tests.testobjectcopycannedacl ... FAIL;"httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgw don't preserve acls when copying object;"Fixes for the following issues
issue httptracker.ceph.comissues
issue httptracker.ceph.comissues
issue httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1735;FileStoredofiemap do not reference fiemap after it is freed;"It looks like cfa tried to fix this but didn't go far enough. We still
access last which is derived from fiemapfmextends if islast is false.
Signedoffby Brad Hubbard bhubbardredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";osfilestore fix clang static check warn useafterfree?Ç£;"httppeople.redhat.combhubbardscanbuildreportbb.htmlEndPath
last is a member of fiemap free filemap after using last.
Signedoffby liuchang liuchanggmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1736;rbdmirror potential crash during image status update;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rbdmirror explicitly disable status updates on stopping replay;"Otherwise there is still a chance of delayed update being fired by a
working thread after mlocalioctx is destroyed.
Fixes httptracker.ceph.comissues
Signedoffby Mykola Golub mgolubmirantis.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1737;pybindcephargparse remove the invalid test;"remove the invalid test in
testcephargparse.TestOSD.testreweightbyutilization
introduced in aad
Fixes 
Signedoffby Kefu Chai kchairedhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testpybindtestcephargparse fix reweightbyutilization tests;"Signedoffby Sage Weil sageredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1738;osd kill all remaining MOSDSubOp users;"Replace them with new messages. Keep some handling around for the jewel luminous upgrade we can remove MOSDSubOpReply entirely postluminous.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MOSDSubOp remove old code.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1739;msgasyncrdma Preparation for RDMACM multidevice support;"Hi yuyuyu Adirl orendu saritz Couldn't find the alias of Daniel
This code is not a final version yet it is only an RFC
I wanted you to take a look to let me know if there is something fundamentally wrong with it.
This is a preparation for RDMACM support.
It moves the device initialization into the moment that the first connection is established In RDMACM we don't know which device will be used before we start the connection establishment process.
Also since now multidevices could be used polling had to be changed.
Lots of stuff was moved from Infiniband into the Device class since it is per device now.
Amir
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";msgasyncrdma Move resource handling to Device;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1740;DNM Parallel Mon client connect Fixes httptracker.ceph.comissues;"Signedoffby Steven Dieffenbach sdieffenredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";monMonClient hunt monitors in parallel;"Fixes httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1741;rgwcommon fix error return value of hextobuf.;"We should return negative value if error happens otherwise
the caller may run into exceptions. eg rgwswiftverifysignedtoken
will not return as follow
 int ret hextobuftoken p.cstr len
 if ret 
 return ret
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgwrgwswiftauth.cc remove unused variable;"Signedoffby Michal Jarzabek stiopagmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1742;DNM Client flush dirty caps when forcing sync setattr;"The comment was incorrect and we want to make it true.
Signedoffby Greg Farnum gfarnumredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";mds fix client capmessage replay order on restart;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1743;rbd refactor cli command handling;"In preparation for new RBD features such as RBD mirroring that will required numerous new CLI commands the current monolithic rbd utility has been refactored to simplify its future maintenance.

commands are selfregistering with the cli command argument processor
help is dynamically generated for a given command via rbd help command name

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rbdcheck the image name if it is empty string return error and give a messagemaybe a simpler way;"add a judgment after function setpoolimagenameimgname ... to make it no need to call function docreate in case OPTCREATE.
before
input rbd create size 
output . fdc librbd error adding image to directory Invalid argument
rbd create error Invalid argument
after
input rbd create size 
output rbd image name was not specified
Signedoffby chenyehua chen.yehuahc.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1744;Wip rgw highres;"Depends on the librados stat change.
There are unfixed warnings marking places where new header parseemit may be needed. Will fix after merge.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Wip rgw highres;"adapt rgw to use higher resultion clock
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1745;cmake update FUSEINCLUDEDIRS to match autoconf;"clientfusell.cc is now including fuse.h and fuselowlevel.h
instead of fusefuse.h and fusefuselowlevel.h so we need to add
the fuse directory to the FUSEINCLUDEDIRS variable
using findpath with just fuse.h was finding a usrincludefuse.h
instead of the one in usrincludefuse. looking for fusecommon.h and
fuselowlevel.h first causes it to generate the correct
FUSEINCLUDEDIRSusrincludefuse
Fixes 
Signedoffby Casey Bodley cbodleyredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CMake fixes;"Just rebased on master and found these bits weren't quite working. I'm actually not sure what happened with cephfuse as I thought it was working before.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1746;add scrub persistquery API;"httptracker.ceph.comissues Fixes 
test for this PR cephcephqasuite
related blueprintdiscussion can be found at

httpcomments.gmane.orggmane.comp.filesystems.ceph.devel
httptracker.ceph.comprojectscephwikiOsdScrubandRepair
httppad.ceph.compscrubrepair

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Wip scrub optimization;"Scrub optimization
Step 
'ceph pg getinconsistentpgs ' which gets the ids of all inconsistent pgs
Step 
'ceph pg getinconsistentobjects' which gets the ids of all inconsistent objects
in a specified pg
Step 
'ceph pg getinconsistentinfo ' which gets the inconsistent information
of the specified object
Step 
'setscrubreadshard' which enables to set the target osd to read the specified copy
of an object to determine which one to use for repairing
Step 
'ceph pg repairobject ' which uses the object on a specified osd to repair
the other copies
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1747;common remove basename dependency;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";commonconfig add string describing when parse configure file failed.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1748;mdsMDCache kill a comipler warning;"homejenkinsbuildbuildworkspacecephpullrequestssrcmdsMDCache.cc In member function ?Çÿvoid MDCacherequestcleanupMDRequestRef?ÇÖ
homejenkinsbuildbuildworkspacecephpullrequestssrcmdsMDCache.cc warning unused variable ?Çÿwasreplay?ÇÖ Wunusedvariable
bool wasreplay mdrclientrequest mdrclientrequestisreplay
Signedoffby xie xingguo xie.xingguozte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";mds fix a compiler warning about unusedvariable;"has removed the use of this variable so remove it should be safe.
Signedoffby runsisi runsisizte.com.cn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1749;rgwadd a new error message for accesskey conflict when using Admin Ops;"Fixed 
Signedoffby Weijun Duan duanweijunhc.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rgw add missing error code for admin op API;"From httpdocs.ceph.comdocsmasterradosgwadminops corresponding error code should be returned for bad request
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1750;doc fix mon osd down out subtree limit option name;"The name of the parameter mon osd down out subtree limit
was incorrect with downout instead of down out.
Furthermore the description seemed to me a little bit
ambiguous.    Lafont francois.lafontacversailles.fr
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update monosdinteraction.rst;"Correcting a space error to match what is required in ceph.conf to apply this change.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1751;jewel tests drop old rados singleton upgrade tests;"These two tests have been failing consistently in all runs. The old packages
they need are not available in the build system and fixing this is not worth
the trouble.
Inspired by httpgithub.comcephcephqasuitecommitdbebebeabededcf
Fixes httptracker.ceph.comissues
Signedoffby Nathan Cutler ncutlersuse.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";qa Removed dumplin test .yaml as not needed anymore;"Signedoffby Yuri Weinstein yweinsteredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1752;Check that deltasum.stats.sum.numobjectcopies and deltasum.stats.sum...;"....numobject are greater than zero
This fixes division by zero.
Signedoffby BJ Lougee almightybeeijgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";mon do not divide by zero in PGMap recovery summary;"Although it does not crash it displays inf instead of a valid float and
the json output is invalid.
httptracker.ceph.comissues Fixes 
Signedoffby Loic Dachary loicdachary.org
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1753;jewel several backports;"httptracker.ceph.comissues
httptracker.ceph.comissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";OSDMonitor avoid underflow in reweightbyutilization if maxchange;"Fixes httptracker.ceph.comissues
Signedoffby Samuel Just sjustredhat.com
cherry picked from commit cbc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1754;activerecord Apply associations to base class' descendants;"currently associations added later with freedom patching are not propagated into descendants.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Subclasses should inherit associations from parents;"Fixes Subclass misses association defined on parent


I can add a test to check on SpecialUser.reflections'comments' but I wasn't sure if that was digging too deep into Active Record internals ?ÿ¼
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1755;safeconstantize Added Object scoped missing test cases;"For more details please see 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add test cases for safeconstantize;"The issue was fixed by a but there are no tests covering it.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1756;Always use SQL limit in Relationlast when limit argument given;"Using Relationlast causes entire relation to be loaded into memory.
In most cases it is unacceptable
 Topic.ordercreatedat.last
 SELECT FROM topics ORDER BY createdat
We can still use reverseorder to let SQL do heavy lifting AR is quite bad at that.
 Topic.ordercreatedat.last
 SELECT FROM topics ORDER BY createdat DESC LIMIT 
Unfortunately back to in this commit fc it wasn't done. And x unfortunately this commit added tests that need to be modified now.
dmathieu do you still remember something about it
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use LIMIT sql word in last with order;"Related PR 
prymain User.orderfoo asc.last
 User Load .ms SELECT users. FROM users ORDER BY users.foo DESC LIMIT 

prymain User.orderfoo asc.last
 User Load .ms SELECT users. FROM users ORDER BY users.foo ASC
I think this behavior is incosistent and inefficient. I fixed it to
prymain User.orderfoo asc.last
 User Load .ms SELECT users. FROM users ORDER BY users.foo DESC LIMIT 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1757;Added Edited ActiveModelErrors test cases.;"Added test cases to demo the difference between include and empty
Make size and count behave consistently.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Simplify and alias ActiveModelErrors methods where possible;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1758;Fix broken link to ActiveJob documentation;"Since ActiveJob is in a beta release the current link returns 
httpapi.rubyonrails.orgclassesActiveJobQueueAdapters.html
In order to have a valid link the URL must be
httpedgeapi.rubyonrails.orgclassesActiveJobQueueAdapters.html
I think it's better to point at edgeapi than to a broken link.
The original URL can be restored as soon as .. is officially released.
ci skip
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix ActiveModel ActiveRecord ActiveJob README links;"The 'Learn More' links in the READMEs for ActiveModel and ActiveRecord that previously pointed to nonexistent .html files have been updated to point to the corresponding .rb files in the source. In addition a dead link to the Rails API for ActiveJobQueueAdapters has been replaced with a link to the queue adapters directory in the source and a link to the Edge Rails API for ActiveJobQueueAdapters for convenience.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1759;Fix info page style;"When I click link About your application's environment at welcome page the page style such as font background color etc are broken. see the following images.
This cause is that the partial page loaded by xhr contains their own css.
So I stop containing css in loaded page.

Before click

After click

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed style break when clicking About your application?ÇÖs environment on norootroutewelcome page;"Fixed style break when clicking About your application?ÇÖs environment on norootroutewelcome page
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1760;updated unicode version;"I was testing how Active Support encode decode works and reading about unicode
Found from here httpwww.unicode.orgversionsUnicode.. that unicode latest version is ..
Would it be feasible to update the unicode version 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update to Unicode ..;".. was released on September .
httpunicodeinc.blogspot.com.arannouncingunicodestandardversion.html
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1761;fixforreverseorderwithfunctions;"fix for reversesqlorder using regexp for details of bug see pull request 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Incorrect SQL generated for .last when ordering uses an SQL function;"I bumped into a problem with using COALESCE in sorting but it's relevant to any function like min or max.
When I have an order defined as COALESCEt.field t.field all works great until .last is used. ActiveRecord was generating invalid SQL select whatever from t ORDER BY COALESCEt.field DESC t.field DESC LIMIT .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1762;ci skip Remove links to railsdocrails;"Since httpsgithub.comrailsdocrails is not publicly available
are we better off without Not Found links in the documentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove mentions of docrails;"The railsdocrails GitHub repo has moved from public to private status
recently so it makes sense to remove references to it in the
documentation to avoid confusion.
ci skip
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1763;Support local in TextHelper.pluralize;"Add support for locale in TextHelper.pluralize. Make argument optional and en by default. Unless the helper use String.pluralize without local and it's always en
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow pluralize helper to take a locale.;"This is already supported in ActiveSupportInflectorpluralize and Stringpluralize so we just forward the locale.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1764;ARBasebecomes should change errors base to new object;"The current implementation of ARBasebecomes throws an exception whenever the new class validates something the super class doesn't 'know' e.g. the presence of an associated object.
class Company ActiveRecordBase
end

class Client Company
 belongsto account
 validatespresenceof account
end

company Company.new
client company.becomesClient
client.valid

 NoMethodError undefined method account' for Companyxacd
This happens because since ARBasebecomes copies the errors information but doesn't change the base instance variable of the related ActiveModelErrors object to the transformed object.
In my opinion there are two alternatives

Fix the bug I attached a pull request with a failing test and bugfix
Revert . The whole behaviour could be misleading because your errors object could contain messages of validations which were overwritten by the new class.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ActiveRecordBasebecomes should retain the errors but use new base.;"Upgrading of 
According to documentation of ActiveModelErrorsinitialize

Pass in the instance of the object that is using the errors object.

Some subclass can have different validations and fields. And it is a place for potential errors. See new test for example.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1765;Change mysql waittimeout default value to avoid exceeding the max value allowed by MySQL;"I had some trouble with the mysql gem and my remote database it kept losing the connection MysqlError MySQL server has gone away. I discovered that the default timeout value set by activerecord for mysql exceed the max value allowed by MySQL . Perhaps it should cap it to this max value...
It's my very first pull request so be indulgent if I don't respect some basic rules I may not know...
Everything is explained here 
httpstackoverflow.comquestionsrailsmysqlerrormysqlserverhasgoneaway
brianmariomysql
Julien
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Maximum waittimeout on Windows is;"As documented on MySQL's site this is the maximum value for Windows. We should use the least common denominator. Also done in the old branch ..x of mysql gem and .
 httpdev.mysql.comdocrefman.enserversystemvariables.htmlsysvarwaittimeout
 httpsgithub.combrianmariomysqlblob..xlibactiverecordconnectionadaptersmysqladapter.rbL
 brianmariomysqlff
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1766;Replaced Latch with CountDownLatch in concurrentruby gem;"Replaced the usage of Latch in actionpacktestdispatchliveresponsetest.rb actionpacktestcontrollerlivestreamtest.rb activerecordtestcasesconnectionpooltest.rb and activerecordtestcasesbasetest.rb with CountDownLatch in concurrentruby gem. Also changed Gemfile to add the gem and deleted the latch.rb file because it is not needed any more.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace ActiveSupportConcurrencyLatch with ConcurrentCountDownLatch from concurrentruby.;"This update was suggested by tenderlove in a discussion on one of his PRs to concurrentruby.

The concurrentruby gem is a toolset containing many concurrency utilities. Many of these utilities include runtimespecific optimizations when possible. Rather than clutter the Rails codebase with concurrency utilities separate from the core task such tools can be superseded by similar tools in the more specialized gem. This commit replaces ActiveSupportConcurrencyLatch with ConcurrentCountDownLatch which is functionally equivalent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1767;Update ActionCable Rebroadcasting a Message documentation;"Summary
Replace broadcastto with ActionCable.server.broadcast to be inline with its partner streamfrom.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix ActionCable Rebroadcasting a Message code example;"In ActionCable's guide Rebroadcasting a Message the example does not work.
streamfor chatparamsroom will stream from chatroom but ChatChannel.broadcasttochatparamsroom ... will broadcast to chatchatroom.
Switching to streamfor will make it stream from chatchatroom and fix the example.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1768;Correct caller tracking in delegated deprecation methods;"Without this we're relying on the pathbased caller stripping to skip over the extra level of inframework caller... and that doesn't always work. Fixes closes .
The filenamebased caller filter makes this hard to test at the moment but it basically changes
irbmain def retiredmethod ActiveSupportDeprecation.warn use bettermethod instead nil end
 retiredmethod
irbmain retiredmethod
DEPRECATION WARNING use bettermethod instead called from retiredmethod at irb
 nil
irbmain retiredmethod
DEPRECATION WARNING use bettermethod instead called from retiredmethod at irb
 nil

incorrectly blaming retiredmethod as being the caller
into
irbmain def retiredmethod ActiveSupportDeprecation.warn use bettermethod instead nil end
 retiredmethod
irbmain retiredmethod
DEPRECATION WARNING use bettermethod instead called from irbbinding at irb
 nil
irbmain retiredmethod
DEPRECATION WARNING use bettermethod instead called from irbbinding at irb
 nil

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix deprecationcallermessage to display right fileline;"Summary
since I've upgraded to rails all deprecations are shown to be coming from inside the framework.
Other Information
Before
DEPRECATION WARNING aliasmethodchain is deprecated. Please use Moduleprepend instead. From module you can access the original method using super. called from aliasmethodchain at homemathieu.rvmgemsruby..gemsactivesupport...libactivesupportcoreextmodulealiasing.rb
DEPRECATION WARNING aliasmethodchain is deprecated. Please use Moduleprepend instead. From module you can access the original method using super. called from aliasmethodchain at homemathieu.rvmgemsruby..gemsactivesupport...libactivesupportcoreextmodulealiasing.rb

After
DEPRECATION WARNING aliasmethodchain is deprecated. Please use Moduleprepend instead. From module you can access the original method using super. called from classAmbiguous at homemathieu.rvmgemsruby..gemscucumberpriority..libcucumberpriorityambiguouserrorext.rb
DEPRECATION WARNING aliasmethodchain is deprecated. Please use Moduleprepend instead. From module you can access the original method using super. called from classSupportCode at homemathieu.rvmgemsruby..gemscucumberpriority..libcucumberprioritysupportcodeext.rb


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1769;Refactor handling of action default in routing;"The longstanding convention in Rails is that if the action parameter is missing or nil then it defaults to 'index'. Up until Rails ...beta this was handled slightly differently than other routing defaults by
deleting it from the route options and adding it to the recall parameters.
With the recent focus of removing unnecessary duplications this has exposed a problem in this strategy we are now mutating the request's path parameters and causing problems for later url generation. This will typically affect urlfor rather a named url helper since the latter explicitly pass controller action etc.
The fix is to add a default for action in the route class if the path contains an action segment and no default is passed. This change also revealed an issue with the parameterized part expiry in that it doesn't
follow a right to left order as soon as a dynamic segment is required then all other segments become required.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WIP Don't mutate the racall hash as it's not ours;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1770;database.yml.example created in app generator;"database.yml.example is created with project along with database.yml
database.yml has also been gitignored.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Changing gitignore template to ignore files with sensitive data by default;"Not sure if is valid but I'm opening this PR to discuss it. I think it could be useful to avoid security issues by default.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1771;Fixing the active record has many association test which is failing w?Çª;"Summary
Test failed when run bundle exec rake testsqlite. So I thought just fix it.
Please let me know more information on this
Other Information
but working fine when i ran single file
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactored method ActiveRecordConnectionAdaptersPostgreSQLSchemaStatementsdefaultsequencename . Refactored test HasManyAssociationsTesttestdonotcallcallbacksfordeleteall .;"Refactored method ActiveRecordConnectionAdaptersPostgreSQLSchemaStatementsdefaultsequencename
Fixed confusing behavior
connection.defaultsequencename'accounts' false
connection.defaultsequencename'accounts' nil

Refactored test HasManyAssociationsTesttestdonotcallcallbacksfordeleteall
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1772;config.ignoreforcesslfilter so filter can be ignored in any desired;"This is revised request of which simply hardcoded the production environment. Not sure about grabbing Rails.configuration from forcessl works but nothing else seems to be doing that...
config.forcessl the name which was suggested already exists for globally forcing ssl.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";SSL should not be disabled by default in any environment.;"Disabling SSL in any environment should be a decision made by each individual developerteam really not keen on Rails forcing this. Also I think it's far better to have a consistent environment as much as possible across all environments. So this patch removes the Rails.env.development check in forcessl.
As a related aside I've just been working on a gem that makes it far easier to use SSL in development and Capybaradriven test environments. It's built with bartt's version of sslrequirement in mind but I'm keen to have it work with forcessl as well I didn't realise it existed until just now.
httpsgithub.comfreelancinggodthinglazed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1773;Better support for ARB.wherebelongstoassoc val which previously generated invalid SQL;"Using the name of an association in where previously worked only
if the value was a single ActiveRecrdBase object. e.g.
Post.whereauthor Author.first

Any other values including nil would cause invalid SQL to be
generated. This change supports arguments in the where query
conditions where the key is a belongsto association name and the
value is nil an Array of ActiveRecordBase objects or an
ActiveRecordRelation object.
 Given the Post model
class Post ActiveRecordBase
 belongsto author
end

 nil value finds records where the association is not set
Post.whereauthor nil
 SELECT posts. FROM posts WHERE posts.authorid IS NULL

 Array values find records where the association foreign key
 matches the ids of the passed ActiveRecord models resulting
 in the same query as Post.whereauthorid 
authorsarray Author.find Author.find
Post.whereauthor authorsarray

 ActiveRecordRelation values find records using the same
 query as Post.whereauthorid Author.wherelastname Emde
Post.whereauthor Author.wherelastname Emde

Polymorphic belongsto associations will continue to be handled
appropriately with the polymorphic associationtype field added
to the query to match the base class of the value. This feature
previously only worked when the value was a single ActveRecordBase.
class Post ActiveRecordBase
 belongsto author polymorphic true
end

Post.whereauthor Author.wherelastname Emde
 Generates a query similar to
Post.whereauthorid Author.wherelastname Emde authortype Author

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix PredicateBuilder to handle nil value passed to Relationfindby;"Fix PredicateBuilder to handle nil value passed to Relationfindby in case of an association attribute.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1774;Added assertrequiredkeys method to hash;"Similar to assertvalidkeys method assertrequiredkeys method validates if all requiredkeys that was passed exists in hash keys
For example
 year .assertrequiredkeysyear month raises ArgumentError Key month is required
Useful when you need check if required options was passed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added Hashassertrequiredkeys to emulate required keywords;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1775;distanceoftimeinwords inconsistency between code and documentation;"distanceoftimeinwords documentation isn't consistent on what the method does.
distanceoftimeinwords.minute .seconds
should return
 minutes
but is returning
 minute
So either the method documentation or the code itself are wrong.
I've pullrequested a solution assuming that the error is in the code rather than in the documentation.
Any suggestions
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Distance of time in words should work correct if from time totime;"In accordance with documentation httpsgithub.comrailsrailsblobmasteractionpacklibactionviewhelpersdatehelper.rbL distanceoftimeinwords should have the same result independent of args order.
Because of leap years trick httpsgithub.comrailsrailsblobmasteractionpacklibactionviewhelpersdatehelper.rbL result for long time distances can differ.
In the test case which I added result was 'about years' instead of 'almost years
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1776;Adding support for passing a block to the addsource action of a custom generator;"This PR adds support for passing a block to a call to addsource in a custom generator.
class AddSourceGenerator RailsGeneratorsBase  def addsourcewithblock  addsource 'httpsgems.github.com' do   gem 'rspecrails'   I do have a question about the best way to add the gems to the Gemfile. The addsource action uses prependfile instead of appendfile to place the source call at the top of the Gemfile. In order to get the gem calls inside the block to also prepend I needed to change the gem method to use prependfile when called from addsource. This seems to work OK. My concern with this is that the gems are added in reverse order that they are declared in. If we wanted to preserve the order I think I would need to change this to append the source calls if addsource is passed a block. Let me know if you have a preference on the above or anything else in the PR.  The text was updated successfully but these errors were encountered";addsource in Application Template should take a block for gem entries;"Since newer versions of Bundler complain when you have multiple source in Gemfile without specifying a block for gem entries group from that source Application Template generator's addsource method should also take a block.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1777;Support for custom regular expression for numbertodelimeted;"The format for placement of delimiter varies in currencies like INR where instead of . the number would be .. This adds support to allow user to provide custom handling of how the placement of delimiter is derived.
Changes 

Extracted DELIMITEDREGEX to delimitedregex method and made use of user passed optionsdelimitedregex if available. Changed DELIMITEDREGEX to DEFAULTDELIMITEDREGEX to signify what it means.
Added tests for number to delimited and number to currency in both actionview and activesupport.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding ability to override currency format REGEX in ActiveSupport numbertocurrency helper;"Currently numbertocurrency has a hard coded REGEX to format currency string.
There are use cases where a different format mask is desired for example in India currency formatting is different.
This Pull request moves the hard coded REGEX into the options hash so that it becomes possible to pass a different REGEX to override the default.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1778;Accept channel identifiers with no backslashesescaping;"Fixes 
Allow channel identifiers with no backslahesescaping to be accepted by
the subscription storer. Also subscriptions are now identified by their
escaped JSON keys. For example \channel\\RoomChannel\ is
now identified by channelRoomChannel in the global
subscriptions hash.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ActionCable action params passed in as hash with indifferent access;"Summary
This pull request makes two changes

Calls withindifferentaccess on any Hash that is passed back to the target action on an ActionCable channel. This makes it fall in line with what is expected from params in an ActionController.
Does not attempt to JSON decode an object that is not a String. This means that the incoming JSON can be ... data hello world as well as working with what it had to be before ... data \hello\ \world\. The result is the same but the protocol between server and client is changed is this documented anywhere

Other Information
Added a test to make sure the second point above has an associated test with the changed behavior.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1779;Fix default key length on cipher;"We default to using aescbc as our verificationsigning cipher. It can accept key lengths of or bit whereas currently we were providing twice the acceptable value.
ruby . allowed accepting these values as extra key bits were ignored. Since rubyrubyce this now has a strict checking on key length.
Default to key length bytes to match the compatible length for aescbc
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix MessageEncryptorTest;"By r commit on Ruby OpenSSLCipherkey raises
ArgumentError when too long key is passed.
In Rails test cases aescbc is used.
Key length of aescbc is bits bytes.
SecureRandom.hex generates words string
which is bytes.
Change to use SecureRandom.randombytes to generate
 bytes key.
ref httpssvn.rubylang.orgcgibinviewvc.cgirevisionviewrevision
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1780;When deleting through records take into account association conditions;"Fixes .
When deleting through records it didn't take into account the
conditions that may have been affecting join model table but was
defined in association definition.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";take association conditions into account When deleting through records;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1781;Allow accessing the current nested index for a form builder.;"When using fieldfornestedattributes you should be able to access the current autogenerated nested index so that you can embed it in a view for use by JS.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add method FormBuilderindex;"This is a followup for the idea discussed with josevalim in this pull request 
The idea is to add a method in the form builder object to have access to the current index useful when using fieldsfor iterations if you need to know the element index.
Here there is another thread requesting this feature 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1782;Convert ping from an identifier to a messagetype;"Removes notion of internal identifiers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ActionCable Add a welcome and ping message type;"Summary
This pull request does three things

Fixes inconsistencies in the ActionCable protocol between server and client in regards to the ping message by making ping a message type instead of an identifier.
Adds a welcome message type which signals to clients the server is ready or has reopened the connection.
Removes ConnectionMonitor as a subscriber as this is no longer necessary when pings and welcome messages can be identified separately.

Other Information
The ping message was being sent looking like
identifier ping message 
whereas other messages were being sent to look like
type confirmsubscription ...
Now the ping looks like
type ping message 
Consequently this enabled some code to trick the client and tests to be removed and for some clean up in how the ConnectionMonitor works.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1783;Fix FinderMethodsexists sql generation to make picky sql servers happy;"Minimal change to query generation of FinderMethodsexists that makes SQLServer and others happy that do not like columns without an alias.
Without this patch MSSQLServer doesn't like the generated SQL and barks for FinderMethodsexists ie
ActiveRecordStatementInvalid ActiveRecordJDBCError No column was specified for column of 't'. SELECT t. FROM SELECT ROWNUMBER OVERORDER BY huhu.id AS rownum FROM huhu WHERE huhu.id AS t WHERE t.rownum BETWEEN AND 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix MSSQL and Firebird .exists problem issue;"MSSQL and Firebird DBs require the fake column to named.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1784;Improve Action Cable message encoding decoding;"This centralizes all parsing and processing methods in
a ActionCableConnectionUtils concern which is then included for
use within the library.
All payload parsingprocessing is done immediately in
ActionCableConnectionBasereceive
ActionCableConnectionSubscriptions once again uses idkey as
the identifier for subscriptions within the global hash. This was only
changed in the first place to accomodate payload parsingprocessing.

See and for previous discussion regarding this.
Likely still more work to be done with this but this is a start at
trying to organize this logic in a way that is easier to understand.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cable message encoding;"Introduce a connection coder responsible for encoding Cable messages
as WebSocket messages defaulting to ActiveSupportJSON and ducktyping to any object responding to encode and decode.
Consolidate encoding responsibility to the connection. No longer
explicitly JSONencode from channels or other sources. Pass Cable
messages as Hashes to transmit and rely on it to encode.
Introduce stream encoders responsible for decoding pubsub messages.
Preserve the currently raw encoding but make it easy to use JSON.
Same duck type as the connection encoder.
Revert recent data normalizationquoting which treated
identifier and data values as nested JSON objects rather than as
opaque JSONencoded strings. That dealt us an awkward hand where we'd
decode JSON strings?Çª or not but always encode as JSON. Embedding
JSON object values directly is preferably no extra JSON encoding
but that should be a purposeful protocol version change rather than
ambiguously inadvertently supporting multiple message formats.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1785;Add defaultproc copying in HashWithIndifferentAccess;"Add defaultproc copying for HashWithIndifferentAccess.newfromhashcopyingdefault HashWithIndifferentAccessdup HashWithIndifferentAccesstohash
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";activesupportindifferentaccess fix not raising when defaultproc does;"Ran into this with our Rails application HashWithDifferentAccess's behaviour is not consistent with Ruby when defaultproc is set and cloned and when it raises.
h HashWithIndifferentAccess.new
h.defaultproc proc |h k| raise OMG 
h.dup
 RuntimeError OMG
h 
h.defaultproc proc |h k| raise OMG?Ç¥ 
h.dup
 
This PR fixes dup and tohash to set defaults safely when defaultproc raises by avoiding to call into it.
\cc byroot arthurnn rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1786;Inverse of on build;"Problem
When building a new relationsany type of relation we need to setup the inverseof association.
See 
Solution
Call .setinverseinstance on the association parent. Also remove setinverseinstance from addtotarget on collection as we build it before and we dont need that extra call.
review rafaelfranca robin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed a stack level too deep problem when validating a record.;"Autosaved associations validates nested records and if there are
inverse associations it will result a recursion. Solution is to
mark valid records so that they can be skipped when inverse
associated records are validated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1787;Use sh instead of Ruby script for yarn binstub;"Seeing as yarn already uses sh for their binstub httpsgithub.comyarnpkgyarnblobmasterbinyarn we opt to use sh as well. The main reason for this being that boot times for some interpreters i.e. jruby are rather slow. This makes for a much better UX for these users.
See 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix binstop binstub typo in railties changelog.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1788;Fixe reverseorder incorrect behavior;Fixed incorrect behavior in situations when the string containing function comes in method order. for example SUBSTR  Sybase SUBSTRfield   MySql SUBSTRfield   Postgresql SUBSTRfield   Sqlite SUBSTRfield   Oracle SUBSTRfield   DB SUBSTRfield  was used as means for dividing fields where sorting takes place as a result of that invalid sql was generated example Post.order'SUBSTRname '.reverseorder.tosql expected SELECT posts. FROM posts ORDER BY SUBSTRname DESC got SELECT posts. FROM posts ORDER BY SUBSTRname DESC DESC DESC This fixes the incorrect behavior. for that purpose i added private method splitorderexpressions that split only by expected Other behavior was not affected.    The text was updated successfully but these errors were encountered;Reverse order;"Current implementation of reverseorder will produce invalid SQL from any valid ordervalues if they contain either

NULLS FIRST or LAST or
an expression with a comma either as an argument separator or part of a string literal

This PR fixes this. The first case is handled with dealing more carefully with the last words the second case is dealt by parsing the SQL string if necessary so it is split correctly.
Note while the examples given in the tests are simplistic I discovered this issue when trying to reverse actual orders by geographical distance.
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1789;Corrected secretkeybase;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Insert missing underscore in CookieStore docs;"Summary
This PR updates the documentation for the CookieStore class so that it properly references the secretkeybase config option instead of secretkey base.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1790;Hashdeepkeys recurse into nested arrays.;"Update of .

Fix a typo.
Squash commits.
Rebase to recent upstream.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for Hashdeeptransformkeys and Hashdeeptransformkeys;"The methods Hashdeepstringifykeys and Hashdeepsymbolizekeys are not working as I would expect. They do not stringify or symbolize keys of hashes that are contained in nested arrays. For example I would expect
hash 'a' 'b' 'c' 

hash.deepsymbolizekeys
 a b c expected behavior

hash.deepsymbolizekeys
 a b 'c' actual behavior
Digging through the source it became apparent that the culprit is the method Hashdeeptransformkeys. It does not traverse hashes that are contained in nested arrays. I've modified both Hashdeeptransformkeys and Hashdeeptransformkeys to traverse hashes in nested arrays and added additional test cases for these scenarios. These changes result in the expected behavior of Hashdeepstringifykeys and Hashdeepsymbolizekeys and their corresponding bang methods.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1791;show correct class name in migration inherited directly error;"Follow up to fa
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Show subclass name in the migration error instead of the Class;"self.class is class Class which is not really useful in the error message.

r matthewd
Should I add a test for this
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1792;Add support for using nested travel method;"One of my friend saw that while working on an issue about rubygems it would be great if we can use nested travel methods and asked me to implement this.
By this way we can use nested travel methods in our tests. For example
travel .day do
 Foo.dosomething This method depends on Time.now and it has mock value lets say A

 travel .day do
 Bar.doanotherthing This method depends on Time.now and it has mock value lets say B
 end

 Zoo.doyetanotherthing This method depends on Time.now and it has mock value as A
end
In current implementation we can't use nested travel methods because when the execution of deepest travel method finishes Time.now returns back to original Time.now.
Lets see this in an example like above
travel .day do
 Foo.dosomething This method depends on Time.now and it has mock value lets say A

 travel .day do
 Bar.doanotherthing This method depends on Time.now and it has mock value lets say B
 end

 Zoo.doyetanotherthing This method depends on Time.now and it returns the original Time.now
end
As you can see we've expected that Time.now will return A but it returns original Time.now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";traveltravelto travel time helpers now raise on nested calls;"r rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1793;Fix default value in guide ci skip;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix stated default value for escapehtmlentitiesinjson;"With a fresh Rails .. app the effective value of this configuration is true whereas the documentation says it is false
 rails v
Rails ..

 rails new foobar
...

 cd foobar

 rails console
Loading development environment Rails ..
 Rails.application.config.activesupport.escapehtmlentitiesinjson
 nil
 ActiveSupport.escapehtmlentitiesinjson
 true
 x foo foo 
 foo foo 
 puts x.tojson
foo \u \uc\uefoo \u \uc\ue
 nil
 ActiveSupport.escapehtmlentitiesinjson false
 false
 puts x.tojson
foo foo 
 nil
The default value for this is defined here
httpsgithub.comrailsrailsblobstableactivesupportlibactivesupportjsonencoding.rbL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1794;Modified usage of if .empty to if .any which reads better;Thanks    The text was updated successfully but these errors were encountered;Use any for better readability;"Remove the double negative
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1795;add ActionControllerParametersreversemerge;"Summary
Currenty ActionControllerParameters dosen't have reversemerge and reversemerge.
By using reversemerge you can write behaviors like default values.
 before
paramsage unless paramsage

 after
params.reversemergeage 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added reversemerge reversemerge to ACParameters;"Hey guys ?æï 
Added reversemergereversemerge to ACParameters

This PR adds the reversemerge and reversemerge methods to ActionControllerParameters
Fixes 




Q
A




Branch
Master


Fixes



New feature
yes


Tests pass



BC breaks
no



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1796;ActiveSupportHashWithIndifferentAccess select and reject should return enumerator if called without block;"According to Ruby spec select and reject should return enumerator if called without block. Until now if no block was given HashWithIndifferentAccess returned self instead of enumerator this commit fixes such behavior.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ensure HashWithIndifferentAccessselect is consistent with Hash.select;"Ensure HashWithIndifferentAccessselect is consistent with Hash.select
with or without block

This will ensure HashWithIndifferentAccessselect is consistent with Hash.select
with or without block.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1797;partialLoop notice;Here is a test and a fix that will show the notice in the nested partialloop;fixed typo;No description provided.;0
1798;Allow use of setRequired at different positions;"Zend\InputFilter\Input would return falsetrue depending of when setRequired was called. This PR fixes that so it does not matter anymore when setRequired is called.
This is not a fix for but an issue I noticed looking into issue .";Zend\Config\Writer\PhpArray needs to use varexport for strings not addslahes;"Hotfixconfig writer phparray needs to respect the power of the double quote when producing an array configuration file.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1799;bugfix removing multiple fieldsets does't work;"at the same time iterating collection items and removing causes problem
When we have items but we delete second and third. It fails and does not remove third element. So we have to move remove out of foreach";More explicit name for requested name;No description provided.;0
1800;remove versioncompare check for PHP ..;as we already require ..;shortcircuit rendering if no messages;No description provided.;0
1801;Update ZendValidate.php for id for .;Created for id language;added a submodule loading to testCanLoadMultipleModules;"I added a testassertion in testCanLoadMultipleModules for loading namespaced modules modules with a slash in their name. Although testCanLoadSomeObjectModule already loads a submodule this test does it without using the ModuleObjects.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1802;update ZendValidate.php resource file for .;"add Timezone MessageTemplates
update class name Float IsFloat Int IsInt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add auto escape method to Zend\View\Helper\FlashMessenger;"Added methods setAutoEscape and getAutoEscape to Zend\View\Helper\FlashMessenger as proposed in issue .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1803;zf fixed issue with inconsistent getTrait behaviour;"Made getTraits to behave the same was a parent method return null only in case of error and empty array otherwise
Added phpdoc comment
Added tests for getTraits";Make allowObjectBinding configurable for Fieldsets;"While working on a module with form annotations I bumped into a problem

I created a ComposedObject annotation with iscollection false so a Fieldset.
Next I added a Hydrator annotation for this fieldset only.
The fieldset did not get populated with the attached object.

This is because there is no object attached to the fieldset yet while binding a new object.
Therefor it should be configurable which objects are allowed and which not.
This commit will make it possible to use
 
 Form\ComposedObjecttargetobject Application\Entity\Connection iscollection false options 
 useasbasefieldset false
 allowedobjectbindingclass Application\Entity\Connection
 
 Form\Flagspriority 
 Form\HydratorApplication\Hydrator\Connection
 
 var \Application\Entity\Connection
 
 protected connection
When an object is bound to the form the getConnection will return a Application\Entity\Connection instance. Therefore the custom hydrator will be used and the form will work as suspected.";0
1804;Fixed form collections with nested fieldsets that implements InputfilterProviderInterface;"Here is a fix for the usage of collections and the InputFilterProviderInterface.
The problem was If you're using getInputFilterSpecification for your fieldsets and embed them in a collection the input filters were never added to the form resulting in errors when using setValidationGroup or the inability to bind data to nested fieldsets.
The fix also ensures that infinite nested collections with InputFilterProviderInterfacefieldsets are working correctly.";fix strange exception message in Mysqli connection;"Calling commit before rollback is obvious strange
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1805;update variable name myParams to pageParams;No description provided.;ArrayUtilsmerge replaced arraykeyexists to isset for performance;"minor performance tweak for ArrayUtilsmerge since arraykeyexists chokes on larger arrays.
here are some performance comparisons and some considerable performance improvement
a. using isset and b
httpvl.orgubuVs
b. using only isset
httpvl.orgmTvKJ
c. original arraykeyexists
httpvl.orgegnKV";0
1806;Test for percentage sign in Zend\Db\Sql\Expression;Additional test for to make sure percentage signs inside SQL functions are preserved the way they are.;.. .. missing dump;No description provided.;0
1807;Get correct expression string when Zend\Db\Sql\Expression is used;"Fix for .
The processing of Zend\Db\Sql\Expression assumed the value of part was the correct value to be used however when an instance of Zend\Db\Sql\Expression is provided the correct value is in Zend\Db\Sql\ExpressiongetExpression.";Hotfixvarious fixes;Makswbec is the most important patch in this pr;0
1808;implements tests's todo of ZendTest\Http\Header\AuthorizationTest;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Change hardcoded event name by its constant.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1809;replace selfEOL with PHPEOL as AbstractHtmlElementEOL is deprecated;see httpsgithub.comzendframeworkzfblobmasterlibraryZendViewHelperAbstractHtmlElement.phpLL;Adding Zend\Console\Getopt option callback hooks;"Based on some todo annotations present in this class I've added the ability to use callbacks when options are parsed. This feature addresses several of these todo annotations.
 Triggering callbacks for options when present
You can now trigger a callback for any option that is present. For example suppose you wish to trigger a callback when the option apples is passed either by it's short form a or by it's alias apple. Here is how you could do this
opts new Getoptarray
 'a|apple|appless' 'Specify a type of apple you want to eat.'


optssetOptionCallback'apple' functionvalue
 echo You want a value apple

As soon as you call optsparse the callback will be called assuming you passed a Gala appleGala or applesGala on the command line. Furthermore the value Gala will be passed by value to the first callback parameter.
 Invalidating usage by returning false
Using a callback you can return false to indicate that there is an issue with the way an option was used. Perhaps there is a dependance on some other value that must be present. For example
opts new Getoptarray
 'fruit|fs' 'The kind of fruit you would like to eat.'
 'a|apple|appless' 'Specify a type of apple you want to eat.'


optssetOptionCallback'fruit' functionvalue opts
 if value 
 technically optional so return
 return
 

 if value 'apple' 
 echo You like this kind of fruit value.
 return
 

 if value 'apple' null apple optsgetOption'apple' 
 return false
 you could also just throw a Exception\RuntimeException here too if you want more specificity
 

 echo You like apples specifically apple.

Notice that you can specify a nd argument to the callback which is the instance of Getopt you're currently working with. This allows you to check on other command line parameters should you need to.
This also accomplishes conditionally required parameters from the command line. Here both options are technically optional but specifying fruitapple will trigger the apple requirement. You can use callbacks to accomplish conditional logic in this manner.
Other todo requests
Handle flags that implicitly print usage message e.g. help this can easily be accomplished using a callback. Since Getopt class should never be dealing without output the way to deal with this would be to attach a callback that throws the Exeption\RuntimeException method with the usage information. You can then use exception handling to print out the error message in the existing error handling for console apps
try 
 opts new Getopt params 
 optssetOptionCallback'help' functionval opts
 throw new Exception\RuntimeException'Usage' optsgetUsageMessage
 
 optsparse
 catch Exception\RuntimeException e 
 echo egetMessage . PHPEOL
 echo egetUsageMessage
 exit

Enable user to specify header and footer content in the help message. This class does not deal with output. The previous example could simply add headerfooter information to the printing of the exception message and usage message wherever appropriate. This would simply be the programmers choice.

Excerpt of class doc block
 
 todo Handle flags that implicitly print usage message e.g. help
 
 todo Enable user to specify header and footer content in the help message.
 
 todo Feature request to handle option interdependencies.
 e.g. if b is specified a must be specified or else the
 usage is invalid.
 
 todo Feature request to implement callbacks.
 e.g. if a is specified run function 'handleOptionA'.";0
1810;increase loop performance by assign count to variable;"test 
data range 

timestart microtimetrue
for i i countdata i 


timeend microtimetrue
time timeend timestart

echo 'uses count in iteration take time ' . time

timestart microtimetrue
for i count countdata i count i 


timeend microtimetrue
time timeend timestart

echo 'uses assignment of count before iterated first take time ' . time
echo \r\n
Result 
uses count directly in iteration take time .
uses assignment of count before iterated first take time .";Implemented writeTextBlock method in Zend\Console\Adapter\AbstractAdapter;"I noticed that the Zend\Console\Adapter\AbstractAdapterwriteTextBlock method was not implemented so I implemented it added tests and ran phpcsfixer.
Also in order to be able to verify how this method writes data I added an array to the test asset class ConsoleAdapter. Without this tracking array the output buffering doesn't correctly show which data I expect since there isn't a way to track text in between calls to AbstractAdaptersetPos.";0
1811;Use and in null checks instead of and;"Test 
foo 
if foo null 
 echo 'foo is null'
 else 
 echo 'foo is not null'


n if foo null 
 echo 'foo is null'
 else 
 echo 'foo is not null'  Result 
Test with 
foo is null
 
Test with 
foo is not null

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";travis Replace ANT parallel run with GNU parallel command;"Based in Composer TravisCI run
This version is more faster and shows the output early.";0
1812;Zend\Code\Generator\ClassGenerator can not generate final classes;"Zend\Code\Generator\ClassGenerator accepts a final flag but does not generate code for final classes.
I've added a test and fix I restricted the implementation to declaring the class either abstract or final not both. httpphpsadness.comsad Preference was given to abstract classes so as to not break any existing code that set both abstract and final flags.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update userguide manual link;at INSTALL.md;0
1813;daemon remove kernel version check and DOCKERNOWARNKERNELVERSION;"All regular nonEOL Linux distros now come with more recent kernels
out of the box. There may still be users trying to run on kernel .
or older some embedded systems e.g. but those should be a rare
exception which we don't have to take into account.
This patch removes the kernel version check on Linux and the corresponding
DOCKERNOWARNKERNELVERSION environment that was there to skip this
check.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile.buildx bump to Go ..;"Looks like this Dockerfile was not yet updated possibly because go mod issues when building buildx ...
Given that the upstream repository uses vendoring I

removed the go mod download step
added modvendor to use vendoring mode

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1814;daemon use RWMutex for stateCounter;"Use an RWMutex to allow concurrent reads of these counters
Originally added in to address 
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";containerd.installer refactor;"add set e to prevent linting warnings
use install instead of cp
use a subshell for the whole function instead of starting one
inside it.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1815;. Update Go to ..;"Includes security fixes for cryptoelliptic CVE mathbig CVE
and cmdgo CVE.
go.. released includes security fixes to the cryptoelliptic
mathbig packages and to the go command as well as bug fixes to the compiler
linker runtime the go command and the debugmacho debugpe nethttphttptest
and testing packages. See the Go .. milestone on our issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swagger reformat and wrap to chars;"Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1816;Update Go to ..;"Includes security fixes for cryptoelliptic CVE mathbig CVE
and cmdgo CVE.
go.. released includes security fixes to the cryptoelliptic
mathbig packages and to the go command as well as bug fixes to the compiler
linker runtime the go command and the debugmacho debugpe and nethttphttptest
packages. See the Go .. milestone on our issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Makefile remove empty targets and slight refactor;"The empty binary dynbinary and cross targets at the top were only useful to provide the description for make help.
This patch splits the actual binary dynbinary and cross targets to separate lines introducing some slight duplicated code but making it slightly easier to read and removing the empty targets.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1817;vendor fsnotify v.. mobysysmountinfo v.. mobysyssignal v..;"vendor github.comfsnotifyfsnotify v..
full diff fsnotifyfsnotifyv.....v..
Relevant changes

Fix unsafe pointer conversion
Drop supporttesting for Go . and earlier
Update xsys to latest
add gobuild lines
add go . to test matrix

vendor github.commobysysmountinfo v..
full diff mobysysmountinfov.....mountinfov..

Add MountedFast Note most users should keep using Mounted which already
incorporates all optimizations from MountedFast

vendor github.commobysyssignal v..
full diff mobysyssignalv.....signalv..

add LCOW supported signals to windows signal map

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make binary install all containerd shims to bundles;"The containerd.installer was updated to also copy containerdshimruncv in but hackmakebinarydaemon did not copy it to the bundles directory.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1818;vendor.mod googlegocmp v.. golang.orgxoauth v..fabc containerd v..;"followup to replacing some more replace rules
vendor github.comgooglegocmp v..
Remove the replace rule and use the version as specified by indirect dependencies
full diff googlegocmpv.....v..
vendor golang.orgxoauth v..fabc
Remove the replace rule and use the version as specified by indirect dependencies
full diff golangoauthbfbf...fab
vendor github.comcontainerdcontainerd v..
no significant changes in vendored code we already updated imagespec to v..
full diff containerdcontainerdv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor buildkit v..geaa;"full diff mobybuildkitbcff...ea

mobybuildkit Avoid creation of irrelevant temporary files on Windows

backport of mobybuildkit for the docker.v. branch



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1819;remove some redundant fmt.Sprintf's;"Had this stashed in my local git so thought to push it as a PR most changes are in testcode except for the libnetworknetworkdb code.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor sort imports to prevent vendoring race condition;"If both a versioned and nonversioned version of a dependency
exists in vendor.conf the longest path should be cloned last
otherwise the versioned dependency may be deleted when cloning its
nonversioned variant.
For example with the following vendor.conf
github.comcoreosgosystemdv v..
github.comcoreosgosystemd v

Running vndr would

recursively delete vendorsrcgithub.comcoreosgosystemdv
start cloning github.comcoreosgosystemdv
recursively delete vendorsrcgithub.comcoreosgosystemd
start cloning github.comcoreosgosystemd

This would lead to a conflicting situation step . will remove
the dependency that was previously cloned or in the process
of being cloned.
This patch sorts the dependencies by importpath cloning the
shortest import paths first which should prevent the race condition.
This should address the issue seen in comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1820;vendor.mod reduce number of replace rules update some dependencies;"this is a followup to 
Trying to reduce the number of replace rules in our vendor.mod these were added so that switching from vendor.conf to vendor.mod did not cause a large diff in vendored dependencies.
In this PR I removed some replace rules that either caused no diff or were generally safe to update or caused only a minor but reviewable diff. Summary of the changes below
vendor golang.orgxtext v..
to match the version used by golang.orgxcrypto
full diff golangtextv.....v..
vendor golang.orgxtime v..ffcec
Remove the replace rule and use the version as specified by indirect dependencies
full diff golangtimeaf...ffce
vendor golang.orgxnet v..ebaddc
Remove the replace rule and use the version as specified by indirect dependencies
full diff golangneteecbb...eba
vendor go.etcd.iobbolt v..
Remove the replace rule and use the version as specified by indirect dependencies
full diff etcdiobboltv.....v..
vendor github.comklauspostcompress v..
Remove the replace rule and use the version as specified by indirect dependencies
full diff klauspostcompressv.....v..
vendor github.compelletiergotoml v..
Remove the replace rule and use the version as specified by indirect dependencies
full diff pelletiergotomlv.....v..
vendor.mod don't replace github.comonsiginkgo github.comonsigomega
They're not vendored so no changes in the vendored code.
vendor.mod don't replace github.comhpcloudtail
It's not vendored so no changes in vendored code
vendor github.comgoogleuuid v..
Remove the replace rule and use the version as specified by indirect dependencies
full diff googleuuidv.....v..
vendor.mod don't replace gopkg.infsnotify.v
It's not vendored so no changes in vendored code
vendor.mod don't replace github.comcontainerdcontainerd
Looks like the replace rule was also matching what we're already vendoring
so we can remove it
github.comcontainerdcontainerd v.. github.comcontainerdcontainerd v..

vendor.mod don't replace github.comstretchrtestify
It's not vendored so no changes in vendored code
vendor github.comgrpcecosystemgogrpcmiddleware v..
removing the replace rule no actual code changes in the vendored files only
some changes in docs.
full diff grpcecosystemgogrpcmiddlewarev.....v..
vendor github.comprometheuscommon v..
Only a single change affecting the vendored code

Support for model.Duration

full diff prometheuscommonv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile update syntax to ..experimental;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1821;fixcheckconfig.sh Check for existence of etcosrelease before sourcing;"What I did
Fixed a bug in the checkconfig.sh script when the system does not have the file etcosrelease. If this file does not exist then the script dies when trying to source the file and does not continue with the rest of the checks. This was obs";vendor sirupsenlogrus v..;"full diff sirupsenlogrusv.....v..

Ability to DisableHTMLEscape when using the JSON formatter
Supportfixes for go .
Many many bugfixes
Add flag to disable quotes in TextFormatter

relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1822;. backport daemongraphdriverfuseoverlayfs Init fix directory permissions staticcheck;"backport of 
daemongraphdriverfuseoverlayfsfuseoverlayfs.go SA file mode '' evaluates to did you mean '' staticcheck
 if err idtools.MkdirAllAndChownpath.Joinhome linkDir currentID err nil 
 

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor konsortengowindowsterminalsequences v..;"full diff konsortengowindowsterminalsequencesv.....v..
Fixes a panic when using logrus on Go .
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1823;hackvendor.sh run go mod tidy before vendoring;"relates to

 comment
 comment
 comment

The hackvendor.sh script is used to revendor dependencies. However it did
not run go mod tidy before doing so wheras the vendor validation script
did.
This could result in vendor validation failing if go mod tidy resulted in
changes which could be in vendor.sum.
In usual situations this could be easily done by the user go mod tidy
before running go mod vendor but due to our curent uses of vendor.mod
and having to first set up a dummy go.mod this is more complicated.
Instead just make the script do this so that hackvendor.sh will always
produce the expected result.
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cmddockerd remove outdated experimental annotation;"Follow up to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1824;pkgnamesgenerator remove namesgenerator binary;"This binary was added in but no motivation other than this could be nice. Searching if it's used by anyone I found only two occurrences both of which were just examples or indexing results


 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace errors.Cause with errors.Is errors.As;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1825;Freeze the namesgenerator package against new additions;"See the added commentdocumentation within the package for more details.
We discussed this and the problems it has caused historically in today's maintainer meeting and there was some consensus that starting with a freeze on the existing file is a good compromise for now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugin Add NoLock version of resolvePluginID to fix double Rlock;NOM;0
1826;clientrequest.go SA err.Temporary is deprecated staticcheck;"relates to comment
It's deprecated in Go .
clientrequest.go SA err.Temporary is deprecated Temporary errors are not welldefined. Most temporary errors are timeouts and the few exceptions are surprising. Do not use this method. staticcheck
 if err.Temporary 
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update mobyipvs v..;"full diff mobyipvsv.....v..

Fix compatibility issue on older kernels . where the address
family attribute for destination servers do not exist
Fix the stats attribute check when parsing destination addresses
NetlinkSocketsTimeout should be a constant

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1827;daemongraphdriverfuseoverlayfs Init fix directory permissions staticcheck;"extracting this from as this looked like a genuine bug in case we want to backport this
daemongraphdriverfuseoverlayfsfuseoverlayfs.go SA file mode '' evaluates to did you mean '' staticcheck
 if err idtools.MkdirAllAndChownpath.Joinhome linkDir currentID err nil 
 

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport bump up rootlesskit to v..;"Now rootlesskitdockerproxy returns detailed error message on
exposing privileged ports rootlesscontainersrootlesskit
Full changes rootlesscontainersrootlesskitv.....v..
Backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1828;Dockerfile update golangcilint v..;"Looks like this may be needed for Go . comment
depends on

 
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump up rootlesskit to v..;"Now rootlesskitdockerproxy returns detailed error message on exposing privileged ports rootlesscontainersrootlesskit
Full changes rootlesscontainersrootlesskitv.....v..

Before
 docker contextrootless run it p rm alpine
docker Error response from daemon driver failed programming external connectiv
ity on endpoint clevereuclid cceeefddcbbbbff
ffbce Error starting userland proxy.
After
 docker contextrootless run it p rm alpine
docker Error response from daemon driver failed programming external connectiv
ity on endpoint bravemurdock efbacefdddfdcecaacaccdf
aeafcb Error starting userland proxy error while calling PortManager
.AddPort cannot expose privileged port you might need to add net.ipv.ip
unprivilegedportstart currently to etcsysctl.conf or set CAPNET
BINDSERVICE on rootlesskit binary listen tcp ... bind permission den
ied.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1829;pkgsystem remove unused HasWinKSupport and rewrite IsWindowsClient;"pkgsystem remove unused HasWinKSupport
This was added in eaa to check image compatibility based on Platform.Features
 For now hard code that all base images except nanoserver depend on wink support
if imageData.Name nanoserver 
 imageData.OSFeatures appendimageData.OSFeatures wink


But no longer used since fbc and d 
pkgsystem rewrite IsWindowsClient using golang.orgxsyswindows
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use strings.Index instead of strings.Split;"Since we don't need the actual split values instead of calling
strings.Split which allocates new slices on each call use
strings.Index.
This significantly reduces the allocations required when doing env value
replacements.
Additionally preallocate the env var slice even if we allocate a
little more than we need it keeps us from having to do multiple
allocations while appending.
benchmark old nsop new nsop delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

benchmark old allocs new allocs delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

benchmark old bytes new bytes delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

Found that this function can often be a big allocator in actually the top allocator.
Ideally we wouldn't have to process these every time we start a container or exec but changing this may require changing behaviors and needs a discussion and some deeper changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1830;Remove various leftover LCOW checks;"daemonimages remove leftover LCOW platform checks
This removes some of the checks that were added in cba but should no longer be needed.

ImageService.ImageDelete no need to validate image platform to delete it.
ImageService.ImageHistory no need to validate image platform to show its
history if it made it into the local image cache it should be valid.
ImageService.ImportImage dockerfile.BuildFromConfig is used for
docker container commmit and docker image import. For docker import
it's more transparent to perform validation early.
ImageService.LookupImage no need to validate image platform to inspect it
if it made it into the local image cache it should be valid.
ImageService.SquashImage same. This code was actually broken because it
wrapped an err that was always nil so would never return an error.

image remove leftover LCOW platform checks
This removes some of the checks that were added in cba but should no longer be needed.

imagestore.Delete no need to validate image platform to delete it.
imagetarexportertakeLayerReference use image.OperatingSystem and
fail early to prevent constructing the ChainID.

builderdockerfile remove leftover LCOW platform checks
This removes some of the checks that were added in cba but should no longer be needed.

dockerfile.BuildFromConfig is used for docker container commmit and
docker image import. For docker import we're failing early already.
For commit it won't be possible to have a container that doesn't have the
right operatingsystem so there's no need to validate.
dispatchRequest.getImageOrStage simplify the check all checks resulted
in an error on Windows so it came down to Windows does not support FROM scratch.
dispatchState.beginStage image.OperatingSystem already defaults to the
runtime.GOOS if unset so remove the local default fallback.

daemon remove leftover LCOW platform checks
This removes some of the checks that were added in cba but should no longer be needed.

Daemon.create fix the error message which assumed it could only occur on Windows.
Daemon.cleanupContainer no need to validate container platform to delete it.
Daemon.containerExport if a container was created we should be able to
export it no need to validate.

ImageService.ReleaseLayer remove unused containerOS argument
This looks to be a leftover from LCOW.
daemon.cleanupContainer remove named return variable
It only made the code more difficult to read adding cognitive overload.
layer remove OS from layerstore
This was added in commits fcbf and fbf in support of LCOW but was now always set to runtime.GOOS.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Update CRIU to v. Silicon Willet;"backport of 
full diff checkpointrestorecriuv....v.
Here we have some bugfixes huuuge .py patch for coding style
and nice set of new features like bit for ARM TLS for page
server and new mode for CGroups.
New features

VDSO arm support
Add TLS support for page server communications
Ignore mode for managecgroups
Restore SOBROADCAST option for inet sockets

Bugfixes

Auxiliary events were left in inotify queues
Lazypages daemon didn't detect stack pages and surrounders properly and marked them as lazy
Memory and resource leakage were detected by coverity cppcheck and clang

Improvements

Use gettimeofday directly from vdso for restore timings
Reformat all .py code into pep style

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit fdb
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1831;layer remove unused error return from .Size and .DiffSize;"None of the implementations used return an error so removing the error
return can simplify using these.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cgroup use systemd cgroup driver by default when available;"What I did
Use systemd cgroup driver by default on systemdbased cgroup v hosts because the systemd cgroup driver is always preferred over cgroupfs on systemdbased hosts.
This commit does not affect cgroup v hosts.
 How I did it
 How to veri";0
1832;daemonimages.NewImageService don't print debug logs;"These logs were meant to be logged when starting the daemon. Moving the logs
to the daemon startup code which also prints similar messages instead of
having the images service log them.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";support privileged cgroupnsprivate on cgroup v;"What I did
Support privileged cgroupnsprivate on cgroup v
Fix 
 How I did it
Eliminated extra check
 How to verify it
 docker run d namenginx privileged cgroupnsprivate nginxalpine
 sudo lsns
...
 cgroup";0
1833;. vendor github.comdockerdistribution v..;"full diff thaJeztahdistributionfe...distributionv..
taking my own fork for the diff link as the samuelkarp fork didn't have a reference to the upstream
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor swarmkit bedaaeebaeaaae;"full diff dockerswarmkitb...be

dockerswarmkit Fix leaking tasks.db

backport of dockerswarmkit
addresses single manager docker swarm stuck in Down state after reboot
addresses dockerswarmkit Swarm's tasks.db takes up lots of disk space
addresses dockerswarmkit Possible bugs in task reaper
addresses Docker .. crash



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1834;vendor github.comdockerdistribution v..;"full diff httpgithub.comdockerdistributioncomparedefadf...v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix clusterstoreopt deprecation annotation;"Commit marked this flag as deprecated but inadvertedtly used the plural which is used for daemon.json but not for the flag name.
This fixes the inccorect name of the flag.
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1835;distribution remove RootFSDownloadManager interface and remove os argument from Download;"distribution remove RootFSDownloadManager interface
This interface only had a single implementation xfer.LayerDownloadManager and all places where it was used already imported the xfer package. Removing the interface also makes it a closer match to the upload part as xfer.LayerUploadManager did not use an interface.
distribution xfer.LayerDownloadManager.Download remove os argument
This argument was added for LCOW support but it was only used to verify if the passed platform OS matched the host. Given that all uses of this function except for one passed runtime.GOOS we may as well move the check to that location.
We should do more cleaning up after this and perform such validations early instead of passing platform around in too many places where it's only used for similar validations. This is a first step in that direction.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ServiceCreateServiceUpdate refactor and fix potential NPE;"ContainerSpec and PluginSpec are mutually exclusive so instead of using two separate ifstatements combine them in a switch.
Use local variables at cost of some slight duplication
Fix a potential NPE if imagedigest resolution failed for a PluginSpec. The code was always using ContainerSpec.Image to create a digestWarning but in case we're resoling the digest for a PluginSpec ContainerSpec will be nil as they're mutually exclusive. This issue was introduced in cbcf where the new PluginSpec path was added.
imageWithDigestString return image unmodified if there are no changes
Instead of returning an empty string return the image unmodified
extract logic for resolving imageplugin digest and platform

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1836;api remove HostConfig.LxcConf field from swagger and docs;"Commit bfac docker . removed support for the LXC runtime and removed the corresponding fields from the API v..
This patch removes the HostConfig.LxcConf field from the swagger definition and documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecate pkgterm and make it an alias for github.commobyterm;"opening as draft pending mobyterm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1837;. backport docs update API v. and v. docs with fixes from apiswagger;"backport of


which is a cherrypick of 
and a cherrypick of 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";daemon remove distributionuuid package;"This appeared to be unused because we no longer generate a uuid using this package.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1838;docs update API v. and v. docs with fixes from apiswagger;"This brings over the fixes from and to the documentation for API v. and v.. The patches didn't apply cleanly to older versions so keeping that for a future exercise.
I applied the patches using the steps below
curl fsSL O httpsgithub.commobymobypull.patch
sed i 'sapiswagger.yamldocsapiv..yamlg' .patch
git am s S .patch git am s S .patch curl fsSL O httpsgithub.commobymobypull.patch sed i 'sapiswagger.yamldocsapiv..yamlg' .patch git am s S .patch 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update containerd to v..;"What I did
Full diff containerdcontainerdv.....v..
The fourth patch release for containerd . adds NOTIFYSOCKET support improves shim loggers shutdown behavior and includes a few bug fixes related to incorrect FIFO clean up and dangling shims";0
1839;dockerpy skip CreateContainerTesttestcreatewithdevicecgrouprules;"relates to

 comment
dockerdockerpy

This test is verifying that the container has the right options set through
docker inspect but also checks if the cgrouprules are set within the container
by reading sysfscgroupdevicesdevices
Unlike cgroups v on cgroups v there is no file interface and rules are handled
through ebpf which means that the test will fail because this file is not present.
From the Linux documentation for cgroups v httpsgithub.comtorvaldslinuxblobv.Documentationadminguidecgroupv.rstdevicecontroller

...
Device controller manages access to device files. It includes both creation of
new device files using mknod and access to the existing device files.
Cgroup v device controller has no interface files and is implemented on top of
cgroup BPF. To control access to device files a user may create bpf programs
of type BPFPROGTYPECGROUPDEVICE and att

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swarm fix API version detection;"I noticed this while testing some variations of API versions in but using cURL instead of the docker cli or docker client.
While the docker cli may be sending a version header this header is not part of the API or at least should not determin what API version is used.
This code was added in cafdc to adjust the handling of requests when an older version of the API was used but because the code relied on the version header set by the CLI it didn't work with other clients e.g. when using cURL to make an API request.
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1840;. backport Jenkinsfile remove Windows RS as it reached end of support;"backport of 
It was already disabled by default but removing it now that it reached
end of the line.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update buildkit to aeff;"Brings in support for mirrors fallbacks insecure tls and custom tls config.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1841;. backport Fix for lack of syncronization in daemonupdate.go;"backport of 
fixes 

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. update libnetwork bbcfcfbaefccbbabb;"fixes for .
full diff mobylibnetworkcf...bbcfc

mobylibnetwork Fix NPE due to null value returned by ep.Iface

backport of mobylibnetwork
addresses 



Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1842;. backport daemonlogger read the length header correctly;"fixes 
Backport of





Before this change if Decode couldn't read a log record fully
the subsequent invocation of Decode would read the record's nonheader part
as a header and cause a huge heap allocation.
This change prevents such a case by having the intermediate buffer in
the decoder struct.
Fixes .

 What I did
Changing decoder struct to fix .
 How I did it
Changing decoder struct to keep readbutunused bytes.
 How to verify it
Run docker logs f docker run rm d logdriver local alpine cat devurandom devnull. It kills dockerd after a few minutes before the change.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

from httpswww.zooborns.comzoobornstwoverydifferentbabiesemergeatwoodlandparkzoo.html
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update libnetwork afbafebbbeaadd;"fixes 
full diff mobylibnetworkefa...afb

mobylibnetwork produce an error with invalid address pool

addresses dockerd ignores the defaultaddresspool option


mobylibnetwork DOCKERUSER chain not created when IPTableEnablefalse
mobylibnetwork Fix NPE due to null value returned by ep.Iface

carries mobylibnetwork Prevent NPE in addServiceInfoToCluster
addresses Error initializing docker.server while starting daemon by systemd



Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1843;Fixed broken links in project documentation files.;NOM;Improve error feedback when plugin does not implement desired interface;"docker shows a confuse message when you attempt to run a legacy driver that does not implement the desired interface.
Example
docker run logdrivertsuru ubuntu binbash

Before
docker Error response from daemon logger no log driver named 'tsuru' is registered

After
docker Error response from daemon error looking up logging plugin tsuru legacy plugin Plugin does not implement the requested driver.

docker info
Client
 Debug Mode false

Server
 Containers 
 Running 
 Paused 
 Stopped 
 Images 
 Server Version ..ce
 Storage Driver overlay
 Backing Filesystem unknown
 Supports dtype true
 Logging Driver jsonfile
 Cgroup Driver cgroupfs
 Plugins
 Volume local
 Network bridge host ipvlan macvlan null overlay
 Log awslogs fluentd gcplogs gelf journald jsonfile local logentries splunk syslog
 Swarm inactive
 Runtimes runc
 Default Runtime runc
 Init Binary dockerinit
 containerd version dcfafcadcaeafee.m
 runc version dcafeefbfdbebdfadd
 init version fec
 Security Options
 seccomp
 Profile default
 Kernel Version ..arch
 Operating System Arch Linux
 OSType linux
 Architecture x
 CPUs 
 Total Memory .GiB
 Name wilsonredbull
 ID ELEJYHXZLYCATFLBDTKZYHTOAMBREIBHUEVL
 Docker Root Dir varlibdocker
 Debug Mode false
 Registry httpsindex.docker.iov
 Labels
 Experimental false
 Insecure Registries
 ...
 Live Restore Enabled false

WARNING the overlay storagedriver is deprecated and will be removed in a future release.

docker version
Client
 Version ..ce
 API version .
 Go version go..
 Git commit afacbbf
 Built Thu Apr 
 OSArch linuxamd
 Experimental false

Server
 Engine
 Version ..ce
 API version . minimum version .
 Go version go..
 Git commit afacbbf
 Built Fri Apr 
 OSArch linuxamd
 Experimental false
 containerd
 Version v...m
 GitCommit dcfafcadcaeafee.m
 runc
 Version ..rc
 GitCommit dcafeefbfdbebdfadd
 dockerinit
 Version ..
 GitCommit fec

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1844;Removed slack row in contributing.md;"Removed the slack row in the table in contributing.md because the slack
channel doesn't exist anymore.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Bump Golang ..;"backport of 
go.. released includes fixes to the go command the runtime
osexec and time packages. See the Go .. milestone on the issue tracker
for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1845;. update Go to ..;"go.. released includes fixes to the compiler linker runtime
and the nethttp package. See the Go .. milestone on our issue tracker for
details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump Golang ..;"go.. released includes fixes to the go command the runtime
osexec and time packages. See the Go .. milestone on the issue tracker
for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1846;Update Go to ..;"go.. released includes fixes to the compiler linker runtime
and the cryptox nethttp and reflect packages. See the Go .. milestone
on our issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport vendor update goevents to fix alignment for bit systems;"backport of 

relates to mobybuildkit 
relates to mobybuildkit 
relates to dockerbuildx 

full diff dockergoevents...eb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1847;. backport update containerd binary v.. runc v.. and some script changes;"Per discussion on comment

Can we backport this to .
containerd v. EOL is very soon February httpsgithub.comcontainerdcontainerdblobmainRELEASES.mdsupporthorizon

This backports the containerd binary changes to the . branch for testing first roling back reverting the .only commits then cherrypicking the updates from master to preserve history of those commits


revert 


revert 


revert 


revert 


revert 


revert 


revert 


cherrypick 


cherrypick 


cherrypick 


cherrypick 

only the first commit containerd binary not the vendoring changes



cherrypick 

only the first commit containerd binary not the vendoring changes



cherrypick 

only the first commit containerd binary not the vendoring changes



cherrypick 


cherrypick 


cherrypick 


cherrypick 

only the first commit containerd binary not the vendoring changes



cherrypick 

only the first commit runc binary not the vendoring changes



cherrypick 


details below

 httpsgithub.commobymobypull
git revert s S ddeacfabdbadcdeb

 httpsgithub.commobymobypull
git revert s S acfeafbedefbecf
git revert s S dffaadacd

 httpsgithub.commobymobypull
git revert s S efbfacddbbcedcfcdd

 httpsgithub.commobymobypull
git revert s S accecefadd

 httpsgithub.commobymobypull
git revert s S aafdfaeeeba

 httpsgithub.commobymobypull
git revert s S ecaaecfefbddfb

 httpsgithub.commobymobypull
git revert s S fcbffcafbfca

 httpsgithub.commobymobypull
git cherrypick s S x bfbccaebbfccbfdc

 httpsgithub.commobymobypull
git cherrypick s S x cebdfbcbfadb

 httpsgithub.commobymobypull
git cherrypick s S x efcfeefdebfbba

 httpsgithub.commobymobypull
git cherrypick s S x aeafeebabecdbbdddec

 httpsgithub.commobymobypull
git cherrypick s S x cfcdbfdbfbbdafd

 httpsgithub.commobymobypull
git cherrypick s S x abeafdeaeaef

 httpsgithub.commobymobypull
git cherrypick s S x bcebffcfebaabb

 httpsgithub.commobymobypull see if this works
git cherrypick s S x ccaccdedabcafbd
git cherrypick s S x cecbcdedcfddaadcecacd
 conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see below
git cherrypick s S x aaccdceebfcaefcafaa
 conflict because hackdockerfileinstalltomll.installer is not in this branch
git cherrypick s S x ffdaefeadffe
 conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it
git cherrypick s S x bdbbccbdb

 httpsgithub.commobymobypull
 conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see below
git cherrypick s S x babfbaaebefaafb
git cherrypick s S x faabeaeddffef

 httpsgithub.commobymobypull
git cherrypick s S x aeffeccbecdbcbbffa

 httpsgithub.commobymobypull
git cherrypick s S x accebddccbaaad

 httpsgithub.commobymobypull
 conflict in Dockerfile.windows not yet having CONTAINERDVERSION in it see below
git cherrypick s S x dfeadafcffaaebfa
Conflicts in aaccdceebfcaefcafaa and cherrypicks after that due to Dockerfile.windows not yet having CONTAINERDVERSION in it in the . branch
diff cc Dockerfile.windows
index debdfcea..
 aDockerfile.windows
 bDockerfile.windows
 FROM microsoftwindowsservercor
 Use PowerShell as the default shell
 SHELL powershell Command ErrorActionPreference 'Stop' ProgressPreference 'SilentlyContinue'

 HEAD
 ARG GOVERSION..
 ARG GOTESTSUMCOMMITv..

 ARG GOVERSION..
 ARG CONTAINERDVERSION..
 ARG GOTESTSUMVERSIONv..
 aacc Dockerfile use version for some utilities instead of commitsha

 Environment variable notes
 GOVERSION must be consistent with 'Dockerfile' used by Linux.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport api docs fix broken link on GitHub;"backport of 
The pages that were linked to have moved so changing the
links to point to docs.docker.com instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1848;. backport backport fluentd log driver async connect fix;"cherry picks of



fixes 




fixes 
fixes 



Currently the fix for the issue is only merged into master. We want to get released sooner if possible.
This issue shows the impact for AWS customers awsamazonecsagent
And this comment in that issue shows how I tested both the original PR and this backport awsamazonecsagent comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Fix TESTFILTER to work for both integration and integrationcli;"backport of 
The TESTFILTER variable allows running a single integration or integrationcli
test. However it failed to work properly for integrationcli tests.
Before
 Filtering integration tests works
make TESTFILTERTestInspectCpusetInConfigPre testintegration
...
DONE tests in .s

 But running a single test in integrationcli did not

make TESTFILTERTestSwarmNetworkCreateIssue testintegration
...
DONE tests in .s

Trying to manually add the prefix didn't work either because that made the
grep fail to find which testsuites to runskip
make TESTFILTERTestSwarmNetworkCreateIssue testintegration
 Making bundle testintegration in bundlestestintegration
make testintegration Error 

After
make TESTFILTERTestInspectCpusetInConfigPre testintegration
...
DONE tests in .s

make TESTFILTERTestSwarmNetworkCreateIssue testintegration
...
DONE tests in .s

Note that the tests is still a bit misleading because every suite is
started which is counted as a test but no tests are run. This is still
something that could be improved on.
This patch also makes a small modification to the code that's setting
integrationapidirs and no longer runs go list if not needed.
Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit e
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1849;Remove some unused ci scripts;"Some cleaning up of files that are no longer used
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";api docs fix broken link on GitHub;"The pages that were linked to have moved so changing the links to point to docs.docker.com instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1850;Jenkinsfile remove Windows RS as it reached end of support;"It was already disabled by default but removing it now that it reached
end of the line.
Thanks for the reminder tianon ?ÿà httpstwitter.comtianonstatuss

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Reduce allocations for logfile reader;"Before this change the log decoder function provided by the log driver
to logfile would not be able to reuse buffers causing undeeded
allocations and memory bloat for dockerd.
This change introduces an interface that allows the log driver to manage
it's memory usge more effectively.
This only affects jsonfile and local log drivers.
jsonfile still is not great just because of how the json decoder in the
stdlib works.
local is significantly improved.
Relates to dockerforlinux
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1851;Do not panic on empty quoted string argument;"What I did
Fix the handling of empty or single characters command line arguments such as
tlscacert or tlscacert'
 How I did it
Ensure the argument is at least characters.
 How to verify it
Added a unit test to handle both cases
 Descripti";swagger clarify the meaning of Image field in ContainerInspect endpoint;"Container's image term is rather ambiguous it can be both a name and an ID.
Looking at the sources it's actually an image ID so bring some clarity.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1852;awslogs replace channelbased mocks;"What I did
awslogs replace channelbased mocks
related to 
 How I did it
Rewrote the mock so tests define mock functions rather than specifying inputs and outputs via channels. This reduces the overall number and use of channels in the unit t";pkgauthorization Fix test failures on macOS;"On macOS unit tests were failing with
rootcacgosrcgithub.comdockerdockerpkgauthorization go test .
 FAIL TestAuthZRequestPluginError .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
 FAIL TestAuthZRequestPlugin .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
 FAIL TestAuthZResponsePlugin .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
timeTZ levelwarning msgRequest body is larger than '' skipping body
 FAIL TestMiddlewareWrapHandler .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
FAIL
FAIL	github.comdockerdockerpkgauthorization	.s

This change moves the socket creation from a working test directory to a tmp directory
so the path is shorter.
 Description for the changelog
Fix unit test failures for authorization package on macOS
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1853;update containerd binary to v..;"What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but t";On startup actually shutdown the container.;"When a container is left running after the daemon exits e.g. the daemon
is SIGKILL'd or crashes it should stop any running containers when the
daemon starts back up.
What actually happens is the daemon only sends the container's
configured stop signal and does not check if it has exited.
If the container does not actually exit then it is left running.
This fixes this unexpected behavior by calling the same function to shut
down the container that the daemon shutdown process does.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1854;docs fixing execidresize response code in API documentation;"This takes the changes from ae and f and applies them to older API versions in the docs directory which are used for the actual documentation.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Only check variant if set on image.;"This fixes an edge case where some images may not have a variant set
just because it didn't used to get set.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1855;test fix a simple goroutine leak in distributionxfer;"What I did
Fixed a leaked goroutine in a unit test.
 How I did it
Added close channel operation to make the leaked goroutine return
 How to verify it
TestCancelledDownload creates a channel progressChan and creates a child goroutine to range from it.";Fixed typo in inventor comments.;"Kirby and Noyce worked with silicon not silicone

 What I did
fixed spelling error in comments
 How I did it
changed silicone to silicon
 How to verify it
Take apart an ancient integrated circuit and confirm that they're made of silicon and not silicone.
 Description for the changelog
Fixed spelling of silicon in two inventor's contributions
 A picture of a cute animal not mandatory but encouraged
This is Dax

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1856;Fixing execidresize response code in API documentation;"What I did
These commits fix the execidresize endpoint documentation by updating the success code from Created to OK and adding errors such as and errors.
 How I did it
I modified the apiswagger.yaml file and updatedadded the cor";. vendor buildkit bcffccafefabdffc;"full diff mobybuildkitv.....bcff

solver avoid looping over same keys in loadwithparents

brings in a backport of mobybuildkit
to address

mobybuildkit

dockerbuildx

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1857;Use syscall.Timespec.Unix;"Use the syscall method instead of repeating the type conversions for
the syscall.Statt AtimMtim members. This also allows to drop the
nolint unconvert comments.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Switch to sx Ubuntu .;"backport of for the . branch
change didn't apply cleanly because the . branch did not have the USEBUILDX so I ignored those changes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1858;Remove unnecessary exclusions from golangcilint.yaml;"Signedoffby Kazuyoshi Kato katokazuamazon.com

 What I did
Address some TODOs and FIXMEs on golangcilint.yaml
 How I did it
Just adjust them on the YAML file. I don't have to change the actual implementation.
 How to verify it
Relying on Jenkins
 Description for the changelog

NA
 A picture of a cute animal not mandatory but encouraged

from httpswww.zoo.orgambassadoranimalsmammals
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport builder fix concurrent map write;"backport of 
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1859;systemd start dockerd after timeset.target;"What I did
Make docker daemon wait for systemd's timeset.target to be reached so runaway hardwareclocks don't cause certificate issues on boot when using docker swarm on embedded or singleboard computers.
Detailed information can be found in";. backport docs add API versions v. v.;"backport of 
Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch. For each version of the API I picked
the highest release that uses the API to make sure to include possible fixes
in the swagger
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit bae
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1860;daemonlogger refactor followLogs and replace flaky TestFollowLogsHandleDecodeErr;NOM;docs add API versions v. v.;"Similar to 
Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch. For each version of the API I picked
the highest release that uses the API to make sure to include possible fixes
in the swagger
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1861;Remove ioioutil again;"I've added ioioutil again due to . This PR adds golangcilint check and removes ioioutil.

 What I did

Add golangcilint check regarding ioioutil
Remove ioioutil

 How I did it
Same as above 
 How to verify it
I pushed the changes separately to make sure that golangcilint catches the issue correctly.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert vendor update go.etcd.iobbolt v..;"This reverts commit ff .
See

containerdcontainerd Ocasional containerd crashes on CI
etcdiobbolt sweep increased allocation count with v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1862;Add support for platform os and architecture on image import;"fixes 
fixes dockercli
Commit fbf part of added the ability to pass a platform flag on docker import when importing an archive. The intent of that commit was to allow importing a Linux rootfs on a Windows daemon as part of the experimental LCOW feature.
A later commit ba part of changed some of this code to take both OS and Architecture into account for docker build and docker pull but did not yet update the docker image import.
This patch updates the import endpoitn to allow passing both OS and Architecture. Note that currently only matching OSes are accepted and an error will be produced when e.g. specifying linux on Windows and viceversa.
 How to verify it
A test has been added which can be run with
make DOCKERGRAPHDRIVERvfs TESTSKIPINTEGRATIONCLI TESTFLAGS'test.run TestImportWithCustomPlatform' testintegration

...

INFO Testing against a local daemon
 RUN TestImportWithCustomPlatform
 PAUSE TestImportWithCustomPlatform
 CONT TestImportWithCustomPlatform
 RUN TestImportWithCustomPlatform
 RUN TestImportWithCustomPlatform
 RUN TestImportWithCustomPlatform
 RUN TestImportWithCustomPlatformlinux
 RUN TestImportWithCustomPlatformLINUX
 RUN TestImportWithCustomPlatformlinuxsparc
 RUN TestImportWithCustomPlatformmacos
 RUN TestImportWithCustomPlatformmacosarm
 RUN TestImportWithCustomPlatformnintendo
 PASS TestImportWithCustomPlatform .s
 PASS TestImportWithCustomPlatform .s
 PASS TestImportWithCustomPlatform .s
 PASS TestImportWithCustomPlatform .s
 PASS TestImportWithCustomPlatformlinux .s
 PASS TestImportWithCustomPlatformLINUX .s
 PASS TestImportWithCustomPlatformlinuxsparc .s
 PASS TestImportWithCustomPlatformmacos .s
 PASS TestImportWithCustomPlatformmacosarm .s
 PASS TestImportWithCustomPlatformnintendo .s
PASS
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update goevents to fix alignment for bit systems;"relates to mobybuildkit
relates to mobybuildkit
relates to dockerbuildx

full diff dockergoevents...eb
follow up to the changes in and docker so marking for cherrypick
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1863;vendor use go mod rebase after removal of deprecated hostdiscovery;"this is a rebase of to see if it's easy to redo the go mod changes if would be merged first
I made some changes in separate commits could be squashed using this draft PR to check CI.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor pkgerrors v.. mespathgojmespath v..;"vendor add version comments for some dependencies
vendor jmespathgojmespath v..
This update is just adding some typofixes and adding a go.mod but pins it to a tagged release jmespathgojmespathcbe...v..
vendor pkgserrors v.. pkgerrorsv.....v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1864;vendor github.comfluentfluentloggergolang v..;NOM;Bump Golang ..;"go.. released includes fixes to the go command tools the
runtime the toolchain and the cryptocypher package. See the Go ..
milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1865;integrationcli delete existing docker bridge to prevent it interfering;"relates to see discussion there for details
relates to 
A number of tests in the TestDockerDaemonSuite create a custom bridge as part
of the test. In some cases an existing docker bridge could interfere with
those tests. For example the TestDaemonICCLinkExpose and TestDaemonICCPing
verify that no icc communication is possible and for this create a new
bridge with a custom IPrange.
However depending on which tests ran before the test a default docker bridge
may exist e.g. if theTestDefaultGatewayIPvImplicit with the same IPrange
in which iptables rules may have been set up that allow communication and thus
make the icc tests fail.
This patch removes the docker interface at the start of tests that create
their own bridge to prevent it from interfering.
Note that alternatively we could update those tests to use an IPrange that's
less likely to overlap but this may be more brittle but could still be done
in addition to this change as a followup.
To verify these changes
make DOCKERGRAPHDRIVERvfs TESTSKIPINTEGRATION TESTFLAGS'test.run TestDockerDaemonSuiteTestDaemonDefaultGatewayIPv|ICC' testintegrationcli

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";builder fix concurrent map write;"fixes 
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1866;fileutils Avoid compiling a regexp for simple patterns;"If we detect that a pattern is either an exact match prefix match or
suffix match use an optimized code path instead of compiling a regexp.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport seccomp add bit timet syscalls;"backport of 
partially addresses 
Relates to httpspatchwork.kernel.orgpatch
Added to whitelist

clockgetrestime equivalent of clockgetres which was whitelisted
clockgettime equivalent of clockgettime which was whitelisted
clocknanosleeptime equivalent of clocknanosleep which was whitelisted
futextime equivalent of futex which was whitelisted
iopgeteventstime equivalent of iopgetevents which was whitelisted
mqtimedreceivetime equivalent of mqtimedreceive which was whitelisted
mqtimedsendtime equivalent of mqtimedsend which was whitelisted
ppolltime equivalent of ppoll which was whitelisted
pselecttime equivalent of pselect which was whitelisted
recvmmsgtime equivalent of recvmmsg which was whitelisted
rtsigtimedwaittime equivalent of rtsigtimedwait which was whitelisted
schedrrgetintervaltime equivalent of schedrrgetinterval which was whitelisted
semtimedoptime equivalent of semtimedop which was whitelisted
timergettime equivalent of timergettime which was whitelisted
timersettime equivalent of timersettime which was whitelisted
timerfdgettime equivalent of timerfdgettime which was whitelisted
timerfdsettime equivalent of timerfdsettime which was whitelisted
utimensattime equivalent of utimensat which was whitelisted

Not added to whitelist

clockadjtime equivalent of clockadjtime which was not whitelisted
clocksettime equivalent of clocksettime which was not whitelisted

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit fabf
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1867;seccomp add support for swapcontext syscall in default policy;"What I did
 How I did it
The swapcontext system call is only available on the and bit PowerPC architecture it is
used by modern programming language implementations such as gccgo to
implement coroutine features through userspace context swit";Rename newer buildshell target to build;"These two targets seem interchangeable just that the old build target
always built the final Dockerfile target even if the source was going
to be bind mounted anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1868;system unbreak build for darwin;"regression from 
Ideally CI could catch similar issues in the future. Atm it doesn't as dockerd is not built on darwin but packages are used in cli buildx etc that do have darwin builds.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";LCOW add nolcow build tag to allow disabling lcow;"relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1869;. backport daemon.WithCommonOptions fix detection of usernamespaces;"Cherrypick 

Commit daee added support for nonprivileged containers to use ICMPPROTO used for ping. This option cannot be set for containers that have usernamespaces enabled.
However the detection looks to be incorrect HostConfig.UsernsMode was added in e ee and the property only has meaning if the daemon is running with user namespaces enabled. In other situations the property has no meaning.
As a result of the above the sysctl would only be set for containers running with UsernsModehost on a daemon running with usernamespaces enabled.
This patch adds a check if the daemon has usernamespaces enabled RemappedRoot having a nonempty value to fix the detection.
 Description for the changelog
 A picture of a cute animal not mandatory but encouraged

The cherrypick was almost clean but userns.RunningInUserNS sys.RunningInUserNS.
diff git adaemonocilinux.go bdaemonocilinux.go
index bbf..ddcbd 
 adaemonocilinux.go
 bdaemonocilinux.go
 func WithCommonOptionsdaemon Daemon c container.Container coci.SpecOpts 
 if c.HostConfig.NetworkMode.IsPrivate 
 We cannot set up ping socket support in a user namespace
 userNS daemon.configStore.RemappedRoot c.HostConfig.UsernsMode.IsPrivate
 if userNS userns.RunningInUserNS sysctlExistsnet.ipv.pinggrouprange 
 if userNS sys.RunningInUserNS sysctlExistsnet.ipv.pinggrouprange 
 allow unprivileged ICMP echo sockets without CAPNETRAW
 s.Linux.Sysctlnet.ipv.pinggrouprange 
 
Fix dockerbuildx
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rootless graduate from experimental;"Close 
Note that the support for cgroup v isn't ready for production yet regardless to rootful or rootless.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1870;update runc to v..;The text was updated successfully but these errors were encountered;. vendor containerd ccdfcdece;"full diff containerdcontainerdce...c

Fix error handling for task deletion
Snapshotsdevmapper deactivate thin device after committed
Fix fd leak of shim log
Fix killall when use pidnamespace
Improve ARM platform matching

 Description for the changelog

 Improve ARM platform matching
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1871;Update Go to ..;"go.. released includes security fixes to the syscall and nethttp
packages. See the Go .. milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";build Dockerfile allows arg for base build FROM;"What I did

Allow an overridge ARG to specify an alternate GOLANG build environments

 How I did it

Dockerfile now has an ARG for fully specifying GOLANG base image used for build
Base image defaults to current patter

 Why I did it 


This";0
1872;. update Go to ..;"go.. released includes security fixes to the syscall and nethttp
packages. See the Go .. milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update go.etcd.iobbolt v..;"full diff etcdiobboltv.....v..

Fix unsafe pointer conversions caught by Go . checkptr
Fix unexpected delete bucket error delete bucket incompatible value
Add support for aix
Add go.mod
db.Path resolves to db.file.Name

As mentioned in containerdcontainerd comment this update fixes issues when using Go . revealed by Go .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1873;Update Go to ..;"go.. released includes fixes to the compiler linker runtime
and the gotypes nethttp and time packages. See the Go .. milestone on
the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add zombie check for container when killing it;"An alternative fix for .
related issues

fixes Zombie container can't stop lead to file descriptors le
addresses Docker stop container can't work When container pid becomes a zombie process
addresses Cannot stop container with zombie

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1874;. update Go to ..;"go.. released includes fixes to the compiler runtime and the
nethttp nethttphttptest and time packages. See the Go .. milestone on
the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump swarmkit to ebeaeedcaaccccfc;"What I did
Bumps swarmkit vendoring.
Includes dockerswarmkit which fixes tasks.db growing out of control on worker nodes.
relates to addresses

 single manager docker swarm stuck in Down state after reboot
dockerswarmkit Swarm's";0
1875;Bump up runc v..;"What I did
Bumped up runc to v..
httpsgithub.comopencontainersruncreleasestagv..
 Description for the changelog

bump up runc v..
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
";seccomp add bit timet syscalls;"hopefully fixes addresses 
Relates to httpspatchwork.kernel.orgpatch
Added to whitelist

clockgetrestime equivalent of clockgetres which was whitelisted
clockgettime equivalent of clockgettime which was whitelisted
clocknanosleeptime equivalent of clocknanosleep which was whitelisted
futextime equivalent of futex which was whitelisted
iopgeteventstime equivalent of iopgetevents which was whitelisted
mqtimedreceivetime equivalent of mqtimedreceive which was whitelisted
mqtimedsendtime equivalent of mqtimedsend which was whitelisted
ppolltime equivalent of ppoll which was whitelisted

?Üá??Å ppoll was removed in libseccomp was it confused for poll
update looks like it and fixed in seccomplibseccompef


pselecttime equivalent of pselect which was whitelisted
recvmmsgtime equivalent of recvmmsg which was whitelisted

no time equivalent for recvmsg 


rtsigtimedwaittime equivalent of rtsigtimedwait which was whitelisted
schedrrgetintervaltime equivalent of schedrrgetinterval which was whitelisted
semtimedoptime equivalent of semtimedop which was whitelisted
timergettime equivalent of timergettime which was whitelisted
timersettime equivalent of timersettime which was whitelisted
timerfdgettime equivalent of timerfdgettime which was whitelisted
timerfdsettime equivalent of timerfdsettime which was whitelisted
utimensattime equivalent of utimensat which was whitelisted

no time equivalent for utime and utimes 



Not added to whitelist

clockadjtime equivalent of clockadjtime which was not whitelisted
clocksettime equivalent of clocksettime which was not whitelisted

To be looked at
These syscalls are also new and added to libseccomp in seccomplibseccompbfeb but need to be looked at separately

clone equivalent of clone which was not whitelisted
fsconfig
fsmount
fsopen
fspick
movemount
opentree
pidfdopen
pidfdsendsignal

 Description for the changelog

 Fix bit timet syscalls being blocked by default seccomp profile

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1876;dockerrootlesssetuptools.sh use context after install;"What I did
use the rootless context after installation. closes 
 How I did it
 How to verify it
 contribdockerdrootlesssetuptool.sh install
...

INFO Creating CLI context rootless
Successfully created context rootless
INFO Use CLI co";seccomp allow syscall membarrier;"What I did
Allow syscall membarrier in the default seccomp profile in order to fix memory coherency issues leading to segfault errors on Alpine containers. It was firstly noticed with AWS EC instances running the docker image nodealpine and failing";0
1877;go.mod golang.orgxcrypto defffdfcefdfefc;"full diff golangcryptocfe...
includes a fix in golang.orgxcryptossh for CVE

golanggo
golangcrypto

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Accept platform spec on container create;"This enables image lookup when creating a container to fail when the
reference exists but it is for the wrong platform. This prevents trying
to run an image for the wrong platform as can be the case with for
example binfmtmiscqemu.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1878;daemon.WithDevices use containerd's HostDevices;"Trying to reduce the use of libcontainerdevices as it's considered to be an internal package by runc.

relates to comment
relates to containerdcontainerd

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor bump libnetwork efadfdeeeacbfddfabee;"Full diff mobylibnetworkbeab...efa
changes

mobylibnetwork Revert Always configure iptables forward policy
mobylibnetwork Fixes a panic in the DNS resolver

this change fix 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1879;Fix missing parent info case in MatchesUsingParentResults;"Unfortunately this check was missing in the original version. It could
cause a positive match to be overwritten by checking parent dirs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add DefaultAddressPools to docker info;"What I did
This PR will enhance docker info following 

Things to enhance
show the current value as part of the output of docker info so that the user can see the configured value

Originally posted by thaJeztah in comment
 How I d";0
1880;distribution validate blob type;"What I did
Validate blob media type
 How I did it
Cherrypicked cfc over from the . branch.
 How to verify it
Unit tests
 Description for the changelog
NA change already covered in the .. changelog
 
 
 
";Fix CPU Stat value UsageInUsermode on Windows;NOM;0
1881;daemonlogger read the length header correctly;"Before this change if Decode couldn't read a log record fully
the subsequent invocation of Decode would read the record's nonheader part
as a header and cause a huge heap allocation.
This change prevents such a case by having the intermediate buffer in
the decoder struct.
Fixes .
Signedoffby Kazuyoshi Kato katokazuamazon.com

 What I did
Changing decoder struct to fix .
 How I did it
Changing decoder struct to keep readbutunused bytes.
 How to verify it
Run docker logs f docker run rm d logdriver local alpine cat devurandom devnull. It kills dockerd after a few minutes before the change.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

from httpswww.zooborns.comzoobornstwoverydifferentbabiesemergeatwoodlandparkzoo.html
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";merge default address pool flags with daemon config;"What I did
Fixes 


if the given configuration file does not contain defaultaddresspools it should not reset the value set on the commandline Originally posted by thaJeztah in comment


this PR will fix the bug that cause dockerd ig";0
1882;fix image spec JSON example;NOM;switch to mobysysmountmountinfo part II;"This PR finishes the replacement of the pkgmount package with github.commobysysmount and github.commobysysmountinfo.
Step by step

 Vendor in github.commobysys
 make pkgmount a shallow package
the above is the below is this PR
 really switch this repo to use mobysys directly
 add deprecation notice to pkgmount

The longterm plan is to remove pkgmount entirely. This of course depends on its external users I'm afraid we have a lot I was going to get it from e.g. httpspkg.go.devgithub.comdockerdockerv..pkgmounttabimportedby but because it does not recognize moby's v...v tags it's not possible so it shows users of v.... Filed golanggo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1883;pkgfileutils Track incremental pattern match results against each pattern;"The existing code does not correctly handle the case where a file
matches one of the patterns but should not match overall because of an
exclude pattern that applied to a parent directory see
dockerbuildx.
Fix this by independently tracking the results of matching against each
pattern. A file should be considered to match any pattern that matched a
parent dir.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testintegration support more rootless tests;"What I did
support more rootless tests
 How I did it
Removed t.Skipgithub.comdockerdockertestutildaemon.Daemon doesn't support DOCKERROOTLESS.
Also bumped up RootlessKit rootlesscontainersrootlesskitv.....v..
Contains support for for";0
1884;vendor github.comMicrosofthcsshim v..;"followup to 
full diff microsofthcsshimv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor vishvanandanetlink v..;"vishvanandanetlink vishvanandanetlinkv.....v..
vishvanandanetns vishvanandanetnsfa...abb
libnetwork mobylibnetworkbfbd...beab
github.commobyipvs new dependency was previously part of libnetwork

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1885;vendor github.comcontainerdttrpc v..;"followup to 
full diff containerdttrpcv.....v..

client Handle sendingreceiving in separate goroutines
Return Unimplemented when services or methods are not implemented
go.mod sirupsenlogrus v..
go.mod update dependencies

go.mod github.comgogoprotobuf v..
go.mod google.golang.orggrpc v..
go.mod google.golang.orggenproto v..ecdf
go.mod github.comprometheusprocfs v..


replace pkgerrors
Rename branch from master to main
Use GitHub Actions for CI
Make go test and go build work on macOS
Add protocgengottrpc

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Move schema deprecation notice;"backport of 
fixes dockerforlinux for .
Currently we show this deprecation notice for any error returned by a
registry.
Registries can return an error for any number of reasons.
Instead let's show the deprecation notice only if the fallback was
successful.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1886;Dockerfile.windows update containerd binary to v..;"This was accidentally forgotten in aeff whoops
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";unit test on TestParseSignal failed within pkgsignal package on mipsel;"unit test on TestParseSignal failed within pkgsignal package on mipsel
Signedoffby liuxiaodong liuxiaodongloongson.cn

 What I did
I excute unit test on engine but the TestParseSignal test case failed within pkgsignal package on mipsel platform.
 How I did it
excute hacktestunit inside Dev container.
error log 
signaltest.go assertion failed error is not nil Invalid signal SIGEMT
signaltest.go assertion failed
When ParseSignal function parse sigStr from SignalMap it find the signal object with key SIGsigStr. But EMT signal named SIGEMT in SignalMap structrue so the real key is SIGSIGEMT and cannot find the target signal.
 How to verify it
modify SIGEMT to EMT in SignalMap structrue.
then type go test github.comdockerdockerpkgsignal count
expect
ok github.comdockerdockerpkgsignal	.s
 Description for the changelog

unit test on TestParseSignal failed within pkgsignal package on mipsel
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1887;TestConntrackFlowsLeak use busybox nc;"extracted from 
this is another attempt at 
replaces closes 
to address

part of 
 comment
 comment

The appropriatenc image was last built over years ago and uses the deprecated v schema format httpsgithub.comappropriatedockernctreemasterlatest
The image is just a plain apk install of netbsdnetcat but was added in cb because at the time the busybox nc had some bugs.
These appear to be resolved so we can use the busybox nc from the frozen images.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update fsnotify v..;"full diff fsnotifyfsnotifya...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1888;integrationcli remove manifest v schema push tests;"Pushing manifest v schema images has been deprecated in commits f and dbb docker .. While it's still used in some tests to provision a legacy registry to test pulling legacy images which is still supported we should no longer have to validate pushing for other scenarios.
This patch removes the schema push tests and inlines the code that was extracted in nonexported functions for them to be shared between schema and schema tests.
Relates to

dockerroadmap





 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Simplify daemon.overlaySupportsSelinux fix use of bufio.Scanner.Err;"fix use of bufio.Scanner.Err
The Err method should be called after the Scan loop not inside it.
Found by git grep A F '.Scan'
daemon.overlaySupportsSelinux simplify check


Sscanf is very slow and we don't use the first two fields get rid of it.


Since the field we search for is at the end of line and prepended by
a space we can just use strings.HaveSuffix.


Error checking for bufio.Scanner should be done after the Scan
loop not inside it.


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1889;. fix vendor validation;"Looks like vndr didn't like the replace rule missing a scheme
github.comdockerdistribution Err exit status out fatal repository 'github.comsamuelkarpdockerdistribution' does not exist
github.comcontainerdcontainerd Err exit status out fatal repository 'github.commobycontainerd' does not exist

While at it I also replaced the schem for goimmutableradix because GitHub
is deprecating the git protocol.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor add local copy of archivetar;"This version avoids doing name lookups on creating tarball that
should be avoided in to not hit loading glibc shared libraries.
Signedoffby Tonis Tiigi tonistiigigmail.com
cherry picked from commit aaa
Signedoffby Tibor Vass tibordocker.com
Couple of changes from the commit that I cherrypicked

I completed the instructions at the end of vendor.conf PTAL
I reran them inside the dev container which uses go ...

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1890;. backport vendor github.comopencontainersimagespec v..;"cherrypick of 

Bring mediaType out of reserved status
specsgo adding mediaType to the index and manifest structures

full diff opencontainersimagespecv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move schema deprecation notice;"Currently we show this deprecation notice for any error returned by a
registry.
Registries can return an error for any number of reasons.
Instead let's show the deprecation notice only if the fallback was
successful.
Closes dockerforlinux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1891;vendor github.comopencontainersimagespec v..;"Bring mediaType out of reserved status
specsgo adding mediaType to the index and manifest structures

full diff opencontainersimagespecv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix linting in pkgmount;"We recently updated golangcilint which is checking for some additional linting rules causing a failure in code that was just merged to master bdb 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1892;Update containerd binary and vendor to v..;"update containerd binary to v..
The eighth patch release for containerd . contains a mitigation for CVE
as well as several fixes and updates.
Notable Updates

Handle ambiguous OCI manifest parsing
Filter selinux xattr for image volumes in CRI plugin
Use DeactiveLayer to unlock layers that cannot be renamed in Windows snapshotter
Fix pull failure on unexpected EOF
Close task IO before waiting on delete
Log a warning for ignored invalid image labels rather than erroring
Update pull to handle of nonhttps urls in descriptors

See the changelog for complete list of changes
vendor github.comcontainerdcontainerd v..
contains a mitigation for CVE as well as several fixes and updates.
full diff containerdcontainerdv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Switch to sx Ubuntu . carry;"What I did
We have updated half of the sx Jenkins agents to Ubuntu . and also have a newer Docker
carry 
version . installed. This PR takes care of that and uses the new agents with a docker build instead of the workaround.
 How I did";0
1893;. update containerd binary to v..;"The twelfth patch release for containerd . contains a few minor bug fixes
and an update to mitigate CVE.
Notable Updates

Handle ambiguous OCI manifest parsing GHSAjwgm
Update pull to try next mirror for non errors
Update pull to handle of nonhttps urls in descriptors

See the changelog for complete list of changes

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";daemon fail early if rootless cgroupdriver systemd cgroup v;"What I did
fail early if rootless cgroupdriver systemd cgroup v
 How I did it
 How to verify it
 dockerdrootless.sh execopt native.cgroupdriversystemd experimental
failed to start daemon execopt native.cgroupdriversystemd req";0
1894;. vendor github.commobybuildkit v..gbcbb;"imageutil make mediatype detection more stricter to mitigate CVE.
full diff mobybuildkitecd...bcbb
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add riscv support to the build scripts;"What I did
Added riscv architecture support to the scripts used to build Docker
and it's dependencies.
 How I did it
Added support to build scripts.
 How to verify it
Run .hackmake.sh binary on riscv host.
 Description for the changelog
Support";0
1895;vendor github.comopencontainersselinux v..;"full diff opencontainersselinuxv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cgroup implement docker info;"What I did
Implemented docker info for cgroup v.
The REST API now includes .CgroupVersion field.
 How I did it
Updated pkgsysinfo to parse cgroup v info.
ref httpswww.kernel.orgdochtmllatestadminguidecgroupv.html
 How to verify it
Run c";0
1896;Fix flaky TestPortMappingVConfig;"Since mobylibnetwork has been merged allocatePortsInternal
checks if IPv is enabled by calling IsVListenable. This function
calls net.Listentcp and returns false when
net.Listen fails.
TestPortMappingVConfig starts by setting up a new net ns to run into
it. The loopback interface is not bring up in this net ns thus
net.Listen fails and IsVListenable returns false. This change takes
care of bringing loopback iface up right after moving to the new net ns.
This test has been reported as flaky on sx in . For some
reason this test seems to be consistently green on the CI on amd
arch and when running hacktestunit locally. However it consistently
fails when running TESTFLAGS'shuffle on' hacktestunit locally.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci update golangcilint v..;"full diff golangcigolangcilintv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1897;Jenkinsfile update checkconfig script to latest version;"Diff
git diff bbeccbeea...aedecbffdeee contribcheckconfig.sh


diff git acontribcheckconfig.sh bcontribcheckconfig.sh
index ef..eb 
 acontribcheckconfig.sh
 bcontribcheckconfig.sh
 
usrbinenv bash
usrbinenv sh
 set e
 
 EXITCODE
 EXITCODE
 bits of this were adapted from lxccheckconfig
 see also httpsgithub.comlxclxcbloblxc..srclxclxccheckconfig.in
 
possibleConfigs
	'procconfig.gz'
	bootconfiguname r
	usrsrclinuxuname r.config
	'usrsrclinux.config'

possibleConfigs
	procconfig.gz
	bootconfiguname r
	usrsrclinuxuname r.config
	usrsrclinux.config

 
 if gt then
 	CONFIG
 else
	 CONFIGpossibleConfigs
	 CONFIGprocconfig.gz
 fi
 
if command v zgrep devnull then
if command v zgrep devnull then
 	zgrep 
 		zcat | grep 
 	
 issetasmodule 
 
 
 color 
	local codes
	codes
 	if 'bold' then
		codescodes ''
		codes''
 		shift
 	fi
 	if gt then
		local code
		code
 		case in
 			 see httpsen.wikipedia.orgwikiANSIescapecodeColors
 			black code 
 color 
 			white code 
 		esac
 		if code then
			codescodes code
			codescodescodescode
 		fi
 	fi
	local IFS''
	echo en '\'codes'm'
	printf '\sm' codes
 
 wrapcolor 
 	text
 	shift
 	color 
	echo n text
	printf 's' text
 	color reset
 	echo
 
 checkflag 
 
 checkflags 
 	for flag in do
		echo n 
		printf ' '
 		checkflag flag
 	done
 
 checkdevice 
 
 
 checkdistrouserns 
	source etcosrelease devnull || bintrue
	if ID centos|rhel VERSIONID then
		 this is a CentOS or RHEL system
		grep q usernamespace.enable proccmdline || 
			 no user namespace support enabled
			wrapbad RHELCentOS User namespaces disabled add 'usernamespace.enable' to boot command line
			EXITCODE
		
	fi
	. etcosrelease devnull || bintrue
	case ID in
		centos | rhel
			case VERSIONID in
				
					 this is a CentOS or RHEL system
					grep q 'usernamespace.enable' proccmdline || 
						 no user namespace support enabled
						wrapbad RHELCentOS User namespaces disabled add 'usernamespace.enable' to boot command line
						EXITCODE
					
					
			esac
			
	esac
 
 
 if e CONFIG then
 	wrapwarning warning CONFIG does not exist searching other paths for kernel config ...
	for tryConfig in possibleConfigs do
	for tryConfig in possibleConfigs do
 		if e tryConfig then
 			CONFIGtryConfig
 			break
 echo
 
 echo 'Generally Necessary'
 
echo n ' '
printf ' '
 if stat f c t sysfscgroup devnull '' then
	echo wrapgood 'cgroup hierarchy' 'cgroupv'
	wrapgood 'cgroup hierarchy' 'cgroupv'
	cgroupvControllerFile'sysfscgroupcgroup.controllers'
	if f cgroupvControllerFile then
		echo ' Controllers'
		for controller in cpu cpuset io memory pids do
			if grep qE '| 'controller'| ' cgroupvControllerFile then
				echo wrapgood controller 'available'
			else
				echo wrapbad controller 'missing'
			fi
		done
	else
		wrapbad cgroupvControllerFile 'nonexistent'
	fi
	 TODO find an efficient way to check if cgroup.freeze exists in subdir
 else
	cgroupSubsystemDirawk ' cpu|cpuacct|cpuset|devices|freezer|memory cgroup print ' procmounts | head n
	cgroupSubsystemDirsed rne ' cgroup cpu|cpuacct|cpuset|devices|freezer|memory . s\p q ' procmounts
 	cgroupDirdirname cgroupSubsystemDir
 	if d cgroupDircpu || d cgroupDircpuacct || d cgroupDircpuset || d cgroupDirdevices || d cgroupDirfreezer || d cgroupDirmemory then
 		echo wrapgood 'cgroup hierarchy' 'properly mounted' cgroupDir
 else
 fi
 
 if cat sysmoduleapparmorparametersenabled devnull 'Y' then
	echo n ' '
	if command v apparmorparser devnull then
	printf ' '
	if command v apparmorparser devnull then
 		wrapgood 'apparmor' 'enabled and tools installed'
 	else
 		wrapbad 'apparmor' 'enabled but apparmorparser missing'
		echo n ' '
		if command v aptget devnull then
		printf ' '
		if command v aptget devnull then
 			wrapcolor 'use aptget install apparmor to fix this'
		elif command v yum devnull then
		elif command v yum devnull then
 			wrapcolor 'your best bet is yum install apparmorparser'
 		else
 			wrapcolor 'look for an apparmor package for your distribution'
 if cat sysmoduleapparmorparametersenabled devnull 'Y' then
 	fi
 fi
 
flags
	NAMESPACES NETPIDIPCUTSNS
	CGROUPS CGROUPCPUACCT CGROUPDEVICE CGROUPFREEZER CGROUPSCHED CPUSETS MEMCG
	KEYS
	VETH BRIDGE BRIDGENETFILTER
	IPNFFILTER IPNFTARGETMASQUERADE
	NETFILTERXTMATCHADDRTYPECONNTRACKIPVS
	NETFILTERXTMARK
	IPNFNAT NFNAT

	 required for bindmounting devmqueue into containers
checkflags \
	NAMESPACES NETNS PIDNS IPCNS UTSNS \
	CGROUPS CGROUPCPUACCT CGROUPDEVICE CGROUPFREEZER CGROUPSCHED CPUSETS MEMCG \
	KEYS \
	VETH BRIDGE BRIDGENETFILTER \
	IPNFFILTER IPNFTARGETMASQUERADE \
	NETFILTERXTMATCHADDRTYPE \
	NETFILTERXTMATCHCONNTRACK \
	NETFILTERXTMATCHIPVS \
	NETFILTERXTMARK \
	IPNFNAT NFNAT \
 	POSIXMQUEUE

checkflags flags
 POSIXMQUEUE is required for bindmounting devmqueue into containers

 if kernelMajor lt || kernelMajor eq kernelMinor lt then
 	checkflags DEVPTSMULTIPLEINSTANCES
 fi
 fi
 if kernelMajor lt || kernelMajor eq a kernelMinor le then
 	checkflags NFNATNEEDED
 fi
 check availability of BPFCGROUPDEVICE support
if kernelMajor ge || kernelMajor eq kernelMinor ge then
	checkflags CGROUPBPF
fi
 
 echo
 
 echo 'Optional Features'
 
 
 	if isset LEGACYVSYSCALLNATIVE then
		echo n 
		printf ' '
 		wrapbad CONFIGLEGACYVSYSCALLNATIVE 'enabled'
 		echo wrapcolor 'dangerous provides an ASLRbypassing target with usable ROP gadgets.' bold black
 	elif isset LEGACYVSYSCALLEMULATE then
		echo n 
		printf ' '
 		wrapgood CONFIGLEGACYVSYSCALLEMULATE 'enabled'
 	elif isset LEGACYVSYSCALLNONE then
		echo n 
		printf ' '
 		wrapbad CONFIGLEGACYVSYSCALLNONE 'enabled'
 		echo wrapcolor 'containers using eglibc . will not work. Switch to' bold black
 		echo wrapcolor ' CONFIGVSYSCALLNATIVE|EMULATE or use vsyscallnative|emulate' bold black
 if kernelMajor lt then
 	checkflags IOSCHEDCFQ CFQGROUPIOSCHED
 fi
 
flags
	BLKCGROUP BLKDEVTHROTTLING
	CGROUPPERF
	CGROUPHUGETLB
	NETCLSCGROUP netprio
	CFSBANDWIDTH FAIRGROUPSCHED RTGROUPSCHED
	IPNFTARGETREDIRECT
	IPVS
	IPVSNFCT
	IPVSPROTOTCP
	IPVSPROTOUDP
	IPVSRR
	SECURITYSELINUX
checkflags \
	BLKCGROUP BLKDEVTHROTTLING \
	CGROUPPERF \
	CGROUPHUGETLB \
	NETCLSCGROUP netprio \
	CFSBANDWIDTH FAIRGROUPSCHED RTGROUPSCHED \
	IPNFTARGETREDIRECT \
	IPVS \
	IPVSNFCT \
	IPVSPROTOTCP \
	IPVSPROTOUDP \
	IPVSRR \
	SECURITYSELINUX \
 	SECURITYAPPARMOR

checkflags flags
 
 if isset EXTUSEFOREXT then
 	checkflags EXTFS EXTFSXATTR EXTFSPOSIXACL EXTFSSECURITY
 checkflags OVERLAYFS | sed 's '
 EXITCODE
 
 echo \wrapcolor 'zfs' blue\
echo n 
printf ' '
 checkdevice devzfs
echo n 
printf ' '
 checkcommand zfs
echo n 
printf ' '
 checkcommand zpool
 EXITCODE STORAGE
 EXITCODE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";containerd.installer install containerdshimruncv;"cgroup mode requires containerdshimruncv containerd v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1898;testing skip TestBuildWCOWSandboxSize for now;"This test is failing frequently once nodes have less disk space
available. Skipping the test for now but we can continue looking
for a good solution.
Tracked through 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cgroup implement docker stats;NOM;0
1899;. backport TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage;"backport of 
fixes 
testutil daemon.Cleanup cleanup more directories
The storagedriver directory caused Jenkins cleanup to fail. While at it also
removing other directories that we do not include in the bundles that are
stored as Jenkins artifacts.
TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage
This should help with Jenkins failing to clean up the Workspace

make sure cleanup is also called in the defer for all daemons. keeping
the daemon's storage around prevented Jenkins from cleaning up.
close client connections and some readers just to be sure

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make mount.Mount fasterW great again;"pkgmount.Mount speedup remove Mounted check
This was added in PR commit fafda because it was
otherwise impossible to do a remount of already mounted file system.
It is way better to just remove the Mounted check altogether.
This change might potentially lead to multiple mounts to the same
mount point so I audited all the users except tests and it looks
like no one is doing that

volumelocal maintains 'mounted' flag for every volume
pkgchrootarchive already calls Mounted before Mount
so it actually parsed procselfmountinfo twice oops
daemon.mountVolumes is called for docker cp only and
it is called once
daemongraphdriverzfs keeps track of 'mounted' status
daemongraphdriverdevmapper ditto
daemon.createSecretsDir is only called once during container start

Surely I might have easily missed something so this needs a careful
review.
pkgarchive use mount pkg
It makes sense to use mount package here because

it no longer requires proc to be mounted
it provides verbose errors so the caller doesn't have to

TODO not for this PR just in general

 switch more users to mount.MountUnmount because of better errors

thaJeztah cpuguy dmcgowan PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1900;. backport info unset cgrouprelated fields when CgroupDriver none;"Cherrypick clean


Fix 
 What I did
unset cgrouprelated fields when CgroupDriver none
 How I did it
Modified daemoninfounix.goP
 How to verify it

Boot the host with cgroup v
dockerdrootlesssetuptool.sh install
docker info format json. 


...
 MemoryLimit false
 SwapLimit false
 KernelMemory false
 KernelMemoryTCP false
 CpuCfsPeriod false
 CpuCfsQuota false
 CPUShares false
 CPUSet false
 PidsLimit false
...
 CgroupDriver none
...

 Description for the changelog

info unset cgrouprelated fields when CgroupDriver none
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport fix backingFs assignment;"backport of for .
fixes for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1901;bump up rootlesskit from v.. to v..;"Minor fixes and refactoring.
rootlesscontainersrootlesskitv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix backingFs assignment;"Signedoffby Jintao Zhang zhangjintaogmail.com

 What I did
Fix backingFs assignment.
Fix 
 How I did it
Restored some assignment logic deleted in eaea
cc kolyshkin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1902;log error message when receiving an unexpected type error;"What I did
Log error message when receiving an error that doesn't match any expected type
 How I did it
Simply add err.Error to logging message
 How to verify it
Stop docker api server then use docker client to do client.Infoctx log will be prin";pkgsystem remove unused CommandLineToArgv;"This function was added in ca but appears to never have been used.
Removing it as it's not used in the codebase and from a quick search on GitHub also doesn't look to be used by other projects.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1903;Fix windows rxReservedNames;"This regex is currently matching volumes that include a reserved word ex. testauxvolume

 What I did
 How I did it
 How to verify it
 Description for the changelog
Fixes rejecting windows volume names that merely contain a reserved word instead of matching exactly
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsymlink don't depend on pkgsystem and pkglongpath;"How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors w";0
1904;TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage;"fixes 
testutil daemon.Cleanup cleanup more directories
The storagedriver directory caused Jenkins cleanup to fail. While at it also
removing other directories that we do not include in the bundles that are
stored as Jenkins artifacts.
TestBuildUserNamespaceValidateCapabilitiesAreV cleanup daemon storage
This should help with Jenkins failing to clean up the Workspace

make sure cleanup is also called in the defer for all daemons. keeping
the daemon's storage around prevented Jenkins from cleaning up.
close client connections and some readers just to be sure

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsystem minor linting issues and refactor;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1905;vendor github.comcontainerdcontainerd v..;"full diff containerdcontainerdv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsystem deprecate SetNamedSecurityInfo GetSecurityDescriptorDacl;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1906;vendor github.comMicrosofthcsshim v..;"No significant changes for our vendored code but reverts back containerd minimal
dependency to v...
full diff microsofthcsshimv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsystem replace more uses of syscall;"followup to fdc replacing more uses of the syscall package in favor of their unix windows equivalents in golang.orgxsys.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1907;vendor github.comimdariomergo v..;"full diff httpsgithub.comimdariomergocompoarev.....v..
relates to containerdcontainerd
relates to dockercli
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";EnsureRemoveAll RecursiveUnmount don't call Mounted around Unmount;"pkgsystem.EnsureRemoveAll


Call to mount.Mounted is very expensive and it's redundant
to call it before Unmount.


Calling mount.Mounted after an error from Unmount is
questionable if unmounting failed the mount is probably
still there anyway it doesn't make sense to check it.


pkgsystem.RecursiveUnmount

same as item above

This should result in faster code with no change in functionality.
cpuguy PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1908;Update Go to ..;"go.. released includes security fixes to the archivezip and
debugmacho packages as well as bug fixes to the compiler linker runtime the
go command the miscwasm directory and to the nethttp and syscall packages.
See the Go .. milestone on our issue tracker for details.
From the announcement email
security Go .. and Go .. are released
We have just released Go versions .. and .. minor point releases.
These minor releases include two security fixes following the security policy

archivezip don't panic on Reader.Open
Reader.Open the API implementing iofs.FS introduced in Go . can be made
to panic by an attacker providing either a crafted ZIP archive containing
completely invalid names or an empty filename argument.
Thank you to Colin Arnott SiteHost and Noah SantschiCooney Sourcegraph Code
Intelligence Team for reporting this issue. This is CVE and Go issue
golang.orgissue.
debugmacho invalid dynamic symbol table command can cause panic
Malformed binaries parsed using Open or OpenFat can cause a panic when calling
ImportedSymbols due to an outofbounds slice operation.
Thanks to Burak ?çar??k?º?? Yunus Y??ld??r??m CTZer Crypttech for reporting this
issue. This is CVE and Go issue golang.orgissue.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rootless launch rootlesskit with propagationrslave;"What I did
Launch rootlesskit with propagationrslave.
The propagation was previously set to rprivate and didn't propagate mounts from the host mount namespace into the daemon's mount namespace.
Further information about propagation httpsgithub.";0
1909;. Update Go to ..;"go.. released includes security fixes to the archivezip and
debugmacho packages as well as bug fixes to the compiler linker runtime the
miscwasm directory and to the nethttp package. See the Go .. milestone
for details httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
From the announcement email
security Go .. and Go .. are released
We have just released Go versions .. and .. minor point releases.
These minor releases include two security fixes following the security policy

archivezip don't panic on Reader.Open
Reader.Open the API implementing iofs.FS introduced in Go . can be made
to panic by an attacker providing either a crafted ZIP archive containing
completely invalid names or an empty filename argument.
Thank you to Colin Arnott SiteHost and Noah SantschiCooney Sourcegraph Code
Intelligence Team for reporting this issue. This is CVE and Go issue
golang.orgissue.
debugmacho invalid dynamic symbol table command can cause panic
Malformed binaries parsed using Open or OpenFat can cause a panic when calling
ImportedSymbols due to an outofbounds slice operation.
Thanks to Burak ?çar??k?º?? Yunus Y??ld??r??m CTZer Crypttech for reporting this
issue. This is CVE and Go issue golang.orgissue.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update VPNKit;"Changes mobyvpnkitad...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1910;. backport Windows cmddockerd create panic.log file without readonly flag;"backport of  fixes addresses   What I did
Create panic.log on Windows without the Readonly attribute
 How I did it
Set the bit o owner write permission
os.OpenFilepath os.OCREATE|os.OWRONLY|os.OAPPEND o
 How to verify it
ReadOnly should not be set
PS GetItem C\ProgramData\docker\panic.log.Attributes
Archive NotContentIndexed

 Description for the changelog

After docker EE bump to version .. docker service doesn't start properly after reboot with error
fatal open C\ProgramData\docker\panic.log Access is denied.
Docker .. and Go version go..
PS docker version
Server Mirantis Container Runtime
 Engine
 Version ..
 API version . minimum version .
 Go version go..
 Git commit ebfbc
 Built 
 OSArch windowsamd
 Experimental false

Docker .. and Go version go..m
PS docker version
Server Mirantis Container Runtime
 Engine
 Version ..
 API version . minimum version .
 Go version go..m
 Git commit db
 Built 
 OSArch windowsamd
 Experimental false

After version of Go runtime bumped above . the behavior of OpenFile API is changed httpsgolang.orgdocgo.windows

Windows
Go binaries on Windows now have DEP Data Execution Prevention enabled.
On Windows creating a file via os.OpenFile with the os.OCREATE flag or via syscall.Open with the syscall.OCREAT flag will now create the file as readonly if the bit o owner write permission is not set in the permission argument. This makes the behavior on Windows more like that on Unix systems.

For example
package main

import 
	log
	os


func main 
	f err os.OpenFilepanic.log os.OCREATE|os.OWRONLY|os.OAPPEND 
	if err nil 
		log.Fatalerr
	
	if err f.Close err nil 
		log.Fatalerr
	


Go ..
PS C\go...windowsamd\go\bin\go.exe run .\createfile.go
PS GetItem .\panic.log.Attributes
Archive NotContentIndexed


Desired Access	Append DataAdd SubdirectoryCreate Pipe Instance Read Attributes Synchronize
Disposition	OpenIf
Options	Synchronous IO NonAlert NonDirectory File
Attributes	N
ShareMode	Read Write
AllocationSize	
OpenResult	Created

Go ..
PS C\go...windowsamd\go\bin\go.exe run .\createfile.go
PS GetItem .\panic.log.Attributes
ReadOnly Archive NotContentIndexed

Desired Access	Append DataAdd SubdirectoryCreate Pipe Instance Read Attributes Synchronize
Disposition	OpenIf
Options	Synchronous IO NonAlert NonDirectory File
Attributes	R
ShareMode	Read Write
AllocationSize	
OpenResult	Created

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove could not get checksum with tarsplit debug message;"fixes mobybuildkit
This code was originally written for v. migration where it signified that layers
were recomputed from pre . layout and could possibly change the tarball checksums.
It's now being repurposed in the BuildKit adapter but there it doesn't have any
warn condition as all data generated by builder is new anyway.
Currently debug log entries as the one below may appear in the daemon logs
T.Z could not get checksum for xnsjyzfxjhemwon with tarsplit no tarsplit file

This patch removes the debug log as it may confuse users we couldn't validate
what we downloaded but we're gonna run it anyway
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1911;Windows cmddockerd create panic.log file without readonly flag;"fixes addresses


 What I did
Create panic.log on Windows without the Readonly attribute
 How I did it
Set the bit o owner write permission
os.OpenFilepath os.OCREATE|os.OWRONLY|os.OAPPEND o
 How to verify it
ReadOnly should not be set
PS GetItem C\ProgramData\docker\panic.log.Attributes
Archive NotContentIndexed

 Description for the changelog

After docker EE bump to version .. docker service doesn't start properly after reboot with error
fatal open C\ProgramData\docker\panic.log Access is denied.
Docker .. and Go version go..
PS docker version
Server Mirantis Container Runtime
 Engine
 Version ..
 API version . minimum version .
 Go version go..
 Git commit ebfbc
 Built 
 OSArch windowsamd
 Experimental false

Docker .. and Go version go..m
PS docker version
Server Mirantis Container Runtime
 Engine
 Version ..
 API version . minimum version .
 Go version go..m
 Git commit db
 Built 
 OSArch windowsamd
 Experimental false

After version of Go runtime bumped above . the behavior of OpenFile API is changed httpsgolang.orgdocgo.windows

Windows
Go binaries on Windows now have DEP Data Execution Prevention enabled.
On Windows creating a file via os.OpenFile with the os.OCREATE flag or via syscall.Open with the syscall.OCREAT flag will now create the file as readonly if the bit o owner write permission is not set in the permission argument. This makes the behavior on Windows more like that on Unix systems.

For example
package main

import 
	log
	os


func main 
	f err os.OpenFilepanic.log os.OCREATE|os.OWRONLY|os.OAPPEND 
	if err nil 
		log.Fatalerr
	
	if err f.Close err nil 
		log.Fatalerr
	


Go ..
PS C\go...windowsamd\go\bin\go.exe run .\createfile.go
PS GetItem .\panic.log.Attributes
Archive NotContentIndexed


Desired Access	Append DataAdd SubdirectoryCreate Pipe Instance Read Attributes Synchronize
Disposition	OpenIf
Options	Synchronous IO NonAlert NonDirectory File
Attributes	N
ShareMode	Read Write
AllocationSize	
OpenResult	Created

Go ..
PS C\go...windowsamd\go\bin\go.exe run .\createfile.go
PS GetItem .\panic.log.Attributes
ReadOnly Archive NotContentIndexed

Desired Access	Append DataAdd SubdirectoryCreate Pipe Instance Read Attributes Synchronize
Disposition	OpenIf
Options	Synchronous IO NonAlert NonDirectory File
Attributes	R
ShareMode	Read Write
AllocationSize	
OpenResult	Created

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix make shell;"a broke make shell which is
trying to build the dev Dockerfile stage which no longer exists after
the change.
This adds the stage back.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1912;Fix grammar for does not exist;"as opposed to does not exists
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Builder Check remote when local img platform doesn't match;"fixes dockerforlinux
This fixes an issue where if a build requests an image that already
exists in Docker's image store but does not match the specified build
platform instead of building using the wrong platform go ahead and
check the remote for the correct platform.
Steps to reproduce issue
 docker pull platformamd debianbuster
output supressed
 cat Dockerfile
FROM debianbuster
RUN echo hello
 docker build platformarmhf Dockerfile
output supressed

Without this fix the build invocation will build using the amd image
since it is already tagged locally but this is clearly not what we
want.
With the fix the local image is not used and instead we pull the correct
image.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1913;vendor github.commobysysmount v.. mountinfo v.. signal v.. symlink v..;"vendor golang.orgxsys v..cdffdb
full diff golangsysb...cdffd
vendor github.commobysysmount v.. mountinfo v.. signal v.. symlink v..
full diff mobysyssignalv.....signalv..
Modules

github.commobysysmount v..
github.commobysysmountinfo v..
github.commobysyssignal v..
github.commobysyssymlink v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Fix rate limiting for logger increase refill rate;"Backports to .

Signedoffby Ethan Mosbaugh ethanreplicated.com

 What I did
fixes 
 How I did it
The rate limiter will get refilled at a rate of token per second. My understanding of the code it is intended to get refilled at a rate of M second.

 
 
 mobyvendorgolang.orgxtimeraterate.go
 
 
 Lines to 
 in
 ce
 
 
 
 

 
 
 A Limiter controls how frequently events are allowed to happen. 
 

 
 
 It implements a token bucket of size b initially full and refilled 
 

 
 
 at rate r tokens per second. 
 

 
 
 Informally in any large enough time interval the Limiter limits the 
 

 
 
 rate to r tokens per second with a maximum burst size of b events. 
 

 
 
 As a special case if r Inf the infinite rate b is ignored. 
 

 
 
 See httpsen.wikipedia.orgwikiTokenbucket for more about token buckets. 
 
 
 


 How to verify it
 docker service create name lotsologs restartcondition onfailure d debianstretchslim bash c for i in \seq do cat devurandom | tr dc 'azAZ ' | fold w | head n done
yuhculyxcqergehfzeiks
wait a while for the logs to fill up
 docker service logs lotsologs tmp hangs
C
 ls lh tmp
rwrwr ethan ethan M Jun tmp

 Description for the changelog
Fixed an issue that caused requests for docker swarm service and task logs to hang indefinitely for logs with size greater than MB.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1914;vendor github.comfluentfluentloggergolang v..;"Fixes .
 What I did
Update the fluent logger library to v... Following commitsPRs were merged since last bump

Add callback for error handling when using async
Fix panic when accessing unexported struct field
Properly stop logger during reconnect failure
Support a TLSenabled connection
Do not allow writing events after fluent.Close

 How to verify it
Before this change running the following commands would lead to docker hanging on the kill command
 docker run rm it name test logdriverfluentd logopt fluentdaddressfluentdhost logopt fluentdasynctrue debian binbash c 'echo test sleep infinity'
 In another terminal
 docker kill test
 Description for the changelog

Forcefully stop fluentd logger when a container stop and the logger is running in async mode.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add TC for com.docker.network.hostipv label;"This PR adds a testcase for the com.docker.network.hostipv
label committed via mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1915;. backport Fix race in TestCreateServiceSecretFileMode TestCreateServiceConfigFileMode;"backport of 
fixes 
Looks like this test was broken from the start and fully relied on a race
condition. Test was added in eeff 
The problem is in the service's command ls l etcconfig || bintop which
will either

exit immediately if the secret is mounted correctly at etcconfig which it should
keep running with bintop if the above failed

After the service is created the test enters a racecondition checking for 
task to be running which it ocassionally is after which it proceeds and looks
up the list of tasks of the service to get the log output of ls l etcconfig.
This is another race first of all the original filter for that task lookup did
not filter by running so it would pick any task of the service either failed
running or completed successfully exited tasks.
In the meantime though SwarmKit kept reconciling the service and creating new
tasks so even if the test was able to get the ID of the correct task that task
may already have been exited and removed tasklimit is by default so only
if the test was lucky it would be able to get the logs but of course chances
were likely that it would be too late and the task already gone.
The problem can be easily reproduced when running the steps manually
echo 'CONFIG' | docker config create myconfig 

docker service create config sourcemyconfigtargetetcconfigmode name myservice busybox sh c 'ls l etcconfig || bintop'

The above creates the service but it keeps retrying because each task exits
immediately followed by SwarmKit reconciling and starting a new task
mjntpfkkyuucdpayhcoo
overall progress out of tasks
 ready 
verify Detected task failure
COperation continuing in background.
Use docker service ps mjntpfkkyuucdpayhcoo to check progress.

And checking the tasks for the service reveals that tasks exit cleanly no error
but do exit so swarm just keeps up reconciling and spinning up new tasks
docker service ps myservice notrunc
ID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTS
wmcuvvffnetnybghevn myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Ready Ready less than a second ago
pbueciqlxay \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete less than a second ago
klpsvlakbnilzfkexwp \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago
vsunlpienolpkvjpn \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago
orxlbktldfznzzdlijs \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago

This patch changes the service's command to sleep so that a successful task
after successfully performing ls l etcconfig continues to be running until
the service is deleted. With that change the service should usually reconcile
immediately which removes the race condition and should also make it faster 
This patch changes the tests to use client.ServiceLogs instead of using the
service's tasklist to directly access container logs. This should also fix some
failures that happened if some tasks failed to start before reconciling in which
case client.TaskList with the current filters could return more tasks than
anticipated as it also contained the exited tasks
 RUN TestCreateServiceSecretFileMode
 createtest.go assertion failed int int
 FAIL TestCreateServiceSecretFileMode .s
 RUN TestCreateServiceConfigFileMode
 createtest.go assertion failed int int
 FAIL TestCreateServiceConfigFileMode .s

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Update DNS library;"This makes sure that we don't become vulnerable to CVE or
CVE in the future.
This is a cherrypick of using the correct bump. libnetwork branch.
Signedoffby Sam Whited samsamwhited.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1916;fix TestInvalidRemoteDriver to check underlying error;"commit bafe changed how the error was
returned which is now wrapped causing the test to fail
 RUN TestInvalidRemoteDriver
 libnetworktest.go Did not fail with expected error. Actual error Plugin does not implement the requested driver plugininvalidnetworkdriver requested implementationNetworkDriver
 FAIL TestInvalidRemoteDriver .s

Changing the test to use errors.Is
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add warnings for deprecated cluster functions and deprecate API fields;"relates to 
followup to 

Add warning about deprecated cluster options to docker info
API deprecate info ClusterStore and ClusterAdvertise fields

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1917;distribution do not retry unsupported layer media types;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Windows ico;"closes 
closes 
Signedoffby Stefan Scherer stefan.schererdocker.com
 What I did
I've replaces the old Docker ico for the Windows exe files with a newer one.
I've also removed the dockerd.png file as I couldn't find any reference where it may be used. Maybe that was only an example of the ico file for people unable to view Windows ico files.
 How I did it
Picked it from an internal JIRA task. 
 How to verify it
Compile windows binaries and check the dockerd.exe in Windows Explorer and in Sysinternals Process Monitor while running the Windows Docker engine.
 Description for the changelog
Updated the Windows icon.
 A picture of a cute animal not mandatory but encouraged

See also dockercli for the windows CLI.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1918;pkgfileutils escape additional regex meta characters;"What I did
Add additional regex meta characters to escape set for path matcher.
 How I did it
Adapt code from Go stdlib regexQuoteMeta.
 How to verify it
Unit tests included.
 Description for the changelog
Allow use of special characters in .docker";validate add shfmt;"What I did

The first commit Added shfmt to hackvalidate.
The second commit ran the following command

 git grep nameonly '' | egrep v 'vendor|\.go|Jenkinsfile' | 
 xargs shfmt w bn ci sr
Close 
 How I did it
Used the latest sh";0
1919;Fix TestCreateServiceSecretFileMode TestCreateServiceConfigFileMode;"hopefully fixes 
Looks like this test was broken from the start and fully relied on a race
condition. Test was added in eeff 
The problem is in the service's command ls l etcconfig || bintop which
will either

exit immediately if the secret is mounted correctly at etcconfig which it should
keep running with bintop if the above failed

After the service is created the test enters a racecondition checking for 
task to be running which it ocassionally is after which it proceeds and looks
up the list of tasks of the service to get the log output of ls l etcconfig.
This is another race first of all the original filter for that task lookup did
not filter by running so it would pick any task of the service either failed
running or completed successfully exited tasks.
In the meantime though SwarmKit kept reconciling the service and creating new
tasks so even if the test was able to get the ID of the correct task that task
may already have been exited and removed tasklimit is by default so only
if the test was lucky it would be able to get the logs but of course chances
were likely that it would be too late and the task already gone.
The problem can be easily reproduced when running the steps manually
echo 'CONFIG' | docker config create myconfig 

docker service create config sourcemyconfigtargetetcconfigmode name myservice busybox sh c 'ls l etcconfig || bintop'

The above creates the service but it keeps retrying because each task exits
immediately followed by SwarmKit reconciling and starting a new task
mjntpfkkyuucdpayhcoo
overall progress out of tasks
 ready 
verify Detected task failure
COperation continuing in background.
Use docker service ps mjntpfkkyuucdpayhcoo to check progress.

And checking the tasks for the service reveals that tasks exit cleanly no error
but do exit so swarm just keeps up reconciling and spinning up new tasks
docker service ps myservice notrunc
ID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTS
wmcuvvffnetnybghevn myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Ready Ready less than a second ago
pbueciqlxay \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete less than a second ago
klpsvlakbnilzfkexwp \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago
vsunlpienolpkvjpn \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago
orxlbktldfznzzdlijs \ myservice. busyboxlatestshafcaacdaedabdccfdfbffa dockerdesktop Shutdown Complete seconds ago

This patch changes the service's command to sleep so that a successful task
after successfully performing ls l etcconfig continues to be running until
the service is deleted. With that change the service should usually reconcile
immediately which removes the race condition and should also make it faster 
This patch changes the tests to use client.ServiceLogs instead of using the
service's tasklist to directly access container logs. This should also fix some
failures that happened if some tasks failed to start before reconciling in which
case client.TaskList with the current filters could return more tasks than
anticipated as it also contained the exited tasks
 RUN TestCreateServiceSecretFileMode
 createtest.go assertion failed int int
 FAIL TestCreateServiceSecretFileMode .s
 RUN TestCreateServiceConfigFileMode
 createtest.go assertion failed int int
 FAIL TestCreateServiceConfigFileMode .s

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport daemoncluster add a missing Unlock;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1920;. backport Fix racey TestHealthKillContainer;"backport of 
fixes 
Before this change if you assume that things work the way the test
expects them to it does not but lets assume for now we aren't really
testing anything because we are testing that a container is healthy
before and after we send a signal. This will give false positives even
if there is a bug in the underlying code. Sending a signal can take any
amount of time to cause a container to exit or to trigger healthchecks
to stop or whatever.
Now lets remove the assumption that things are working as expected
because they are not.
In this case top which is what is running in the container is
actually exiting when it receives USR.
This totally invalidates the test.
We need more control and knowledge as to what is happening in the
container to properly test this.
This change introduces a custom script which traps USR and flips the
health status each time the signal is received.
We then send the signal twice so that we know the change has occurred
and check that the value has flipped so that we know the change has
actually occurred.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update gotest.tools v..;"followup to and 
full diff gotestyourselfgotest.toolsv.....v..

assert Fix NilError error nonnil type

fixes Typed nil errors should not pass NilError
fixes reflect call of reflect.Value.IsNil on struct Value for struct error type



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1921;Fix racey TestHealthKillContainer;"Before this change if you assume that things work the way the test
expects them to it does not but lets assume for now we aren't really
testing anything because we are testing that a container is healthy
before and after we send a signal. This will give false positives even
if there is a bug in the underlying code. Sending a signal can take any
amount of time to cause a container to exit or to trigger healthchecks
to stop or whatever.
Now lets remove the assumption that things are working as expected
because they are not.
In this case top which is what is running in the container is
actually exiting when it receives USR.
This totally invalidates the test.
We need more control and knowledge as to what is happening in the
container to properly test this.
This change introduces a custom script which traps USR and flips the
health status each time the signal is received.
We then send the signal twice so that we know the change has occurred
and check that the value has flipped so that we know the change has
actually occurred.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor containerd BuildKit protobuf grpc and golang.orgx;"containerdcontainerd changes containerdcontainerdacdcf...d
mobybuildkit changes mobybuildkitdedb...ddb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1922;. backport rootless script fixes;"backports of

 to get a clean cherrypick


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows CI Make sure that CI fails on any error;"What I did
On Windows CI tests are called using path
Jenkins PowerShell gotestsum go test
gotestsum automatically return any exit code coming from go test and these changes make sure that if gotestsum exit code is not zero we exit using to J";0
1923;. Backport fixes for killstop handling;"bedf Fix infinite wait in kill behavior fixes 
abcdc Fix stop hanging forever including infinite wait fixes 
c Fix log statement
Opening this up for discussion.
It is kind of a big change that could get us into trouble.
I did have someone from MSFT request that this be fixed since we ran into it in some case.
cc sparrc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update opencontainersselinux v..;"full diff opencontainersselinuxv.....v..

goselinuxSetKeyLabel fix for RHEL kernels
getSELinuxfs optimizesimplify using sync.Once
xattr use xsysunix simplify
Use procthreadself if available
Fix EnforceMode SetEnforceMode and SecurityCheckContext

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1924;. backport buildkit normalize build target and local platform;"backport of 
cc thaJeztah tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor bump libnetwork bfbdabcafbeceec;"full diff mobylibnetworkbffc...bfbd
relevant changes

mobylibnetwork Macvlan internal network should not change default gateway

fixes mobylibnetwork Internal macvlan network overrides default gateway


vendor godbusdbus v
Fix InhibitIPv nil panic
Cleanup VFP during overlay network removal

fixes VFP leak in windows overlay network deletion



this should be the last one listed in comment to be vendored so
fixes on master
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1925;buildkit normalize build target and local platform;"Fixes 
Fixes dockerbuildx
Fixes dockerformac
 What I did
When resolving a local reference to build an image with BuildKit we need to normalize the two platforms reference and target platform before matching them otherwise it would fallback to remote and fail with
 Building .s FINISHED 
 internal load build definition from Dockerfile.child .s
 transferring dockerfile B .s
 internal load .dockerignore .s
 transferring context B .s
 ERROR internal load metadata for docker.iolocalfooparentlatest .s

 internal load metadata for docker.iolocalfooparentlatest

error failed to solve rpc error code Unknown desc failed to solve with frontend dockerfile.v failed to create LLB definition pull access denied repository does not exist or may require authorization server message insufficientscope authorization failed

If we check daemon logs we have
Requested build platform linuxarm does not match local image platform linuxarmv checking remote

 How I did it
Normalize local and target platform before matching them.
 How to verify it
On M host
 .Dockerfile.foo
FROM alpine
RUN echo Hello foo
 .Dockerfile.bar
FROM localfooparent
RUN echo Hello bar
DOCKERBUILDKIT docker build f Dockerfile.foo t localfooparent .
DOCKERBUILDKIT docker build f Dockerfile.bar t localfoochild .
 A picture of a cute animal not mandatory but encouraged
cc thaJeztah tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";integration add buffer to prevent goroutine leak;"What I did
Although this PR involves many files and functions it is very simple.
Some test functions use channels in a buggy way when unexpected things happen e.g. timeout err nil panic goroutine will return without execute receive and gor";0
1926;dockerdrootless.sh Fix variable not double quotes cause unexpected behavior;"What I did
XDGRUNTIMEDIR variable not setting check should be fail.
rootmaster echo XDGRUNTIMEDIR
runuser
rootmaster su foouser
Last login Sun Oct CST on pts
foousermaster id foouser
uidfoouser gi";daemoncluster add a missing Unlock;"What I did
The following code has a missing Unlock

 
 
 mobydaemonclusterswarm.go
 
 
 Lines to 
 in
 feed
 
 
 
 

 
 
 Take c.mu temporarily to wait for presently runnin";0
1927;. vendor Update gowinio to v..;"Updates gowinio to the latest v..x version. The main important fix
here is to gowinio's backuptar package. This is needed to fix a bug in
sparse file handling in container layers which was exposed by a recent
change in Windows.
gowinio v.. httpsgithub.commicrosoftgowinioreleasestagv..
There is a similar PR to master to update to gowinio v.. .
However for . we need to stay on v..x versions as they avoid a
breaking change.
Signedoffby Kevin Parsons kevparmicrosoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Update Golang ..;"followup to 
backports of

 Update to using alpine .
 Bump go ..

only the golang bump as the GOMODULE change was already included in 


 bump golang .. CVE
 Bump Golang .. CVE
 Bump Golang ..
 Update Golang ..
 Update Golang ..
 Update Golang .. golang.orgxcrypto CVE CVE

only the golang bump as the crypto update was already included in 


 Update Golang ..
 Bump Golang ..

 httpsgithub.commobymobypull Update to using alpine .
git cherrypick s S x bfccafbbdbebdae

 httpsgithub.commobymobypull Bump go ..
git cherrypick s S x eaebcabebcbc

 httpsgithub.commobymobypull bump golang .. CVE
git cherrypick s S x ebcdecefacdbfbfdecbbc

 httpsgithub.commobymobypull Bump Golang .. CVE
git cherrypick s S x bacbbada

 httpsgithub.commobymobypull Bump Golang ..
git cherrypick s S x cfeeafcdffd

 httpsgithub.commobymobypull Update Golang ..
git cherrypick s S x aebbbaecefeafb

 httpsgithub.commobymobypull Update Golang ..
git cherrypick s S x dbaecaeebcdebaeecf

 httpsgithub.commobymobypull Update Golang .. golang.orgxcrypto CVE CVE
git cherrypick s S x dbbeaefbbcac

 httpsgithub.commobymobypull Update Golang ..
git cherrypick s S x ffaeddffcfcebfffe
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1928;vendor Update gowinio to v..;"Updates gowinio to the latest version. The main important fix here is
to gowinio's backuptar package. This is needed to fix a bug in sparse
file handling in container layers which was exposed by a recent change
in Windows.
gowinio v.. httpsgithub.commicrosoftgowinioreleasestagv..
Signedoffby Kevin Parsons kevparmicrosoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugin fix a double RLock bug;"What I did
The following code has a double RLock bug

 
 
 mobypluginstore.go
 
 
 Lines to 
 in
 feed
 
 
 
 

 
 
 ps.RLock 
 

 
 
 resu";0
1929;CI update dockerpy to ..;"full diff dockerdockerpy.......
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Revert Jenkinsfile temporarily pin windows image to ...;"This reverts commit cd equivalent of on master
Machines in CI have been updated and now work again on the latest images so reverting this change here as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1930;revert Dockerfile CRIU disable GPG validation due to expired signing key;"this reverts the temporary workaround from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsystem.getxattr handle changed size case;"lgetxattr man page says

If size is specified as zero these calls return the current size of
the named extended attribute and leave value unchanged. This can be
used to determine the size of the buffer that should be supplied in a
subsequent call. But bear in mind that there is a possibility that
the attribute value may change between the two calls so that it is
still necessary to check the return status from the second call.

The current code does not handle the But... case i.e. when the size
changes between the two calls and the new size is larger.
Fix the above problem and slightly simplify the code flow.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1931;Dockerfile CRIU disable GPG validation due to expired signing key;"This is a horrible thing to do but CRIU installed here is only used as
part of our CI integration tests. We should of course remove this
hack ASAP once the opensuse packagers have set up a new key but at
least this allows us to unblock CI which is currently completely
broken
ADD chmod httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebianRelease.key etcapttrusted.gpg.dcriu.gpg.asc
RUN mounttypecachesharinglockedidmobycriuaptlibtargetvarlibapt \
 mounttypecachesharinglockedidmobycriuaptcachetargetvarcacheapt \
 echo 'deb httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian ' etcaptsources.list.dcriu.list \
 aptget update \
 aptget install y noinstallrecommends criu \
 install D usrsbincriu buildcriu

Hit httpcdnfastly.deb.debian.orgdebian bullseye InRelease
Hit httpcdnfastly.deb.debian.orgdebiansecurity bullseyesecurity InRelease
Hit httpcdnfastly.deb.debian.orgdebian bullseyeupdates InRelease
Get httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease B
Err httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease
 The following signatures were invalid EXPKEYSIG AADA develtools OBS Project develtoolsbuild.opensuse.org
Reading package lists...
W GPG error httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease The following signatures were invalid EXPKEYSIG AADA develtools OBS Project develtoolsbuild.opensuse.org
E The repository 'httpsdownload.opensuse.orgrepositoriesdeveltoolscriuDebian InRelease' is not signed.

And checking the signing key with aptkey list
etcapttrusted.gpg.dcriu.gpg.asc

pub rsa SC expired 
 E E CE DB C A A D A
uid expired develtools OBS Project develtoolsbuild.opensuse.org

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update CRIU to v. Silicon Willet;"full diff checkpointrestorecriuv....v.
Here we have some bugfixes huuuge .py patch for coding style
and nice set of new features like bit for ARM TLS for page
server and new mode for CGroups.
New features

VDSO arm support
Add TLS support for page server communications
Ignore mode for managecgroups
Restore SOBROADCAST option for inet sockets

Bugfixes

Auxiliary events were left in inotify queues
Lazypages daemon didn't detect stack pages and surrounders properly and marked them as lazy
Memory and resource leakage were detected by coverity cppcheck and clang

Improvements

Use gettimeofday directly from vdso for restore timings
Reformat all .py code into pep style

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1932;ocicaps limit available capabilities to current environment;"fixes docker container is privileged tries to assume more capabilities than available
replaces closes fix don't attempt to set unavailable capabilities in privileged mode
fixes Recent test failures in CI apply caps operation not permitted except for TestHealthKillContainer which is tracked in 
Relates to

opencontainersrunc libctcapabilities create capabilities map based on current environment
mobybuildkit fix provide only available capabilities to insecure environment
opencontainersrunc capabilities WARN not ERROR for unknown unavailable capabilities
opencontainersruntimespec runtime should WARN ignore capabilities that cannot be granted

In situations where docker runs in an environment where capabilities are limited
sucn as dockerindocker in a container created by older versions of docker or
in a container where some capabilities have been disabled starting a privileged
container may fail because even though the kernel supports a capability the
capability is not available.
This patch attempts to address this problem by limiting the list of known capa
bilities on the set of effective capabilties for the current process. This code
is based on the code in containerd's caps package
 Description for the changelog

Detect list of available capabilities based on current environment to allow running privileged containers in environments with a restricted set of capabilities.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add a TODO in the Dockerfile regarding nftables;"Someday we'll hopefully support nftables directly and will likely then need some kind of incontainer runtime detection perhaps based on loaded modules or something similar. This updates the related Dockerfile comment accordingly linking to what I think is the appropriate nftables tracking issue .
This is as discussed in comment ?ÿç
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1933;libnetwork some cleanup and logging improvements in resolver;"followup to with some cleanuprefactoring
libnetwork improve consistency in log messages

Make sure all log messages have the resolver prefix
Use logrus.WithError consistently
Improve information included in some logs

libnetwork some minor refactoring cleanup

don't pass the query's quetion.name separately as we're already passing the query itself.
remove a fallthrough in favor of combining the cases in the switch

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update DNS library;"supersedes 
closes 
This makes sure that we don't become vulnerable to CVE or
CVE in the future. As far as I can tell we are not vulnerable to either right now but if someone were to use one of the affected methods in the future we could become vulnerable with our current dependency.
 What I did
Bumped the version of github.commiekgdns to v.. in vendor.conf.
 How I did it
Manually edited the file then ran the version of vendor installed in our containers by default to update the vendor tree.
eg. go get u github.comLKDvndreacbdeedfdcad
 How to verify it
CI should do that I'm waiting on that now.
This also updates libnetwork to bffcbcbbcecbfab
full diff mobylibnetworkfeefff...bffc
includes

mobylibnetwork Allow bridge net driver to skip IPv configuration of bridge interface

adds support for a com.docker.network.bridge.inhibitipv labelconfiguration
fixes Prevent bridge network driver from setting IPv address on bridge interface


mobylibnetwork Support for com.docker.network.hostipv driver label

fixes Unable to choose outbound external IP for containers


mobylibnetwork Improving load balancer performance

fixes SWARM Very poor performance for ingress network with lots of parallel requests


mobylibnetwork Fix internal macvlan network to work in swarm

fixes mobylibnetwork Internal macvlan network doesn't work in swarm
relates to addresses part of 



 Description for the changelog

 Add support for a com.docker.network.bridge.inhibitipv driver label to skip IPv configuration of bridge interface dockerlibnetwork
 Add support for a com.docker.network.hostipv driver label to choose outbound external IP for containers dockerlibnetwork
 Improve load balancer performance for ingress network with lots of parallel requests dockerlibnetwork
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1934;libnetwork ServeDNS don't panic on unsupported query types;"fixes 
This was added in bcb but resulted in a panic if the embedded DNS had to handle an unsupported querytype such as ANY.
This patch adds a debug log for this case to better describe how it's handled.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Don't die when daemon cannot read certs.d;"This reverts commit .
This exception was added for rootless mode but superseded by the followup commit ffaf in the same PR which uses a different path to look for the certs when running in rootless mode
See the discussion on comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1935;. Update Go to ..;"go.. released includes a security fix to the linker and miscwasm
directory as well as bug fixes to the runtime and to the texttemplate package.
See the Go .. milestone on our issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport docs add API versions v. v. v. v.;"backport of 
Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch

v. docker v.
v. docker v.
v. docker v.
v. docker v.
v. docker v.
v. docker v.
v. docker v..
v. docker v..

Note that

API versions v. v. are yet to be added after the tags and release
branches from the dockerdockerce monorepo have been extracted.
docker v.. made the switch from using a markdown file to using swagger
to document the API.

Approach taken
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout upstream. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit fdbc
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1936;Update Go to ..;"go.. released includes a security fix to the linker and miscwasm
directory as well as bug fixes to the compiler the runtime the go command and
to the time and texttemplate packages. See the Go .. milestone on our issue
tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update buildkit to dedb;"Update buildkit to current master. Mainly to bring the fixes already picked to . branch to master as well.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1937;registry clean up some v code;"See individual commits for details
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docs add API versions v. v. v. v.;"Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch

Note that

API versions v. v. are yet to be added after the tags and release
branches from the dockerdockerce monorepo have been extracted.
docker v.. made the switch from using a markdown file to using swagger
to document the API.

Approach taken
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout upstream. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v.. apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

Signedoffby Sebastiaan van Stijn githubgone.nl

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
picture source The animal zone

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1938;registry remove unused registry.ErrAlreadyExists;"This error was no longer in use after the v push code was removed in dadf 
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport bump google.golang.orggrpc v..;"backport of 
full diff grpcgrpcgov.....v..

grpcgo server set and advertise max frame size of KB
grpcgrpcgo grpclb fix deadlock in grpclb connection cache

Before the fix if the timer to remove a SubConn fires at the
same time NewSubConn cancels the timer it caused a mutex leak
and deadlock.



 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1939;master forwardport security fixes from ..;"This cherrypicks the security fixes from the v.. release

ac Lock down docker root dir perms fix for CVE GHSAfwxpjgw
f chrootarchive don't create parent dirs outside of chroot fix for CVE GHSAvfvwgj

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Set the bip network value as the subnet;"backport of 
fixes 
Dont assign the bip value directly to the subnet
for the default bridge. Instead use the network value
from the ParseCIDR output
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1940;Port testutildaemon to FreeBSD;"testutildaemon uses a generic unix implementation that assumes that
the host OS supports cgroups network namespaces which is not the
case for FreeBSD.
This change adds a FreeBSDspecific implementation for
testutildaemon namely for cleanupNetworkNamespace and
CgroupNamespace functions.
Signedoffby Artem Khramov akhramovpm.me
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport AppArmor fixes;"backports of

 AppArmor remove rules for linkgraph.db SQLite database
 AppArmor add missing rules for running in userns

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1941;Update containerd binary to v..;"Update containerd binary to v..
The seventh patch release for containerd . is a security release to fix CVE.
Notable Updates

Fix insufficiently restricted permissions on container root and plugin directories
GHSAchmxwmvq

Update containerd binary to v..

Install apparmor parser for arm and update seccomp to ..
Update runc binary to ..
Update hcsshim to v.. to fix layer issue on Windows Server 
Add support for 'clone' syscall to fix issue with certain images when seccomp is enabled
Add image config labels in CRI container creation
Fix panic in metadata content writer on copy error

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Use FILESHAREDELETE for log files on Windows.;"backport of 
This hopefully fixes issues where one goroutine tries to delete or rename a file
while another goroutine has the file open e.g. a log reader.
Closes 
Closes 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1942;. update containerd binary to v..;"Update runc to v..
Update hcsshim to v..
Support clone in default seccomp profile
Fix panic in metadata content writer on copy error

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Fix docker crash when creating namespaces with UID in etcsubuid and etcsubgid;"This fix tries to address the issue raised in where
docker crash when creating namespaces with UID in etcsubuid and etcsubgid.
The issue was that mapping to etcsubugid in docker does not
allow numeric ID.
This fix fixes the issue by probing other combinations uidgroupname usernamegid uidgid
when normal usernamegroupname fails.
This fix fixes .
 Description for the changelog


Backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1943;Dockerfile switch CRIU install to Debian bullseye packages;"followup to addresses comment. I saw a package repo for Debian is now available opencontainersrunc
There's a package repository for Debian bullseye now.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Update API docs to specify using baseurl;"backport of 
fixes 
Specify baseurl rather than base. Also correct other links to the baseurl section of RFC
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1944;Makefile update bfirshredoc to .. and fix swagger warnings;"Looks like I never pushed this branch ?ñ??Çì?Öé??Å
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport various dockerfile changes and update to buster variant;"This backports various changes from master to the . branch some of which are in preparation of updating to Go . others to reduce formatting differences to make comparing slightly easier.
Note that in this variant I did not include the Dockerfile changes to the buildkit buildx optimized version as a result some formatting changes did not apply cleanly.
If we think the buildkit optimized version should be considered I can open a variant with that PR and relatedfollowup PRs included.

d Dockerfile set GOMODULEoff

taken from Bump go ..


 goswagger fix panic under Golang .

no clean cherrypick because is not in the . branch


 Use build args to override binary commits in dockerfile
 bump vndr v.. to support versioned import paths
 bump vndr v..
 Dockerfile formatting changes and optimisations

no clean cherrypick because is not in the . branch


 Dockerfile switch golang image to buster variant
 Update windows container utility to fix compilation on gccmingww .

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1945;Dockerfile move installers into Dockerfile and update registry versions;"Followup to 

Dockerfile move installers into Dockerfile
This moves installers that are only used during CI into the Dockerfile. Some installers are still used in the releasepipeline so keeping thos for now.
Dockerfile update testregistries to released versions

using v.. for the v registry last release with only v
using v.. as current version was v..rc.



Looks like various tests are failing on registry v.. so I'm keeping further updates for a followup to be looked into
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor update buildkit v..;"full diff mobybuildkitead...v..

mobybuildkit v. ops fix deadlock on releasing shared mounts

backport of mobybuildkit ops fix deadlock on releasing shared mounts
fixes mobybuildkit Deadlock on cache mounts



 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1946;Makefile remove passing proxy envvars;"cleaning up some branches and this was in a branch together with some other changes but not directly related so pushing as a separate PR.
Docker . and up allow the CLI to be configured to set default proxy
envvars to be used both as buildarg and as env for docker run see
dockercli so setting these here should be redundant. If someone
needs these envvars set they should be configured in the cli's
.dockerconfig.json instead.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport daemon add grpc.WithBlock option;"WithBlock makes sure that the following containerd request is reliable.
In one edge case with high load pressure kernel kills dockerd containerd
and containerdshims caused by OOM. When both dockerd and containerd
restart but containerd will take time to recover all the existing
containers. Before containerd serving dockerd will failed with gRPC
error. That bad thing is that restore action will still ignore the
any nonNotFound errors and returns running state for
already stopped container. It is unexpected behavior. And
we need to restart dockerd to make sure that anything is OK.
It is painful. Add WithBlock can prevent the edge case. And
n common case the containerd will be serving in shortly.
It is not harm to add WithBlock for containerd connection.
Signedoffby Wei Fu fuweidgmail.com
cherry picked from commit f
Signedoffby Wei Fu fuweidgmail.com
From 
Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1947;daemon.UsingSystemd don't call getCD multiple times;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Jenkinsfile temporarily pin windows image to ...;"The latest ltsc image ... appear to be broken
and even a RUN WriteHost hello hangs.
Temporarily switching back to an older version so that CI doesn't fail.
This is a workaround related to comment

Please see httpssupport.microsoft.comenushelpyoumayencounterissueswhenusingwindowsserverdockercontainerim for the latest status.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1948;. Bump swarmkit to get fix for rollback;"Signedoffby Adam Williams awilliamsmirantis.com
 What I did
Update Swarmkit version to get fix for rollback issue 
When the updateConfig delay parameter is larger than the monitor parameter an error in updating can be missed and rollback not performed. This fix will check for the case where monitor delay and use the larger of the two.
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Use condition variable to wake stats collector.;"Backport of 

Before the collection goroutine wakes up every second as configured.
This sleep interval is in case there are no stats to collect we don't
end up in a tight loop.
Instead use a condition variable to signal that a collection is needed.
This prevents us from waking the goroutine needlessly when there is no
one looking for stats.
For now I've kept the sleep just moved it to the end of the loop which
gives some space between collections.
Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit eeb
Signedoffby Brian Goff cpuguygmail.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1949;daemon fix TestVerifyPlatformContainerResources not capturing variable;"relates to httpsgithub.commobymobypullfilesr
looks like I introduced this in  This test runs with t.Parallel and uses subtests but didn't capture the tc variable which potentialy likely makes it test the same testcase multiple times A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport vendor update opencontainersselinux v..;"backport of 
full diff opencontainersselinuxb...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1950;. backport quota adjust buildtags to allow build without CGO;"Backport to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update opencontainersselinux v..;"full diff opencontainersselinuxb...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1951;Port pkgsystemmknod.go to FreeBSD;"fixes 
Because FreeBSD uses bit device nodes see
httpsreviews.freebsd.orgrS Linux implementation of
system.Mknod system.Mkdev is not sufficient.
This change adds freebsdspecific implementations for Mknod and
Mkdev.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upstream logging changes from Enterprise Edition;"fixes 
 What I did

Got permission from Mirantis to upstream logging changes.
Downloaded the patch from GitHub
git am eeenginepr.patch

eeenginepr.patch

From cbabbcbacfbacff Mon Sep 
From Brian Goff cpuguygmail.com
Date Thu Apr 
Subject PATCH Support reads for all log drivers.

This supplements any log driver which does not support reads with a
custom read implementation that uses a local file cache.

Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit debfbcaefeebf
Signedoffby Madhu Venugopal madhudocker.com

 containercontainer.go | 
 ...loggerloggerutilscachelocalcache.go | 
 ...pluginloggingcmddiscarddriver.go | 
 ...pluginloggingcmddiscardmain.go | 
 ...pluginloggingcmddiscardmaintest.go | 
 integrationpluginloggingmaintest.go | 
 integrationpluginloggingreadtest.go | 
 files changed insertions deletions
 create mode daemonloggerloggerutilscachelocalcache.go
 create mode integrationpluginloggingcmddiscarddriver.go
 create mode integrationpluginloggingcmddiscardmain.go
 create mode integrationpluginloggingcmddiscardmaintest.go
 create mode integrationpluginloggingreadtest.go

diff git acontainercontainer.go bcontainercontainer.go
index acb..ddaa 
 acontainercontainer.go
 bcontainercontainer.go
 import 
 	github.comdockerdockerdaemonlogger
 	github.comdockerdockerdaemonloggerjsonfilelog
 	github.comdockerdockerdaemonloggerlocal
	github.comdockerdockerdaemonloggerloggerutilscache
 	github.comdockerdockerdaemonnetwork
 	github.comdockerdockererrdefs
 	github.comdockerdockerimage
 type Container struct 
 	NoNewPrivileges bool
 
 	 Fields here are specific to Windows
	NetworkSharedContainerID string json
	SharedEndpointList string json
	NetworkSharedContainerID string json
	SharedEndpointList string json
	LocalLogCacheMeta localLogCacheMeta jsonomitempty


type localLogCacheMeta struct 
	HaveNotifyEnabled bool
 
 
 NewBaseContainer creates a new container with its
 func container Container StartLogger logger.Logger error 
 		
 		l logger.NewRingLoggerl info bufferSize
 	

	if ok l.logger.LogReader ok 
		logPath err container.GetRootResourcePathcontainercached.log
		if err nil 
			return nil err
		
		info.LogPath logPath

		if container.LocalLogCacheMeta.HaveNotifyEnabled 
			logrus.WithFieldcontainer container.ID.InfoConfigured log driver does not support reads enabling local file cache for container logs
		
		l err cache.WithLocalCachel info
		if err nil 
			return nil errors.Wraperr error setting up local container log cache
		
	
 	return l nil
 
 
diff git adaemonloggerloggerutilscachelocalcache.go bdaemonloggerloggerutilscachelocalcache.go
new file mode 
index ..cfbec
 devnull
 bdaemonloggerloggerutilscachelocalcache.go
 
package cache import github.comdockerdockerdaemonloggerloggerutilscache

import 
	github.comdockerdockerdaemonlogger
	github.comdockerdockerdaemonloggerlocal
	github.comsirupsenlogrus


 WithLocalCache wraps the passed in logger with a logger caches all writes locally
 in addition to writing to the passed in logger.
func WithLocalCachel logger.Logger logInfo logger.Info logger.Logger error 
	localLogger err local.NewlogInfo
	if err nil 
		return nil err
	
	return loggerWithCache
		l l
		 TODOcpuguy Should this be configurable
		cache logger.NewRingLoggerlocalLogger logInfo 
	 nil


type loggerWithCache struct 
	l logger.Logger
	cache logger.Logger


func l loggerWithCache Logmsg logger.Message error 
	 copy the message since the underlying logger will return the passed in message to the message pool
	dup logger.NewMessage
	dumbCopyMessagedup msg
	if err l.l.Logmsg err nil 
		return err
	
	return l.cache.Logdup


func l loggerWithCache Name string 
	return l.l.Name


func l loggerWithCache ReadLogsconfig logger.ReadConfig logger.LogWatcher 
	return l.cache.logger.LogReader.ReadLogsconfig


func l loggerWithCache Close error 
	err l.l.Close
	if err l.cache.Close err nil 
		logrus.WithErrorerr.Warnerror while shutting cache logger
	
	return err


 dumbCopyMessage is a bit of a fake copy but avoids extra allocations which are not neccessary for this use case.
func dumbCopyMessagedst src logger.Message 
	dst.Source src.Source
	dst.Timestamp src.Timestamp
	dst.PLogMetaData src.PLogMetaData
	dst.Err src.Err
	dst.Attrs src.Attrs
	dst.Line src.Line

diff git aintegrationpluginloggingcmddiscarddriver.go bintegrationpluginloggingcmddiscarddriver.go
new file mode 
index ..ccfcca
 devnull
 bintegrationpluginloggingcmddiscarddriver.go
 
package main

import 
	encodingjson
	io
	ioioutil
	nethttp
	os
	sync
	syscall


type startLoggingRequest struct 
	File string


type capabilitiesResponse struct 
	Cap struct 
		ReadLogs bool
	


type driver struct 
	mu sync.Mutex
	logs mapstringio.Closer


type stopLoggingRequest struct 
	File string


func handlemux http.ServeMux 
	d driverlogs makemapstringio.Closer
	mux.HandleFuncLogDriver.StartLogging funcw http.ResponseWriter r http.Request 
		var req startLoggingRequest
		if err json.NewDecoderr.Body.Decodereq err nil 
			http.Errorw err.Error http.StatusBadRequest
			return
		

		f err os.OpenFilereq.File syscall.ORDONLY 
		if err nil 
			responderr w
		

		d.mu.Lock
		d.logsreq.File f
		d.mu.Unlock

		go io.Copyioutil.Discard f
		responderr w
	

	mux.HandleFuncLogDriver.StopLogging funcw http.ResponseWriter r http.Request 
		var req stopLoggingRequest
		if err json.NewDecoderr.Body.Decodereq err nil 
			http.Errorw err.Error http.StatusBadRequest
			return
		

		d.mu.Lock
		if f d.logsreq.File f nil 
			f.Close
		
		respondnil w
	

	mux.HandleFuncLogDriver.Capabilities funcw http.ResponseWriter r http.Request 
		json.NewEncoderw.EncodecapabilitiesResponse
			Cap struct ReadLogs bool ReadLogs false
		
	


type response struct 
	Err string


func responderr error w io.Writer 
	var res response
	if err nil 
		res.Err err.Error
	
	json.NewEncoderw.Encoderes

diff git aintegrationpluginloggingcmddiscardmain.go bintegrationpluginloggingcmddiscardmain.go
new file mode 
index ..caa
 devnull
 bintegrationpluginloggingcmddiscardmain.go
 
package main

import 
	net
	nethttp


func main 
	l err net.Listenunix rundockerpluginsplugin.sock
	if err nil 
		panicerr
	

	mux http.NewServeMux
	handlemux

	server http.Server
		Addr l.Addr.String
		Handler mux
	
	server.Servel

diff git aintegrationpluginloggingcmddiscardmaintest.go bintegrationpluginloggingcmddiscardmaintest.go
new file mode 
index ..abdfa
 devnull
 bintegrationpluginloggingcmddiscardmaintest.go
 
package main
diff git aintegrationpluginloggingmaintest.go bintegrationpluginloggingmaintest.go
index ea..ff 
 aintegrationpluginloggingmaintest.go
 bintegrationpluginloggingmaintest.go
 func TestMainm testing.M 
 		fmt.Printlnerr
 		os.Exit
 	
	if testEnv.OSType linux 
		os.Exit
	
 	err environment.EnsureFrozenImagesLinuxtestEnv
 	if err nil 
 		fmt.Printlnerr
diff git aintegrationpluginloggingreadtest.go bintegrationpluginloggingreadtest.go
new file mode 
index ..fea
 devnull
 bintegrationpluginloggingreadtest.go
 
package logging

import 
	bytes
	testing

	context

	time

	strings

	github.comdockerdockerapitypes
	github.comdockerdockerapitypescontainer
	github.comdockerdockerinternaltestdaemon
	github.comdockerdockerpkgstdcopy
	gotest.toolsassert


 TestReadPluginNoRead tests that reads are supported even if the plugin isn't capable.
func TestReadPluginNoReadt testing.T 
	t.Parallel
	d daemon.Newt
	d.StartWithBusyboxt iptablesfalse
	defer d.Stopt

	client err d.NewClient
	assert.Assertt err
	createPlugint client test discard asLogDriver

	ctx context.Background
	defer func 
		err client.PluginRemovectx test types.PluginRemoveOptionsForce true
		assert.Checkt err
	

	err client.PluginEnablectx test types.PluginEnableOptionsTimeout 
	assert.Checkt err

	c err client.ContainerCreatectx
		container.Config
			Image busybox
			Cmd stringbinecho hello world
		
		container.HostConfigLogConfig container.LogConfigType test
		nil
		
	
	assert.Assertt err

	err client.ContainerStartctx c.ID types.ContainerStartOptions
	assert.Assertt err

	logs err client.ContainerLogsctx c.ID types.ContainerLogsOptionsShowStdout true
	assert.Assertt err
	defer logs.Close

	buf bytes.NewBuffernil

	errCh makechan error
	go func 
		 err stdcopy.StdCopybuf buf logs
		errCh err
	

	select 
	case time.After time.Second
		t.Fataltimeout waiting for IO to complete
	case err errCh
		assert.Assertt err
	
	assert.Assertt strings.TrimSpacebuf.String hello world buf.Bytes


From eccdabebbcbbfddafa Mon Sep 
From Brian Goff cpuguygmail.com
Date Mon Apr 
Subject PATCH Support configuration of log cacher.

Configuration over the API per container is intentionally left out for
the time being but is supported to configure the default from the
daemon config.

Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit cbecfbceaacacffcdd
Signedoffby Madhu Venugopal madhudocker.com

 containercontainer.go | 
 daemonlogdriverslinux.go | 
 daemonlogdriverswindows.go | 
 daemonloggerfactory.go | 
 daemonloggerlogcacheopts.go | 
 ...loggerloggerutilscachelocalcache.go | 
 ...loggerutilscachelogcachetest.go | 
 daemonloggerloggerutilscachevalidate.go | 
 daemonlogs.go | 
 ...pluginloggingcmddiscarddriver.go | 
 integrationpluginloggingreadtest.go | 
 files changed insertions deletions
 create mode daemonloggerlogcacheopts.go
 create mode daemonloggerloggerutilscachelogcachetest.go
 create mode daemonloggerloggerutilscachevalidate.go

diff git acontainercontainer.go bcontainercontainer.go
index ddaa..aebcb 
 acontainercontainer.go
 bcontainercontainer.go
 func container Container StartLogger logger.Logger error 
 	
 
 	if ok l.logger.LogReader ok 
		logPath err container.GetRootResourcePathcontainercached.log
		if err nil 
			return nil err
		
		info.LogPath logPath
		if cache.ShouldUseCachecfg.Config 
			logPath err container.GetRootResourcePathcontainercached.log
			if err nil 
				return nil err
			
 
		if container.LocalLogCacheMeta.HaveNotifyEnabled 
			logrus.WithFieldcontainer container.ID.InfoConfigured log driver does not support reads enabling local file cache for container logs
		
		l err cache.WithLocalCachel info
		if err nil 
			return nil errors.Wraperr error setting up local container log cache
			if container.LocalLogCacheMeta.HaveNotifyEnabled 
				logrus.WithFieldcontainer container.ID.WithFielddriver container.HostConfig.LogConfig.Type.InfoConfigured log driver does not support reads enabling local file cache for container logs
				container.LocalLogCacheMeta.HaveNotifyEnabled true
			
			info.LogPath logPath
			l err cache.WithLocalCachel info
			if err nil 
				return nil errors.Wraperr error setting up local container log cache
			
 		
 	
 	return l nil
diff git adaemonlogdriverslinux.go bdaemonlogdriverslinux.go
index aa..fb 
 adaemonlogdriverslinux.go
 bdaemonlogdriverslinux.go
 import 
 	 github.comdockerdockerdaemonloggerjsonfilelog
 	 github.comdockerdockerdaemonloggerlocal
 	 github.comdockerdockerdaemonloggerlogentries
	 github.comdockerdockerdaemonloggerloggerutilscache
 	 github.comdockerdockerdaemonloggersplunk
 	 github.comdockerdockerdaemonloggersyslog
 
diff git adaemonlogdriverswindows.go bdaemonlogdriverswindows.go
index eafb..ddecb 
 adaemonlogdriverswindows.go
 bdaemonlogdriverswindows.go
 import 
 	 github.comdockerdockerdaemonloggergelf
 	 github.comdockerdockerdaemonloggerjsonfilelog
 	 github.comdockerdockerdaemonloggerlogentries
	 github.comdockerdockerdaemonloggerloggerutilscache
 	 github.comdockerdockerdaemonloggersplunk
 	 github.comdockerdockerdaemonloggersyslog
 
diff git adaemonloggerfactory.go bdaemonloggerfactory.go
index bb..eaf 
 adaemonloggerfactory.go
 bdaemonloggerfactory.go
 func ValidateLogOptsname string cfg mapstringstring error 
 		
 	
 
	if err validateExternalcfg err nil 
		return err
	

 	if factory.driverRegisteredname 
 		return fmt.Errorflogger no log driver named 's' is registered name
 	
diff git adaemonloggerlogcacheopts.go bdaemonloggerlogcacheopts.go
new file mode 
index ..dced
 devnull
 bdaemonloggerlogcacheopts.go
 
package logger

var externalValidators LogOptValidator

 RegisterExternalValidator adds the validator to the list of external validators.
 External validators are used by packages outside this package that need to add their own validation logic.
 This should only be called on package initialization.
func RegisterExternalValidatorv LogOptValidator 
	externalValidators appendexternalValidators v


 AddBuiltinLogOpts updates the list of builtin log opts. This allows other packages to supplement additional log options
 without having to register an actual log driver. This is used by things that are more proxy log drivers and should
 not be exposed as a usable log driver to the API.
 This should only be called on package initialization.
func AddBuiltinLogOptsopts mapstringbool 
	for k v range opts 
		builtInLogOptsk v
	


func validateExternalcfg mapstringstring error 
	for v range externalValidators 
		if err vcfg err nil 
			return err
		
	
	return nil

diff git adaemonloggerloggerutilscachelocalcache.go bdaemonloggerloggerutilscachelocalcache.go
index cfbec..fbc 
 adaemonloggerloggerutilscachelocalcache.go
 bdaemonloggerloggerutilscachelocalcache.go
 
 package cache import github.comdockerdockerdaemonloggerloggerutilscache
 
 import 
	strconv

	github.comdockerdockerapitypescontainer
 	github.comdockerdockerdaemonlogger
 	github.comdockerdockerdaemonloggerlocal
	units github.comdockergounits
	github.compkgerrors
 	github.comsirupsenlogrus
 
 
const 
	 DriverName is the name of the driver used for local log caching
	DriverName local.Name

	cachePrefix cache
	cacheDisabledKey cachePrefix disabled


var builtInCacheLogOpts mapstringbool
	cacheDisabledKey true


 WithLocalCache wraps the passed in logger with a logger caches all writes locally
 in addition to writing to the passed in logger.
func WithLocalCachel logger.Logger logInfo logger.Info logger.Logger error 
	localLogger err local.NewlogInfo
func WithLocalCachel logger.Logger info logger.Info logger.Logger error 
	initLogger err logger.GetLogDriverDriverName
 	if err nil 
 		return nil err
 	

	cacher err initLoggerinfo
	if err nil 
		return nil errors.Wraperr error initializing local log cache driver
	

	if info.Configmode container.LogModeUnset || container.LogModeinfo.Configmode container.LogModeNonBlock 
		var size int 
		if s exists info.Configmaxbuffersize exists 
			size err units.RAMInBytess
			if err nil 
				return nil err
			
		
		cacher logger.NewRingLoggercacher info size
	

 	return loggerWithCache
		l l
		 TODOcpuguy Should this be configurable
		cache logger.NewRingLoggerlocalLogger logInfo 
		l l
		cache cacher
 	 nil
 
 
 type loggerWithCache struct 
 
 
 func l loggerWithCache Logmsg logger.Message error 
	 copy the message since the underlying logger will return the passed in message to the message pool
	 copy the message as the original will be reset once the call to Log is complete
 	dup logger.NewMessage
 	dumbCopyMessagedup msg

 	if err l.l.Logmsg err nil 
 		return err
 	
 func l loggerWithCache Close error 
 	return err
 
 
 ShouldUseCache reads the log opts to determine if caching should be enabled
func ShouldUseCachecfg mapstringstring bool 
	if cfgcacheDisabledKey 
		return true
	
	b err strconv.ParseBoolcfgcacheDisabledKey
	if err nil 
		 This shouldn't happen since the values are validated before hand.
		return false
	
	return b


 dumbCopyMessage is a bit of a fake copy but avoids extra allocations which are not neccessary for this use case.
 func dumbCopyMessagedst src logger.Message 
 	dst.Source src.Source
 func dumbCopyMessagedst src logger.Message 
 	dst.PLogMetaData src.PLogMetaData
 	dst.Err src.Err
 	dst.Attrs src.Attrs
	dst.Line src.Line
	dst.Line appenddst.Line src.Line...
 
diff git adaemonloggerloggerutilscachelogcachetest.go bdaemonloggerloggerutilscachelogcachetest.go
new file mode 
index ..bffcf
 devnull
 bdaemonloggerloggerutilscachelogcachetest.go
 
package cache

import 
	context
	testing

	time

	bytes

	github.comdockerdockerdaemonlogger
	gotest.toolsassert
	gotest.toolsassertcmp


type fakeLogger struct 
	messages chan logger.Message
	close chan struct


func l fakeLogger Logmsg logger.Message error 
	select 
	case l.messages msg
	case l.close
	
	logger.PutMessagemsg
	return nil


func l fakeLogger Name string 
	return fake


func l fakeLogger Close error 
	closel.close
	return nil


func TestLogt testing.T 
	cacher fakeLoggermakechan logger.Message makechan struct
	l loggerWithCache
		l fakeLoggermakechan logger.Message makechan struct
		cache cacher
	
	defer l.Close

	var messages logger.Message
	for i i i 
		messages appendmessages logger.Message
			Timestamp time.Now
			Line appendbytes.Repeatbytea '\n'
		
	

	ctx cancel context.WithTimeoutcontext.Background time.Second
	defer cancel

	go func 
		for msg range messages 
			select 
			case ctx.Done
				return
			default
			

			m logger.NewMessage
			dumbCopyMessagem msg
			l.Logm
		
	

	for m range messages 
		var msg logger.Message
		select 
		case ctx.Done
			t.Fataltimed out waiting for messages... this is probably a test implementation error
		case msg cacher.messages
			assert.Assertt cmp.DeepEqualmsg m
		
	

diff git adaemonloggerloggerutilscachevalidate.go bdaemonloggerloggerutilscachevalidate.go
new file mode 
index ..bdd
 devnull
 bdaemonloggerloggerutilscachevalidate.go
 
package cache

import 
	strconv

	github.comdockerdockerdaemonlogger
	github.comdockerdockerdaemonloggerlocal
	github.compkgerrors


func init 
	for k v range local.LogOptKeys 
		builtInCacheLogOptscachePrefixk v
	
	logger.AddBuiltinLogOptsbuiltInCacheLogOpts
	logger.RegisterExternalValidatorvalidateLogCacheOpts


func validateLogCacheOptscfg mapstringstring error 
	if v cfgcacheDisabledKey v 
		 err strconv.ParseBoolv
		if err nil 
			return errors.Errorfinvalid value for option s s cacheDisabledKey cfgcacheDisabledKey
		
	
	return nil


 MergeDefaultLogConfig reads the default log opts and makes sure that any caching related keys that exist there are
 added to dst.
func MergeDefaultLogConfigdst defaults mapstringstring 
	for k v range defaults 
		if builtInCacheLogOptsk 
			continue
		
		if exists dstk exists 
			dstk v
		
	

diff git adaemonlogs.go bdaemonlogs.go
index cacaf..abf 
 adaemonlogs.go
 bdaemonlogs.go
 import 
 	timetypes github.comdockerdockerapitypestime
 	github.comdockerdockercontainer
 	github.comdockerdockerdaemonlogger
	logcache github.comdockerdockerdaemonloggerloggerutilscache
 	github.comdockerdockererrdefs
 	github.compkgerrors
 	github.comsirupsenlogrus
 func daemon Daemon mergeAndVerifyLogConfigcfg containertypes.LogConfig err
 		
 	
 
	logcache.MergeDefaultLogConfigcfg.Config daemon.defaultLogConfig.Config

 	return logger.ValidateLogOptscfg.Type cfg.Config
 
 
 func daemon Daemon setupDefaultLogConfig error 
 		Type config.LogConfig.Type
 		Config config.LogConfig.Config
 	

 	logrus.DebugfUsing default logging driver s daemon.defaultLogConfig.Type
 	return nil
 
diff git aintegrationpluginloggingcmddiscarddriver.go bintegrationpluginloggingcmddiscarddriver.go
index ccfcca..ebef 
 aintegrationpluginloggingcmddiscarddriver.go
 bintegrationpluginloggingcmddiscarddriver.go
 func handlemux http.ServeMux 
 		if f d.logsreq.File f nil 
 			f.Close
 		
		d.mu.Unlock
 		respondnil w
 	
 
diff git aintegrationpluginloggingreadtest.go bintegrationpluginloggingreadtest.go
index fea..abdc 
 aintegrationpluginloggingreadtest.go
 bintegrationpluginloggingreadtest.go
 func TestReadPluginNoReadt testing.T 
 	createPlugint client test discard asLogDriver
 
 	ctx context.Background
	defer func 
		err client.PluginRemovectx test types.PluginRemoveOptionsForce true
		assert.Checkt err
	
 
 	err client.PluginEnablectx test types.PluginEnableOptionsTimeout 
 	assert.Checkt err
	d.Stopt
 
	c err client.ContainerCreatectx
		container.Config
			Image busybox
			Cmd stringbinecho hello world
		
		container.HostConfigLogConfig container.LogConfigType test
		nil
		
	
	assert.Assertt err
	cfg container.Config
		Image busybox
		Cmd stringbinecho hello world
	
	for desc test range mapstringstruct 
		dOpts string
		logsSupported bool
	
		default logsSupported true
		disabled caching stringlogoptcachedisabledtrue false
		explicitly enabled caching stringlogoptcachedisabledfalse true
	 
		t.Rundesc funct testing.T 
			d.Startt appendstringiptablesfalse test.dOpts......
			defer d.Stopt
			c err client.ContainerCreatectx
				cfg
				container.HostConfigLogConfig container.LogConfigType test
				nil
				
			
			assert.Assertt err
			defer client.ContainerRemovectx c.ID types.ContainerRemoveOptionsForce true
 
	err client.ContainerStartctx c.ID types.ContainerStartOptions
	assert.Assertt err
			err client.ContainerStartctx c.ID types.ContainerStartOptions
			assert.Assertt err
 
	logs err client.ContainerLogsctx c.ID types.ContainerLogsOptionsShowStdout true
	assert.Assertt err
	defer logs.Close
			logs err client.ContainerLogsctx c.ID types.ContainerLogsOptionsShowStdout true
			if test.logsSupported 
				assert.Assertt err nil
				return
			
			assert.Assertt err
			defer logs.Close
 
	buf bytes.NewBuffernil
			buf bytes.NewBuffernil
 
	errCh makechan error
	go func 
		 err stdcopy.StdCopybuf buf logs
		errCh err
	
			errCh makechan error
			go func 
				 err stdcopy.StdCopybuf buf logs
				errCh err
			
 
	select 
	case time.After time.Second
		t.Fataltimeout waiting for IO to complete
	case err errCh
		assert.Assertt err
			select 
			case time.After time.Second
				t.Fataltimeout waiting for IO to complete
			case err errCh
				assert.Assertt err
			
			assert.Assertt strings.TrimSpacebuf.String hello world buf.Bytes
		
 	
	assert.Assertt strings.TrimSpacebuf.String hello world buf.Bytes

 


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1952;compression support zstd with skippable frame;"Signedoffby Da McGrady dabkbaol.com  What I did As a matter of fact there are two frame formats defined by Zstandard Zstandard frames and Skippable frames. So we should probably support zstd algorithms with skippable frames. See httpstools.ietf.orgiddraftkucherawydispatchzstd.htmlrfc.section. for more details. The structure of a single Zstandard frame is as follows the magic number of Zstandard frame is xFDFB.   Skippable frames allow the insertion of userdefined data into a flow of concatenated frames. Its design is pretty straightforward with the sole objective to allow the decoder to quickly skip over userdefined data and continue decoding.    MagicNumber xDA which means any value from xDA to xDAF.
FrameSize This is the size n of the following UserData bytes littleendian format unsigned bits.
 How I did it
In order to accommodate more complicated detectors for Zstd I changed the DetectCompression function.
 How to verify it
To verify this PR I created a new test named TestDetectCompression.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor golang.orgxcrypto dccabcabccbccdaac;"full diff golangcryptoecbb...dcc
no local changes
Doing a around across repositories to update in preparation of a security release that was announced for tomorrow so that we can update again with just the changes related to that fix
httpsgroups.google.comdmsgidgolangannounceCABKKoxxkjjgWkpDYfmpsOTBbgudjjZZDuwgppmEwmail.gmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1953;Update Go to ..;"This includes additional fixes for CVE.
go.. released includes a security fix to the archivezip package
as well as bug fixes to the compiler linker the go command and to the cryptorand
embed gotypes htmltemplate and nethttp packages. See the Go .. milestone
on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. update containerd runtime v..;"addresses docker runbuild using echo commands hangs forever centos 
addresses dockerlibrarydocker DockerinDocker .. hangs during execution
addresses httpsgitlab.comgitlaborggitlabrunnerissues Job execution hangs when latest dockerdind version .. and floating ones is used
addresses httpsgitlab.comgitlabcomsupportforumissues CI runs that involve the building of a Docker container are hanging causing a CI timeout

The thirteenth patch release for containerd . fixes a regression introduced
in v.. that caused containershim to hang on single core machines fixes an
issue with blkio and updates the Golang runtime to ...

Fix container pid race condition
Update containerdcgroups dependency to address blkio issue
Set octetstream contenttype on PUT request
Pin to libseccomp .. to preserve compatibility with hosts that do not have libseccomp . or higher installed
Update Golang runtime to .. which includes a fix to the runtime

full diff containerdcontainerdv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1954;pkgnamesgenerator replace uses of fmt.Sprintf;"had these changes from reviewing so might as well push them as a PR ?ñ??Çì?Öé??Å
Looks like we don't need sprintf for how it's used. Replacing sprintf makes it more performant .x as fast and less memory allocations
BenchmarkGetRandomName 	 	 . nsop	 Bop	 allocsop
BenchmarkGetRandomNameOld 	 	 . nsop	 Bop	 allocsop

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hack support DOCKERROOTLESS for testing rootless;"What I did
Added rootless test suite.
testintegrationcli is unsupported currently.
Also tests that spawn custom daemon testutildaemon are skipped.
Relates to 
 How I did it
Spawn dockerdrootless.sh instead of dockerdwhenDOCKERROOTLESS i";0
1955;. backport update runc binary to v..;"httpsgithub.comopencontainersruncreleasestagv..

Cherrypick the first commit of clean but leaving vendor.conf asis
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Update Golang ..;"full diff golanggogo.....go..
go.. released includes a fix to the runtime. See the Go ..
milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1956;. backport cmddockerd add the link of the documentation;"Add the link to dockerd needs to be started with root. To see how to run dockerd in rootless mode with unprivileged user see the documentation error for ease of reference
Cherrypick clean
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Golang ..;"full diff golanggogo.....go..
go.. released includes fixes to the runtime the cryptox
and nethttp packages. See the Go .. milestone on the issue tracker for details.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1957;Add an option to specify log format for awslogs driver;"Added an option 'awslogsformat' to allow specifying
a log format for the logs sent CloudWatch from the aws log driver.
For now only the 'jsonemf' format is supported.
If no option is provided the log format header in the
request to CloudWatch will be omitted as before.
Signedoffby James Sanders jamessandersgmail.com
 What I did

Added an option awslogsformat to allow specifying a log format for the logs sent CloudWatch from the aws log driver.
For now only the jsonemf format is supported.
If no option is provided the log format header in the request to CloudWatch will be omitted as before.
This addresses 
Users cannot provide the awslogsdatetimeformat or the awslogsmultilinepattern options when they set the awslogsformat option cannot be set to jsonemf. This is because both the awslogsdatetimeformat and awslogsmultilinepattern options modify the log line delimiter. Given for now jsonemf format must be a valid json line it does not make sense to allow for different line delimiters when using jsonemf.

 How I did it

Modified the awslogs log driver to add a new CloudWatch client handler basically middleware to add the xamznlogsformat header to the request when the log format option is given and is jsonemf.

Tried to follow convention at every step of the way.
Based key name off of the key name used in the fluentd plugin



 How to verify it

Unit Testing
Manual integration testing

Ran container with no format option provided and verified logs were still published no regression
Ran container in development environment with logopt awslogsformatjsonemf enabled and saw metrics posted to CloudWatch
docker run rm \
 logdriver awslogs \
 logopt awslogsregionuswest \
 logopt awslogsgroupemfloggertestcontainer \
 logopt awslogscreategrouptrue \
 logopt awslogsformatjsonemf \
 emflogger \
 run

Metrics in CloudWatch 


Attempted to specify a random log format and saw an error was thrown
 docker run rm \
 logdriver awslogs \
 logopt awslogsregionuswest \
 logopt awslogsgroupemfloggertestcontainer \
 logopt awslogscreategrouptrue \
 logopt awslogsformatrandom \
 emflogger \
 run
docker Error response from daemon unsupported log format 'random'.

Attempted to set awslogsdatetimeformat and saw an error was thrown
 docker run rm \
 logdriver awslogs \
 logopt awslogsregionuswest \
 logopt awslogsgroupemfloggertestcontainer \
 logopt awslogscreategrouptrue \
 logopt awslogsformat'jsonemf' \
 logopt awslogsdatetimeformat'YYYYmmdd' \
 emflogger \
 serve
 docker Error response from daemon you cannot configure log opt 'awslogsdatetimeformat' or 'awslogsmultilinepattern' when log opt 'awslogsformat' is set to 'jsonemf'.

Attempted to set awslogsmultilinepattern and saw an error was thrown
 docker run rm \
 logdriver awslogs \
 logopt awslogsregionuswest \
 logopt awslogsgroupemfloggertestcontainer \
 logopt awslogscreategrouptrue \
 logopt awslogsformat'jsonemf' \
 logopt awslogsmultilinepattern'' \
 emflogger \
 serve
 docker Error response from daemon you cannot configure log opt 'awslogsdatetimeformat' or 'awslogsmultilinepattern' when log opt 'awslogsformat' is set to 'jsonemf'.


 Description for the changelog
Added a new option to awslogs log driver to specify the log format that is sent to CloudWatch.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update windows container utility to fix compilation on gccmingww .;"bump windowscontainerutility aabaebebdeccbfdccd

full diff dockerarchivewindowscontainerutilityea...aaba
Use standard include paths instead of hardcoding


revert abf Fix containerutility compilation on gccmingww . part of 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1958;. backport seccomp add support for clone syscall in default policy;This is a backport of fb see also adapted to avoid the refactoring that happened in d . fixes     The text was updated successfully but these errors were encountered;Fix goswagger to work with Go .;"relates to 
full diff kolyshkingoswaggeraa...ecb
The template used was broken with Go . which has some stricter
rules introduced in httpsgolang.orgcl
rootbbeaedgosrcgithub.comdockerdocker .hackgenerateswaggerapi.sh
 trying to read config from gosrcgithub.comdockerdockerapiswaggergen.yaml
 rendering templates for model ErrorResponse
 name field ErrorResponse
 package field types
 creating errorresponse.go in apitypes as definition
model template schematype executing schemaType at len .AllOf gt can't give argument to nonfunction len .AllOf

This update includes the fix from kolyshkingoswagger. Opening this as a separate pull request so that we can backport this to release branches to prepare them for future Go updates
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1959;Add https proxy properties to daemon configuration carry;"carry of  This allows configuring the daemon's proxy server through the daemon.json con
figuration file or commandline flags configuration file in addition to the
existing option through environment variables.
Configuring environment variables on Windows to configure a service is more
complicated than on Linux and adding alternatives for this to the daemon con
figuration makes the configuration more transparent and easier to use.
The configuration as set through commandline flags or through the daemon.json
configuration file takes precedence over envvars in the daemon's environment
which allows the daemon to use a different proxy. If both commandline flags
and a daemon.json configuration option is set an error is produced when starting
the daemon.
Note that this configuration is not live reloadable due to Golang's use of
sync.Once for proxy configuration which means that changing the proxy
configuration requires a restart of the daemon reload SIGHUP will not update
the configuration.
With this patch
cat etcdockerdaemon.json

 httpproxy httpproxytest.example.com
 httpsproxy httpsproxytest.example.com


docker pull busybox
Using default tag latest
Error response from daemon Get httpsregistry.docker.iov proxyconnect tcp dial tcp lookup proxytest.example.com on ... no such host

docker build .
Sending build context to Docker daemon .MB
Step FROM golang.alpine AS base
Get httpsregistry.docker.iov proxyconnect tcp dial tcp lookup proxytest.example.com on ... no such host

Integration tests were added to test the behavior

verify that the configuration through all means are used envvar
commandline flags damon.json and used in the expected order of
preference.
verify that conflicting options produce an error.
verify that logs and error messages sanitise proxy URLs as they may contain username password

make BINDDIR. DOCKERGRAPHDRIVERvfs TESTFILTERTestDaemonProxy binary testintegration
Running integrationtest iteration 
Running gosrcgithub.comdockerdockerintegrationdaemon amd.integration.daemon flagstest.v test.timeoutm test.run TestDaemonProxy
 RUN TestDaemonProxy
 RUN TestDaemonProxyenvironmentvariables
 RUN TestDaemonProxycommandlineoptions
 RUN TestDaemonProxyconfigurationfile
 RUN TestDaemonProxyconflictingoptions
 RUN TestDaemonProxyreloadsanitized
 PASS TestDaemonProxy .s
 PASS TestDaemonProxyenvironmentvariables .s
 PASS TestDaemonProxycommandlineoptions .s
 PASS TestDaemonProxyconfigurationfile .s
 PASS TestDaemonProxyconflictingoptions .s
 PASS TestDaemonProxyreloadsanitized .s
PASS

DONE tests in .s
 Description for the changelog

 Add options to the daemon.json configuration file and dockerd commandline
 to configure the daemon's proxy. With these options it is possible to configure
 https proxies for the daemon through the configuration file as an alternative
 to the HTTPPROXY HTTPSPROXY and NOPROXY environment variables or to
 override the systemwide proxy configuration set in those environment variables.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Jenkinsfile temporarily pin windows image to ...;"This reverts commit fa 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1960;pkgplugins fix compatibility with go.;"relates to comment
commit caac changed the ioutil utilities
to use the new os variants per recommendation from the go . release notes
httpsgolang.orgdocgo.ioutil

we encourage new code to use the new definitions in the io and os packages.
Here is a list of the new locations of the names exported by ioioutil

However the devil is in the detail and io.ReadDir is not a direct
replacement for ioutil.ReadDir

ReadDir os.ReadDir note returns a slice of os.DirEntry rather than a slice of fs.FileInfo

go. added a io.FileInfoToDirEntry utility to concert a DirEntry to
a FileInfo but it's not available in go.
This patch copies the FileInfoToDirEntry code and uses it for go..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecate 'clusterxx' options and add warning;"What I did
Deprecated clusteradvertise clusterstore clusterstoreopt flags from dockerd CLI.

logged warning when used

 How to verify it
 dockerd clusteradvertise ... clusterstore etcd...
Flag cluster";0
1961;pkgsysinfo use containerdpkgseccomp.IsEnabled;"This replaces the local SeccompSupported utility for the implementation in containerd
which performs the same check and brings in the improvements made in containerdcontainerd.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Jenkinsfile temporarily pin windows image to ...;"The latest ltsc image ... appear to be broken
and even a RUN WriteHost hello hangs.
Temporarily switching back to an older version so that CI doesn't fail.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1962;libnetworktypes remove unused functions;"Removes

ibnetworktypes remove GetMinimalIPNet as it's unused
this was added in mobylibnetworkeff but never used.
libnetworktypes remove PortBinding.FromString as it's unused
libnetworktypes remove TransportPort.FromString as it's unused

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix more goimports;"daemonloggersplunksplunktest.go File is not goimportsed goimports
 envKey a
 envRegexKey foo
 labelsKey b
 tagKey c
integrationbuildbuildtest.go File is not goimportsed goimports
 rm false
 forceRm false
integrationimageremoveunixtest.go File is not goimportsed goimports
 Root d.Root

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1963;libnetwork remove API as it's no longer used;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix goimports;"Found in comment
Introduced in 
Not sure why CI didn't catch these errors.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1964;refactor move from ioioutil to io and os package;"What I did
The ioioutil package has been deprecated in Go . See httpsgolang.orgdocgo.ioutil. This PR replaces the existing ioioutil functions with their new definitions in io and os packages.
 How I did it
Searches and replaces the depr";dockerpy skip flaky AttachContainerTesttestattachnostream again;"relates to dockerdockerpy
This test was disabled in the past but reenabled when we upgraded dockerpy to .. .
The test looks to be still flaky though so skipping it again
T.Z FAILURES 
T.Z AttachContainerTest.testattachnostream 
T.Z testsintegrationapicontainertest.py in testattachnostream
T.Z assert output 'hello\n'.encodeencoding'ascii'
T.Z E AssertionError assert b'' b'hello\n'
T.Z E Right contains more items first extra item 
T.Z E Use v to get the full diff
T.Z generated xml file srcbundlestestdockerpyjunitreport.xml 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1965;cmddockerd add the link of the documentation;"Add the link to dockerd needs to be started with root. To see how to run dockerd in rootless mode with unprivileged user see the documentation error for ease of reference
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";dockerpy override default API version to run all tests;"relates to dockerdockerpy
Otherwise some tests are skipped with the default API version
used
SKIPPED testsintegrationapiservicetest.py API version is too low .
SKIPPED testsintegrationapiswarmtest.py API version is too low .
SKIPPED testsintegrationapiswarmtest.py API version is too low .
SKIPPED testsintegrationapiswarmtest.py API version is too low .
SKIPPED testsintegrationapiswarmtest.py API version is too low .

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1966;libnetwork fix some linting issues;"fix incorrectly formatted GoDoc and comments
rename a variable that collided with the cap builtin

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Set the bip network value as the subnet;"Dont assign the bip value directly to the subnet
for the default bridge. Instead use the network value
from the ParseCIDR output
closes 
Signedoffby Arko Dasgupta arko.dasguptadocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1967;Fixed docker.internal.gateway not displaying properly on live restore;"What I did
I fixed the issue where the docker.internal.hostgateway was not assigned to containers after a reboot when liverestore was enabled. This was to do with containers that ran after the docker daemon was restarted.
 How I did it
There was a function that assigned the host gateway IP addresses. I made sure that the IP address was also called inside the conditional that ran when there were active sandboxes.
 How to verify it
 details the steps
 Description for the changelog
 This pull request is a change to remove the recurrence of by writing HostGatewayIP to a function and calling that once in the normal case and once when the sandboxescontainers are running during daemon restart.
The pull request is a WIP since I am yet to write a unit test. I would need your guidance for it. I am not sure how to call the API for the test for docker run addhost.... busybox in script form and getting the output. I know how to do it with forksubprocess but am not sure of the API approach to it.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TestCatchAll TestStopCatch remove unneeded goroutine;"relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1968;Remove platform argument from Puller interface.;"The platform argument is unneeded because ImagePullConfig is already in the vPuller struct.

 What I did
Remove platform argument from Puller interface.
 How I did it
The platform option was introduced in this contribution but I don't think it's necessary we can just use ImagePullConfig directly.
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";integration use systemd when DOCKERSYSTEMD is set;"What I did
Added systemd in the integration testing image.
This will help testing rootless and systemd stuff.
Fix 
 How I did it
Added a variant of hackdind scripthackdindsystemd.
This script executes the arguments as a systemd service in for";0
1969;vendor update tarsplit to v..;"Brings in vbattstarsplit
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";API remove deprecated filter parameter for API v. and up;"This queryparameter was deprecated in docker . in commit b and scheduled for removal in docker . so we should remove it for the next API version.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1970;hackvendor.sh allow go version to be specified with .;"Golang '.' releases are released without a trailing . i.e. go.
is equal to go... For the base image we want to specify the go
version including their patch release golang. is equivalent to
go..x so adjust the script to also accept the trailing . because
otherwise the downloadURL is not found
hackvendor.sh archivetar
update vendored copy of archivetar
downloading httpsgolang.orgdlgo...src.tar.gz
curl The requested URL returned error 

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport swagger document node.platform.arch|os constraints;"backport of 
fixes dockercli
Support for these constraints was added in docker ..
API v. but never documented.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1971;vendor golang.orgxsys bdcdffeafdfdefd for Go .;"Go . requires golang.orgxsys acdadcbdc May 
 or later see golanggo. While this seems
to affect macOS only let's update to the latest version.
full diff golangsysdff...b
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendor check to succeed even if copyright information is not found;"What I did
The documentation for validatevendorused in hackvalidatevendor states
that a warning will be emitted if license information cannot be found in
a vendored package. However because the script is run with pipefail set
owing to the inclusio";0
1972;Update to Go ..;"Opening as draft to see if things explode
Depends on

 vendor golang.orgxsys bdcdffeafdfdefd for Go .
 hackvendor.sh allow go version to be specified with .

 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typos in dockerignoretest.go;"What I did
Fix typos
 How I did it
Change the correct words
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1973;info remove expected check for tini version;"These checks were added when we required a specific version of containerd
and runc different versions were known to be incompatible. I don't think
we had a similar requirement for tini so this check was redundant. Let's
remove the check altogether.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swagger document node.platform.arch|os constraints;"Addresses the API docs of dockercli Docs missing for node platform constraints
relates to

dockerswarmkit Support constraint on platform architecture and OS
dockerswarmkit Add constraint support for platform os

vendored into this repository in Revendor swarmkit to ecceebecedbdffb



Support for these constraints was added in docker ..
API v. but never documented.
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1974;Fix a typo in projectGOVERNANCE.md;"As title.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rootless support execopt native.cgroupdriversystemd;"What I did
Support rootless cgroup.
Requires cgroup v host with crun.
Tested with Ubuntu . kernel . systemd crun v...
 How I did it
Using systemd.
 How to verify it

Install Ubuntu .
Install containerd master
Install crun v..";0
1975;apitypesversions simplify compare if versions are equal;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";new storage driver fuseoverlayfs;"What I did
Added a new storage driver fuseoverlayfs.
fuseoverlayfs provides rootless overlayfs functionality without depending on any kernel patch.
Aside from rootless fuseoverlayfs could be potentially used for eliminating chown calls that happe";0
1976;apitypesevents add Type type for eventtype enum;"Currently just an alias for string but we can change it to be an actual type.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use condition variable to wake stats collector.;"Before the collection goroutine wakes up every second as configured.
This sleep interval is in case there are no stats to collect we don't
end up in a tight loop.
Instead use a condition variable to signal that a collection is needed.
This prevents us from waking the goroutine needlessly when there is no
one looking for stats.
For now I've kept the sleep just moved it to the end of the loop which
gives some space between collections.

This significantly speeds up the first stat collection.
Example docker stats nostream goes from about .s to .s
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1977;swagger assorted fixes and updates;"includes some followups to 

apiswagger fix up eventtypes and move to definitions
apiswagger rename PluginPrivilegeItem to PluginPrivilege
apiswagger move DistributionInspect to definitions

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add stats options to not prime the stats;"Metrics collectors generally don't need the daemon to prime the stats
with something to compare since they already have something to compare
with.
Before this change the API does collection cycles which takes
roughly s in order to provide comparison for CPU usage over s. This
was primarily added so that docker stats nostream had something to
compare against.
Really the CLI should have just made a nd call and done the comparison
itself rather than forcing it on all API consumers.
That ship has long sailed though.
With this change clients can set an option to just pull a single stat
which is at least a full second faster
Old
time curl unixsocket
gosrcgithub.comdockerdockerbundlestestintegrationshelldocker.sock
http.containersteststatsstreamfalse\oneshotfalse devnull


realm.s
userm.s
sysm.s

time curl unixsocket
gosrcgithub.comdockerdockerbundlestestintegrationshelldocker.sock
http.containersteststatsstreamfalse\oneshotfalse devnull


realm.s
userm.s
sysm.s

New
time curl unixsocket
gosrcgithub.comdockerdockerbundlestestintegrationshelldocker.sock
http.containersteststatsstreamfalse\oneshottrue devnull

realm.s
userm.s
sysm.s

time curl unixsocket
gosrcgithub.comdockerdockerbundlestestintegrationshelldocker.sock
http.containersteststatsstreamfalse\oneshottrue devnull


realm.s
userm.s
sysm.s

This fixes issues with downstream's ability to use the stats API to
collect metrics.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1978;libcontainerdlocal fix GoDoc;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Check tmpfs mounts before create anon volume;"This makes sure that things like tmpfs mounts over an anonymous
volume don't create volumes uneccessarily.
One method only checks mountpoints the other checks both mountpoints
and tmpfs... the usage of these should likely be consolidated.
Ideally processing for tmpfs mounts would get merged in with the
rest of the mount parsing. I opted not to do that for this change so the
fix is minimal and can potentially be backported with fewer changes of
breaking things.
Merging the mount processing for tmpfs can be handled in a followup.
Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit fc
Signedoffby Brian Goff cpuguygmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1979;Jenkinsfile windows LTSC mcr.microsoft.comwindowsservercoreltsc;"see httpsdocs.microsoft.comenuswindowsservergetstartedwindowsserverreleaseinfo
see comment
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Exec inspect field should be ID not ExecID;"backport of 
Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit cca
Signedoffby Brian Goff cpuguygmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1980;bump up runc v..;"httpsgithub.comopencontainersruncreleasestagv..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Exec inspect field should be ID not ExecID;"Fixes the client to actually decode the exec ID in the response.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1981;Dockerfile update syntax switch to bullseye add missing libseccompdev remove build pack;"So this started with the intention to just update buster to bullseye but finding various issues that needed fixing or could be improved.
Dockerfile update to dockerdockerfile. and remove temporary fix.
I saw we were using an older syntax and the issue I reported mobybuildkit was fixed in dockerfile. frontend so upgrading allowed me to remove the temporary fix.
Dockerfile remove aufstools as it's not available on bullseye
Well title says all. No more aufs
Dockerfile update to debian bullseye
Well that's what I came here for ?ÿé
Dockerfile add back libseccompdev to crosscompile runc
Commit d removed these but I think we overlooked that the same stage is used to build runc as well so we likely need these. but happy to remove if we really don't need them
Dockerfile frozen images update to bullseye remove buildpackdep
Update the frozen images to also be based on Debian bullseye. Using the slim variant which looks to have all we're currently using and remove the buildpackdep frozen image.
The buildpackdep image is quite large and it looks like we only use it to compile some C binaries which should work fine on a regular debian image
docker build t debianbullseyeslimgcc EOF
FROM debianbullseyeslim
RUN aptget update aptget install y gcc libcdev noinstallrecommends
EOF

docker image ls

REPOSITORY TAG IMAGE ID CREATED SIZE
debian bullseyeslimgcc af About a minute ago MB
buildpackdeps bullseye fefecede days ago MB

 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";awslogs Update awssdkgo to support IMDSv;"What I did
AWS recently launched a new version of the EC Instance Metadata Service which is used to provide credentials to the awslogs driver when running on Amazon EC. This new version of the IMDS adds defenseindepth mechanisms against open firew";0
1982;. backport bump up rootlesskit to v..;"Cherrypick 

Fixes panic tapvif read read devnettun not pollable on early start up of RootlessKit with VPNKit.
Changes

httpsgithub.comrootlesscontainersrootlesskitreleasestagv..
httpsgithub.comrootlesscontainersrootlesskitreleasestagv..

full diff rootlesscontainersrootlesskitv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TestLoginFailsWithBadCredentials prepare for Go . changes;"relates to 
Go . adds quotes around the url in the error returned
 FAIL arm.integration.system TestLoginFailsWithBadCredentials .s
 TestLoginFailsWithBadCredentials logintest.go assertion failed expected error Error response from daemon Get httpsregistry.docker.iov unauthorized incorrect username or password got Error response from daemon Get \httpsregistry.docker.iov\ unauthorized incorrect username or password
 Error response from daemon Get httpsregistry.docker.iov unauthorized incorrect username or password

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1983;testutil don't import opts package;"It was only used for two consts which are unlikely to change but the
opts package currently also imports libnetworkipamutils which has
an init function that does some heavy lifting and not needed for
this utility's purpose.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump gotest.tools v.. for compatibility with Go .;"full diff gotestyourselfgotest.toolsv.....v..
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1984;libnetwork remove unused testutils imports;"Perhaps the testutils package in the past had an init function to set up
specific things but it no longer has. so these imports were doing nothing.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump vndr v..;"full diff LKDvndrv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1985;libnetwork make resolvconf more selfcontained;"libnetwork move resolvconf consts into the resolvconf package
This allows using the package without having to import the types package and without having to consume github.comishidawatarusctp.
libnetwork remove resolvconfdns package
The IsLocalhost utility was not used and go's net package provides a IsLoopBack check which can be used in stead of IsIPvLocalhost.
move pkgioutils.HashData to libnetworkresolvconf
It's the only location it's used so we might as well move it there. This also removes the cryptosha and encodinghex dependencies from pkgioutils..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TestResumableRequestHeaderTooMuchFailures prepare for Go . changes;"fixes 
relates to 
Go . adds quotes around the invalid scheme in the error returned See golanggocfef and golanggo
Go .
Get Imnotanurl unsupported protocol scheme 

Go .
Get Imnotanurl unsupported protocol scheme 

This patch updates the test to detect both versions of the error
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1986;client use subtests for TestNetworkInspect;"cleaning up some branches and found this one ?ÿé so opening as a PR ?ñ??Çì?Öé??Å
Unify the NetworkInspect tests to remove some boilerplating
Before this change
go test v run TestNetworkInspect .client
 RUN TestNetworkInspectError
 PASS TestNetworkInspectError .s
 RUN TestNetworkInspectNotFoundError
 PASS TestNetworkInspectNotFoundError .s
 RUN TestNetworkInspectWithEmptyID
 PASS TestNetworkInspectWithEmptyID .s
 RUN TestNetworkInspect
 PASS TestNetworkInspect .s
PASS
ok 	github.comdockerdockerclient	.s

With this change
go test v run TestNetworkInspect .client
 RUN TestNetworkInspect
 RUN TestNetworkInspectemptyID
 RUN TestNetworkInspectnooptions
 RUN TestNetworkInspectverbose
 RUN TestNetworkInspectglobalscope
 RUN TestNetworkInspectunknownnetwork
 RUN TestNetworkInspectservererror
 PASS TestNetworkInspect .s
 PASS TestNetworkInspectemptyID .s
 PASS TestNetworkInspectnooptions .s
 PASS TestNetworkInspectverbose .s
 PASS TestNetworkInspectglobalscope .s
 PASS TestNetworkInspectunknownnetwork .s
 PASS TestNetworkInspectservererror .s
PASS
ok 	github.comdockerdockerclient	.s

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update containerd binary to v..;"full diff containerdcontainerdv.....v..
release notes httpsgithub.comcontainerdcontainerdreleasestagv..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

source httpswww.pinterest.compin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1987;integrationnetwork remove dead code;"integrationnetwork remove unused CheckKernelMajorVersionGreaterOrEqualThen
integrationnetwork remove IsUserNamespace in favor of testenv equivalent We're already using testenv here so might as well use the exact same function that it provides.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testing bump dockerpy to ..;"full diff dockerdockerpy.......
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1988;daemon.WithCommonOptions fix detection of usernamespaces;"Commit daee added support for nonprivileged containers to use ICMPPROTO used for ping. This option cannot be set for containers that have usernamespaces enabled.
However the detection looks to be incorrect HostConfig.UsernsMode was added in e ee and the property only has meaning if the daemon is running with user namespaces enabled. In other situations the property has no meaning.
As a result of the above the sysctl would only be set for containers running with UsernsModehost on a daemon running with usernamespaces enabled.
This patch adds a check if the daemon has usernamespaces enabled RemappedRoot having a nonempty value to fix the detection.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add vpnkit back to binary targets;"This was removed after refactoring the Dockerfile in 
Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1989;docsapi add node about concurrency on systemdf endpoint;"followup to . I realised we didn't add a mention in the API changes but probably good to add for discoverability.
Commit cec added support for calling the systemdf endpoint concurrently.
This patch adds a note about this enhancement to the API changes.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport overlay rm extra checks in init;"cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1990;daemon simplify networking config;"This somehow ended up in . Probably had these changes locally ?ÿà
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Use certs.d from XDGCONFIGHOME when in rootless mode fixes;"cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1991;runconfig decodeContainerConfig return early if there's no HostConfig;"Each of the validation functions depended on HostConfig being not nil. Use an
early return instead of continuing and checking if it's nil in each of the
validate functions.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport dockerdrootless.sh remove confusing code comment;"cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1992;. backport Update Go to ..;"backport of 
go.. released includes a security fix to the nethttphttputil
package as well as bug fixes to the compiler the linker the runtime the go
command and the nethttp package. See the Go .. milestone on the issue
tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. update containerd .. runc v..rc;"Includes back ports of

 update runc to v..rc CVE

revendoring opencontainersrunc because fed was not backported and we probably don't want to update the containerd vendoring



. Update containerd binary to v..
full diff containerdcontainerdv.....v..
Welcome to the v.. release of containerd
The twelfth patch release for containerd . includes an updated runc with
a fix for CVE an updated version of the opencontainersselinux
dependency which includes a fix for CVE an updated version of the
gopkg.inyaml.v dependency to address CVE and a Golang update.
Notable Updates

Update the runc vendor to v..rc which includes a mitigation for CVE.
Update the opencontainersselinux which includes a mitigation for CVE.
Update Golang runtime to .. mitigating the CVE certificate verification
bypass on Windows and CVE which only affects bit architectures.
Update Golang runtime to .. which includes a fix to the runtime Go ..
Go .. and and the nethttp package Go ..
A fix to prevent SIGSEGV when starting containerdshim containerdcontainerd
Fixes to exec containerdcontainerd

Prevent docker exec hanging if an earlier docker exec left a zombie process
Prevent High system loadCPU utilization with liveness and readiness probes
Prevent Docker healthcheck causing high CPU utilization



CRI fixes

Update the gopkg.inyaml.v vendor to v.. with a mitigation for CVE

API

Fix API filters to properly handle and return parse errors containerdcontainerd

update runc binary to v..rc CVE
Notable changes

Fix CVE Volume mount race condition with shared mounts opencontainersrunc
Fix exec FIFO race opencontainersrunc
Basic support for cgroup v. Almost featurecomplete but still missing support for systemd mode in rootless.
See also opencontainersrunc for the known issues.

Full changes opencontainersruncv..rc...v..rc
update runc library to v..rc CVE
Notable changes

Fix CVE Volume mount race condition with shared mounts opencontainersrunc
Fix exec FIFO race opencontainersrunc
Basic support for cgroup v. Almost featurecomplete but still missing support for systemd mode in rootless.
See also opencontainersrunc for the known issues.

Full changes opencontainersruncaa...v..rc
Also updates goselinux opencontainersselinuxaf...b
See containerdcri comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1993;Update Go to ..;"go.. released includes a security fix to the nethttphttputil
package as well as bug fixes to the compiler the linker the runtime the go
command and the nethttp package. See the Go .. milestone on the issue
tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Check tmpfs mounts before create anon volume;"This makes sure that things like tmpfs mounts over an anonymous
volume don't create volumes unnecessarily.
One method only checks mountpoints the other checks both mountpoints
and tmpfs... the usage of these should likely be consolidated.
Ideally processing for tmpfs mounts would get merged in with the
rest of the mount parsing. I opted not to do that for this change so the
fix is minimal and can potentially be backported with fewer changes of
breaking things.
Merging the mount processing for tmpfs can be handled in a followup.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1994;pkgsignal remove DefaultStopSignal const and unexport container.DefaultStopTimeout;"This const was previously living in pkgsignal but with that package being moved to its own module it didn't make much sense to put docker's defaults in a generic module.
The const from the signal package is currenlty used both by the CLI and the daemon as a default value when creating containers. This put up some questions

a. should the default be nonexported and private to the container package After all it's a default so should be used if NOT set.
b. should the client actually setting a default or instead just omit the value unless specified by the user having the client set a default also means that the daemon cannot change the default value because the client or older clients will override it.
c. consider defaults from the client and defaults of the daemon to be separate things and create a default const in the CLI.

This patch implements option a option b will be done separately as it involves the CLI code. This still leaves c open as an option if the CLI wants to set its own default.
Unfortunately this change means we'll have to drop the alias for the deprecated pkgsignal.DefaultStopSignal const but a comment was left instead which can assist consumers of the const to find why it's no longer there a search showed the Docker CLI as the only consumer though.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix docker ps filter publish;NOM;0
1995;API discard systemdf type parameter pre.;"Fixup 
 What I did
Ensure the type parameter to systemdf is discarded for API versions lower than .
 How I did it
Check for the version in the endpoint
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor update buildkit to ead;"fixes 
backport mobybuildkit
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1996;Share disk usage computation results between concurrent invocations;"What I did
Share disk usage computation results between concurrent invocations instead of throwing an error
 How I did it

Use xsyncsingleflight.Group which ensures computations are simultaneously performed by at most one goroutine and the results a";Fix windows cross builds.;"Windows still writes to the autogen directory but the source code is
mounted in as readonly.
In order to do enable this without taking a massive hit in doing an rw
mount for the source code we mount a tmpfs into the build at the
autogen dir.
In order for this to work the directory must alreay exist so we create
it before entering the build.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
1997;Small typo fix;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo Siantra Sinatra;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1998;Prevent raising RangeError in AR presence validation;"Summary
After updating ActiveRecord version from . in my application I noticed a strange behavior. If I call valid method for an ActiveRecord model it may raise an unexpected RangeError exception. For example
user User.createaccount Account.first

user.accountid 
user.valid 
 RangeError is out of range for ActiveRecordTypeInteger with limit 
What happened was that during a presence validation for association it called a method ensureinrange several times which checks whether a value in a DB type range or not.
To fix this issue I would suggest catching the exception and adding invalid attribute error to a record.
Other Information
Here is a stack trace when I run tests without these changes
RangeError is out of range for ActiveModelTypeInteger with limit 
 railsactivemodellibactivemodeltypeinteger.rbin ensureinrange'
 railsactivemodellibactivemodeltypeinteger.rbin serialize'
 railsactiverecordlibactiverecordattribute.rbin valuefordatabase'
 railsactiverecordlibactiverecordrelationqueryattribute.rbin valuefordatabase'
 railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin block in execquery'
 railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin map'
 railsactiverecordlibactiverecordconnectionadapterssqliteadapter.rbin execquery'
 railsactiverecordlibactiverecordconnectionadaptersabstractdatabasestatements.rbin selectprepared'
 railsactiverecordlibactiverecordconnectionadaptersabstractdatabasestatements.rbin selectall'
 railsactiverecordlibactiverecordconnectionadaptersabstractquerycache.rbin selectall'
 railsactiverecordlibactiverecordquerying.rbin findbysql'
 railsactiverecordlibactiverecordstatementcache.rbin execute'
 railsactiverecordlibactiverecordassociationssingularassociation.rbin getrecords'
 railsactiverecordlibactiverecordassociationssingularassociation.rbin findtarget'
 railsactiverecordlibactiverecordassociationsassociation.rbin loadtarget'
 railsactiverecordlibactiverecordassociationsassociation.rbin reload'
 railsactiverecordlibactiverecordassociationssingularassociation.rbin reader'
 railsactiverecordlibactiverecordassociationsbuilderassociation.rbin man'
 railsactivemodellibactivemodelerrors.rbin generatemessage'
 railsactivemodellibactivemodelerrors.rbin normalizemessage'
 railsactivemodellibactivemodelerrors.rbin add'
 railsactivemodellibactivemodelvalidationspresence.rbin validateeach'
 railsactiverecordlibactiverecordvalidationspresence.rbin block in validate'
 railsactiverecordlibactiverecordvalidationspresence.rbin each'
 railsactiverecordlibactiverecordvalidationspresence.rbin validate'
 railsactivesupportlibactivesupportcallbacks.rbin publicsend'
 railsactivesupportlibactivesupportcallbacks.rbin block in makelambda'
 railsactivesupportlibactivesupportcallbacks.rbin call'
 railsactivesupportlibactivesupportcallbacks.rbin block levels in halting'
 railsactivesupportlibactivesupportcallbacks.rbin call'
 railsactivesupportlibactivesupportcallbacks.rbin block levels in defaultterminator'
 railsactivesupportlibactivesupportcallbacks.rbin catch'
 railsactivesupportlibactivesupportcallbacks.rbin block in defaultterminator'
 railsactivesupportlibactivesupportcallbacks.rbin call'
 railsactivesupportlibactivesupportcallbacks.rbin block in halting'
 railsactivesupportlibactivesupportcallbacks.rbin call'
 railsactivesupportlibactivesupportcallbacks.rbin block in call'
 railsactivesupportlibactivesupportcallbacks.rbin each'
 railsactivesupportlibactivesupportcallbacks.rbin call'
 railsactivesupportlibactivesupportcallbacks.rbin runcallbacks'
 railsactivesupportlibactivesupportcallbacks.rbin runvalidatecallbacks'
 railsactivemodellibactivemodelvalidations.rbin runvalidations'
 railsactivemodellibactivemodelvalidationscallbacks.rbin block in runvalidations'
 railsactivesupportlibactivesupportcallbacks.rbin runcallbacks'
 railsactivesupportlibactivesupportcallbacks.rbin runvalidationcallbacks'
 railsactivemodellibactivemodelvalidationscallbacks.rbin runvalidations'
 railsactivemodellibactivemodelvalidations.rbin valid'
 railsactiverecordlibactiverecordvalidations.rbin valid'
 testcasesvalidationsassociationvalidationtest.rbin block in testvalidatespresenceofbelongstoassociationoutofrangeerror'
 railsactiverecordtestcasesvalidationsrepairhelper.rbin repairvalidations'
 testcasesvalidationsassociationvalidationtest.rbin testvalidatespresenceofbelongstoassociationoutofrangeerror'

Probably similar issues .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Prevent RangeError for belongsto associations;"Currently to access belongsto associations raises a RangeError if
foreign key attribute has out of range value.
It should return a nil value rather than raising a RangeError.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
1999;Add an ignore file;"I added an ignore file.DSStore.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add DSStore to gitignore file;"ci skip
In reference to railsrails
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2000;ActiveRecordQueryMethodsorder support for nested hashes;"Quite often we have to order the query by attribute of the related table. We can
use a String to do this
Post.ordercomments.body ASC

I really like the where syntax when dealing with related
tablesassociations.
This commit adds support to order for nested hashes as arguments.
Using the new syntax the query above looks like this
Post.ordercomments body asc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Generate proper SQL when tableprefixed hash key is used in order;"where method accepts several notation formats such as foo bar 'foo bar' 'foo' 'bar' and also 'fooitems.foo' 'bar'. Each of them is widely used in RoR apps and it seems normal to use the same approach in order which in turn supports all except the last one.
Here's what we have now
Topic.order'topics.id' 'asc'.tosql
 SELECT \topics\. FROM \topics\ ORDER BY \topics\.\topics.id\ ASC

So this PR is my attempt to implement the desired behavior. Likely this can be done more efficiently.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2001;changing ruby version in getting startedci skip;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated expected Ruby Rails versions;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2002;Fix warning mismatched indentations at 'end' with 'class' at;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";warning removed mismatched indentations;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2003;dbschemaload with migrations in subdirectories;"Getting pending migrations errors after running
 rake dbschemaload

when dbmigrate directory contains any migrations in its subdirectories.
Example directories structure
db
 migrate
 archive
 createpeople.rb
 addagetopeople.rb
 addphonenumbertopeople.rb

If the dbmigrate directory contains any migrations in its subdirectories their versions are not inserted into schemamigrations table.
As for the example above ActiveRecordConnectionAdaptersSchemaStatements.assumemigrateduptoversion method inserts only the rd version into the schemamigrations table.
But ActiveRecordMigrator.migrations method expects the table to include all of the versions. and are perceived as pending and this fact causes the pending migrations error.
The assumemigrateduptoversion fetched migrations files using
paths migrationspaths.map |p| p.rb 
So there was no subdirectories support.
The behaviour is fixed by
paths migrationspaths.map |p| p.rb 
Added a test case.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix rake dbschemaload with subdirectories;"Related .
dbschemaload doesn't work with subdirectories like previous
dbmigratestatus. Migrator.migrationfiles should be used in
assumemigrateduptoversion to fix the issue.
pixeltrix Could you also review this
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2004;Fix generated root path inside namespaces;"In Rails . we can generate root path inside a namespace like this
root to welcomeindex

namespace admin do
 root to homeindex adminrootpath
end
But in the master branch adminrootpath is not generated because of the previous definition of rootpath.
So I fixed the matchrootroute method in order to handle root path inside namescapes correctly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes Missing URL helper for namespaced root route;"Summary
Fixes Missing URL helper for namespaced root route 
matchrootroute was unnecessarily preventing the definition of additional namespaced URL helpers with the name root.
Other Information
Adds spec to validate change
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2005;Ensure that assets are enabled back after the test that tests assets are disabled;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix channel generator test for all random seeds;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2006;Fix undefined error for ActionControllerParameters;"This was introduced as apart of the CVEpush aka ...beta..
r tenderlove
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding actioncontroller require;"Since bee rendering now uses
StrongParameters to verify if render parameters are allowed. As a
consequence if actioncontroller has not been loaded before as in the
case of using actionmailer without railties causes an Uninitialized
constant error for ActionControllerParameters
NameError
 uninitialized constant AbstractControllerRenderingActionController
 ruby..gemsactionpack...libabstractcontrollerrendering.rbin
 normalizeargs'
 ruby..gemsactionview...libactionviewrendering.rbin
 normalizeargs'
 ruby..gemsactionpack...libabstractcontrollerrendering.rbin
 normalizerender'
 ruby..gemsactionpack...libabstractcontrollerrendering.rbin
 render'

I couldn't get the standard bug report to function as it loads actioncontroller to start.
My very simple example is httpsgithub.comhugocorbucciactionmailer...bug.
The real one that identified this problem was httpsgithub.comagilealliancebrazilcertificates build failure httpssnapci.comagilealliancebrazilcertificatesbranchmasterlogsdefaultPipelineFastFeedback
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2007;Singular Resources passing a symbole;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ci skip add controller argument to routing.md;"This is a small amendment to the routing guide. There is an example in the guide that will raise an exception when used
get 'profile' to show
Passing a Symbol to the to argument for a get route method requires a controller argument to also be defined. The documentation is missing the controller argument which leaving out raises
 rake routes
ArgumentError Missing controller key on routes definition please check your routes.

Adding the controller argument will map the route correctly without raising an exception
get 'profile' to show controller 'users'
 rake routes
profile GET profile.format usersshow

This commit updates the example in the documentation to avoid the exception being raised.

Examples run on Rails version ...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2008;Fix collection labels not including form namespace.;"Present in Rails stable and in master.
This bug would prevent clicks on labels for collection form elements radio buttons and check boxes from selecting the associated input because the label's for attribute doesn't include the form namespace.
The bug can be replicated with the following code.
 formfor Struct.newterms.new as 'fakemodel' url '' namespace 'NAMESPACE' do |f| 
 f.label terms emNoncollection label has correct ID that includes namespaceembr
 f.collectionradiobuttons terms Test option tos tos emCollection label has incorrect FOR attribute value that doesn't include the namespaceem
 end 
I'm unsure of how to test this as the formcollectionshelpertest.rb doesn't seem to have any way to set up the form options. Any suggestions are welcome.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";handle namespace form option in collection labels;"originally this issue was opened in Simple Form heartcombosimpleform
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2009;Ignore warnings caused by bundled gems;"Checking all warnings makes the test case fragile.
For example testshouldnotimposechildlesshtmltagsinxml failed
by these warnings.
hometravisbuildrailsrailsvendorbundleruby..gems\
nokogiri...libnokogirixmldocument.rb \
warning constant Fixnum is deprecated\n

This commit will suppress these noise.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revise the XML is not HTML test;"It was depending on a sideeffect of the old htmlscanner so was no longer proving what it intended to. Instead assert more directly about the resulting observable difference.
kaspth should this test even exist or is this now really railshtmlsanitizer's job
maclover while we still ultimately want the Fixnum warning to go away this removes the assertion it was tripping freeing 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2010;make disablewith default in submittag;"I heard on the Bike Shed podcast that the idea of possibly making disablewith a default for submittag to prevent double submission by default thought I would draft up a pull request for it and take a stab at it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add data disablewith Submitting... to forms;"Seems like the best way to prevent users from doubletripleetc clicking on forms.
cc derekprior sgrif
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2011;delgated delegated;"delgated delegated
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";delgated delegated;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2012;Avoid loading all records in Relationinspect;"Calling records without a limit can potentially put a lot of pressure on resources of the running machine as seen in BetterErrorsbettererrors. Instead I apply the same limit here in a way that avoids unnecessary loading of all records.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Load only needed records on ActiveRecordRelationinspect;"Instead of loading all records and returning only a subset of those just load the records as needed.
The original behavior could be bad when someone types User.where... on console and accidentally presses enter before they finish causing a lot of records to be queried and loaded although only is shown.
To query and inspect all we can use toa instead e.g. User.all.toa.inspect.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2013;We want to allow aria to pass like data in tag options;"Exactly like data attributes on HTML elements it is now common to
pass aria style attributes to tags bootstrap for example. The
spec is defined here
httprawgithub.comwcariainhtmlmasterindex.html
In this PR I?ÇÖve cleaned up some of the previous tag option formatting
to be a bit faster smaller to reason and opens up to future additions
of similar hashlike options. If for instance we wanted to add the
rails hashlike we?ÇÖd just change HASHLIKEATTRIBUTEKEYS to
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for ARIA attributes in tags;"As part of our work in Rails Girls Summer of Code we have added support for ARIA attributes in tag helpers so the users can set the attributes in this way
 f.textfield name aria required true hidden false 
And this will generate
input ariahiddenfalse ariarequiredtrue idusername nameusername typetext
We used the implementation of the data attributes as base for this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2014;Try out the new Docker queue;"Also a little .travis.yml cleanup
Please don't merge yet
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enable Travis CI containermode;"httpblog.travisci.comfasterbuildswithcontainerbasedinfrastructure
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2015;Fixes addcolumn not creating array columns in PostgreSQL;"When then PostgreSQL visitor was added
addcolumn was no longer receiving the column options directly. This
caused the options to be lost along the way.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing PostgreSQL migrations for array support;"Since the column method is not used by the abstract SchemaStatementsAlterTable the following migration will not work properly in PostgreSQL
class AddRolesToUsers ActiveRecordMigration
 def change
 changetable users do |t|
 t.column roles string array true
 end
 end
end

This change fixes this issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2016;Use log method instead of ActiveSupportNotifications.instrument;"Summary
I encountered the following error.
Could not log sql.activerecord event. TypeError wrong argument type NilClass must respond to each homemtsmfm.rbenvversions..librubygems..bundlergemsrailscaeaeaactiverecordl
ibactiverecordlogsubscriber.rbin zip'

It seems that we forgot to care about cachesql in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";prevent TypeError for LogSubscribersql;"Summary
The changed to preserve cached queries name and output cached
queries to log. But QueryCachecachesql don't set typecastedbinds payload.
Therefore following errors occur when output the log.
Could not log sql.activerecord event. TypeError wrong argument type NilClass must respond to each railsactiverecordlibactiverecordlogsubscriber.rb
This fixes the above error.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2017;Fix documentation for endyear option of datehelper ci skip;"While editing an existing record endyear is equal to currentselectedyear by default.
Fixes 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";modified documentation of startyear and endyear options for dateselect helper ci skip;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2018;Fix incorrect serialization state after loading;"Fixes 
Selfcontained gist tested on ruby ..p httpsgist.github.comhundredwatt
Exception TypeError no implicit conversion of ActiveSupportHashWithIndifferentAccess into String
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing issue with activerecord serialization not being able to dump a record after loading it from YAML fixes;"This is a backwards incompatible change for people using storeserialization.
This PR fixes the issue raised at 
The main issue is that encodewith says that the attributes value that is set to the coder object is the same that gets set at initwith and while this is true initwith calls self.class.initializeattributescoder'attributes' without setting the serialized option and creates the SerializationAttibute object with the serialized field set to true as can be seen here but the YAML produced by a YAML.dump call is like this
 rubyobjectAdminUser
attributes
 id 
 name John Doe
 settings rubyhashActiveSupportHashWithIndifferentAccess
 color black
 preferences rubyhashActiveSupportHashWithIndifferentAccess
 rememberlogin true
 jsondata rubyhashActiveSupportHashWithIndifferentAccess
 height tall
 jsondataempty rubyhashActiveSupportHashWithIndifferentAccess
 isagoodguy true
 params rubyhashActiveSupportHashWithIndifferentAccess 
 accountid 
The jsondata field that should have been a JSON string since it's store coder turns it into JSON before saving it was saved just like any YAML field. Now when you YAML.load the content above you will get the following error
TypeError no implicit conversion of ActiveSupportHashWithIndifferentAccess into String

And it happens because the initwith method expected to receive a JSON string at the jsondata field and not the ActiveSupportHashWithIndifferentAccess since serialized will be set to true. That's why at the original issue description hundredwatt says that calling record.reload works because when you call reload at the object initwith is called with the data as it comes from the database column that will be a JSON string and not a real hash object.
The solution here was creating a separate attributesforcoder method that the serialization code can override when needed to generate the encoded value for the field so it can be safely dumped and then loaded back again through the correct process.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2019;Fix eager loading a hasmany association with a join and order clause;"A hasmany association ordering on a joined table would omit the join
when eager loaded.
class Character ActiveRecordBase
 hasmany appearances joinsbooks.orderbooks.publishedon 
end

Character.wherename Gandalf.includesappearances.first
 SQLiteSQLException no such column books.publishedon
 SELECT appearances. FROM appearances
 WHERE appearances.characterid IN 
 ORDER BY books.publishedon

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix includes on association with a scope;"Fix includes on association with a scope containing joins along with conditions on the joined assoiciation.
Currently when you try to call includes on an association with a scope containing joins in it joins will not be included in the query.
This is a fix for that issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2020;Add support for PostgreSQL index operator classes;"This adds support for setting and dumping the index operator class when using the PostgreSQL adapter.
This is especially useful for search because it is needed to make use of the operators provided by the pgtrgm extension and also the builtin patternops classes that enable LIKEREGEX queries on nonClocale columns.
The current code checks that the operator class is a valid opclass provided by the current database but it does not yet check wether the combination of index type and operator class is valid. This would be possible by using a slightly more comlicated query for determining the valid opclasses
SELECT am.amname AS indexmethod
 opc.opcname AS opclassname
 FROM pgam am pgopclass opc
 WHERE opc.opcmethod am.oid
 ORDER BY indexmethod opclassname
The code is very loosely based on a previous implementation in the postgresext . gem which provided an indexopclass option when working with Rails ..x.
Usage Examples
addindex people lastname opclass varcharpatternops
addindex people lastname using gist opclass gisttrgmops
Relevant Postgres Docs Operator Classes and Operator Families
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support operator class on PostgreSQL index creation;"The use case for this is for example when you try to create a gingist index on a text column. Before this PR I had to do
class AddFulltextIndexesToUsers ActiveRecordMigration
 def up
 execute SQL
 CREATE INDEX indexusersonbio ON users USING gin bio gintrgmops
 SQL
 end

 def down
 execute SQL
 DROP INDEX indexusersonbio
 SQL
 end
end
now I can do
class AddFulltextIndexesToUsers ActiveRecordMigration
 def change
 addindex users bio using 'gin' opclass gintrgmops
 end
end
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2021;Don't fall back to HTML if requested js format exists anywhere in path set;"ActionView has a fallback feature to render an html format template as a template of last resort even when js is the only format specified to support rendering HTMLformatted responses to XHR requests.
I believe this fallback is broken when using multiple view paths. LookupContext treats a requested js format as js html when rendering anything except a layout. So the first view path will be matched against formats of js html before the second view path is considered. Thus an index.html.erb in the first path will prevent an index.js.erb in any subsequent view paths from being rendered even though the only format requested was JS.
My fix pushes down the fallback to lookup time it attempts to look up the JS template in the PathSet rescues any MissingTemplate and retries with html. I was conflicted about using exceptions for flow control here but I wanted to do as little violence to the PathSet API as possible and it currently raises MissingTemplate on missing templates.
Some care had to be taken to ensure that layouts still only render their first format so for example a JS request never renders an HTML template. That motivated the introduction of the layoutformat ivar.
Major props to the Rails team especially josevalim for how accessible this code is. I went from hmm that's weird to a failing test case in about minutes. Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ActionViewLookupContext jshtml fallback redo;"I made pull request about a year ago and received comments recently. I messed up that merge from railsrails master so that pull request somehow has an extra commits or so.
ActionViewLookupContext is hardcoded to append the html format whenever js is set as the format. A user may want to extend this behavior to their own custom defined formats for example a mobile format could fallback to html as well.
This is what it was for

This current behavior is the magic behind allowing you to render an html partial within a javascript response.
 in new.js.erb
 will render the form.html.erb partial
render partial 'form' locals object object
This change allows you to specify your own fallbacks easily. In somewhere like configinitializersmimetypes.rb
MimeTypes.registeralias texthtml mobile
ActionViewLookupContext.formatfallbacksmobile html
Now if you have a request where the format is mobile it will try to render a mobile template first and fallback to the html template. Additionally you could render an html partial within a mobile template.
This behavior is already being tested in actionpacktesttemplatelookupcontexttest.rb.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2022;Rename ActiveModelModel to ActiveModelBasicModel;"This module provides the sets of features required to support the ActiveModel API and no more. Its naming is meant to be reminiscent of Ruby's Object and BasicObject.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rename ActiveModelModel to ActiveModelBasicModel;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2023;Ensure ActiveResource serialization obeys ActiveResourceBase.includerootinjson;"The root element in JSON serialization in Rails .. is always present regardless of the setting of ActiveResourceBase.includerootinjson. This fix makes ActiveResourceBasetojson obey the setting and includes a test to make sure the setting works.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix GH . Support includerootinjson for ActiveResource properly.;"I also removed redundant assigns. Because the default value of includerootinjson is true.
Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2024;Fix a bug with initialize schemamigrations table;"Performing a command bundle exec rake dbdrop dbcreate dbschemaload trace I get the following error
 initializeschemamigrationstablrake aborted ctiveRecordStatementInvalid PGSyntaxError ERROR syntax error at or near  LINE ...NSERT INTO schemamigrations version VALUES   INSERT INTO schemamigrations version VALUES  The text was updated successfully but these errors were encountered";Fix singlequotes string interpolation;"This line was throwing an error for me when migrating.
ActiveRecordStatementInvalid PGSyntaxError ERROR syntax error at or near LINE ...NSERT INTO schemamigrations version VALUES v v...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2025;Add force option to droptable for ignoring a missing table;"sometimes you don't know if a previous migration ran so it's useful
to unconditionally drop a table
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add an ifexists option to droptable;"I think droptable can benefit from an ifexists true option that does a DROP TABLE IF EXISTS. If nothing else it can be useful for a bunch of tests that do this manually to name a few. The DROP TABLE IF EXISTS syntax seems to be supported in the popular database engines. I checked MySQL PostgreSQL SQLite MS SQL Server and Oracle.
I'm not sure if ifexists is the best name for this option. Suggestions are welcome if you feel that this is a useful contribution.
cc senny
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2026;STI cast new instances to default type on initialize.;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use the default inheritance type when instantiating a new object.;"Calling new on some base model will now instantiate the default subtype
as specified in the schema.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2027;Sti class name;"I outlined what I'm trying to accomplish with this pull request here httpsgroups.google.comforumtopicrubyonrailscoreQVjtcsNL
A brief summary of the link above

I had a class 'Code' and a database table 'codes'.
'Code' had an attribute 'units' which could be either '' or ''
I wanted the STI classes to be CodeDollar or CodePercent
I was able to get this by redefining findsticlass and stiname but it didn't work with build or new on the parent class

These changes will attempt to get a class for inheritance from findsticlass and if that doesn't work will fall through to the old way of doing things.
This allows you to match whatever string is in your inheritance column in your database with whatever class you want by redefining findsticlass and stiname.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DRY up STI subclass logic;"the newer method used for discriminating new records did not
use the older and more robust method used for instantiating
existing records but did have a better postcheck to ensure
the sublass was in the hierarchy. so move the descendants check
to findsticlass and then simply call findsticlass from
subclassfromattributes
now with fixed specs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2028;Added support for conditional fragment caching using if and unless options.;"This allows fragment caching to be used conditionally by passing ifunless to the cache helper method. This comes in especially handy when caching forms that may contain changed valueserrors.
Usage
 cache user 'form' unless user.changed do 
 render partial 'sharederrormessages' locals instance user 
 formfor user do |f| 
 div classfield
 div f.label name div
 div f.textfield name div
 div
 div classactions
 f.submit 
 div
 end 
 end    The text was updated successfully but these errors were encountered";Add cacheif and cacheunless two methods to skip fragment cache.;"Sometimes you don't want cache to all user.
you can
cacheif sessionuserid.blank'xxx' do
 something..
end

or
cacheunless currentuser.admin 'xxx' do
 something..
end

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2029;Add a failing test case for issue;"Hello
This pull request add a failing test case for . I'm ciskipping since the build should fail. I will add the changelog entry etc. when we can get it fixed.
Have a nice day.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix regression on .select method;"Problem
query author.posts.selecttitle
connection.selectonequery
That code wont work anymore on rails . And it used to work on rails .
Why
select method returns a ActiveRecordAssociationRelation and the connection is not expecting that object.
Solution
If the argument is a ActiveRecordAssociationRelation get the arel and binds from it.
review rafaelfranca dmathieu
See this example that fails on AR and not on 
httpsgist.github.comarthurnn
fixes 
fixes 
related 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2030;Return a plaintext missing translation message for nonhtml keys;"ActionViewHelpersTranslationHelpertranslate returns an html error message regardless of whether the key ends with html which completely breaks the convention for translations containing html and results invalid output.
Seen as there's no way to configure this message globally without monkeypatching the helper I think the default behaviour should be a little smarter.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";wrapping in missing keys made optional;"In.translate helper will wrap the missing translation keys
in a tag only if wrapmissingkey configuration.
Default value is true. For example in application.rb
 in order to turn off missing key wrapping
 config.in.wrapmissingkey false
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2031;Don't HTML escape ActionMailer plaintext templates;"Here's a test case and fix for issue .
The problem only exists when the evaluating block expressions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Do not escape HTML entities in text files;"Rails escapes HTML entities in erb files. This is great because it prevents Cross Site Scripting and other evil attacks. However there is one case where this behavior leads to undesired effects.
Rails escapes HTML entities in plain text mails. When I am using a message.text.erb file ActionMailer correctly detects that the mail contains plain text and sets a textplain mime type. However ERB still handles this as an html file and escapes HTML entities.
For example if my template contains Dear customername ... and customername is Foobar Partner then the mail will contain Dear Foobar amp Partner.
The following commit just disables HTML escaping in text templates. A text erb template is every file that has .text in the file name and is handled by erb.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2032;ActiveJob Sucker Punch adapter Enqueueat implementation;"Adds enqueueat implementation for the suckerpunch adapter.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update ActiveJob adapter for suckerpunch .;"This PR includes two changes for ..

Breaking API change around async.perform performasync
New addition of performin which now allows end users of the
adapter to use the enqueuedat public API method.

cc brandonhilkert
r eileencodes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2033;Hashdeepmerge does not yield block for false boolean value.;"When applying deepmerge with block on Hash with false keys the block does not get yielded.

 
 
 railsactivesupportlibactivesupportcoreexthashdeepmerge.rb
 
 
 Line 
 in
 efd
 
 
 
 

 
 
 selfk block tv block.callk tv v v 
 
 
 


The value tv should be properly checked for nil e.g. tv.nil.
Failing test
 def testdeepmergewithblockforbooleanvalues
 hash c c false c false 
 hash c c true 

 expected c c c false true c false 

 assertequalexpected hash.deepmergehash |key old n| key old n 

 hash.deepmergehash |key old n| key old n 
 assertequal expected hash
 end
Test output
 expected
 actual
 
ccc false true cfalse
cctrue cfalse

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix Hashdeepmerge bug and improve documentation ?Çö resolves;"Previously merging into a hash with a falsy value would not result in
the mergeblock being called. The fix is simply to check for presence
of the key in the hash.
The documentation example for deepmerge now appropriately
demonstrates what a deep merge does.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2034;scopechain should not be mutated for other reflections;"Currently scopechain uses same array for building different
scopechain for different associations. During processing
these arrays are sometimes mutated and because of inplace
mutation the changed scopechain impacts other reflections.
Fix is to dup the value before adding to the scopechain.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Duplicate the throughreflection's scopechain before changing it. Fixes issue;"Duplicate the throughreflection's scopechain before changing it otherwise it messes up future queries in certain edgecases.
Fixes issue 
The scenario is
A model has hasmany double through polymorphic associations Inventory hasmany Orders Inventory hasmany OrderItems through Orders Inventory hasmany Plans Items through OrderItem polymorphic.
Calling Inventory.first.items messes up the later call to Inventory.first.plans and viceversa.
Didn't think a testcase is needed for such a farfetched edge case. What do you think
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2035;Fix NameError undefined local variable or method result;"Caused by ed.
 was closed in favor of dcbe.
But dcbe is only fixed sqlite adapter and still broken mysql
adapter with preparedstatements true execstmtandfree.
diff git aactiverecordtestconfig.example.yml bactiverecordtestconfig.example.yml
index ed..bca 
 aactiverecordtestconfig.example.yml
 bactiverecordtestconfig.example.yml
 connections
 username rails
 encoding utf
 collation utfunicodeci
 preparedstatements true
 arunit
 username rails
 encoding utf
 preparedstatements true

 oracle
 arunit
 be rake testmysql verbose
...
Using mysql
Userskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersmysqldatabasestatements.rb warning assigned but unused variable result
Userskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersmysqldatabasestatements.rbin block in execstmtandfree' NameError undefined local variable or method result' for ActiveRecordConnectionAdaptersMysqlAdapterxfeceb SELECT arinternalmetadata. FROM arinternalmetadata WHERE arinternalmetadata.key LIMIT ActiveRecordStatementInvalid
 from Userskamiposrcgithub.comrailsrailsactiverecordlibactiverecordconnectionadaptersabstractadapter.rbin block in log'
...

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Init result to nil to avoid warning;"cc matthewd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2036;Fix inherited tablename from abstract class;"Hi guys I found this when I worked on my project. Let me explain situation.
When
class Parent ActiveRecordBase
self.abstractclass true
in the end it call tablename method
defaultscope where... for example
end
class Child Parent
end
Then Child has an incorrect tablename method because Parent is loaded first and already has overrided tablename method like this
def tablename ?Ç£parents?Ç¥ end
which inherits Child.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";do not compute table names for abstract classes;"I found a trivial inconsistency on AR tablename computing behavior.
While there are an abstractclass model and its child
class User ActiveRecordBase
 self.abstractclass true
end

class Admin User
end
The child's tablename changes depending on whether the abstract model's tablename were called or not.
User.tablename
 users
User.scoped.tosql
 SELECT users. FROM users
Admin.tablename
 users
Admin.scoped.tosql
 SELECT users. FROM users

Admin.tablename
 admins
Admin.scoped.tosql
 SELECT admins. FROM admins
This doesn't matter for normal use but sometimes causes weird errors for example when dealing with an AR extension plugin that scans through descendants of ARBase on Railtie hook.
Here's a patch that makes abstract models always skip computetablename.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2037;Use the correct connection for resetpksequence;"When a fs.modelclass.connection uses a different database than connection connection.resetpksequence will fail with an exception causing fixture load to rollback. This is reproducible for any ActiveRecordBase class that calls establishconnection with a different database.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove unnecessary loop when loading fixtures;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2038;Fix README heading according to Markdown conventions;"In this patch I changed the heading of the main README and the automatically generated README by Railties. In my opinion the title of the README is of incorrect structure because it uses a second level heading instead of a first level heading.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update README.md ci skip;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2039;Rails Custom Flash Type Undefined After Error;"A suggested fix to 
After an error is raised the custom flash methods are unavailable it seems that they disappear from the scope of from where they were defined.
The class instance variable which holds the name of the custom flash types persists but it does not redefine the method upon a new request perhaps exceptions clear out the scope of the dynamically inserted methods of a controller.
The suggested fix checks whether the controller has the new method and if it doesn't it definemethod it.
I was not able to reproduce the error in the integration test while imitating a route that raises an exception so I added a unit test.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Custom flash should be defined only for the class that defines it and it's subclasses;"This fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2040;Fix a bug where ASDependencies changes the behaivior of NameErrorname;"I noticed that NameError objects loses a const name after require 'activesupportdependencies'. The following example replicates the bug fixed in this commit
begin
 DoesNotExist
rescue NameError e
 e.name DoesNotExist
end

class A end

begin
 ADoesNotExistNeither
rescue NameError e
 e.name DoesNotExistNeither
end

require 'activesupportdependencies'

begin
 DoesNotExist
rescue NameError e
 e.name nil
end

begin
 ADoesNotExistNeither
rescue NameError e
 e.name nil
end
This commit changes ASDependencies to not just raise NameError but create an object first and raise the object so NameErrorname will never be nil.
I'll send other pull requests if I find this bug in more places in Rails.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make dependencies.rb add a name to NameError;"In order to use .name on we need to be consistent and set it when we raise a NameError on Dependencies module.
review tenderlove matthewd fxn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2041;sanitiser helper may be remove in . update doc ci skip;"using railshtmlsanitizer gem still Rails providing striptags striplinks features. May be it'll not remove in according that updated doc
kaspth rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove support for railsdeprecatedsanitizer.;"We publicly stated on the deprecated sanitizer README that it'll only be
supported upto Rails .
So we should be all good on removing it and we should remove it.
Not sure where or if to publicize that people should have upgraded to railshtmlsanitizer.
cc rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2042;Pass instance to In when translating error;"It'll allow to do like this
 inside model that has .title
validatesnumericalityof quantity greaterthen 
 title h hinstance.title 
with translations
errors
 models
 mymodel
 greaterthen of title must be greater than count
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow passing record being validated to error message generator;"Pass object to In helper so that when calling message proc it will
pass that object as argument to the proc and we can generate custom
error messages based on current record being validated.
Based on .

r rafaelfranca
I used different approach from by passing required object to In so that it can call proc with correct argument. Let me know if this is right approach or not. I will add CHANGELOG and documentation after getting some ideas about this approach.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2043;Do not call db in pluck when collection is already loaded;"Hi.
I am more then sure this is not a bug but probably somebody will tell me how to do it in correct way.
What do I have
In REST controller I try to show all models of specific type. One method of this model is dependent on hasmany relationship
 def mymethod
 hasmanyrelation.pluckmymethod
 end

So I try to preload this relationship in controller
def index
 render json Model.includehasmanyrelation
end

Eager loading works but pluck does not care about it so I came with this hack
hasmanyrelation.loaded offers.maphasmanyrelation offers.pluckhasmanyrelation

This works but looks like dirty hack. PR fix works but of course it is not correct.
We also notice that pluck itself has more of less common functionality
 def pluckcolumnnames
 if loaded columnnames.maptos klass.attributenames klass.attributealiases.keys.empty
 return records.pluckcolumnnames
 end

but it does not work because it is different loaded and here it is false in case of my eager load
Question is How to do it in correct way
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pluck should use records loadtarget when loaded is true;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2044;Make .findeach return an Enumerator if no block given;"Previously findeach required a block. This is incongruent with other enumerable behavior which can be chained.
By returning a potentially lazy enumerable the benefit of memory management is maintained but with the added benefit of chainable operations.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";When .findeach is called without a block return an Enumerator.;"This lets us do things like call .findeach.withindex
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2045;SetCookie values must be strings according to rack spec;"But it's still possible makesetcookieheader return nil in a empty rails app.
Once I think it should be handle via rack but according to the rack SPEC seems this is a better place.
Notice it's still not perfect way to fix because if I add RackLint to application.rb still ActionDispatchRequestSessionxcd not yet loaded error happen.
 ActionDispatchSessionCookieStore can not pass RackLint and report below error.
 session ActionDispatchRequestSession not yet loaded must respond to store and 
config.middleware.insertafter ActionDispatchSessionCookieStore RackLint
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't set a nil SetCookie header when there aren't any cookies;"Omit the header entirely when there aren't any cookies to write. Throws a wrench in RackLint and confuses some Rack handlers like Nack
Related rackrack
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2046;Default rendering behavior if respondto collector doesn't have a block.;"When a respondto collector doesn't have a response then a nocontent response should be rendered. This brings the default rendering behavior introduced by to controller methods
employing respondto
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Lock down new ImplicitRender behavior for . RC;"Conceptually revert 
The feature was implemented for the responders gem. In the end
they did not need that feature and have found a better fix see
heartcomboresponders.
ImplicitRender is the place where Rails specifies our default
policies for the case where the user did not explicitly tell us
what to render essentially describing a set of heuristics. If
the gem or the user knows exactly what they want they could
just perform the correct render to avoid falling through to
here as responders did the user called respondwith.
Reverting the patch allows us to avoid exploding the complexity
and defining ?Ç£the fallback for a fallback?Ç¥ policies.


respondto and templates are considered exhaustive enumerations
If the user specified a list of formatsvariants in a respondto
block anything that is not explicitly included should result
in an UnknownFormat error which is then caught upstream to
mean ?Ç£ Not Acceptable?Ç¥ by default. This is already how it
works before this commit.
Same goes for templates ?Çô if the user defined a set of templates
usually in the file system that set is now considered exhaustive
which means that ?Ç£missing?Ç¥ templates are considered UnknownFormat
errors .


To keep API endpoints simple the implicit render behavior for
actions with no templates defined at all regardless of formats
locales variants etc are defaulted to ?Ç£ No Content?Ç¥. This
is a strictly narrower version of the feature landed in and
.


To avoid confusion when interacting in the browser these actions
will raise a TemplateMissing error for ?Ç£interactive?Ç¥ requests
instead. The precise definition of ?Ç£interactive?Ç¥ requests might
change ?Çô the spirit here is to give helpful messages and avoid
confusions.


Closes 
Godfrey Chan Jon Moss Mike Clark Matthew Draper Kasper Timm Hansen

TODO

 Finish porting the new tests in the other PRs
 Write helpful error messages for the two no templates scenario

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2047;Fixes possible backward incompatibility;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes build .;"This fixex build . because of the changes made in

 httptravisci.orgrailsrailsjobs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2048;Escape multibyte line terminators in JSON encoding;"Currently jsonencoding respects the JSON spec as it should which disallows \n and \r inside strings escaping them as expected.
Unfortunately ECMA Javascript disallows not only \n and \r in strings but Line Terminators which includes U and U. See here httpbclary.coma.
This pull request adds U and U to be escaped.
Why?á
It's very common to see something like this in a Rails template
script typetextjavascript?á
var posts posts.tojson 
script

If U or U are part of any attributes output in the tojson call you will end up with an exception. In Chrome SyntaxError Unexpected token ILLEGAL.
In other words if one of your users pastes something into a textarea that happens to include these fancy unicode line terminators and you run tojson on that model and stick it in a template that page is probably broken now.
Why not
This is JSON encoding and the JSON spec is specific about how to encode strings. U and U don't get special treatment.
That being said this is nonobvious counterintuitive and can be tough to debug httpswww.google.comqu.
What do you do in your apps to deal with this Is there a convention I'm missing
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Escape of U and U in the JSON Encoder;"U and U are allowed inside strings in JSON as all literal
Unicode characters but JavaScript defines them as newline
seperators. Because no literal newlines are allowed in a string this
causes a ParseError in the browser. We work around this issue by
replacing them with the escaped version. The resulting JSON is still
valid and can be parsed in the browser.
This commit has been coauthored with Viktor Kelemen yikulju
References

httptimelessrepo.comjsonisntajavascriptsubset


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2049;AMDelivery job configuration;"matthewd senny
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add ability to override base job class for ActionMailer async delivery;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2050;Add Active Record and PostgreSQL to guides table of contents ciskip;"This commit also changes the formatting of code samples a little bit so
that they are more adapter to the limited width of Guides webpage.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WIP Publish Active Record and PostgreSQL guide;"Ref 

Please help me with reviewing this guide and getting it out the door 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2051;assigning '.' to a nullable numeric column does not make it dirty;"This is a fix for the issue described in 
It treats '.' the same way as ''. This makes sure that nullable numeric column don't get changed when you assign '.'.
If it's ok I'll backport that change since the behavior was reported from ..x
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for setting . to '.' being incorrectly marked as dirty.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2052;reload with new record which is not persisted should throw error fix the issue;"reload with new record which is not persisted should throw error.
fix the issue 
Thanks to rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";After findviareload the record is not new;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2053;Code cleanup for ActionDispatchFlashcall;"Here I include a fix for the broken specs in railties as reported here
 comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing build broken by this change;"cca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2054;PostgreSQL jsonb support;"Adding support to ActiveRecord for jsonb column type when using Postgresql .
For details about Json vs Jsonb implementations
httpwww.postgresql.orgdocs.staticdatatypejson.html
For ease of testing I've setup a Vagrant box with PostgreSQL . Beta a Ruby . environment ready to go if that's your thing
vagrant init christeaguecentospostgresqlruby
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for Postgresql datatype jsonb;"Hello
While working on a lightning talk on the postgresql datatype jsonb I added support for jsonb to active record.
jsonb is available in Postgresql . beta that has been released on May .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2055;Closes . Fix simpleformat with sanitizing option when the text contains single line feed.;"If we call simpleformat method with sanitizing option a single line feed \n is replaced with unexpected characters .
ltbr gt

I think we should backport to stable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix simpleformat escapes own output when sanitize is set to true;"this fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2056;Http token parser bug;"Fixing a problem detailed in . Not ready to pull until that discussion is resolved.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing Http auth token breaks with equals sign;"Changed the regex to split the key value pairs from the
relevant header so that it doesn't break when the value contains ''
characters
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2057;fix testcase ruby.. warned unused variables;"ruby .. r later warned unused variables. if you run rake test some testcase is fail. because this testcase read stderr with .. warning messages.
I think this testcase is enough for confirmation of display warning messages.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ignore other warnings in test assertion. Ruby .;"Using Ruby . we get a failing test in actionpack
 Failure
testlocalsoptiontoasserttemplateisnotsupportedRenderTest UserssennyProjectsrailsactionpacktestcontrollerrendertest.rb
 expected
 actual
 
the locals option to asserttemplate is only supported in a ActionViewTestCase
UserssennyProjectsrailsactionpacktestfixturestestcustomergreeting.erb warning assigned but unused variable customergreetingcounter
the locals option to asserttemplate is only supported in a ActionViewTestCase
 

This is because there are tons of warnings emitted and the test makes a hard match against the warning buffer.
I'm sure we will get rid of the warnings with Ruby . but there is no reason this test should fail.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2058;ActiveRecordBaseattributes return HashWithIndifferentAccess instance instead of Hash instance.;"In current behavior ActiveRecordBaseattributes return Hash instance.
But instance instance support not only string key but also symbol key.
And other many api support string symbol key.
I think ActiveRecordBaseattributes also return HWIA instance to support string symbol keys.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ARBaseattributes returns hash with indifferent access;"Reopening this issue as jeremy said he would consider this change for Rails and as many people seem to want this change. Appended a bang so as to not break API compatibility.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2059;Respond to PUTPATCH API request with ok;"This commits changes the behavior of respondto for successful PUTPATCH
requests on format associated with APIs such as xml and json.
Previously respondto would just return nocontent and no body.
After this commit it returns ok and the entire updated object as
the response body.
The rationale behind this commit is that a PUT POST or PATCH call may make
modifications to fields of the underlying resource that weren't part of the
provided parameters for example createdat or updatedat timestamps.
This commit prevents an API consumer from having to hit the API again for an
updated representation. Rails already provides the created representation after
a POST so it is coherent to have the same behavior on PUT and PATCH.
See discussion at 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";adjust apibehavior to display updated data after a patchput request;"Hi This is not a brand new request sometime last year a similar thing was proposed but at the time it perhaps made sense to leave rails the way it was. I'd argue that with some recent trends in application development it might now be worthwhile to revisit the issue.
Namely at the moment an API update PATCHPUT request yields nocontent. This is technically a correct approach according to Roy Fielding's HTTP Protocols httpwww.w.orgProtocolsrfcrfcsec.html and as pointed out by Steve Klabnik thusly in March 
If an existing resource is modified either the OK or No Content response codes SHOULD be sent to indicate successful completion of the request.
At the moment we see a response in Rails. Again technically correct. However the past year and a half have heralded a rise in the use of a SOA approach to software engineering especially in the Rails application community. Given the increase in the sheer number of APIs the time spent editing APIs and the instances of updates made through APIs that accompany this trend we want to make it as convenient as possible in Rails for folks to develop use and read APIs?Çöincluding checking their work. By changing the apibehavior method to show the updated data request after data is updated through an API rather than a nocontent request we save API users the step of manually checking the updated data in their rails console or database editor to make sure it's correct. This way one doesn't need to use a .jbuilder view other view or series of code lines in their API to display updated data the default respondwith command will just do it for them.
A note I had the added line respond to both PATCH and PUT just in case but I can also imagine why you might want it to just be PATCH at this point.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2060;Make Time and DateTime endof methods consistent;"Before
Time.now.endofmonth.todatetime DateTime.now.endofmonth
After
Time.now.endofmonth.todatetime DateTime.now.endofmonth
That's because of Time using secfractions for endof methods while DateTime's methods ignored secfractions even though it's supported by the class.
This fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Nanoseconds support for DateTimeendof methods;"The behaviour of DateTimeendof methods is different from
Timeendof. DateTime unlike Time doesn't take seconds fraction into count.
Time.now.endofday.usec .
DateTime.now.endofday.usec 
It leads into unexpected behaviour like
DateTime.now.endofday.totime Time.now.endofday false

class Campaign ActiveRecordBase end

Campaign.create... finishesat Time.now.endofmonth
Campaign.wherefinishesat DateTime.now.endofmonth 
This patch makes the behaviour of these methods consistent for both classes so that Time and DateTime become more mutually changeable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2061;Remove distinct from relation when doing a relation count;"Remove distinct from relation when doing a relation count since it gets added on subquery part when selecting a distinct count.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Suppress DISTINCT clause outside aggregate function;"DISTINCT clause is applied inside aggregate function by
operationoveraggregatecolumn if needed. Unneeded outside aggregate
function.
 Before
 author.uniquecategorizedposts.count
 SELECT DISTINCT COUNTDISTINCT posts.id FROM posts INNER JOIN categorizations ON posts.id categorizations.postid WHERE categorizations.authorid authorid 

 After
 author.uniquecategorizedposts.count
 SELECT COUNTDISTINCT posts.id FROM posts INNER JOIN categorizations ON posts.id categorizations.postid WHERE categorizations.authorid authorid 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2062;Updating docs for config.actionview.erbtrimmode;"I would like to help resolve .
This documents that Erubis is now the default engine being used by Rails. This also adds an ERB example to remove trailing white spaces.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Document default trim mode for Erubis and affected ERB tags ci skip;"Fixes 
cc rafaelfranca
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2063;Don't parallelize tests running on jruby;"Running tests using Minitest's parallelizeme leads to the following
error
ArgumentError marshal data too short
 load at orgjrubyRubyMarshal.java
 run at
hometravisbuildrailsrailsactivesupportlibactivesupporttestingisolation.rb
 runsuite at
hometravisbuildrailsrailsvendorbundlejruby.gemsminitest..libminitestunit.rb
 each at
hometravisbuildrailsrailsvendorbundlejruby.gemsminitest..libminitestparalleleach.rb
rake aborted
Full Log here
httpss.amazonaws.comarchive.travisci.orgjobslog.txt
Above Error Occurs in many railties ap amo av when tests are run on jruby. with this patch atleast the tests would compete not due due weird threading issues.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make the isolated tests run on JRuby;"Hello
This pull request make the tests correctly run in isolation for JRuby. As there is no forking on JRuby we need to spawn subprocesses to make the tests run in isolation.
Previously we were defining globally env variables and running the test file through backticks and delete these variables once the test ran.
Now we simply rely on IO.popen as this is crossplatform and the env variables are available during the childprocess execution only so there are no race conditions.
Thus we no longer get ArgumentError marshal data too short when running rake testisolated. The only drawback we can see is that since we are using Process.wait on computers with a tiny CPU the test suite is bit slower to run.
Most of the work have been done by Ben here by the way
Have a nice day.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2064;Backport a supersimplified version of fixing that exists can produce invalid SQL SELECT DISTINCT DISTINCT;"To recap the combination of a uniq true association and the distinct call
in constructlimitedidscondition combine to create invalid SQL because
we're explicitly selecting DISTINCT and also sending distinct on to AREL
via the relationdistinctvalue.
Where was the forever fix this is the minimal fix. Instead of
properly indicating the distinctness of the query through uniqvalue alone
we use the literal DISTINCT select statement produced by distinct and
set uniqvalue to always be falsey
Happy to backport the full change but have the sense this is a simpler
intervention for the . line.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Backport columnsfordistinct in postgres adapter from;"I've skipped the finder stuff because there was no relationdistinct maybe I'm missing something
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2065;Fix for failing uniqueness validation on enum.;"Adding test case and fix for the issue described in here 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix a bug affecting validations of enum attributes;"This fixes a bug where any enum attribute of a model
would be evaluated always as when calling the
database on validations.
This fix overrides the readattributeforvalidation
method for enum attributes to make it return the
integer representing the value rather than the
value itself.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2066;Optimize none and one relation query methods to use LIMIT and COUNT.;"I was surprised to find out that relation's none method was loading the entire collection as an array
even if no block or limit was given. This contrasts how any and many work which is to use LIMIT and COUNT respectively if no block and limit is given.
IMO it's more natural to use .none query rather than either empty because empty is an Array method while none is an Enumerable method and thus seems more suitable for a generic set such a a set of database rows. I therefore changed none to follow the already existing behavior for any and many.
I also implemented an optimized one for similar reasons and for completion sake just as me others could be surprised that one behaves differently than any and many and I don't see a drawback to being consistent in providing an efficient implementation if possible.
This change applies to relations e.g. User.all as well as associations e.g. account.users.
Before
users.none
SELECT users. FROM users

users.one
SELECT users. FROM users
After
users.none
SELECT AS one FROM users LIMIT 

users.one
SELECT COUNT FROM users
NullRelation has been updated to shortcurciut none and one as it already does with any and many.
Also improved method documentation a bit.
I added the appropriately modified same set of tests as present for any and many methods in relationstest.rb and associationshasmanyassociationtest.rb unit tests.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Optimize enumerable methods for collection associations;"Optimize none and one methods for CollectionAssociation class to prevent of loading the entire records into memory when no block given. And of course tests.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2067;Change Integeryear to return a Fixnum instead of a Float to improve consistency;"Integeryears returns a Float while the rest of the accompanying methods return a Fixnum.
This PR converts the constant ..days to an integer to ensure that Integeryears returns a Fixnum as well and improve the consistency of the API.
Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't return a float for ActiveSupport's years;"Based on a suggestion in issue 
ActiveSupport's Integer patching for dates return an integer representation in almost every case except for years. This change makes that consistent by returning an integer representation for years as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2068;Make pg adapter use bigserial for pk by default;"This PR makes postgres adapter generate tables using bigserial type for primary keys. There are no performance implications by doing this and it should be fully backwards compatible.
Also see httpstwitter.compvhstatus
cc tenderlove pvh schneems hone
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Change Default Primary Keys to BIGINT;"Friends don't let friends use INT as a primary key. ?Çö Schneems schneems May 
Summary
Per a conversation with sgrif changes default primary keys from Integer to BIGINT for both Postgresql and MySQL. Leaves behavior alone for SQLite since this database does not provide support for BIGINT primary keys.
Other Information
For obvious reasons this also requires foreign keys to change from integer to bigints. As a result the test suite's schema.rb has been change in the necessary places.
I'll squash and add a CHANGELOG entry once the rest looks ok...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2069;Do not run rake test tasks with atexit;"For rake test tasks call Minitest.run explicitly instead of using the atexit hook. This executes test tasks at their specified position and not only at the end of the rake run.
E.g.
rake testmodels othertask testcontrollers

This first runs the model tests then othertask and finally the controller tests. Before this change othertask was run first then the model and controller tests were run in one go.
If a test task fails rake exits with exit code same as before without running the remaining tasks.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve Test Runner's Minitest integration.;"I've tried to improve the Rails new test running system to take better advantage of Minitest's extension system.
The build will break as I haven't ported over the Runner tests yet. But the tests running the tests commands should pass.
zenspider was this more inline with your comments on the original pull request
cc senny arthurnn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2070;Update urlhelper.rb;"add block to linktoif when condition is true
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed behaviour when block wasn't passed to linkto from linktoifcondition true method;"Seems like block was missing in argument list so linktoif didn't pass block' tolinkto method
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2071;fix infinite retry loop in Marshal.load autoloading logic;"Fix an infiniteretry loop in the Marshal.load autoloading logic extension by shortcircuiting if the name has already been processed for autoloading and yet continues to fail to load.
As shown in the test case and in this gist httpsgist.github.comseanwalbrandbcaf the issue is triggered specifically in the scenario where an object had been dumped as a 'concrete' nested class i.e. defined on the subclass but is being loaded in a context where the nested class has since been rendered 'nonconcrete' i.e. defined only by the superclass.
A reallife hang example occurs if you take an ActiveRecordBase object dumped e.g. to memcached under rails ..x and attempt to load it under rails .. where ActiveRecordConnectionAdaptersMysqlAdapterColumn is no longer a concrete nested class as of the following commit eaadiffedeadeccdbdfL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Prevent Marshal.load from looping infinitely;"Fix a bug in Marshal.load that caused it to loop indefinitely when
trying to autoload a constant that resolved to a different name.
This could occur when marshalling an ActiveRecord . object e.g. into
memcached and then trying to unmarshal it with Rails .. The
marshalled payload contains a reference to
ActiveRecordConnectionAdaptersMysqlAdapterColumn which in
Rails . resolves to
ActiveRecordConnectionAdaptersAbstractMysqlAdapterColumn.
This backports to stable
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2072;Creating application model template;"This PR creates the ApplicationModel class. This class will serve as an intermediate between a model and ActiveRecordBase. Currently to create a model one follows the following procedure
class MyModelName ActiveRecordBase
end
This inherits directly from ActiveRecordBase and means that all configurations on ActiveRecordBase are global to all of its subclasses unless the subclass redefines the configuration on its own.
I'm introducing ApplicationModel so that models have an intermediary layer for inheritance like so
class MyModelName ApplicationModel
end
What the ApplicationModel class does is allow different sets of configurations to be defined on multiple applications. Each Rails application will have its own ApplicationModel. The ApplicationModel figures out which application it belongs when it is pulled in through the railtie and configsfrom is specified.
\cc spastorino josevalim Can you guys take a look I'm sure there's something I forgot so please let me know.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use base model class when app is generated;"I think there is a need to have a base model class just like ApplicationController for controllers
to store code that is shared across all models.
I end up doing it for every project I work on.
So this patch adds Model to generated app uses it as base class when new model is generated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2073;Reorder query in active record query of rails guide;"I checked the rails guides recently and found that query in the reorder is not correct. I corrected it and pushed that yesterday and it was merged. But today there was a change i.e to move from post to article and found the same mistake.
In getting the the comments of article reordered by name there must be two things
Current Query
SELECT FROM articles WHERE id ORDER BY name
Ideally It should be
SELECT FROM articles WHERE id 
SELECT FROM comments WHERE articleid ORDER BY name

It hit two queries on database first to load article and then comments but It is showing one.
Ordering is done of post but it should be of comments

Same case for default case without any reorder i.e order by postedat 
Current query is
SELECT FROM articles WHERE id ORDER BY postedat DESC
It should be
SELECT FROM articles WHERE id 
SELECT FROM comments WHERE articleid ORDER BY postedat DESC
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Guides Fix Incorrect Reference to Article in example SQL query;"I incorrectly replaced comment with article in two of the SQL queries that were part of .
This is how it should appear.

reorder
The reorder method overrides the default scope order. For example
class Article ActiveRecordBase
 ..
 ..
 hasmany comments order'postedat DESC' 
end

Article.find.comments.reorder'name'
The SQL that would be executed
SELECT FROM comments WHERE articleid ORDER BY name
In case the reorder clause is not used the SQL executed would be
SELECT FROM comments WHERE articleid ORDER BY postedat DESC

Currently the sql clauses in the above appear as
SELECT FROM articles WHERE id ORDER BY name
SELECT FROM articles WHERE id ORDER BY postedat DESC
This correctly updates the queries as well as fixes the alignment for some of the tables.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2074;Remove log message broadcast flag;"This change forces nonASLogger objects to support the
broadcastmessages flag which means loggers such as the one in Ruby's
standard library cannot be used.
Fixes 
cc schneems
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";close Don't output to STDOUT twice;"When rails console or rails server are used along with a logger set to output to STDOUT then the contents will show up twice. This happens because the logger is extended with ActiveSupportLogger.broadcast with a destination of STDOUT even if it is already outputting to STDOUT.
Previously PR attempted to fix this issue but it ended up causing NoMethodErrors. A better approach than relying on adding a method and flow control is to inspect the log destination directly. For this ActiveSupportLogger.loggeroutputsto was introduced
logger Logger.newSTDOUT
ActiveSupportLogger.loggeroutputstologger STDOUT
 true
To accomplish this we must look inside of an instance variable of standard lib's Logger logdev. There is a related Ruby proposal to expose this method in a standard way httpsbugs.rubylang.orgissues
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2075;Fix unscoping bug in preload and includes;"This PR fixes .
Currently unscoped block does not work for includes and preload.
I changed ActiveRecordAssociationsPreloader to use all instead of defaultscoped.
And ignore preload and includes scope to pass .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";copy reflectionscopes?ÇÖs unscoped value when building scope for preloading;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2076;Define Hashtransformvalues and transformvalues on only Ruby . and Ruby .;"Summary
Hashtransformvalues and Hashtransformvalues is implemented on ruby . httpsgithub.comrubyrubyblobtrunkhash.cLL so it should define these methods only on ruby . and ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use builtin transformvalues when available.;"The methods Hashtransformvalues and Hashtransformvalues have been
implemented in Ruby and they'll be available as part of the standard
library.
Here's the link to the discussion in Ruby's issue tracker
httpsbugs.rubylang.orgissues
These methods are implemented in C so they're expected to perform
better.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2077;Suppress DEPRECATION WARNING introduced with eae;"After this commit DEPRECATION WARNINGs are left.
 of theme are related with destroy method ex httpsgithub.comrailsrailsblobmasteractiverecordtestcasesassociationsjoinmodeltest.rbL.
So reloading destroyed model raises error.
I cannot find out why of theme is failed httpsgithub.comrailsrailsblobmasteractiverecordtestcasesassociationstest.rbL.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Silence deprecation warning from force reload;"We deprecate the support for passing an argument to force reload in eae. That led to several
deprecation warning when running Active Record test suite.
This commit silence the warnings by properly calling reload on the association proxy or on the association object instead. However there are several places that ActiveSupportDeprecation.silence are used as those tests actually tests the force reload functionality and will be removed once master is targeted next minor release ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2078;Moduledelegate cannot delegate to receivers named args or block for normal methods or arg for setters.;"I found this bug while trying to delegate to a method called block. Consider the following code
require 'activesupportcoreext'

class Foo
 def block
 block || Object.new
 end 

 delegate dup to block
end 

Foo.new.dup
I expected this to return a new instance of Object but instead it raised the following error
TypeError can't dup NilClass

This is because block is an argument in the dynamically generated dup method on Foo. The signature of that method looks like this
class Foo
 def dupargs block
 ...
 end
end
No block is given to the dup call so block is nil thus the error. The same problem exists with delegating to args and delegating to arg if the method you're delegating happens to be an attribute writer.
I'm not super thrilled with how the tests turned out and would appreciate suggestions on how to make them a bit clearer and possibly shorter but they fail without the patch and pass with it.
Please let me know if there's anything I should have done differently.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make delegation work with the reserved words passed to to;"Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2079;Callback collision;"Rebased version of previous pull request see

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix collisions with before and after validation callbacks.;"This commit allows a user to do something like
 beforevalidation dostuff on create update 
 aftervalidation domore on create update 
This addresses issue .
This also uses the unit tests from mandrewsrailsffecdcadbecb
lightly modified
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2080;ConncectionPool Prevent reuse of a connection with open transactions;"Checking in a connection with an open transaction can lead to flaky issues as thread started the transaction might or might not get back the same connection.
See 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Run integration tests through the app's executor;"This ensures that the unit of computation is an entire test instead
of the request. This allows us to skip for example connection pooling.
This ensures that the same connection is used for the entire test.
We should arguably do this for all tests but this level is the only
place that we have an obvious lifecycle to hook into.
I think there's still an underlying problem to address which is that in
general we shouldn't release a connection with an open transaction that
hasn't been poisoned back into the pool. However that's a slightly
larger change that can be addressed later.
Fixes though this may require an upstream change for RSpec
Fixes 
Fixes 
Close 
Close 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2081;Ensure Action Cable files are removed when skipactioncable is set.;"The Action Cable generators creates four files which need to be removed
if skipactioncable is set. In addition skipactioncable should
be set to true when optionsapi is set.

appassetsjavascriptscable.coffee
appchannelsapplicationcablechannel.rb
appchannelsapplicationcableconnection.rb
configrediscable.yml

Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove appchannels if skipactioncable;"If I generate a new rails app with the skipactioncable option I probably should not see appchannelsapplicationcablechannel.rb and appchannelsapplicationcableconnection.rb.
What do you think
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2082;make UrlGenerationError message more generic fixes .;"This is the minimal solution. Would be nice to distinguish between missing keys and values that do not match constraints some day.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Show an unmatched constraints error when params fail to match constraints;"Summary
Currently a misleading missing required keys error is thrown when a param
fails to match the constraints of a particular route. This PR ensures that
these params are recognised as unmatching rather than missing.
Fixes .
Other Information
Note this means that a different error message will be provided between
optimized and nonoptimized path helpers due to the fact that the former does
not check constraints when matching routes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2083;Fix postgresql line type test suite teardown;"Setup skips before initialising connection variable so we should check this in teardown.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove warning from postgresql geometric test;"This removes the following warning which has been out in the case of a PostgreSQL . below.
activerecordtestcasesadapterspostgresqlgeometrictest.rb warning instance variable connection not initialized

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2084;Add ARBasevalid method;"This is helper method in case when some operations should be done on a record before saving. But they doesn't make sence if record is invalid.
def createdeveloperfromlinkedinparameters
 d Developer.newparameters
 d.valid
 d.importlinkedinprofile
 d.save
end
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add validate method which raises an exception if the record is invalid;"This complements validate analogously to pairs like savesave createcreate etc.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2085;Added support for LCCOLLATE and LCCTYPE for PostgreSQL adapter.;"Since version . PostgreSQL supports specifying custom LCCOLLATE and LCCTYPE for CREATE DATABASE so one database cluster can now contain databases with different collations.
This adds support for lccollate and lcctype options for database.yml
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support collate for postgresql;"Since PostgreSQL . Collate and Ctype options are supported when creating database.
Please see also httpwww.postgresql.jpdocument.htmlsqlcreatedatabase.html.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2086;Improve Getting Started Guide;"Connected with 
Removed permitting of the params in the section . because it's will be added only in ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";updated documentation to be consistant with strong parameters;"gettingstarted.md said that we will Almost be able to create a post because we had not setup the strong parameters. The strong parameters had been setup previously as required in rails as of . so this error does not happen.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2087;PostgreSQL JSONB columns do not preserve the key order of hashes;"Summary
PostgreSQL JSONB columns do not preserve the key order of hashes
httpswww.postgresql.orgdocs.staticdatatypejson.html
Due to this setting a JSONB column to the same hash twice can cause model.changed to return false positives
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Reduce serialize in changedinplace;"If rawoldvalue is needed deserialize to normalization unneeded
serialize again because newvalue is deserialized value.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2088;Add missing test for;"Adds missing test cases for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Tests for casesensitive in confirmation validation.;"r carlosantoniodasilva
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2089;Properly discover a connection is closed in postgresqladapter;"PQstatus doesn't properly test if future operations will succeed. A
PQping function is added to libpq in PostgreSQL . but if we rely
on it everyone on earlier versions of Postgres is out of luck
and the pg gem wouldn't have the 'fix' until the next release.
Thanks to cbrecabarren and ged for handling all the dirty details.
Closes .
cc tenderlove jonleighton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Postgresql auto reconnect;"After a Rails process has opened a connection to a PostgreSQL server if the PostgreSQL server is subsequently restarted or the connection has been otherwise severed the connection would fail with an exception the next time a query was attempted using that connection.
With these changes the connection will automatically be repaired on the next query assuming it is safe to do so e.g. we were not in the middle of a transaction.
Some of the commits on this branch are also to fix test failures or intermittent test failuresfragilities that are unrelated or only tangentially related to the autoreconnect changes failures on TC before I started tests that fail only when run in certain combinations etc.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2090;Refactor debug view;"Avoid logic in ERB and use helpers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Do not introduce new variable;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2091;Recursive hash key methods;"I've updated Hashstringifykeys Hashstringifykeys Hashsymbolizekeys and Hashsymbolizekeys to accept an option which applies the method recursively
a foo bar foo nestedfoo bar morefoo bar 
a.stringifykeys 
 foo bar foo nestedfoo bar morefoo bar 
a.stringifykeysrecursive true
 foo bar foo nestedfoo bar morefoo bar 

It also handles hashes nested within arrays well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding deep versions of stringifykeys and symbolizekeys plain and bang for nested hashes;"I have to carry around some snippets 'cause I always use these methods specially deepsymbolizekeys when I use YAML files with custom app configuration. Some people I know also have their own versions so I thought adding them to ActiveSupport was a good idea.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2092;Optout of always writing of serialized columns serialize someattr dirty never;"This is a first cut at a simple patch that allows developers to protect certain serialized columns from being written to the database on every update. The default behavior is not affected and this patch is backwards compatible. Quick example
class MyModel ActiveRecordBase

 somefield gets written on every write
 serialize field
 same as above
 serialize field dirty always
 serialize field Object dirty always

 field only gets written if
 fieldwillchange was called
 serialize field dirty never
end
The current second argument classname still works and is optional as well.
This patch fixes in a very lightweight way. If this gets any interest I'd love to discuss


Allowing values clone and hash to the dirty option. This would store a hash or copy of the object after initialization and compare it when saving. This is rather expensive so it has to be strictly optin.


Consolidating the existing serializedattributes and the new serializedattributeoptions class attributes. IMO it would be nice to have something like MyModel.serializedattributeoptions myfield dirty always coder XXX. This could be implemented by first deprecating serializedattributes in case somebody is directly using it. It may even make sense to simplify the serialize method more by making the current classname argument a part of the options hash


I've never attempted to contribute to rails so forgive my ignorance wrt process. I'm also more than happy to change the naming formatting and structure of the code as needed. I'll also write some specs I already wrote some but wasn't able to run them... .
Brief rationale Consider a system with two separate processes A and B. A reads your model object does something for a second and then call save on it. Whatever your serialized column's value was when A read it is now written to the database. In the meantime B might have modified that column. Those changes are now lost.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Detect inplace changes on mutable AR attributes;"We have several mutable types on Active Record now. Serialized JSON
HStore. We need to be able to detect if these have been modified in
place.
Serialized attributes now just work and no longer need to be saved of the time.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2093;Extract datasourcesql to refactor data source statements;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use current database in MySQL's tableexists;"This is a minor regression from when we switched from using SHOW TABLES
to querying the informationschema for tableexists. SHOW TABLES by
default querys the currently selected database but the current
implementation defaults to configdatabase if no database name is
prepended to the table name. This meant that if you issued a USE
statement to change database tableexists gives spurious results as
it's still querying configdatabase.
The solution is to use the MySQL DATABASE function in place of
configdatabase.
 comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2094;Fix ARMigrator to create schemamigrations table for MySQL utfmb encoding;"conditions

MysqlAdapter
encoding utfmb

steps to reproduce
rake dbcreate
rake dbmigrate

MysqlError Specified key was too long max key length is bytes CREATE UNIQUE INDEX uniqueschemamigrations ON schemamigrations version

This commit fixed dbschemaload but didn't apply to dbmigrate.
refs 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use SchemaStatementsinitializeschemamigrationstable instead of ActiveRecordSchemaMigration.createtable .;"I think that should use SchemaStatementsinitializeschemamigrationstable instead of ActiveRecordSchemaMigration.createtable.
Otherwise f is not called from dbmigrate.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2095;Remove passing original exception;"Passing original exception was deprecated by .
This produced the warning when we use activerecord with sqlite adaper and call drop task
DEPRECATION WARNING Passing originalexception is deprecated and has no effect. Exceptions will automatically capture the original exception.

I think this is just unfinished work of .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove all ActiveRecord deprecations;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2096;Fix appgenerator for api only apps when Action Cable is skipped;"It was giving error trying to gsub application.html.erb which doesn't
exist for api only app.

r rafaelfranca
xref comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";prevent skipactioncable from erroring when api option is used;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2097;Strip extra controller from a generated controller name;"This happens to me all the time
rails generate controller AdminFoosController
and so I end up with crap called FoosControllerController. This strips the extra controller at the end. I'm not sure about the implementation though I'd never overridden a protected method before... feedback
cc. mperham vipulnsward
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Handle and scrub ending controller gracefully in controller generator;"Handle and scrub ending controller gracefully in controller generator
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2098;Update activesupportlibactivesupportjsonbackendsokjson.rb;"handling single quote in json data while decoding. Ex 'key' 'value'
Issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update activesupportlibactivesupportjsonbackendsokjson.rb;"Okjson not parsing ' single quote character. Writing a method and adding conditions for the same.
For example the following Json response will not be parsed properly 
'key' 'value'
but if the response uses double quotes instead of single quotes ' it will work properly.
This commit will also take care of responses returned with single quotes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2099;Issue with JSON serialization;"Suppose we have simple model with custom asjson
class TestModel ActiveRecordBase

 def somemethod
 'test output'
 end

 def asjsonoptions
 optionsmethods || 
 optionsmethods.pushsomemethod
 super options
 end
end
And we want to serialize array of records
TestModel.new .asjson
Expected behaviour for me is that somemethod will be called just times. But I get instead ?ÿä. This is because of modification of options variable which passed in super
I've tested it with rails . .. and latest master. With ActiveRecord and MongoMapper.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";asjson isolates options when encoding a hash. Closes;"I modified the Encoder so that duplicates of the original options hash are passed around. I'm not sure if there are cases where we actually wan't the side effects but all the tests passed.
This is a fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2100;Save join data with hasmany through.;"Fixes .
If you have conditions on a hasmany through it does not
save the data. This patch fixes that by generating the
correct SQL.
This is based on work done by clarkgr on .
I don't have a test written because I'm an AR noob but you have to start somewhere...
All the existing tests pass.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix collection on hmt join models when unsaved;"If assigning to a hasmany through collection against an unsaved
object using the collectionarrayofitems syntax the join models
were not properly created previously.
This bug is present in the current .. release as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2101;Update secrets to use modern crypto;"Fixes by replacing the default mode with AESGCM allowing the mode to be configured manually correctly generating keys and using a random initialization vector on every encryption.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix newcipher' uninitialized constant ClassRailsSecretsOpenSSL NameError;"rails .. master
rubyhead
MacbookProtestapp sharevari bundle exec rails secretssetup
 from binrailsin main'
 from binrailsin load'
 from Userssharevarirepositorysharevaritestappbinspringin top required'
 from Userssharevarirepositorysharevaritestappbinspringin require'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringbinstub.rbin top required'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringbinstub.rbin load'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..binspringin top required'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringclient.rbin run'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringclientcommand.rbin call'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringclientrails.rbin call'
 from Userssharevari.rvmgemsrubyheadtestgemsspring..libspringclientrails.rbin load'
 from Userssharevarirepositorysharevaritestappbinrailsin top required'
 from Userssharevarirepositorysharevaritestappbinrailsin require'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailscommands.rbin top required'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailscommand.rbin invoke'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailscommandbase.rbin perform'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthor.rbin dispatch'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin invokecommand'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorcommand.rbin run'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailscommandssecretssecretscommand.rbin setup'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorbase.rbin start'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorgroup.rbin dispatch'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin invokeall'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin map'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin each'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin block in invokeall'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorinvocation.rbin invokecommand'
 from Userssharevari.rvmgemsrubyheadtestgemsthor..libthorcommand.rbin run'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailsgeneratorsrailsencryptedsecretsencryptedsecretsgenerator.rbin addsecretskeyfile'
 from Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailssecrets.rbin generatekey'
Userssharevari.rvmgemsrubyheadtestbundlergemsrailsdderailtieslibrailssecrets.rbin newcipher' uninitialized constant ClassRailsSecretsOpenSSL NameError

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2102;ActionMailerBasemail should allow overriding templatename for default template rendering when a block is passed;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ActionMailer support overriding template name in multipart;"Implicit rendering in multipart blocks now also uses the template name from the options hash instead of always using the action name.
So you can now write
mailtemplatename templatename do |format|
 format.text
 format.html
end

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2103;Fix retrieving duplicated columns with mysql;"This fixes SQL queries with MySQL where the same name is used several times for the same column therefore breaking the build.
When a field is named several times second and further occurencies get prepended the name x where x is the index.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix mysql to support duplicated column names;"This will fix the broken test testwithlimitingwithcustomselect.
The query's result was built in a hash with column name as key if the
result have a duplicated column name the last value was
overriding the first one.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2104;Gemfile is even more cleaner now.;"cleaned
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Clean up quotes in the Gemfile;"Use single quotes in the Gemfile.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2105;Set default precision for ActiveModelTypeDecimal to;"Summary
Active Model expects the default precision to be . If precision is 
which it is by default MRI will autocorrect this to be but JRuby
does not. In order to prevent an error being raised we have to manually
default the precision to be .
There is no need for a regression test the test suite already has one.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make BigDecimal casting consistent on different platforms;"Right now it behaves differently on JRuby
 expected
 actual
 
BigDecimalfcc'.'
BigDecimaleafab'.'

My initial PR offered to let the precision to be decided by the platform and change the test expectation but other contributors suggested that we should change the default precision in Rails to be consistent of all platforms instead.
I got the value of from the max default precision that comes from casting Rational to BigDecimal.
sgrif matthewd guilleiguaran
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2106;HashWithIndifferentAccessselect working as intended;"Before this commit reject returned a HashWithIndifferentAccess whereas select returned a Hash. Now select also returns a HashWithIndifferentAccess.
I think the behavior was confusing refactoring some code I changed a couple of hashwithindifferentaccess.reject |kv| v.blank by a hashwithindifferentaccess.select |kv| v.present because I found it a lot more readable in the context it was and was surprised that the behavior changed.
I'm not sure if testing both bang methods is necessary but I thought it might not hurt.
Hope to hear what you think.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Preserve class on HashWithIndifferentAccessselect;"Previously calling select on an instance of HashWithIndifferentAccess could
lead to unexpected behaviour as it returned an instance of Hash. This is
because Ruby's implementation makes a copy as an instance of Hash.
This commit defines select on HashWithIndifferentAccess to return a
hash of the correct class.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2107;Destroy marked child records before new child records inserted;"This pull request should resolve issue.
There was a bugannoying problem when

there are some child records for has many association marked for destruction
in the the same transaction added new child records which conflicts with marked records by schema constraints like unique values for some attributes
on save there is Rollback Exception because new conflicted records have been inserted before marked for destruction records are destroyed.

Example code httpsgist.github.compftg
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";autosaveassociation issue that occurs when table has unique index resubmission;"This is a resubmission of .
 was merged and subsequently unmerged due to test failing for MySQL.
Comments here
For this one I have incorporated the changes suggested by rafaelfranca in caaf.
This change however still changes the schema inside the test and works around that by setting usetransactionalfixtures to false no matter which connection adapter is in use for that test class.
Is this OK or would it be preferable for me to alter the actual schema and corresponding models by adding a unique index on a table there
I started down this path but it quickly became more complex than I hoped i.e. changing the existing schema breaking unrelated test. I'll work through it though if that is preferable.
cc jonleighton
Thanks.
From original description
Per the comments in pull 
If you have a table with a unique field index and you mark a record for destruction and you build a new record with the same value as the unique field then when you call save a database level unique index error will be thrown.
This happens because the record destruction happens after record creation.
In this pull request I moved the record destruction ahead of the record creation.
This is my first pull request ever so please go easy on me. ?ÿä 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2108;fix test error when running with postgresql.;"This Sqlite should be in if block.
Was giving error because sqlite is not loaded
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Define sqliteversion only when currentadapter is SQLiteAdapter.;"rake test fails when mysql mysql and postgresql tested. It finishes successfully for sqlite.
because SQLiteVERSION value cannot be get unless current adapter is SQLiteAdapter.
 cd activerecord
 rake test
... snip ...
Using mysql with Identity Map off

 Error
testcachedoesnotwrapstringresultsinarraysQueryCacheTest
NameError uninitialized constant QueryCacheTestSQLite
 homeyahondaDropboxgitrailsactiverecordtestcasesquerycachetest.rbin testcachedoesnotwrapstringresultsinarrays'
 homeyahonda.rvmgemsruby..prailsmastergemsmocha..libmochaintegrationminitestversionto.rbin run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin block in run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runsetupcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin run'

 tests assertions failures errors skips

... snip ...
Using mysql with Identity Map off

 Error
testcachedoesnotwrapstringresultsinarraysQueryCacheTest
NameError uninitialized constant QueryCacheTestSQLite
 homeyahondaDropboxgitrailsactiverecordtestcasesquerycachetest.rbin testcachedoesnotwrapstringresultsinarrays'
 homeyahonda.rvmgemsruby..prailsmastergemsmocha..libmochaintegrationminitestversionto.rbin run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin block in run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runsetupcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin run'

 tests assertions failures errors skips

... snip ...
Using postgresql with Identity Map off

 Error
testcachedoesnotwrapstringresultsinarraysQueryCacheTest
NameError uninitialized constant QueryCacheTestSQLite
 homeyahondaDropboxgitrailsactiverecordtestcasesquerycachetest.rbin testcachedoesnotwrapstringresultsinarrays'
 homeyahonda.rvmgemsruby..prailsmastergemsmocha..libmochaintegrationminitestversionto.rbin run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin block in run'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runsetupcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupportcallbacks.rbin runcallbacks'
 homeyahondaDropboxgitrailsactivesupportlibactivesupporttestingsetupandteardown.rbin run'

 tests assertions failures errors skips

Test run options seed 
Errors running testmysql testmysql testpostgresql
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2109;globalid method name change from 'globalid' to 'toglobalid' breaks activejob;"This is in reference to 
httpsgithub.comrailsglobalidblobmasterlibglobalididentification.rbL
This change should be merged in once whenever ActiveJob is updated to reference the latest globalid.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump globalid version;"jeremy can you release version .. of globalid 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2110;When running plugin new the generated .gitignore should include nonproject files in test dummy;"The current behavior is that the ignored nonproject files are hardcoded to testdummy in the generated .gitignore. The patch makes .gitignore a template and ensures that the test dummy directory corresponds to the supplied path if the dummypath option is supplied or not.
I included a sanity check test that passes for the current behavior and one for the new behavior.
Mike
P.s. First time committing hope things look OK. Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed error with 'rails generate new plugin' where the .gitignore was not;"Fixed error with 'rails generate new plugin' where the .gitignore was not properly generated if dummypath was used and added test case
This is in regards to Issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2111;Fixes Additional select columns are removed when using includes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";eagerload doesn't play nicely with a custom select;"Do not merge
AR is too mysterious for me to find the cause but I've written a failing test case. I'd be happy to work on fix though with some help.
BTW switching to preload makes the assertions pass.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2112;Add data type support to storeaccessor;"Add type casting for storeaccessors. First example
class TypedUser User
 storeaccessor settings loginat datetime
end

u TypedUser.newactive false loginat ' ' 
u.loginat.isaDateTime true 
u.loginat DateTime.new
u.reload

 after loading record from db store contains raw data
u.settings'loginat' ' '
 but accessor returns type casted value
u.loginat DateTime.new true
This feature is the most efficient when working with Postresql hstore because hstore stores all values as strings. Example
 without typed accessors
class User ActiveRecordUser
 suppose we store some counter within hstore 'settings'
 storeaccessor settings counter

 we have to override getter to get value as integer
 def counter
 super.toi 
 end
end

 with typed accessor
class User ActiveRecordUser
 storeaccessor settings counter integer
end
This makes code depend less on store type.
Another feature is data normalization
class User ActiveRecordUser
 storeaccessor settings birthday date
end

User.newbirthday '' stores 'birthday' as '' 
User.newbirthday '' stores 'birthday' as '' too
Custom types are also supported they must inherits from ActiveRecordTypeValue
class User ActiveRecordUser
 provide class or instance itself
 storeaccessor settings birthday BirthdayValue money MoneyValue.new
end
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add types to ActiveRecordStore accessors;"Summary
ActiveRecordStore is awesome but it doesn't have any support for casting types. The documentation recommends overriding the setters for casting values to their appropriate types.
Now that we have the attributes api in Rails we can use that to simplify this and add type support to ARStore.
As an example we can go from this
class Song ActiveRecordBase
 Uses a stored integer to hold the volume adjustment of the song
 store settings accessors volumeadjustment

 def volumeadjustmentdecibels
 superdecibels.toi
 end

 def volumeadjustment
 super.toi
 end
end
To this
class Song ActiveRecordBase
 store settings accessors volumeadjustment integer
end
Since this uses ActiveRecordTypes for the lookup you can use any registered type and it will work just like standard attributes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2113;Fix an issue with malformed HTTP headers in tokenandoptions.;"Hello
The following PR solves the issue .
Please feel free to give me some feedback on the PR this is my first attempt to contribute. ?æì
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix parsed token value with header Authorization token .;"Related issue 
With header Authorization Token token we get token value as nil instead of token.
The current implementation with params.shift.last or param.last assume params or param is a twoelements array. But with malformed request they are not so instead of last we should use 
cc simonbnrd robin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2114;Mapping Fix delete mapping race condition.;"If multiple clients attempted to delete a mapping or a single client attempted to delete a mapping as an index is being
created a NPE could be observed in the MetaDataMappingService. This fix makes sure we don't try to access a null indexMetaData object.
Also add a test to spawn multiple create and delete threads to provoke this race condition.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Mapping check during phase should be done in cluster state update task;"Before phase of the recovery process we check verify that the local mapping is in sync with the cluster state mapping and send wait on a master update mapping task if not. This check should be done under a cluster state update task to make sure an incoming cluster state update to do not change things while we check.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2115;maven use elasticsearchparent project;"We created another parent project elasticsearchparent which contains all dependencies that might be used in elasticsearch java projects including elasticsearch core itself.
This commit is the first step to this goal and could require some cleanup though mvn clean install is working fine.
Also goal is to have in elasticsearchparent one branch per major elasticsearch maintained version master .x so this commit will be applied as well in .x branch but with a parent dependency on ..SNAPSHOT.
The build release script must be also tested and modified if needed.
It might be interested to join the efforts done in plugins repos and in core repo to have at the end of the day one single release script available in elasticsearchcommon project and that might be used as well by thirdparty plugins developers.
Note that releasing an elasticsearch version will require first to release the elasticsearchparent related version then update elasticsearch pom.xml to depend on the final version remove SNAPSHOT that is.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove build duplication;"We've refactored the following logic into elasticsearchparent and its now being used by all plugins

third party dependency versions
test configuration
compiler configuration with minimum java version in one place
build numbering jar manifest metadata
forbiddenapis checks definitions
license header checks definitions
dev profile for skipping checks
ide configuration tasks and other minutae

There is more to do like factoring out coverage analysis PMDfindbugs and other static analysis but this is a step I think we should make for overall consistency of builds.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2116;Qualify termQuery method under the Boolean Query section;"As static keyword was not used when importing QueryBuilders the termQuery method needs properly qualified when being passed to the mustmustNot methods in the Boolean Query section of the documentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update client.asciidoc;"Correction of java code example in node client part.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2117;Add support for pathstyleaccess;"From elasticelasticsearchcloudaws
Add a new option pathstyleaccess for S buckets. It adds support for path style access for virtual hosting of buckets.
Defaults to false.
Closes elasticelasticsearchcloudaws.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add option to set path style access for AWS S client. Usefull for so?Çª;"Add option to set path style access for AWS S client. Needed for some ceph installationme ceph installation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2118;id route value is required;"id route value is required
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Mark id as required for deletetemplate;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2119;new ScriptProcessor for Ingest;"Enable running arbitrary scripts from within an ingest pipeline.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ingest Add script processor;"This adds another processor that supports scripting for fields.
Right now it works by using the return value of a script to update
a specific field as this blends better into the ingest processor infrastructure
than updating a full document.
Another possibility would be to have the same as the Update API where you
can set arbitrary fields in the map and then store this map as the new source.
Current example call
curl X PUT localhostingestpipelinescriptpipeline d '

 description script pipeline
 processors 
 
 script 
 field bytestotal
 lang painless
 inline return input.ctx.source.doc.bytesin input.ctx.source.doc.bytesout
 
 
 

'

curl X POST localhostingestpipelinescriptpipelinesimulate d '

 docs 
 source bytesin bytesout 
 

'

TO DISCUSS Alternatively behave like the Update API and allow to configure anything. However this is much
harder to implement as the IngestDocument only allows for single field updates and a complete replacement
of the ingest document would be more tricky and resource intensive.
curl X PUT localhostingestpipelinescriptpipeline d '

 description script pipeline
 processors 
 
 script 
 lang painless
 inline input.ctx.source.bytestotal input.ctx.source.doc.bytesin input.ctx.source.doc.bytesout
 
 
 

'

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2120;Only use dateline fix when polygon crosses dateline.;"es.x attempts to split polygons on the dateline along
with holes and then reassign the holes to the new
polygons. In certain circumstances this assignment
fails 
The geojson format makes it clear which hole belongs to which
polygon and these issues can be avoided for polygons which
do not span the dateline.
there are additional issues with splitting polygons on the
dateline. Some shapes are lost in certain circumstances bug
yet to be filed.
Sample shape httpsgist.github.comanonymousfbbdecdfc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes parse error with complex shapes;"The bug reproduces when the point under test for the placement of the hole of the polygon has an x coordinate which only intersects with the ends of edges in the main polygon. The previous code threw out these cases as not relevant but an intersect at . of the distance from the start to the end of an edge is just as valid as an intersect at any other point along the edge. The fix corrects this and adds a test.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2121;Add permission to access groovy.lang.Reference from Groovy scripts;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Class permission for Groovy references;"This commit adds a class permission for groovy.lang.Reference so they
can be used in scripts.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2122;Startup Disable globbing in shell script;"In order to not accidentally expand wilcard arguments
like http.cors.alloworigin '' on startup globbing
needs to be disabled before Elasticsearch is started.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use spaces liberally in integration tests and fix space handling;"By using pathnames with spaces in tests we can kickout all the bugs.
I applied the fix for but we needed more fixes actually.
TODO windows
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2123;Grouping prototype implementation;"Hi
I am trying to implement grouping feature and want to contribute to es. This is a proofofconcept prototype to start conversation it is not meant to be pulled.
What do i mean by grouping
Lets say i have Documents
 id name Doc field A 
 id name Doc field A 
 id name Doc field B 
 id name Doc field B 
I want to execute search that is something like this
 query matchall group field 
With result
 field 
A hits id source id name Doc field A 
 id source id name Doc field A 

B hits id source id name Doc field B 
 id source id name Doc field B 


Implementation.
First i looked at lucenegrouping module but later decided to make a simple slower onepass solution based on Facets. Basically in aggregator i collect docs in maps and later sort them and merge into one map.
The code is a workinprogress for now because i was unable to fit nicely it into current hierarchy SearchPhaseController operates only with flat ScoreDocs array or i have to reimplement whole Search stack from sratch.
Any thought
Thank
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tophits aggregation;"The tophits aggregator keeps track of the most relevant document being aggregated. This aggregator should be used as a sub aggregator of a bucket based aggregator so that the top documents per bucket are computed.
Via this aggregator grouping field collapsing can be achieved and is very versatile. Someone can group by a field using a terms aggregator as parent or by time using a histogram aggregator as parent in any case the parent bucket aggregator determines how to group. How correct the top hits will depend on the parent aggregator. For example when using the terms aggregator and the tophits aggregator some document may not end up in the response because the shardsize on the terms aggregator is less then the field's cardinality.
The tophits aggregator should have the following options

size The amount of hits to collect.
sort Defines how the top hits should be sorted.
and any other fetch phase options. Like source filtering and highlighting.

The prototype that is attached right now to this PR integrates nicely with the fetch phase which allows all fetch like features to be implemented easily. Also it executes as if the searchtype is set to queryandfetch this way aggregations don't need to execute extra round trips.
Example usage of the current prototype
GET stackquestionsearchsearchtypecount

 aggs 
 terms 
 terms 
 field tags
 size 
 
 aggs 
 toptaghits 
 tophits 
 source 
 include 
 title
 
 
 sort 
 
 lastactivitydate 
 order desc
 
 
 
 size 
 
 
 
 
 

In this example the hits are sorted by the field lastactivitydate and only the top hits are returned. Also per hit only the title field is included.
Response

 took 
 timedout false
 shards 
 total 
 successful 
 failed 
 
 hits 
 total 
 maxscore 
 hits 
 
 aggregations 
 terms 
 buckets 
 
 key windows
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Windows port opening
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Counter Strike Screen Resolution
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Hardware error while burning DVD
 
 
 
 
 
 
 
 key linux
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Ubuntu RFID Screensaver lockunlock
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Linux Mint doesn't boot after creating a swap partition
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Is desktop pc support ssd and sata hard disk in one machine
 
 
 
 
 
 
 
 key windows
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title If I change my computers date time what could be affected
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Remove the Browser ballot app from Windows 
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title How do I determine if my Windows is bit or bit using a command
 
 
 
 
 
 
 
 key osx
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title How to Install Google Chrome from the command line
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title All Mac OS X apps crash as opened
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Create a shortcut for application on Google Chrome for MacOSX
 
 
 
 
 
 
 
 key ubuntu
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Add more partitions to Grub Ubuntu
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Ubuntu . Keyboard and Mouse Freezing Problem
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Curly braces with LCtrlLShiftLAlt?¿ how
 
 
 
 
 
 
 
 key windowsxp
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Windows port opening
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Windows HyperV fails to boot Windows XP ISO
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Logitech Optical Mouse Frozen In Middle of Windows XP Pro Screen
 
 
 
 
 
 
 
 key networking
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Windows port opening
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title are there any requirements for the sequence number on CP RST packets
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Vmware Dev Server not allowing HTTP traffic
 
 
 
 
 
 
 
 key mac
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title All Mac OS X apps crash as opened
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title How can I load VLC instead of iTunes on my Mac when I press the player buttons on my Mac keyboard
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title startup mac mini using boot usb with MASTER BOOT RECORD scheme but failed
 
 
 
 
 
 
 
 key wirelessnetworking
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Connect to WiFi access point with specific MAC address
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title How to adjust Tx Power for Macbook Air mid WiFi card
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Use wifi and ethernet simultaneously
 
 
 
 
 
 
 
 key windows
 doccount 
 toptaghits 
 hits 
 total 
 maxscore 
 hits 
 
 index stack
 type question
 id 
 score 
 source 
 title Windows HyperV fails to boot Windows XP ISO
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Android USB Driver on Windows 
 
 
 
 index stack
 type question
 id 
 score 
 source 
 title Can I have PDF documents open in Windows 
 
 
 
 
 
 
 
 
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2124;add support for resetting dynamic cluster settings;"This PR implements support for resetting transient persistent cluster settings to either the configuration file value defined at node startup or if it does not existed the default value.
Resetting settings is done using the normal cluster update settings API by just assigning a JSON null to the setting one want to reset. See updatesettings.asciidoc for details.
There are maybe othersmarter ways to do that but I think this is just straightforward and it works 
This is related to but does only apply to cluster settings not custom analyzer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add infrastructure to transactionally apply and reset dynamic settings;"This commit adds the infrastructure to make settings that are updateable
resetable and changes the application of updates to be transactional. This means
setting updates are either applied or not. If the application failes all values are rejected.
This initial commit converts all dynamic cluster settings to make use of the new infrastructure.
All cluster level dynamic settings are not resettable to their defaults or to the node level settings.
The infrastructure also allows to list default values and descriptions which is not fully implemented yet.
Values can be reset using a list of key or simple regular expressions. This has only been implemented on the java
layer yet. For instance to reset all recovery settings to their defaults a user can just specify indices.recovery..
This commit also adds strict settings validation if a setting is unknown or if a setting can not be applied the entire
settings update request will fail.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2125;Create PIDDIR in init.d script;"Since the varrunelasticsearch directory is cleaned when the operating system starts the init.d script must ensure that the PIDDIR is correctly created.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Create PIDDIR if not exists;"When you istall elasticsearch with the deb package aptget install elasticsearch you have an error when starting elasticsearch 
sudo service elasticsearch start
.... Starting Elasticsearch Servertouch cannot touch varrunelasticsearch elasticsearch.pid' No such file or directory
failed
If the PIDDIR doesn't exist elasticsearch can't start.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2126;fix typo in docsreferencemodulescluster.asciidoc;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix typo;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2127;Fix typo in JVM checker user help.;"When checking the JVM currently running ES we provide the user with
help on which environment variable to use to disable the check in
case the check fails. The variable we point to however is the wrong
one.
As discussed by mail previously.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Change environment variable for terrible JVM workaround;"If the JVM check fails the if you absolutely cannot upgrade message mentions adding a workaround flag to the JVMOPTS environment variable. Shouldn't this be the JAVAOPTS environment variable instead I had to modify JAVAOPTS to get the workaround to work at least when launching through elasticsearch.bat on Windows.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2128;Version bump AWS SDK ..;"bump version
fixed issue with double md signature generation

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update aws sdk to ..;"WIP DO NOT MERGE IT tests are failing see description
AWS Release Notes
From .. see here are the most important updates
Minor . releases

Amazon S Added support for a new configuration named BucketAccelerateConfiguration which supports faster uploadsdownloads to S buckets.
Adding several missing throttling error codes for API Gateway and S.
Amazon S Introducing a new version of the ListObjects ListObjectsV API that allows listing objects with a large number of delete markers.

.
AWS SDK for Java

Improved URL encoding for REST clients.
Dropped usage of Json.org library in favor of Jackson.
Updated retry policies to include jitter during backoffs.
Generate output POJOs for all operations.
Renamed the awsjavasdkflowbuildtoolssdkversion.jar to awsswfbuildtools..jar. The jar is also available in Maven.

AWS SDK for Java Amazon S

Added support to return the part count of an object in object metadata. You can also download a part by setting part number in GetObjectRequest.
TransferManager supports parallel downloads for multipart objects.
Default to Signature Version signing process in all regions.

Apache HttpClient upgraded to ..
Jackson update
Note that Jackson has been updated at some point but as we don't use dependency management anymore it has never been updated and we did not notice.
So I updated

jacksondatabind to ...
jacksonannotations to ...

That being said I'm unsure if we should better use versions.jackson instead.
Functional changes
For repositorys plugin this new version of the AWS SDK now sets Throttle Retries overridable by usethrottleretries to true by default instead of false previously.
Security manager issues
Tests are failing on repositorys plugin with
 WARN repositories AUqzQAb failed to create repository stestrepos
java.security.AccessControlException access denied java.lang.RuntimePermission accessDeclaredMembers
 at java.security.AccessControlContext.checkPermissionAccessControlContext.java
 at java.security.AccessController.checkPermissionAccessController.java
 at java.lang.SecurityManager.checkPermissionSecurityManager.java
 at java.lang.Class.checkMemberAccessClass.java
 at java.lang.Class.getDeclaredConstructorsClass.java
 at com.fasterxml.jackson.databind.introspect.AnnotatedClass.resolveCreatorsAnnotatedClass.java
 at com.fasterxml.jackson.databind.introspect.AnnotatedClass.getStaticMethodsAnnotatedClass.java
 at com.fasterxml.jackson.databind.introspect.BasicBeanDescription.getFactoryMethodsBasicBeanDescription.java
 at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.addDeserializerFactoryMethodsBasicDeserializerFactory.java
 at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.constructDefaultValueInstantiatorBasicDeserializerFactory.java
 at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiatorBasicDeserializerFactory.java
 at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.createCollectionDeserializerBasicDeserializerFactory.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createAndCacheDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createAndCacheValueDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializerDeserializationContext.java
 at com.fasterxml.jackson.databind.deser.std.StdDeserializer.findDeserializerStdDeserializer.java
 at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolveBeanDeserializerBase.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createAndCacheDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.createAndCacheValueDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializerDeserializerCache.java
 at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializerDeserializationContext.java
 at com.fasterxml.jackson.databind.ObjectMapper.findRootDeserializerObjectMapper.java
 at com.fasterxml.jackson.databind.ObjectMapper.readMapAndCloseObjectMapper.java
 at com.fasterxml.jackson.databind.ObjectMapper.readValueObjectMapper.java
 at com.amazonaws.partitions.PartitionsLoader.loadPartitionFromStreamPartitionsLoader.java
 at com.amazonaws.partitions.PartitionsLoader.buildPartitionsLoader.java
 at com.amazonaws.regions.RegionMetadataFactory.createRegionMetadataFactory.java
 at com.amazonaws.regions.RegionUtils.initializeRegionUtils.java
 at com.amazonaws.regions.RegionUtils.getRegionMetadataRegionUtils.java
 at com.amazonaws.regions.RegionUtils.getRegionRegionUtils.java
 at com.amazonaws.services.s.AmazonSClient.createSignerAmazonSClient.java
 at com.amazonaws.services.s.AmazonSClient.invokeAmazonSClient.java
 at com.amazonaws.services.s.AmazonSClient.headBucketAmazonSClient.java
 at com.amazonaws.services.s.AmazonSClient.doesBucketExistAmazonSClient.java
 at org.elasticsearch.cloud.aws.blobstore.SBlobStore.initSBlobStore.java
 at org.elasticsearch.repositories.s.SRepository.initSRepository.java
 at org.elasticsearch.plugin.repository.s.SRepositoryPlugin.lambdagetRepositoriesSRepositoryPlugin.java
 at org.elasticsearch.repositories.RepositoriesService.createRepositoryRepositoriesService.java
 at org.elasticsearch.repositories.RepositoriesService.registerRepositoryRepositoriesService.java
 at org.elasticsearch.repositories.RepositoriesService.accessRepositoriesService.java
 at org.elasticsearch.repositories.RepositoriesService.executeRepositoriesService.java
 at org.elasticsearch.cluster.ClusterStateUpdateTask.executeClusterStateUpdateTask.java
 at org.elasticsearch.cluster.service.ClusterService.runTasksForExecutorClusterService.java
 at org.elasticsearch.cluster.service.ClusterServiceUpdateTask.runClusterService.java
 at org.elasticsearch.common.util.concurrent.ThreadContextContextPreservingRunnable.runThreadContext.java
 at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutorTieBreakingPrioritizedRunnable.runAndCleanPrioritizedEsThreadPoolExecutor.java
 at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutorTieBreakingPrioritizedRunnable.runPrioritizedEsThreadPoolExecutor.java
 at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
 at java.util.concurrent.ThreadPoolExecutorWorker.runThreadPoolExecutor.java
 at java.lang.Thread.runThread.java

Related to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2129;Raise proper failure if not fully reading translog entry;"When reading a translog entry raise a proper error when not reading it fully.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Better support for partial buffer readswrites in translog infrastructure;"Some IO api can return after writing reading only a part of the requested data. On these rare occasions we should call the methods again to readwrite the rest of the data. This has cause rare translog corruption while writing huge documents on Windows.
Closes 
PS. I'll add java docs to the new Channels util class but wanted to start the review process.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2130;Bootstrap.java fix PID file creation;"This change fixes various failure modes on PID file creation which have been
introduced by using nio

check if PID file has a directory part
Allow PID directory creation fail w FileAlreadyExistsException
thrown if directory exists and is a soft link
create PID file if it doesn't exist truncate it if it does

fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Factor out PID file creation and add tests;"This commit factors out the PID file creation from bootstrap and adds
tests for error conditions etc. We also can't rely on DELETEONCLOSE
since it might not even write the file depending on the OS and JVM implementation.
This impl uses a shutdown hook to besteffort remove the pid file if it was written.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2131;background startup use PID file to signal success;"This change introduces the use of elasticsearch's PID file to signal a
successful startup. The start script binelasticsearch will wait a
configurable amount of time default s for the PID file to appear. After
this timed out the script will print an error and return an error code.
Note that if no PID file was specified on the command line the script will now
use mktemp to create a private PID file only if ES is to be started in the
background though. The command line help was updated correspondingly.
Also the PID file generation code has been moved from the beginning of the
bootstrap main method to the end.
Fixes .
NOTE
Please review my changes to srcmainjavaorgelasticsearchbootstrapBootstrap.java very closely I'm not too familiar with ES code and am not sure if I broke something.
NOTE 
This change introduces a theoretical new error condition If elasticsearch requires longer than the timeout to bootstrap a false positive startup error will be reported by the script even though elasticsearch will be up and running eventually. This can be worked around by setting an appropriately long timeout via the new w command line option.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make binelasticsearch wait for pidfile;"If binelasticsearch is run with the option to daemonize and the option to
write a pidfile then it will wait for seconds for Elasticsearch to write
the pidfile. If it fails to write the pidfile before the timeout then it
will warn the user to check the logs and further warn them that if nothing
shows up in the logs that they should attempt to run Elasticsearch in the
foreground.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2132;Remove unused code from TransportShardReplicationOperationAction;"This code can only be executed if primary and replica were on the same node
in which case an exception or something of the likes would be more appropriate.
I still find it a little tricky to figure out how replica requests end up in the indexing threadpool and will try to make a pr for that as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup local code transport execution;"Now that we handle automatically the local execution within the transport service we can remove parts of the code that handle it in actions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2133;Added an optimizebbox option for geopolygon queries.;"This setting is analogous to the one for geodistance queries and defaults to memory. Note
that the optimization will need to be updated when addressing .
Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for Lucene . GeoPoint queries;"This PR adds query support for Lucene . GeoPointField type along with backward compatibility for legacy geopoint indexes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2134;Use https to talk to blob.core.windows.com;"... because security and stuff
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enable SSL for Azure blob storage;"In order to increase Security.
The Microsoft Azure storage services support both HTTP and HTTPS however using HTTPS is highly recommended.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2135;Added missing module registration in TransportClient for Significant Terms;"Required for serialising significantterms agg responses
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Aggregations Significant Terms Heuristics now registered correctly;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2136;Update checkstyle and fix violations;"This PR updates the version of Checkstyle from current . to . and fix a bunch of new violations.
A more recent version would allow us to use some new checkstyle modules like Javadocs.
RedundantModifier is improved and now detects more violations that are fixed by this PR. The changes fall into three categories thanks nik for the nice summary

public methods on nonpublic classes don't make sense. Remove the modifier and let the method inherit the modifier.
trywithresources variables should not be declared final because they are implicitly final. final adds no extra information for the reader. I guess that makes them names rather than variables....
enums are alway static so there is no need to declare them static.
final doesn't do anything on anonymous classes because they can't be extended anyway. So we just remove the modifier.
Classes declared inside of interfaces are always static so we shouldn't also declare them as static.

For the record most of the changes were automated using this small Bash script
binbash
inputtmpviolations.txt

 File is composed of lines like
 tmpelasticsearchsrctestjavaorgelasticsearchactionAction.javapublic
 
while IFS'' read ra ADDR do
 if ADDR then
 echo ADDR | xargs sed i ADDRsADDR 
 else 
 echo Skipping file ADDR line ADDR word ADDR
 fi
done input

Checkstyle was not updated to the latest version .. because it reports violations for final parameters in interface methods checkstylecheckstyle and we have a lot of these for good reason.
I'm really sorry for the boringness of this kind of pull request.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Upgrade checkstyle to version .;"This commit upgrades the checkstyle configuration from version . to
version . the latest version as of today. The main enhancement
obtained via this upgrade is better detection of redundant modifiers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2137;Add javadocs jars;"This change adds javadoc jars to core testframework and plugins. There
were a couple issues which javadoc found but doclint did not already
find.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Build and attach Javadoc artifact on release;"This PR creates and attaches the Javadoc artifact for Elasticsearch core during a release and will upload that artifact to the Maven repository along with the original binary artifact and the source artifact.
This change would enable users and developers use a service like httpwww.javadoc.io to read the Elasticsearch Javadoc instead of having to build it themselves or read the complete source code.
If this PR is being merged or at least a candidate for merging I would port it to the Gradle build in the master branch as well.
Refs 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2138;Remove working directory;"This commit removes the unused working directory and its associated environment variable WORKDIR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove workdir thats unused;"We don't need to keep around code for something we are not using.
If we ever need it we can just revert this commit instead of maintaining dead code.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2139;upgrading to . docs;"Thought it might be helpful to mention the full cluster restart in a more prominent location.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve upgrade docs;"Added upgrade.asciidoc and supporting links to README.textfile and setup.asciidoc.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2140;Cleaner query parse error feedback;"Provides the line and column number in user input where errors were spotted and a succinct parse error message free of serverside stack trace info.
Many parser classes are changed but the core framework changes are

XContentParser can now return a new XContentLocation object describing position of last token parsed
Existing SearchParseException and QueryParsingException classes have all constructors changed to take an XContentLocation object to encourage supply of detailed parse feedback
Common UserInputException interface introduced for exceptions relating to user input the above.
SearchPhaseExecutionException that gathers results from many shards holds onto only the first of several typically duplicate UserInputExceptions from shards
BytesRestResponse outputs extra JSON fields for parse failures including line column and succinct error message.

Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't write bad search requests into exception messages;"See issue .
If a search requests's source doesn't parse log the
source instead of putting it into an exception
message and propagating it. This prevents large
strings from being built up.
Ideally the source could be streamed to a log file
so that it never has to be rendered inmemory in
its entirety but this is a good start.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2141;Search Template conditional clauses not rendering correctly;"implemented the conditional parsing capabilities
attached few junit test cases to test it

Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Execute Scripting Engine before searching for inner templates in template query;"The search template and template query did not run the template through the script engine before searching for an inner template. This meant that parsing for the inner template failed because the template was not always valid JSON if it contained mustache code when it was parsed to find the inner template. This has been fixed and Tests added to check for the failing behaviour
Tests are from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2142;DOC Fix the other default values for filter cache size and field data ...;"...circuit
Relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DOCS Update fielddata.asciidoc;"Spelling correction and corrected breaker limit default value.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2143;Remove and forbid use of CollectionsshuffleList and Randominit;"This commit removes and now forbids all uses of
CollectionsshuffleList and Random across the codebase. The
rationale for removing and forbidding these methods is to increase test
reproducibility. As these methods use nonreproducible seeds production
code and tests that rely on these methods contribute to
nonreproducbility of tests.
Instead of CollectionsshuffleList the method
CollectionsshuffleList Random can be used. All that is required then
is a reproducible source of randomness. Consequently the utility class
Randomness has been added to assist in creating reproducible sources of
randomness.
Instead of Random Randomlong with a reproducible seed
or the aforementioned Randomess class can be used.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Forbid Collections.shuffleList in favor of Collections.shuffleListRandom;"One can easily be fooled.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2144;add section header to systemd unit extension;"Have you signed the contributor license agreement
Have you followed the contributor guidelines
If submitting code have you built your formula locally prior to submission with gradle check
If submitting code is your pull request against master Unless there is a good reason otherwise we prefer pull requests against master and will backport as needed.
If submitting code have you checked that your submission is for an OS that we support

Without Service in the etcsystemdsystemelasticsearch.service.delasticsearch.conf file the following error is shown and the setting is not used
Nov esebbjg systemd etcsystemdsystemelasticsearch.service.delasticsearch.conf Assignment outside of section. Ignoring.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";adding Service header for systemd override file;"Have you signed the contributor license agreement
Have you followed the contributor guidelines
If submitting code have you built your formula locally prior to submission with gradle check
If submitting code is your pull request against master Unless there is a good reason otherwise we prefer pull requests against master and will backport as needed.
If submitting code have you checked that your submission is for an OS that we support

It will not work under ubuntu . without the Service header in the systemd override conf.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2145;Nonmaster node cannot commit changes to the cluster state;"There was only one remaining place where a nonmaster node would
alter the cluster state on its own local node to update the
NOMASTER cluster block. In order to ensure that the authoritative
cluster state on each node is only updated by the master node this
commit removes updating the NOMASTER block in the cluster state via
a cluster state update task. Instead the ClusterService now uses
the newly created ClusterServiceState see to maintain the
current cluster state and the local view of the cluster including
whether there is currently a master from the point of view of the
ClusterService. In order to minimize the impact of this change
whenever the ClusterServicestate method is invoked to retrieve
the current state if the no master flag is set the returned
cluster state will contain a NOMASTER block overlayed on the
authoritative state without altering the authoritative cluster state.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Separate cluster update tasks that are published from those that are not;"This PR factors out the cluster state update tasks that are published to the nodes from those that are not serving as a basis for future refactorings to separate the publishing mechanism out of cluster service.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2146;fix mismatched curly bracket;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";filter ...;"The ending braces.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2147;implement externalrelaxed versioning type Doesn't throw VersionConfl...;"...ictExceptions
I wanted to change elasticsearch so it didn't throw a VersionConflictException if it received a createindexdelete request for a version less than the current index version. It returns the normal 'ok' response but the version number returned is the latest index version.
The reasoning behind this is I am writing a very thin wrapper to elasticsearch and any request into the wrapper after elasticsearch is put onto a messagequeue if putting on that queue fails I return a specific 'temporary' error and the client is supposed to resend the request. When they resend the request I didn't want it to fail at elasticsearch hence this version type of externalrelaxed....
feedback appreciated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Introducing VersionType.FORCE VersionType.EXTERNALGTE;"Also added externalgt as an alias name for VersionType.EXTERNAL accessible for the rest layer.
Closes Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2148;Startup Prevent potential loop in binelasticsearch;"If binelasticsearch is started with a single long argument it could
potentially be caught up in a loop on bash dash handles this correctly.
This commit adds an additional check that prints out an error message
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";binelasticsearch add help fix endless loop;"This change adds command line help for all options to the es start script.
Both h and help options are accepted.
Also an endless busy loop in the long options parser was fixed running the script with a long opt parameter wo value e.g. elasticsearch buuuurrrnn the long option parser would end up in an endless busy loop.
Fixes 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2149;build enforce maven version for rpm module;"When RPM module is supposed to be built we need to have at least maven .. to build the package.
Otherwise the finalName we get is elasticsearch..betaSNAPSHOT.noarch.rpm instead of elasticsearch..betaSNAPSHOT.rpm.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enforce supported Maven versions;"Our builds are currently not compatible with Maven versions .. and
 ... This commit will enforce Maven versions that our builds are
known to be compatible with. We will consider these our supported Maven
versions.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2150;Include closed indices as well for filter;"Fix for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Expand wildcards to closed indices in catindices;"Closed indices are already displayed when no indices are explicitly selected. This commit ensures that closed indices are also shown when wildcard filtering is used fixes . It also addresses another issue that is caused by the fact that the cat action is based internally on different cluster states one when we query the cluster state to get all indices one when we query cluster health and one when we query indices stats. We currently fail the cat request when the user specifies a concrete index as parameter that does not exist. The implementation works as intended in that regard. It checks this not only for the first cluster state request but also the subsequent indices stats one. This means that if the index is deleted before the cat action has queried the indices stats it rightfully fails. In case the user provides wildcards or no parameter at all however we fail the indices stats as we pass the resolved concrete indices to the indices stats request and fail to distinguish whether these indices have been resolved by wildcards or explicitly requested by the user. This means that if an index has been deleted before the indices stats request gets to execute we fail the overall cat request see . The fix is to let the indices stats request do the resolving again and not pass the concrete indices.
Closes 
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2151;Update pathhierarchytokenizer.asciidoc;"The docs seem to contain a bug regarding the type of the path hierarchy tokenizer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add PathHierarchy type back to pathhierarchy tokenizer for backward compatibility with .x;"Relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2152;Make highlight query also work in the percolate api;"Percolate is throwing unsupported operation exception when highlight query is being used. This PR fixes that.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix highlightquery in percolator;"When highlighting with the percolator a highlightquery caused UnsupportedOperationException
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2153;Only check existence for absolute paths in env.resolveConfig;"When resolving a path using env.resolveConfigString it first checks for the path existence in the current working directory. This can fails when the security manager is enabled and elasticsearch not started from the ESHOME directory like with init.dsystemd scripts or also with .pathtoelasticsearchbinelasticsearch Files.exist resolves against the working directory and fails with a SecurityException.
I'm not sure we always need to set user.dir so I add a check for absolute path. This couldn't hurt much since the following f.toUri.toURL expects an absolute path.
What do you think
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Die cwd die;"See for reference.
Currently some code looks in CWD and places like user.home for configuration files in a confusing way in some cases even overriding other paths so if you have a stray elasticsearch.yml there good luck.
Tests hide the problem because they add too many permissions. We fixed that here and then all tests were failing and made hacky changes to get tests passing again.
So some of the changes here can be cleaned up solved differently. For example we could look for the custom hunspell data directory in Environment grant access to it and deprecate it instead of throwing an error. But with what is here all tests pass so I think we know enough to discuss so we can move forward.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2154;Expose queryfetch timing to IndexEventListener;"Elasticsearch collects a limited number of stats that can be collected in a very
performant manner. Other stats such as latency percentiles are perhaps out of
scope of the main elasticsearch project. This allows plugins to add their own
stat collection routines to the existing shard stats collection.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Factor out slow logs into Search and IndexingOperationListeners;"This commit introduces SearchOperationListeneres which allow to hook
into search operation lifecycle and execute operations like slowlogs
and statistic collection in a transparent way. SearchOperationListenrs
can be registered on the IndexModule just like IndexingOperationListeners.
The main consumers slow log have already been moved out of IndexService
into IndexModule which reduces the dependency on IndexService as well as
IndexShard and makes slowlogging transparent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2155;Setting 'other' bucket on empty aggregation;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Other bucket now shows if enabled on empty buckets;"Previous to this commit empty buckets with a doc count of zero would not show the 'other' bucket in the filters aggregation. Now the buildEmptyBucket method in FiltersAggregator checks to see if the other bucket is enabled when building an empty aggregation and adds it if it is enabled.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2156;Scripting move ScriptType outside of ScriptService to its own class file;"Opening this up for discussion. I find it very weird that java api users have to import some ScriptService inner class when using scripts. ScriptType should belong to its own class at the same level of ScriptContext org.elasticsearch.script package.
The only problem with this change is that it breaks the Java api and plugins as ScriptType needs to passed in as argument when using scripts. That is why the change is targeted for ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added a new script construct;"Added an initial script construct to unify the parameters typically passed to
methods in the ScriptService. This changes the way several public
methods are called in the ScriptService along with all the callers since
they must wrap the parameters passed in into a script object. In the future
parsing parameters can also be moved into this construct along with ToXContent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2157;IT for plugins should use plugin name and not artifactId;"In mapper attachments plugin we needed to change the default value for elasticsearch.plugin.name. It was by default artifactId elasticsearchmapperattachments but it should have been mapperattachments.
So we changed in pom.xml
elasticsearch.plugin.namemapperattachmentselasticsearch.plugin.name

The problem is that integration tests expect to install a plugin which name is the project.artifactId and not the elasticsearch.plugin.name.
This commit fixes that.
Note that I have no idea on how to fix that in master branch. So I propose for now to push this in .x . and . branches.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix automatic installation of plugin for integ tests;"The esplugin gradle plugin automatically adds the pluging being built to the integTest cluster. However there were two issues with this. First was a bug in the name which should have been the configured
esplugin.name instead of the project name. Second the files configuration was overcomplicated trying to use the groovy spreader operator after delaying calls to singleFile. Instead we can just pass the file collections which will just be a single file at execution time.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2158;Double negation removing;"It seems like the sentence would be more understandable without the double negation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove Triple Negative;"Double negatives are confusing but a triple negative

no non null

It takes five minutes to understand this little sentence. Cleaned that up a bit.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2159;Indexed script fixes;"On Disk Scripts Make on disk scripts reload timing dynamically configurable.
This change adds a new resource watcher level of CUSTOM and allows the addition of custom levels of timing.
This is used by the ScriptService to register the FileWatcher.
Search Templates Add render endpoint for rendering templates
This commit adds a render endpoint to allow rendering of templates.
POST rendertemplate
'
 template
 
 query
 
 foo 
 
 size mysize
 
 params foo matchall mysize 
'

Will render

 template 
 
 query 
 matchall 
 
 size 
 


Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Search Templates Adds API endpoint to render search templates as a response;"Adds a 'rendertemplate' endpoint which will render a search template in the response with a provided params object.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2160;Better extension point for custom cluster state parts;"This adds a better extension point for custom cluster state parts by only allowing adding custom cluster state parts via the ClusterPlugin interface.
This is a WIP and would be great to get feedback.

By piggybacking on the named writeable infrastructure we can serialize custom cluster state parts for the internal protocol. This seems to workout nice as the serialization code doesn't need to know about custom cluster metadata implementations.
For the xcontent serialization there is no such thing as named writaebles so I passed down a registry holding prototypes for the custom cluster state parts on all the places we need to do deserialization. We can maybe consider adding something like named writable on top of XContentParser However passing down the registry doesn't seem to be too bad.
Should custom index metadata be removed It isn't used in any place. I think it should but in a follow up change.
This change needs tests.

PR for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove PROTObased custom cluster state components;"Switches custom cluster state components from PROTObased deserialization to named objects based deserialization
Closes 
This PR removes PROTObased serialization from all custom objects except custom IndexMetaData. Custom IndexMetaData is not currently used in any know code and will be removed in v.. I will open a separate PR deprecating it and disabling creation of Custom IndexMetaData for new indices in v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2161;Add '' one character matching in index name wildcard patterns;"Expands wildcard comparison patterns with that represents exactly one character. Uses Pattern and Matcher classes instead of previous custom implementation. Closes 
Does this feature make sense I used Pattern and Matcher classes for this with whitelisted . and . sequences. I also have a custom matching implementation but currently it doesn't work for some rare cases.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add date math support in index names;"Date math index name resolution enables you to search a range of timeseries indices rather than searching all of your timeseries indices and filtering the the results or maintaining aliases. Limiting the number of indices that are searched reduces the load on the cluster and improves execution performance. For example if you are searching for errors in your daily logs you can use a date math name template to restrict the search to the past two days.
The added ExpressionResolver implementation that is responsible for resolving date math expressions in index names. This resolver is evaluated before wildcard expressions are evaluated.
The supported format staticnamedatemathexprdateformat|timezoneid and the date math expressions must be enclosed within angle brackets. The dateformat is optional and defaults to YYYY.MM.dd. The timezoneid id is optional too and defaults to utc.
The character can be escaped by places \\ before it.
The following index names can be specified assuming now is .. noon utc

logstashnowd translates into logstash..
logstashnowM translates into logstash..
logstashnowMYYYY.MM translates into logstash.
logstashnowMMYYYY.MM translates into logstash.
logstashnowdYYYY.MM.dd| translates into logstash..

The following example shows a search request that searches the Logstash indices for the past
three days
curl XGET 'localhostlogstashnowddlogstashnowddlogstashnowdsearch' 
 query 
 ...
 

PR for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2162;make bg pulling wrong bg version for v.v.t;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug test case testkeyboardpredictivekey.py get failed on t...;"...ravisci
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2163;Bug sdaatadata in First Time Experience of Cost Control app;"I think this was an unintentional misspell.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bug fix typo and add a new ln string;"on the header Set internet daata report
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2164;Dont merge;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug turn off unresponsive script dialogs;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2165;Update PDF.JS build for bug Don't use localStorage in pdf.js;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for bug;"Displaying a notification and closing the window

reject worker on all exception throwed
InvalidPDFException added

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2166;Bug RTL Notifications Open button misplaced autoland;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Use rtl stylilng for lockscreen notifications autoland;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2167;Only turn off wifi in cleanup when restarting device;"Only turn cel data and wifi off when the restart option is set. This reduces gaiatest failure and test dev time by avoiding wifi connection issues.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug . gaiauitests Skip cleanUp steps that are not necessary whe...;"...n restart is passed in. rbebedavehunt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2168;Bug Thumbs redraw on applying effect or border;"Fix for .
When you apply an effect or a border to an image in the gallery all thumbs get redrawn. This is very easy to spot on the Unagi or GeeksPhone but takes a large image e.g. grab a MB one from your photo camera to see in the emulator.
After quite some testing I tracked this down to the moment that the filter is applied through WebGL gl.texImageD line. During this moment which runs on the main thread can't offload GL to a worker at the moment the background images of the buttons disappear as well even though there is no actual change on them. This is not only due to buttons or anything but seem to happen on all backgroundimages on the current view. Maybe a gecko flake or anything.
I worked around the above by writing the image information to a canvas object embedded within the button as an tag crashes BG desktop there. This works great the effects are also faster applied on the Unagi and no redraws are triggered. Also I now delay the rendering of these elements until the panel is actually used.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Increase gallery exposure control responsiveness;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2169;Fix homescreen redirect and appcache manifest generation;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use less hardcoded 'gaiamobile.org' and do not let the wifi to stop Gaia from loading;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2170;Bug undo;"note do not merge this until httpsbugzilla.mozilla.orgshowbug.cgiid lands
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Lazy load clock resources;"This also removes gesture detector and mouse event shim as they aren't really needed at this time.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2171;Bug first run tutorial ?¼ü in noti?¼ücations is one character should be two notifications and other nitpicking. rfcampo;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix string notification bug;"Fixing strange character. httpsbugzilla.mozilla.orgshowbug.cgiid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2172;SMS Add carrier info on sms details;"The info shown is based on this criteria

When there's a matching contact for the number

If contact have a name Name is main header type and carrier as secondary carrier unknown if no carrier field.
If contact doesn't have a name Number is shown as a main header type and number as secondary


When there's no matching contact for the number secondary header is hidden

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";SMS contact bug fixing.;"We need to check the returning contact length because it might be an empty array.
There is no need to check contact name is am empty string or notit is already false state if empty string.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2173;Bug Dialer Call Log broken due to mcc being null if no SIM retiennesegonzac.;"If we start the device with no SIM the Call Log does start correctly since mozMobileConnection.voice.network.mcc is null and the toString function is invoked on it httpsgithub.commozillabggaiablobmasterappscommunicationsdialerjsrecents.jsL
The problem is due to mcc being a string and not a number anymore. No need to call .toString on it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug check mozMobileConnection.voice.network.mcc before access in;"no network case. retienne.
Please note that this pull request is targeted at v.. branch since this issue would not occur on mastervtrain.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2174;Use curl on Mac OS X for xulrunner downloads;"wget is not installed by default on Mac OS X. This patch uses curl
instead which is available.
See also 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use curl instead of wget on OSX given that it?ÇÖs not usually available;"I?ÇÖm on OSX.
While following httpswiki.mozilla.orgBGDeveloperPhone my make installgaia build failed because wget was not available ?Çô it?ÇÖs sadly not something installed by default.
This patch updates the makefile to use curl instead which is always going to be available.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2175;ln rename 'localeln.ini' to 'localeslocales.ini' cleanup;"I can?ÇÖt merge the PR any more here?ÇÖs a rebase.
This has been requested to match Mozilla's ln infrastructure. No code involved.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed typo;"Janurary January
Janurar Januar
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2176;Bug Parse vcards using \r\n endoflines.;"See httpsbugzilla.mozilla.orgshowbug.cgiid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug contacts importing from .vcf file sd card puts providedfirstname and lastname in firstname field if both contain only ascii characters causes sort by lastname to fail rarcturus;"This commit does two main things

Solves lack of Quoted Encoding recognition for the fn First Name field in VCF
Excludes \r as a meaningful character when parsing tuples.

It also includes some small style changes and unit tests for the fixed issues.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2177;Bug Timezone and City change not visible in the FTU menu;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Unxfail testftuskiptour.py because Bug was fixed;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2178;Bug SMSBB Apply lists BB rfcampo;"BB applied to list Work done by rnowm and I've added JavaScript part.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Can't select certain messages in message deletion selection...;"... screen rfcampo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2179;Bug Settings button separator not visible on wide screens;"httpsbugzilla.mozilla.orgshowbug.cgiid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug Fix typo in css rcrh;"httpsbugzilla.mozilla.orgshowbug.cgiid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2180;Bug Updated gaiaheader to v..;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bugs Use gaiaheader ..x rjulienwilsonpa...;"...ge
This changes how gaiaheader calculates the font size to squeeze the header text
in the available space. We don't use offsetLeft but instead we calculate the
various buttons widths. In the common case where we only have the action button
we don't even take the current width and assume it's px which eliminates a
possible reflow.
Additionally we now support the start end and nofontfit arguments.
start end allows the component user to gives the leftright button sizes to
the component which effectively eliminates all reflows.
nofontfit when this attribute is present we skip all font resizing algorithm
and thus no reflow. This allows to defer some initialization and reflow for the headers
that are not displayed at startup.
Last but not least now we try to squeeze the font fit for centered titles before
uncentering them.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2181;Implement ability to limit module documentation building;"SUMMARY
The purpose of this pull request is to introduce option for limiting which module documentation gets built. Implementation achieves this via MODULES environment variable that can get passedin to make webdocs.
The reason for this change is to allow both module developers and documentation contributors to more quickly see and test their changes. Building entire documentation for all modules can take quite a while and it deters from fixing small syntax typos and similar errors.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
Documentation build system
ANSIBLE VERSION
ansible .. docmoduleselection bddfd last updated GMT 
 config file 
 configured module search path u'REDACTED' u'usrshareansiblepluginsmodules'
 ansible python module location REDACTED
 executable location REDACTED
 python version .. default Dec GCC ..

ADDITIONAL INFORMATION
In order to test the change you can do the following
cd docsdocsite

 Build documentation for apt module.
MODULESapt make webdocs

 Build documentation for a couple of modules.
MODULESaptsetupyum make webdocs

 Don't build documentation for modules.
MODULESnone make webdocs

 Build documentation for all modules.
MODULESall make webdocs
make webdocs

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds docsbinansiblemakepage bash script to make a single doc page with one command;"SUMMARY

Adds a bash script ansiblemakepage which can be used to make a single page of the ansible documentation with one command.
Used bash as its a popular shell.
Added a q|quiet switch which stops it from sounding the terminal bell when complete.
Script either takes the name of a module e.g. setup or the name of one of the rst files for example introwindows.rst as its input.
Assumptions
You already have sphinx etc so that you can build docs locally.

Doesn't fix anything but hopefully helps developers to check they have made documentation that renders correctly during development of modules and ansible documentation changes.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME

ansiblemakepage new script
ANSIBLE VERSION

ansible .. ansiblemakepage def last updated GMT 
 config file None
 configured module search path u'homejon.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 ansible python module location homejonansibledevlibansible
 executable location homejonansibledevbinansible
 python version .. default Jun GCC ..

ADDITIONAL INFORMATION


before you would have had to run this long and hard to remember set of commands to build a single page

cd docsdocsite
make clean modules staticmin cp themessrtdstaticcsstheme.min.css .buildhtmlstaticcss make htmlsingle rstwinregeditmodule.rst echo G

after
run the following to acheive the same result

docsbinansiblemakepage winregedit



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2182;support starting and stopping ec instances;"This seems to be working locally for me 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ec module Added ability to start and stop existing EC instances.;"This adds the ability to set the state of an existing instance to 'started' or 'stopped' in the ec module.
Example usage to start an instance
 name Start the sandbox instances
 localaction
 module ec
 instanceids ' instanceids '
 region ' region '
 state running
 wait True

Since I had this in my main fork I rebased and reset my fork and created a branch to properly put this change in to. So this is the same changes from my original pull .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2183;Update eclc with missing LaunchConfig params;"Add support for instanceprofilename and associatepublicipaddress.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds feature from Boto missing in eclc module;"This PR adds the feature present in Boto and missing in Ansible eclc

kernelid for custom kernel
ramdiskid for custom ramdisk
instanceprofilename to launch instances within an IAM role
ebsoptimized to launch an EBS optimized instance or not
associatepublicipaddress to associate a public IP address within a VPC
instancemonitoring to enable Cloudwatch on the instance replaces 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2184;Fixing login for VCD service type in VCA module;"Login to vCloud Director Standalone service vcd fails with the error Login to VCA failed because the login routine is missing required org parameter. This requirement is documented in the pyvcoloud library.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix logging into vCloud Director and expose verifycerts argument;"ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION
ansible .. devel ddbef last updated GMT 
 libansiblemodulescore detached HEAD dcbca last updated GMT 
 libansiblemodulesextras detached HEAD fbbaa last updated GMT 
 config file 
 configured module search path Default wo overrides

SUMMARY
vCloud director standalone login requires an organization to login properly.
The login organization was not specified as part of the login sequence.
Also verifycerts is referred to throughout the module but not specified in module arguments. This fix will expose it.
Before
Login error
fatal localhost FAILED changed false failed true invocation modulename vcavapp modulestderr Traceback most recent call last\n File \tmpansiblepbpCqansiblemodulevcavapp.py\ line in module\n main\n File \tmpansiblepbpCqansiblemodulevcavapp.py\ line in main\n supportscheckmodeTrue\n File \tmpansiblepbpCqansiblemodlib.zipansiblemoduleutilsvca.py\ line in init\n File \tmpansiblepbpCqansiblemodlib.zipansiblemoduleutilsvca.py\ line in login\n File \usrlibpython.sitepackagespyvcloudvcloudair.py\ line in login\n result vcloudsession.loginpasswordpassword\n File \usrlibpython.sitepackagespyvcloudvcloudsession.py\ line in login\n self.response Http.postself.url headersheaders authself.username \\ self.org password verifyself.verify loggerself.logger\nTypeError cannot concatenate 'str' and 'NoneType' objects\n modulestdout msg MODULE FAILURE parsed false

verifycerts error
fatal localhost FAILED changed false failed true invocation moduleargs apiversion . catalogname PublicTemplates host httpsvcd.pdsea.fnet.com org Dev password servicetype vcd state present templatename ATTMASTERITEMain username akalinin vappname akalinin vdcname Dev verifycerts false modulename vcavapp msg unsupported parameter for module verifycerts

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2185;IAM role support for EC dynamic inventory;"ISSUE TYPE

Feature Pull Request

ANSIBLE VERSION
ansible ..
 config file etcansibleansible.cfg
 configured module search path Default wo overrides

Tested on both .. and ..
SUMMARY
This change allows the EC dynamic inventory to assume an IAM role prior to connecting to the AWS modules.
We needed this functionality at my company due to how we have structured our AWS setup and I thought others might find it useful.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes Inventory script does not work with assumed roles;"ISSUE TYPE


Feature Pull Request

ANSIBLE VERSION
no special

SUMMARY
add support to dynamic ec host inventory from system environment .boto and assume role from .awsconfig
Fixes 
If you set system environment 

AWSACCESSKEYID
AWSSECRETACCESSKEY
AWSSESSIONTOKEN

You can run directly
.ec.py list

If you set profile with awssecuritytoken in .boto or .awscredentials

.ec.py profile marketingadmin list

If you set profile with assume role in .awsconfig

.ec.py profile marketingadmin list


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2186;Add availability zone parameter;"This commit adds the availability zone parameter which allows a user to specify their zone and thus by extension the region. We need to have this to enable us to deploy consistent stacks regardless of location i.e. I want to deploy my playbook stack in EU now kthx..
It should also resolve the issue where launch fails when EC cannot find an image.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added availability zone support to ec module;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2187;add vault inventory value encryption example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vault and variables best practices info added edited and referenced;"This work fulfills PR . Moved the content out of the vault file
into best practices edited it then referenced it from variables and
vaults content files.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2188;ssh port not working as the if clause is wrong;"The ssh port always results in port as the if clause is never executed this means that hosts on nonstandard ssh port cannot be accessed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixes override ansiblesshport in grouphostvars;"Tested with ansible myhost m ping vvvv. It correctly picks up ansiblesshport in the following order

hostvars
groupvars
remoteport default in ansible.cfg

Full testing can be seen in httpsgist.github.comhalberomfeddfad
Only thing I'm not sure about is whether it should be assigned to a class variable Also I took a look at the unit tests and although i could see there's a port test in executor.connectioninfo I've no idea how to validate or expand on it. Any tips appreciated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2189;Change ssh header to sshconnection header;"Pretty self explanatory. Just a minor typo in the OpenSSH section of the ansible.cfg documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Correct documentation reference to SSH section.;"The reference in the documentation indicates the section title is ssh however this doesn't work when set in the configuration file. In libansiblecontants.py the section is referenced as sshconnection therefore update documentation to match config.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2190;Fail when installing from Githubgenerated .zip;"SUMMARY
The .zip files generated by GitHub for download do not support symbolic links however the bin directory in the source tree depends on symlinks being there to work. When installing from a GitHub generated .zipfile when the user runs any script except ansible e.g. ansibleplaybook they are given an error as if they were trying to run ansible.
This patch makes setup.py bomb out with a helpful error message in the case that ansibleplaybook is not a symlink.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
setup.py
ANSIBLE VERSION

ansible ..
 config file 
 configured module search path u'Usersjginsberg.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 python version .. default Dec GCC .. Compatible Apple LLVM .. clang...


ADDITIONAL INFORMATION
New output when installing from .zip file
githubfix PluckyBadgerbin jginsberg pip install httpsgithub.comjbaransiblearchivefailongithubzipfile.zip
Collecting httpsgithub.comjbaransiblearchivefailongithubzipfile.zip
 Downloading httpsgithub.comjbaransiblearchivefailongithubzipfile.zip
 .MB .MBs
 Complete output from command python setup.py egginfo
 It appears that you are installing Ansible from an archive that does not support symbolic links usually a .zip file downloaded from GitHub. This renders your copy of Ansible unusable.
 
 
 Please reacquire Ansible from PyPI or from the git repository and try again.
 
 
Command python setup.py egginfo failed with error code in privatevarfolderswgdzmtndpwgctwgpTpipedBgADbuild

Output when installing from git repo or PyPi remains unchanged.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make scripts into symlinks;"pip can't handle zip files with symlinks. Attempt to workaround that by
transforming the bin scripts into symlinks after the zip file has been
unarchived into the build tree.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
setup.py
ANSIBLE VERSION

devel

ADDITIONAL INFORMATION
We advise people not to install from github but they do so anyways. Before it had no chance of working because of Ansible modules being in git submodules. Now that the modules are in the same repository we are closer to it being able to work... If this patch is sufficient we might as well do it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2191;Fix racecondition in preparewriteabledir;"All ansible invocations will try to create HOME.ansiblecp. When two runs are triggered at the exact same moment they will both see os.path.exists return False and then try to create the dir. They will then collide and one run will fail with errno.EEXIST.
We can fix this by simplifying the code just create the dir and accept failure because of preexistence. This is what the original code intended anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";created makedirssafe function for use in cases of multiprocess;"should fix and most race conditions
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2192;Refactor and fix the slaac filter.;"ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION
ansible .. slaacfixandincludeprefix ccf last updated GMT 
 libansiblemodulescore detached HEAD dbde last updated GMT 
 libansiblemodulesextras detached HEAD dbdde last updated GMT 
 config file homechristian.ansible.cfg
 configured module search path Default wo overrides

SUMMARY
The implementation of the slaac filter doesn't work and may have never worked introduced in cff . It calls a method on string instead of the corresponding netaddrClass see libansiblepluginsfilteripaddr.py cff L vs L.
This implementation tries to do be more a wrapper to the existing functions instead of reinventing the wheel. Only respecting the RFC requires the code around the lines LL.
While developing a fix for the slaac filter I also tried another approach. This will be a separate pull request.
Due to this pull request will be obsolete.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix slaac filter;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
slaac filter module
ANSIBLE VERSION

ansible ...
 config file etcansibleansible.cfg
 configured module search path Default wo overrides


SUMMARY
The code which attempts to test an IP address version attribute doesn't work the address is a string. I've followed the style of the existing code and used the ipaddr function to do so.
Using the template data 'fe' | slaac'' the slaac filter output changes from False to a SLAAC address
TASK template 
 before tmptestfile
 after dynamically generated
 
False
fefffe

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2193;Do variable expansion for 'register' variable names;"Allows to use expansion in 'register' variable names. Goes very well with parametrized roles
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";allow registered vars in playbook to be dynamic;"A colleague of mine ran into the problem that registered variables were not being overwritten properly when running a role multiple times on the same host for multiple users.
 name foo test
 command usrbintest e home user 
 register foo
 failedwhen false
 changedwhen false

 name foo echo
 command usrbinecho HOME EXISTS
 when foo.rc 
I wasn't able to diagnose whether this is intended or not or what to do about it. I thought of using dynamic names for registered variables.
 name foo test
 command usrbintest e home user 
 register foo user 
 failedwhen false
 changedwhen false

 name foo echo
 command usrbinecho HOME EXISTS
 when hostvarsinventoryhostname'foo' user.rc 
Unfortunately that didn't work. It seems that the register attribute is not parsed as a template. I modified ansible to parse the register attribute as a template and now dynamic register variables work and my colleague's problem is solved.
I'd appreciate it if my change could be included in ansible. make test runs fine. If you need more information or if the pull request is not up to your standards please let me know. Thanks.
 Felix
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2194;vmwareguest improvements annotations customvalues;"ISSUE TYPE

Feature Pull Request

COMPONENT NAME
vmwareguest
ANSIBLE VERSION
ansible ...

SUMMARY
vmwareguest improvements

Idempotency fix on annotations permitting to change them on reconfiguration
Permit to set VMware customvalues attributes on VM
Gather annotation customvalues and report it into module facts

New facts
changed ... changed true failed false instance annotation this is a huge vm customvalues components apache datacenter production hwguestfullname null hwguestid null hwinterfaces hwmemtotalmb hwname testvm hwpowerstatus poweredOn hwprocessorcount hwproductuuid affcbdebdae ipv null ipv null modulehw true

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Define getexception;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

vmwareguest
ANSIBLE VERSION

v.
SUMMARY


This fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2195;fixing mime types in ssync module;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ssync
ANSIBLE VERSION
ansible .. ssyncmimefix ab last updated GMT 
 config file 
 configured module search path Default wo overrides

SUMMARY
The ssync module does not appropriately set the mime type of the files that it syncs to S. This change makes a minor update to ensure that the mime type is set. Before this a file like index.html would have a contentType of binaryoctetstream per sapi headobject. After it has a contentType of texthtml.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes Corrected an arg name and changed uploadfile parameter to utilize th?Çª;"?Çªe args that were set so mimemap works correctly.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
modulescloudamazonssync.py
ANSIBLE VERSION
ansible ..
 config file 
 configured module search path Default wo overrides

SUMMARY
The args were set but not used so I changed that. Now mimemap in the playbook is reflected in what was uploaded to a bucket. One arg name was incorrect so I fixed it. This fixes .
Mime sniffing seems to be working properly excerpt from verbose output

 
 strategy datesize
 bytes 
 choppedpath myfile.txt
 fullpath XXXXmyfoldermyfile.txt
 localetag \febfbbbbef\
 mimetype textplain
 modifiedepoch 
 spath myfoldermyfile.txt
 why no shead
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2196;Added ability to create EBS volume based off of snapshot.;"Changed the ecvol module so it allows for someone to use a snapshot.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added ability to create EC volume from snapshot;"ecvol module now takes optional snapshot argument
Added relevant module argument handler and documentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2197;daemon paralellize disk usage computations;NOM;. Update Golang .. golang.orgxcrypto CVE CVE;"second commit was a clean cherrypick of bce taken from 
Update Golang .. CVE CVE
full diff golanggogo.....go..
go.. released includes two security fixes. One mitigates the
CVE certificate verification bypass on Windows. The other affects only
bit architectures.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved

X. certificate validation bypass on Windows 
A Windows vulnerability allows attackers to spoof valid certificate chains when
the system root store is in use. These releases include a mitigation for Go
applications but it?ÇÖs strongly recommended that affected users install the
Windows security update to protect their system.
This issue is CVE and Go issue golang.orgissue.
Panic in cryptox certificate parsing and golang.orgxcryptocryptobyte
On bit architectures a malformed input to cryptox or the ASN. parsing
functions of golang.orgxcryptocryptobyte can lead to a panic.
The malformed certificate can be delivered via a cryptotls connection to a
client or to a server that accepts client certificates. nethttp clients can
be made to crash by an HTTPS server while nethttp servers that accept client
certificates will recover the panic and are unaffected.
Thanks to Project Wycheproof for providing the test cases that led to the
discovery of this issue. The issue is CVE and Go issue golang.orgissue.
This is also fixed in version v..bbef of golang.orgxcryptocryptobyte.

vendor update golang.orgxcrypto ecbbdddabeceeaae CVE
full diff golangcryptof...ecbb
Includes golangcryptoecbb
forwardport of golangcryptobb
which fixes CVE

Panic in cryptox certificate parsing and golang.orgxcryptocryptobyte
On bit architectures a malformed input to cryptox or the ASN. parsing
functions of golang.orgxcryptocryptobyte can lead to a panic.
The malformed certificate can be delivered via a cryptotls connection to a
client or to a server that accepts client certificates. nethttp clients can
be made to crash by an HTTPS server while nethttp servers that accept client
certificates will recover the panic and are unaffected.
Thanks to Project Wycheproof for providing the test cases that led to the
discovery of this issue. The issue is CVE and Go issue golang.orgissue.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2198;bump up rootlesskit to v..;"Fixes panic tapvif read read devnettun not pollable on early start up of RootlessKit with VPNKit.
Changes

httpsgithub.comrootlesscontainersrootlesskitreleasestagv..
httpsgithub.comrootlesscontainersrootlesskitreleasestagv..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor bump swarmkit bbcdeebefffda;"equivalent of but for the . branch
full diff dockerswarmkitfd...b
changes

dockerswarmkit . backport Fix leaking subscription contexts

backport of dockerswarmkit Fix leaking log subscription contexts
fixes Dockerd eats too much RAM



 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2199;libnetwork wait until t.Deadline instead of hardcoded value;"hopefully closes 
 What I did
It seems that the flakiness is caused by the occasional slowness of the CI hence wait until t.Deadline for node to appear instead of relying on a hardcoded value which may or may not suffice in all environments.
Also applied the same waiting approach from in the unit test in question.
 How I did it
Check for t.Deadline and if set wait until at most that use the previous hardcoded value otherwise. Since we set timeout in hacktestunit the deadline value should generally be set regardless of the environment so this should work in CI as well as locally unless of course tests are run directly with go test.
 How to verify it
I suppose the only way would be to observe multiple CI runs
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Golang .. golang.orgxcrypto CVE CVE;"Update Golang .. CVE CVE
full diff golanggogo.....go..
go.. released includes two security fixes. One mitigates
the CVE certificate verification bypass on Windows. The other affects
only bit architectures.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved

X. certificate validation bypass on Windows 
A Windows vulnerability allows attackers to spoof valid certificate chains when
the system root store is in use. These releases include a mitigation for Go
applications but it?ÇÖs strongly recommended that affected users install the
Windows security update to protect their system.
This issue is CVE and Go issue golang.orgissue.
Panic in cryptox certificate parsing and golang.orgxcryptocryptobyte
On bit architectures a malformed input to cryptox or the ASN. parsing
functions of golang.orgxcryptocryptobyte can lead to a panic.
The malformed certificate can be delivered via a cryptotls connection to a
client or to a server that accepts client certificates. nethttp clients can
be made to crash by an HTTPS server while nethttp servers that accept client
certificates will recover the panic and are unaffected.
Thanks to Project Wycheproof for providing the test cases that led to the
discovery of this issue. The issue is CVE and Go issue golang.orgissue.
This is also fixed in version v..bbef of golang.orgxcryptocryptobyte.

vendor update golang.orgxcrypto ecbbdddabeceeaae CVE
full diff golangcryptof...ecbb
Includes golangcryptoecbb
forwardport of golangcryptobb
which fixes CVE

Panic in cryptox certificate parsing and golang.orgxcryptocryptobyte
On bit architectures a malformed input to cryptox or the ASN. parsing
functions of golang.orgxcryptocryptobyte can lead to a panic.
The malformed certificate can be delivered via a cryptotls connection to a
client or to a server that accepts client certificates. nethttp clients can
be made to crash by an HTTPS server while nethttp servers that accept client
certificates will recover the panic and are unaffected.
Thanks to Project Wycheproof for providing the test cases that led to the
discovery of this issue. The issue is CVE and Go issue golang.orgissue.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2200;Update to containerd v..;"full diff containerdcontainerdv.....v..
Welcome to the v.. release of containerd
The fifth patch release for containerd . updates runc to .. and contains
other minor updates.
Notable Updates

Update runc binary to ..
Update pull logic to try next mirror on non response
Update pull authorization logic on redirect

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Do not require experimental for metrics API;"This removes the requirement to enable experimental on the daemon to expose the prometheus metrics

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2201;. update containerd binary to v..;"relates to containerdcontainerd
relates to 
relates to 
Welcome to the v.. release of containerd
The ninth patch release for containerd . updates runc to .. and contains
other minor updates.
Notable Updates

Update runc binary to ..
Update pull authorization logic on redirect
Fix user agent used for fetching registry authentication tokens

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix leak related to service logs;"full diff dockerswarmkitefab...e
changes

dockerswarmkit Fix leaking log subscription contexts

fixes Dockerd eats too much RAM




 What I did
Bump swarmkit version to ebccec
Includes the fix described in dockerswarmkit.
 Description for the changelog

Fixed an issue where service logs could leak goroutines on the worker.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2202;client remove deprecated SetCustomHTTPHeaders CustomHTTPHeaders;"client deprecate client.CustomHTTPHeaders
This function was added in ad but not used. Currently the only consumer of this function I could find was dockercli which used it in a unittest this test has already been updated to not depend on this function httpsgrep.appsearchq.CustomHTTPHeadersfilterlangGo
Given that commit aaea deprecated the corresponding client.SetCustomHTTPHeaders function and because there is no active use for this function it should be ok to deprecate.
We can include this in a patchrelease to be sure nobody else is depending on it and if someone is to notify them of the deprecation.
As a followup to this commit I'll remove both functions.
client remove deprecated SetCustomHTTPHeaders CustomHTTPHeaders
Both of these function were added in ad .
The CustomHTTPHeaders was not used except for a unit test in dockercli this test has already been updated to not depend on this function in dockercli httpsgrep.appsearchq.CustomHTTPHeadersfilterlangGo
Commit aaea deprecated SetCustomHTTPHeaders and looks to be unused httpsgrep.appsearchq.SetCustomHTTPHeadersfilterlangGo
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Testing changes;"alternative to without the changes from moving the internaltest package to testutil and without the changes from which were needed to get a clean cherrypick of the rename cherrypick

 Add FromClient to test env execution
 DaemonCli Move check into startMetricsServer
 Fix more signal handling issues in tests

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2203;Remove LCOW step libcontainerdlocal remove LCOW bits;"Splitting off more bits from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport update containerd binary v..;"moved from docker
back ports of updating the containerd binaries from

 bump containerd and dependencies to v..
 Update containerd to v..
 update containerd binary to v..
 update containerd to v..
 update containerd to v..
 update containerd to v..
 update containerd to v..

this is to see if integration tests work fine if we would update the existing . version to the latest containerd
full diff httpsgithub.comcontainerdcontainerdcomparev....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2204;Remove LCOW step remove LCOW bits from builderdockerfile copy;"Splitting off more bits from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";dockerdrootless.sh remove confusing code comment;"userlandproxypath is automatically set by dockerd 
 
 
 mobycmddockerdconfigunix.go
 
 
 Line 
 in
 ec
 
 
 
 

 
 
 defaultUserlandProxyPath err exec.LookPathrootless.";0
2205;Remove LCOW step;"Splitting off more bits from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update runc to v..rc CVE;"runc v..rc release note httpsgithub.comopencontainersruncreleasestagv..rc
Notable changes

Fix CVE Volume mount race condition with shared mounts opencontainersrunc
Fix exec FIFO race opencontainersrunc
Basic support for cgroup v. Almost featurecomplete but still missing support for systemd mode in rootless.
See also opencontainersrunc for the known issues.

Full changes opencontainersruncv..rc...v..rc
Also updates goselinux opencontainersselinuxaf...b
See containerdcri comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2206;seccomp add support for clone syscall in default policy;"What I did
Modified the default seccomp profile so that clone is explicitly requested to give ENOSYS instead of the default EPERM when CAPSYSADMIN is unset.
If CAPSYSADMIN is set then clone is simply allowed unconditionally
 How to verify it
Te";Remove Extra Space in Code Comment in ping.go;"What I did
Removed extra space in code comment from ping.go. Noticed it while looking through source of Pingctx context.Context.
 Description for the changelog
Removed extra space from code comment in ping.go
 
 
 
 
";0
2207;vendor github.comdockerswarmkit ffcddccddbfabeacdd;"removes use of the deprecated pkgsignal.
full diff dockerswarmkitdcfa...f
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";enforce reserve internal labels.;"The namespaces com.docker. io.docker. org.dockerproject.
have been documented to be reserved for Docker's internal use.
Signedoffby Jintao Zhang zhangjintaogmail.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

Enforce reserve internal labels.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2208;fileutils Fix incorrect handling of foo pattern;"PatternMatcher.Matches includes a special case for when the pattern
matches a parent dir even though it doesn't match the current path.
However it assumes that the parent dir which would match the pattern
must have the same number of separators as the pattern itself. This
doesn't hold true with a patern like foo. A file foobar would have
lenparentPathDirs which is less than the number of path
lenpattern.dirs ... therefore this check would be skipped.
Given that foo matches foo I think it's a bug that the parent
subdir matches check is being skipped in this case.
It seems safer to loop over the parent subdirs and check each against
the pattern. It's possible there is a safe optimization to check only a
certain subset but the existing logic seems unsafe.
This was found while using the IncludePatterns feature of BuildKit's
copy op.
Fixes 
cc coryb tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hackmake.goautogen fix LDFLAGS to accept values with spaces;"relates to dockerdockercepackaging comment
relates to dockerdockercepackaging
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2209;Dockerfile simplify utilityinstall script and update gotestsum to v..;"Dockerfile use version for some utilities instead of commitsha
The golangcilint gotestsum shfmt and vndr utilities should generally
be ok to be pinned by version instead of a specific sha. Also rename
the corresponding envvars buildargs accordingly

GOLANGCILINTCOMMIT GOLANGCILINTVERSION
GOTESTSUMCOMMIT GOTESTSUMVERSION
SHFMTCOMMIT SHFMTVERSION
VNDRCOMMIT VNDRVERSION
CONTAINERDCOMMIT CONTAINERDVERSION
RUNCCOMMIT RUNCVERSION
ROOTLESSCOMMIT ROOTLESSVERSION

Dockerfile use go install to install utilities
Dockerfile remove GOPROXY override was for go .
Dockerfile update gotestsum to v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Golang ..;"full diff golanggogo.....go..
go.. released includes fixes to the runtime and the nethttp
package. See the Go .. milestone on the issue tracker for details.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2210;volumemounts precompile regular expressions;"followup to 
closes 
Compile the regular expression instead of 'adhoc'. For this to work I moved
the splitting was moved out of parseMountRaw into ParseMountRaw and the
former was renamed to parseMount. This function still receives the 'raw' string
as it's used to include the raw spec for inclusion in error messages.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hackmake.goautogen fix typo in LDFLAGS variable;"Introduced in b 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2211;pkgarchive remove some debug logs and small cleanup;"See individual commits for details
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump Libnetwork to latest refpoint;"Commits
feefff Merge pull request from liskinbridgeatomichwaddr
fecd Merge pull request from suwangdoc
e Added document describing libnetwork traffic flow.
eaea Merge pull request from kdomanskiipvaddrinhosts
ce Merge pull request from arkodgfixkeyspipanic
ee Fix panic in driversoverlayencryption.go
 Merge pull request from thaJeztahbumpgolang..
fdcc Update Golang .. CVE
cd Merge pull request from suwangmaster
facacc Added API to set ephemeral port allocator range.
Signedoffby Arko Dasgupta arko.dasguptadocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2212;fix a typo;"Signedoffby yufeifly yufei.xiongqq.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile improve binary build stages;"remove INSTALLBINARYNAME envs. Using a variable here doesn't seem to add much so inlining the value instead.
mount install scripts instead of copying. These scripts are only used to build the binaries and the scripts themselves don't have to be persisted in an image so we can mount them instead of copying to the stage

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2213;Fix incorrect loop variable usage in parallel test closures;"What I did
Ensure that loop variables are copied for use within parallel test closures.
 How I did it
Discovered a few instances where loop variable is incorrectly used
within a test closure which is marked as parallel while working on 
Few of";Bump prometheusclientgolang and dependencies v..;"based on depends on 

Updates prometheus to v.. given that this dependency wasn't updated for a while doing so in some steps
vendor bump prometheusclientmodel v..
full diff prometheusclientmodelf...v..

prometheusclientmodel add gopackage regenerate Go binding file
prometheusclientmodel Support Go Modules
prometheusclientmodel Remove all languages but Go and add a deprecation note

vendor bump prometheuscommon v..
full diff prometheuscommon...v..
vendor bump prometheusprocfs v..
full diff prometheusprocfsdf...v..
vendor bump prometheusclientgolang v.. dockergometrics v..
bump dockergometrics v..
full diff dockergometricsddf...v..

dockergometrics fix the compilation error against prometheusclientgolang master
fixes dockergometrics No longer builds against Prom master
dockergometrics metrics address compile error correctly
fixes dockergometrics No longer builds against Prom master
dockergometrics Add functions that instruments http handler using promhttp
dockergometrics Rename LICENSE.code ?åÆ LICENSE
dockergometrics Support Go Modules

bump prometheusclientgolang v..
full diff prometheusclientgolangcbfcc...v..
version v.. is the minimum required version to work with gometrics v..
as it depends on prometheus.Observer
vendorgithub.comdockergometricstimer.go undefined prometheus.Observer
vendor bump prometheusclientgolang v..
full diff prometheusclientgolangv.....v..
Using v.. because version v.. and up use versioned import paths for the
github.comcesparexxhashv dependency prometheusclientgolang which
causes vendoring with vndr to break due to the v in the importpath.
vendor bump prometheusclientgolang v..
full diff prometheusclientgolangv.....v..
This requires LKDvndr v.. or newer for vendoring also adds a new
dependency github.comcesparexxhash
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2214;storagedriver promote overlay make Btrfs and ZFS optin;"The daemon uses a priority list to automatically select the bestmatching storage
driver for the backing filesystem that is used.
Historically overlay was not supported on Btrfs and ZFS and the daemon would
automatically pick the btrfs or zfs storage driver if that was the Backing
File System.
Commits ec and eaea 
improved our detection to check if overlay was supported on the backing file
system allowing overlay to be used on top of Btrfs or ZFS but did not change
the priority list.
While both Btrfs and ZFS have advantages for certain usecases and provide
advanced features that are not available to overlay they also are known
to require more handholding and are generally considered to be mostly
useful for advanced users.
This patch changes the storagedriver priority list to prefer overlay if
supported by the backing filesystem and effectively makes btrfs and zfs
optin storage drivers.
This change does not affect existing installations the daemon will detect
the storage driver that was previously in use based on the presence of
storage directories in varlibdocker.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor bump googleshlex bfcffaeef beornperks v..;"vendor add v.. comment to Microsofthcsshim vendor
Commit bfcffaeefdccececae was tagged as v.. so add a comment to the vendor.conf
vendor bump googleshlex eafcfbcecdfdefcddcdd
full diff googleshlexf...eafcf

googleshlex Remove unnecessary UnreadRune call
googleshlex Add go.mod

vendor bump beornperks v..
full diff beornperksefb...v..
adds go module support
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2215;. backport update runc binary to v..;"Release note httpsgithub.comopencontainersruncreleasestagv..
Cherrypick binary from but leave vendor.conf asis
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor bump containerdcontinuity tonistiigifsutil;"I noticed that was closed because buildkit on master was already uptodate but the vendor update of the containerdcontinuity tonistiigifsutil dependencies were not on master.
This PR takes those commits and updates them to the current master of both
vendor update containerdcontinuity to cbddbadefcefccc
full diff containerdcontinuityfaa...c

containerdcontinuity Add OpenBSD support for fs subpackage
containerdcontinuity Add src string to copyDirectory error message
containerdcontinuity fstest have CreateSocket actually create a socket
containerdcontinuity Support Go Modules
containerdcontinuity xattr lost when copying directory
containerdcontinuity fs don't convert syscall.Timespec to unix.Timespec directly doesn't work with gccgo

vendor update fsutil facadabaedb
full diff tonistiigifsutilbbbc...fa

tonistiigifsutil copy add fast copy path for darwin
tonistiigifsutil Treat Unix sockets as regular files

relates to mobybuildkit Fix socket handling


tonistiigifsutil fix gocrypto commit
tonistiigifsutil receive use filter on receive diff

prevents incremental transfers with userns because the metadata
on disk is always different than the one being transferred.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2216;Makefile update buildx version to v..;"What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but t";update .dockerignore to prevent 'unsupported' builds;"When building the daemon inside the development container without bindmounting the sourcecode the git status was marked dirty because the .dockerignore and Dockerfile were not copied into the image due to them being excluded by the .dockerignore
make shell
hackmake.sh binary

 GITCOMMIT aunsupported
 The version you are building is listed as unsupported because
 there are some files in the git repository that are in an uncommitted state.
 Commit these changes or add to .gitignore to remove the unsupported from the version.
 Here is the current list
 D .dockerignore
 D Dockerfile

This patch removes those files from .dockerignore so that the git status is not marked dirty.
Excluding the files through .dockerignore is only useful to prevent busting the buildcache in cornercases where the files are modified without actual changes e.g. whitespaceonly changes comment edited but should not be a big issue in practice.
With this patch applied
make shell
hackmake.sh binary

Removing bundles

 Making bundle binary in bundlesbinary
Building bundlesbinarydaemondockerddev
GOOS GOARCH GOARM
Created binary bundlesbinarydaemondockerddev
Copying nested executables into bundlesbinarydaemon

bundlesbinarydaemondockerddev version
Docker version dev build ddc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2217;. update containerd binary v..;"Update to containerd .. to address CVE.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Handle the error case when fixedcidripv is empty and ipv is enabled;"When IPv is enabled make sure fixedcidripv is set
by the user since there is no default IPv local subnet
in the IPAM
Fixes dockerforlinux

 What I did
Handled the error case when fixedcidripv is empty and ipv is enabled
 How to verify it
dockerd ipv 
 
failed to start daemon Error initializing network controller Please specify a IPv subnet using fixedcidrv when IPv is enabled on the default bridge
 Exit dockerd ipv

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2218;Update containerd v..;"Update to containerd v.. to address CVE.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix indenting in deprecated engine features toc;"Fixes . The filter section had the wrong header size which
caused sections following it to have the wrong indentation in the
rightside table of contents.
 What I did
Changed one H heading to H.
 How to verify it
View the rightside table of contents at httpsdocs.docker.comenginedeprecated. Everything in that list should be at the same level no indenting.
I attempted to test by building the doc ?Ç£dockercompose up?Ç¥ in docker.github.io but opening the User Guide Deprecated Engine Features link causes ?Ç£ERROR enginedeprecated' not found.?Ç¥ My change was not included in that build so it did not cause that failure.
I did view the the page as rendered by GitHub in my repo which looked ok but not the same as it will look after it is consumed by the doc build.
 Description for the changelog
Fix indenting in table of contents for deprecated engine features.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2219;update runc binary and libcontainer to v..;"Release note httpsgithub.comopencontainersruncreleasestagv..
Also updates libcontainer and its dependencies httpsgithub.comopencontainersrunccomparev..rc...v..diffefbfcacbfdbadcaecbbeeaaf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. compose fix environment interpolation from the client;"cherrypick 
dnephin vieux thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2220;Makefile do not tag dockerdev image with GITBRANCH;"When building the dev image the Makefile generates a tagname for the image based on the current git branch. As a result of this naming old images will collect on a developer's machine especially when building from different branches for example when reviewing pull requests
REPOSITORY TAG IMAGE ID CREATED SIZE
dockerdev HEAD afbf hours ago .GB
dockerdev master afbf hours ago .GB
dockerdev seccompclosertooci afbf hours ago .GB
dockerdev movestackdump cbfd days ago .GB
dockerdev adddnstodockerinfo edbbd days ago .GB
dockerdev addplatforminfo edbbd days ago .GB
dockerdev rataseccompnewfields edbbd days ago .GB
dockerdev swaggerwip edbbd days ago .GB
dockerdev systemdftypes edbbd days ago .GB
dockerdev useociplatform edbbd days ago .GB
dockerdev updateswaggerfork eeedeccaa weeks ago .GB
dockerdev removelcowstepalternative fbbc weeks ago .GB
dockerdev updatesxubuntu fbbc weeks ago .GB
dockerdev fiximagesharedsize eaaa weeks ago .GB
dockerdev removediscovery ae weeks ago .GB
dockerdev daemonconfig eb weeks ago .GB
dockerdev jenkinswindowscontainerd b weeks ago .GB
dockerdev unforkbuildkit b weeks ago .GB
dockerdev warnonnonmatchingplatform bcbf weeks ago .GB
dockerdev removelcow ac weeks ago .GB
dockerdev removelcowpart ac weeks ago .GB
dockerdev removelcowstep ac weeks ago .GB
dockerdev removelcowstep ac weeks ago .GB
dockerdev seccompunconfineddaemon ac weeks ago .GB
dockerdev updateauthors ac weeks ago .GB
dockerdev payallufixcreatingsandboxwhendisablebridge cfceb weeks ago .GB
dockerdev catchalmostall fdbcb weeks ago .GB
dockerdev bincriu caef months ago .GB
dockerdev bumpgolang months ago .GB
dockerdev upstreamsystemdunits dcbfc months ago .GB
dockerdev bumpcriu edefcff months ago .GB

This images are a bit of a pain to clean up and because they are tagged docker image prune or docker system prune doesn't help unless all is used.
Looking at the background of this naming a found that it was originally added in a after a discussion on . At the time the image name was used to check if the image needed building and otherwise building was skipped in the makefile.
This is no longer the case the image is built unconditionally and the buildcache helps where possible speed up rebuilding the image.
In theory having unique names would allow for multiple dev containers from different branches to be started in parallel but in most situations the sourcecode will be mounted BINDMOUNT. so I'm not sure if that should be a compelling reason to keep the current naming.
This patch removes the unique tag and will always tag the image locally as dockerdevlatest.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support Swarmkit Generic Task Runtime;"This adds support for Swarmkit Generic Task Runtimes dockerswarmkit to support swarmkit plugins.
Note the code change is . Most of this PR is the vendor from swarmkit.
This currently has stubs for the plugin support. I left them in as examples to see how this works. I can remove and we can add them in a separate PR to keep this PR just on the generic runtime support.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2221;seccomp Use explicit DefaultErrnoRet;"Since commit seccomp Sync fields with runtimespec fields
d we support to specify the
DefaultErrnoRet to be used.
Before that commit it was not specified and EPERM was used by default.
This commit keeps the same behaviour but just makes it explicit that the
default is EPERM.
Signedoffby Rodrigo Campos rodrigokinvolk.io
This a followup of comment as suggested by thaJeztah. This just adds an explicit default to EPERM. Right now the default is EPERM but is implicit.

 What I did
Added the field DefaultErrnoRet to seccomp profiles
 How I did it
Added the field to default profile in profilesseccompdefaultlinux.go then adjusted the tests to expect this new field
 How to verify it
You can run unit tests with TESTDIRS'github.comdockerdockerprofilesseccomp' make testunit.
You can also run hackvalidatedefaultseccomp to verify nothing was missing in the changes.
 Description for the changelog

Add an explicit DefaultErrnoRet field in the default seccomp profile. No behavior change.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker secret ls format';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2222;seccomp.Seccomp embed ocispec LinuxSeccomp add support for seccomp flags;"Fixes Feature request ability to set SECCOMPFILTERFLAGSPECALLOW in seccomp profiles


seccomp improve GoDoc for Seccomp fields


seccomp use ocispec consts in tests


seccomp add additional unittests
Add test to verify profile validation and to verify that the legacy format actually loads the profile as expected instead of only verifying it doesn't produce an error.


seccomp setupSeccomp update errors and remove redundant check
Make the error message slightly more informative and remove the redundant lenconfig.ArchMap check as iterating over an empty or 'nil' slice is a noop already. This allows to use a slightly more idiomatic if ok xx ok condition.
Also move validation to the start of the loop early return and explicitly create a new slice for names if the legacy Name field is used.


seccomp Seccomp embed ocispec Seccomp add support for seccomp flags
This patch similar to d embeds the type of the runtimespec so that we can support all options provided by the spec and decorates it with our own fields.
With this profiles can make use of the recently added Flags field to specify flags that must be passed to seccomp when installing the filter.


 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service ls filter mode';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2223;. backport Bump go ..;"opening as draft as this is based on . I'll rebase once that's merged done
backport of

 Bump golang ..
 Bump go .. addresses CVE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker nodeservicestack ps format';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2224;. backport various testchanges for Go .;"some testchanges from the PRs listed in that were not yet in the . branch
Backports of

 hackvendor add check for vendored archivetar
 hack add script to regenerate certificates and update testcerts
 pkgfileutils TestMatches remove cases no longer valid for go.
 Disable go modules when compiling binaries used in tests

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker network inspect verbose';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2225;pkgsignal make package selfcontained in preparation of moving to mobysys;"Relates to mobysys
Relates to containerdcontainerd

This moves dockerspecific code to different locations and removes nonessential dependencies
pkgsignal move signal.DumpStacks to a separate package
It is not directly related to signalhandling so can well live
in its own package.
Also added a variant that doesn't take a directory to write files
to for easier consumption better match to how it's used.
pkgsignal move Trap to cmddockerd
It's the only location where this is used and it's quite specific
to dockerd not really a reusable function for external use so
moving it into that package.
pkgsignal remove gotest.tools dependency
Use stdlib testing only
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker logs notaskids notrunc';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2226;pkgsysinfo assorted cleanuprefactoring for handling warnings and logging;"This is based on changes I had in a branch on my machine to clean up the pkgsysinfo logic. I cleaned up those changes and grouped them into logical commits.
See individual commits for details commit messages copied below
pkgsysinfo.New move v code to a newV function
This makes it clearer that this code is the cgroups v equivalent of newV.
Also moves the options handling to newV because it's currently only used for cgroupsv.
pkgsysinfo move cgMounts to be a field in SysInfo
We pass the SysInfo struct to all functions. Adding cgMounts as a nonexported field makes passing around this information easier.
pkgsysinfo.newV remove redundant path.Clean
path.Join already does path.Clean and the opts.cgGroupPath field is already cleaned as part of WithCgroupGroupPath
pkgsysinfo move cgGroupPath to be a field in SysInfo
We pass the SysInfo struct to all functions. Adding cgGroupPath as a nonexported field makes passing around this information easier.
pkgsysinfo adjust Opt to set new field
This removes the need to have the opts type.
pkgsysinfo move cgControllers to be a field in SysInfo and unify vv
We pass the SysInfo struct to all functions. Adding cgControllers as a nonexported field makes passing around this information easier.
Now that infoCollector and infoCollectorV have the same signature we can simplify some bits and use a single slice for all collectors.
pkgsysinfo collect warnings in SysInfo struct
This allows the warnings to be consumed in other locations.
pkgsysinfo.New daemon.RawSysInfo remove quiet argument
The quiet argument was only used in a single place at daemon startup and every other use had to pass false to prevent this function from logging warnings.
Now that SysInfo contains the warnings that occurred when collecting the system information we can make leave it up to the caller to use those warnings and log them if wanted.
pkgsysinfo use correct name for AppArmor in t.Skip
Just a minor nit helps greping for AppArmor
apitypes add GoDoc to Info.Warnings field
Describe the purpose of this field to set the correct expectations.
After if this is merged I want to have a look at the warnings returned by the API possibly we can reuse the same warnings so that there's no need to duplicate the logic in e.g. fillPlatformInfo

 
 
 mobydaemoninfounix.go
 
 
 Lines to 
 in
 bc
 
 
 
 

 
 
 if v.CgroupDriver cgroupNoneDriver 
 

 
 
 	if v.CgroupVersion 
 

 
 
 		v.Warnings appendv.Warnings WARNING Running in rootlessmode without cgroups. Systemd is required to enable cgroups in rootlessmode. 
 

 
 
 	 else 
 

 
 
 		v.Warnings appendv.Warnings WARNING Running in rootlessmode without cgroups. To enable cgroups in rootlessmode you need to boot the system in cgroup v mode. 
 

 
 
 	 
 

 
 
 else 
 

 
 
 	if v.MemoryLimit 
 

 
 
 		v.Warnings appendv.Warnings WARNING No memory limit support 
 

 
 
 	 
 

 
 
 	if v.SwapLimit 
 

 
 
 		v.Warnings appendv.Warnings WARNING No swap limit support 
 

 
 
 	 
 

 
 
 	if v.KernelMemoryTCP v.CgroupVersion 
 

 
 
 		 kernel memory is not available for cgroup v. 
 

 
 
 		 Warning is not printed on cgroup v because there is no action user can take. 
 

 
 
 		v.Warnings appendv.Warnings WARNING No kernel memory TCP limit support 
 

 
 
 	 
 
 
 


 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service createupdate placementpref';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2227;. update containerd binary to v..;"full diff containerdcontainerdv.....v..
Welcome to the v.. release of containerd
The seventh patch release for containerd . updates runc to .. and contains
various other fixes.
Notable Updates

Update runc binary to ..
Fix invalid validation error checking
Fix error on image pull resume
Fix symlink resolution for disk mounts on Windows

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service createupdate stopsignal';"ref. 
I also added the missing stopsignal option to docker create.
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2228;Update containerd binary and vendor to v..;"Update containerd binary to v..
full diff containerdcontainerdv.....v..
Welcome to the v.. release of containerd
The third patch release for containerd . updates runc to .. and contains
various other fixes.
Notable Updates

Update runc binary to ..
Send pod UID to CNI plugins as KSPODUID
Fix invalid validation error checking
Fix error on image pull resume
Fix User Agent sent to registry authentication server changes default user
agent from Gohttpclient. to containerdv..
Fix symlink resolution for disk mounts on Windows

vendor github.comcontainerdcontainerd v..
full diff containerdcontainerdv.....v..

Fix User Agent sent to registry authentication server changes default user
agent from Gohttpclient. to containerdv..
Fix missing Body.Close calls on push to docker remote
Change Wrapf of nonerror to an actual error

fixes Failed to pull image unexpected commit digest


fix invalid validation error checking
Update hcsshim to ..
Update Go to ..
contentlocal inline sys.StatATimeAsTime
windows Use GetFinalPathNameByHandle for ResolveSymbolicLink
Fix cleanup context of teardownPodNetwork

fixes CRI fails to invoke CNI plugin to teardown network when RunPodSandbox times out


sandbox send pod UID to CNI plugins as KSPODUID

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ppcle fix notary vendor;"Notary switched to vendor a while ago so make that change here. Change
is consistent with all other dockerfiles.
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2229;Fix up vndr tooling;"Fix the error message in hackvalidatevendor to specify that
hackvendor.sh should be run instead of vndr.
Fix hackvendor.sh to also match on Windows paths for the whitelist.
This allows the script to be run on Windows via Git Bash.

Signedoffby Kevin Parsons kevparmicrosoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service createupdate rollback';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2230;. backport docker pull warn when pulled singlearch image does not match platform;"backport of 
addresses dockerformac
Minor conflict due to adjacent line changes in imports because afe is not in the . branch
This takes the same approach as was implemented on docker build where a warning
is printed if FROM platform... is used added in 
Before
docker rmi armhfbusybox
docker pull platformlinuxsx armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
docker.ioarmhfbusyboxlatest

With this change
docker rmi armhfbusybox
docker pull platformlinuxsx armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
WARNING image with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm
docker.ioarmhfbusyboxlatest

And daemon logs print
WARNT.Z ignoring platform mismatch on singlearch image errorimage with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm imagearmhfbusybox
When pulling without specifying platform no warning is currently printed but we can add a warning in future
docker rmi armhfbusybox
docker pull armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
docker.ioarmhfbusyboxlatest

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit ceb
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing test for daemon kill with plugins running.;"Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2231;Bump go .. addresses CVE;"This addresses CVE httpscve.mitre.orgcgibincvename.cginameCVE
go.. released includes a security fix to the cryptotls package
as well as bug fixes to the compiler and the net and nethttp packages. See the
Go .. milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker build addhost';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2232;Fix flaky libnetworknetworkdb tests;"What I did
Make TestNetworkDBIslands run faster and respect timeout go test flag value
Partially address 
Fix TestNetworkDBNodeJoinLeaveIteration and TestNetworkDBCRUDTableEntries as well since they now fail constantly and break CI. Potential";Add Support for Service Task Logs;"This PR probably needs a docs update too. I'm gonna wait until it passes design review before I update the docs
 What I did
Refactored the API to more easily accept new endpoints. Added REST client and CLI endpoints for getting logs from a specific task. All that is needed after this commit to enable arbitrary service log selectors is a REST endpoint.
Added a task flag to docker service logs to get logs for a specific task.
Added search by task if a service wasn't found.
 How I did it
Refactored a bunch of code added a couple of new endpoints.
 How to verify it
Added a new integration test. You can also try running docker service logs task taskid.
 Description for the changelog
docker service logs command now also gets task logs. Added taskidlogs REST endpoint.
 A picture of a cute animal not mandatory but encouraged

cc aluzzardi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2233;Remove containerd platform dependency from client;"Note once if is mergedaccepted we should consider replacing github.comopencontainersimagespecspecsgov.Platform with our own ImagePlatform to remove the OCI spec from the API if possible. If we do so we can also remove the formatPlatform function here as it would be provided by ImagePlatform.String
This removes some of the containerd dependencies from the client

client remove unused Platform field from configWrapper
This field was added in acb but appears to be unused so removing it.
client remove containerd platform dependency

After this there's no direct dependency on containerd but the errdefs package still depends on containerd's errdefs. package. I'll have a look if we can refactor so that that doesn't end up in the client package.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for secret ls format;"Bash completion for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2234;Move containerd.service from Requires to Wants;"Carries dockerdockercepackaging
Per the systemd.unit documentation

If this unit gets activated the units listed will be activated as well. If one of the other units fails to activate and an ordering dependency After on the failing unit is set this unit will not be started. Besides with or without specifying After this unit will be stopped if one of the other units is explicitly stopped.
Often it is a better choice to use Wants instead of Requires in order to achieve a system that is more robust when dealing with failing services.

This should also be generally safe given we added containerdruncontainerdcontainerd.sock to the flags we pass to dockerd.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove undeeded and broken selinux relabel call;"The call is not needed here and wouldn't really work since Source in
this case is a volume name.
Further we don't neccessarily even have a volume path at this time since
the volume hasn't been mounted yet.
The volume will be relabled either

When data gets copied to it from the image if applicable httpsgithub.comdockerdockerblobmastercontainercontainerunix.goL
When the container is started httpsgithub.comdockerdockerblobmasterdaemonocilinux.goL

Fixes last part the first part is done
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2235;Improve swagger.yaml to match the . api version;"I recently tried to rely on the swagger.yaml for code generation of an api client. Some parts required manual fixes of the swagger docs to match the current api version ..
All changes described below relate to a dedicated commit because they aim at different parts of the api description and aren't releated per se. If you'd prefer to merge them all into a single commit please leave a note.
 What I did

Add RestartPolicy no to swagger docs
Add changes query parameter for imagecreate to swagger docs
Fix ContainerSummary swagger docs flattened
Use explicit object names for improved swagger based code generation otherwise generic names had been generated
Fix swagger docs to match the opencontainers imagespec

 How I did it
Used the . swagger.yaml with swagger's codegen to generate Java code. Used that code to perform requests to a . Docker engine. Applied some fixes and hackvalidateswagger and make swaggerdocs to validate the changes.
 How to verify it
Compare the actual . api with the swagger.yaml.
 Description for the changelog
Update the swagger.yaml to match the version . api.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor swarmkit bafacdaedbccedbbad;"To unblock .
Ping aaronlehmann aluzzardi.
Signedoffby Dong Chen dongluo.chendocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2236;daemon use object literal for stats;"Just a minor cleanup had this stashed locally so thought I might as well open a PR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove compose types.Dict alias;"It is just an alias type and make the code a little bit more complex and hard to use from outside compose package. It makes the composeinterpolation package indenpendent of the composetypes package which is a good thing ?æ?
cc dnephin AkihiroSuda thaJeztah cpuguy
?ªü
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2237;daemonconfig remove commonUnixBridgeConfig and CommonUnixConfig;"These types were added as part of the Solaris support because Solaris didn't support these options. Having these types added another layer of abstraction when reading the code making the code harder to read and more complicated to use.
Now that implementing support for Solaris has been abandoned and removed we can reintegrate these fields in the unix configuration.
See individual commits for details.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix stopstartrestart of detached container;"This PR fixes the issue where

Stopping a container which is not connected to any network does not remove its network namespace
Attempting to start or restart a container which is not connected to any network will fail with

Error response from daemon Cannot restart container fb oci runtime error containerlinux.go starting container process caused processlinux.go running prestart hook caused \error running hook exit status stdout stderr time\\\TZ\\\ levelfatal msg\\\no sandbox present for fbbaccefcacefeffae\\\ \\n\

Fixes 
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2238;replace pkgsignal with mobysyssignal v..;"This code was moved to the mobysys repository
relates to mobysys mobysys
relates to 
relates to containerdcontainerd
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing ?Çÿdocker cp?ÇÖ to allow new target file name in a host symlinked directory;"?Çÿdocker cp?ÇÖ fails with error ?Çÿnot a directory?ÇÖ if a file is copied from a container to a host symlinked directory with a new target filename.
The fix is to use os.Stat instead of os.Lstat since os.Stat follows the linked path.
Fixes Issue 
Signedoffby Douglas Curtis dougcurtisgmail.com

 What I did
pkgarchivecopy.go CopyInfoDestinationPath was using os.Lstat to determine whether or not the destination parent folder is a directory or not. After some experimentation with the ?Çÿos?ÇÖ package I found that FileInfo.IsDir returns false for a symlinked directory.
I changed os.Lstat to os.Stat in CopyInfoDestinationPath.
 How I did it
Code inspection led me to the CopyInfoDestinationPath. Once I noticed that os.Lstat was being used to determine directory status I performed some local experiments and found that IsDir does not report symlinked directories as true.
 How to verify it
After manually reproducing the steps provided I found a test gap in TestCpFromSymlinkDestination that missed the case of a new target file name to a symlinked directory. Adding the test case reproduced the failure in the automated testing environment.
After fixing the issue the test case passed as expected.
Manual functional test

Add a test file to a container
Use ?Çÿdocker cp?ÇÖ to copy the file to a symlink directory as a file name
Verify that the contents of ?Çÿtestfile?ÇÖ match ?Çÿnewfilename?ÇÖ

Results issueut.txt
 Description for the changelog

Added isDirectory method to detect symlink directories in CopyInfoDestinationPath to enable copying to a new target file name located in a symlinked host directory.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2239;updated namesgenerator.go for alphabetization;"re ordered some entries so they are in proper alphabetical order

 What I did
alphabetize some entries
 How I did it
github editor
 How to verify it
 Description for the changelog

Updated entries in namesgenerator.go for proper alphabetization
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Return proper exit code on builder panic;"Error was ignored if it wasn't in expected json format. Now returns unexpected EOF like the rest of the disconnect errors and sets exit code to .
fixes 
nathanleclaire
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2240;. vendor github.comMicrosofthcsshim abdacfcfcaadcfc moby branch;"equivalent of for . branch
Brings in microsofthcsshim which fixes .
full diff microsofthcsshimaab...ab
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add testcase for build arg without value;"From 
Issue itself fixed by 
nathanleclaire
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2241;Update hcsshim vendor to v..;"Full set of changes microsofthcsshimv.....v..
Importantly brings in microsofthcsshim
which fixes .
Signedoffby Kevin Parsons kevparmicrosoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cli Wrong error message from node ps outside swarm mode;"docker node ps behaves strangely outside swarm mode
 docker node ps
ID NAME IMAGE NODE DESIRED STATE CURRENT STATE ERROR PORTS
Error No such node

It should explain that the node is not a swarm manager.
The reason this happens is that the argument to docker node ps defaults
to self. The first thing the command does is try to resolve self to
a node ID using the info endpoint. If there is no node ID it tries to
use the empty string as an ID and tries to GET nodes which is not a
valid endpoint.
Change the command to check if the node ID is present in the info
response. If it isn't a swarm API endpoint can supply a useful error
message.
Also avoid printing the column headers if the only following text is an
error.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2242;Deprecate BuilderSize in API versions .;"Refs comment

 What I did
Ensure BuilderSize is not set for API versions .
 How I did it

Add a version check in the router
Add omitempty JSON tag
Document in version history doc

 How to verify it
curl s unixsocket varrundocker.sock httplocalhostsystemdf | jq

Should not show BuilderSize field
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update docker daemon deprecation message for new version scheme;"fixes 
ping aaronlehmann PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2243;Ensure empty build cache is represented as empty JSON array;"Closes Refs comment

 What I did
Ensure empty BuildCache field is represented as empty JSON array instead of null to be consistent with Images Containers etc.
 How I did it
Initialize the struct field with an empty slice if buildCache is nil.
Note the empty slice could be potentially defined as global variable and reused to avoid unnecessary allocations but that is an optimization not worth doing here in my opinion
 How to verify it
curl s unixsocket varrundocker.sock httplocalhostsystemdf | jq on empty daemon should output

 LayersSize 
 Images 
 Containers 
 Volumes 
 BuildCache 
 BuilderSize 

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Don't close client stdin handle to avoid hang;"Signedoffby John Howard VM jhowardmicrosoft.com
Fixes 
darrenstahlmsft johnstep PTAL.
TLDR Doing the same fix on Windows as the hack on Darwin in the client hijack. It's a different underlying cause looks like a platform bug on Windows but as the process is exiting anyway there's no need to explicitly close the handle. This avoids the client hanging under certain circumstances at the point it would be exiting.
Longer version
Duplicating the big comment from comment
Got this down to restoreTerminal not returning in win trying to close the processes stdin handle. There's an interesting comment in the code cli\command\container\hijack.go restoreTerminal
	 WARNING DO NOT REMOVE THE OS CHECK 
	 For some reason this Close call blocks on darwin..
	 As the client exists right after simply discard the close
	 until we find a better solution.

I'm going to extend the check to exclude Windows as that does fix it. It's almost certainly a different underlying cause to Darwin but just interesting nonetheless.
Some notes you only hit this if
a Using the native console not the vlegacy console
b You start the process in a new window. ie start docker run rm it microsoftnanoserver cmd s c echo foobar will hang docker run rm it microsoftnanoserver cmd s c echo foobar will be fine.
docker.exe is stuck in a CloseHandle ntdllZwClose in the following stack trace thread by the look of it. I'll follow up with the conhost folks.
 k

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 WARNING Unable to verify timestamp for e\go\src\github.com\docker\docker\bundles\docker.exe
 ERROR Module load completed but symbols could not be loaded for e\go\src\github.com\docker\docker\bundles\docker.exe
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc efc dockerxda
 fc dockerxafc

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 afc ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 afc da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 afcd ca dockerxda
 afcd xca
 afce x

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 cfdf ffe dockerxba
 cfe e KERNELSetEvent
 cfe eecd dockerxe
 cfe cfe dockerxaecd
 cfe ec xcfe
 cfe ce dockerxec
 cfe ce xce
 cfe xce
 cfe x
 cfe ce x
a cfe cfe xce
b cfe ef xcfe
c cfe ce dockerxef
d cfe xce
e cfe cfea x
f cfe c xcfea
 cfe ce xc
 cfe cfea xce
 cfe e xcfea
 cfe c dockerxe
 cfe xc
 cfea c x
 cfea cfed xc
 cfeb c xcfed
 cfeb eed dockerxc
 cfec c dockerxaed
a cfec ca xc
b cfed ce xca
c cfed cff xce
d cfee ef xcff
e cfee cd dockerxef
f cfef xcd

 Id .b Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 efd ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 efda da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 efe cab dockerxda
 efe cbd xcab
 efe xcbd
 efe d x
 efe bf xd
 efe cc dockerxbf
 efe xcc
 efe x
a efe x
b efe eecd dockerx
c efe dockerxaecd
d efe x

 Id .f Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc c dockerxda
 fc xc

 Id .d Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 cf ffeebff ntdllZwRemoveIoCompletionExx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 cfa da KERNELBASEGetQueuedCompletionStatusExxaf d\rs\minkernel\kernelbase\error.c 
 cf cf dockerxda
 cf cfe xcf
 cf cf xcfe
 cf cf xcf
 cf ffffffff xcf
 cf xffffffff

 Id .c Suspend Teb a Unfrozen
 ChildSP RetAddr Call Site
 fdb ffeac ntdllZwReadFilex d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fdc da KERNELBASEReadFilex d\rs\minkernel\kernelbase\filehops.c 
 fe dockerxda
 fe cf x
 fe xcf
 fe c x
 fe xc

 Id .a Suspend Teb c Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc cf dockerxda
 fc xcf

 Id . Suspend Teb e Unfrozen
 ChildSP RetAddr Call Site
 bfe ffeadfd ntdllZwClosex d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 bfe da KERNELBASECloseHandlex d\rs\minkernel\kernelbase\handle.c 
 bfe dockerxda
 bfe bfee x
 bfe xbfee
 bfe ca x
 bfe xca

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 dfb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 dfb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 dfc ce dockerxda
 dfc xce

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc ce dockerxda
 fc xce

 Id .b Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc c dockerxda
 fc xc
 fc x

 Id . Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc cb dockerxda
 fc xcb

 Id .b Suspend Teb Unfrozen
 ChildSP RetAddr Call Site
 fb ffeff ntdllZwWaitForSingleObjectx d\rs.obj.amdfre\minkernel\ntdll\daytona\objfre\amd\usrstubs.asm 
 fb da KERNELBASEWaitForSingleObjectExxf d\rs\minkernel\kernelbase\synch.c 
 fc cf dockerxda
 fc xcf

 Id .c Suspend Teb a Unfrozen
 ChildSP RetAddr Call Site
 ff ffeaeba ntdllDbgBreakPoint d\rs\minkernel\ntos\rtl\amd\debugstb.asm 
 ff ffe ntdllDbgUiRemoteBreakinxa d\rs\minkernel\ntdll\dlluistb.c 
 ff ffeadd KERNELBaseThreadInitThunkx d\rs\base\win\client\thread.c 
 ff ntdllRtlUserThreadStartx d\rs\minkernel\ntdll\rtlstrt.c 


And for completeness here's the matching docker stacks
dlv goroutines
 goroutines
 Goroutine User egosrcgithub.comdockerdockerclicommandcontainerrun.go github.comdockerdockerclicommandcontainer.runContainer xd
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimesigqueue.go ossignal.signalrecv xe
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User egosrcgithub.comdockerdockerpkgtermtermwindows.go github.comdockerdockerpkgterm.restoreAtInterrupt.func xa
 Goroutine User CGosrcruntimesyscallwindows.go syscall.Syscall xe
 Goroutine User CGosrcruntimesyscallwindows.go syscall.Syscall x
 Goroutine User egosrcgithub.comdockerdockerclicommandcontainerutils.go github.comdockerdockerclicommandcontainer.waitExitOrRemoved.func. xeb
 Goroutine User CGosrcruntimenetpoll.go net.runtimepollWait xf
 Goroutine User CGosrcnethttptransport.go nethttp.persistConn.writeLoop xf
 Goroutine User CGosrcruntimeasmamd.s runtime.asmcgocall xb
 Goroutine User CGosrcnethttptransport.go nethttp.persistConn.readLoop xc
 Goroutine User CGosrcnethttptransport.go nethttp.persistConn.writeLoop xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimetime.go time.Sleep xb
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User CGosrcruntimeproc.go runtime.gopark xf
 Goroutine User egosrcgithub.comdockerdockerclicommandcontainerhijack.go github.comdockerdockerclicommandcontainer.holdHijackedConnection xc
 Goroutine User CGosrcruntimenetpoll.go net.runtimepollWait xf

dlv goroutine 
Switched from to thread 
dlv bt
 xb in runtime.asmcgocall
 at CGosrcruntimeasmamd.s
 xa in runtime.cgocall
 at CGosrcruntimecgocall.go
 xe in syscall.Syscall
 at CGosrcruntimesyscallwindows.go
 x in syscall.CloseHandle
 at CGosrcsyscallzsyscallwindows.go
 xbdec in os.file.close
 at CGosrcosfilewindows.go
 xbbee in os.File.Close
 at CGosrcosfilewindows.go
 xed in github.comdockerdockerclicommand.InStream.Close
 at egosrcgithub.comdockerdockerclicommandin.go
 xea in github.comdockerdockerclicommandcontainer.restoreTerminal
 at egosrcgithub.comdockerdockerclicommandcontainerhijack.go
 xdea in github.comdockerdockerclicommandcontainer.holdHijackedConnection.func.
 at egosrcgithub.comdockerdockerclicommandcontainerhijack.go
 xebf in sync.Once.Do
 at CGosrcsynconce.go
 xea in github.comdockerdockerclicommandcontainer.holdHijackedConnection.func
 at egosrcgithub.comdockerdockerclicommandcontainerhijack.go
dlv

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2244;seccomp Sync fields with runtimespec fields;"The runtime spec we are using has support for these fields but
moby doesn't have them in its seccomp struct. This patch just adds and
copies them when they are in the profile.
DefaultErrnoRet is implemented in the runc version moby is using it is
implemented since runcrc but if we create a container without
this moby patch we don't see an error nor the expected behavior. This
is not clear for the user the profile they specify is valid the syntax
is ok but the wrong behavior is seen.
This is because the DefaultErrnoRet field is not copied to the config
passed ultimately to runc i.e. is like the field was not specified.
With this patch we see the expected behavior.
The other two fileds are in the runtimespec but not yet in runc a PR
is open and targets .. milestone. However I took the liberty to
copy them now too for two reasons


If we don't add them now and end up using a runc version that
supports them then the error that the user will see is not clear at
all
docker Error response from daemon OCI runtime create failed containerlinux.go starting container process caused listenerPath is not set unknown.


And it is not obvious to debug for the user as the field is set in
the profile they specify just not copied by moby to the profile moby
specifies ultimately to runc.


When using a runc without seccomp notify support like today the
error we see is the same with and without this moby patch when using a
seccomp profile with the new fields
docker Error response from daemon OCI runtime create failed string SCMPACTNOTIFY is not a valid action for seccomp unknown.


Then it seems like a clear win to add them now we don't have to do it
later that implies not clear errors to the user if we forget like we
did with DefaultErrnoRet and the user sees the exact same error when
using a runc version that doesn't support these fields.
 Note we are vendoring version cffbbeecfffeea and this version has these fields httpsgithub.comopencontainersruntimespecblobcffbbeecfffeeaconfiglinux.mdseccomp
 opencontainersrunc
 opencontainersrunc
Signedoffby Rodrigo Campos rodrigokinvolk.io

 What I did
Sync moby struct seccomp fields with runtimespec seccomp fields. This makes DefaultErrnoRet field in the seccomp spec work and prepares for other runc changes in the future.
 How I did it
Added the fields to the moby struct and copied them.
 How to verify it
I tested this with runc . compiled locally but should work with runcrc too.
Download the attached seccompdefaulterrno.txt let's say you save it as tmpseccompdefaulterrno.txt.
Then you should expect the following when running dockerd with this patch
docker run rm it securityopt seccomptmpseccompdefaulterrno.txt debian mkdir a
mkdir cannot create directory 'a' No such device or address

This is because the seccomp profile is using errno 
 errno 
ENXIO No such device or address

If you run dockerd without this patch you should see EPERM the DefaultErrnoRet option is ignored without this patch and therefore it defaults to EPERM
 docker run rm it securityopt seccomptmpseccompdefaulterrno.txt debian mkdir a
mkdir cannot create directory 'a' Operation not permitted

 Description for the changelog

Honor DefaultErrnoRet in seccomp profile
 A picture of a cute animal not mandatory but encouraged
Of course I chose a rat ?ÿä

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";builder Refactor remote context;"depends on 
only new commit tonistiigidockernestedbuild...remotecontext
The builder currently seems to depend on Context interface that could be reimplemented to provide different types of sources. In reality there is only one context tarsum. That is because the real functionality for context is finding hashes for paths for cache and tarsum is the only context that can do that. Others are just helpers for making tarsum context from other inputs.
Context interface hides direct access to the paths with .Path method in builder.FileInfo. Actual copy only happens through real paths and doesn't have anything to do with context methods.
File hash capability is the main reason Context exists but that capability is completely missing from the interface. The implementation just recasts builder.FileInfo to builder.Hashed and would panic if they don't match.
Context and Dockerfile are mixed together and builder tries to separate them while it is running. That means recasts to ModifiableContext and DockerIgnorContext. Every context passed to builder is always DockerIgnoreContext but there is nothing predicting that from the function's signature. This has a TODO but there is no way to fix that without separating these concerns.
There are also actual bugs that can't be fixed like hardlink handling because the implementation is fixed to Tarsum.
This PR changes the dependent interface to something that better matches the reality. Source is a path from a host and a capability to calculate hashes for paths.
It also renames Context to Source so that it doesn't collide with context.Context.
This enables following features


Cache hashing can be separated from the tarsum package. Raw tar headers are not the correct way calculate file hashes. For example hardlinks are completely broken because of that httpsgist.github.comtonistiigicbdbddf . This does not mean breaking the compatibility in noncritical places yet as we don't want to invalidate people's cache.


Alternative implementations can be used for defining the remotes. Previous implememtation was centric to specific tar behavior.


No .dockerignore magic needs to be implemented for the other implementations. For example does not need to worry about this at all.


Follow up


Hashes for directories shouldn't be calculated by the builder. They should be provided same way as they are for the files.


Move all Remote implementations and detection into a separate package. Done


Remove ModifiableContext. This is now only needed on source detection phase and Remove function can be directly called on the remote's implementation. Done


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2245;. backport API fix status description on container create;"backport of and 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";example of ADD and COPY with special characters file name;"Signedoffby Foysal Iqbal foysal.iqbal.fbgmail.com

 What I did
Add an example for COPY and ADD command in the docs
 How I did it
Modify the docsreferencebuilder.md file
 How to verify it
Created a docker image with the following exmaple
FROM dockerwhalesaylatest
COPY arr.txt 
ADD ar.txt 
CMD bash c ls la .txt
And verified these two files are coped into the container
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2246;Only check if route overlaps routes with scope LINK;"closes 
partially addresses 
Signedoffby Alex Nordlund alexander.nordlundnasdaq.com
This implements the solution mentioned in and while it doesn't close that specific issue since it's technically two different issues it does remove one of the issues which may lead people there. and should close 
See comment for a great explanation.
But in my case we are using split VPN and we have routes set by our network team to make sure that docker works unfortunately the fact that they set the routes also makes docker think the network is currently in use and prevents us from using it in the defaultaddresspools.
 What I did
I added a network.Scope netlink.SCOPELINK check to the route overlapping check.
 How I did it
 How to verify it
 Description for the changelog
When checking for overlapping routes on Linux only consider ones where the scope is LINK
 A picture of a cute animal not mandatory but encouraged
Here's the dog I live with silently judging our VPN situation at a safe distance

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add note regarding Windows VOLUME limitations;"What I did
I added a note regarding some limitations of Docker volumes on Windows to the builder documentation under the VOLUME header per .
 How I did it
With the uncontested greatest editor of all time vim.
 How to verify it
NA
 Descripti";0
2247;API fix status description on container create;"This updates the current swagger file and all docs versions with the same fix as ffda 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump go connections for . and use either system pool or custom CA pool when connecting from clientdaemon .;"When connecting to a daemon from the client if custom CA certs are provided for a daemon trust ONLY those CA certs and not the system cert pool. If no custom CA certs are provided then trust the system cert pool.
This bumps the goconnections dependency to a version that supports a flag that specifies that the cert pools should be exclusive. Differs from in that this version of goconnections contains ONLY the exclusive pool flag change so is not the latest goconnections change.
Should also address for the case where a windows client is connecting to a remote docker via mTLS for example when using dockermachine
PS C\Users\cyli .\Desktop\docker..cerc.exe ps
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS
NAMES
PS C\Users\cyli docker ps
timeT levelinfo msgUnable to use system certificate pool cryptox system root pool is
 not available on Windows
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS
NAMES
PS C\Users\cyli


cc vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2248;. backport Dockerfile update goswagger to fix validation on Go.;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Remove credentialspec flag;"Signedoffby John Howard VM jhowardntdev.microsoft.com
johnstep As per offline discussion.
 comment this flag was supposed to have been removed from the CLI but wasn't. Specifically runconfigoptsparse.go in that PR it's moved in the codebase now. This flag isn't wired up to anything and never has been.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2249;hacktestunit run libnetwork tests sequentially;"What I did
Run libnetwork tests sequentially. See comment for explanation.
Closes maybe more
Note that many tests in libnetwork... already depend on the assumption that they are run sequentially and do not easily support things like";Update system df docs to call out performance implications;"Signedoffby Wayne Song wsongdocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2250;Dockerfile update goswagger to fix validation on Go.;"depends on kolyshkingoswagger
relates to 
temporarily using my fork to test this in CI
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Cherrypick Windows Fix Docker hanging with named pipes and stdin;"Fixes 
cherrypick of 
Vendor a fork of Microsoftgowinio that has this PR microsoftgowinio
merged
cc vieux thaJeztah dgageot
Signedoffby David Gageot davidgageot.net
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2251;. backport Run sx tests on Ubuntu .;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add reference filter to the list of available filters;"The reference filter is documented in the file but is not present
in the list of available filters.
cc thaJeztah mstanleyjones
?É»
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2252;Fix use of unsafe ptr;"Signedoffby Adam Williams awilliamsmirantis.com
 What I did
Fix unsafe pointer conversion. Fixes issue 
 How I did it
Refactor to just create an array of random bytes instead of int's and converting to bytes.
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";profiles seccomp allow clocksettime when CAPSYSTIME is added;"This will allow commands like
 docker run rm capadd systime registry.access.redhat.comrhel date 
cc justincormack
Signedoffby Antonio Murdaca runcomredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2253;Reduce TestClientWithRequestTimeout flakiness;"hopefully addresses part of 
The test sometimes failed because no error was returned
 Failed
 FAIL pkgplugins TestClientWithRequestTimeout .s
 clienttest.go assertion failed expected an error got nil expected error

Possibly caused by a race condition as the sleep was just ms longer than the timeout
this patch is increasing the sleep in the response to try to reduce flakiness.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Fix Docker hanging with named pipes and stdin;"Fixes 
Vendor a fork of Microsoftgowinio that has this PR microsoftgowinio merged.
Using this fork makes it possible to include the fix soon in docker cli and battle test it in Docker for Windows where it fixes httpsgithub.comdockerpinataissues.
Signedoffby David Gageot davidgageot.net
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2254;Run sx tests on Ubuntu .;"carry 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Fix reference counting in graphdriver;"Signedoffby Darren Stahl darstmicrosoft.com

 What I did
Fixed graphdriver reference counting for mounted layers on Windows
 How I did it
Windows graphdriver made the assumption that Unmount was not called on a failed Mount. This resulted in extra failures and bad reference counting when PrepareLayer failed. Found while investigating 
 How to verify it
In the case of a PrepareLayer failure manual verification shows that UnprepareLayer is no longer called and as such no longer fails
cc jhowardmsft jstarks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2255;fix potential goroutine leak by making channel nonblocking;"What I did
Fixing a potential deadlock by making unbuffered channel to buffered channel.
 How I did it

 
 
 mobycontainerstatetest.go
 
 
 Lines to 
 in
 dfc
 
 
 
 

 
 
";Fixing a small typo in compose loader package;"?É»
cc thaJeztah dnephin cpuguy AkihiroSuda
?ªü
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2256;file mkimagerinse.sh has been abort should modify the script annotation;"Signedoffby dingwei dingweicmss.chinamobile.com

 What I did
delete the annotation of script
 How I did it
delete the annotation of script
 How to verify it
 Description for the changelog

there is no file named mkimagerinse.sh in contrib floder should delete it
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix misspell in utils.go;"What I did
fix misspell something in utils.go
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
Signedoffby Helen Xie chenjgharmonycloud.cn
 
 
 
";0
2257;libnetwork processEndpointCreate Fix deadlock between getSvcRecords and processEndpointCreate;"Another similar case occured with a fixed build. Removed holding multiple locks for processEndpointCreate aswell.
In terms of lock hierarchy I also thought about locking n.ctrlr.Lock before n.Lock in
getSvcRecords to possibly prevent other cases where the locking can't be split like here e.g. both looks need to be held.
But that might be not wanted because of data races accessing networks data before its locked.
If the controller of a network cant change it probably would be prefered though.
References 
thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixedgo vetting warning unkeyed fields;"Signedoffby Aaron.L.Xu liker.xufoxmail.com

 What I did
 How I did it
Introducing go tool vet
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2258;. backport update runc binary to v.. GA;"backport of 
opening as draft because

 is not merged yet
 wait for a containerd v.. release
 wait for a containerd.io .. package release to make sure that our static binaries do not ship with a different version of runc than our debrpm packages

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix 'Specify a Dockerfile f' heading in Engine CLI Docs.;"What I did
Fixed broken Markdown header in Engine CLI Build doc.
 How I did it
Added a newline above the header.
 How to verify it
Look at the generated docs. 
 Description for the changelog
Fix broken Markdown header for Engine CLI Build d";0
2259;registry remove const for 'DockerDistributionApiVersion' header;"noticed this when looking at dockercli
This header was used for fallbacks to v registries but it's no longer used since and marked optional legacy in the OCI distributionspec
httpsgithub.comopencontainersdistributionspecblobv..spec.mdlegacydockersupporthttpheaders

Because of the origins this specification the client MAY encounter
Dockerspecific headers such as DockerContentDigest or
DockerDistributionAPIVersion. These headers are OPTIONAL and
clients SHOULD NOT depend on them.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Johannes Kepler and Mary Jackson to name generator;"Signedoffby cooltoast mpatelgmail.com
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2260;Make validate flag description more generic;"Update the validate flag description to be more generic as it validates the combination of flags if set and the configuration file.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";When authz plugin is disabled remove from authz middleware chain.;"When the daemon is configured to run with an authorizationplugin and if
the plugin is disabled the daemon continues to send API requests to the
plugin and expect it to respond. But the plugin has been disabled. As a
result all API requests are blocked. Fix this behavior by removing the
disabled plugin from the authz middleware chain.
Tested using riyazauthznovolumeplugin and observed that after
disabling the plugin API requestresponse is functional.
Fixes 
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2261;. vendor swarmkit to fix deadlock in log broker bump.;"?ìÆ 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows graph cleanup 'removing';"Signedoffby John Howard VM jhowardntdev.microsoft.com
darrenstahlmsft PTAL. Adds code to the graphdriver cleanup to delete any leftover removing directories. These might remain on disk if a previous daemon instance was killed without a chance to cleanup.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2262;Add type parameter to systemdf;"What I did
Add type parameter to systemdf
 How I did it
Internally allow more finegrained control over choice of objects to compute disk usage from add types URL parameter.
 How to verify it
 docker run alpine or create a container in any other";Bash completion for docker node update completes only one node;"docker node update accepts only one node
 docker node update help | grep Usage
Usage docker node update OPTIONS NODE
Before this change bash completion would complete additional nodes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2263;contrib remove reportissue.sh script;"As discussed in 
I don't think this script was really used and now that GitHub has issue templates it will diverge from the template we have configured so better to remove it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve bash completion for docker rm;"This PR applies the idea behind to bash completion
docker rm can delete containers in statecreated too.
Thus bash completion for docker rm should complete created containers as well.
Thanks ngaro for catching this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2264;Fix cross compilation in Jenkinsfile;"This is the first commit from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";improve error of docker network create d overlay on nonSwarm node;"What I did
Improved the error of docker network create d overlay on nonSwarm node.
before Error response from daemon datastore for scope global is not initialized
after Error response from daemon This node is not a swarm manager. Use docker swa";0
2265;Fix SharedSize computation in ImageService.Image for filtered requests;"What I did

Refactor ImageService.Images for clarity
Minimize allocations by specifying known data structure capacities
Fix SharedSize computation for filtered image queries prerequisite for 

 How I did it
Partially applied thaJeztahee a";specify max size for secret in doc;"Signedoffby allencloud allen.sundaocloud.io
I think we should explain the max size for secret in docs since it has been specified in httpsgithub.comdockerswarmkitblobmastermanagercontrolapisecret.goL
 What I did

specify max size for secret in doc

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2266;libnetwork processEndpointDelete Fix deadlock between getSvcRecords and processEndpointDelete;"We had some hosts with quite a bit of cycling containers that ocassionally causes docker daemons to lock up.
Most prominently docker run commands do not respond and nothing happens anymore.
Looking at the stack trace the following is at least likely sometimes a cause to that
Two goroutines g and g can race against each other

g . getSvcRecords is called and calls network.Lock
 Network is locked.
g . processEndpointDelete is called and calls controller.Lock
 Controller is locked
g . processEndpointDelete tries network.ID which calls network.Lock.
g . getSvcRecords calls controller.Lock.

.. are deadlocked against each other since the other goroutine holds the lock they need.
References very similar issue
httpsgithub.commobylibnetworkblobbdcdbefaceebbddafnetwork.go mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Wait to unmount propagatedmount before marking plugin as disabled.;"TestPluginTrustedInstall revealed a race in the plugin shutdown logic
where the exit channel signal was sent even before the propagated mounts
were unmounted. If the same plugin was enabled it would try to setup
propagated mounts before it was unmounted resulting in errors.
This change fixes the behavior by waiting until the unmount completes on
disable before marking the plugin as disabled.
Fixes 
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2267;use defer to unlock mutex;"use defer to unlock mutex clean up
Signedoffby Anyu Wang wanganyuoutlook.com

 What I did
source code clean up
 How I did it
use defer to unlock mutex
 How to verify it
NA
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cherrypick update servicecreate.md;"cherrypick fee into master
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2268;Fix typo in macvlansetup.go;NOM;docs Fix incorrect docker inspect example;"Fixed incorrect docker inspect example in docs.
Verify by running the old and new commands.
fixes 
Signedoffby David Xia dxiaspotify.com

 What I did
Fixed incorrect docker inspect example in docs.
 How I did it
By editing the doc
 How to verify it
Verify by running the old and new commands.
 Description for the changelog
Fixed incorrect docker inspect example in docs.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2269;Various libnetwork cleanups;"See commits for details.
Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. cherry pick Fix compose schema id for v.;"cherrypick eaeee into the ..x branch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2270;. backport Fix possible overlapping IPs;"?ìÆ 
 What I did
Fix a possibility where overlapping IP addresses could exist as a result of the node failing to clean up its old loadbalancer IPs.
Fixes 
A node is no longer using its load balancer IP address when it no longer
has tasks that use the network that requires that load balancer. When
this occurs the swarmkit manager will free that IP in IPAM and may
reassign it.
When a task shuts down cleanly it attempts removal of the networks it
uses and if it is the last task using those networks this removal
succeeds and the load balancer IP is freed.
However this behavior is absent if the container fails. Removal of the
networks is never attempted.
To address this issue I amend the executor. Whenever a node load
balancer IP is removed or changed that information is passed to the
executor by way of the Configure method. By keeping track of the set of
node NetworkAttachments from the previous call to Configure we can
determine which if any have been removed or changed.
At first this seems to create a race by which a task can be attempting
to start and the network is removed right out from under it. However
this is already addressed in the controller. The controller will attempt
to recreate missing networks before starting a task.
Signedoffby Drew Erny dernymirantis.com
cherry picked from commit dbed
Signedoffby Ameya Gawde agawdemirantis.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";api Remove SecretRequestOption type;"This type is only used by CLI code. It duplicates SecretReference in the typesswarm package. Change the CLI code to use that type instead.
cc dnephin ehazlett vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2271;vendor swarmkit to fix deadlock in log broker.;"Revendors swarmkit to fix a deadlock in the log broker. Closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix compose schema id for v.;"This doesn't seem to break anything right now but it's good to get it fixed either way.
cc vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2272;replace uses of deprecated containerdsys.RunningInUserNS;"This utility was moved to a separate package which has no dependencies.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix zshcompletion for containers in status 'created';"This patch makes sure that containers in the createdstated are
counted as stopped containers. Otherwise if you create a container
don't run it and type docker rm followed by pressing tab in zsh it won't show up.
Signedoffby Nikolas Garofil nikolas.garofiluantwerpen.be
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2273;pkgsystem remove deprecated things and move and deprecate more;"pkgsystem remove deprecated GetOSVersion consts SecurityInfo utils.
This removes the deprecated wrappers. These were no longer used in our code
and were deprecated in the . release giving external consumers to replace
the deprecated ones.
Note that there are two consts for which there is no replacement in golang.orgxsys
const 
 PROCESSTRUSTLABELSECURITYINFORMATION x
 ACCESSFILTERSECURITYINFORMATION x


PROCESSTRUSTLABELSECURITYINFORMATION is documented as reserved and I could
not find clear documentation about ACCESSFILTERSECURITYINFORMATION so not sure
if they must be included in golang.orgxsys httpsdocs.microsoft.comenusopenspecswindowsprotocolsmsdtypecafdecddd
pkgsystem remove unused system.Unmount utility
On LinuxUnix it was just a thin wrapper for unix.Unmount and a noop on Windows.
This function was not used anywhere also not externally so removing this without
deprecating first.
pkgsystem deprecate some consts and move them to pkgidtools
These consts were used in combination with idtools utilities which
makes it a more logical location for these consts to live.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for service ls filter mode;"Bash completion for .
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2274;Add support for sharedsize parameter for images queries;NOM;Use generic handler for pprof profile lookups;"This more in spirit mimics the handler usage in nethttppprof.
It also makes sure that any new profiles that are added are
automatically supported e.g. mutex profiles in go..
Signedoffby Brian Goff cpuguygmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2275;docs fix image name in testing guide;"What I did
I followed the contributing guide and encountered a few issues.
Note this also did not work out for me

 
 
 mobydocscontributingsetupdevenv.md
 
 
 Lines to 
 in
 eca
 
 
 
 

";fix a typo;"when i was using
docker search automated s nginx
told me
Flag automated has been deprecated use filterautomatedtrue instead
Flag stars has been deprecated use filterstars instead
and when i use
docker search filterautomatedtrue filterstars nginx
told me
Error response from daemon Invalid filter 'automated'
and i found out that the correct command should be
docker search filterisautomatedtrue filterstars nginx

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2276;Jenkinsfile add stage for Windows on containerd;"followup to 
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile move comments to fix build error;"What I did
I've moved a block of comments out of a group of shell commands.
I was getting an error message which said unknown instruction .
 How to verify it
Use an older Docker version to check if you run into build errors
without this patch.
 De";0
2277;Jenkinsfile update Windows insider to latest tag ...;"Tags can be found at httpsmcr.microsoft.comvwindowsservercoreinsidertagslist
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for node|service|stack ps format;"Bash completion for 

docker node|service|stack ps format
docker node|stack ps quiet|q

Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2278;Crosscompilation for sx and ppcle;NOM;Add bash completion for update cpus;"Bash completion for .
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2279;Remove LCOW step volumesmounts remove LCOW code alternative;"relates to part of 
alternative for 
closes 
This alternative to preserves the LCOW parsing code for mounts in case we will be using LCOW using containerd's LCOW implementation. By default a native parser is now used matching the host and thus container's platform.
After taking care of the above tests have also be split to be perdriver and some refactoring to improve the tests being able to run them parallel.
details below
volumemounts move some code to correct location and minor lintingformatting

Remove the windowsparser.HasResource override as it was the same on both
Windows and Linux
Move the rxLCOWDestination to the lcowParser code
Move the rwModes variable to a generic nonplatformspecific file as it's
used both for the windowsParser and the linuxParser
Some minor formatting and linting changes

volumemounts remove containerOS argument from NewParser LCOW code
This changes mounts.NewParser to create a parser for the current operatingsystem
instead of one specific to a possibly nonmatching in case of LCOW OS.
With the OSspecific handling being removed the OS parameter is also removed
from daemon.verifyContainerSettings and various other containerrelated
functions.
Split tests per parser
Have tests perparser instead of grouping all tests in a single test with a
testset for each parser inside that test. All tests have been kept at the
cost of some duplication in the testcases that overlapped were the same
for multiple parsers.
Add constructors for each parser
This adds constructors for the Linux Windows and LCOW to allow using these
parsers externally instead of only through NewParser.
Don't use global variable for fileinfoprovider
The code used a global packagelevel currentFileInfoProvider that was used
to stub the actual fileInfoProvider during tests. Using a packagelevel variable
for this could cause issues when trying to run tests in parallel as well as
making the tests more complicated tests had to reset the provider in a defer.
Now that we have a constructor for each driver we can set up the fileinfoprovider
in those constructors and stub the implementation for specific instances instead
of globally.
Use subtests and use gotest.tools
These tests were running many testcases which required a lot of glue code to
construct useful errors if one of those failed.
Using regular subtests instead to make debugging easier and use gotest.tools
to take care of useful errors.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update servicecreate.md;"typo

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2280;Adjust buildmode comment to link to commit;"This should make sure the link is still meaningful if that file drastically changes which should make it easier to trace where the interesting block of code moved to and how it changes over time.
Also add TODO items for Go . and . where we can pie more builds.
This is a very minor followup to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Vendor swarmkit da;"This brings in two fixes from swarmkit for .

scheduler Fix accounting when task ends up in multiple groups dockerswarmkit
scheduler Correctly count tasks at bottom level of decision tree dockerswarmkit

The first fix is included in .. and the second fix is for the new topologyawareness feature which was not included in any previous releases so I'm not sure a changelog entry is necessary. Please let me know if I should add one.
cc vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2281;ReplaceFileTarWrapper permit to override file name;"What I did
Just permit to override the tarHeader with a different name if it's needed. Normal behavior is unchanged. This permits to override the name with a custom callback.
 How to verify it
We have a test unit under the luet project.
httpsgithub.";fix bash error in release.sh;"ping tianon andrewhsu
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2282;don't use buildmodepie on ppc;"What I did
made sure buildmodepie is not passed on ppc bigendian
 How I did it
added exception in hackmake.binary
It's already omitted for ppc in
hackdockerfileinstallinstall.sh
not using wildcard because GOARCHppcle supports pie
 Ho";improve semantics of utility function in clicommandservice;"Signedoffby Gaetan de Villele gdevillelegmail.com
 What I did
I changed the signature of the addServiceFlags function in clicommandserviceopts.go
I replaced the cobra.Command param by a pflag.FlagSet param as the function doesn't need a cobra.Command struct. This makes it more reusable IMO.
?É¿
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2283;Bump swarmkit to get fix for rollback failure;"fixes 

 What I did
Update swarmkit for fix for issue 
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Fail fs ops on running HyperV containers gracefully;"Signedoffby John Howard VM jhowardntdev.microsoft.com
thaJeztah Fixes 
Note can't do a CI test for this as CI doesn't support HyperV containers on the Azure hosts. Manual verification with the daemon set to run with default isolation of HyperV.
PS E\go\src\github.com\docker\docker docker run d rm microsoftnanoserver ping t ...
fddacdadfccbcdacbbfcdbcfddbd
PS E\go\src\github.com\docker\docker docker cp fdc\dockerfile e\dockerfile
Error response from daemon filesystem operations against a running HyperV container are not supported
PS E\go\src\github.com\docker\docker

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2284;libnetwork more cleanups;"migrated from mobylibnetwork
closes mobylibnetwork

windows remove redundant init
driversbridge dont use types.ParseCIDR for fixed value
driversbridge format comments

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Planned . deprecation email from login;"revert 
It's planned to be removed in ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2285;Remove LCOW step remove layerstore indexing by OS used for LCOW;"splitting off from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgarchivediff.go avoid redundant options init;"What I did
I've removed one redundant initialization of TarOptions. It was already initialized above.
 How I did it
I've deleted three lines of code.
 How to verify it
The code above already initializes TarOptions. There's nothing which resets it to m";0
2286;libnetworkportmapper some minor cleaning up;"closes mobylibnetwork
migrated from mobylibnetwork using
git checkout b proxycleanup upstreammaster
PRNUMBER curl fsSL httpspatchdiff.githubusercontent.comrawmobylibnetworkpull.patch | git am way S directorylibnetwork

portmapper don't compile linuxonly code on Windows
portmapper minor linting fix and comment purpose of newProxy variable
portmapper change userlandProxyCommandName to a const
it's not overridden anywhere so may as well be a const
portmapper move mockProxyCommand to a test file
No need to vendor this file in other projects and it's only used during tests.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Resolve a set of race conditions in logging and attaching code;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2287;vendor mobyterm Azuregoansiterm for golang.orgxsyswindows compatibility;"Relates to

mobyterm Invalid Standard Handle Panic on Windows Server 
dockerforwin Invalid standard handle identifier since .. update
dockercli window cmd run docker v error

Changes

winterm GetStdFile Added compatibility with golang.orgxsyswindows
winterm fix GetStdFile falltrough
update deprecation message to refer to the correct replacement
add go.mod
Fix int overflow
Convert int to string using rune

full diff

mobytermbeabbe...fff
Azuregoansitermdeb...ddfc

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Update containerd to version ecefdcadbfddeae;"This fixes an issue preventing containerd from starting if the state
directory didn't exist already.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

diff git acontainerdmain.go bcontainerdmain.go
index ffef..dda 
 acontainerdmain.go
 bcontainerdmain.go
 func main 
 
 
 func daemoncontext cli.Context error 
 stateDir context.Stringstatedir
 if err os.MkdirAllstateDir err nil 
 return err
 
 s makechan os.Signal 
 signal.Notifys syscall.SIGTERM syscall.SIGINT
 Split the listen string of the form protoaddr
 func daemoncontext cli.Context error 
 return err
 
 sv err supervisor.New
 context.Stringstatedir
 stateDir
 context.Stringruntime
 context.Stringshim
 context.StringSliceruntimeargs
diff git asupervisorsupervisor.go bsupervisorsupervisor.go
index efdd..ab 
 asupervisorsupervisor.go
 bsupervisorsupervisor.go
 const 
 New returns an initialized Process supervisor.
 func NewstateDir string runtimeName shimName string runtimeArgs string timeout time.Duration retainCount int Supervisor error 
 startTasks makechan startTask 
 if err os.MkdirAllstateDir err nil 
 return nil err
 
 machine err CollectMachineInformation
 if err nil 
 return nil err
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2288;. backport Jenkinsfile skip ppcle and sx by default on pull requests;"backport of 
This changes CI to skip these platforms by default. The ppcle and sx
machines are pet machines configuration may be outdated and these
machines are known to be flaky.
Building and verifying packages for these platforms is being handed
over to the IBM team.
We can still run these platforms for specific pull requests by selecting
the checkboxes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";.. Update containerd to version abfebcacfadffcc;"This fixes an issue preventing containerd from starting if the state
directory didn't exist already.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

diff git acontainerdmain.go bcontainerdmain.go
index bdde..cfbd 
 acontainerdmain.go
 bcontainerdmain.go
 func main 
 
 
 func daemoncontext cli.Context error 
 stateDir context.Stringstatedir
 if err os.MkdirAllstateDir err nil 
 return err
 
 s makechan os.Signal 
 signal.Notifys syscall.SIGTERM syscall.SIGINT
 Split the listen string of the form protoaddr
 func daemoncontext cli.Context error 
 return err
 
 sv err supervisor.New
 context.Stringstatedir
 stateDir
 context.Stringruntime
 context.Stringshim
 context.StringSliceruntimeargs
diff git asupervisorsupervisor.go bsupervisorsupervisor.go
index efdd..ab 
 asupervisorsupervisor.go
 bsupervisorsupervisor.go
 const 
 New returns an initialized Process supervisor.
 func NewstateDir string runtimeName shimName string runtimeArgs string timeout time.Duration retainCount int Supervisor error 
 startTasks makechan startTask 
 if err os.MkdirAllstateDir err nil 
 return nil err
 
 machine err CollectMachineInformation
 if err nil 
 return nil err
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2289;Remove LCOW step daemon remove graphdriver indexing by OS;"splitting off from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update containerd to version ecefdcadbfddeae;"This fixes an issue preventing containerd from starting if the state
directory didn't exist already.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

diff git acontainerdmain.go bcontainerdmain.go
index ffef..dda 
 acontainerdmain.go
 bcontainerdmain.go
 func main 
 
 
 func daemoncontext cli.Context error 
 stateDir context.Stringstatedir
 if err os.MkdirAllstateDir err nil 
 return err
 
 s makechan os.Signal 
 signal.Notifys syscall.SIGTERM syscall.SIGINT
 Split the listen string of the form protoaddr
 func daemoncontext cli.Context error 
 return err
 
 sv err supervisor.New
 context.Stringstatedir
 stateDir
 context.Stringruntime
 context.Stringshim
 context.StringSliceruntimeargs
diff git asupervisorsupervisor.go bsupervisorsupervisor.go
index efdd..ab 
 asupervisorsupervisor.go
 bsupervisorsupervisor.go
 const 
 New returns an initialized Process supervisor.
 func NewstateDir string runtimeName shimName string runtimeArgs string timeout time.Duration retainCount int Supervisor error 
 startTasks makechan startTask 
 if err os.MkdirAllstateDir err nil 
 return nil err
 
 machine err CollectMachineInformation
 if err nil 
 return nil err
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2290;libnetworkendpoint remove redundant doUpdateHostsFile function;"replaces mobylibnetwork
closes mobylibnetwork
The second sandbox argument was unused and it was only
used in a single location so we may as well inline the
check.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ignore layer does not exist error from docker images;"Fix 
As we can see in daemon.Images there is a gap between
allImages daemon.imageStore.Map and l err daemon.layerStore.GetlayerID so images which still exist when we hit
allImages daemon.imageStore.Map may have already been deleted when we hit
l err daemon.layerStore.GetlayerID.
	if danglingOnly 
 	allImages daemon.imageStore.Heads
	 else 
 	allImages daemon.imageStore.Map
	

	...

	for id img range allImages 
		...

		layerID img.RootFS.ChainID
 	var size int
	 if layerID 
 	 l err daemon.layerStore.GetlayerID
 	if err nil 
 	return nil err
 	

ping coolljt
Signedoffby Yuanhong Peng pengyuanhonghuawei.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2291;libnetworkportallocator various cleanups remove init;"relaces mobylibnetwork
closes mobylibnetwork


portallocator use const for default portranges instead of init


portallocator minor refactor for readability


portallocator log instead of discard portrange failures
Both getDynamicPortRange and sanitizePortRange could produce and error and the error message was currently discarded silently falling back to using the default port range. This patch

Moves the fallback message from getDynamicPortRange to getDefaultPortRange which is where the actual fallback occurs.
Logs the fallback message and the error that causes the fallback.

The messageerror is currently printed at the INFO level but could be raised to a WARN depending on what kind of situations can cause the error.


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x deprecation and changelog updates;"Interacting with V registries is not yet disabled by default so moving the deprecation version
Added various entries to the changelog and moved some to a different section

ping vieux PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2292;libnetworkbridge remove unused others argument from isolateNetwork;"replaces mobylibnetwork
closes mobylibnetwork
This argument was used to detect conflicts but was later removed in mobylibnetworkcbc mobylibnetwork carry of mobylibnetwork.
However it was never removed and we were still getting a list of all networks without using the results.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rename projectCONTRIBUTORS.md projectCONTRIBUTING.md;"Signedoffby Manjunath A Kumatagi mkumatagin.ibm.com

 What I did
Renamed file projectCONTRIBUTORS.md projectCONTRIBUTING.md
 How I did it
 How to verify it
 Description for the changelog

fixes 
In latest godep tool they have included a logic to scan through the projects and include all the authors contributors files part of godep. But in this case it is copying the projectcontributors.md file but fails to copy CONTRIBUTING.md from root docker folder. So this will create a issue because the original file is missing and only the symbolic link is retained.
Ideally contributors file is meant for copyright and authors information and not for the documentation how to contribute so to avoid the confusion I'm renaming the filename here.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2293;libnetworknetutils minor cleanups and fixes;"replaces mobylibnetwork
closes mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docs remove outdated reference to updating etchosts;"Starting with docker . docker no longer uses etchosts for service discovery but uses an embedded DNS server. This patch removes a reference to the old pre . behavior. This one was missed in ?ÿä
fixes 
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2294;Remove LCOW step;"Chipping off more bits from 
This removes most of the LCOW related things from libcontainerd although there's some bits left that potentially could be the cause of failures on so leaving those for a separate PR.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't compare API?áversion in the future for image ls endpoint;"?Çª as we don't know for sure what API version it will be at that time. Added a sticky FIXME instead ?æ? see deprecated.md file for the reason of this if.
cc thaJeztah vieux icecrime dnephin cpuguy
?É»
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2295;libnetwork remove some things that are no longer needed;"part of 
see individual commits for details.
probably lots of other things left
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Resolve connection reset by peer regression;"Fixes regression introduced by 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2296;pkgfileutils PatternMatcher.Matches remove debug logging;"relates to 
Trying to avoid logging code in libraries used elsewhere. If this debug log is important it should be easy to add in code that's calling it.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";prepare master for the next release;"..x was cut
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2297;networkdb mark testhelpers as t.Helper;"this migrates mobylibnetwork
closes mobylibnetwork
relates to mobylibnetwork comment
 in libnetwork repo
git formatpatch HEAD

 in moby repo
git am directorylibnetwork ..libnetworknetworkdbmarktesthelpersast.Helper.patch

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix default socket group regression;"fixes 
This is an ugly patch to fix the regression where daemon does not start anymore if there is no docker group in the host.
Before this used to be handled in httpsgithub.comdockergoconnectionspullfilesdiffdbffbdcacfebdL . Normally we would avoid these constants in pkg packages but only other way I see to fix it would be to have different signatures for listeners.Init for unix and windows as I can't change the group input in windows to an integer. It isn't worse than before where we had this constant hardcoded in goconnections.
dongluochen dmcgowan cpuguy
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2298;Fix log statement 'failed to exit' timeout accuracy;"log statement should reflect how long it actually waited not how long
it theoretically could wait based on the 'seconds' integer passed in.

 What I did
If killPossiblyDeadProcess fails then wait is modified to only wait seconds rather than keeping the original timeout of seconds
Since this log message was still logging seconds this could lead to these strange messages in the logs notice how the log message says it waited seconds but the message was logged only seconds later
timeT.Z leveldebug msgSending kill signal to container cfaffeafafddbcdcccba
timeT.Z levelerror msgError sending stop signal to container containercfaffeafafddbcdcccba errorCONTAINER KILL FAILED AHHHHHHHHHHH
timeT.Z levelinfo msgContainer failed to exit within seconds of signal using the force containercfaffeafafddbcdcccba

After this change the log messages accurately reflects that it only waited seconds
timeT.Z leveldebug msgSending kill signal to container ceedacfddebdbfdfbcfdddcc
timeT.Z levelerror msgError sending stop signal to container containerceedacfddebdbfdfbcfdddcc errorCONTAINER KILL FAILED AHHHHHHHHHHH
timeT.Z levelinfo msgContainer failed to exit within s of signal using the force containerceedacfddebdbfdfbcfdddcc

 How to verify it
modify code to always return error from killWithSignal
 Description for the changelog

NA followup to 
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for network inspect verbose;"Bash completion for .
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2299;Remove a lot of outdated projectPACKAGERS.md text;"This is just a first pass to axe some low hanging fruit. At this point the project is generally mature enough that I do not believe most of this is necessary.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Small cleanup now that we have multiple details about the server stored on the cli;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2300;Fix daemon.json and daemon seccompprofile not accepting unconfined and rename default profile to builtin;"waiting for then I can add some tests.
Possibly will be splitting this PR in some chunks as well in case we want to backport the unconfined daemon configuration fix.


Add const for unconfined and default seccomp profiles


Fix daemon.json and daemon seccompprofile not accepting unconfined
Commit b implemented an option to
set the default seccomp profile in the daemon configuration. When that PR
was reviewed it was discussed to have the option accept the path to a custom
profile JSON file comment
However in the implementation the special unconfined value was not taken into
account. The unconfined value is meant to disable seccomp more factually
run with an empty profile.
While it's likely possible to achieve this by creating a file with an an empty
 profile and passing the path to that file it's inconsistent with the
securityopt seccompunconfined option on docker run and docker create
which is both confusing and makes it harder to use especially on Docker Desktop
where there's no direct access to the VM's filesystem.
This patch adds the missing check for the special unconfined value.


daemon allow builtin as valid value for seccomp profiles
This allows containers to use the embedded default profile if a different
default is set e.g. unconfined in the daemon configuration. Without this
option users would have to copy the default profile to a file in order to
use the default.


daemon move custom seccomp profile warning from CLI to daemon side


 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add mount point to cgroup root when initializing cgroup paths for cpu.rtruntime;"PR introduced a couple more
flags including cpurtruntime to the docker daemon. It appears
recent changes or merge issues may have broken this. It currently does
not take the cgroup mount point into account when determining the cgroup
files to write values to. This breaks docker setting its own
cpu.rtruntime for the daemon. This also means containers aren't able
to set theirs.
Also the cgroups.FindCgroupMountpointAndRoot returns back a mount point
that includes the cgroup of the currently running container when docker
is run inside a docker container. this breaks the cpurtruntime
flag when running docker in docker. A fix has been placed here but
potentially could be pulled up into libcontainer if this is a better
place for it.

 What I did
Fixed an issue where the docker daemon is not properly setting its cpu.rtruntime due to using the wrong path.
 How I did it
cgroups.FindCgroupMountpointAndRoot also returns the cgroup mount point this needs to be prepended to the cgroup path.
 How to verify it
See 
 Description for the changelog

Fixed an issue where docker daemon wasn't initializing its cpu.rtruntimeus due to invalid path.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2301;. backport Fix setting swaplimittrue without checking;"Cherrypick 


 What I did
fixes 
 How I did it
Added one condition to mobypkgsysinfocgrouplinux.go
 How to verify it
Actually I wanted to create unit tests for this one. The problem is certain files must be present on FS so I see solutions

use mocks of os.Stat for example
since part of the path is passed as an argument choose a different dir for tests eg tmp

I do not know what is the common practice in the project st PR so I decided just to simply open a PR and ask.
 Description for the changelog

Fixes setting swaplimittrue without checking memory.swap.max
 A picture of a cute animal not mandatory but encouraged
Another time 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update bash completion for docker service logs;"Bash completion for which is scheduled for .. see for bump PR.
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2302;vendor github.comopencontainersselinux v..;"full diff

opencontainersselinuxv.....v..
bitsandbloomsbitsetv.....v..

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Restrict secret view to node level in controller;"This restricts access to the secrets at the node level.
Signedoffby Evan Hazlett ejhazlettgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2303;vendor swarmkit master after libnetwork move;"relates to 

 dockerswarmkit
 depends on dockerswarmkit


 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove docs for dockerd nonewprivileges;"In the daemon option nonewprivileges was added to the docs.
This option does not exist
dockerd nonewprivileges | head 
Status unknown flag nonewprivileges
This was executed on current master
docker version
Docker version ..dev build b
The feature exists as docker run securityopt nonewprivileges.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2304;revendor BuildKit master branch;"relates to 
depends on

 mobybuildkit
 mobybuildkit

Updates

vendor golang.orgxcrypto cfeedcefeedbf
full diff golangcryptocff...cfe
vendor golang.orgxtime afdaefcaccecbeace
full diff golangtimedb...af
vendor golang.orgxnet eecbbafcbcbcbffea
full diff golangnete...eecbb
vendor golang.orgxsync becddfddaedad
full diff golangsyncee...b
vendor google.golang.orggenproto
full diff googleapisgogenprotofa...d
vendor github.comtonistiigifsutil dfbfdbbcfbbefcabdeec
full diff tonistiigifsutilf...daf

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump ..rc;"ping dockercoreenginemaintainers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2305;daemon improve handling of ROOTLESSKITPARENTEUID;"daemon.WithRootless make sure ROOTLESSKITPARENTEUID is valid int
daemon.RawSysInfo minor simplification and rename variable that
clashed with imported package.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump API to .;". is used in .. so bumping master to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2306;libnetwork replace BurntSushitoml with pelletiergotoml;"replaces mobylibnetwork
relates to 
Dependency will go away once is merged
The BurntSushi project is no longer maintained and the container ecosystem is moving to use the pelletiergotoml project instead.
This patch moves libnetwork to use the pelletiergotoml library to reduce our dependency tree and use the same library in all places.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Vendor swarmkit;"This brings in a scheduler fix for .

scheduler Fix accounting when task ends up in multiple groups dockerswarmkit

It fixes a problem where resource accounting could become incorrect due to duplicate tasks going through the scheduler part of .
Thanks kleptog for finding the bug.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2307;. backport rootless avoid runxtables.lock EACCES on SELinux hosts disable overlay if running with SELinux fix x certificate signed by unknown authority on openSUSE Tumbleweed;"Backport






 dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts

 What I did
Fix 
 How I did it
Previously running dockerdrootless.sh on SELinuxenabled hosts was failing with can't open lock file runxtables.lock Permission denied error. issue .
This commit avoids hitting the error by relabeling run in the RootlessKit child.
The actual run on the parent is unaffected.
httpsgithub.comcontainerspodmanblobefcbaadbefeefbblibpodnetworkinglinux.goLL
 How to verify it

Install Rootless Docker to Fedora without disabling SELinux
Make sure the daemon starts up without can't open lock file runxtables.lock Permission denied error

 Description for the changelog

dockerdrootless.sh avoid can't open lock file runxtables.lock Permission denied errorSELinux hosts
 A picture of a cute animal not mandatory but encouraged
?Éº

 rootless disable overlay if running with SELinux

 What I did
Close rootlessoverlay kernel .SELinux mkdir homeUSER.localsharedockeroverlayCIDinitmergeddev permission denied. 
 How I did it
Disable overlay when DOCKERDROOTLESSSELINUX is set.
We can't rely on goselinux.GetEnabled because RootlessKit doesn't mount sysfsselinux in the child rootlesscontainersrootlesskit
 How to verify it

Install to Fedora 
Make sure docker info shows fuseoverlayfs as the default storage driver on rootless while retaining overlay on rootful
Make sure docker run helloworld works on rootless

 Description for the changelog

rootless disable overlay if running with SELinux
 A picture of a cute animal not mandatory but encouraged
?Éº

 rootless fix x certificate signed by unknown authority on openSUSE Tumbleweed

 What I did
Fix x certificate signed by unknown authority error on openSUSE Tumbleweed.
openSUSE Tumbleweed was facing this error as etcsslcabundle.pem is provided as a symlink to ....varlibcacertificatescabundle.pem which was not supported by rootlesskit copyupetc .
See rootlesscontainersrootlesskit
 How I did it
By bindmounting etcssl from the parent namespace into the child.
 How to verify it
Run docker contextrootless pull helloworld on an openSUSE Tumbleweed host.
 Description for the changelog

rootless fix x certificate signed by unknown authority on openSUSE Tumbleweed
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Correct CPU usage calculation in presence of offline CPUs and newer Linux;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2308;Update AUTHORS and mailmap;"Updating the list to account for the new commits from libnetwork.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use formatter in docker checkpoint ls;"What I did
Used formatter to print checkpoints when running docker checkpoint ls
related to 
 How I did it

Add clicommandformattercheckpoint.go
Replace tabWriter with formatter.CheckpointWrite
Add unit tests

 How to verify it
 TESTDIRS'cli";0
2309;rootless fix x certificate signed by unknown authority on openSUSE Tumbleweed;"What I did
Fix x certificate signed by unknown authority error on openSUSE Tumbleweed.
openSUSE Tumbleweed was facing this error as etcsslcabundle.pem is provided as a symlink to ....varlibcacertificatescabundle.pem which was not supp";Update dockercredentialhelpers to v..;"Update dockercredentialhelpers vendor to v.. ?æ?. Mainly just for the sake of keeping it uptodate no breaking changes.
cc thaJeztah jeanlaurent nss vieux
?ªü
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2310;Dockerfile install criu from binary repo carry;"carry of with changes from comment applied
closes 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Compose file v.;"Includes changes from and 
Revert the Compose file schema to the version that was released as v.
Add the new v. schema with all the new changes
Compose PR for these schemas dockercompose
cc vdemeester shin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2311;Remove LCOW step;"taken from but splitting into smaller chunks
The LCOW implementation in dockerd has been deprecated in favor of reimplementation
in containerd in progress. Microsoft started removing the LCOW V code from the
build dependencies we use in Microsoftopengcs soon to be part of Microsofthcshhim
which means that we need to start removing this code.
This first step removes the lcow graphdriver the LCOW initialization code and
some LCOWrelated utilities.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update containerd to version efacbaeffaddeb;"This fixes a regression where debug logs where hidden in debug mode.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

diff git acontainerdmain.go bcontainerdmain.go
index b..ffef 
 acontainerdmain.go
 bcontainerdmain.go
 var daemonFlags cli.Flag
 cli.StringFlag
 Name loglevel
 Usage Set the logging level debug info warn error fatal panic
 Value info
 
 cli.StringFlag
 Name statedir
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2312;update runc binary to v.. GA;"httpsgithub.comopencontainersruncreleasestagv..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CI cleanup only unpause if platform supports it;"Signedoffby John Howard VM jhowardntdev.microsoft.com
This PR is for Windows CI reliability. There have been occasional instances of CI failures due to below also seen in internal Microsoft runs. I still don't fully understand the underlying cause but is as much for correctness as anything else. During cleanup with this PR we only unpause containers if the platform supports it. Between this and specifically the OK check I think this should fix it. ?ñ?
. 
. FAIL checktest.go DockerSuite.TearDownTest
. 
. checktest.go
. testEnv.Cleanc dockerBinary
. cgopathsrcgithub.comdockerdockerpkgtestutilcmdcommand.go
. t.Fatalfat sd\ns filepath.Basefile line err.Error
. ... Error at clean.go
. 
. Command d\CI\CIfc\binary\docker.exe unpause runtime failed to create new OS thread have already errno fatal error runtime.newosproc
. ExitCode Error exit status 
. Stdout 
. Stderr Error response from daemon No such container runtime


httpsjenkins.dockerproject.orgjobDockerPRsWoWRSconsole but the logs will roll over soon.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2313;. backport vendor github.commobybuildkit v..gecde;"backport of 
vendor github.commobybuildkit v..gecde
full diff mobybuildkitv.....v..gecde

Transform relative mountpoints for exec mounts in the executor
Add test for handling relative mountpoints

vendor github.commobybuildkit v..
full diff mobybuildkitv.....v..

vendor containerd required for rootless overlayfs on kernel .

not included to avoid depending on a fork


Add retry on image push xx errors
contenthash include basename in content checksum for wildcards
Fix missing mounts in execOp cache map
Add regression test for run cache not considering mounts
Add hack to preserve Dockerfile RUN cache compatibility after mount cache bugfix

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update swagger.yaml and apiversionhistory.md for DeviceCgrouprules;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2314;changelog fix incorrectly named libnetwork label;"The correct name is com.docker.network.containerifaceprefix but
the changelog accidentally used interface instead of iface because
the libnetwork pull request used that as a title.
relates to dockercli
relates to 
relates to mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for topologyaware scheduling;"This adds bash completion for 

docker service create placementpref
docker service update placementprefaddrm

Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2315;testing update fix linting issues found by golangcilint v..;"Splitting this from which needs some work use a custom action instead of the default one similar to buildkit CI
This updates fixes linting issues found by the latest golangcilint v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for service constraints;"Remove bash completion for service update constraint only exists for service create
Add bash completion for service update constraintaddrm

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2316;Fix possible overlapping IPs;"What I did
Fix a possibility where overlapping IP addresses could exist as a result of the node failing to clean up its old loadbalancer IPs.
Fixes supercedes .
closes 
 How I did it
A node is no longer using its load balancer IP a";misleading default for updatemonitor duration;"Signedoffby erxian evelynhsugmail.com
Hi
This PR aims to correct the default for updatemonitor duration from s to s.
The output of updatemonitor duration default is s 
...
updatemaxfailureratio float Failure rate to tolerate during an update
updatemonitor duration Duration after each task update to monitor for failure ns|us|ms|s|m|h default s
updateparallelism uint Maximum number of tasks updated simultaneously to update all at once default 
...
However the actual default is s which locates in httpsgithub.comdockerdockerblobmastervendorgithub.comdockerswarmkitmanagerorchestratorupdateupdater.goL
So I fix the misleading default by changing 
flags.DurationVaropts.update.monitor flagUpdateMonitor time.Duration Duration after each task update to monitor for failure ns|us|ms|s|m|h default s
TO 
flags.DurationVaropts.update.monitor flagUpdateMonitor time.Second Duration after each task update to monitor for failure ns|us|ms|s|m|h default s
Besides the bellowing docs have also been updated.
httpsgithub.comdockerdockerblobmasterdocsreferencecommandlineservicecreate.md
httpsgithub.comdockerdockerblobmasterdocsreferencecommandlineserviceupdate.md
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2317;vendor github.commobybuildkit v..gecde;"vendor github.commobybuildkit v..gecde
full diff mobybuildkitv.....v..gecde

Transform relative mountpoints for exec mounts in the executor
Add test for handling relative mountpoints

vendor github.commobybuildkit v..
full diff mobybuildkitv.....v..

vendor containerd required for rootless overlayfs on kernel .

not included to avoid depending on a fork


Add retry on image push xx errors
contenthash include basename in content checksum for wildcards
Fix missing mounts in execOp cache map
Add regression test for run cache not considering mounts
Add hack to preserve Dockerfile RUN cache compatibility after mount cache bugfix

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";daemon also ensureDefaultApparmorProfile in exec path;"When efe daemon switch to 'ensure' workflow for AppArmor
profiles was merged it didn't correctly handle the exec path if
AppArmor profiles were deleted. Fix this by duplicating the
ensureDefaultApparmorProfile code in the exec code.

Fixes 
Fixes efe daemon switch to 'ensure' workflow for AppArmor profiles
Signedoffby Aleksa Sarai asaraisuse.de
Mikey's Window by Jessica Nichole on Flickr
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2318;. backport pkgsignal ignore SIGURG on all platforms;"backport of 
followup to 
relates to dockercli
Other Unix platforms e.g. Darwin are also affected by the Go
runtime sending SIGURG.
This patch changes how we match the signal by just looking for the
URG name which should handle any platform that has this signal
defined in the SignalMap.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix markdown in references for Kramdown;"Several Markdown changes to fix Kramdown parsing of CLI references. Specifically Kramdown does not allow block HTML elements within Markdown tables. Also we need both Description and Examples sections of these references to be Hlevel headings as in Examples.
There may be more Kramdown problems that were not readily apparent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2319;vendor github.comfluentfluentloggergolang ..;"Updates the fluent logger library. Namely this fixes a couple places
where the library could panic when closing and writing to channels.
see fluentd PRsissues

fluentfluentloggergolang
fluentfluentloggergolang
fluentfluentloggergolang
fluentfluentloggergolang

closes 
closes 
Signedoffby Cam ghsparr.email

 What I did
I edited vendor.conf manually then ran .hackvendor.sh
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";The variable heartbeat might be;"Signedoffby Yanqiang Miao miao.yanqiangzte.com.cn
if we don't set discovery.heartbeat and set discovery.ttl defaultDiscoveryTTLFactor then heartbeat wil be .
For example int 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2320;pkgsignal ignore SIGURG on all platforms;"followup to 
relates to dockercli
Other Unix platforms e.g. Darwin are also affected by the Go
runtime sending SIGURG.
This patch changes how we match the signal by just looking for the
URG name which should handle any platform that has this signal
defined in the SignalMap.

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump to ..rc;"ping mlaventure mavenugo aaronlehmann thaJeztah am I missing any 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2321;. backport vendor github.comdockerlibnetwork baddecbdec;"backport of 
supersedes 
Update libnetwork to make docker run p functional again on environments
with kernel boot parameter ipv.disable.
full diff mobylibnetworkb...ba

fix port forwarding with ipv.disable

fixes Docker .. all containers stopped and cannot start if ipv is disabled on host
fixes mobylibnetwork Network issue with IPv following update to version ..
fixes dockerforlinux Since .. it's not possible to run docker on a machine with disabled IPv interfaces
relates to nginxproxynginxproxy BUG Latest image ENABLEIPV not being honored
relates to elabftwelabftw errors when restarting elabftw
relates to httpsforums.docker.comtipvdisabledonmycomputerbutdockernetworkseemslookingforit
relates to NginxProxyManagernginxproxymanager Docker .. breaks IPV
relates to awsamazonecsagent Docker .. IPv bindings shouldn't be mapped as network bindings for tasks for non IPv networks


vendor github.comishidawatarusctp fecdeebdddbe
Enforce order of lock acquisitions on networkcontroller fixes 

fixes mobylibnetwork Name resolution stuck due to deadlock between different network struct methods
fixes Docker deamon get's stuck can't serve DNS requests



vendor github.comishidawatarusctp fecdeebdddbe
full diff ishidawatarusctpecb...fe

support SOSNDBUFSORCVBUF handling
Support Go Modules
license clarificaton
ci drop . . . support
Add support for SocketConfig
support goarch mipsle architecture.
fix possible socket leak when bind fails

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix stringer in Result pkg\testutil\cmd;"Signedoffby John Howard VM jhowardntdev.microsoft.com
vdemeester Fixes the error output and aligns I'm just like that ?ÿç. The s for error should have been a v.
Before
. Command d\CI\CIbfbb\binary\docker.exe ps f statuspaused q a
. ExitCode Error snil
. Stdout 
. Stderr 

After
Command e\go\src\github.com\docker\docker\bundles\docker.exe ps f statuspaused q a
ExitCode 
Error nil
Stdout
Stderr

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2322;vendor github.comdockerlibnetwork baddecbdec;"supersedes 
closes 
Update libnetwork to make docker run p functional again on environments
with kernel boot parameter ipv.disable.
full diff mobylibnetworkb...ba

fix port forwarding with ipv.disable

fixes Docker .. all containers stopped and cannot start if ipv is disabled on host
fixes mobylibnetwork Network issue with IPv following update to version ..
fixes dockerforlinux Since .. it's not possible to run docker on a machine with disabled IPv interfaces
relates to nginxproxynginxproxy BUG Latest image ENABLEIPV not being honored
relates to elabftwelabftw errors when restarting elabftw
relates to httpsforums.docker.comtipvdisabledonmycomputerbutdockernetworkseemslookingforit
relates to NginxProxyManagernginxproxymanager Docker .. breaks IPV
relates to awsamazonecsagent Docker .. IPv bindings shouldn't be mapped as network bindings for tasks for non IPv networks


vendor github.comishidawatarusctp fecdeebdddbe
Enforce order of lock acquisitions on networkcontroller fixes 

fixes mobylibnetwork Name resolution stuck due to deadlock between different network struct methods
fixes Docker deamon get's stuck can't serve DNS requests



vendor github.comishidawatarusctp fecdeebdddbe
full diff ishidawatarusctpecb...fe

support SOSNDBUFSORCVBUF handling
Support Go Modules
license clarificaton
ci drop . . . support
Add support for SocketConfig
support goarch mipsle architecture.
fix possible socket leak when bind fails

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix docker build label when the label includes single quotes and a space;"Fixes 
Previously labels passed with labels were converted into a quoted string and then parsed to create Node objects. This PR changes the behaviour to create Node objects directly from the mapstringstring and avoids the parsing entirely. The parsing was was failing because the value was being quoted with single quotes.
This PR also includes some refactoring and additional unit test.
Some singleuse functions were moved out of utils.go next to their caller.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2323;contribcheckconfig.sh Make script POSIX;"What I did
I needed to run checkconfig.sh on a small system that doesn't have bash. So I did the changes needed to make it a POSIX shell script and thus remove the bash dependency. Having done that for my own needs I thought I'd share this more portab";Add documentation for bind mount consistency flags .;"Documentation for following thaJeztah's recommendations copied here for convenience


 the swagger.yaml
 an entry to the API changes
 the reference docs for run create
 the service create docs mention mount options
 the docker run man page
 the docker create man page options section


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2324;contribcheckconfig.sh Remove awk dependency;NOM;Vendor swarmkit edeb;"Bring master up to date with the latest swarmkit.
Includes everything in and some more.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2325;Add Samuel Karp as a maintainer;samuelkarp has been a longtime supporter of the container ecosystem. He is an active security advisor for the containerd project has spent a lot of time with the awslogs logging driver and has been helping with review and triage of pull requests here;..x Vendor swarmkit fc;"This vendors some fixes in swarmkit for ... The fixes are related to network allocation and overly restrictive sanity checks on network deletion.

allocator Avoid allocating tasks that are no longer running dockerswarmkit
controlapi Allow removal of network when only dead tasks reference it dockerswarmkit
allocator Remove deleted networks from the unallocated set dockerswarmkit
allocator Update unallocatedServices properly after service updates dockerswarmkit
allocator Less aggressive retry dockerswarmkit

cc vieux thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2326;. backport pkgsignal.CatchAll ignore SIGURG on Linux;"backport of 
relates to comment
I copied the approach taken in dockercli to be consistent
Do not handle SIGURG on Linux as in go. the go runtime issues
SIGURG as an interrupt to support preemptable system calls on Linux.
This issue was caught in TestCatchAll which could fail when updating to Go . or above
 Failed
 FAIL pkgsignal TestCatchAll .s
 signallinuxtest.go assertion failed urgent IO condition string continued string
 signallinuxtest.go assertion failed continued string hangup string
 signallinuxtest.go assertion failed hangup string child exited string
 signallinuxtest.go assertion failed child exited string illegal instruction string
 signallinuxtest.go assertion failed illegal instruction string floating point exception string

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup docker tmp dir on start;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

This should free up some space by removing old build contexts.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2327;update containerd binary to v..;"full diff containerdcontainerdv.....v..
The second patch release for containerd . is a security release to update
runc for CVE
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Balk on privileged;"Signedoffby John Howard VM jhowardntdev.microsoft.com
Throws an error if privileged mode is attempted on Windows where the platform does not support it. Fixes thaJeztah
It also updates the Validate functions to not be exported they are now validate
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2328;. update containerd binary to v..;"full diff containerdcontainerdv.....v..
The sixth patch release for containerd . is a security release to update
runc for CVE
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update containerd to ffbcebbcdefcfcccaeb;"This include ensure that containerd GRPC healthcheck service is
register before the restore process is done as this can take a while.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2329;pkgsignal.CatchAll ignore SIGURG on Linux;"relates to comment
I copied the approach taken in dockercli to be consistent
Do not handle SIGURG on Linux as in go. the go runtime issues
SIGURG as an interrupt to support preemptable system calls on Linux.
This issue was caught in TestCatchAll which could fail when updating to Go . or above
 Failed
 FAIL pkgsignal TestCatchAll .s
 signallinuxtest.go assertion failed urgent IO condition string continued string
 signallinuxtest.go assertion failed continued string hangup string
 signallinuxtest.go assertion failed hangup string child exited string
 signallinuxtest.go assertion failed child exited string illegal instruction string
 signallinuxtest.go assertion failed illegal instruction string floating point exception string


 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update runc to cddedacdadfef;"This fix a conflict with systemd daemonreload see
opencontainersrunc
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Closes 
diff git alibcontainercgroupssystemdapplysystemd.go blibcontainercgroupssystemdapplysystemd.go
index fdf..cec 
 alibcontainercgroupssystemdapplysystemd.go
 blibcontainercgroupssystemdapplysystemd.go
 func m Manager Applypid int error 
 newPropCPUShares uintc.Resources.CpuShares
 
 
 cpu.cfsquotaus and cpu.cfsperiodus are controlled by systemd.
 if c.Resources.CpuQuota c.Resources.CpuPeriod 
 cpuQuotaPerSecUSec c.Resources.CpuQuota c.Resources.CpuPeriod
 properties appendproperties
 newPropCPUQuotaPerSecUSec uintcpuQuotaPerSecUSec
 

 if c.Resources.BlkioWeight 
 properties appendproperties
 newPropBlockIOWeight uintc.Resources.BlkioWeight
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2330;. backport update runc binary to v..rc;"backport of 
full diff opencontainersruncv..rc...v..rc
Release notes
This release of runc contains a fix for CVE and users are
strongly recommended to update especially if you are providing
semilimited access to spawn containers to untrusted users.
Aside from this security fix only a few other changes were made since
v..rc the only uservisible change was the addition of support
for defaultErrnoRet in seccomp profiles.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add integration tests for client and daemonside autoremove;"cherry picked from commit dbbc 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2331;update runc binary to v..rc;"full diff opencontainersruncv..rc...v..rc
Release notes
This release of runc contains a fix for CVE and users are
strongly recommended to update especially if you are providing
semilimited access to spawn containers to untrusted users.
Aside from this security fix only a few other changes were made since
v..rc the only uservisible change was the addition of support
for defaultErrnoRet in seccomp profiles.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Log payload only logentries;"If you want to use the advanced query in logentries
logging in json is very useful. If you do not need
the advanced information with
logopt logentrieslineonlytrue just logs the payload
Created issue for enhancement 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2332;Daemon config validation;"On dockerd validate return after the daemon config has been loaded and validated.
Continuation of avoids the os.Exit.
closes 
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Always HEAD blobs at least once during pushes;"Signedoffby Jon Johnson jonjohnsongoogle.com
 What I did
Change push behavior to always HEAD each blob before trying to mount. The docker client used to do this but that changed in . This causes a lot of unnecessary blob uploads if the blobs already exist in the target repository.
 How I did it
Set checkOtherRepositories to true for the first layerAlreadyExists check.
 How to verify it
Push an image to a registry there should be a HEAD request for each blob before trying to mount.
 Description for the changelog
Always check to see if blobs exists before pushing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2333;Disable go modules when compiling binaries used in tests;"relates to 
These caused CI to fail when using Go . so disabling Go modules to prevent that
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cluster Fix shadowed resp variable;"The response would never reach the client because it was being redeclared in the current scope.
Related to 
Fixes 
cc nishanttotla vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2334;pkgfileutils TestMatches remove cases no longer valid for go.;"relates to 
fixes 
These tests were no longer valid on Go . related to httpstip.golang.orgdocgo.pathfilepath

The Match and Glob functions now return an error if the unmatched part of
the pattern has a syntax error. Previously the functions returned early on
a failed match and thus did not report any later syntax error in the pattern.

Causing the test to fail
 RUN TestMatches
 fileutilstest.go assertion failed error is not nil syntax error in pattern patterna\\ texta
 FAIL TestMatches .s

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support in plugin config for accessing host ipc and pid namespace.;"Plugins might need access to host ipc and pid namespaces. A good usecase is
a volume plugin running iscsi multipath commands that need access to
host kernel locks.
Tested with a custom plugin aragunathanglobalnetpluginfull that's
built with ipchost true and pidhost true in config.json. Observed using
readlink procselfnsipc and readlink procselfnspidthat plugin and host
have the same ns.
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2335;hack add script to regenerate certificates and update testcerts;"relates to 
Certificates were originally added in ccb but did not include a script to generate them. Current versions of Go expect certificates to use SAN instead of Common Name fields so updating the script to include those
x certificate relies on legacy Common Name field use SANs or temporarily
enable Common Name matching with GODEBUGxignoreCN

Some fields were updated to be a bit more descriptive instead of replaceme and the text option was used to include a humanreadable variant of the content.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow user to replace ingress network;"Vendoring of swarmkit carries a change to support ingress network replacement and two important scheduler fixes

Allow replacing ingress network dockerswarmkit
scheduler Fix accounting when task ends up in multiple groups dockerswarmkit
scheduler Correctly count tasks at bottom level of decision tree dockerswarmkit

Vendoring of libnetwork carries

change related to ingress network programmability mobylibnetworkpull
change to allow user to control container's interfaces prefix on bridge networks mobylibnetworkpull

This PR allows user to remove and recreate the ingress network

A fresh new cluster will come up with the default ingress network as today.
The ingress network can be removed and never be recreated.

 docker network rm ingress
WARNING Before removing the routingmesh network make sure all the nodes in your swarm run the same docker engine version. Otherwise removal may not be effective and functionality of newly create ingress networks will be impaired.
Are you sure you want to continue yN
ingress


On creation user can specify any parameter as for any other swarm network. Name can be anything.

 docker network create d overlay opt com.docker.network.mtu ingress myingress
sywsfvsqrwkhbllyz


The ingress network removal requires that no services depending on the network exist.

 docker network rm myingress 
WARNING Before removing the routingmesh network make sure all the nodes in your swarm run the same docker engine version. Otherwise removal may not be effective and functionality of newly create ingress networks will be impaired.
Are you sure you want to continue yN
Error response from daemon rpc error code desc ingress network cannot be removed because service lbxkskcqzbqrlnwxvkp depends on it


Swarm services creationupdate will make sure the ingress network is present before succeeding if the service requires the routing mesh.

 docker service create name srvonrmesh p busybox top
Error response from daemon rpc error code desc service needs ingress network but ingress network is not present

 docker service update publishadd s
Error response from daemon rpc error code desc service needs ingress network but ingress network is not present

Fixes 
Depends on dockerswarmkitpull and mobylibnetworkpull

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2336;. backport Update runc binary to v..rc;"backport of

 Swarm config use absolute paths for mount destination strings
 Update runc binary to v..rc

full diff opencontainersruncv..rc...v..rc
release notes httpsgithub.comopencontainersruncreleasestagv..rc
Potentially breaking changes

cgroupv kernel memory limits are now always ignored as kmemcg has
been effectively deprecated by the kernel. Users should make use of
regular memory cgroup controls.
libcontainercgroups cgroup managers' Set now accept
configs.Resources rather than configs.Cgroups
libcontainercgroupssystemd reconnect and retry in case dbus
connection is closed after dbus restart
libcontainercgroupssystemd don't set limits in Apply

Bugfixes

seccomp fix bit compilation errors regression in rc
cgroupv blkio weight value conversion fix
runc init fix a hang caused by deadlock in seccompebpf loading code regression in rc
runc start fix chdir to cwd permission denied for some setups regression in rc
s fix broken terminal regression in rc

Improvements

runc startexec better diagnostics when container limits are too low
runc startexec better cleanup after failed runc init
cgroupv improve freezing chances
cgroupv multiple GetStats improvements
cgroupv fallback to setting io.weight if io.bfq.weight is not available
capabilities WARN not ERROR for unknown unavailable capabilities

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve warnings when image digest pinning fails;"This PR cleans up warnings presented when digest pinning fails by making a distinction between warnings returned to the client and the more extensive statement written to logs.
Currently the output looks like
 docker service create alternativeimagelatest fakecmd
unable to pin image alternativeimagelatest to digest errors
denied requested access to the resource is denied
unauthorized authentication required

nvfwghsstjiviviwuio

This has been confusing for some people in the past . There's no reason to have this extensive output both written to logs and also printed by the client. With this change we'll instead see
 docker service create alternativeimagelatest fakecmd
image alternativeimagelatest could not be pinned to digest
nvfwghsstjiviviwuio

This is simpler but we could also present more meaningful warnings by figuring out the cause of failure by parsing error messages. Thoughts aaronlehmann thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2337;hackvalidate skip DCO in default;"noticed in that we were validating this twice or times if we count the DCO bot
We perform a DCO check before we run all other tests so we can skip it as part of the validate step.
Leaving the line in for visibility and in case we switch from Jenkins to e.g. GitHub actions.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix directive example to match description;"The Dockerfile reference has an example in the parser directives' section with a description that doesn't match the example. I've reordered the lines to make it match.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2338;update containerd binary to v..;"runc is updated in 
full diff containerdcontainerdv.....v..
Notable Updates

Update runc to rc
Fix registry mirror authorization logic in CRI plugin
Fix regression in cricnirelease to include cri tools

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add verbose flag to network inspect to show all services tasks in swarm mode;"For swarm mode networks currently network inspect only shows endpoints local to that host. Service Discovery and overlay network reachability information gets exchanged through the gossip channel between the nodes. There have been issues where failures in the gossip channel can lead to inconsistent state across clusters. But there was no easy way to identify it.
This change adds a verbose flag to the network inspect output to display all services on that network with all the task IPs and host IP where the container is running. This will be very useful to quickly identify any inconsistent state across hosts this can show up stale or incorrect IPs in DNS queries.
Edit libnetwork PR has been merged. Updated the vendoring.
Fixes docker 
Example output from a node cluster. s has replicas and s has replica.
vagrantnet docker network inspect verbose ov

 
 Name ov
 Id ybmyjvaovtzyoorxbssjb
 Created T.Z
 Scope swarm
 Driver overlay
 EnableIPv false
 IPAM 
 Driver default
 Options null
 Config 
 
 Subnet ...
 Gateway ...
 
 
 
 Internal false
 Attachable false
 Containers 
 fdfdecbfecabcfcfffaa 
 Name s..mnzsnwvadgrambozccuyb
 EndpointID abebefccecdbeaabecfaeaaabdac
 MacAddress a
 IPvAddress ...
 IPvAddress 
 
 
 Options 
 com.docker.network.driver.overlay.vxlanidlist 
 
 Labels 
 Peers 
 
 Name netce
 IP ...
 
 
 Name netfbefd
 IP ...
 
 
 Name netecbca
 IP ...
 
 
 Services 
 s 
 VIP ...
 Ports 
 Tasks 
 
 Name s..eoojlkivocioupzt
 EndpointID fadeafcedbfabaddaeefedbdea
 EndpointIP ...
 Info Host IP ...
 
 
 Name s..jplsdbjozibrbvbfsfg
 EndpointID ccbddbdeaecccebcdcceeefadbffab
 EndpointIP ...
 Info Host IP ...
 
 
 Name s..mnzsnwvadgrambozccuyb
 EndpointID abebefccecdbeaabecfaeaaabdac
 EndpointIP ...
 Info Host IP ...
 
 
 
 s 
 VIP ...
 Ports 
 Tasks 
 
 Name s..spcitocrcowdhtgzh
 EndpointID dcebcecbccecbabccbccb
 EndpointIP ...
 Info Host IP ...
 
 
 
 
 


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2339;. backport buildernext relax second cache key requirements for schema;"backport of 
fixes mobybuildkit
Schema images can not have a config based cache key
before the layers are pulled. Avoid validation and reuse
manifest digest as a second key.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace fmt.Errorf with errors.Errorf in the cli;"binbash

set eu

DIR.cli

eg t refactorerr.go v w find DIR type d

git grep l 'github.comdockerdockervendorgithub.compkgerrors' | xargs sed i e 'sgithub.com\docker\docker\vendor\github.com\pkg\errorsgithub.com\pkg\errors'

 Fix imports of errors in files that don't have fmt.Errorf
grep vxF f \
 git grep l 'github.compkgerrors' DIR \
 git grep l 'errors' DIR | \
xargs sed i e 'serrorsgithub.com\pkg\errors'

 Remove duplicate imports of errors
git grep l 'errors' DIR | xargs sed i e 'errors d'


goimports w DIR
package P

import 
	fmt
	github.compkgerrors


func befores string funcstring ...interface error return fmt.Errorf 
func afters string funcstring ...interface error return errors.Errorf 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2340;Jenkinsfile skip ppcle and sx by default on pull requests;"This changes CI to skip these platforms by default. The ppcle and sx
machines are pet machines configuration may be outdated and these
machines are known to be flaky.
Building and verifying packages for these platforms is being handed
over to the IBM team.
We can still run these platforms for specific pull requests by selecting
the checkboxes.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use either a system pool or custom CA pool when connecting from clientdaemon goconnections version bump;"When connecting to a daemon from the client if custom CA certs are provided for a daemon trust ONLY those CA certs and not the system cert pool. If no custom CA certs are provided then trust the system cert pool.
This bumps the goconnections dependency to a version that supports a flag that specifies that the cert pools should be exclusive.
Should also address for the case where a windows client is connecting to a remote docker via mTLS for example when using dockermachine
PS C\Users\cyli .\Desktop\docker..dev.exe ps
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS
NAMES
PS C\Users\cyli docker ps
timeT levelinfo msgUnable to use system certificate pool cryptox system root pool is
 not available on Windows
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS
NAMES
PS C\Users\cyli


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2341;Upstream systemd unit files from dockercepackaging repo;"The dockercepackaging repo currently maintains its own copy of the systemd unit files for docker httpsgithub.comdockerdockercepackagingtreededbccccfcdasystemd
This PR moves the changes from those files back to the ones in this repository. There were some conflicts so needs a review.
I also removed the now unused .rpm version of the systemd unit.
I tried to preserve history from the dockercepackaging repository taking this approach
 install filterrepo httpsgithub.comnewrengitfilterrepoblobmainINSTALL.md
brew install gitfilterrepo

 create a temporary clone of the packaging repo
git clone httpsgithub.comdockerdockercepackaging.git Projectspackagingtmp
cd Projectspackagingtmp

 remove all code except for the files we need and rename the files
git filterrepo \
 pathmatch systemd \
 pathrename systemddocker.servicecontribinitsystemddocker.service \
 pathrename systemddocker.socketcontribinitsystemddocker.socket


 integrate the files in the docker repository
cd gosrcgithub.comdockerdocker
git checkout b upstreamsystemdunits
git remote add packagingtmp Projectspackagingtmp
git fetch packagingtmp


git merge allowunrelatedhistories signoff S packagingtmpmaster
After this is merged I'll update the containerdpackaging repository to remove the systemd unit files from that repository and to consume the unit files from this repository instead.
Differences between the results in this branch and the units currently in dockercepackaging
in docker.service
git diff noindex gosrcgithub.comdockerdockercepackagingsystemddocker.service contribinitsystemddocker.service
diff git aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.service bcontribinitsystemddocker.service
index d..cab 
 aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.service
 bcontribinitsystemddocker.service
 
 Unit
 DescriptionDocker Application Container Engine
 Documentationhttpsdocs.docker.com
Afternetworkonline.target firewalld.service containerd.service
Afternetworkonline.target docker.socket firewalld.service containerd.service
 Wantsnetworkonline.target
 Requiresdocker.socket containerd.service

 Typenotify
 for containers run by docker
 ExecStartusrbindockerd H fd containerdruncontainerdcontainerd.sock
 ExecReloadbinkill s HUP MAINPID
TimeoutSec
TimeoutStartSec
 RestartSec
 Restartalways
in docker.socket
git diff noindex gosrcgithub.comdockerdockercepackagingsystemddocker.socket contribinitsystemddocker.socket
diff git aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.socket bcontribinitsystemddocker.socket
index db..cae 
 aUserssebastiaangosrcgithub.comdockerdockercepackagingsystemddocker.socket
 bcontribinitsystemddocker.socket
 
 DescriptionDocker Socket for the API

 Socket
ListenStreamvarrundocker.sock
 If varrun is not implemented as a symlink to run you may need to
 specify ListenStreamvarrundocker.sock instead.
ListenStreamrundocker.sock
 SocketMode
 SocketUserroot
 SocketGroupdocker
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Handle paused container when restoring without liverestore set;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2342;. update containerd binary to v..;"release notes httpsgithub.comcontainerdcontainerdreleasestagv..

Update runc to rc
Fix leaking socket path in runc shim v
Fix cleanup logic in new container in runc shim v
Fix registry mirror authorization logic in CRI plugin
Add support for userxattr in overlay snapshotter for kernel .

Note that the update to runc is done separately
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgsystem Set appropriate CFLAGS on Solaris;"The cgo in meminfosolaris.go initializes variables in for loops and therefore requires a stdc CFLAG in order to compile at least on modern SmartOS.
This pull request adds the flag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2343;buildernext relax second cache key requirements for schema;"fixes mobybuildkit
Schema images can not have a config based cache key
before the layers are pulled. Avoid validation and reuse
manifest digest as a second key.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo in run.md documentation;NOM;0
2344;Swarm config use absolute paths for mount destination strings;"relates to 
taking from with my review suggestions from comment applied
Needed for runc ..rc.
See runc issue opencontainersrunc introduced in opencontainersrunc.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x fix autoremove on older api;"Commit a cherrypicked changes into the . branch to make the client skip autoremoving containers on API . and up.
Some changes got lost during that cherrypick resulting in . clients to not fall back to the old behavior when connecting to API version . or below.
This patch addresses this issue for the . branch by copying the HostConfig.AutoRemove property to a local variable before it is overridden in ContainerCreate.
This change is not needed on master .dev which does not have this problem.
Thanks to jlhawn for finding this bug.
I also added integration tests in a second commit dbbc so that we can merge those tests to master
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2345;Update runc binary to v..rc;"full diff opencontainersruncv..rc...v..rc
release notes httpsgithub.comopencontainersruncreleasestagv..rc
Potentially breaking changes

cgroupv kernel memory limits are now always ignored as kmemcg has
been effectively deprecated by the kernel. Users should make use of
regular memory cgroup controls.
libcontainercgroups cgroup managers' Set now accept
configs.Resources rather than configs.Cgroups
libcontainercgroupssystemd reconnect and retry in case dbus
connection is closed after dbus restart
libcontainercgroupssystemd don't set limits in Apply

Bugfixes

seccomp fix bit compilation errors regression in rc
cgroupv blkio weight value conversion fix
runc init fix a hang caused by deadlock in seccompebpf loading code regression in rc
runc start fix chdir to cwd permission denied for some setups regression in rc
s fix broken terminal regression in rc

Improvements

runc startexec better diagnostics when container limits are too low
runc startexec better cleanup after failed runc init
cgroupv improve freezing chances
cgroupv multiple GetStats improvements
cgroupv fallback to setting io.weight if io.bfq.weight is not available
capabilities WARN not ERROR for unknown unavailable capabilities

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TestDuplicateMountpointsForVolumesFromAndMounts remove unintentional dependency for tmpdata;"tmpdata needs to be created before running this test by some other test
Signedoffby Akihiro Suda suda.akihirolab.ntt.co.jp
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2346;vendor gosystemdv v.. dbusv v..;"extracting this from 
vendor github.comcoreosgosystemdv v..
full diff coreosgosystemdv.....v..
vendor github.comgodbusdbusv v..
full diff godbusdbusv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";integrationclionswarm make sure deferred function gets executed before os.Exit;"The following defer func had not been executed because os.Exit is called before returning from the function.
	defer func 
 		logrus.InfofNOTE You may want to inspect or clean up following resources
 		logrus.Infof Stack s defaultStackName
 		logrus.Infof Volume s defaultVolumeName
 		logrus.Infof Compose file s compose
 		logrus.Infof Master image s defaultMasterImageName
 		logrus.Infof Worker image s workerImageForStack
 	
Signedoffby Akihiro Suda suda.akihirolab.ntt.co.jp
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2347;ocicaps remove unused GetCapability and ValidateCapabilities;"extracting from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix description of docker run|create stopsignal in help message;"docker run and docker create have a strange description for stopsignal in the usage message
 docker create help | grep stopsignal
 stopsignal string Signal to stop a container SIGTERM by default default SIGTERM
This PR removes the redundant SIGTERM by default.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2348;. backport Use v capabilities in layer archives;"Cherrypick 


 What I did
Fixes 
When building images in a usernamespaced container v capabilities are
stored including the root UID of the creator of the usernamespace.
This UID does not make sense outside the build environment however. If
the image is run in a nonusernamespaced runtime or if a usernamespaced
runtime uses a different UID the capabilities requested by the effective
bit will not be honoured by execve due to this mismatch.
Instead we convert v capabilities to v dropping the root UID on the
fly.
 How I did it
Patched ReadSecurityXattrToTarHeader to automatically convert v capabilities to v by switching the version identifier and dropping the root UID data.
 How to verify it
This reproducer can be used.
Compared with the output in issue this produces
 default docker run rm capabilitiesbuiltwithnouserns. binbash c 'usrlocalbinsleeptest infinity sleep grep Cap procpgrep sleepteststatus'
 default CapInh	afb
 default CapPrm	
 default CapEff	
 default CapBnd	afb
 default CapAmb	
 default docker run rm capabilitiesbuiltwithuserns. binbash c 'usrlocalbinsleeptest infinity sleep grep Cap procpgrep sleepteststatus'
 default CapInh	afb
 default CapPrm	
 default CapEff	
 default CapBnd	afb
 default CapAmb	

So we see that in the nd case also execve honoured the effective bit.
 Description for the changelog

Capabilities in image layers are stored in v format even when built inside a nonroot usernamespace.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";integrationclionswarm new CLI flag keepexecutor;"What I did
integrationclionswarm executes integrationcli across Swarmmode by running docker run privileged rm e TESTFLAGS\check.f TestFooBar\ ... hackmake.sh testintegrationcli from the service with the bindmounted socket.
This PR ad";0
2349;Move Michael Crosby to alumni;"Michael informed me that he wants to step down as a maintainer for the project so I tried to write up something nice ?ÿà
Thank you Michael
AkihiroSuda Anusha coolljt cpuguy crosbymichael estesp johnstep justincormack kolyshkin MHBauer runcom stevvooe tianon tibor tonistiigi unclejack vdemeester vieux yongtang ptal
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for service create|update stopsignal;"Ref 

adds the new option to bash completion of docker service create|update using the same completion of signals as docker container kill signal has
also adds completion of signals to docker create|run stopsignal

Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2350;Added missing test cleanup for temporary directory;"What I did
While going through one of the test files I noticed that one temporary directory was not being removed at the end of the test so I fixed that. There was also a typo in a directory name. Although it was a minor thing I fixed that one too.
 H";modify ID to ChainID to avoid confusing;"modify ID to ChainID to avoid confusing with DiffID.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2351;. backport hackdind fix cgroup v evacuation with docker run init;"Cherrypick 


 What I did
Fix dockerlibrarydocker
 How I did it
Evacuate all the processes in sysfscgroupcgroup.procs not just PID .
 How to verify it
Before
 docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreecontrol
sed couldn't flush stdout Device or resource busy
After
 docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreecontrol
cpuset cpu io memory hugetlb pids rdma
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";move secret into swarm thing in swagger;"Signedoffby allencloud allen.sundaocloud.io

 What I did

move secret into swarm thing in swagger

ping thaJeztah vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2352;Add security privilege needed to write layers to VHDX;"Add a security privilege SeSecurityPrivilege when writing image layers required when the docker data root is a VHDX.
Microsoft Case
Signedoffby Adam Williams awilliamsmirantis.com

 What I did
 How I did it
 How to verify it
Verified by setting up a VHDX as docker data root and successfully had images written to it.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Error on attempting services logs on TTY container;"Signedoffby Drew Erny drew.ernydocker.com

Errors are better than undefined behavior.
 What I did
Error on attempting to do docker service logs on a service with TTYattached containers.
Right now getting service logs from a container with an attached TTY does not work. The behavior was undefined and caused the command to hang and strange messages to occur in the daemon logs.
 How I did it
This returns errors both deep in the swarmkit adapter to guard against undefined behavior which is Bad and in the daemon to tell users that the thing they're asking for is not possible by checking if the requested servicecontainer is TTYattached and returning an error if it is.
 How to verify it
Create a service with a TTY attached try to do logs see how errors are returned
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2353;rootless disable overlay if running with SELinux;"Contains dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts


 What I did
Close rootlessoverlay kernel .SELinux mkdir homeUSER.localsharedockeroverlayCIDinitmergeddev permission denied. 
 How I did it
Disable overlay when DOCKERDROOTLESSSELINUX is set.
We can't rely on goselinux.GetEnabled because RootlessKit doesn't mount sysfsselinux in the child rootlesscontainersrootlesskit
 How to verify it

Install to Fedora 
Make sure docker info shows fuseoverlayfs as the default storage driver on rootless while retaining overlay on rootful
Make sure docker run helloworld works on rootless

 Description for the changelog

rootless disable overlay if running with SELinux
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Service logs formatting;"This PR updates to address the concerns with that PR.

Removed the details flag which isn't supported in the swarmkit API at this time. It may return later.
Fixed a possible issue with setting the padding variable on recommendation of aaronlehmann.
Declined to implement a go template formatter. It's a lot of work and too much control it may return later.
Changed noids to notaskids

Does this look good aaronlehmann cpuguy vdemeester 
cc aluzzardi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2354;hackdind fix cgroup v evacuation with docker run init;"What I did
Fix dockerlibrarydocker
 How I did it
Evacuate all the processes in sysfscgroupcgroup.procs not just PID .
 How to verify it
Before
 docker run rm privileged init docker build q . cat sysfscgroupcgroup.subtreeco";Fix inefficient file paths filter;"Previous version compiled patternsfiles regexps to process .dockerignore. This version caches reused patterns.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2355;grpc make sure typed errors handler is installed;"Makes sure typed errors support in buildkit or other grpc services is used. This makes sourcemapsdebug info in errors work for docker buildx even when using the docker driver with the buildkit vendor in moby.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows no pidfile when service;"Signedoffby John Howard jhowardmicrosoft.com
Fixes .
Fixes 
friism johnstep thaJeztah
With this change the pidfile mechanism is disabled when the daemon is running as a service on Windows. SCM will ensure that only one instance is running at a time.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2356;Update Microsoftgowinio to version ..;"Signedoffby Adam Williams awilliamsmirantis.com
Update Microsoftgowinio to ... A change in this version is needed for a future fix to using docker data root on a VHDX.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update runc to cfadbdbcaadeaddfe;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

opencontainersrunc was cherry picked.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2357;Add John Howard to our alumni;"Followup to Thank you John
 A picture of a cute animal not mandatory but encouraged

image Melinda Hampton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Update runc to cfadbdbcaadeaddfe;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

opencontainersrunc was cherry picked.
Addresses 
dockerarchiveruncadafd...cf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2358;docker pull warn when pulled singlearch image does not match platform;"addresses dockerformac
This takes the same approach as was implemented on docker build where a warning
is printed if FROM platform... is used added in 
Before
docker rmi armhfbusybox
docker pull platformlinuxsx armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
docker.ioarmhfbusyboxlatest

With this change
docker rmi armhfbusybox
docker pull platformlinuxsx armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
WARNING image with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm
docker.ioarmhfbusyboxlatest

And daemon logs print
WARNT.Z ignoring platform mismatch on singlearch image errorimage with reference armhfbusybox was found but does not match the specified platform wanted linuxsx actual linuxarm imagearmhfbusybox

When pulling without specifying platform no warning is currently printed but we can add a warning in future
docker rmi armhfbusybox
docker pull armhfbusybox

Using default tag latest
latest Pulling from armhfbusybox
daf Pull complete
Digest shaecddafbcdcaecbddd
Status Downloaded newer image for armhfbusyboxlatest
docker.ioarmhfbusyboxlatest

 Description for the changelog

Print a warning when pulling a singlearch image with docker pull platform and the pulled image's platform does not match the specified platform.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove aufs debugEBusy;"Since it was introduced no reports were made and lsof seems to cause
issues on some systems.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2359;. backport dockerdrootless.sh use command v instead of which;"Cherrypick 


 What I did
Allow running rootless daemon without which binary
 How I did it
Use command v
 How to verify it
Run dockerdrootless.sh
 Description for the changelog

dockerdrootless.sh use command v instead of which
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Update containerd to ecdadbafeafcdad;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Closes 
Closes it's the second part of the fix 
diff
diff git acontainerdmain.go bcontainerdmain.go
index e..bdde 
 acontainerdmain.go
 bcontainerdmain.go
 import 
 	github.comcodegangstacli
 	github.comcyberdeliagometricsgraphite
 	github.comdockercontainerd
	github.comdockercontainerdapigrpcserver
	grpcserver github.comdockercontainerdapigrpcserver
 	github.comdockercontainerdapigrpctypes
 	github.comdockercontainerdapihttppprof
 	github.comdockercontainerdsupervisor
 func main 
 func daemoncontext cli.Context error 
 	s makechan os.Signal 
 	signal.Notifys syscall.SIGTERM syscall.SIGINT
	 Split the listen string of the form protoaddr
	listenSpec context.Stringlisten
	listenParts strings.SplitNlistenSpec 
	if lenlistenParts 
		return fmt.Errorfbad listen address format s expected protoaddress listenSpec
	
	 Register server early to allow healthcheck to be done
	server err startServerlistenParts listenParts
	if err nil 
		return err
	
 	sv err supervisor.New
 		context.Stringstatedir
 		context.Stringruntime
 func daemoncontext cli.Context error 
 	if err nil 
 		return err
 	
	types.RegisterAPIServerserver grpcserver.NewServersv
 	wg sync.WaitGroup
 	for i i i 
 		wg.Add
 func daemoncontext cli.Context error 
 	if err sv.Start err nil 
 		return err
 	
	 Split the listen string of the form protoaddr
	listenSpec context.Stringlisten
	listenParts strings.SplitNlistenSpec 
	if lenlistenParts 
		return fmt.Errorfbad listen address format s expected protoaddress listenSpec
	
	server err startServerlistenParts listenParts sv
	if err nil 
		return err
	
 	for ss range s 
 		switch ss 
 		default
 func daemoncontext cli.Context error 
 	return nil
 
 
func startServerprotocol address string sv supervisor.Supervisor grpc.Server error 
func startServerprotocol address string grpc.Server error 
 	 TODO We should use TLS.
 	 TODO Add an option for the SocketGroup.
 	sockets err listeners.Initprotocol address nil
 func startServerprotocol address string sv supervisor.Supervisor grpc.Ser
 	
 	l sockets
 	s grpc.NewServer
	types.RegisterAPIServers server.NewServersv
 	healthServer health.NewServer
 	grpchealthv.RegisterHealthServers healthServer
 
diff git asupervisorsupervisor.go bsupervisorsupervisor.go
index c..efdd 
 asupervisorsupervisor.go
 bsupervisorsupervisor.go
 func s Supervisor restore error 
 		id d.Name
 		container err runtime.Loads.stateDir id s.shim s.timeout
 		if err nil 
			return err
			logrus.WithFieldslogrus.Fieldserror err id id.Warnfcontainerd failed to load containerremoving state directory.
			os.RemoveAllfilepath.Joins.stateDir id
			continue
 		
 		processes err container.Processes
 		if err nil 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2360;Wait for run goroutine to exit before Close;"Fixes 

The underlying Loggers Close function can be called with the the
run goroutine still writing to the driver.
This is causing the fluentdgolanglogger to panic cause it doesn't
defensively check for the closing of the channel before writing to it.
It relies on the docker daemon to keep the contract of not calling Log
if Close has already been called.

 What I did
Synchronize the close of the underlying logger only after the run goroutine has exited.
 How I did it
Added a sync.Waitgroup to be instantiated withe the RingLogger and then added a wait condition of the goroutine to exit
before Close is called on the underlying logger.
 How to verify it
I am not sure how best to verify it. Let me know if I should add a unit test for this change or something.
 Description for the changelog

Fixes the race condition between RingLogger Close and run goroutine.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add composebindata validation to default;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2361;builderdockerfile add ALLPROXY to list of default build args;"equivalent change for buildkit mobybuildkit
Relates to httpsgithub.comlinuxkitlinuxkitblobaffffcdcfefcdcdocspackages.mdproxies

.. the first four of these are the standard builtin buildarg options
available for docker build
.. The last allproxy is a standard var used for socks proxying. Since
it is not built into docker build if you want to use it you will need to
add the following line to the dockerfile
ARG allproxy

Given the we support all other commonly known proxy envvars by default it makes sense to add this one as well.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Fix the generated bindata in the release branch;"Fixes for the release branch it's correct in master.
I'm not sure how this happened but somehow in the cherrypicking the bindata changes were lost.
cc vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2362;dockerdrootless.sh use command v instead of which;"What I did
Allow running rootless daemon without which binary
 How I did it
Use command v
 How to verify it
Run dockerdrootless.sh
 Description for the changelog

dockerdrootless.sh use command v instead of which
 A picture of a cute animal no";Fix typo in CHANGELOG.md;"Fixed URL of pull request 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2363;Remove needless check;"What I did
Starting dockerdrootless.sh checks that HOME is writeable but does not
require it to be so. It failed to start with a readonly HOME.
Make the check more precise and check that it actually exists and is a
directory.
 How to verify it

M";Fix fish autocompletion with custom ps output;NOM;0
2364;Remove myself lowenna aka jhowardmsft from maintainers;"Signedoffby John Howard githublowenna.com
I think it's very doubtful at this point that I'm going to be able to positively contribute anything to the project now that I'm semiretired no longer working at Microsoft have the tech to be able to run this stuff on Windows nor have any inside knowledge some months on. So time to bow out gracefully and watch from afar. I still use it daily just on Linux ?ÿé. So I'm giving up my maintainer role.
Just hope I got my PR correct with the CRLF vs LF. It's been waaaaay too long since I did anything crossplatform. It will make me laugh at least if I got it wrong my machine is just defaults ?ñú
AkihiroSuda Anusha coolljt cpuguy crosbymichael estesp johnstep justincormack kolyshkin MHBauer runcom stevvooe thaJeztah tianon tibor tonistiigi unclejack vdemeester vieux yongtang
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";api clarify that Env var without is removed from the environment;NOM;0
2365;. backport Dockerfile update yamllint to v.. to fix build;"backport of 
Installation of yamllint started failing on nonamd builds which could
be if the version we were using wasn't specific enough about a dependency
to install.
copying CythonUtilityCppSupport.cpp buildlib.linuxaarch.CythonUtility
running buildext
building 'Cython.Plex.Scanners' extension
creating buildtemp.linuxaarch.
creating buildtemp.linuxaarch.tmp
creating buildtemp.linuxaarch.tmppipinstalljasgbmp
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCython
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCython
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlex
aarchlinuxgnugcc pthread DNDEBUG g fwrapv O Wall g fstackprotectorstrong Wformat Werrorformatsecurity Wdatetime DFORTIFYSOURCE fPIC Iusrincludepython.m c tmppipinstalljasgbmpCythonCythonPlexScanners.c o buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexScanners.o
 tmppipinstalljasgbmpCythonCythonPlexScanners.c fatal error Python.h No such file or directory
 include Python.h
 
 compilation terminated.
 error command 'aarchlinuxgnugcc' failed with exit status 

 
 Command usrbinpython u c import setuptools tokenizefile'tmppipinstalljasgbmpCythonsetup.py'fgetattrtokenize 'open' openfilecodef.read.replace'\r\n' '\n'f.closeexeccompilecode file 'exec' install record tmppiprecordifqclweinstallrecord.txt singleversionexternallymanaged prefix tmppipbuildenvdtiuyfw compile failed with error code in tmppipinstalljasgbmpCython

 
Command usrbinpython m pip install ignoreinstalled nouser prefix tmppipbuildenvdtiuyfw nowarnscriptlocation nobinary none onlybinary none i httpspypi.orgsimple setuptools wheel Cython failed with error code in None
 ERROR executor failed running binsh c pip install yamllint.. exit code 

Trying if updating to the latest version fixes this.
Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit ccefb
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cluster Proceed with startup if cluster component can't be created;"The current behavior is for dockerd to fail to start if the swarm component can't be started for some reason. This can be difficult to debug remotely because the daemon won't be running at all so it's not possible to hit endpoints like info to see what's going on. It's also very difficult to recover from the situation since commands like docker swarm leave are unavailable.
Change the behavior to allow startup to proceed.
Note this is a change we'll have to communicate well. People may expect they can rely on successful daemon startup as an indicator that swarm mode is functioning though frankly I expect that in most cases people are surprised when dockerd suddenly fails to start. I'm not sure where this change needs to be documented.
Fixes 
cc tonistiigi aluzzardi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2366;Dockerfile update yamllint to v.. to fix build;"Installation of yamllint started failing on nonamd builds which could
be if the version we were using wasn't specific enough about a dependency
to install.
copying CythonUtilityCppSupport.cpp buildlib.linuxaarch.CythonUtility
running buildext
building 'Cython.Plex.Scanners' extension
creating buildtemp.linuxaarch.
creating buildtemp.linuxaarch.tmp
creating buildtemp.linuxaarch.tmppipinstalljasgbmp
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCython
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCython
creating buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlex
aarchlinuxgnugcc pthread DNDEBUG g fwrapv O Wall g fstackprotectorstrong Wformat Werrorformatsecurity Wdatetime DFORTIFYSOURCE fPIC Iusrincludepython.m c tmppipinstalljasgbmpCythonCythonPlexScanners.c o buildtemp.linuxaarch.tmppipinstalljasgbmpCythonCythonPlexScanners.o
 tmppipinstalljasgbmpCythonCythonPlexScanners.c fatal error Python.h No such file or directory
 include Python.h
 
 compilation terminated.
 error command 'aarchlinuxgnugcc' failed with exit status 

 
 Command usrbinpython u c import setuptools tokenizefile'tmppipinstalljasgbmpCythonsetup.py'fgetattrtokenize 'open' openfilecodef.read.replace'\r\n' '\n'f.closeexeccompilecode file 'exec' install record tmppiprecordifqclweinstallrecord.txt singleversionexternallymanaged prefix tmppipbuildenvdtiuyfw compile failed with error code in tmppipinstalljasgbmpCython

 
Command usrbinpython m pip install ignoreinstalled nouser prefix tmppipbuildenvdtiuyfw nowarnscriptlocation nobinary none onlybinary none i httpspypi.orgsimple setuptools wheel Cython failed with error code in None
 ERROR executor failed running binsh c pip install yamllint.. exit code 

Trying if updating to the latest version fixes this.

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Stop holding client container lock during shutdown;"Signedoffby Darren Stahl darstmicrosoft.com

closes 
 What I did
Prevent the container exit thread from holding the client lock while waiting for the container to shut down. This prevents temporary hangs in the case of a container failing to terminate.
 How I did it
Hold the client lock only while removing the containerprocess from the respective list and release it before shutting the container down.
 How to verify it
Manual verification only affects timing not correctness.
cc jhowardmsft jstarks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2367;. backport bump up rootlesskit to v.. Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns;"Cherrypick 


 What I did
Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns.
rootlesscontainersrootlesskit
 How I did it
Bumped up RootlessKit to v...
Full changes rootlesscontainersrootlesskitv.....v..
 How to verify it
Make sure that the following error no longer happens.
 cat .configsystemduserdocker.service.doverride.conf 
Service
EnvironmentDOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns

 docker contextrootless run rm p nginxalpine
docker Error response from daemon driver failed programming external connectivity on endpoint dreamygauss ecbcdfcfcaccefeefeaebcedfd Timed out proxy starting the userland proxy.
 Description for the changelog

Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns.
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Add missing HostConfig fields to update block;"Signedoffby Darren Stahl darstmicrosoft.com

 What I did
Fixes 
Some values CpuCount and CpuPercent among others were not being checked during container update. This resulted in returning success when using the Update Container API with resources set to be updated even though they were not updated.
 How I did it
Ensure all fields in the Resources field of HostConfig are not set when updating containers on Windows daemons.
 How to verify it
See for repro steps
Proof of fix

 Description for the changelog

Block resource updating on Windows containers instead of silently failing in some cases
cc jhowardmsft jstarks FYI
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2368;bump up rootlesskit to v.. Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns;"What I did
Fix Timed out proxy starting the userland proxy. error with DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns.
rootlesscontainersrootlesskit
 How I did it
Bumped up RootlessKit to v...
Full changes rootlesscontainersrootle";Fix dropped field in task translation from GRPC to REST;"Split off from .
This fixes the ForceUpdate field being omitted from the JSON representation of a TaskSpec returned by the REST API. It also reorganizes the code to reduce duplication.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2369;. Bump hcsshim for error details fix;"This pulls in fixes from the moby branch for hcsshim that . uses.
Not bumping up to the latest release because the diff is huge.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Some cleanup of container run command;"Extract a few functions from a massive function.
A new containerConfig option for passing around the three config structs.
Use the containerOptions object instead of flags for checking attach.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2370;Limit the rate at which logger errors are logged into daemon logs;"Logging to daemon logs every time there's an error with a log driver can be
problematic since daemon logs can grow rapidly potentially exhausting disk
space.
Instead it's preferable to limit the rate at which log driver errors are allowed
to be written. By default this limit is entries per second max.
Signedoffby Angel Velazquez angelcaramazon.com

 What I did
Created a packagelevel LogDriverError function that limits the rate at which errors produced by log drivers can be written to daemon logs.
 How I did it
Used golang.orgxtimerate Limiter.
 How to verify it

Verified the solution actually works by building my Docker changes in an EC box and manually checked that the logging rate was limited as expected.

 Description for the changelog

Logging errors produced by log drivers are now limited to per second max. This changes the previous behavior where each container log error was also logged in the daemon logs.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Seccomp Update;"Update libseccompgolang to .. release
Update libseccomp to .. release
add preadv and pwritev syscalls to whitelist

Signedoffby Justin Cormack justin.cormackdocker.com

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2371;vendor github.comcontainerdconsole v..;"Contains fix for sx and support for FreeBSD
full diff containerdconsolev.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo in sample output;"For some reasons the bash output has the first column as ICONTAINER ID instead of CONTAINER ID. This should fix part of docker.github.io .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2372;Use containerd's apparmor package to detect if apparmor can be used;"depends on Update containerdcontainerd to version with go modules first four commits are from that PR

relates to which fixes a test that was revealed by libcontainer no longer performing the same check
Use containerd's apparmor package to detect if apparmor can be used
The runclibcontainer apparmor package on master no longer checks if apparmorparser
is enabled or if we are running dockerindocker.
While those checks are not relevant to runc as it doesn't load the profile these
checks are relevant to us and containerd. So switching to use the containerd
apparmor package which does include the needed checks.
vendor github.comcontainerdcontainerd bfaefabeacebfacecc
This patch picks the first commit in containerd that exports the AppArmor package
functions to keep the vendor diff small there are some updates to that package
after this but those will be included in other patches.
full diff containerdcontainerdfbfa...eda
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";skip plugin test on non x architectures;"Because the plugins in dockerhub aren't multiarch they will
fail on non x platforms. Comment this test out like we do with
the others.
should fix the p z and an issue on the arm CI
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2373;Update containerdcontainerd to version with go modules;"Update containerdcontainerd to version with go modules
This updates containerd to after the migration to go modules. To help the migration
updating is done in a couple of commits to make the changes more visible easy
to follow
vendor github.comcontainerdcontainerd bfaefabeacebfacecc
This is the last commit before containerd switched to using go modules. Using this
as an intermediate version to allow us to more easily track what dependency updates
containerd has.
full diff containerdcontainerdedc...bfa
relevant changes in vendored code

Do not hardcode amd on LCOW and Windowsrelated files
Optimize Windows and LCOW snapshotters to only create scratch layer on the final snapshot
Add annotations to task update request api

vendor github.comcontainerdcontainerd fbfadedabddacebbeca
This is the first commit after the containerd transition to go modules. Using this
as an intermediate version to allow us to track what dependency changes are
introduced in the containerd dependency since.
full diff containerdcontainerdbfa...fbfa
There were some fixups in the PR after adding go modules that updated dependencies
which will be aligned in the next commits.

containerdcontainerdafea
containerdcontainerddeb
containerdcontainerdadff
containerdcontainerdfcca

Dependencies updated

github.comcoreosgosystemd coreosgosystemdv.....v..
golang.orgxsync golangsynccdda...ee

Dependencies not updated already ahead

github.comcontainerdgorunc containerdgoruncdc...bb
github.comsyndtrgocapability syndtrgocapabilityd...cb
github.comgolangsys golangsysaaa...beb
github.comgoogleapisgogenproto googleapisgogenprotoecd...fa

Dependencies not yet updated doing separately

github.comgooglegocmp googlegocmpv.....v..
github.comimdariomergo imdariomergov.....v..
github.comMicrosoftgowinio microsoftgowiniov.....bb
github.comprometheusclientgolang prometheusclientgolangv.....v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testintegration Introduce a cli package for testintegration;"This is an attempt to extract dockerCmd inspect and build code from dockerutilstest.go to packages here cli and clibuild. The idea is to make what's done for buildImage but for any docker command and make it so that a test suite that wants to target a daemon use the same command as the default one with just a modifier.
Some code examples ?É?.
 dockerCmd functions
out cli.DockerCmdc ps q.Combined equilvalent to dockerCmdps q
cli.Dockercli.Cmdps q cli.Ons.d equivalent to d.Cmdps q
cli.Dockercli.Cmdps q cli.WithTimeout time.Second.Assertc icmd.Success
 Showing chaining asserts and using result
out cli.Dockercli.Cmdps q.Assertc icmd.Success.Combined

 build functions
cli.BuildCmdimageName build.WithDockerfile?Çª
cli.BuildCmdimageName build.WithoutCache withBuildContext?Çª
 Or the common hard way for specific stuff
cli.Dockercli.BuildimageName build.WithDockerfile?Çª cli.WithFlagq

 inspect functions
id cli.InspectCmdc id cli.Format.Id.Combined
 Or the common hard way for specific stuff 
cli.Dockercli.Inspectid cli.Format.Id.Combined
It also comes with a small change in pkgtestutilcmd package to be able to chain multiple Assert and thus use Result after asserts if needed ?É».
It's a wip because I want to get some feedback on that ?æ? and because I didn't migrate all function will be in followup PRs anyway because it would be too much to review in one pass and didn't mark old function as deprecated either. Not sure about the name either ?ÿà. It might not pass validation too at first because I didn't comment all exported function ?ÿ¥
cc thaJeztah aaronlehmann dnephin icecrime cpuguy vieux
?ªü
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2374;btrfs Do not disable quota on cleanup;"Before this change cleanup of the btrfs driver occuring on each daemon
shutdown resulted in disabling quotas. It was done with an assumption
that quotas can be enabled or disabled on a subvolume level which is
not true enabling or disabling quota is always done on a filesystem
level.
That was leading to disabling quota on btrfs filesystems on each daemon
shutdown.
This change fixes that behavior and removes misleading subvol prefix
from functions and methods which set up quota on a filesystem level.
Fixes 
Fixes dockerforlinux
Fixes cd Add disk quota support for btrfs 
Signedoffby Michal Rostecki mrosteckiopensuse.org

 What I did
Ensured that moby deamon doesn't disable quotas in the btrfs filesystem.
 How I did it

Removed the subvolDisableQuota method.
Limited the Cleanup method just to unmounting.
Removed the misleading subbol prefixes from methods which do operations on a filesystem level.

 How to verify it

Ensure that btrfs quota is enabled btrfs quota enable 
Start dockerd
Gracefully shutdown dockerd
Check if btrfs quota is still enabled by ensuring btrfs qgroup show runs successfully.

I've done those steps inside the dev shell. They require btrfsprogs which can be installed with apt update apt install btrfsprogs.
 Description for the changelog

btrfs Do not disable quota on cleanup
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use formatter in docker diff;"What I did
Use formatter.Context to print changes in the diff command
related to 
 How I did it

Create clicommandformatterdiff.go
Add unit tests to clicommandformatterdifftest.go
Update integrationcli tests

 How to verify it
 TESTFLAG";0
2375;Fixes subvol delete on a nonbtrfs volume;"Inode numbers are guaranteed to be unique only within a filesystem.
As such there is an edge case where these predicates are true on a
nonbtrfs filesystem.
Closes 
Signedoffby Brett Milford brettmilfordgmail.com

 What I did
Added an additional check for filesystem type.
 How to verify it
Tested this code block on btrfs and nonbtrfs zfs filesystems.
 Description for the changelog
Fixed issue where nukegraphdirectory.sh executes btrfs subvolume delete on a nonbtrfs file.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Wrong entrypoint in docker plugin example;"Wrong entrypoint in docker plugin example
gobin directory not exist change the entrypoint to dockervolumesshfs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2376;Bump hcsshim to get some fixes.;"closes 
This also requires bumping winio.
This addresses some customer issues for us.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cluster Renew the context after communicating with the registry;"When pinning by digest the registry might be slow or unresponsive. This
could cause the context to already be expired by the time UpdateService
or CreateService is called. We want digest pinning to be a besteffort
operation so it's problematic if a slow or misbehaving registry
prevents the service operation from completing. Replace the context
after communicating with the registry so we have a fresh timeout for
the gRPC call.
Fixes 
cc nishanttotla
We might want to backport this to a stable release.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2377;Fix typo on the v. changelog;"Signedoffby Felipe Ruhland felipe.ruhlandgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Exclude ?Ç£default?Ç¥ buildargs from image history;"What I did
Based on the discussion in comment. This PR removes any of the default build args from the image history.
This is due to these being considered transparent i.e the result of an image shouldn't differ based on the HTTPPROXY varia";0
2378;. backport Move cgroup v out of experimental;"Cherrypick 


 What I did
We have upgraded runc to rc and added CI for cgroup .
So we can move cgroup v out of experimental.
Close 
 How I did it
Removed WARNING Support for cgroup v is experimental from docker info
 How to verify it
Run docker info
 Description for the changelog

Move cgroup v out of experimental
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup some memory flags used in the CLI;"Remove all the duplicate code around memory CLI flags
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2379;Move libnetwork;"This moves libnetwork intree as discussed in mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move Jana to alumni;"Thanks for everything mrjana Don't be a stranger ?ÿä
ping mavenugo aboch sanimej davetucker dockercoreenginemaintainers

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2380;testing update dockerpy ..;"drops support for python .
full diff dockerdockerpy.......
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Correct CPU usage calculation in presence of offline CPUs and newer Linux;"In torvaldslinuxca released in v.rc the
content of the cpuacct.usagepercpu file in sysfs was changed to include both
online and offline cpus. This broke the arithmetic in the stats helpers used by
docker stats since it was using the length of the PerCPUUsage array as a
proxy for the number of online CPUs.
Add current number of online CPUs to types.StatsJSON and use it in the
calculation.
Keep a fallback to lenv.CPUStats.CPUUsage.PercpuUsage so this code
continues to work when talking to an older daemon. An old client talking to a
new daemon will ignore the new field and behave as before.
Fixes .
Signedoffby Ian Campbell ian.campbelldocker.com

 What I did
Corrected docker stats output for age CPU used in the presence of offline CPUs.
 How I did it
Updated the types.CPUStats struct to include number of currently online CPUs from sysconfSCNPROCESSORSONLN and used that in the stats code to correctly calculate percentage CPU usage.
 How to verify it
Install a system with more possible CPUs than online CPUs e.g. in a VM with max vcpus set to but actual set to .
This command should show CPU usage
docker run d rm name spin debianlatest timeout s bash c 'while do done' docker stats

This one should show CPU usage
docker run d rm name spin debianlatest timeout s bash c 'while do done while do done' docker stats

Previous in the CPUs present scenario they would incorrectly report and respectively.
 Description for the changelog
Correct CPU usage accounting with Linux v.rc onwards when some CPUs are offline.
 A picture of a cute animal not mandatory but encouraged

By Samboob at English Wikipedia CC BYSA .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2381;. backport Fix TestInspect and pin arm machines to a specific Ubuntu version;"cherrypicks of

 Fix flaky TestInspect
 Pin arm machines to a specific Ubuntu version

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";testintegration Update request. signature to remove the host;". of use case for request call are using daemonHost. This makes it
default and adds a request.DoOnHost function to be able to specify
the host for specific more complex use cases.
cc thaJeztah dnephin aaronlehmann cpuguy AkihiroSuda icecrime
?ªü
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2382;. backport Use docker media type for plugin layers;"Cherrypicks to .
fixes 

This was changed as part of a refactor to use containerd dist code. The
problem is the OCI media types are not compatible with older versions of
Docker.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update changelog .. ce;"This cherrypicks some commits from the ..x branch back to master
cf
cefb
fbc 
fa 
aecb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2383;vendor gogoprotobuf v.. containerd and swarmkit;"opening as draft because this vendors swarmkit from dockerswarmkit dockerswarmkit which isn't merged yet
vendor github.comgogoprotobuf v..
full diff gogoprotobufv.....v..
bump version .. for gogoprotobuf due to CVE reported on
gogoprotobuf version .. CVE has been fixed for version ..
httpscve.mitre.orgcgibincvename.cginameCVE
vendor github.comcontainerdcontainerd eefcfbbafafcabcbc
full diff containerdcontainerdedc...ee
brings in updated protobufs generated with gogoprotobuf v..
vendor github.comcoreosetcd v..
full diff etcdioetcdv.....v..
vendor github.comdockerswarmkit aaabbaeecbcacaad
full diff dockerswarmkitdde...aa
Updated version of SwarmKit with protos generated with gogoprotobuf v..
due to CVE reported on gogoprotobuf version .. CVE has been
fixed for version ..
httpscve.mitre.orgcgibincvename.cginameCVE
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rerun vndr;"run latest vndr so as to collect more LICENSE files
remove unused packages
vendor github.comphilhoferfwd with LICENSE.md MIT
vendor github.combspherelego with LICENSE MIT

Before this PR
 make validate
WARNING could not find copyright information for github.comkrpty
WARNING could not find copyright information for github.commattngoshellwords
WARNING could not find copyright information for github.comdockerlibkv
WARNING could not find copyright information for github.comopencontainersgodigest
WARNING could not find copyright information for github.comphilhoferfwd
WARNING could not find copyright information for github.comawsawssdkgo
WARNING could not find copyright information for github.combspherelego
WARNING could not find copyright information for github.comdockercontainerd
WARNING github.commreifersongohttpclient is vendored but unused
WARNING bitbucket.orgwwgoautoneg is vendored but unused
WARNING could not find copyright information for github.comspfcobra
WARNING could not find copyright information for github.comdockergometrics
WARNING could not find copyright information for github.comxeipuuvgojsonpointer
WARNING could not find copyright information for github.comxeipuuvgojsonreference
WARNING could not find copyright information for github.comxeipuuvgojsonschema
After
 make validate
WARNING could not find copyright information for github.commattngoshellwords
this is not a legal issue see vendorgithub.commattngoshellwordsREADME.md MIT 
addendum to 
Signedoffby Akihiro Suda suda.akihirolab.ntt.co.jp
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2384;. backport btrfs Allow unprivileged user to delete subvolumes kernel .;"Cherrypick 


 What I did
Fix rootless driver btrfs failed to remove root filesystem Failed to destroy btrfs snapshot homeUSER.localsharedockerbtrfssubvolumes for ID operation not permitted
 How I did it
Cherrypick drivers btrfs Allow unprivileged user to delete subvolumes from containersstorage
containersstorageeb

In btrfs subvolume can be deleted by IOCSNAPDESTROY ioctl but there
is one catch unprivileged IOCSNAPDESTROY call is restricted by default.
This is because IOCSNAPDESTROY only performs permission checks on
the top directorysubvolume and unprivileged user might delete dirsfiles
which cannot be deleted otherwise. This restriction can be relaxed if
usersubvolrmallowed mount option is used.
Although the above ioctl had been the only way to delete a subvolume
btrfs now allows deletion of subvolume just like regular directory
i.e. rmdir sycall since kernel ..
So if we fail to cleanup subvolume in subvolDelete just fallback to
system.EnsureRmoveall to try to cleanup subvolumes again.
Note quota needs privilege so if quota is enabled we do not fallback
This fix will allow nonprivileged container works with btrfs backend.

 How to verify it
 dockerdrootless.sh dataroot mntbtrfsvarlibdocker
 docker contextrootless run rm helloworld
 Description for the changelog

btrfs Allow unprivileged user to delete subvolumes kernel .
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for service create|update rollback;"Ref 
This also removes the wrong completion for docker service create rollback only exists for update and refines completion for updatefailureaction.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2385;Fix flaky TestInspect;"hopefully fixes 
This test has been flaky for a long time failing with
 FAIL TestInspect .s
 inspecttest.go timeout hit after s waiting for tasks to enter run state. task failed with error task nonzero exit 

While looking through logs noticed tasks were started entering RUNNING stage
and then exited to be started again.
state.transitionSTARTINGRUNNING
...
msgfatal task error errortask nonzero exit 
...
state.transitionRUNNINGFAILED

Looking for possible reasons first considering network issues possibly we ran
out of IP addresses or networking not cleaned up then I spotted the issue.
The service is started with
Command stringbintop
Args stringu root

The u root is not an argument for the service but for bintop. While the
UbuntuDebianGNU version top has a uU option
docker run rm ubuntu. top h | grep '\u'
 top hv | bcEHiOSs d secs n max u|U user p pids o field w cols

The busybox version of top does not
docker run rm busybox top help | grep '\u'

So running top u root would cause the task to fail
docker run rm busybox top u root
top invalid option u
...

echo 


As a result the service went into a crashloop and because the poll.WaitOn
was running with a short interval in many cases would just find the RUNNING
state perform the service inspect and pass but in other cases it would not
be that lucky and continue polling untill we reached the seconds timeout
and mark the test as failed.
Looking for history of this option was it previously using a different image I
found this was added in cdd but probably
just missed during review.
Given that the option is only set to have something to inspect I replaced
the u root with d which makes top refresh with a second interval.
Note that there is another test TestServiceListWithStatuses that uses the same
spec however that test is skipped based on API version of the testdaemon and
to be looked into when performing that check no API version is known causing
the test to always be skipped
 RUN TestServiceListWithStatuses
 SKIP TestServiceListWithStatuses .s
 listtest.go versions.LessThantestEnv.DaemonInfo.ServerVersion .

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add the format option to the docker stack ls command;"What I did
Add the format option to the dockerstackls command
related to 
 How I did it

Add the format option to the clicommandstackls.go
Create clicommandformatterstack.go
Move stack.stack to api.types.Stack
Add unit tests

 How to ver";0
2386;vendor github.comcontainerdcontainerd v..;"full diff containerdcontainerdee...v..
I'll be looking if other dependencies need to be updated for containerd but these were the minimal changes
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add format to secret ls;"What I did
Add the format option to the dockersecretls command
related to 
 How I did it

Add the format option to the clicommandsecretls.go
Create clicommandformattersecret.go
Add unit tests

 How to verify it
TESTDIRS'clicommandform";0
2387;Jenkinsfile update checkconfig.sh to latest version;"There have been some updates to the script so might as well update the one we use during CI
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Network add support for 'dangling' filter;"Closes 
Like its counterpart in images and volumes introduce the dangling
filter while listing networks. When the filter value is set to true
only networks which aren't attached to containers and aren't builtin
networks are shown. When set to false all builtin networks and
networks which are attached to containers are shown.
Signedoffby Karthik Nayak Karthik.gmail.com

 How I did it
Mostly by mimicking the existing code and writing new code for supporting this feature.
 How to verify it
Either by running the unit test included or by simply building and running
docker network ls filter danglingtrue and docker network ls filter danglingfalse
 Description for the changelog
Network add support for 'dangling' filter
 A picture of a cute animal not mandatory but encouraged

Credits FlickrNEKOFighter
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2388;Remove deprecated hostdiscovery and overlay networks with external kv;"closes 
currently vendoring libnetwork changes from mobylibnetwork
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cmd docker fix TestDaemonCommand;"In more recent versions of Cobra help parsing is done before
anything else resulting in TestDaemonCommand not actually passing. I'm
actually unsure if this test ever passed since it appears that daemon
is not being run as part of the test suite.
You can check it by just running go test v github.comdockerdockercmddocker inside make shell.
 
Signedoffby Aleksa Sarai asaraisuse.de
 Trolli II by Christian Skubich.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2389;Replace BurntSushitoml with pelletiergotoml;"relates to containerdcontainerd
I'll also have a look at replacing the remaining uses in libnetwork
validatetoml switch to github.compelletiergotoml
The github.comBurntSushitoml project is no longer maintained
and containerd is switching to this project instead so start
moving our code as well.
This patch only changes the binary used during validation tbh
we could probably remove this validation step but leaving that
for now.
I manually verified that the hackverifytoml still works by adding a commit
that makes the MAINTAINERS file invalid
diff git aMAINTAINERS bMAINTAINERS
index beec..ababdde 
 aMAINTAINERS
 bMAINTAINERS
 
 a subsystem they are responsible for doing so and holding the
 subsystem maintainers accountable. If ownership is unclear they are the de facto owners.

 people 
 people 
 akihirosuda
 anusha
 coolljt
Running hackverifytoml was able to detect the broken format
 hackvalidatetoml
 keys cannot contain characterThese files are not valid TOML
 MAINTAINERS

 Please reformat the above files as valid TOML

libcontainerdsupervisor replace BurntSushitoml with pelletiergotoml
Taking the same approach as was taken in containerd
The new library has a slightly different output

keys at the same level are sorted alphabetically
empty sections not omitted proxyplugins streamprocessors timeouts
which could possibly be be addressed with an omitempty in containerd's struct.
empty slices are not omitted imports requiredplugins

After sorting the before configuration the diff looks like this
diff git aconfigbeforesorted.toml bconfigafter.toml
index ccceab..af 
 aconfigbeforesorted.toml
 bconfigafter.toml
 
 disabledplugins cri
imports 
 oomscore 
 plugindir 
requiredplugins 
 root varlibdockercontainerddaemon
 state varrundockercontainerddaemon
 version 
 version 
 shim containerdshim
 shimdebug true

proxyplugins

streamprocessors

timeouts

 ttrpc
 address 
 gid 
Before and after configfiles are attached in the zip below
configfiles.zip
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replaced err with nil added a comment;"Signedoffby Nikhil Chawla chawlanikhilgmail.com

 What I did
fixed a typographical mistake which was creating conflicts of thoughts while reading and understanding the code.
 How I did it
I read the code and felt the need to replace it with something more appropriate. Even took the help from another docker contributor.
 How to verify it
The error can be raised in dockerclicobra.go
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2390;Use designated test domains RFC in tests;"Some tests were using domain names that were intended to be fake but are
actually registered domain names such as domain.com registry.com mytest.com.
Even though we were not actually making connections to these domains it's
better to use domains that are designated for testingexamples in RFC
httpstools.ietf.orghtmlrfc

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support filter modeglobal|replicated for docker service ls;"What I did
This fix tries to address the request in by adding filter modeglobal|replicated to docker service ls.
As docker service ls has a MODE column by default it is natural to support filter modeglobal|replicated for docker service ls.";0
2391;. backport rootless fix getCurrentOOMScoreAdj;"What I did
backport of 
Fix rootless docker in kubernetes getting the final child's pid from pipe caused \EOF\ unknown
 How I did it
Fixed getCurrentOOMScoreAdj to trim \n before calling strconv.Atoi.
 How to verify it
rootless";Vendor swarmkit dccf;"This brings in the latest fixes from swarmkit including the following

Fix logs hanging dockerswarmkit
node Try to force TLS certificate renewal if role doesn't change after demotion dockerswarmkit

There is one change to an integration test to prevent it from timing out. swarmkit is now more conservative about restarting the manager during a rapid demotepromote cycle. The test now waits for the node to become demoted before promoting it again which avoids a slow timeout in swarmkit.
cc cyli dperny tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2392;. backport rootless overlay fix createDirWithOverlayOpaque... ... inputoutput error;"Cherrypick 


 What I did
Fix createDirWithOverlayOpaque... ... inputoutput error on rootless.
Fix dockerforlinux intermittent error on Debian kernel .
Fix reproducible error on kernel .
Fix 
 How I did it
bug fix Commit overlay call d.naiveDiff.ApplyDiff when useNaiveDifftrue
Previously d.naiveDiff.ApplyDiff was not used even when useNaiveDifftrue
optimization Commit overlay doesSupportNativeDiff add fast path for userns
When running in userns returns error i.e. use naive not native immediately.
No substantial change to the logic.
clean up Commit archive do not use overlayWhiteoutConverter for UserNS
overlay no longer sets archive.OverlayWhiteoutFormat when running in UserNS so we can remove the complicated logic in the archive package.
 How to verify it
 docker contextrootless pull python.
 Description for the changelog

rootless overlay fix createDirWithOverlayOpaque... ... inputoutput error
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix error caused by overlapping merge of;"This fix fixes build error caused by overlapping merge of and .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2393;. backport rootless bind mount fix operation not permitted;"Cherrypick 
 What I did
Fix 
Fix 
Fix the following issue
 sudo mount t tmpfs o noexec none tmpfoo
 docker contextrootless run it rm v tmpfoomntro alpine
docker Error response from daemon OCI runtime create failed containerlinux.go starting container process caused processlinux.go container init caused rootfslinux.go mounting tmpfoo to rootfs at homesuda.localsharedockeroverlaybeeafefffcfbedbfbdafacedbaecmergedmnt caused operation not permitted unknown.
 How I did it
Call getUnprivilegedMountFlagsm.Source
 How to verify it
 sudo mount t tmpfs o noexec none tmpfoo
 docker contextrootless run it rm v tmpfoomntro alpine
 Description for the changelog

rootless bind mount fix operation not permitted
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetwork a;"Fixes 
Fixes 
Also brings in mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2394;. backport bump up rootlesskit to v.. Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression;"Cherrypick 


 What I did
Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression.
rootlesscontainersslirpnetns
 How I did it
Bumped up RootlessKit to v..
Full changes rootlesscontainersrootlesskitv.....v..
 How to verify it
Run DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns dockerdrootless.sh and make sure docker run p ... nginxalpine works.
 Description for the changelog

Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression.
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use assert in image package unit tests;"Some misc cleanup

extract a function from a rather large function in the builder
remove setup duplication from the tests in image
use assert. in the tests to make them more readable and also for better assertions when an error is expected. Now a specific error message is expected.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2395;rootless bind mount fix operation not permitted;"What I did
Fix 
Fix 
Fix the following issue
 sudo mount t tmpfs o noexec none tmpfoo
 docker contextrootless run it rm v tmpfoomntro alpine
docker Error response from daemon OCI runtime create failed containerlinux.go";Add filter scopeswarm|local for docker network ls;"What I did
This fix tries to address the request in by adding filter scopeswarm|local for docker network ls.
As docker network ls has a SCOPE column by default it is natural to add the support of filter scopeswarm|local.
 How I did it
Thi";0
2396;client extract FromEnv parts to separate WithXX options;"relates to the discussion on 
Implements three options

WithTLSClientConfigFromEnv
WithHostFromEnv
WithVersionFromEnv

 Description for the changelog

Implement new options in the client package 

 WithTLSClientConfigFromEnv
 WithHostFromEnv
 WithVersionFromEnv

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ignore no such container in testEnv.Clean;"When moving the clean function there this check was not ported and
generated some errors on the CI. deleteContainer now fail if any
error but the clean function won't if no such container because of
some races .
cc dnephin cpuguy thaJeztah tonistiigi
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2397;AWSACCESSKEY misspelt in shared EC connection library;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo of environment var AWSACCESSKEY;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2398;vmwareguest Add multiple nics management Bug fixes;"ISSUE TYPE

Feature Pull Request
Bugfix Pull Request

COMPONENT NAME
vmwareguest
ANSIBLE VERSION
ansible ...

SUMMARY


Fix var name
function getfolder return foldermap instead of foldermap.


Fix bug in deploytemplate function
If folder not start by vm there is a no folder matched the path error


Power on VM if state is set to poweredon


New feature Move nic creation out of customizations Add multiple nics management
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vmwareguest module rewrite to add many features fixes;"ISSUE TYPE

Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME
vmwareguest
ANSIBLE VERSION
ansible ...

SUMMARY

New feature Add templateflag attribute to define if the destination machine is a template
New feature create VM without using templates
New feature multiple NIC
New feature multiple disks
New feature custom SCSI controller types default paravirtual
New feature NIC can now be E or VMXNet default
New feature customize NIC mac address
New feature new disk option autoselectdatastore permit to select the less used datastore. If datastore field is provided filter the datastore list before selection
New feature Implement disk resizing addition when statepresent and VM exists
New feature when statepresent and vm exists modify the current CPU Memory and disk space
New feature Add guestid attribute to customize VM guest ID in VMWare
New feature affect VM to a resource pool
New feature change VM configuration without recreating it CPU memory disks network guest ID resource pool
New feature suspended state thanks berney
Add 'gatherfacts' state to gather facts on a VM instead of previous 'present' state 'present' ensure the VM configuration
Add PyVmomiCache class to cache read only object
Various python code fixes
Various documentation fixes
esxihostname cluster are now exclusive
Drop ips attribute set ip directly into networks
Little performance fixes by removing some duplicate calls to VMWare API
Python portability fixes
Create many functions to make the code maintainable
Cleanup some useless attributes
Add helper class to create

SCSI controller
Disks
Network devices



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2399;Fixed issue with legacy jenkins instances following;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
jenkinsjob module
ANSIBLE VERSION
ansible .. Fixclassissuewithjenkinsjob dcfee last updated GMT 
 config file 
 configured module search path Default wo overrides

SUMMARY
As a fix for the bug in it was added an option to check if class for the internal jenkins plugin is in the excluded list and it was done by using getjobinfo API call from pythonjenkins module.
Unfortunately this call give different result for the Jenkins ver. . compare to the Jenkins ver. ..
Output for Jenkins .
u'scm' u'class' u'hudson.scm.NullSCM'
u'color' u'notbuilt'
u'lastSuccessfulBuild' None
u'actions' u'class' u'com.cloudbees.plugins.credentials.ViewCredentialsAction'
u'lastCompletedBuild' None
u'lastUnsuccessfulBuild' None
u'upstreamProjects' 
u'lastFailedBuild' None
u'healthReport' 
u'queueItem' None
u'lastBuild' None
u'class' u'hudson.model.FreeStyleProject'
u'lastStableBuild' None
u'description' u''
u'downstreamProjects' 
u'concurrentBuild' False
u'lastUnstableBuild' None
u'buildable' True
u'displayNameOrNull' None
u'inQueue' False
u'keepDependencies' False
u'name' u'Test'
u'displayName' u'Test'
u'builds' 
u'url' u'httpjenkinsinternalv.master.comjobTest'
u'firstBuild' None
u'nextBuildNumber' 
u'property' u'class' u'com.sonyericsson.rebuild.RebuildSettings'

Output for Jenkins . class is missing
u'scm' 
u'color' u'notbuilt'
u'lastSuccessfulBuild' None
u'actions' 
u'lastCompletedBuild' None
u'lastUnsuccessfulBuild' None
u'upstreamProjects' 
u'lastFailedBuild' None
u'healthReport' 
u'queueItem' None
u'lastBuild' None
u'lastStableBuild' None
u'description' u''
u'downstreamProjects' 
u'concurrentBuild' False
u'lastUnstableBuild' None
u'buildable' True
u'displayNameOrNull' None
u'inQueue' False
u'keepDependencies' False
u'name' u'Testjob'
u'displayName' u'Testjob'
u'builds' 
u'url' u'httpsjenkinsinternalv.master.comjobTestjob'
u'firstBuild' None
u'nextBuildNumber' 
u'property' 

So for Jenkins ver. . this api call doesn't return value class which crashes the module with following error
ansibleplaybook i localhost site.yml e jenkinsurlhttpsjenkinsinternalv.master.com e jenkinstokenXXXXXXXXX
WARNING Host file not found localhost

WARNING provided hosts list is empty only localhost is available


PLAY localhost 

TASK setup 
ok localhost

TASK Load variables 
ok localhost

TASK Add jenkins job 
failed localhost itemu'name' u'Test job' msg Unable to fetch job information 'class'
 to retry use limit Usersloginovaworkgitprojectsottpersistencepersistencejenkinsjobssite.retry

PLAY RECAP 
localhost ok changed unreachable failed

In order to fix this issue I suggest to use getjobconfig API call which properly works with all Jenkins versions
ansibleplaybook i localhost site.yml e jenkinsurlhttpsjenkinsinternalv.master.com e jenkinstokenXXXXXXXXX
 WARNING Host file not found localhost

 WARNING provided hosts list is empty only localhost is available


PLAY localhost 

TASK setup 
ok localhost

TASK Load variables 
ok localhost

TASK Add jenkins job 
changed localhost itemu'name' u'Test job'

PLAY RECAP 
localhost ok changed unreachable failed

Also I've added com.cloudbees.hudson.plugins.folder.Folder class to the list of excluded plugins since it has same issue with colour option.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Jenkins's pipeline job type to those that don't have a property that makes them enableddisabled;"SUMMARY

The jenkinsjob module cannot handle creating jobs of type org.jenkinsci.plugins.workflow.multibranch.WorkflowMultiBranchProject.

ISSUE TYPE


Feature Pull Request

COMPONENT NAME

webinfrastructurejenkinsjob.py
ANSIBLE VERSION

ansible ...
 config file 
 configured module search path Default wo overrides
 python version .. default Feb GCC .. Compatible Apple LLVM .. clang..

ADDITIONAL INFORMATION


See comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2400;closes issue pass groups to getfileparser;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Missing argument;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2401;git archive in ansiblegalaxy fails for nondefaultbranch versions;"Trying to install a branch that is not the default typically 'master' via ansiblegalaxy fails because git archive cannot handle remote branches. Introducing a git checkout solves this problem by pulling the remote branch onto the local machine.
My concrete example was
 galaxy.yml
 src httpsgithub.comthefinnansibletlsdate.git
 version renameservice
which caused
 executing git clone httpsgithub.comthefinnansibletlsdate.git ansibletlsdate
 executing git archive prefixansibletlsdate outputtmptmpOLHY.tar renameservice
 command git archive prefixansibletlsdate outputtmptmpOLHY.tar renameservice failed
 in directory tmptmpTlAMNS
 ansibletlsdate was NOT installed successfully.
 you can use ignoreerrors to skip failed roles.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";make ansiblegalaxy version work for branches as well as treeish;"Squashes WIP merges and replaces 
Version can now be a branch a tag or any supported by git including specific commit IDs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2402;edited remove manpage output from source control;"Issue Type
Bugfix Pull Request
Ansible Version
ansible . master cbb last updated GMT 
Environment
NA
Summary
There is a minor manpage bug in ansiblepull. due to a missing macro definition.
Steps To Reproduce
Running
LCALLenUS.UTF MANROFFSEQ'' MANWIDTH \
 man warnings E UTF l Tutf Z ansiblepull. devnull
will produce the following error
standard input warning macro Aq' not defined

Expected Results
NA
Actual Results
NA
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";removed generated man pages and added them to gitignore;"just to avoid 'changed' status in git repo after running make docs
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2403;Elasticcache primaryEndpoint can be unassigned;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

ec.py
ANSIBLE VERSION

ansible ...
 config file Usersdanielzitzmanprojectsopstoolsinfrastructureansible.cfg
 configured module search path 'library'

SUMMARY

If the elasticcache cluster dose not have a primary endpoint the inventory script fails
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed failure with Redis clusters not having primary endpoint address;"Fixed an issue where script would fail with Redis clusters where attempting to get the address off it's primary endpoint.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ec dynamic inventory script
ANSIBLE VERSION
ansible ...
 config file etcansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY
It appears the the Redis clusters don't have a Primary Endpoint address so the script currently fails because it's trying to find a key of 'Address' off an object of None the key of 'PrimaryEndpoint' in the parent dictionary.
Before
wholroydwholroydfedora Ansible .hosts refreshcache botoprofile stage
Traceback most recent call last
 File .hosts line in module
 EcInventory
 File .hosts line in init
 self.doapicallsupdatecache
 File .hosts line in doapicallsupdatecache
 self.getelasticachereplicationgroupsbyregionregion
 File .hosts line in getelasticachereplicationgroupsbyregion
 self.addelasticachereplicationgroupreplicationgroup region
 File .hosts line in addelasticachereplicationgroup
 dest replicationgroup'NodeGroups''PrimaryEndpoint''Address'
TypeError 'NoneType' object has no attribute 'getitem'


After
Not posting the output of my entire useast inventory but it does work

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2404;Add define command to virt module;"This allows you to define a VM if one with the given name doesn't already exist it can be used in a playbook like so
 name define vm
 virt namemyvm commanddefine xmlitem urilxc
 withtemplate containertemplate.xml.j
 name start vm
 virt namemyvm staterunning urilxc
I'm not particularly happy with how the xml argument is populated but it does work suggestions for a better syntax welcome I'm still getting my head around some of this.
One obvious caveat is that it wont redefine a VM for you if the XML changes but I dont think you could safely do that anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Define a persistent guest VM from a xml definition for virt module;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2405;Lambda integration tests;"SUMMARY
This is a set of integration tests covering lambda.py and incidentally executelambda. Currently creation of a lambda role named ansiblelambdarole is required
Also included is a bug fix for an exception when the role argument is not given to the module.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
lambda module
ANSIBLE VERSION
 config file etcansibleansible.cfg
 configured module search path u'homemikedddevansibleansibleaddmoduleslibrary'
 ansible python module location homemikedddevansibleansibleaddmoduleslibansible
 executable location homemikedddevansibleansibleaddmodulesbinansible
 python version .. default Jul GCC .. 

ADDITIONAL INFORMATION
to reproduce bug fixed

checkout version with only test cases added fcec
run testrunneransibletest integration vvv awslambda
lambda gives an exception

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make role required in lambda module per AWS docs;"SUMMARY

Per the AWS Docs role is a required parameter for Lambda functions. This makes the role required in the lambda module updates the docs to indicate that it is and creates a unit test to enforce this behvior.

Fixes 
ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

lambda
ANSIBLE VERSION

ansible .. requirelambdarole deff last updated GMT 
 config file etcansibleansible.cfg
 configured module search path u'Usershowie.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 ansible python module location Usershowiethirdpartyansiblelibansible
 executable location Usershowiethirdpartyansiblebinansible
 python version .. default Apr GCC .. Compatible Apple LLVM .. clang..

ADDITIONAL INFORMATION

This is a fairly straightforward pull request so additional information is not needed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2406;fix ansible galaxy file mangling;"SUMMARY
without this patch ansiblegalaxy will mangle files containing
the archive parent directory name eg 'owncloudfilesowncloud.cron'
will become 'owncloudfiles.cron'.
this patch simply limits the replacement to the first occurence of the
archive parent directory name.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ansiblegalaxy
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make sure to only remove the first directory in the path.;"SUMMARY
The previous code could affect the entire path and even filenames.
If a file path has the top level dir name as a substring galaxy
replaces it with ''. In one example the archive top level dir
is 'go' so 'filesgobin.sh' becomes 'filesbin.sh'.
Fixes 
This is a rebasecherrypick of 


ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

libansiblecligalaxy.py
ANSIBLE VERSION

ansible .. galaxypathmunge aa last updated GMT 
 config file etcansibleansible.cfg
 configured module search path u'homeadrian.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 ansible python module location homeadriansrcansiblelibansible
 executable location homeadriansrcansiblebinansible
 python version .. default Jan GCC .. Red Hat ..



ADDITIONAL INFORMATION




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2407;Suppport for kerberos\domain authentication for winrm;"This patch allows ansible to authenticate to winrm server via kerberos for Domain users.
Prerequisite steps on Ansible host


kinit userdomain.com The user gets a valid kerberos ticket to authenticate


Set the windows variables in ansible.
ansiblesshuser ansiblekerberos
ansiblesshpass ansiblekerberos
ansiblesshport 
ansibleconnection winrm
Please make sure the username and password is set to 'ansiblekerberos' which tells ansible to use the kerberos ticket for authentication.


Prerequisite steps on Windows host


Follow the steps on httpdocs.ansible.comintrowindows.html under the section Window sys prep


Make sure that Kerberos and Negotiate authentication is enabled on WinRm service.
'winrm g winrmconfigserviceauth'


Verify connection with WinRM service using Kerberos.
'winrm id rhostname.somedomain.com aKerberos udomainusernamesomedomain.com p'


Make sure there are no firewall blocking access to winrm service from ansible host.
on ansible host 'telnet '


Notes
kinit is provided with the package 'krbworkstation' in centosRhel
An example etckrb.conf file
logging
 default FILEvarlogkrblibs.log
 kdc FILEvarlogkrbkdc.log
 adminserver FILEvarlogkadmind.log

libdefaults
 defaultrealm BENNO.COM
 dnslookupkdc false
 ticketlifetime h
 renewlifetime d
 forwardable true
 udppreferencelimit 

realms
 BENNO.COM 
 kdc WINEUOPCEBU.benno.com
 adminserver WINEUOPCEBU.benno.com
 defaultdomain benno.com
 

appdefaults
validatefalse

domainrealm
 .benno.com BENNO.COM
 benno.com BENNO.COM


Please also make sure the hostnames given in ansible are available in both FORWARD and REVERSE DNS lookups.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds Kerberos authentication to winrm if available;"If the kerberos module is available winrm will attempt to establish a Kerberized connection to a Windows server. This allows use of Windows domain accounts which are quite often the only kinds of accounts enabled on enterprise networks.
This also pulls the transportschemes variable up into the winrm.Connection class. This lets tests or future modifications alter the list of available schemas without reaching into Connection.init.
Identical to but now with moar devel.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2408;use regionname in novacompute;"Currently regionname is not used. This commit fixes it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added region to nova client connection.;"Added the argument to nova client instantiation. Without it it will fail if the cloud provider you are using uses multiple regions because the driver doesn't know how to disambiguate.
I made this pull request on an earlier branch. I'm redoing so as to make it simple.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2409;add missing checks for async and checkmode;"fixes 
following refactoring of async cab
when call to ActionBase.run returns a skipped result
return directly in ActionModule.run
Restore previous behavior when misuse of async in modules not
supporting async fail with msg
SUMMARY
Add fail in ActionBase.run so previous behavior before refactoring is kept.
Add check in every ActionModule.run so it returns if ActionBase.run fails.
Add tests.

ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME

ANSIBLE VERSION

ansible .. issue aead last updated GMT 
 config file 
 configured module search path 'homefridim.ansiblepluginsmodules' 'usrshareansiblepluginsmodules'
 ansible python module location homefridimsyncdevansiblelibansible
 executable location homefridimsyncdevansiblebinansible
 python version .. default Jan GCC .. 


ADDITIONAL INFORMATION




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";finer grained failedskipped on async for actions;"SUMMARY

Brings back specific behaviour for each condition
fixes 
ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

async
ANSIBLE VERSION

..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2410;Fix Add netconf session timeout for JUNOS;"ISSUE TYPE


Feature Pull Request

COMPONENT NAME
junos
ANSIBLE VERSION

ansible .. devel f

SUMMARY



Set netconf session timeout value if 'netconftimeout' value is mentioned in 
junos playbook

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixes timeout param in netconf provider for junos;"This change will now cause the netconf provider to honor the module
timeout value when making calls to pyez.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2411;add doc to stat module function to display doc;"Hi
I had to make a function in ansibledoc to display parameters list properly.
Best regards
PS tmpstat is a working directory
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ansibledoc now shows return value docs;"modified ansibledoc to show documented return values registered var structure if a module has this data embeded.
TODO

add to docsiterst docs.ansible.com
create common docs for common data returned by all modules msgchangedfailedskipped etc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2412;Fix spacing and using name in item loop in task executor fix using connection shell from plugins;"Fix spacing and using name in item loop in task executor
 Fix using connection shell from plugins

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix AttributeError 'ActionModule' object has no attribute 'shell';"shell' was removed with commit afbd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2413;lvg module bugfix on vgoptions patch;"When no vgoptions are passed to the module 'vgoptions' still exists
in the module.params dict with a value of None so the default empty string in
the get method is never used. None cannot be splitted which backtraced.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Set default value for vgoptions;"Fixes a bug when vgoptions is not specified
File homevagrant.ansibletmpansibletmp.lvg line in main
vgoptions module.params.get'vgoptions' ''.split
AttributeError 'NoneType' object has no attribute 'split'
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2414;Load callback plugins in the ansible script;"This is an open discussion since I'm far from an expert on ansible.
However since I often run some commands on a lot of host I've written a small callback plugin that summarize output on stdout and stderr.
I need this callback to be called when running ansible not the playbook since I only run once a command and forget it after that.
Maybe the modified line is not enough too much or at a wrong location. I just copied it from the ansibleplaybook script.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding a new 'loadcallbackplugins' config option defaults to False;"As discussed on the ansibledevel ML here is the code to allow ansible command to load callback plugins.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2415;Move destructive git test to testgitdestructive.;"Issue Type
Bugfix Pull Request
Ansible Version
ansible .. gitdestructivetests daeafd last updated GMT 
 libansiblemodulescore detached HEAD dbbae last updated GMT 
 libansiblemodulesextras detached HEAD dae last updated GMT 
 config file 
 configured module search path Default wo overrides

Summary
The testgit role is run from the nondestructive integration tests. However the task remove knownhost files in that role is destructive.
Correcting this would be easy if the git module supported SSH options for GlobalKnownHostsFile and UserKnownHostsFile instead of hardcoded paths ansibleansiblemodulescore
In the meantime I've moved the tests depending on the destructive behaviour from testgit to testgitdestructive. I've also made the tests less destructive by backing up and restoring the knownhosts files.
Example output
Tested using the ubuntu docker image.
TESTFLAGS't testgitdestructive' make destructive without credentials has a play recap of
PLAY RECAP 
testhost ok changed unreachable failed 

TESTFLAGS't testgitdestructive' make destructive with credentials has a play recap of
PLAY RECAP 
testhost ok changed unreachable failed 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";move testgit to destructive;"ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION
devel
SUMMARY
The integration test testgit remove the sshknownhosts for the user and globally see

 
 
 ansibletestintegrationrolestestgittasksmain.yml
 
 
 Lines to 
 in
 bdbc
 
 
 
 

 
 
 name remove knownhost files 
 

 
 
 file stateabsent path item 
 

 
 
 withitems knownhostfiles 
 
 
 


That is destructive
It should thus be in destructive and not nondestructive.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2416;Add module for addingdeleting extensions in Postgres databases;"Just a simple module to install and uninstall Postgres extensions. Based off the other Postgres modules.
If any changes need to be made please do let me know
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add a module to uninstall postgresql extensions;"Based off of the postgresqldb module.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2417;Fix deb builder docker image;"SUMMARY
I needed to install Sphinx inside this image to get make deb working.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
Debian Packaging
ANSIBLE VERSION
NA
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix docsapi sphinxbuild err on 'make rpm';"SUMMARY
Fix docsapi sphinxbuild err on 'make rpm'
remove checkwarning about sphinxbuild on 'make'
The makefile in docsapi had a top level check for the
'sphinxbuild' tool but the check was getting triggered
on 'make clean' when it is not needed and causing 'make rpm'
and similar builds to fail.
So this commit removes the check.
Fixes 


ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

docsapiMakefile
ANSIBLE VERSION

ansible .. docsmakefile befcd last updated GMT 
 config file etcansibleansible.cfg
 configured module search path u'homeadrian.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 ansible python module location homeadriansrcansiblelibansible
 executable location homeadriansrcansiblebinansible
 python version .. default Jan GCC .. Red Hat ..


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2418;Read AWS key and secret from ec.ini;"If you have multiple projects which use AWS it's not convenient to use global or userwide boto configs. You could use environment variables but since we have ec.ini right there it seems like an easy place to have your project's AWS credentials.
I had to resubmit this PR previously it was 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added support for AWS credentials in ec.ini;"Adds support for specifiying AWS credentials in ec.ini that is used by the ec.py dynamic inventory.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2419;Fix bugs in ec library module;"Corrects an issue with specifying groupname vs groupid when using VPC instances see commit message
Include private IPDNS info in json value returned from ec module.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";libraryec VPC Enhanced Support vpcprivateipaddress groupname vs. groupid;"Hi EveryOne
I'm Samuel AWS DevOps new in this community.
Firstly i'd like to thank the helping of IRC.
I have some clients with AWSEC infrastructure generally with VPC Private Cloud
ip addresses manageable and specific security groups.
When i used the ecboto pluggin i realized that was create specific for ec public clouds
so i decided the improve this support.
The requirements are as follows
. Create a machine in the vpc private cloud
. This machine needs have a specific IP delimited
. Close the ports with a specific security groups
Following the examples i create my own playbook.


name Manager of VPC instances AWSVPCEC
hosts ...
connection local
user root
gatherfacts false
tasks

name Create a VPC instance AWSVPCEC
localaction
ec
count
ecaccesskeyAJIYDSNKDYGISHIH
ecsecretkeyjYFHBbuygBYVbhvgg
imageamiecfc
keynamesamukasmk.pub
vpcsubnetidsubnetjqhf
instancetags'NameMy Test VPC Instance'
instancetypet.micro
groupMYVPCSPECIFICSECURITYGROUP
waittrue
groupidsgadw
register ec



The first problem that i found
msg InvalidParameterCombination The parameter groupName cannot be used with the parameter subnet
This is a Response of Boto Library.
Researching in the boto library for the resolution i discovery that AWS API does not accepts launch some
VPC instance passing the security group NAME.
In the httpboto.readthedocs.orgenlatestrefec.html i got the resolution
Pass the security group ID parameter securitygroupids instead the security group NAME parameter securitygroups.
CHANGE THIS
try
 if groupid
 grpdetails ec.getallsecuritygroupsgroupidsgroupid
 grpitem grpdetails
 groupname grpitem.name
except boto.exception.NoAuthHandlerFound e
 module.failjsonmsg stre

try
 res ec.runinstancesimage keyname keyname
 mincount count 
 maxcount count
 monitoringenabled monitoring
 securitygroups groupname
 instancetype instancetype
 kernelid kernel
 ramdiskid ramdisk
 subnetid vpcsubnetid
 userdata userdata

FOR THAT
try

 SamukaSMk Lock for pass different security groups definitions
 if groupid and groupname
 print ERROR pass groupname or groupid

 SamukaSMk Test Valid the security group ID instead we got a exception
 if groupid
 grpdetails ec.getallsecuritygroupsgroupidsgroupid

 SamukaSMk Get the security group ID with the security group NAME
 if groupname
 grpdetails ec.getallsecuritygroups
 for id in range lengrpdetails
 if strgroupname in strgrpdetailsid
 groupid strgrpdetailsid.id

except boto.exception.NoAuthHandlerFound e
 module.failjsonmsg stre

try
 res ec.runinstancesimage keyname keyname
 mincount count 
 maxcount count
 monitoringenabled monitoring
 securitygroupids groupid
 instancetype instancetype
 kernelid kernel
 ramdiskid ramdisk
 subnetid vpcsubnetid
 userdata userdata

This Resolved my first problem
But i still need to pass the SPECIFIC VPC PRIVATE IP
I Create the new Argument
module AnsibleModule
 argumentspec dict
 ...
 vpcprivateipaddress dictaliases'privateipaddress'
 ...
 


vpcprivateipaddress module.params.get'vpcprivateipaddress'
And i pass the new argument for the boto library
try
 res ec.runinstancesimage keyname keyname
 mincount count 
 maxcount count
 monitoringenabled monitoring
 securitygroupids groupid
 instancetype instancetype
 kernelid kernel
 ramdiskid ramdisk
 subnetid vpcsubnetid
 privateipaddress vpcprivateipaddress
 userdata userdata

The new Playbook for my new features


name Manager of VPC instances AWSVPCEC
hosts ...
connection local
user root
gatherfacts false
tasks

name Create a VPC instance AWSVPCEC
localaction
ec
count
ecaccesskeyAJIYDSNKDYGISHIH
ecsecretkeyjYFHBbuygBYVbhvgg
imageamiecfc
keynamesamukasmk.pub
instancetags'NameMy VPC Instance Test '
instancetypet.micro
groupMYVPCSPECIFICSECURITYGROUP
waittrue
vpcsubnetidsubnetjqhf
vpcprivateipaddress...
groupidsgadw
register ec



Testing My New Features
SamukaSMkstryckrProjectssmkansibleplaybooks ansibleplaybook ecplaybookslaunchinstanceec.yml
TASK Create a VPC instance AWSVPCEC 
changed ...
That's All Folks Guys
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2420;Add networking mode parameter net to docker;"Since . Docker supports different networking modes see docker run net. This commit add support for that to the ansible docker module.
This depends on dockerdockerpyd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Docker net parameter;"Example
Create containers using the hosts network stack
 hosts web
 sudo yes
 tasks
 docker imagenginx nethost

This closes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2421;fix mail when cc and bcc are used if None;"ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION
ansible ..
 config file homesimon.ansible.cfg
 configured module search path Default wo overrides

SUMMARY
fixes 
In .libansiblepluginscallbackmail.py cc and bcc have default values of None which are blindly copied to strings and then added to the recipient list of the email.
bcc tobytescc
bbcc tobytesbcc
...
if bcc
 baddresses bcc.splitb''
if bbcc
 baddresses bbcc.splitb''

The two if statements are always true because bcc and bbcc are both None type 'str' instead of None type 'NoneType'
This commit changes the two if statements to check against NoneType not None
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix issue with cc and bcc getting added to mail if unset;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ansiblelibansiblepluginscallbackmail.py
ANSIBLE VERSION
ansible ...
 config file etcansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY
None was being added as a recipient on the email if cc or bcc were unset and defaulting to None. This was throwing the following smtplib exception
smtplib.SMTPRecipientsRefused 'None' '.. None... User unknown'
ansibleplaybook runs were erroring as follows
WARNING Failure using method vrunneronfailed in callback plugin usrlibpython.distpackagesansiblepluginscallbackmail.CallbackModule object at xfdaf 'None' '.. None... User unknown'
This was fixed by changing the conditional that adds in cc and bcc to the address list to check the cc and bcc variables instead of the bcc and bbcc variables that had been transformed to byte strings.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2422;seboolean Fix issue with changing persistent SELinux boolean values;"SUMMARY
Previously when the active SELinux boolean value was the same as the desired value regardless of the value of persistent the module would simply exit successfully assuming no need for update. This made the assumption that the active and persistent values should be the same but that is not always the case. This modification treats both the active and persistent values separately when checking for the need to update. Note that the persistent update mode however will still update the active as well as the persistent value. If this is not desired it is possible to separately toggle the active value alone.
Other changes

Make the check mode actually perform checks for changes
Organizes semanage commands into set of logical steps

ISSUE TYPE

Feature Pull Request

COMPONENT NAME
seboolean
ANSIBLE VERSION
ansible .. sebooleanpersistentchanged dd last updated GMT 
 config file 
 configured module search path Default wo overrides
 python version .. default Jan GCC .. Red Hat ..

ADDITIONAL INFORMATION
To test this we can set the active SELinux boolean value and then change the persistent value to the same value.
 sudo semanage boolean l | grep usefusefshomedirs
usefusefshomedirs off off Allow use to fusefs home dirs
 ansible localhost b K m seboolean a 'nameusefusefshomedirs stateyes persistentno'
 sudo semanage boolean l | grep usefusefshomedirs
usefusefshomedirs on off Allow use to fusefs home dirs
 ansible localhost b K m seboolean a 'nameusefusefshomedirs stateyes persistentyes'
 sudo semanage boolean l | grep usefusefshomedirs
usefusefshomedirs on on Allow use to fusefs home dirs

Note that in the previous version the attempt to toggle the persistent value to on while the active value was on would exit before doing so.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes requirements for seboolean module;"SUMMARY
cf. adds libsemanagepython as a requirement in the documentation for the seboolean module.
ISSUE TYPE

Docs Pull Request

COMPONENT NAME
seboolean module
ANSIBLE VERSION
ansible ...

ADDITIONAL INFORMATION
N.B. No changes to actual executable code only the commented that used for generating module documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2423;Remove SSL config map when empty;"This avoids exceptions when ssl is not available.
See for details.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dynamically add ssl key to the mysql config hash iff needed;"Issue Type

Bugfix Pull Request

Ansible Version
ansible ...

Summary
moduleutils.mysql will throw a client library does not have SSL support exception if MySQL SSL support is not available. This occurs even when attempting to use a nonSSL protected connection.
 name create users
 mysqluser name'root' host'...' statepresent
 password'xxxx' encryptedno
 priv'.all'
 loginuserroot loginpasswordyyyy loginunixsocketoptlocalvarrunmariadb.mysqld.sock

Example output
failed host itemu'passwd' u'xxxx' u'host' u'...' u'name' u'root' u'priv' u'.all' failed true item host ... name root passwd xxxx priv .all msg unable to connect to database check loginuser and loginpassword are correct or Us
ersmgrimes.my.cnf has the credentials. Exception message client library does not have SSL support

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2424;Filter hosts based on ec variables in inventory script;"This adds a hostfilter option to ec.ini that adds only hosts that pass the filter to the inventory. Can be used to separate stage and prod envs in the same region via tags for example.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add an option to ec.ini to filter instances based on various things;"This is try two for the PR replacing which ended up with merge commits. See the previous PR for a bit of commentary.
This lets you filter instances right at the EC API level using the EC inventory plugin. You can use this to retrieve only instances with certain tags or only certain instance types etc etc. See ec.ini for more info and examples.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2425;ecelbfacts Fixes empty healthcheck path error;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

ecelbfacts
ANSIBLE VERSION

ansible ... stable. ccecca last updated GMT 
 libansiblemodulescore detached HEAD adc last updated GMT 
 libansiblemodulesextras detached HEAD b last updated GMT 

SUMMARY

This change was made after troubleshooting errors for ELBs that have a Health Check path that is just a slash i.e. HTTP
In these cases the portpath.split'' will leave 'path' as an empty var and an error is thrown when it then tries to format this empty string. In dealing with this error the whole portpath var is then asserted as an INT and set as the 'port' value. This obviously throws a module failure as the port value still has a slash in it i.e. ''
To get around this I've added a check that will set 'path' as a slash if the path var appears empty therefore the format will still work and the error isn't thrown which would result in an incorrect INT assertion.

Before
An exception occurred during task execution. To see the full traceback use vvv. The error was ValueError invalid literal for int wit
fatal ... FAILED attempts changed false failed true modulestderr Traceback most recent call last\n Flbfactsadam.py\ line in module\n main\n File \tmpansibleaxwNhransiblemoduleecelbfactsadam.py\ line in mFile \tmpansibleaxwNhransiblemoduleecelbfactsadam.py\ line in listelbs\n return listmapself.getelbinfo elbarruleecelbfactsadam.py\ line in getelbinfo\n 'healthcheck' self.gethealthcheckelb.healthcheck\n File \tmpansiy\ line in gethealthcheck\n 'pingport' intport\nValueError invalid literal for int with base ''\n modulest

After
ok ... attempts changed false elbs canonicalhostedzonename null canonicalhostedzonenameid ZGMOXHZPM dnsname internaladamtestbug.apsoutheast.elb.amazonaws.com healthcheck healthythreshold interval pingpath pingport pingprotocol http responsetimeout unhealthythreshold hostedzoneid ZGMOXHZPM hostedzonename null instances icfebe ieda instancesinservice instancesinservicecount instancesinservicepercent . instancesoutofservice icfebe ieda instancesoutofservicecount listeners instanceport loadbalancerport protocol HTTP name adamtestbug scheme internal securitygroups sgefe subnets subnetafd subnetbadc tags vpcid vpcffec zones apsoutheastb apsoutheasta

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ecelbfacts Handle AWS throttling when requesting ELB information;"SUMMARY
Fixes issue where module would fail immediately upon encountering AWS API throttling.
Also makes minor changes to error handling.
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ecelbfacts.py
ANSIBLE VERSION
ansible ...
 config file 
 configured module search path Default wo overrides

ADDITIONAL INFORMATION
Uses the AWSRetry.backoff method both as a decorator and where more efficient directly as a wrapper function to handle AWS API throttling for boto methods invoked in the module.
Various instances of BotoServerError exceptions being caught and handled simply by invoking the failjson method have been removed and replaced with a similar trycatch block in the main function. I'm not sure that this exception handling was particularly useful in the first place and I'd be open to removing it completely but moving it into main at least provides pretty much equivalent behavior without interfering with use of the AWSRetry decorator which can handle specific cases of BotoServerError.
Also removes questionable 'catchall' clause on line which would return an empty dict for tags.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2426;Don't disable GSSAPIAuthentication or PubkeyAuthentication when using askpass;"As requested on irc here's the output of ansibleplaybook vvvv with one echo on a delegateto host and one on the main host. The password on the delegated host is different from the one I provided on the command line so it had to use the pubkey and the main host doesn't have a pubkey on it yet so it had to use the password.
TASK createvm | echo on delegated host 
delegate.example.net ESTABLISH CONNECTION FOR USER ansible
delegate.example.net REMOTEMODULE command echo This is on the delegated host
delegate.example.net EXEC 'sshpass' 'd' 'ssh' 'C' 'vvv' 'o' 'ControlMasterauto' 'o' 'ControlPersists' 'o' 'ForwardAgentyes' 'o' 'ControlPathhomejon.ansiblecpansiblesshhpr' 'o' 'Useransible' 'o' 'ConnectTimeout' u'delegate.example.net' 'binsh c usrbinpython'
changed main.example.net changed true cmd echo This is on the delegated host delta . end . item rc start . stderr stdout This is on the delegated host
TASK bootstrap | echo on main host 
main.example.net ESTABLISH CONNECTION FOR USER root
main.example.net REMOTEMODULE command echo This is on the main host
main.example.net EXEC 'sshpass' 'd' 'ssh' 'C' 'vvv' 'o' 'ControlMasterauto' 'o' 'ControlPersists' 'o' 'ForwardAgentyes' 'o' 'ControlPathhomejon.ansiblecpansiblesshhpr' 'o' 'Userroot' 'o' 'ConnectTimeout' u'main.example.net' 'binsh c usrbinpython'
changed main.example.net changed true cmd echo This is on the main host delta . end . item rc start . stderr stdout This is on the main host
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for multiple required auth for openssh v. onwards.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2427;New Jinja 'resolve' filter.;"Translates list of domain names into list of IP addresses.
You can select IPs by address family.
By default filter lists IPv and IPv addresses.
Usage in Jinja template

Get list of IPv addresses for list of domains

 domains | resolve'IPv' 
 domains | resolve'v' 
 domains | resolver 


Get list of IPv addresses for list of domains

 domains | resolve'IPv' 
 domains | resolve'v' 
 domains | resolve 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";New lookupplugin dig' for performing DNS lookups;"This makes dnstxt.py obsolete and I recommend it be removed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2428;Test module improvements;"Allows the module test runner to

dump the generated module file
take json string as complex args to module

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add options to control output and execution of testmodule;"testmodule is useful but sometimes you want to edit the
result before running it to e.g. set a debug point.
Added a noexecute option i.e. just create the module script don't
run it and an output option to choose the filename of the result.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2429;Added y flag to querypackage;"librarypackagingpkgin

Signedoffby giorgiov giorgiorefactor.it
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Answer yes for pkgin list command to update package database if requeste...;"...d.
If the pkgin database is outdated the pkgin list command will prompt the user asking if the package database should be updated. This behavior causes Ansible to hang as well. Adding the y option to pkgin list will answer yes when prompted and bypass this message. The y option is already included in the other pkgin commands so this change follows right along with those.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2430;ecstaskdefinition Fix int param types Fixes;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
ecstaskdefinition
ANSIBLE VERSION
ansible ...

SUMMARY
This fixes on ansiblemodulescore where given container parameters to the module are always passed on as strings in the container definition parameters which causes an exception by boto as some parameters have to be integers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow CPU and Memory to be templatable;"Issue Type

Bugfix Pull Request

Plugin Name
ecstaskdefinition
Ansible Version
ansible ...

Summary
Currently the module does not allow the CPU and Memory parameters to be templatable. They must be integerlong. This makes the module unusable with variables. In other words we would need to call the module for every task definition.
This change will allow the CPU and Memory to be templatable like so
 containers
 name nikhiltest
 image nikhiltestnginxdeploytag
 memory mycontainers.nginx.memory
 cpu mycontainers.nginx.cpu

Example output
Error before change
botocore.exceptions.ParamValidationError Parameter validation failed
Invalid type for parameter containerDefinitions.memory value type type 'str' valid types type 'int' type 'long'
Invalid type for parameter containerDefinitions.cpu value type type 'str' valid types type 'int' type 'long'

This error is not seen with suggested change
Note
This is a clone of ansibleansiblemodulesextras
I could not rebase the original PR due to losing access to the repo I originally contributed from
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2431;Fix issue with relative symlinks;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix;"Fix relative symlinks creation in file module.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2432;Fix ansibledoc list on Solaris;"On Solaris usrbinstty has no size option. However usrucbstty does have this option.
Install package compatibilityucb to get usrucbstty on Solaris .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use termios instead of stty for compatibility;"Solaris does not have stty size but stty a outputs in a different format. Instead of branching on operating system it is more portable to use termios to get the terminal parameters.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2433;Added support for general purpose SSD EBS volumetype;"This adds support for AWS general purpose SSD volumes httpaws.amazon.comebsdetails

volumetype module parameter added which defaults to standard if one is not specified
if standard and iops are both specified volumetype is changed to io for backwards compatibility as opposed to requiring the user to now specify volumetype in plays .
if gp volumetype is specified with an iops value the play will error. Defaulting this to io as well seemed assuming to much since it's reasonable that one could mix up he ssd types and there are performancecost ramifications between the two types.

Not a huge fan of assuming if iops are specified the volumetype should be silently changed to io from standard but it seemed best for maintaining backwards compatibility.
Thanks
iain
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Modified ecvol to use the new SSD based storage;"The older magnetic storage was referenced as volumetype 'standard'
The new SSD based general purpose storage is now referenced as volumetype 'gp'
The change proposed will leverage the new storage without needing to retrofit the module to have volumetype added as a required type and expect people to know its moved from 'storage' to 'gp'.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2434;Fix file mode calculation;"Since da file mode calculation is incorrect. For example when umask is file mode is instead of .
See ab .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix umask calculation on file creation. Fixes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2435;filesystem module Check for line that starts with 'data' in xfsinfo output;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
module filesystem
ANSIBLE VERSION

ansible master ansible version
ansible ...
 config file homejonansible.cfg
 configured module search path Default wo override

SUMMARY

I created an LVM volume named 'data' and it causes the filesystem module to break on the first line which does not contain the block size and block count. As a result it continues to try and resize my filesystem even though all of the device space is being utilized.
Instead of using bsize blocks the module must be using agcount agsize which is not going to match the size from blockdev getsize.
metadatadevmapperebsvolsdata isize agcount agsize blks
 sectsz attr projidbit
 crc finobt
data bsize blocks imaxpct
 sunit swidth blks
naming version bsize asciici ftype

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";proposed fix for issue;"when device name ends with 'data' line matches in 


 if 'data ' in line



closes 
SUMMARY
Check if first column is 'data' before extracting blocksize and blockcount
ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
libansiblemodulessystemfilesystem.py
ANSIBLE VERSION

ansible ...
 config file 
 configured module search path Default wo overrides

ADDITIONAL INFORMATION
idempotentency confirmed with the change.
before
localhost ok changed unreachable failed
after
localhost ok changed unreachable failed

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2436;ecgroup support for egress rules and referring to security groups by name in rules;"This patch allows security groups to be referred to by name in rules by using the groupname parameter. If a named security group does not exist it will be automatically created.
Rules now also support a type parameter to specify whether they are ingress or egress rules. If the type parameter is omitted the rule will be considered an ingress rule.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Egress rules for ec security groups;"This will have the ability of adding egress rules here is an example
 name example ec group
 localaction
 module ecgroup
 name example
 description an example EC group
 vpcid 
 region euwesta
 ecsecretkey SECRET
 ecaccesskey ACCESS
 rules
 proto tcp
 fromport 
 toport 
 cidrip ...
 egress yes this will mark it as egress
 proto tcp
 fromport 
 toport 
 cidrip ...

When creating a security group on EC a default egress rule is always created this rule gives unrestricted access to all protocols and all ports. This is unrelated to Ansible nor Boto.
When creating a security group using my changes if no egress rules are configured then it will not change any egress rules that already exist on the group. If there are rules configured then similar to ingress rules it will remove the ones that are not configured.
I'm not sure if this is behavior is better for most users but after contemplating I thought it is more reasonable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2437;Part fix for httpsgithub.comansibleansiblemodulescoreissues replaces;"Replacement for previous attempt at this which accidentally included some unwanted changes.
GetFileChecksum always returns a string now and the testwincopy integration tests that depend on the checksum
have been updated in this change too.
Also requires ansibleansiblemodulescore
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";GetFileChecksum doesn't calculate hash for files;"missing update of the checksum value before returning the result hash is never updated in case file exists
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2438;Add nosyslog option in order to prevent ansible syslog its actions on the remote host rebase;"Add nosyslog option in order to prevent ansible syslog its actions
on the remote host.
Syslog on remote hosts can be turned off by
nosyslog option inside ansible.cfg.
n nosyslog command line options ansible and ansibleplaybook.

Rebased version of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";task logging revamp;"allow global nolog setting no need to set at play or task level but can be overriden by them
allow turning off syslog only on task execution from target host managesyslog overlaps with nolog functionality
created log function for task modules to use now we can remove all syslog references will use systemd journal if present
added debug flag to modules so they can make it call new log function conditionally
added debug logging in module's runcommand

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2439;Added ability to specify destination OU when joining a domain;"ISSUE TYPE


Feature Idea

COMPONENT NAME
windomainmembership
ANSIBLE VERSION

.

CONFIGURATION

OS ENVIRONMENT

SUMMARY

Add the ability to specify OU destination OUPath in AddComputer when joining to a domain.
Example Config

name Join domain
windomainmembership
dnsdomainname globaldomainname 
hostname globalvmname 
domainadminuser globaldomainjoinuser 
domainadminpassword globaldomainjoinuserpassword 
domainoupath OUWindowsOUServersDCyourdomainDClocal
state domain
register domainstate

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";added support for OUPath parameter for windomainmembership;"SUMMARY
Adds support for the OUPath parameter of AddComputer i.e. the underlying PowerShell for invoking windomainmembership when state domain.
ISSUE TYPE


Feature Pull Request

COMPONENT NAME
libansiblemoduleswindowswindomainmembership.ps
ANSIBLE VERSION

ansible ..

ADDITIONAL INFORMATION


 host should be a member of domain ansible.vagrant module will ensure the hostname is mydomainclient
 host domain object will be createdjoined in 'CNComputersDCansibleDCvagrant'
 and will use the passed credentials to join domain if necessary.
 Ansible connection should use local credentials if possible.
 If a reboot is required the second task will trigger one and wait until the host is available.
 hosts winclient
 gatherfacts no
 tasks
 windomainmembership
 dnsdomainname ansible.vagrant
 hostname mydomainclient
 domainadminuser testguyansible.vagrant
 domainadminpassword password
 domainoupath 'CNComputersDCansibleDCvagrant'
 state domain
 register domainstate

 winreboot
 when domainstate.rebootrequired

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2440;To fix error message produced in bug report;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Switched primary and alias names of the namedb parameter. Fixes .;"In the documentation the name of the mysql database to create is called name with an alias of db. However in the code db is the primary name and name is the alias. This causes a confusing error message. This patch updates the code to match the documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2441;add sshpass support for synchronize;"add sshpass support for rsync
work together with ansibleansiblemodulescore
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";allow for sshpass support for synchronize;"Needs ansibleansiblemodulescore

sshpass support
env support for runcommand

delegateto fix 
Security consideration

procpidenviron are only readable by owner or root. root can read almost everything based on selinuxsecurity policies including prockcore
ssh client tends to strip out env variables SSHPASS will not be seen by client process SendEnv ssh config bit

reasons to opt for env var

module.runcommand does not support passing an fd to command module.
ssh and sshpass do not support reading password from stdin pipe data arg of runcommand
passing fd number to sshpass will not work as fd no can be random.
adding support for setting up env was the least invasive and most reliable change

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2442;Support checkmode for ecvpcnetfacts;"SUMMARY
As a facts module ecvpcnetfacts supports check mode by default
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
ecvpcnetfacts
ANSIBLE VERSION
ansible .. devel cbdaf last updated GMT 
 config file .ansible.cfg
 configured module search path u'.library'
 python version .. default Jan GCC .. Red Hat ..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update ecvpcnetfacts to use Boto;"SUMMARY
Update the ecvpcnetfacts module to use boto. This change also brings additional features to the module. It now reports additional facts about VPCs that were not possible with boto.
i.e. IPv CIDR block information association set cidr range etc additional VPC attributes classiclinkdnssupported enablednssupport enablednshostnames
Also added an additional module parameter vpcids. The boto function supports passing a list of subnet ids directly.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
libansiblemodulescloudamazonecvpcnetfacts.py
ANSIBLE VERSION

ansible .. botoupdateecvpcfactsmodules ed last updated GMT 
 config file Usersuser.ansible.cfg
 configured module search path u'Usersuser.ansiblepluginsmodules' u'usrshareansiblepluginsmodules'
 ansible python module location Usersuserdevelansiblelibansible
 executable location Usersuserdevelansiblebinansible
 python version .. default Dec GCC .. Compatible Apple LLVM .. clang...

ADDITIONAL INFORMATION




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2443;Prevent empty diffs being written between task messages;"When running a playbook with the check and diff options empty diffs are still passed to the display method resulting in an empty line being output between each task message.
This PR simply checks a nonempty diff was returned before passing to display.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removed blank line when running with diff;"Fixing issue 
Here are test runs using the template module and checking the diff between two files.

The first run the diff is shown on the output.
Then the file is updated
diff is run again since there is no diff there will be nothing in the output.

 ansibleplaybook i hosts .yml diff check

PLAY ... 

TASK difftest 
 before homehenrytestfile
 after Usershenrygarageplaybookstestfile.j
 
bar
foo

changed ...

PLAY RECAP 
... ok changed unreachable failed



 ansibleplaybook i hosts .yml

PLAY ... 

TASK difftest 
changed ...

PLAY RECAP 
... ok changed unreachable failed



 ansibleplaybook i hosts .yml diff check

PLAY ... 

TASK difftest 
ok ...

PLAY RECAP 
... ok changed unreachable failed
Playbook used for the test

 hosts ...
 gatherfacts False

 tasks
 name difftest
 template srctestfile.j desthomehenrytestfile
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2444;hashivault fix token logic;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
hashivault
ANSIBLE VERSION

ansible .. devel last updated GMT 
 config file homeecuseransibleawsdevansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY
eea which added the ability to automatically set the authentication token from an environment variable or the default Vault credential file is broken due to fe which was applied before it and added a second place where self.token is set and checked. The new authentication flow makes token into an optional setting so I consolidated the two setcheck stanzas into the second one.

Before
TASK debug 
fatal localhost FAILED failed true msg lookup'hashivault' 'secretsecretping' An unhandled exception occurred while running the lookup plugin 'hashivault'. Error was a class 'ansible.errors.AnsibleError' original message No Vault Token specified


After
TASK debug 
ok localhost 
 changed false 
 test pong


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";VAULTTOKEN is ignored when set as env var or from HOME.vaulttoken file;"ISSUE TYPE

Bugfix Pull Request

COMPONENT NAME
hashivault lookup plugin
ANSIBLE VERSION
 ansible version
ansible ..
 config file root.ansible.cfg
 configured module search path Default wo overrides


SUMMARY


This actually patches 

Environment
 cat vault.yml 


 hosts ...
 connection local
 tasks
 name
 shell echo lookup'hashivault' 'secretsecretfoobar' 

 export | grep VAULT
declare x VAULTADDRhttpxxxxxxxxxx
declare x VAULTTOKENabfdxxxxxxxxbf


Before
rootcbce ansibleplaybook i 'localhost' vault.yml

PLAY ... 

TASK Gathering Facts 
ok localhost

TASK command 
fatal localhost FAILED failed true msg An unhandled exception occurred while running the lookup plugin 'hashivault'. Error was a class 'ansible.errors.AnsibleError' original message yy No Vault Token specified
	to retry use limit vault.retry

PLAY RECAP 
localhost ok changed unreachable failed 

rootcbce 

After
 ansibleplaybook i 'localhost' vault.yml

PLAY ... 

TASK Gathering Facts 
ok localhost

TASK command 
changed localhost

PLAY RECAP 
localhost ok changed unreachable failed 

rootcbce

The same behavior was experienced when .vaulttoken existed it was also ignored.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2445;Mysql password hash support;"Resubmission of as requested this has been converted into a separate option such that the passwordhash may be passed in place of the password itself.
testing via


 hosts all
 tasks
 name mysqluser test password hashed
 mysqluser usertest passwordhashDCBFEFEEABABBFCA priv.ALLGRANT
 name mysqluser test password not hashed
 mysqluser usertest passwordansible priv.ALLGRANT

Both users result in having the same password hash.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds the ability to specify mysql password as a hash in the mysqluser module.;"For the cases when you do not know the plain mysql passwords of your users but have the hashes it is helpful to be able to specify an option to pass those hashes to mysqluser module. This feature adds an option to enable passing passwords as a hash.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2446;consulacl added in support for 'agent' and 'node' types.;"SUMMARY
Adding in support for consulacl module to allow for the 'agent' and 'node' types
httpswww.consul.iodocsguidesacl.htmlaclrulesandscope
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
consulacl
ANSIBLE VERSION

ansible ...

ADDITIONAL INFORMATION


before
failed localhost itemu'rules' u'policy' u'read' u'agent' u'' u'token' u'XXXXXXX' u'name' u'consul' u'mgmttoken' u'XXXXXX' 
 failed true
 invocation 
 moduleargs 
 host consul
 mgmttoken VALUESPECIFIEDINNOLOGPARAMETER
 name consul
 port 
 rules 
 
 agent 
 policy read
 
 
 scheme http
 state present
 token VALUESPECIFIEDINNOLOGPARAMETER
 tokentype client
 validatecerts true
 
 modulename consulacl
 
 item 
 mgmttoken XXXXXXX
 name consul
 rules 
 
 agent 
 policy read
 
 
 token XXXXXXXXXX
 
 msg a rule requires a keyserviceevent or query and a policy.


after
changed localhost itemu'rules' u'policy' u'read' u'agent' u'' u'node' u'' u'policy' u'read' u'token' u'XXXXXXX' u'name' u'consul' u'mgmttoken' u'XXXXXXXX' 
 changed true
 invocation 
 moduleargs 
 host consul
 mgmttoken VALUESPECIFIEDINNOLOGPARAMETER
 name consul
 port 
 rules 
 
 agent 
 policy read
 
 
 node 
 policy read
 
 
 scheme http
 state present
 token VALUESPECIFIEDINNOLOGPARAMETER
 tokentype client
 validatecerts true
 
 modulename consulacl
 
 item 
 mgmttoken XXXXXXXXX
 name consul
 rules 
 
 agent 
 policy read
 
 
 node 
 policy read
 
 
 token XXXXXXXXX
 
 name consul
 rules 
 
 agent 
 policy read
 
 
 node 
 policy read
 
 
 token VALUESPECIFIEDINNOLOGPARAMETER
 type client


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Consul node agent and session policies from version ..;"SUMMARY
Add support for the new ACL types agent node and session which Consul introduced in .. httpswww.consul.iodocsguidesacl.htmlcompleteaclcoverageinconsul.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
consulacl
ANSIBLE VERSION
ansible ... stable. bfbeaa last updated GMT 
 config file etcansibleansible.cfg
 configured module search path Default wo overrides
 python version .. default Nov GCC .. 

ADDITIONAL INFORMATION
They have the same structure as existing policies that this module already implements httpsgithub.comhashicorpconsulblobmasteraclpolicy.go.
 consulacl
 rules
 agent 'foo'
 policy read
 node 'foo'
 policy read
 session 'foo'
 policy read

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2447;Tag Based EC Inventory Names;"This pull request implements a feature to allow an EC tag to override the vpcdestinationvariable which already overrides the default destinationvariable. When using the inventory script I found it much more meaningful to see a friendly recognizable host name in the Ansible output than the options available.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow ec tags to be used to address servers in ec dynamic inventory.;"My use case for this PR is addressing instances using domain names separate from EC's public and private dns names. The PR is completely backwardcompatible.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2448;wincopy Add force parameter and checkmode support;"ISSUE TYPE


Feature Pull Request

COMPONENT NAME

wincopy
ANSIBLE VERSION

v.
SUMMARY


The rationale behind this is that if you're working with GB files
creating the checksum takes a lot of time which we can avoid by simply
testing if the file exists.
I also took the liberty to put the various parameters together. It
probably takes a neglible performance hit but makes the code a bit
easier to inspectwork with as its closer to all other windows modules.
On a normal run the action plugin does a local checksum of the source
and a remote checksum of the destination. And afterwards the module
will do another remote checksum of the copied source a remote checksum
of the original destination and another remote checksum of the copied
destination.
On a very huge file think GB that means no less than x reading the
complete file If you have a large cache you may get away with it otherwise
you're doomed 
This patch will ensure with force no that no checksums are being
performed by the action plugin and the module. We do this by delaying
the checksum calls until we have determined whether the destination in
fact exists. More optimisations are still possible especially in the case the
destination does not exist we don't need a checksum in that case anyhow.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";wincopy added remote and content options;"ISSUE TYPE

Feature Pull Request

COMPONENT NAME
wincopy
ANSIBLE VERSION
ansible .. wincopyextraparams fea last updated GMT 
 config file 
 configured module search path Default wo overrides

SUMMARY
Fixed up documentation to reference content parameter
Added support for copy files from remote host with remotesrc
Added check mode
Cleaned up tests
Cleaned up module to fit with current formatting standard
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2449;Write downloaded file as binary;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME
unarchive
ANSIBLE VERSION

ansible .. devel acbce last updated GMT 
 config file homethomgitdotfilesansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY

This fixes by having the write expect bytes on Py.
I haven't dealt with all the other code smells unused imports variables other stuff.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Download and open file in binary mode for python;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

unarchive

ANSIBLE VERSION

ansible ..
 config file homepaul.ansible.cfg
 configured module search path Default wo overrides

SUMMARY

Adjust download of a zip file explicit in bytes for the module unarchive.
So the exception is raised when f.writedata happens on the first iteration. Python has opened the file and write is waiting for text and not bytes so then when it receives bytes it raises.

Fix for this issue 

fatal ... FAILED 
 changed false 
 failed true 
 invocation 
 moduleargs 
 backup null 
 content null 
 copy false 
 creates null 
 delimiter null 
 dest tmp 
 directorymode null 
 exclude 
 extraopts 
 follow false 
 force null 
 group null 
 keepnewer false 
 listfiles false 
 mode null 
 originalbasename prometheus...linuxamd.tar.gz 
 owner null 
 regexp null 
 remotesrc false 
 selevel null 
 serole null 
 setype null 
 seuser null 
 src httpsgithub.comprometheusprometheusreleasesdownloadv..prometheus...linuxamd.tar.gz 
 unsafewrites null 
 validatecerts true
 
 
 msg Failure downloading httpsgithub.comprometheusprometheusreleasesdownloadv..prometheus...linuxamd.tar.gz write argument must be str not bytes


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2450;Async fixes;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

async
ANSIBLE VERSION

.

SUMMARY

also fixes by making poll default to s again
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Async module Update module args for the target module;"ISSUE TYPE


Bugfix Pull Request

COMPONENT NAME

Async
ANSIBLE VERSION

ansible ...
 config file etcansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY

When any ansible task is run with async module on a machine where
SELinux is enabled the module arg ansibleselinuxspecialfs is
not set resulting into an error like


ab hansible ?¥»?¥»?¥» getenforce
Enforcing
ab hansible ?¥»?¥»?¥» ansible localhost m file B a 'pathtmpjunk statedirectory'
 WARNING provided hosts list is empty only localhost is available

localhost | FAILED 
 ansiblejobid .
 changed false
 failed true
 finished 
 gid 
 group wani
 mode 
 msg There was an issue creating tmpjunk as requested 'AnsibleModule' object has no attribute 'selinuxspecialfs'
 owner wani
 path tmpjunk
 secontext unconfineduobjectrusertmpts
 size 
 state directory
 uid 


This patch ensures that the common module args are updated for the
target module before it is configured and transferred.
Fixes ansibleansiblemodulescore
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2451;missing options in docstring breaks 'make deb';"added minimal options entry
still needs to be fully documented
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Documentation for keystoneuser;"Updated the module with proper documentation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2452;Fix Unexpected Exception global name 'os' is not defined;"I inadvertently introduced it in ca and didn't notice because there are no unit tests for playbookexecutor.py. Sorry
The from ansible.errors import was used only to get the 'os' module which makes me go what
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing import of module 'os';"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2453;geturl Allow additional hashing algorithms;"Allow all hashing algorithms that hashlib provides e.g. 'md' 'sha' 'sha' 'sha' 'sha' 'sha'. Introduces a new parameter checksum with format algorithmchecksum e.g. checksummddffbaeddefaf
Deprecates parameter shasum. Uses hashlib directly instead of methods in moduleutilsbasic.py.
Also gives helpful error messages
msg Could not hash with algorithm 'md'. Available algorithms 'md' 'sha' 'sha' 'sha' 'sha' 'sha'
msg The checksum parameter has to be in format algorithmchecksum
See also 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support specifying an mdsum for geturl;"Add sunny day integration test for mdsum check
Add sunny day integration test for shasum check
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2454;Transition inventory into plugins;"SUMMARY

Implementing ansibleproposals

Move from hardcoded 'options' to real plugins ini script and yaml as minimal requirements
Allow multiple inventories to be specified
Allow inventory plugins to use the configured cache plugin
Transition from inventory scripts to plugins script plugin will exist for backwards compatibility
Simplify logic currently it is duplicated a lot specially in plugins

Defer data loading to 'data loader' and variable management to 'variable manager'
Folds in vars inventory plugins



ISSUE TYPE


Feature Pull Request
Bugfix Pull Request
Docs Pull Request

COMPONENT NAME

inventory
ANSIBLE VERSION

.

ADDITIONAL INFORMATION
Also fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix deprecation import ansible.vars.unsafeproxy;"SUMMARY
When i run this task
 name set public key for authorized
 authorizedkey
 user lsyncduser 
 key lookup'file''.ansiblestorelsyncd'lsyncdinstance''lsyncduser'idrsa.pub' 

last version of ansible show Deprecation warning

DEPRECATION WARNING ansible.vars.unsafeproxy is deprecated. Use
ansible.utils.unsafeproxy instead..
This feature will be removed in version
.. Deprecation warnings can be disabled by setting deprecationwarningsFalse
in ansible.cfg.

grep by code found one string with import
from ansible.vars.unsafeproxy import UnsafeProxy wrapvar
change it to from ansible.utils.unsafeproxy import UnsafeProxy wrapvar
and warning does not show anymore
ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION

ansible...git.ca.devel

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2455;Hide 'include' tasks when not in verbose mode;"This implements by default.
It will hide all includetasks by default and in verbosity v but will show all details when verbosty or higher vv.
It is quite annoying and confusing that Ansible emits all include tasks. Also because the color is the same color as skipping.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";default callback is way to verbose;"ISSUE TYPE

Bugfix Pull Request

ANSIBLE VERSION
ansible ...
 config file etcansibleansible.cfg
 configured module search path Default wo overrides

SUMMARY
The v default callback set is way to verbose.
This is especially visible when running on a specifically tagged task it should rather not show all inbetween include statements when verbosity .
IMHO even for nontagged run the current output is inadequate
See below this is using the MINIMAL verbosity for a specific given tag.
TASK my.bootstrap include 

included xxxtasksblah.yml for hostname

TASK my.bootstrap include 

included xxxtasksfoo.yml for hostname

tons of them

This PR is just about the included xxxtasksblah.yml for hostname lines.
It reduce their visibility toto verbositylevels and more.
like it's already the case for task path lines
I'd like to do the same for the two others but

this need to be discussed further
changing the TASK line for include only seems a bit more tricky

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2456;This adds a associatepublicip parameter to the ec module;"The parameter defaults to true and sets things up so that VPC type instances
can get public IP addresses in nondefault subnets. The snag is that it
requires boto . which may be an issue for some deployments.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";New librarycloudec module parameter assignpublicip for nondefault VPC instance launching.;"If an AWS account does not have a default subnet in their VPC configuration then creating instances in that VPC will not automatically provide a public IPDNS. Boto added this functionality in .. NetworkInterfaceSpecification.associatepublicipaddress.
This change adds assignpubicip as a parameter to the ec module ensuring that it is not set to one of BOOLEANSTRUE if vpcsubnetid is not also set and if Boto is less than ...
All tests pass make tests.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2457;Optimistically detect if params are coming from getawsconnectionin?Çª;"?Çªfo
As discussed in dev mailing lists httpsgroups.google.comforumtopicansibledevelcAJTWVdSk current version of botoconn seems to overrides params from getawsconnectioninfo which is already boto friendly.
Here's a very simple patch to workaround the problem. I deliberately avoid to make the assumption that getawsconnectioninfo is systematically used.
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't overwrite param variables if already set.;"Since getawsconnectioninfo correctly sets config parameters
botoparams'awssessiontoken' and botoparams'verify' when
boto is detected we must detect whether these have already
been set in botoconn before overwriting them from oldstyle
boto not boto parameters 'securitytoken' and 'validatecerts'
respectively.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2458;Updated version of my original PR to incorporate nested group changes;"My previous PR for the expanding of CSV values in ec tags did not merge cleanly with the current devel HEAD so have updated the patches to resolve this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Split comma separated tags and include in groups;"Split tags that are comma separated and add the host to those different groups.
E.g. myhost env devstaging
Instead of having the actual
tagenvdevstaging ... myhost 
this would result in
tagenvdev ... myhost 
tagenvstaging ... myhost 
I think it's more flexible and allows more grouping options based in tags.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2459;Added basic support for SSL when using IRC;"I've added basic support for connecting to an IRC server with SSL. Nothing fancy but it works.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support SSL IRC servers;"Adds SSL support
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2460;ansiblevault edit replicate sudoedit behavior;"do not touch original file if temporary file is not changed
but rekey original file if it uses obsolete scheme
create new encrypted file if it does not exist
see also and 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Encrypt the vault file after editing only if the contents changed;"Rebased to target libansibleparsingvaultinit.py instead of binansiblevault.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2461;ecasg Target Group Support;"SUMMARY
Adds support for targetgroups within an Autoscaling group. Note boto crashes when you have a targetgroup attached so this is an almost full rewrite to use boto and support target groups.
Note This also fixes the error where it spins up extra EC resources when doing a deployment.
ISSUE TYPE

Feature Pull Request

COMPONENT NAME
libansiblemodulescloudamazonecasg.py
ANSIBLE VERSION

ansible ...

ADDITIONAL INFORMATION
Sorry this is a beast of a pull request the boto was not a simple change. I also changed the logic for the replaceinstances and lccheck. This looked like it was wrong and evolved into something it wasn't really mean to be I hope. I changed the logic to be as follows

lccheck will replace instances if the lc name is different
replaceinstances w lccheck will replace all passed instances that are in the asg with the wrong lc name.
replaceinstances wo lccheck will replace all passed instances within the asg even if they have the same lc name.

This seemed to follow what the documentation stated.
NOTE This is still a work in progress I just wanted to get some feedback before polishing out the errors. Right now I think I have some errors by not sleeping for second due to aws change and quick repulling will not reflect the change. The original code has some what looked like bad sleeps but this looks to be needed I'll fix these soon.
This PR might go well with the following PRs







 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support for group metrics collection in ecasg module;"SUMMARY
Currently the ecasg module does not support enabling group metrics collection for an auto scaling group. This implements a backwards compatible default that is fully configurable for explicit use.
ISSUE TYPE
Feature Pull Request
COMPONENT NAME
ecasg
ANSIBLE VERSION

ansible .. autoscalinggroupmetrics de last updated GMT 
 config file homessiefkasprojectsms.ansible.playbooksansible.cfg
 configured module search path Default wo overrides
 python version .. default Dec GCC .. 

ADDITIONAL INFORMATION
I've tested this against devel as well as a patch against ...
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2462;Off by one error;"When lenprobline column then problinecolumn is outside of the string
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";column must always be less than lenprobline;"Fixes related to GH.
Otherwise we get an IndexError.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2463;Fix make verify;"thockin this fixes make verify which was previously failing due to undefined BRANCH and VERBOSE variables ptal
 
 
 
 
 
 

 The text was updated successfully but these errors were encountere";Fix make rule verify for MacOS;"thockin running make verify returns an error on MacOS I think because of the old bash version .
 make verify
hackmakerulesverify.sh line VERBOSE unbound variable
make verify Error 
This PR sets the Variable to a zero length string";1
2464;add some more temporary files to gitignore;"pesky temp files. any emacs users out there
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tmp to gitignore to prevent user staging it from an incomplete build;"Add tmp to gitignore to prevent user staging it from an incomplete build
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2465;Make gcp auth provider not to override the Auth header if it's already exits;"What this PR does why we need it
Make AuthProvider not wrap the transport if beartoken or basic auth is enabled
Which issue this PR fixes 
fixes 
Special notes for your reviewer
Release note
GCP auth plugin no longer overwrites existing Authorization headers.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Let hardcoded auth options override AuthProvider in kubectl.;"What this PR does why we need it
If authorization options are hardcoded either through config or commandline let them override the AuthProvider config.
AuthProviders are usually specified in a kubeconfig file but it is useful to be able to easily override things on the command line e.g. kubectl token ....
Which issue this PR fixes fixes 
Release note

Explicit client authorization options e.g. BearerToken Username KeyFileKeyData now override a specified AuthProvider.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2466;bump bazel build to go.. and remove invalid unit tests;"part of 
I firmly believe that unit tests that check error strings are incorrect unit tests. If we care about what type of error is returned we need to use public error types. Anywhere we are using generic errors we don't care other then that we saw an error.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed flaky unit test.;"What this PR does why we need it
Fixed the following flaky unit test
 FAIL TestGetEnvAsIntOrFallback .s
 Error Trace envtest.go
	Error		Not equal strconv.ParseInt parsing \notanint\ invalid syntax expected
			 strconv.Atoi parsing \notanint\ invalid syntax actual
	Messages	An error with value strconv.ParseInt parsing notanint invalid syntax is expected but got strconv.Atoi parsing notanint invalid syntax.

FAIL
FAIL	ks.iokubernetespkgutilenv	.s

Release Note

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2467;correct imagefs inodes value in kubelet summary stats;"Fix 
Correct get imagefs inodes value from imageFsInfo.Inodes in kubelet summary stats api.
derekwaynecarr


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Summary API is using wrong fs for imagefs inodes;"Fixes 
Marking this p if it fails to make the release node eviction on imagefs based on inodes will not work properly as the wrong value is returned.
cc vishh ronnielai dchen mdshuai


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2468;enable NFSv mounter;"This change is to enable NFSv for GCI cluster. In order to support
NFSv mounter needs to start rpcbind before mount and then kill the
process after mount finishes to make sure the container exits.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use chroot to do containerized mounts;"What this PR does why we need it
Containerized mounts with chroot
kubernetesenhancements
cc jingxu
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2469;ThirdPartyResource example added watcher example code cleanup;"What this PR does why we need it
Added an example of using goclient for watching on ThirdPartyResource events createupdatedelete.
Watching TPRs is a very common case but a rather complicated process especially due to many nontrivial details like clientgo and kubernetes
Also made minor code cleanup to avoid too many hardcoded strings copypaste.
Which issue this PR fixes
This PR gives an example of workarounds for kubernetes and kubernetes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added informer to thirdpartyresources example of clientgo;"What this PR does why we need it
Demonstrates how to list and watch third party objects i.e. objects
of a Kind defined by a ThirdPartyResource.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged
This makes a small contribution toward kubernetesclientgo
Special notes for your reviewer
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2470;Allow leading in ingress hostname;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add IsDNSWildcardSubdomain method;"I would like to get the ball rolling with this pull request. For some reason when I am running the tests pkgapivalidationvalidation.go can not find the new method IsDNSWildcardSubdomain but this is the essence of what I would like to change. I created this pull request to help get the conversation going.
referencing issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2471;Update generated for;"What this PR does why we need it repeat of for . Some year we'll properly fix this.
Which issue this PR fixes fixes cikubernetesverifymaster build
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";it is now. change to;"it is now. change to 

What this PR does why we need it
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2472;Adding the option for the system to use the HOME env for windows.;"Adding the option of checking for the HOME environment on windows. As on a work network HOMEDRIVE is setup from the Group Policy on a work network.
Initial change was made 
This change would fix this issue
kubernetesminikube


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added support for HOME environment variable on Windows;"What this PR does why we need it
On Windows the HOME environment variable should be taken in account when trying to find the home directory.
Several tools already support the HOME environment variable notably gitbash. It would be very convenient to have the kubernete tools including minikube to also support the environment variable.
The current situation
Special notes for your reviewer
Release note



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2473;Refactor master service ports config;"EDIT Focused on refactoring master service ports in order to allow overriding default ports.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add name to kubernetes service https port.;"This was suggested on Slack today. I figured I'd send a PR rather than open an issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2474;Update master service ports and type via controller.;"Since master service ports and type are configurable it makes sense to ensure that these attributes are correctly set in the controller loop.
cc smarterclayton liggitt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";reconcile master service if it becomes incorrect;"I'm not completely sold on this approach. It may become an issue when apiserver is replicated. API Servers of different versions could potentially war over the hash value. On the other hand maybe this controller will have been completely rewritten by that time. We also have better control over master upgrades.
cc thockin
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2475;restore ability to run against secured etcd;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for TLS in etcd through Tranports TLSInfo structure;"
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2476;Clean up UI docs;"Updated ui.md to include details about how the UI is run as a cluster addon and where to find it. Also make it more clear that wwwREADME.md is for development and not general dashboard UI information.
Changes motived by 
Partially addresses 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update UI doc for the usage of Kubernetes UI;"cc bgrant RichieEscarez timstclair lavalamp bcbroussard
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2477;fix return of empty list in kubectl get;"fixes 
When printing the obj in a generic kubectl get where the obj is a versioned object of infos it should only be printing valid objects from infos. In the case of the referred issue if infos is nil then it will print out the empty object along with the error rather than just the error.
This PR ensures that the printing of objects only occurs if infos is not empty.
Is it viable to try to squeeze this into v. given that it hasn't been cut yet and this is an outwardfacing bug
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";kubectl don't display an empty list when trying to get a single resource that isn't found;"Return immediately when attempting to get a singular resource that isn't found so that we avoid
printing out a List if the output format is something like json or yaml.
Before
 kubectl get podfoo o yaml
apiVersion v
items 
kind List
metadata 
pods foo not found

After
 kubectl get podfoo o yaml
pods foo not found

Fixes 
kuberneteskubectl kubernetesrhux smarterclayton liggitt deadsk metral
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2478;WIP Workaround for race between monit and init;"Posting a potential workaround for for discussion. Testing this now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the race when monit is used to monitor services which are also;"started at boot time via init.d at boot time.
Fixed 
I ran ee tests earlier this morning but failed due to ee current breakage. I manually tested this on machine without current patch manually running service kubelet start not restart will reproduce binding issue reported in 
 ps ef | grep kubelet
root usrlocalbinkubelet apiservershttpskubernetesmaster cloudprovidergce configetckubernetesmanifests allowprivilegedFalse v clusterdns... clusterdomaincluster.local configurecbrtrue cgrouproot

 service kubelet start
 ok Starting The Kubernetes container manager kubelet.

 ps ef | grep kubelet
root usrlocalbinkubelet apiservershttpskubernetesmaster cloudprovidergce configetckubernetesmanifests allowprivilegedFalse v clusterdns... clusterdomaincluster.local configurecbrtrue cgrouproot


cc vmarmol roberthbailey
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2479;Allow no ports when exposing headless service;"fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";kubectl Don't require port for headless service expose;"The validation for this is already done in API but kubectl didn't allow that.
fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2480;Federation replicaset controller;"TBD integrate with the scheduler events
quintonhoole deepakvij kshafiee


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Scheduler called by federated replicaset controller;"The purpose of this PR is to parse user input annotations to specify how many replicas should be allocated to each underlying cluster


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2481;remove deprecated cli argument from example;"What this PR does why we need it kubectl portforward argument p pod was deprecated and should be removed from the example documentation
Special notes for your reviewer simple example documentation fix for deprecated cli argument
Release note

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Docs updated for CLI deprecations;"What this PR does why we need it Fixed docs
Release note NONE


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2482;LimitRange example improvements detailed README;"Fixes 

Adds a detailed README for whenwhy you would use a LimitRange.
Moves example files to yaml ensured new files were caught in exampletest
Has the right analytics watermark

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";README for limitrange example;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2483;Mark dynamic kubelet configuration test serial;"Disruptive is not handled for eenode tests. Must mark this Serial so it at least gets run in the serial test suite and doesn't disrupt concurrentlyrun tests.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Kubelet Optionally consume configuration from nodename named config maps;"Reverts 
Kubelet test is red merge queue is blocked.
mikedanese build cop


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2484;Revert use Reader.ReadLine instead of bufio.Scanner to support bigger yaml;"Reverts 
cc smarterclayton adohe


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add newline to printf to fix junit;"Fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2485;localup resolve sudo E'd paths better;"This problem won't affect everyone but for people who have withsecurepath configured for their sudo binaries sudo E won't actually preserve PATH which means the subbash won't necessarily be able to find the binary which test found to exist.
This fixes that.
Ubuntu used to configure it that way and they might still.
It's configured as such on my Gentoo machine.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Check for cfssl using sudo in localupcluster;"Since we exec it with sudo checking that it's in the user path isn't sufficient
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2486;Organize troubleshooting sections;"Fixes  bgrant nikhiljindal caesarxuchao
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update service debug doc from user feedback;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2487;DaemonSetSpec.Template should not be a pointer.;"Pod template for DaemonSets isn't optional like Deployments and Jobs so the DaemonSetSpec.Template field should not be a pointer.
cc mikedanese
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PodTemplate for DaemonSet should not be a pointer;"ref 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2488;Make the libvirtcoreos cluster use the etcd shipped within CoreOS;"In the libvirtcoreos cluster the etcd that is used is the one shipped within CoreOS.
Kubernetes migrated to etcd before etcd was available within CoreOS.
This led to some incompatibility issues.
In order to fix them I submitted PR in order to force the use of an external etcd.
This PR aimed at being temporary waiting for etcd to land in CoreOS.
As stated in coreosbugs it is now the case.
So this PR
?Çö Reverts the temporary fix
?Çö Make CoreOS boots etcd instead of etcd.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use supplied etcd with CoreOS;"Commit dc has introduced an extra download for etcd .. with the intention to revert when CoreOS shipped etcd. This is now the case however etcd .. is shipped as etcd and etcd .. as etcd. This PR reverts to using shipped etcd and makes use of etcd.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2489;Fix broken OpenJDK install in Cassandra Dockerfile;"What this PR does why we need it
Example Cassandra Dockerfile is broken see attached screenshot
PR adds jessiebackports to openjkd install see httpsbugs.debian.orgcgibinbugreport.cgibug for debian change 

Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing a couple of things in the example and bumping docker version;"What this PR does why we need it
Updates the Cassandra version and fixes a couple of issues in the example documentation.
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2490;Fix service shell test;"This test couldn't even start with v API before this change.
After this change I've run it times and it passed although I think we should not move it out of flaky suite yet.
Ref 
cc quintonhoole davidopp thockin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replacing uses of portalIP by clusterIP;"Replacing uses of portalIP by clusterIP
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2491;build Fix docker image lookup for docker .;"Some versions of docker display image listings like this
docker.iogolang . ebdcafc weeks ago

The regular expression used to detect presence of images
needs to be updated. It's unfortunate that we're still
screenscaping here due to
mobymoby
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix verifying prerequisites for local golang docker image;"The image is prefixing with docker.io fix the regex.
Signedoffby Guohua Ouyang gouyangredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2492;kubeadm Transition to using ks.ioclientgo;"What this PR does why we need it in kubeadm replace all internal API clients with versioned clients from the ks.ioclientgo package.
Which issue this PR fixes fixes 
Special notes for your reviewer
I tried to use ks.ioclientgo everywhere where kubeadm uses some sort of API client to contact the API server.
For the certificate generation during a join command resulting from a CSR I had to copy over the RequestNodeCertificate function from the kubelet code as kubelet uses the internal API's and here I wanted to use the versioned clientgo API client otherwise the function signatures do not match. WDYT is there a better way to do it right now


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Convert to use versioned api;"Unitintegrationsubmitqueue eeslow eenode ee tests passed. The PR is based on the code one or two day after the code freeze. I'll rebase after the PR gets reviewed.
Fix 
What are converted to use versioned API


top level

cmdkubecontrollermanager
cmdkubelet
plugincmdkubescheduler
ee tests node ee test integration tests
cmdkubedns minor changes
cmdkubeadm minor changes



dependencies

pkgclientcache
pkgserviceaccount
pkgfieldpath
pkgcloudprovider
pkgutil pod | replicaset | node 
pkgvolume
pkgsecurityapparmor
pkgcredentialprovider
pkgsecuritycontext
pkgdns
pluginpkgauth authenticator | authorizor tokenwebhook



What remain using internal API in purpose

apiserver including the SelfClient used by the authorizer
pkgregistry
pluginpkgadmission because Attribute.GetObject currently gets internal API object
pluginpkgauth except the webhook part this package could be converted to use versioned API but we don't have a strong incentive and we want to reduce the ripple caused by this PR
kubectl by design kubectl talks to multiple API servers serving different versions of API so the APIspecific logic in kubectl should use the common language the internal version. IMO kubectl should use dynamic client and offload APIspecific logic to the server.

N.B.

shared informers pkgcontrollerinformers shared informers are converted to use versioned API. However pluginpkgadmission also depends on the shared informers and it keeps using internal API. So I have to manually add some internal version informerslisters to the shared informers. ncdc is working on generating the shared informers with bother internal version and external versions.
pkgquota derekwaynecarr vishh this package is depended by both pluginpkgadmission and the pkgcontroller so I had to make a duplicate package pkgquotainternal to be imported by the admission. I haven't thought this through if we can remove ResourceName and ResouceList out of the API we probably can avoid the duplicate
kubectl kubectl uses several pkgcontroller functions mainly in pkgcontrollerdeploymentutil which are migrated to use versioned API while kubectl still uses internal API. I have call to the conversion functions several times to keep using the deployment controller utility functions. janetkuo pwittrock
Init containers v.Pod.Spec.InitContainers and v.Pod.Status.InitContainerStatuses are not serialized. It used to rely on the conversion mechanism to encodedecode to the annotation fields. Kubelet now operates on v.Pod and doesn't do any conversion so I have to let kubelet explicitly writeread the annotations see the changes in pkgkubeletconfigapiserver.go and pkgkubeletstatusstatusmanager.go cc smarterclayton
Copied some validation functions lines to pkgvvalidation.
TODO
I duplicated pkgapipod endpoints service in pkgapiv need to check if the pkgapi ones are still needed.

cc liggitt deadsk bgrant mml mbohlool kubernetessigapimachinery


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2493;Info log nonempty volume directories during cleanup;"We should info log nonempty volume directories during
cleanup and avoid logging that as error.
Partly fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the issue when cleaning up orphaned pod;"In the case of pod volume directories are no longer mounted volume
reconciler failed to reconstruct orphaned pod volume because it fails to
find the device from the mount path so that cleanup rountine will fail
to delete the volumes directory.
This change fix this issue by returning a fake device path instead of
returning error in ConstructVolumeSpec so that orphaned pod volume
information will be put back into the actual state. Then reconciler is
able to clean up the volumes directory so is the orphaned pod.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2494;Checked node condition for DaemonSets when updating node.;"Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Release note

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DaemonSet resync daemonsets when node status has changed;"This PR changes the DaemonSet controller to also consider changes to node status to resync daemons. Currently only changes to node taints and labels are considered otherwise the daemons won't be resynced.
It's important to check for changes in status because transient issues like insufficient allocatable resources and conditions like NodeOutOfDisk would forever prevent a daemon to be spawned on a node. Once that happened the only way to have daemons on previously neglected nodes would be recreating the daemonset or restarting the controller manager.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2495;cloudcfg fix TestDoRequest;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgcloudcfg fix tests;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2496;Regenerate openapi for .;"With the . branch cut and a new tag in master the generated openapi spec validation is failing. This fixes it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update openapi spec for v..;"This fixes the pullkubernetesverify job
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2497;Don't assume every AWS VPC has tags;"The default VPC has no tags by default so we should use get
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't assume every AWS instances have tags;"AWS EC instances may not have tags at all including Name tag. However on getinstanceids function in util.sh it expects Tags key for every instances so it fails when there are instances with no tags.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2498;Call validate on new object when updating;"smarterclayton
Obviously some tests are broken.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Validate in addition to ValidateUpdate to validation for most resources.;"thockin smarterclayton
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2499;WIP Possible vendoring fixes;"This is some vendoring changes with toolsgodep applied. I'm not sure how to build ks yet but I'm fairly sure hand verified some of the changes that these are legit. Going to follow up based on the status of the automated tests though.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Godeps to support godep v;"github.comonsiginkgoginkgo was included by godep by chance not because we explicitly imported it. But we did explicity build it. Create a 'dead code' import do godep picks it up.
Clean up Godeps since v does a better job pruning dead code.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2500;registerminion.sh json incomplete resulted in unexpected EOF;"The JSON data in the registerminion.sh script was incomplete resulting in a unexpected EOF when running the azure kubernetes cluster setup scripts
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";coreosazure Updates for .;"Bump CLI tools version
Bump CoreOS image IDs
Use etcd shipped in stable channel
Prefix unit names for consistency
Run proxy on master as well
Allocate node port for the app
Update docs
No need to register nodes any more
Remove stale argument cloudprovidervagrant
Refactor how addons are delivered
Remove fluentd it can be optionally dropped into addons dir
Script Azure endpoint creation for Guestbook example
Provide only SkyDNS addon outofthebox

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2501;Ensure all API server requests are properly instrumented;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix apiserverrequestcount metric;"Previously the code in this metric was always 
Fix 
lavalamp smarterclayton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2502;Fix releases link;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed capitalization issue;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2503;use host uts namespace when pod.Spec.HostNetwork is true;"set pod utsMode to host when host network is used.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use node hostname for pod while HostNetwork is true;"This fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2504;ee pass namespace when calling kubectl stop;"After resources in the kubectl ee test were being created in their own namespaces but due to a bug introduced by kubectl stop was not failing even though these resources did not exist in the default namespace since the error was being ignored. This was not apparent until was merged at which point it caused the kubectl stop calls in cleanup to fail.
This is now resolved by passing the namespace to kubectl in most of the test cases in one case I just removed the cleanup call entirely as I think it's expected that one of the resources shouldn't exist but I wasn't sure how best to handle that. Cleanup should still be handled adequately by the namespace being deleted anyway.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix kubectl ee test;"It was broken for a very long time but it surfaced yesterday.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2505;Disable elb ee;"kubernetesgoogtesting
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move broken service tests to the flaky suite to make GCE suite happy again;"Ref 
cc quintonhoole wojtekt thockin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2506;Make label and field selector query strings versionable.;"bgrant
See for some context.
I know the unit tests are broken. If this LGTM to folks I will fix them.
 
 
 
 
 
 

 The text was updated successfully but these errors were encounte";Expose versioned query parameters and make watch an operation on List;"Subresources are needed to properly secure proxying to the node as per agreement in authz discussions because we need to tie resource and verb to an action. The proxy endpoint is too open to give to anyone but cluster admins. As part of and the general bastioning of the API server we want to introduce new sub resources that allow specific typed access to a backend. Examples

Proxy to a pod's port podsfooproxysomeresource
Proxy to a service's port servicesfooproxysomeresourcepath
Expose logs for a pod podsfoologscontainertest returns textplain stream
Expose logs for a resource backed by a pod jobsfoologs 
Parameterize pod logs with query options podsfoologscontainertestsinces
Handle remote execution podsfooexeccontainertestcmdbinbashargcargechofoo upgrades connection to SPDYHTTP
Handle portforwarding podsfooportforwardcontainertest
Allow binaries to be posted to an endpoint with a given type and converted by RESTStorage or apiserver into the underlying object essentially hand off the request body to storage.

This requires three pieces of function

Allow query parameters to be properly versioned across a set of distinct resources and verbs
Return an input stream from a RESTStorage Get or Post call
Upgrade an HTTP connection to a higher protocol exec or hijack it port forward or use it to proxy other requests proxy

Ideally we would also ensure we have methods that allow proper introspection through swagger

Handle content type negotiation when returning an input stream
Annotate request parameters with metadata for query params

This pull request will contain the changes to enable that functionality through a set of targeted refactors. csrwng lavalamp bgrant liggitt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2507;Make localupcluster.sh use tmp for dnsrelated files;"localupcluster.sh leaks files into the local directory use tmp instead.
ncdc eparis derekwaynecarr shot out of a cannon


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update gitignore file to ignore local cluster yaml files;"FYI. At least we should ignore these files if we don't put them on other location.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2508;Fix crossrepo link;"Fixing 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix link to apiextensions clientgo example;"Fixes link to clientgo example for apiextensionsapiserver.
Fixing .
Special notes for your reviewer
When I run hackupdatestagingclientgo.sh I get this error
 Error in stagingcopy.sh
 Error in stagingcopy.sh. 'git commit q m Snapshot devnull' exited with status 
 Call stack
 stagingcopy.sh main...
 Exiting with status 

What am I missing here
cc caesarxuchao sttts
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2509;Move remaining tests in eeservice.go to unique namespaces.;"This prevents multiple runs of the same test from trampling on each other
both serially and in parallel. Ultimately we'll move this to a suitewide test
initlalization and teardown routine as per but until that's done lets
prevent these particular tests from failing unnecessarily with this small change.
ee tests are still busy running. I'll update this thread to confirm that they've
succeeded.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update the external load balancer test to use a different namespace in each run;"To make stuck resources less painful.
roberthbailey quintonhoole
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2510;Bumped Heapster to v..beta.;"This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump heapster version;"Bump heapster version to v..beta..
Migrate metrics tests and HPA to use List objects introduced in the new version.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2511;Updated Vagrant VMs to Fedora;"Updated Fedora boxes to Fedora on all providers
Signedoffby Andr?? Martins aanmgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DO NOT MERGE vagrant Update from F;"This updates to F maybe I'll try F also for Vbox.
I'll test it some this wknd do not merge yet.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2512;Allow for easily specifying the type and size of minion disks on GCE.;"Issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Custom GCE boot disk;"Support for customized disk type and size for GCE minions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2513;Add mtu option to kubenetunsupported.go;"Fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix that broken crossbuild;"ref 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2514;Fix original object mutation on patch retry;"When applying a patch the original state of the object and patch are captured so that retries can determine if an overlapping update was made to the object and the patch API call should abort with a conflict.
However the strategicPatchObject applyPatchToObject StrategicMergeMapPatch mergeMap call mutates both the original object map and the patch map making them unsuitable for reusing for subsequent calls.
We saw this in a downstream test that exercises patch conflict retries where the data being submitted in a patch was showing up in the original object data map.
Since mergeMap also mutates the patch map passed in deletes patch directives as it encounters them we also cannot reuse the patch map in applyPatchToObject once it has been used.
This PR

Builds originalObjMap separate from the initial patch application for later use in conflict detection
Changes the originalPatchMap to a helper that returns a fresh map from original sources
Adds an integration test that exercises retry of nonoverlapping patches with patches containing patch directives

Fix incorrect conflict errors applying strategic merge patches to resources.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix strategic merge patch input mutation leading to broken PATCH retry logic;"mergeMap is inplace i.e. modifies the input. A number of derived funcs are therefore inplace as well. This broke the retry logic of the PATCH handler. It applied the given patch to the original object and cached the originalObjMap for later retries. But this originalObjMap was modified and all retries afterwards failed.
This PR also moves liggitt's integration test from OpenShift to kube which uncovered this issue.
It's not clear whether this bug has any inconsistency implications anywhere. It seems that the PATCH handler worked fine but retries were broken.
This is a candidate for ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2515;Fix the addition of the logging.write scope to the MINIONSCOPES array;"Fix the issue 
This fix involves appending a new element the logging write scope to the MINIONSCOPES array.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix GCE scopes when using GCP Logging;"v.. kubeup script fails to create minions when you enable logging and set LOGGINGDESTINATIONgcp.
This was caused by the change to MINIONSCOPES from a string to an array.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2516;add admission control flag to vsphere provider;"For vsphere deployment the heapster and dashboard containers were not able to start. Looking at the log and seems like it is not able to find the service account.
Compare with other providers it appears that admission control flag are provided in other providers but not in vsphere.
This change is to add the admission control flag to vsphere script.
Also minor change from hardcoded kubernetermaster to MASTERNAME environment variable. Otherwise script won't work if user use different INSTANCEPREFIX
Note that this is the same as PR . Just I mess up on the email address so redoing it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed vSphere kubeup implementation to allow Kubernetes dashboard UI to work;"The UI didn't work with vSphere kubeup implementation. This fixes
that by making the following changes

Configure the apiserver with admission controls especially
ServiceAccount. This will provide the token to the dashboard pod
that it needs to talk to the apiserver. This will also improve other
pods that require service accounts.
Add routes to the master so it can communicate with the pods so
hitting the httpsMASTERui URL will allow it to contact the
pods.
Add an extra subject for the cluster IP to the apiserver so when
the dashboard communicates with the apiserver the certificate
matches the IP address it's using.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2517;More reliable vagrant handling;"This addresses some issues when running a local Vagrant cluster.

Ensure the virtualbox provider is used in util.sh as the fedora box is virtualbox based.
Use YUM install instead of salt bootstrap. Salt is in EPEL httpdocs.saltstack.comenlatesttopicsinstallationfedora.html bootstrap does not support Fedora and fails handling systemctlsystemd units see supported operating systems httpsgithub.comsaltstacksaltbootstrap

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Temporarily point to older bootstrap script;"The most recent saltstack bootstrap file expects a saltapi service to
exist. The most recent Fedora saltmaster rpm doesn't include this
service yet. Pointing to the previous version of the bootstrap script.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2518;Don't check in zzgenerated.openapi.go.;"zzgenerated.openapi.go is the file that causes the most merge conflicts of all. In thockin updated the makefile to support generating these files on demand but that didn't play well with bazelgazel.
In this PR I add a new build macro that will generate this file with a gogenrule. I added support for keeping the BUILD file up to date in mikedanesegazel.
Release note
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump gazel to v;"pick up some fixes and a new config.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2519;HPA Allow customizing scaleforbiddenwindows;"Allow custom upscale and downscaleforbidden windows on HorizontalPodAutoscalers.

This commit allows customizing scale forbidden windows via annotations
on a HorizontalPodAutoscaler. This way users can configured how
twitchy their HPA is decreasing the window causes the HPA to react
faster to changes at the expense of potentially scaling for an
unsustained change.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";move scale forbidden windows to hpa spec;"move scale forbidden windows to hpa spec.
It is useful in my use cases but I'm not sure whether we should refactor it


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2520;Rename kubednsdeployment.yaml in hacklocalupcluster.sh for consistency;"What this PR does why we need it
 Adds namespace for kubedns service account explicitly to be consistencet with kubednscontroller and kubednssvc.

Rename kubednsdeployment.yaml to kubednscontroller.yaml in hacklocalupcluster.sh for naming consistency.

Special notes for your reviewer
This PR is purely good to have and the functions work perfectly fine without these changes.
cc deadsk
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Namespace kubesystem to kubedns SA;"What this PR does why we need it
This PR puts the ServiceAccount introduced in bddiffffcfdbcabbb per default into the kubesystem namespace.
Which issue this PR fixes 
This prevents users to run into this issue
Error creating pods kubedns is forbidden service account kubesystemkubedns was not found retry after the service account is created
CC deadsk
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2521;start exp api docs;"Fix 
This is just a brain dump to get the ball rolling.
bgrant nikhiljindal caesarxuchao please all of you review.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Doc apigroups alpha beta experimentalvalpha;"My attempt to summarize ongoing discussions about versions and stability for a user audience.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2522;Fix for Invalidation of DeviceMapping Cache when Detaching Volumes;"There is a deviceMapping cache that keeps the state of the block device mappings in local memory. When a device is detached the cache does not get invalidated. A subsequent attachment for the same volume then falsely assumes that the device is already attached. It skip the actual API call to attach the volume and gets stuck in an endless loop waiting for the attachment to finish. It eventually times out and immediately starts to wait again. This only resolves once the kubelet is restarted.
This fix releases the device from the deviceMapping cache when a volume is detached.
With this fix volume attachdetach operations work perfectly for me. I'm a bit unsure though how such a fundamental bug wasn't noticed before Did this ever work and this is a regression It could be that previous tests had the pods scheduled to a different kubelet with cold cache Maybe justinsb has some insight.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix AWS EBS detach operation.;"Remove the record about attached EBS when detach completes otherwise
subsequent attach of the same volume never completes.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2523;Add encryption to EBS dynamic provisioner;"Resolves 
Adds encryption to the EBS cloud provider and provisioner.
Follow up to all commits but the one in this PR will drop out.
kubernetessigstorage



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add EBS Encryption support to autoprovisioning.;"What this PR does why we need it
This adds support for creating encrypted volumes to the EBS autoprovisioner. For various legal reasons I need to have all my EBS volumes encrypted. EBS handles key management via KMS so you can optionally specify the key to use.
There are some restrictions on the instance types to which these volumes can be attached. The scheduler doesn't currently take care of that.
Special notes for your reviewer I didn't find any tests for EBS StorageClass parsing or the AWS CreateVolume implementation so I didn't add any. I could try adding tests for these if you'd prefer.
Release note
Add support for autoprovisioning encrypted EBS volumes.



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2524;Run the updatestaginggodeps script inside a docker container;"What this PR does why we need it
This PR moves the updatestaginggodeps script to run inside a docker container.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note

NONE

assign ixdy sttts
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Install jq in kubecross image;"I've noticed that running buildrun.sh hackmakerulestestcmd.sh fails with jq command not found being on latest master sha dfe
 buildrun.sh hackmakerulestestcmd.sh
..
 Testing kubectl version verify json output
gosrcks.iokuberneteshacklibtest.sh line jq command not found
 Call tree
 gosrcks.iokuberneteshackmakerulestestcmdutil.sh kubetestversionjsonclientserverobjecttofile...
 gosrcks.iokuberneteshackmakerulestestcmdutil.sh runkubectlversiontests...
 hackmakerulestestcmd.sh runTests...
 Error in gosrcks.iokuberneteshacklibtest.sh
 Error in gosrcks.iokuberneteshacklibtest.sh. 'i' exited with status 
Call stack
 gosrcks.iokuberneteshacklibtest.sh kubetestversionjsonclientserverobjecttofile...
 gosrcks.iokuberneteshackmakerulestestcmdutil.sh runkubectlversiontests...
 gosrcks.iokuberneteshackmakerulestestcmdutil.sh runTests...
 hackmakerulestestcmd.sh main...
Exiting with status 
gosrcks.iokuberneteshacklibetcd.sh line Terminated KUBEOUTPUTHOSTBINkubecontrollermanager portCTLRMGRPORT kubeapicontenttypeKUBETESTAPITYPE master...APIPORT 
 Clean up complete
 Call tree
 build..buildcommon.sh kubebuildrunbuildcommandex...
 buildrun.sh kubebuildrunbuildcommand...
 Error in build..buildcommon.sh
 Error in build..buildcommon.sh. 'i' exited with status 
Call stack
 build..buildcommon.sh kubebuildrunbuildcommandex...
 build..buildcommon.sh kubebuildrunbuildcommand...
 buildrun.sh main...
Exiting with status 

Installing it into parent docker container should fix the issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2525;Fix abac oplicy example file;"systemunauthenticated is a group name rather than user name.
Fix it in the example file.

Release note


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed typo in example policy file;"according to httpskubernetes.iodocsadminauthorization 'systemunauthenticated' is a group not a user.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2526;Add docker addr flag;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make the docker endpoint a flag.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2527;Register metav.GetOptions with federation APIs.;"PR missed a spot.
cc kubernetessigfederation nikhiljindal
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Registering GetOptions with federation;"Fixes 
cc liggitt wojtekt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2528;Do no start kubeproxy until after network is started;"httpsbugzilla.redhat.comshowbug.cgiid
The kubeproxy will die if it starts before the network.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed kubeproxy starting;"We need to start kubeproxy after network has been initialized
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2529;fixed kubelet typo;"Where is a typo in contribinitsystemdenvironkubelet
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo in systemd kubelet apiservers flag.;"Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2530;Allow kubecfg to pull urls via c;"Only valid 'http' and 'https' urls will be loaded. Very handy when writing examples that should work just by copying and pasting.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support to fetch config file from network;"Closes 
Improves kubecfg to let you use config files fetched via https to do the following
 kubecfg c httpkubernetestutorials.comtutorialpod.json create pods
 kubecfg c httpmybuildserver.comreplicationController.json create replicationControllers

This lets terminals that use kubecfg not require write access to build files to create a pod etc.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2531;Update kubeadm token to work as expected;"What this PR does why we need it
Follows up 
Updates kubeadm token to work as discussed in httpsdocs.google.comdocumentddeJYPIFLmhGjDVaqrswErIrVmtwJgovtLnPCDxPUedit
Promotes the command from the ex subcommand which now is named alpha for clarity. This will later become kubeadm alpha phase
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Example UX
sudo .kubeadm token help
This command will manage Bootstrap Token for you.
 Please note this usage of this command is optional and mostly for advanced users.

In short Bootstrap Tokens are used for establishing bidirectional trust between a client and a server.
A Bootstrap Token can be used when a client for example a node that's about to join the cluster needs
to trust the server it is talking to. Then a Bootstrap Token with the signing usage can be used.
Bootstrap Tokens can also function as a way to allow shortlived authentication to the API Server
the token serves as a way for the API Server to trust the client for example for doing the TLS Bootstrap.

What is a Bootstrap Token more exactly
 It is a Secret in the kubesystem namespace of type bootstrap.kubernetes.iotoken.
 A Bootstrap Token must be of the form az.az the former part is the public Token ID
 and the latter is the Token Secret which must be kept private at all circumstances.
 The name of the Secret must be named bootstraptokentokenid.

You can read more about Bootstrap Tokens in this proposal

 httpsgithub.comkubernetescommunityblobmastercontributorsdesignproposalsbootstrapdiscovery.md

Usage
 kubeadm token flags
 kubeadm token command

Available Commands
 create Create bootstrap tokens on the server.
 delete Delete bootstrap tokens on the server.
 generate Generate and print a bootstrap token but do not create it on the server.
 list List bootstrap tokens on the server.

Flags
 kubeconfig string The KubeConfig file to use for talking to the cluster default etckubernetesadmin.conf

Use kubeadm token command help for more information about a command.
lucasTHENINJAluxaskubernetes sudo .kubeadm token list
TOKEN TTL EXPIRES USAGES DESCRIPTION
c.abaabedf forever never authenticationsigning The default bootstrap token generated by 'kubeadm init'.
lucasTHENINJAluxaskubernetes sudo .kubeadm token create
cea.abbfadebef
lucasTHENINJAluxaskubernetes sudo .kubeadm token list
TOKEN TTL EXPIRES USAGES DESCRIPTION
c.abaabedf forever never authenticationsigning The default bootstrap token generated by 'kubeadm init'.
cea.abbfadebef forever never authenticationsigning none
lucasTHENINJAluxaskubernetes sudo .kubeadm token create s
token s was not of form az\\.az
lucasTHENINJAluxaskubernetes sudo .kubeadm token create cea.abbfadebef
a token with id cea already exists
lucasTHENINJAluxaskubernetes sudo .kubeadm token delete cea.abbfadebef
bootstrap token with id cea deleted
Release note

NONE

dmmcquay jbeda mikedanese errordeveloper pires
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix kubeadm token create;"allow run kubeadm ex token create token or kubeadm ex token create to create token
validate the token format at first

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2532;Cleanup to client initialization in Kubelet;"Watching invalid labelfield selectors should error
Watch locks restrict ability to test certain things
Kubelet does not properly distinguish between sources prepare for API change

Extracted from erictune this is all stuff you'll hit
lavalamp review please
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Create client outside of Kubelet object.;"Add apiserver client to standalone.KubeletConfig.
Pass to SimpleRunKubelet and RunKubelet.
Move creation of client in integration.go to earlier so kubelet can get it.
Remove nolonger used vars from standalone.KubeletConfig.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2533;custom resource DeRegistration testcase;"deadsk as discussed via IRC
Built on top of 
To reproduce 
Uncomment code in TestDeRegistrationAndReRegistration to reproduce panic
 
 
 
 
 
 

 The text was updated successfully";kubeapiextensionsserver Fix potential SEGV with null delegate handler;"What this PR does why we need it
In the kubeapiextensionsserver there is a fallback value for null delegate to http.NotFoundHandler in handling group and versions discovery but no fallback for custom resources endpoint.
It leads to SEGV when running with genericapiserver.EmptyDelegate.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2534;Added version file.;"This merge is for which includes version file.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";delete ubuntu kubeup;"Remove deprecated ubuntu kubeup deployment.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2535;Automated cherry pick of;"Cherry pick of on release..
 Support set user with sshuser flag when running remote
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Automated cherry pick of;"Cherry pick of on release..
 Do not use sudo when untar node ee tar ball.
 Support set user with sshuser flag when running remote
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2536;Hyperkube don't parse args for all servers;"Kubectl consists of many subcommands.
Each subcommand has its own way of setting flags.
Parsing of args of kubectl is not done under cmdkubectl directory.
It is done inside of pkgkubectl.
When kubectl is added to hyperkube as a server its args are parsed when kubectl's flag are not yet defined.
So when running kubectl with any flag the flag is not recognized.
This PR adds support for disabling the parsing inside of hyperkube when a server is created.
Commands with enabled arg parsing

kubeapiserver
kubecontrollermanager
kubeproxy
kubescheduler
kubelet

Commands with disabled arg parsing

kubectl

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix hyperkube flag parsing;"Hyperkube flag parsing was not playing nicely with kubectl command and subcommands. This PR addresses that problem and adds some tests which exercise hyperkube dispatching to nested cobra commands.
\cc aaronlevy kbrwn mumoshu
fixes 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2537;Fix gendocs on master;"master seems to be broken right now
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Run hackrungendocs.sh to fix issue otherwise shippable is failed f?Çª;"?Çªor all prs.
cc ArtfulCoder
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2538;Updated wording from minion to node in clustercentos according to;"
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rename minionnode for Vagrant provider for;"The inconsistent minionnode terminology was confusing. Replace use of term Minion explained the issue. I decided to bite off a chunk.
This PR covers about of the uses of minion in the codebase but should be straightforward to review. Primary goal was to get the Vagrant provider related docs changed to node the environment and helper functions were logical additionsrequirements. The other cluster providers should probably be handled separately plus I'm not setup to test all of them. Salt Minion commentscode are untouched since differentiation is a reason for this change.
Vagrant naming the node correctly
 node Importing base box 'kubefedora'...
 node Matching MAC address for NAT networking...
 node Setting the name of the VM kubernetesnode

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2539;Change port names to avoid validation failure;"Addresses 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rename elasticsearch addon port to be IANASVCNAME;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2540;Support status.hostIP in downward API;"What this PR does why we need it
Exposes pod's hostIP node IP via downward API.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged
fixes 
Special notes for your reviewer
Not sure if there's more documentation that's needed please point me in the right direction and I will add some 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add to the Downward API the support of status.hostIP field;"What this PR does why we need it
This PR allows to use the status.hostIP field in the downward API area.
Global host networks services are running over the ks daemonSets like Heka for the logs.
The Heka is able to received over UDP TCP logs from Pods.
The easy way to reach the host is by the downward API.
Currently the downward API only supports the spec.nodeName that will obviously cost DNS operations.
Special notes for your reviewer
This is an example of the usage area of my PR httpsgithub.comJulienBalestraenjoliverblobebcfcdfcdededdbfbabfapptestseuidmanifestshttpddaemonset.yamlLL
I select hostIP instead of nodeIP to match the current API
curl s ...apivpods | jq .items.status.hostIP
...

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2541;DeltaFIFO.Pop exits when the stop channel closes;"Allow Controller.Run to exit properly when the stop channel is closed.
fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Stop controller when the stop channel is closed when queue is empty and Pop is hanging;"Fixes 
When a Pop function is invoked over empty queue the control loop inside the functions is stacked indefinitely. In order to break the loop introduce logic that waits for a signal to exit the loop.
Intention of the PR is not to handle situation where manipulation operations are invoked over closed queue. Intention is to break the indefinite loop.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2542;kubeadm fixed small typo in alpha warning;"Small typo in the alpha warning that I noticed and fixed.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix inconsistent util package import clause and some warning message ?Çª;"What this PR does why we need it
this PR makes sure kubeadmutil.CheckErr other than cmdutil.CheckErr is called in kubeadm version subcommand.
in version.go RunVersion function only returns nil kubeadmutil.CheckErr is enough for this
this PR also fix some syntax errors in AlphaWarningOnExit message.
Signedoffby redhatlinux ouyang.qinhuazte.com.cn


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2543;This commit fixes kubectl get nodes output and makes it more sane. It also fixes related test case resourceprintertest.;"In its current form kubectl get nodes output seems misaligned and sometimes incorrect too as it shows for example
kubectl get nodes
NAME LABELS STATUS
fednode Schedulable namefednodelabel NotReady
This patch combines SchedulableUnschedubale with ReadyNotReadyUnknown in STATUS field. So if unschedulable bit is true the output will be
NAME LABELS STATUS
fednode namefednodelabel ReadyUnschedubale
or STATUS will be NotReadyUnschedulable or Unknown Unschedulable.
If unschedulable bit is false by default it will show
fednode namefednodelabel ReadySchedubale
If Node is in Ready state. But if Node is in NotReady or Unkown state it will show
fednode namefednodelabel NotReadyUnSchedubale or UnknownUnschedulable
Currently it shows Schedulable even with NotReady or Unknown which seems incorrect as it does not make any sense to output a Node as Schedulable when in NotReadyUnknown state. As soon as a Node becomes Ready it will show STATUS as ReadySchedulable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add schedulable column to node;"kubectl get node shows schedulable column but not to header.
 kubectl get node
NAME LABELS STATUS
eetestsabominionsr.c.igateway.internal Schedulable none Ready
eetestsabominionx.c.igateway.internal Schedulable none Ready

This fix added to header and changed the value just TrueFalse like following
 kubectl get node
NAME SCHEDULABLE LABELS STATUS
eetestsabominionsr.c.igateway.internal True none Ready
eetestsabominionx.c.igateway.internal True none Ready

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2544;Fix for multiple thirdparty resources with same group;"More details here 
lavalamp


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow multiple APIs to register for the same API Group;"Fixes 
kubernetessigapimachinery



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2545;Kubelet Checkpoint container information into one container info label.;"Fixes No uppercases in labels now
Fixes 
This PR

Divide all information needs to be checkpointed into two parts

containerMeta all fields in containerMeta will be stored in separate labels. We may also want to use these labels as list filters in the future. The containerMeta should be seldom or even never changed.
containerInfo the containerInfo will be saved in one label as a whole.


Checkpoint last container status into container info label. With this we can remove historical containers as soon as the new container is created see . However because kubelet may still work with old containers which don't have this label we still can't rely on this for now. Currently we only use the lastStatus to calculate the restart count. yujuhong dchen Can we assume that people will always drain node before updating kubelet If so we can start relying on labels.
Add label version. Whenever we make any incompatible changes to the labels we should bump up the label version and try to support backward compatibility relying on label version.

Notice that with this PR kubelet will stop reading restart count and termination message path from labels added in v.. It means that if someone does kubelet live upgrade from v. to v. the termination message of old containers will be lost and restart count of the new container will be recalculated from .
We could add some code to prevent this but that will make the code a bit more complex. Because restart count is just best effort and termination message path is seldom used can we just ignore that like what we have done in v. WDYT yujuhong
yujuhong vishh
cc kubernetessignode


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";kubelet Move common labels out of dockertools package;"moved labels and their Get functions to types
aliases kubernetestypes import to kubetypes to use kubelettypes as types
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2546;Add client field mappings for v;"When making client requests that contain field selectors against v errors show up in the log about field mappings not existing for that version. This adds mappings equal to vbeta for v
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix annoying 'please check...' messages remove vbeta ref;"bgrant caesarxuchao krousey
Part of this is a thing that was missed in removing vbeta and also in adding v.
 
 
 
 
 
 

 The text was updated successfully but these errors were en";1
2547;Remove unused coreosgoetcd fork from thirdparty;"The only usage of this was removed via 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove dead goetcd code;"remove dead goetcd code. We use the official etcd client now this could be safely removed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2548;bugfix prevent API server cache listwatch from other namespaces;"The previous code has a issue
Assume we have two namespaces ns and ns when client listwatch key registrypodsns API server cache will also return pods in ns since ns is a prefix of ns
This PR fix this issue. wojtekt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix watch cache filtering;"When serving watch events for a particular namespace the watch cache filters out events from other namespaces by checking the etcd key of the event's object and making sure it is prefixed with the root key for the namespace being watched. This tightens the check to ensure the prefix match occurs on a path segment boundary.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2549;add basic auth option to apiserver in local cluster;"Add this can fix liggitt
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";match value from;"fixes 


What this PR does why we need it
Makes localupcluster work again when using the printed out information.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
I don't understand how this works. If there's a better way to fix this let me know. pmorie deadsk
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2550;Fix doc generation on Macs;"The find util on macs require a path. Linux does not. So give it the
path to work on both.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix find syntax on Mac;"The BSD find on Mac needs the directory as first argument.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2551;Add script directory for various testing tasks;"Adding script directory for various testing tasks
Starting to address the issues in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added Travis CI protractor support for testing web ui;"Added support for Travis CI to run angular protractor ee tests for the web ui as discussed in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2552;Updated command to launch etcd docker container in mesos documentation;"The command to run the etcd docker container didn't work for me. I kept getting a connection refused error when trying to CURL all the exposed ports of the container.
I was able to get it to work properly by referencing the command to launch the etcd container by using the command in the etcd documentation httpsgithub.comcoreosetcdblobmasterDocumentationdockerguide.md
This PR updates the docs so that the etcd container launches correctly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix invocation of quay.io etcd in mesos getting started guide;"The quay.io version of etcd listens on ... by default not on the docker veth interface.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2553;Update cni in vendor and refactor cniNetworkPlugin for hypervisor runtime;"refactor cniNetworkPlugin for reusing it in all kinds of runtime.
Ref containernetworkingcni 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update CNI plugin to newest version support ConfigLists;"What this PR does why we need it Updates the CNI network plugin to use the newest version of CNI. This brings with it plugin chaining and support for multiple versions.
Special notes for your reviewer This libcni change is backwardscompatible older plugins will work without any changes needed.
Release note
This adds support for CNI ConfigLists which permit plugin chaining.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2554;Typo fix Change logging function to formatting version;"What this PR does why we need it
Slightly broken logging message
I . kubeletnodestatus.go Deleted old node object qkubernetescitkubernetescr

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update kubeletnodestatus.go;"fix print error.
I used as nodenamebut the log does't pring name as expected.
you can the log belowbad format
I . kubeletnodestatus.go Deleted old node object q
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2555;kubectlrun remove log object created when dryruntrue;"Since no object is created when dryruntrue there is no point in showing log object created.
bug 
Bugzilla link httpsbugzilla.redhat.comshowbug.cgiid
This is the output on my instance
 kubectl run example imagebusybox dryruntrue
NAME DESIRED CURRENT UPTODATE AVAILABLE AGE
example unknown

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix kubectl run to print object on dry run;"Originally Authored By tnachen in PR

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2556;Move service strategy to registryservice package;"Ref Fix todo TODO move to a service specific package. in apiresttypes.go. Move svcStrategy to registryservice package in this PR.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup service.Strategy class;"Ref 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2557;Fix nil pointer in etcd tools;"Fixes 
cc smarterclayton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Modify nodes to register directly with the master.;"Ref .
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2558;Revert first steps to adding kubelet option to enable debugger mode next steps is to included a warning message.;"This reverts commit db.
Kubelet already defaults to enabling debug handlers. I don't think we want to surface every possible option in localupcluster.sh
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix ENABLEKUBELETDEBUGHANDLERS typo;"There was a typo when the env var was added so this is an unbound variable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2559;AWS Fix detaching volumes of deleted pods;"When attachDiskAndVerify gives up waiting for a volume to be attached AWS may be still trying to attach the volume.
If the pod that wants the volume attached still exists kubelet will retry attaching the volume on next kubelet sync and everything is allright.
However if the pod is deleted AWS is still trying to attach the volume and it may eventually succeed. We end up with a volume attached to a node and no pod for it. Nobody will detach the volume.
As fix just fire DetachVolume to AWS when attachDiskAndVerify gives up without waiting for result. If associated pod still exists it will try to attach the volume soon. If the pod is deleted AWS will detach the volume or stop attaching it.
Fixes 
There are several tiny patches the last one bringing everything together. I tested it really fixes the referenced issue still I am open for better suggestions how to fix it in a better way.
justinsb kubernetessigstorage
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";implement EBS and Cinder attacherdetacher;"follow up with 
kubernetessigstorage
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2560;Fix . Delete pod dir only after volume TearDown.;"The volume dir is deleted before mounted volumes are torn down. As
a result all the content of the mounted volume is deleted.
This patch reorders the calls so that volumes and torn down before
the pod dir is deleted and it moves both calls to killPod.
This fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed kubelet deleting data from volumes on stop .;"We must not clear the pod directory in killUnwantedPods volumes are still
mounted there at this time. There already is cleanupOrphanedPodDirs
called later in the SyncPods sequence which should remove these pod
directories.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2561;Workaround part of etcd slowness.;"Ref 
With this PR in practise etcd watcher no longer sends GET requests for all update events because in practise we are using cacher which always sets Filter to Everything.
This should help and hopefully also unblock some scale testing with etcd before the proper fix is in.
xiang hongchaodeng timothysc


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";etcd use PrevKV to remove additional get;"ref 
We are trying to test using PrevKV feature and see if it improves performance.
In order to test this we will need etcd v. alpha image.
Blockers

update gcr.io image version v..

etcd use PrevKV to remove additional get



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2562;Arrange for elasticsearch to shutdown cleanly;"Kubernetes initiates graceful shutdown by sending SIGTERM to pid which
is exactly what elasticsearch is expecting good
The way the existing startup scripts worked however this signal arrived at
the shell wrapper not elasticsearch and the shell wrapper exited
killing the container immediately bad
Before this change
 Ss binsh c run.sh
 S binbash run.sh
 S \ binsu c elasticsearchbinelasticsearch elasticsearch
 Ss \ sh c elasticsearchbinelasticsearch
 Sl \ usrlibjvmjavaopenjdkamdjrebinjava ... org.elasticsearch.bootstrap.Elasticsearch start

After this change
 Ssl usrlibjvmjavaopenjdkamdjrebinjava ... org.elasticsearch.bootstrap.Elasticsearch start

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";package name is error;"Here package name is metav not metav.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2563;allow for unset in kubectl.sh;"Running clusterkubectl.sh with no arguments resulted in the following
error.
clusterkubectl.sh line unbound variable

With this change the kubectl binary is called without a command
which results in a printout of the the usage text.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Show help message in kubectl.sh if no args.;"When no args are passed to a script is unset
which causes a shell error in nounset mode.
This change passes an empty string to kubectl in that case
so it can print help.
This also updates docskubectl.md because the hook told me to.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2564;Allow specification of remote in hackcherrypickpull.sh;"The hub tool seems to encourgae setting origin to be the upstream and
username to be your personal remote. Allow users that follow this
approach to specify USERREMOTE when calling cherrypickpull.sh


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hack update cherrypick script to have settings to override remote names;"What this PR does why we need it
it allows you to override the remote names for the cherrypick script in case you have it named differently


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2565;Enable profiling on kubelet healthz port;"This and scheduler are the last two kubeapps without an enableprofiling flag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Enable Kubelet profiling;"This PR adds a new command line flag to kubelet that enables debugpprof similar to what has already been added to apiserver and controllermanager.
xref mesospherekubernetesmesos
cc bgrant davidopp alexmohr
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2566;Fed target cluster by label for sync controller;"use clusterselector w federated configmap deploys
What this PR does why we need it adds the ability to indicate objects are sent to subsets of federated clusters ref 
Release note
The annotation federation.alpha.kubernetes.ioclusterselector can be used with Configmap Daemonset Secret objects to target federated clusters by label.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Federation Add support for federationonly objects;"What this PR does why we need it
Federation controllers tries to sync all the objects created in federation api server. For few scenarios it is required that the object exist only in federation and should not be synced to federated cluster. This pr adds support to create such objects which should exist only in federation by using annotation.
Special notes for your reviewer
This is a subtask of bigger work to add leader election to federation controller manager as documented in we need to create a ConfigMap object which should exist only in federation and should not be synced to federated clusters.
Release note
Federation federationonly object can now be created by adding federation.kubernetes.iofederationonly annotation

cc kubernetessigfederationprreviews
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2567;kubectl run to produce deployment and job;"Fixes .

Implement generators for deployment deploymentvbeta and job jobvbeta.
Make kubectl run default to produce rcs and jobs instead of rcs and pods. Will replace rcs with deployments once Deployment reaches beta in the future not in this PR.
If restartAlways a rc will be generated otherwise a job will be generated.

TODO

 finish jobdeployment related flags and help text for kubectl run cmd
 finish jobdeployment fields for generator
 add tests

kuberneteskubectl nikhiljindal ironcladlou
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Addressing . Abstract ExtractParams in kubectlrun for generators to share;"kubectlrun.go has a TODO in line which indicate that
'abstract this logic so that multiple generators can handle env in the same way.
Same for parse envs.'
This changeset creates a common ExtractParams which shares the common parameter
parsing logic for env and args.
It ensures none of the unit tests or system tests would be broken by this change.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2568;fix certificates flake;"Fixes 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix TestCertificateController index out of range panic;"What this PR does why we need it
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2569;Activate hairpin mode when sync'ing pods. Fixes;"Fixes . This gets the ability to use iptables proxying one step closer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix with a hairpin pluginlike interface;"Hi
for this fix I needed to find the hostside interface of the veth pair. It seemed to be best in the pod status along with the pod's IP and other informations like that as it will allow reuse.
I tried to follow the existing kubelet's network plugin interface but it doesn't offer the right extension point with the right interface. Since it began to look like another kind of plugin I just put a hook in the docker manager at the best place I could find.
cc thockin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2570;generated DeepCopy without a function on a struct pointer is wrong;"in and out are both pointers to pointers so in has to be cast to
Type not Type.
sttts hit this while debugging something else most everything should be generated but in this case the type is wrong


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deepcopy fix generic pointer case;"The changed code path is not used by Kubernetes but by downstream. It was leading to a type error.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2571;Added instructions on turning on dynamic provisioning for testing.;"HostPath volumes are not automatically provisioned unless we pass in enablehostpathprovisioner to the controller manager. This was not mentioned in the docs previously leading to questions like this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Info about enabling the hostpath provisioner;"The README for persistent volume provisioning had information about the
hostpath provisioner for testing purposes but lacked instructions on
how to enable it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2572;fix mesos unit tests;"master ci is broken
??£ kubernetes gitmaster ?£ù make test WHATcontribmesospkgschedulerpodtask
hacktestgo.sh contribmesospkgschedulerpodtask 
Running tests for APIVersion vextensionsvbetametricsvalpha with etcdPrefix registry
 Running tests without code coverage
 ks.iokubernetescontribmesospkgschedulerpodtask
outputlocalgosrcks.iokubernetescontribmesospkgschedulerpodtaskportmappingtest.go too many arguments in call to New
FAIL ks.iokubernetescontribmesospkgschedulerpodtask build failed
 Error in hacktestgo.sh
 'return rc' exited with status 
Call stack
 hacktestgo.sh main...
Exiting with status 
make test Error 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";MESOS Fix compile error in portmappingtest.go;"xref 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2573;declear roles as rolesarray internally when installing on ubuntu;"There are actually two roles setting in ubuntu installation scripts.
One is roles as string which can be set as env and then used in scripts.
The other is roles as array which is used by internal handling to
locate specific role by offset.
This patch tries to distinguish roles meaning by declearing the second
as rolesarray thus eliminating its ambiguity.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix unbound variable in ubuntu cluster script;"roles role
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2574;Fix make help info;"What this PR does why we need it
fixes some incorrect help info
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove unnecessary wrapper flags;"What this PR does why we need it
Drop KUBEGOFLAGS KUBEGOGCFLAGS KUBEGOLDFLAGS references
from the build infrastructure
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note

NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2575;fix cross build for kubeletcm;"Fixes a break in the cross build
pkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in assignment
 unsupportedCgroupManager does not implement CgroupManager missing CgroupName method
...
pkgkubeletcmcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in return argument
 unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method

derekwaynecarr liggitt ncdc


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Merge pull request from derekwaynecarrsystemdpodcgr?Çª;"We suspect that this was the cause of crossbuild failures e.g. build 
 ks.iokubernetespkgkubeletcm
pkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in assignment
 unsupportedCgroupManager does not implement CgroupManager missing CgroupName method
pkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in return argument
 unsupportedCgroupManager does not implement CgroupManager missing CgroupName method
pkgkubeletcmcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in return argument
 unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method
pkgkubeletcmpodcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in assignment
 unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method
 windowsamd go build started
 ks.iokubernetespkgkubeletcm
pkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in assignment
 unsupportedCgroupManager does not implement CgroupManager missing CgroupName method
pkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in return argument
 unsupportedCgroupManager does not implement CgroupManager missing CgroupName method
pkgkubeletcmcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in return argument
 unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method
pkgkubeletcmpodcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in assignment
 unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2576;Fix update.sh;"satnam filbranden
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix syntax error in update.sh;"Tested with sh n.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2577;Fix incorrect username;"For work on issue 
My mistake used goog username rather than github. Duh.
Wish we had a federated identity authority we all trusted P
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace jregan with monopole in main OWNERS file;"What this PR does why we need it Looks like there was a mistake there. It should be the github handle nothing else will work.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged Doesn't fix any issue. Please approve noissue.
Special notes for your reviewer
Release note
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2578;Fix volume states out of sync problem after kubelet restarts;"When kubelet restarts all the information about the volumes will be
gone from actualdesired states. When update node status with mounted
volumes the volume list might be empty although there are still volumes
are mounted and in turn causing master to detach those volumes since
they are not in the mounted volumes list. This fix is to make sure only
update mounted volumes list after reconciler starts sync states process.
This sync state process will scan the existing volume directories and
reconstruct actual states if they are missing.
This PR also fixes the problem during orphaned pods' directories. In
case of the pod directory is unmounted but has not yet deleted e.g.
interrupted with kubelet restarts clean up routine will delete the
directory so that the pod directoriy could be cleaned up it is safe to
delete directory since it is no longer mounted
The third issue this PR fixes is that during reconstruct volume in
actual state mounter could not be nil since it is required for creating
container.VolumeMap. If it is nil it might cause nil pointer exception
in kubelet.
Detailed design proposal is 
Fix volume states out of sync problem after kubelet restarts



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";don't reread world state after starting reconstruction;"Fixes by not rereading the world state after reconstructing from ondisk pod volumes
pmorie saadali derekwaynecarr


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2579;Fix make test on mac pkgkubelet;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed kubelet unit tests on osx;"Similar to 
Kubelet's unit tests were failing on OS X due to missing structs and funcs excluded by conditional build flags.
This PR makes fakeMountInterface common between platforms and fixes the unit tests.
 ks.iokubernetespkgkubelet
outputlocalgosrcks.iokubernetespkgkubeletkubelettest.go undefined fakeContainerMgrMountInt
outputlocalgosrcks.iokubernetespkgkubeletrunoncetest.go undefined fakeContainerMgrMountInt

brendandburns smarterclayton
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2580;fix delete kubeadm token;"fix kuberneteskubeadm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";kubeadm fix to avoid panic if token not provided;"What this PR does why we need it Prior to this kubeadm would panic if no token was provided running kubeadm ex token delete. This does a check to verify an arg has been passed and prints out a more reasonable message if it is not provided.
Special notes for your reviewer cc luxas pires
Release note
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2581;Support node label update;"This PR is a basic support for node label update. brendanburns In case of label change do we trigger a reschedule of current pods on updated node It's possible for the label change to break schedule predicate.
derekwaynecarr What is the status of node namespace. Our api takes context obj but I didn't see how it is used in ks. Are we going to only use default for node kubectl will check for namespace when updating I'm not sure what namespace we'd use for node update.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support to minion updating.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2582;fix local flag for kubectl commands;"Fixes 
Release note
NONE

Fixes the local flag for kubectl set ... subcommands.
As of the . release PrinterForCommand was updated to use a mapper and typer for unstructured objects which further prevented the use of local when there was no connection to an api server.
before with no connection to a server
 kubectl set resources f pod.json limitscpummemoryMi local
error unable to connect to a server to handle pods Get https...api dial tcp ... getsockopt connection refused

after with no connection to a server
 kubectl set resources f pod.json limitscpummemoryMi local
NAME READY STATUS RESTARTS AGE
mypod unknown

cc smarterclayton fabianofranz
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make kubectl ... local cmds work wo apiserver;"The following commands now work work with local flag when the
apiserver cannot be contacted

convert
annotate
label
patch
set image
set resources
set selector
set subject

Commands that support unstructured objects convert annotate
label patch will only work with TPRs when the apiserver can be
contacted.
Added kubectl tests that cover kubectl ... local commands without
running apiserver.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2583;statssummary impl;"Implement statssummary endpoint by filling in summary data from cAdvisor. Remaining work for this PR includes

get more reliable container status info. current stats are missing some containers proxy and infra
add tests

Ignore first commits they will be merged through separate PRs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Nodes Metrics API Summary Impl;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2584;Add SELinuxOptions to LinuxPodSandboxConfig;"Without adding this there is no way that one can set
correct SELinux labels for a podinfra like container.
yujuhong PTAL
cc rhatdan yifangu euank feiskyer
Signedoffby Mrunal Patel mpatelredhat.com


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CRI Add security context for sandboxcontainer;"Part of . This PR

adds security context for sandbox and fixes 
encaps container security context to SecurityContext and adds missing features
Note that capability is not fully accomplished in this PR because it is under discussion at .

cc yujuhong yifangu RandomLiu kubernetessignode


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2585;Fix typo that caused an error at end of vagrant up;"There was a regression made in a recent change that introduced this typo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo KUBECONIGKUBECONFIG in vagrant scripts.;"Fix a benign typo which was causing an error after vagrant
provisioning completed.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2586;Use config sources for Kubelet switch to podFullName;"As discussed in and also a side discussion about abstracting the Kubelet from being directly dependent on etcd start refactoring config service to decouple sources of config from sync loop and switch from Manifest.ID Pod Full Name in the Kubelet.
Simplifies the Kubelet Run step by requiring configuration to be defined up front and an update channel passed into the Kubelet.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";refactor;"Fixed the window time issue by watch on a given index.
Eliminate unnecessary timeout ticker.
Changed kubelet.getKubeletStateFromEtcd to return an error
if the etcd is not found.
Replaced with closechannel to signal notification in some places.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2587;Fix kubectl run dryrun with i or attach;"Don't attempt to attach to the pod in dry run mode.
Fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Better kubectl run validations;"Adds more validations to flags that must be mutually exclusive in kubectl run. For example dryrun must not be used with attach stdin or tty. Adds unit tests for these new validations and some previously existing ones.
Release note

NONE



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2588;Add some check about image garbagecollect;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Image garbage collector LowThresholdPercent can not be higher than HighThresholdPercent;"if LowThresholdPercent HighThresholdPercent amountToFree at imagemanager.go is negative and image GC will not free memory properly.
Justification

LowThresholdPercent HighThresholdPercent implies LowThresholdPercent capacity HighThresholdPercent capacity 
usage is at least HighThresholdPercent capacity 
amountToFree usage LowThresholdPercent capacity 

Combining and implies amountToFree can be negative.
What happens if amountToFree is negative in freeSpace method for image range images loops at least once
and if everything goes fine deleteim.imageRecords image.id is executed.
When checking for condition if spaceFreed bytesToFree it is always true as bytesToFree is negative
and spaceFreed is positive. The loop is finished so is image GC.
At the end only the oldest image is deleted. In situations where there is a lot of dead containers
each container corresponing to distinct image number of unused images can get higher.
If two new images get pulled in every minutes image GC will not work properly and will not free enough space.
Secondly it will take a lot of time to free all unused images hours depending on a number of unused images.
This is an incorrect configuration. Image GC should report it and refuse to work.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2589;allow kubectl proxy to handle specified reject methods and default to?Çª;"What this PR does why we need it
kubect proxy command had a bug and was not supporting feature to reject http methods
rejectmethods'POSTPUTPATCH'
this was due to missing filter for RejectMethods in kubectlcmdproxy.go
This PR adds the desired flag however to retain the current behaviour of kubectl proxy the Default Rejected methods are changed from 'POSTPUTPATCH' to '' i.e. none.
Issue not created and no existing issue found
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix kubectl proxy rejectmethod not use issue;"quick fix kuberneteskubectl. liggitt ptal.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2590;use dedent for configgetcontexts.go;"use dedent for configgetcontexts.go


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improvements to CLI usability and maintainability;"Improves kubectl from an usability perspective by

Fixing how we handle terminal width in help. Some sections like the flags use the entire available width while others like long descriptions breaks lines but don't follow a well established max width screenshot below. This PR adds a new responsive writer that will adjust to terminal width and set or columns as the max width but not more than that given POSIX best practices and recommendations for better readability.

Adds our own normalizers for long descriptions and cmd examples which allows us better control about how things like lists paragraphs line breaks etc are printed. Features markdown support. Looks like templates.LongDesc and templates.Examples instead of dedent.Dedend.
Allows simple reordering and reuse of help and usage sections.
Adds verifycliconventions.sh which intends to run tests to make sure cmd developers are using what we propose as kubectl conventions. Just a couple simple tests for now but the framework is there and it's easy to extend.
Update kubectl conventions to use our own normalizers instead of dedent.Dedent.

Release note

Improves how 'kubectl' uses the terminal size when printing help and usage.

kuberneteskubectl


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2591;pod spec was not validating envFrom;"What this PR does why we need it
adds missing validation for envFrom in a pod.spec.containers.envFrom
fixes validation of pod.spec.containers.env.configMapRef.name
fixes validation of pod.spec.containers.env.secretRef.name
Which issue this PR fixes
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix issue;"Which issue this PR fixes fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2592;Fix conversion error in limit request ratio enforcement;"The code that enforced the ratio between limit and request had a precision bug.
For example
request was m
limit was 
maxLimitRequestRatio was 
We should have got an error because the ratio between limit and request was but we were computing a value of as what should be enforced. As a result was always .
Fixed the code to not have this precision bug when enforcing ratio and added test case to enforce func.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix ratio calculation error in admission controller for LimitRange;"Fixes 
Fixes 
Use float number to calculate ratio and use same unit to compare
ratios.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2593;Change default maxpods in kubelet to;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Change default value of kubelet flags;"maxpods from to and
maximumdeadcontainers from to 
cc yujuhong
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2594;Fix builds on selinux systems;"The build was broken on SELinux enabled systems.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix don't append redundant Z to docker mount option;"fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2595;Delete pool before getting Node Address unsuccessfully;"What this PR does why we need it
Which issue this PR fixes optional in fixes issue number issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note


When calls getAddressByName ks returns error without deleting
the pool of openstack. So many lbpool will be left over. We should
delete it.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";OpenStack LBaaSV EnsureLoadBalancer now updates instead of recreates existing LBs;"What this PR does why we need it Current LBaaSV integration recreates existing LBs and causes service downtime and floating ip rotation. New implementation updates LBs without service downtime or any ip rotation.
Which issue this PR fixes optional in fixes issue number issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer I really need this before we can move to production with kubernetes. Getting this to v. would be really great. I have performed plenty of testing lb and listener creation port changing and listener update multiple listeners for multiport LBs and deletion. Seems to work flawlessly.
Release note




This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2596;Address outstanding review comments in .;"Address outstanding review comments in .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixup debug log line in federation controller;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2597;Pin arm machines to a specific Ubuntu version;"Signedoffby Stefan Scherer stefan.schererdocker.com
 What I did
Use better Jenkins labels for arm. The label linux is very vague and randomly picks Ubuntu . machines.
 How I did it
 How to verify it
Check CI nodes no ubuntuoverlayarmv node should appear any longer.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve error handling of commands run against unsupported daemon;"The current errorhandling only checked for version annotations on the subcommand itself but did not check the toplevel command.
This patch always traverses the command path parents and prints an error if the command is not supported.
Before this change
 docker service
Usage	docker service COMMAND

Manage services

Options
 help Print usage

Commands
 create Create a new service
 inspect Display detailed information on one or more services
 ls List services
 ps List the tasks of one or more services
 rm Remove one or more services
 scale Scale one or multiple replicated services
 update Update a service

Run 'docker service COMMAND help' for more information on a command.

 docker service ls
ID NAME MODE REPLICAS IMAGE

After this change
 DOCKERAPIVERSION. docker service
docker service requires API version . but the Docker daemon API version is .

 DOCKERAPIVERSION. docker service ls
docker service ls requires API version . but the Docker daemon API version is .

 DOCKERAPIVERSION. docker plugin help
docker plugin requires API version . but the Docker daemon API version is .

 DOCKERAPIVERSION. docker plugin upgrade help
docker plugin upgrade requires API version . but the Docker daemon API version is .

 Description for the changelog
Improve error handling of commands run against older daemons
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2598;bump up rootlesskit to v.. Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression;"What I did
Fix DOCKERDROOTLESSROOTLESSKITPORTDRIVERslirpnetns regression.
rootlesscontainersslirpnetns
 How I did it
Bumped up RootlessKit to v..
Full changes rootlesscontainersrootlesskitv.....v..
 How to verify it
Run DO";Improve POSIX compatibility of bash completion;"Fixes 
See also dockercompose
Some systems out there run bash in POSIX mode by default. In POSIX mode bash does not accept function names that contain dashes
 bash usrsharebashcompletioncompletionsdocker
 bash posix usrsharebashcompletioncompletionsdocker
usrsharebashcompletioncompletionsdocker line dockercompletedetachkeys' not a valid identifier
This PR changes several function names to s and the logic to compute the functions from command and subcommand names. The same logic already exists in bash completion for Compose.
tianon PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2599;checkconfig.sh add SELinux and AppArmor;NOM;Windows Cleanup HCS on restore;"Signedoffby John Howard jhowardmicrosoft.com
darrenstahlmsft
This ensures that any compute processes in HCS are cleanedup
during daemon restore. Note Windows cannot currently reconnect
to containers on restore.
friism vieux Another one which should be considered for CS and servicing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2600;Use docker media type for plugin layers;"This was changed as part of a refactor to use containerd dist code. The
problem is the OCI media types are not compatible with older versions of
Docker.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update oracle linux selinux to match docker upstream;"also add a dependency on specific selinux version for OL on dockerengine.spec
Signedoffby Thomas Tanaka thomas.tanakaoracle.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2601;. backport vendor dockerlibnetwork bbebcbebbfbe;"backport of 
also somewhat related to which discusses the implicit binding of IPv
depends on

 Update rootlesskit to v.. to fix handling of IPv addresses

 rootlesscontainersrootlesskit Refactor ParsePortSpec to handle IPv addresses and improve validation


 CI update tests to be more resilient against CLI output format and for libnetwork changes
 update rootlesskit to v..

 rootlesscontainersrootlesskit Port API support specifying IP version explicitly tcp tcp



full diff mobylibnetworkfaa...b

fixed IPv iptables rules for enabled firewalld mobylibnetwork

fixes Docker uses 'iptables' instead of 'iptables' for IPv NAT rule crashes


Fix regression in mobylibnetwork

introduced in Fix IPv Port Forwarding for the Bridge Driver mobylibnetwork
fixes mobylibnetwork IPv and IPv addresses are not bound by default anymore
fixes IPv is no longer proxied by default anymore


Use hostIP to decide on Portmapper version mobylibnetwork

fixes dockerproxy not being stopped correctly



 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tail and since to service logs;"What I did
This change adds the ability to do tail and since on docker service logs.
Should also fix .
Part of a series of changes in .
 How I did it
It wires up the API endpoints to each other and fixes some older bugs.
 How to verify";0
2602;btrfs Allow unprivileged user to delete subvolumes kernel .;"What I did
Fix rootless driver btrfs failed to remove root filesystem Failed to destroy btrfs snapshot homeUSER.localsharedockerbtrfssubvolumes for ID operation not permitted
 How I did it
Cherrypick drivers btrfs Allow un";Add a LastTagTime for images;"Implements proposal 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2603;rootless btrfs annotate error with humanreadable hint string;"What I did
Add hints for Failed to destroy btrfs snapshot DIR for ID operation not permitted error on rootless
Related to issue 
 How I did it
Wrap the error when running in a user namespace.
 How to verify it
 dockerdrootless.sh datar";update deprecation dates;"follow up to dockerdocker.github.io
Since we were roughly releasing every months before I used this table to convert

ping thaJeztah tiborvass
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2604;dockerdrootless.sh avoid runxtables.lock EACCES on SELinux hosts;"What I did
Fix 
 How I did it
Previously running dockerdrootless.sh on SELinuxenabled hosts was failing with can't open lock file runxtables.lock Permission denied error. issue .
This commit avoids hitting the error by relabeling r";Healthchecks should inherit environment;"Signedoffby David McKay davidrawkode.com
I was adding a HEALTHCHECK to a container and noticed that I couldn't utilise environment variables meaning I had to duplicate some variables
healthcheck
 test CMDSHELL mysql userMYSQLUSER passwordMYSQLPASSWORD e 'SHOW TABLES' MYSQLDATABASE
 What I did
Assigning the containers Env to the healthcheck environment
 Description for the changelog
Making a containers environment variables available to the healthcheck command

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2605;. backport builder produce error when using unsupported Dockerfile option;"backport of 
fixes 
depends on

 vendor github.commobybuildkit v..

 depends on mobybuildkit mobybuildkit



builder produce error when using unsupported Dockerfile option
With the promotion of the experimental Dockerfile syntax to stable the Dockerfile
syntax now includes some options that are supported by BuildKit but not yet
supported in the classic builder.
As a result parsing a Dockerfile may succeed but any flag that's known to BuildKit
but not supported by the classic builder is silently ignored
 mkdir buildkitflags cd buildkitflags
 touch foo.txt

For example RUN mount
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
RUN mounttypecachetargetfoo echo hello
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 eef
Step RUN mounttypecachetargetfoo echo hello
 Running in fdbbc
hello
Removing intermediate container fdbbc
 efd
Successfully built efd

Or COPY chmod same for ADD chmod
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
COPY chmod foo.txt foo.txt
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 eef
Step COPY chmod foo.txt foo.txt
 baa
Successfully built baa

Note that unknown flags still produce and error for example the below fails because hello is an unknown flag
DOCKERBUILDKIT docker build EOF
FROM busybox
RUN hello echo hello
EOF

Sending build context to Docker daemon .kB
Error response from daemon dockerfile parse error line Unknown flag hello

With this patch applied
With this patch applied flags that are known in the Dockerfile spec but are not
supported by the classic builder produce an error which includes a link to the
documentation how to enable BuildKit
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
RUN mounttypecachetargetfoo echo hello
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 bfca
Step RUN mounttypecachetargetfoo echo hello
the mount option BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.


DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
COPY chmod foo.txt foo.txt
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 bfca
Step COPY chmod foo.txt foo.txt
the chmod option requires BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.

 Description for the changelog

Fix classic builder silently ignoring unsupported Dockerfile options

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix inContainer detection which CROSSPLATFORM env variable missing;"Fix 
Related to 
cc thaJeztah tianon aaronlehmann vieux
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2606;. backport CI update tests to be more resilient against CLI output format and for libnetwork changes;"backport of 
relates to in preparation of vendor dockerlibnetwork bbebcbebbfbe
integrationcontainer wrap some long lines for readability
Just some minor codestyle changes for readability
integration update getExternalAddress to prefer IPv
Rootlesskit doesn't currently handle IPv addresses causing TestNetworkLoopbackNat and TestNetworkNat to fail
Error starting userland proxy
error while calling PortManager.AddPort listen tcp address too many colons in address

This patch

Updates getExternalAddress to pick IPv address if both IPv and IPv are found
Update TestNetworkNat to net.JoinHostPort so that square brackets are used for IPv addresses e.g. 

integrationcli rely less on docker port output format
Also reformatting some lines for readability.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move Sven to alumni;"Sven is very busy doing cool stuff so moving him to our alumni list.
Thanks so much SvenDowideit you merged my first PR \

cc dockercoreenginemaintainers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2607;. backport hack use GOPROXY for rootlesskit to workaround issue with old git on CentOSRHEL;"backport of 
Since rootlesskit removed vendor folder building it has to rely on go mod.
Dockerfile in dockercepackaging uses GOPROXYdirect which makes go mod
commands use git to fetch modules. go mod in Go versions before .. are
incompatible with older git versions including the version of git that ships
with CentOSRHEL which have git . see golanggo
This patch switches rootlesskit install script to set GOPROXY to
httpsproxy.golang.org so that git is not required for downloading modules.
Once all our code has upgraded to Go . this workaround should be
removed.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add format to the docker system df command;"What I did
Add the format option to the dockersystemdf command
related to 
 How I did it

Add the format option to the clicommandsystemdf.go
Add the NewDiskUsageFormat function to return a right format from options in clicommandformatterd";0
2608;discovery test Fix goroutine leaks by adding buffer to channel;"Signedoffby Ziheng Liu lzhfromustcgmail.com
 What I did
Fixed a few channels that can lead to goroutine leaks in pkgdiscovery and a few unit tests.
 How I did it
These channels all share the same pattern
ch makechan type
go func 
 ...
 ch value

...
select 
case timeout
 return
case ch
...

They are fixed by giving buffer to these channels. So no goroutine will be blocked at the send operations and the receive operations in select won't be influenced.
 How to verify it
This patch is similar to 
For the four channels in unit tests I ran these unit tests and they all passed.
For the channels in those func s Discovery Watch adding buffer to them may seem to change the semantics because send is now not blocking. However I checked all functions that can use these channels and found that this won't change the behavior of the program. They are TestDaemonDiscoveryReload TestDaemonDiscoveryReloadFromEmptyDiscovery DiscoverySuite TestWatch TestDaemonReloadNetworkDiagnosticPort vendor...hostdiscoveryhostDiscovery Watch. I also ran all related unit tests and they all pass.
 Description for the changelog
None
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";carry Update index.md;"Carries closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2609;hack use GOPROXY for rootlesskit to workaround issue with old git on CentOSRHEL;"?Çª CentOSRHEL 
Since rootlesskit removed vendor folder building it has to rely on go mod.
Dockerfile in dockercepackaging uses GOPROXYdirect which makes go mod
commands use git to fetch modules. go mod in Go versions before .. are
incompatible with older git versions including the version of git that ships
with CentOSRHEL which have git . see golanggo
This patch switches rootlesskit install script to set GOPROXY to
httpsproxy.golang.org so that git is not required for downloading modules.
Once all our code has upgraded to Go . this workaround should be
removed.
Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";profiles seccomp fix seccomp build;"Previously building with seccomp disabled would cause build failures
because of a mismatch in the type signatures of DefaultProfile.
 
 Yvonne Lin on Flickr
Signedoffby Aleksa Sarai asaraisuse.de
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2610;rootless fix getCurrentOOMScoreAdj fix rootless docker in kubernetes;"What I did
Fix rootless docker in kubernetes getting the final child's pid from pipe caused \EOF\ unknown
 How I did it
Fixed getCurrentOOMScoreAdj to trim \n before calling strconv.Atoi.
 How to verify it
rootless.yaml
apiVersion";update pouleconfig add Yong to autoassignment;"cc vdemeester yongtang ?ÿä
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2611;rootless overlay fix createDirWithOverlayOpaque... ... inputoutput error;"What I did
Fix createDirWithOverlayOpaque... ... inputoutput error on rootless.
Fix dockerforlinux intermittent error on Debian kernel .
Fix reproducible error on kernel .
Fix 
 How I did it
bug fix Co";..x Docs cherry picks;"Cherrypicking
 dfc
 ebf
 cae
 fbccc
 a
ping vdemeester mstanleyjones PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2612;checkconfig.sh add SECCOMPFILTER;"What I did
I added the check of the existence of CONFIGSECCOMPFILTER.
 How I did it
 How to verify it
 Description for the changelog
The check of seccomp filter support was needed.
Ref opencontainersrunc

 A picture of a cute animal not ma";fix func name BuildFromContext in comment;"Signedoffby Helen Xie chenjgharmonycloud.cn

 What I did
fix func name BuildFromContext in comment
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2613;. backport update rootlesskit to v..;"backport of 
relates to needed for 
full diff rootlesscontainersrootlesskitv.....v..
v.. Changes since v..

CLI improve help output
API support GET info
Port API support specifying IP version explicitly tcp tcp
rootlesskitdockerproxy support libnetwork convention
Allow vendoring with mobysysmountinfov.. as well as v..
Remove socat port driver

socat driver has been deprecated since v.. Dec 


New experimental flag ipv

Enables IPv routing slirpnetns enableipv. Unrelated to port driver.



v..

Fix cleaning up crashed state dir
Update Go to .
Misc fixes


 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove Jekyll tags from CLI reference;"These Markdown files are now embedded in a YAML file for templating in the documentation and these special markers are no longer needed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2614;Fix errorhandling in daemon.ContainerExecStart and daemon.getExecConfig;"extracting this from where I noticed this
Fix daemon.getExecConfig not using typed errNotRunning error
This makes daemon.getExecConfig return a errdefs.Conflict error if the
container is not running.
This was originally the case but a refactor of this code changed the typed
error derr.ErrorCodeContainerNotRunning to a nontyped error a 
ContainerExecStart don't wrap getExecConfig errors and prevent panic
daemon.getExecConfig already returns typed errors by wrapping those errors we may loose the actual reason for failures. Changing the errortype was originally added in dd but I think it was not intentional to ignore alreadytyped errors. It was later refactored in a which added helper functions to create these errors but kept the same behavior.
Also adds errorhandling to prevent a panic in situations where although unlikely daemon.containers.Get would not return a container.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make rc announcement mandatory;"Last month when people upgraded their KS clusters to use Engine .
networking broke for them because the default forwarding policy changed
to DROP to increase the security and prevent some specific network attacks.
After a long discussion on Twitter
we realized that while the .rc releases had been out for months they
hadn't received as much testing as we wanted because they hadn't been
announced through all available channels.
This is a proposal to alter the release process to make sure that release
candidate versions are announced as widely as possible.
And here is the mandatory cute animal the release candidate
announcement penguin.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2615;Fix panic in TestExecSetPlatformOpt TestExecSetPlatformOptPrivileged;"Splitting this from where I found this issue
These tests would panic

in WithRLimits because HostConfig was not set

 
 
 mobydaemonocilinux.go
 
 
 Lines to 
 in
 ae
 
 
 
 

 
 
 We want to leave the original HostConfig alone so make a copy here 
 

 
 
 hostConfig c.HostConfig 
 
 
 


in daemon.mergeUlimits because daemon.configStore was not set

 
 
 mobydaemonocilinux.go
 
 
 Line 
 in
 ae
 
 
 
 

 
 
 for name ul range daemon.configStore.Ulimits 
 
 
 



This panic was not discovered because the current version of runclibcontainer that we vendor
would not always return false for apparmor.IsEnabled when running dockerindocker or if
apparmorparser is not found. Starting with v..rc of libcontainer this is no longer
the case changed in opencontainersruncbfbea
This patch

changes the tests to initialize Daemon.configStore and Container.HostConfig
Combines TestExecSetPlatformOpt and TestExecSetPlatformOptPrivileged into a new test
TestExecSetPlatformOptAppArmor
Runs the test both if AppArmor is enabled and if not in which case it tests
that the container's AppArmor profile is left empty.
Adds a FIXME comment for a possible bug in execSetPlatformOpts which currently
prefers custom profiles over privileged.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move TearDownTest cleaning to environment package;"Move the clean functions of integrationcli in the environment package and mainly in testEnv.Clean?Çª function.
It just move the function to the package with the smallest change possible ?æ? . First part of which I'll close.
cc thaJeztah tonistiigi tiborvass dnephin icecrime cpuguy LKD
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2616;update rootlesskit to v..;"relates to needed for 
full diff rootlesscontainersrootlesskitv.....v..
v.. Changes since v..

CLI improve help output
API support GET info
Port API support specifying IP version explicitly tcp tcp
rootlesskitdockerproxy support libnetwork convention
Allow vendoring with mobysysmountinfov.. as well as v..
Remove socat port driver

socat driver has been deprecated since v.. Dec 


New experimental flag ipv

Enables IPv routing slirpnetns enableipv. Unrelated to port driver.



v..

Fix cleaning up crashed state dir
Update Go to .
Misc fixes

Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";do not ignore volume in use errors when forcedelete;"fixes 
When using docker volume rm f all errors were ignored and volumes where Purged even if they were still in use by a container. As a result repeated calls to docker volume rm f actually removed the volume.
The f option was implemented to ignore errors in case a volume was already removed outofband by a volume driver plugin.
This patch changes the remove function to not ignore volume in use errors if f is used. Other errors are still ignored as before.
 How to verify it
 docker volume create myvolume
myvolume

 docker create v myvolumevolume busybox

 then run docker volume rm f multiple times it should produce an error each time
 docker volume rm myvolume
 docker volume rm myvolume

 the volume should still be present
 docker volume ls

 Description for the changelog
Fix a bug where docker volume rm f was removing volumes that were still in use by a container.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2617;. TestPushMultipleTags Add support for . CLI;"In . we no longer implicitly push all tags and require a
alltags flag so add this to the test when the CLI is .
Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit a
Signedoffby Brian Goff cpuguygmail.com

Backporting test change will clear up the failing test for the . branch
httpsgithub.comcpuguydockertestingrunschecksuitefocustrue

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";exported add. cli compose loader parsing methods;"Signedoffby James Nesbitt james.nesbittwunderkraut.com
Relates to 
 What I did
I exported some of the loadX methods found in the clicomposeloader system to make it possible for others to reuse the core functionality to parse servicesnetworks etc from custom yml config.
This is meant to allow reusing of the core code for parsing compose config regardless of where it is used.
The changes are all internal to the dockerclicomposeloader package and no external impact should be felt.
THIS INTRODUCES THE RISK OF MAINTENANCE OF NEWLY EXPORTED FUNCTIONS
people are going to expect them to be reliable but technically they may start to use Load anyway
 How I did it
The following functions in clicomposeloaderloader.go were affected
loadServices
loadService
loadNetworks
loadVolumes
loadSecrets


I exported the functions turned loadX into LoadX and added a doc line to each
Then I updated all calls of those functions

 How to verify it
This should produce no external changes but allows use of the loader as a library.
 Description for the changelog
exported more clicomposeload marshalling functions for reuse
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2618;. Remove cli test for duplicate netnetwork opts;"This seems to be testing a strange case specifically that one can set
the net and network in the same command with the same network.
Indeed this used to work with older CLIs but newer ones error out when
validating the request before sending it to the daemon.
Opening this for discussion because

This doesn't seem to be testing anything at all related to the rest
of the test
Not really providing any value here.
Is testing that a technically invalid option is successful whether
the option should be valid as it relates to the CLI accepting it is
debatable.
Such a case seems fringe and even a bug in whatever is calling the
CLI with such options.

Signedoffby Brian Goff cpuguygmail.com
cherry picked from commit e
Signedoffby Brian Goff cpuguygmail.com

Backporting to . and that should clean up this the failing test shown below
httpsgithub.comcpuguydockertestingrunschecksuitefocustrue

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix wrong foo to zzz in dockerclibuildtest.go;"fix wrong foo to zzz in dockerclibuildtest.go.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2619;. backport Fix handling for jsonfile io.UnexpectedEOF;"backport of 
Before this we essentially end up doubling any buffered data from the
json decoder by storing it in both d.dec and d.rdr.
Thanks tobiasstadler for pointing this error out.
Fixes 
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";multiarch skip more plugin tests on nonx;"Until the plugins are multiarch plugins or built on runtime
skip these tests like we do with the remainder of the plugin tests.
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2620;libcontainerd remove unused win errors and consts;"These were added in dd for Windows TP but no longer used after ca removed support for TP.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pass DOCKERCROSSPLATFORMS to the container in the Makefile;"can be useful to speed up builds
cc andrewhsu tianon
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2621;quota adjust buildtags to allow build without CGO;"This is to allow quota package without tests to be built without cgo.
makeBackingFsDev was used in helpers but not defined in projectquotaunsupported.go
Also adjust some GoDoc to follow the standard format.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve coverage of pkgioutilsbuffer;"cc vdemeester came across this in a branch I forgot about ?ÿä
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2622;. backport overlay support userxattr option kernel .;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add more maintainers to autoassign;"cc aaronlehmann AkihiroSuda aluzzardi coolljt MHBauer runcom stevvooe as discussed per email slack ?æì

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2623;Add a version requirement for testPushMultipleTags;"TestPushMultipleTags Add support for . CLI
In . we no longer implicitly push all tags and require a alltags flag so add this to the test when the CLI is ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update Reported less Txbytes to RxPackets in dockerapistatstest.go;"update Reported less Txbytes to RxPackets in dockerapistatstest.go.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2624;Prepare tests for Windows containerd support;"What I did
As part of Windows ContainerD CI work on I noticed that some tests need to be slightly modified that for that purpose. Additionally I enabled some tests which have been disabled on Windows earlier.
 How I did it
On way that those sh";testintegration convert request.SockRequestRaw to appropriate methods;"request.SockRequestRaw is deprecated let's use appropriate methods
for those. This is a first pass SockRequest still needs to be removed.
cc thaJeztah dnephin icecrime cpuguy runcom AkihiroSuda
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2625;Remove cli test for duplicate netnetwork opts;"This seems to be testing a strange case specifically that one can set
the net and network in the same command with the same network.
Indeed this used to work with older CLIs but newer ones error out when
validating the request before sending it to the daemon.
Opening this for discussion because

This doesn't seem to be testing anything at all related to the rest
of the test
Not really providing any value here.
Is testing that a technically invalid option is successful whether
the option should be valid as it relates to the CLI accepting it is
debatable.
Such a case seems fringe and even a bug in whatever is calling the
CLI with such options.

The change that caused this is from dockercli
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docker daemon' deprecation message doesn't use the new version;"Signedoffby yuexiaowang wang.yuexiaozte.com.cn
fixes 
 What I did
Use the new version for 'docker daemon' deprecation message
 How I did it
 How to verify it
 Description for the changelog
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2626;info unset cgrouprelated fields when CgroupDriver none;"Fix 
 What I did
unset cgrouprelated fields when CgroupDriver none
 How I did it
Modified daemoninfounix.goP
 How to verify it

Boot the host with cgroup v
dockerdrootlesssetuptool.sh install
docker info format json. 


...
 MemoryLimit false
 SwapLimit false
 KernelMemory false
 KernelMemoryTCP false
 CpuCfsPeriod false
 CpuCfsQuota false
 CPUShares false
 CPUSet false
 PidsLimit false
...
 CgroupDriver none
...

 Description for the changelog

info unset cgrouprelated fields when CgroupDriver none
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove incorrect duplicate phrase from build.md;"A phrase from the Text files section in build.md was incorrectly duplicated under the Tarball contexts section.
Signedoffby Peter Jaffe pjaffenevo.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2627;update containerd binary to v..;"Welcome to the v.. release of containerd
The sixth major release of containerd includes many stability improvements
and code organization changes to make contribution easier and make future
features cleaner to develop. This includes bringing CRI development into the
main containerd repository and switching to Go modules. This release also
brings support for the Node Resource Interface NRI.
Highlights
Project Organization

Merge containerdcri codebase into containerdcontainerd
Move to Go modules
Remove selinux build tag
Add json log format output option for daemon log

Snapshots

Add configurable overlayfs path
Separate overlay implementation from plugin
Native snapshotter configuration and plugin separation
Devmapper snapshotter configuration and plugin separation
AUFS snapshotter configuration and plugin separation
ZFS snapshotter configuration and plugin separation
Pass custom snapshot labels when creating snapshot
Add platform check for snapshotter support when unpacking
Handle loopback mounts
Support userxattr mount option for overlay in user namespace
ZFS snapshotter implementation of usage

Distribution

Improve registry response errors
Improve image pull performance over HTTP .
Registry configuration package
Add support for layers compressed with zstd
Allow arm to fallback to arm v v v v

Runtime

Add annotations to containerd task update API
Add logging binary support when terminal is true
Runtime support on FreeBSD

Windows

Implement windowsDiff.Compare to allow outputting OCI images
Optimize WCOW snapshotter to commit writable layers as readonly parent layers
Optimize LCOW snapshotter use of scratch layers

CRI

Add NRI injection points cri
Add support for registry host directory configuration
Update privileged containers to use current capabilities instead of known capabilities
Add pod annotations to CNI call
Enable ocicrypt by default
Support PID NamespaceModeTARGET

Impactful Client Updates
This release has changes which may affect projects which import containerd.
Switch to Go modules
containerd and all containerd subrepositories are now using Go modules. This
should help make importing easier for handling transitive dependencies. As of
this release containerd still does not guarantee client library compatibility
for .x versions although best effort is made to minimize impact from changes
to exported Go packages.
CRI plugin moved to main repository
With the CRI plugin moving into the main repository imports under github.comcontainerdcri
can now be found github.comcontainerdcontainerdpkgcri.
There are no changes required for end users of CRI.
Library changes
oci
The WithAllCapabilities has been removed and replaced with WithAllCurrentCapabilities
and WithAllKnownCapabilities. WithAllKnownCapabilities has similar
functionality to the previous WithAllCapabilities with added support for newer
capabilities. WithAllCurrentCapabilities can be used to give privileged
containers the same set of permissions as the calling process preventing errors
when privileged containers attempt to get more permissions than given to the
caller.
Configuration changes
New registry.configpath for CRI plugin
registry.configpath specifies a directory to look for registry hosts
configuration. When resolving an image name during pull operations the CRI
plugin will look in the registry.configpath directory
for host configuration. An optional hosts.toml file in that directory may be
used to configure which hosts will be used for the pull operation as well
hostspecific configurations. Updates under that directory do not require
restarting the containerd daemon.
Enable registry.configpath in the containerd configuration file.
plugins.io.containerd.grpc.v.cri.registry
 configpath etccontainerdcerts.d
Configure registry hosts such as etccontainerdcerts.ddocker.iohosts.toml
for any image under the docker.io namespace any image on Docker Hub.

server httpsregistry.docker.io 

host.httpspublicmirror.example.com
 capabilities pull 
host.httpsdockermirror.internal
 capabilities pull resolve
 ca dockermirror.crt 

If no hosts.toml configuration exists in the host directory it will fallback
to check certificate files based on Docker's certificate file
pattern .crt files for CA certificates and .cert.key files for client
certificates.
Deprecation of registry.mirrors and registry.configs in CRI plugin
Mirroring and TLS can now be configured using the new registry.configpath
option. Existing configurations may be migrated to new host directory
configuration. These fields are only deprecated with no planned removal
however these configurations cannot be used while registry.configpath is
defined.
Version schema is deprecated
Version of the containerd configuration toml is recommended format and the
default. Starting this version a deprecation warning will be logged when
version is used.
To check version see the version value in the containerd toml configuration.
version

FreeBSD Runtime Support Experimental
This release includes changes that allow containerd to run on FreeBSD with a
compatible runtime such as runj. This
support should be considered experimental and currently there are no official
binary releases for FreeBSD. The runtimes used by containerd are maintained
separately and have their own stability guarantees. The containerd project
strives to be compatible with any runtime which aims to implement containerd's
shim API and OCI runtime specification.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update vlannetworks.md;"What I did
Some small changes to get the examples so that they run without error with .. on Windows .
Improve consistency of the examples.
Make some changes to better comply with Code and UI text styling
Fix some typos.
 How I did it
 How to ve";0
2628;. backport Use buster backports to build with libseccomp..;"backport of 
Fixes 
The latest released versions of the static binaries .. are still unable
to use faccessat with musl.. even though this was addressed in and
related issues. The underlying cause seems to be that the build system
here still uses the default version of libseccomp shipped with buster.
An updated version is available in buster backports
httpspackages.debian.orgbusterbackportslibseccompdev

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendor swarmkit bbd;"Keep up with swarmkit and keep up with fixes that have been pulled into the stable branch.
This brings in a new dependency github.comgrpcecosystemgogrpcprometheus
TestAPISwarmPromoteDemote had to be updated to handle two possible error messages when demoting the only manager. If this is attempted just after a second manager is demoted it may return the generic error message about quorum instead of saying the last manager can't be demoted. I don't think this is worth fixing. If the besteffort nature of this more specific warning is annoying we can just remove it and always return the same message.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2629;vendor github.comspfcobra v..;"full diff spfcobrav.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use lazy unmount for local volume driver unmount;"This fixes issues where the underlying filesystem may be disconnected and
attempting to unmount may cause a hang.
Fixes part of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2630;vendor github.comopencontainersrunc v..rc;"testing if things break with opencontainersrunc
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for sx ubuntuyakkety deb;"Signedoffby Dominik Dingel dingellinux.vnet.ibm.com
 What I did
Add ubuntuyakkety
 How I did it
contribbuilderdebsxgenerate.sh ubuntuyakkety
 Description for the changelog
Build packages for ubuntu yakkety . with enabled seccomp.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2631;vendor github.commobysysmountinfo v.. github.commobysysmount v..;"full diff mobysyssymlinkv.....mountinfov..
github.commobysysmountinfo v..

Fix PrefixFilter being too greedy
TestMountedBy add missing prechecks
Documentation improvements

github.commobysysmount v..
Breaking changes

Remove stubimplementations for Windows for Mount Unmount
RecursiveUnmount MergeTmpfsOptions

Fixes and improvements

go.mod update github.commobysysmountinfo to v..
use MNT flags from golang.orgxsysunix on freebsd
add support for OpenBSD in addition to FreeBSD
fix package overview documentation not showing
RecursiveUnmount minor improvements

Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";validate extraHosts in daemon side;"Signedoffby allencloud allen.sundaocloud.io
fixes 
 What I did

add validation for extraHosts in daemon side when creating a container
 add validation for extraHosts in buildSandboxOptions to prevent the remaining container with run extraHost from being started again

I think the extraHost has already covered in UNIT test of httpsgithub.comdockerdockerblobmasteroptshoststest.goLL then no integration test added.
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2632;. backport Include VPNkit binary for arm;"backport of 
relates to dockerlibrarydocker
Previously VPNkit binary was installed only for amd.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker build addhost;"Ref 
Thanks thaJeztah for the ping.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2633;Add an option to skip create log stream for awslogs driver;"Added an option awslogscreatestream to allow skipping log stream creation for awslogs log driver. The default value is still true to keep the behavior be consistent with before.
Signedoffby Xia Wu xwumznamazon.com
 What I did
Added a new option awslogscreatestream to awslogs log driver to allow skipping log stream creation in AWS CloudWatch Logs. It's very similar to awslogscreategroup but used for log stream creation.
 How I did it
Added a new option in awslogs log config map.
 How to verify it

Built Docker locally and ran a Docker container with awslogscreatestreamfalse with an existed log stream name in AWS CloudWatch Logs the log stream creation was skipped and container started to run successfully.

docker run d command echo hello \
 env xxx credentials \
 logdriverawslogs \
 logopt awslogsgrouptestgroup \
 logopt awslogsgroupteststream \
 logopt awslogsregionuswest \
 logopt awslogscreatestreamfalse \
 busyboxlatest 


Also ran a Docker container without log option awslogscreatestream and the log stream created in CloudWatch Logs successfully.
Modified existing unit tests and added a unit test for skipped log stream creation.

 Description for the changelog
Added a new option to awslogs log driver to allow skipping log stream creation in AWS CloudWatch Logs.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use an encrypted client certificate to connect to a docker daemon;"An encrypted client certificate can be used to connect to a docker daemon.
Signedoffby Arash Deshmeh adeshmehca.ibm.com
 What I did
This is a first attempt at fixing . As discussed on the first draft of the PR includes changes to vendor repositories dockergoconnections and dockernotary to allow review of all the required changes. These will be submitted as PRs on corresponding repos after the approval of
the changes.
 How I did it

Added code to goconnections repo to make use of existing functionaliy in notary for decrypting private keys.
Added code for passing function for getting password from the client to the goconnections and to notary
 added this as an option in tlsconfig options.
Added code for the functionality to be enabled only if a clientspecific flag is present named it 'tlsgetpass' for now

 How to verify it


To reproduce as shown in follow the tutorial here httpsdocs.docker.comenginesecurityhttps but generate an encrypted private key
 openssl genrsa aes out key.pem 


Current behavior running a docker command include H will result in an error e.g.
 docker tlsverify tlscacertca.pem tlscertcert.pem tlskeykey.pem version
Could not load X key pair tls failed to parse private key. Make sure the key is not encrypted


With this PR include H for hostport
 docker tlsverify tlscacertca.pem tlscertcert.pem tlskeykey.pem version
Enter passphrase for key with ID private passphrase for the private key should be entered
Client
Version ..dev
API version . downgraded from .
Go version go..
Git commit ffcd
Built Sat Feb 
OSArch linuxamd


Server
Version ..dev
API version . minimum version .
Go version go..
Git commit b
Built Wed Nov 
OSArch linuxamd
Experimental false
 Description for the changelog
Encrypted client certificate can be used to connect to a docker daemon.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2634;. backport update containerd binary to v..;"backport of 
full diff containerdcontainerdv.....v..
Release notes
The fourth patch release for containerd . contains a fix for CVE
along with various other minor issues.
See GHSAgqwjfwh
for more details related to CVE.
Notable Updates

Fix container create in CRI to prevent possible environment variable leak between containers
Update shim server to return grpc NotFound error
Add bounds on max oomscoreadj value for shim's AdjustOOMScore
Update task manager to use fresh context when calling shim shutdown
Update Docker resolver to avoid possible concurrent map access panic
Update shim's log file open flags to avoid containerd hang on syscall open
Fix incorrect usage calculation

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed typo in service formatter.;"What I did
Fixed typo in clicommandformatterservice.go.
F Contraints
T Constraints
 How I did it
Just fixed.
 How to verify it
Look at a byte.
 Description for the changelog

Fixed a misspelling in formatter.
 A picture of a cute animal not";0
2635;update containerd binary to v..;"full diff containerdcontainerdv.....v..
Release notes
The fourth patch release for containerd . contains a fix for CVE
along with various other minor issues.
See GHSAgqwjfwh
for more details related to CVE.
Notable Updates

Fix container create in CRI to prevent possible environment variable leak between containers
Update shim server to return grpc NotFound error
Add bounds on max oomscoreadj value for shim's AdjustOOMScore
Update task manager to use fresh context when calling shim shutdown
Update Docker resolver to avoid possible concurrent map access panic
Update shim's log file open flags to avoid containerd hang on syscall open
Fix incorrect usage calculation

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";devicemapper Fix suspend a removed device;"when doing devices.cancelDeferredRemoval the device could have been removed
and return ErrEnxio but it continue to check if it is need to do suspend.
doSuspend devinfo nil devinfo.Exists uses a devinfo which is
get before devices.cancelDeferredRemovalbaseInfo it is outdate the device
has been removed and there is no need to do suspend. If do suspend it will return
devicemapper Error running deviceSuspend dmtaskrun failed.
Signedoffby Lei Jitang leijitanghuawei.com
This issue is not easy to reproduce but we have encountered this several times.
To reproduce easily I add this code
diff git adaemongraphdriverdevmapperdeviceset.go bdaemongraphdriverdevmapperdeviceset.go
index b..dfb 
 adaemongraphdriverdevmapperdeviceset.go
 bdaemongraphdriverdevmapperdeviceset.go
 func devices DeviceSet takeSnapshothash string baseInfo devInfo size uint
 if err nil 
 return err
 
 doDebug strings.ContainsbaseInfo.Name init
 if doDebug 
 logrus.Infof devinfo is v devinfo
 logrus.InfofSleep s please umount the device to make OpenCount to and the kernel will remove the device
 time.Sleep time.Second
 logrus.InfofSleep over you must umount the device before you see this log

 sleep another second to make sure the kernel has removed the device
 time.Sleep time.Second
 
 if devinfo nil devinfo.DeferredRemove 
 if doDebug 
 newdevinfo err devicemapper.GetInfoWithDeferredbaseInfo.Name
 if err nil 
 return err
 
 logrus.Infof devinfo is v newdevinfo
 
 err devices.cancelDeferredRemovalbaseInfo
 if err nil 
 If Error is ErrEnxio. Device is probably already gone. Continue.
 if err devicemapper.ErrEnxio 
 return err
 else 
 logrus.InfofErr is v err
 
 else 
 defer devices.deactivateDevicebaseInfo
 func devices DeviceSet takeSnapshothash string baseInfo devInfo size uint
 return err
 
 
 time.Sleep time.Second
 return nil
 


step start the docker daemon on terminal 

dockerd s devicemapper storageopt dm.usedeferredremovaltrue storageopt dm.usedeferreddeletiontrue
INFO libcontainerd new containerd process pid 
WARN containerd low RLIMITNOFILE changing to max current max
WARN devmapper Usage of loopback devices is strongly discouraged for production use. Please use storageopt dm.thinpooldev or use man docker to refer to dm.thinpooldev section. 
WARN devmapper Base device already exists and has filesystem xfs on it. User specified filesystem will be ignored. 
INFO Graph migration to contentaddressability took . seconds 
INFO Loading containers start. 
INFO Firewalld running true 
INFO Default bridge docker is assigned with an IP address .... Daemon option bip can be used to set a preferred IP address 
INFO Loading containers done. 
INFO Daemon has completed initialization 
INFO Docker daemon commitfcdfunsupported graphdriverdevicemapper version..dev
INFO API listen on varrundocker.sock 


step on terminal run a script under devmapper to make the dockerxxxxxxinit ref count once it exist on container creation.
the script is

 binbash

while true do
 DEVls l devmapper | grep init | awk 'print '
 if n DEV then
 echo DEV
 mount DEV mnt
 exit
 fi
done

This script is to mount the dockerxxxxxinit to mnt it just to make the refcount of dockerxxxxxinit so defer removal will triggered when docker try to remove the device.
rootcentos mapper .test.sh


step run a container

open terminal run a container
leicentos docker docker run tid busybox
After we see log Sleep s please umount the device to make OpenCount to and the kernel will remove the device from daemon log on terminal .
do umount mnt to make kernel remove the device on terminal 
rootcentos mapper .test.sh
dockerbdaccfecdbabdcbefdadfbddfinit
rootcentos mapper umount mnt

and then we can see docker run fail with
 docker run tid busybox
docker Error response from daemon devicemapper Error running deviceSuspend dmtaskrun failed.

Then daemon log is
INFO devinfo is Exists Suspended LiveTable InactiveTable OpenCount EventNr Major Minor ReadOnly TargetCount DeferredRemove 
INFO Sleep s please umount the device to make OpenCount to and the kernel will remove the device 
INFO Sleep over you must umount the device before you see this log 
INFO devinfo is Exists Suspended LiveTable InactiveTable OpenCount EventNr Major Minor ReadOnly TargetCount DeferredRemove 
INFO Err is No such device or address 
ERRO Handler for POST v.containerscreate returned error devicemapper Error running deviceSuspend dmtaskrun failed

ping rhvgoyal shishiraed
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2636;Correct name right sort order;"Move montalcini to between mirzakhani and moore

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Net dial to the plugin socket during enable.;"When a plugin fails to start we still incorrectly mark it as enabled.
This change verifies that we can dial to the plugin socket to confirm that
the plugin is functional and only then mark the plugin as enabled. Also
dont delete the plugin on install if only the enable fails.
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2637;. backport Dockerfile switch to stable dockerfile frontend;"backport of 
The RUN mount options have been promoted to the stable channel so we can switch from experimental to stable.
Note that the syntax directive should no longer be needed now but it's good practice to add a syntaxdirective to allow building on older versions of docker.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";dockerfile Allow ARG in FROM;"Fixes 
This has been a major pain point for building from common base images. There's no way to build a base image with a unique tag git sha is a common one and then build app specific images from that tag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2638;. backport dockerdrootlesssetuptool.sh create CLI context rootless;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactor to remove duplicate code around BuildArgs;"I was poking around the builder code and I noticed these two code blocks that looked awfully similar. I believe they are effectively the same thing so this change should be a noop. Let's see if the integration test suite agrees.
I'll be making use of this new function in a subsequent PR as well.
cc duglin tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2639;fix a typo in comments;"Signedoffby Kaijie Chen chenkaijie.org

 What I did
Fixed a typo in comments.
 How I did it
Removing an extra the.
 Description for the changelog
 Mount mounts the RWLayer and returns the filesystem path
 the to the writable layer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update copyright dates;"Signedoffby phineas phinphineas.io
Updating copyright dates to 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2640;Fix handling for jsonfile io.UnexpectedEOF;"Before this we essentially end up doubling any buffered data from the
json decoder by storing it in both d.dec and d.rdr.
Thanks tobiasstadler for pointing this error out.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetwork bdcdce;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2641;. backport pkgarchive TestUntarParentPathPermissions requires root;"backport of 
 RUN TestUntarParentPathPermissions
 archiveunixtest.go assertion failed error is not nil chown tmpTestUntarParentPathPermissionsfoo operation not permitted

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add network plugin filter test;"Swarm test to verify network pluginv filters. Goes in hand with doc PR .
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2642;APIclient remove unused ContainerListOptions.Quiet field;"fixes 
This option was originally added in daa and moved in b after which it temporarily went to the dockerengineapi repository and was brought back in this repository in ed .
However it looks like this field was never used the API always returns the standard information and the quiet option for docker ps is implemented on the CLI side which uses different formatting when setting this option 
 
 
 mobyapiclientps.go
 
 
 Lines to 
 in
 ece
 
 
 
 

 
 
 psCtx ps.Context 
 

 
 
 	Output cli.out 
 

 
 
 	Format f 
 

 
 
 	Quiet quiet 
 

 
 
 	Size size 
 

 
 
 	Trunc noTrunc 
 

 
 
 
 
 
 


This patch removes the unused field.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bash completion for docker service ps completes only one service;"docker service ps does not accept more than one service
 docker service ps proxy swarmlistener
docker service ps requires exactly arguments.
See 'docker service ps help'.

Usage docker service ps OPTIONS SERVICE
Bash completion would complete multiple services though.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2643;pkgarchive TestUntarParentPathPermissions requires root;"RUN TestUntarParentPathPermissions
 archiveunixtest.go assertion failed error is not nil chown tmpTestUntarParentPathPermissionsfoo operation not permitted

 sudo .archive.test test.v test.run TestUntarParentPathPermissi";Add bash completion for missing filters of docker node ls;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2644;Allow switching Windows runtimes.;"This adds support for runtimes on Windows one that uses the builtin
HCSv integration and another which uses containerd with the runhcs
shim.

Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for docker service ps filter node;"Bash completion for docker service ps filter node did not work.
This was due to wrong order of the internal add and cur options.
The easiest to resolve this was to inline the dockercompletenodesplusself helper function which had limited value anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2645;dockerdrootlesssetuptool.sh create CLI context rootless;"What I did
dockerdrootlesssetuptool.sh create CLI context rootless
 How to verify it
 dockerdrootlesssetuptool.sh install
...
INFO Creating CLI context rootless
Successfully created context rootless

INFO Make sure the following environ";Add completion for filter desiredstateshutdown;"There was a missing value for the desiredstate filter.
This PR adds it to bash and zsh completion of docker service|node|stack ps.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2646;Enable processvmreadv and processvmwritev for kernel .;"These syscalls were disabled in due to them requiring CAPPTRACE. CAPPTRACE was blocked by default due to a ptrace related exploit. This has been patched in the Linux kernel version . and thus ptrace has been reenabled. However these associated syscalls seem to have been left behind. This commit brings them in line with ptrace and reenables it for kernel ..
 What I did
Reenabled processvmreadv and processvmwritev
 How I did it
Added them to the ptrace profile in the seccomp defaults.
 How to verify it

Start a standard Docker container
Run a program that uses these functions as root or targeting a sameuser process

 Description for the changelog
Reenabled processvmreadv and processvmwritev by default for kernel .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";contribinitopenrc allow separate logs for stdout and stderr;NOM;0
2647;. backport Update documentation links;"backport of 

Using go redirects for some topics which allows us to
redirect to new locations if topics are moved around in the
documentation.
Updated some old URLs to their new location.

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit deb
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix service logs API to be able to specify stream;"Fixes 

 What I did
Fixed a bug in the API where the user's choice of log streams was being ignored 
 How I did it
Added a check and changed the API call to swarmkit to include the user's desires.
 How to verify it
curl wth various permutations of stdout and stderr v.servicesserviceidlogsstdouttruestderrfalse. Note you only get back the requested logs.
 Description for the changelog
Fix service logs API to bea ble to specify stream.

 A picture of a cute animal not mandatory but encouraged
my girlfriend saw these puppies for sale on the tuscaloosa alabama buy and sell group.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2648;rootless Set service type to notify;"What I did
This mirrors what the nonrootless version does and lets systemd understand when the service is fully up and running. This also guarantees that services that depend on docker only run after docker has fully initialised.
 How I did it
Simply";..x Vendor swarmkit fee;"Supersedes 
Vendor latest swarmkit from the bumpv.. branch.
This brings in one fix

scheduler Tasks with a desired state RUNNING should count dockerswarmkit

It fixes a problem where the scheduler could assign too many tasks to particular nodes during parallel updates.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2649;Update documentation links;"depends on dockerdocker.github.io merged

Using go redirects for some topics which allows us to redirect to new locations if topics are moved around in the documentation.
Updated some old URLs to their new location.

 A picture of a cute animal not mandatory but encouraged
?É?
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add prune to stack deploy;"Fixes 
cc vdemeester
Description for changelog
 Add prune option to docker stack deploy httpsgithub.comdockerdockerpull
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2650;. backport dockerdrootless.sh prohibit running as root;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Activate bash completion for Windows executable;"On Unix shells running on Windows cygwin Docker Toolbox command completion will expand the name of the Docker binary to docker.exe. If you manually installed bash completion it will not trigger unless you remove .exe.
This PR makes bash completion work for binaries named docker and docker.exe same for dockerd and dockerd.exe.
See also the corresponding PRs for Compose and Machine
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2651;Fix setting swaplimittrue without checking memory.swap.max;"What I did
fixes 
 How I did it
Added one condition to mobypkgsysinfocgrouplinux.go
 How to verify it
Actually I wanted to create unit tests for this one. The problem is certain files must be present on FS so I see solutions

use mocks";Clarify why hosts in daemon.json does not work;"Ref comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2652;. backport dockerdrootless.sh add typo guard;"backport of 

 What I did
dockerdrootless.sh install is a common typo of dockerdrootlesssetuptool.sh install.
Now dockerdrootless.sh install shows humanreadable error.
 How I did it
Added a humanreadable error
 How to verify it
 dockerdrootless.sh install f
 echo Did you mean 'dockerdrootlesssetuptool.sh install f' 
Did you mean 'dockerdrootlesssetuptool.sh install f' 
 exit 
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add dtype warning to docker info and optimize output;"What I did
The overlay drivers were moved up in the list of storage drivers and are known to have problems if the backing filesystem does not support dtype.
Commit ee added a warning which is logged in the daemon logs however many users do";0
2653;overlay support userxattr option kernel .;"What I did
Fix kernel . overlay rootless aptget fails with Invalid crossdevice link
 How I did it
Support userxattr option kernel ..
The userxattr option is needed for mounting overlayfs inside a user namespace with ker";Delete dots to align with other commands description;"Signedoffby yupengzte yu.pengzte.com.cn

 What I did
Delete dots to align with other commands description
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2654;Include VPNkit binary for arm;"Previously VPNkit binary was installed only for amd.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Shutdown leaks an error when the container was never started;"I found that sometimes tasks would end up in a rejected state when trying to update them quickly. The problem was that Shutdown could fail if called before the container was started. Instead of returning an error in this case Shutdown should succeed. This allows tasks to progress to the shutdown state as expected.
This was part of that I'm extracting into its own PR.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2655;. backport checkconfig.sh add NETFILTERXTMARK;"backport of 
Points out another symbol that Docker might need. in this case Docker's
mesh network in swarm mode does not route Virtual IPs if it's unset.
From varlogsdocker.log
timeT levelerror msgset up rule failed t mangle A INPUT d ... j MARK setmark iptables failed iptables wait t mang
le A INPUT
d ... j MARK setmark iptables v.. legacy unknown option setmark\nTry iptables h' or 'iptables help' for more information.\n exit status 
Bug mobylibnetwork
Bug dockerforlinux
Bug dockerforlinux
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update containerd to eecacadbadf;"diff dockerarchivecontainerdfbf...ee
ping mlaventure tonistiigi
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2656;. backport builder fix blobs releasing via leases after pull;"backport of 
fix 
Deleting leases did not trigger containerd gc synchronously after releasing blobs. Also some references were not in correct order. For old state running prune should clean it up now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x update authors;"Update authors
cherry picked from cc and reran generateauthors.sh for the . branch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2657;API update API version to v.;"Opening as a separate PR as draft in preparation of API changes
Docker . was released with API v. so any change in the API should now target v..
 Description for the changelog

Update API version to v.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update authors;"ping vieux PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2658;. backport vendor github.commobybuildkit v..;"Backport of 
full diff mobybuildkitbb...b

mobybuildkit mobybuildkit fix seccomp compatibility in bit arm

fixes mobybuildkit Unable to build alpineedge containers for armv
fixes dockerbuildx Buildx failing to build for armv platform on arm machine


mobybuildkit mobybuildkit resolver avoid error caching on token fetch

fixes mobybuildkit Error io timeout should not be cached


mobybuildkit mobybuildkit fileop fix checksum to contain indexes of inputs
mobybuildkit mobybuildkit frontenddockerfile add RunCommand.FlagsUsed field

relates to builder produce error when using unsupported Dockerfile option
relates to . Classic builder silently ignores unsupported Dockerfile command flags


mobybuildkit mobybuildkit update qemu emulators

relates to dockerbuildx comment Impossible to run git clone inside buildx with non x architecture


mobybuildkit mobybuildkit Fix reference count issues on typed errors with mount references

fixes mobybuildkit errors on releasing mounts with typed execerror refs
fixes addresses dockerforlinux invalid mutable ref when using shared cache mounts


mobybuildkit mobybuildkit dockerfiledocs fix frontend image tags

fixes mobybuildkit


mobybuildkit mobybuildkit git set token only for main remote access

fixes dockerbuildpushaction Loading repositories with submodules is repeated. Failed to clone submodule from googlesource


mobybuildkit allow skipping empty layer detection on cache export

relates to mobybuildkit mobybuildkit



Changes in moby

builder fix incorrect cache match for inline cache with empty layers

fixes mobybuildkit mobybuildkit



Signedoffby Sebastiaan van Stijn githubgone.nl
Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. swagger cherry picks;"cherrypicks
 fee
 cdaa
 cf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2659;. backport Update Swarmkit to pick up fixes to heartbeat period and stalled tasks;"backport of 
Signedoffby Adam Williams awilliamsmirantis.com

 What I did
Bump swarmkit version
Includes fixes for

fixes Heartbeat does not persist on restart
fixes dockerswarmkit Bug fix for task stuck in pending state

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x vendor update containerd to ced;"dockerarchivecontainerdaad...c
fixes 
mlaventure vieux
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2660;Update Swarmkit to pick up fixes to heartbeat period and stalled tasks;"Signedoffby Adam Williams awilliamsmirantis.com

 What I did
Bump swarmkit version
Includes fixes for

fixes Heartbeat does not persist on restart
fixes dockerswarmkit Bug fix for task stuck in pending state

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";No container locks on docker ps;"What I did
Fixes 
We are seeing a fair amount of lockups on docker ps. More details here.
While things seem to get better with every new version of Docker there may always be a legitimate reason to hold container locks during some notveryquick";0
2661;vendor github.commobybuildkit v..;"full diff mobybuildkitbb...b

mobybuildkit mobybuildkit fix seccomp compatibility in bit arm

fixes mobybuildkit Unable to build alpineedge containers for armv
fixes dockerbuildx Buildx failing to build for armv platform on arm machine


mobybuildkit mobybuildkit resolver avoid error caching on token fetch

fixes mobybuildkit Error io timeout should not be cached


mobybuildkit mobybuildkit fileop fix checksum to contain indexes of inputs
mobybuildkit mobybuildkit frontenddockerfile add RunCommand.FlagsUsed field

relates to builder produce error when using unsupported Dockerfile option
relates to . Classic builder silently ignores unsupported Dockerfile command flags


mobybuildkit mobybuildkit update qemu emulators

relates to dockerbuildx comment Impossible to run git clone inside buildx with non x architecture


mobybuildkit mobybuildkit Fix reference count issues on typed errors with mount references

fixes mobybuildkit errors on releasing mounts with typed execerror refs
fixes addresses dockerforlinux invalid mutable ref when using shared cache mounts


mobybuildkit mobybuildkit dockerfiledocs fix frontend image tags

fixes mobybuildkit


mobybuildkit mobybuildkit git set token only for main remote access

fixes dockerbuildpushaction Loading repositories with submodules is repeated. Failed to clone submodule from googlesource


mobybuildkit allow skipping empty layer detection on cache export

relates to mobybuildkit mobybuildkit



Changes in moby

builder fix incorrect cache match for inline cache with empty layers

fixes mobybuildkit mobybuildkit



Signedoffby Sebastiaan van Stijn githubgone.nl
Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Cherry pick changelog validation;"cherrypicking
 ba and edc into the . branch
ping andrewhsu vieux PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2662;Use buster backports to build with libseccomp..;"Fixes 
The latest released versions of the static binaries .. are still unable
to use faccessat with musl.. even though this was addressed in and
related issues. The underlying cause seems to be that the build system
here still uses the default version of libseccomp shipped with buster.
An updated version is available in buster backports
httpspackages.debian.orgbusterbackportslibseccompdev
Signedoffby Jeremy Huntwork jhuntworklightcubesolutions.com

 What I did
Built dockerd containerd and runc locally and then compared the results with previous ones.
 How I did it
My original running system used the .. published static binaries
 docker version
Client Docker Engine Community
 Version ..
 API version .
 Go version go..
 Git commit db
 Built Fri Jan 
 OSArch linuxamd
 Context default
 Experimental true

Server Docker Engine Community
 Engine
 Version ..
 API version . minimum version .
 Go version go..
 Git commit ca
 Built Fri Jan 
 OSArch linuxamd
 Experimental false
 containerd
 Version v..
 GitCommit faeabfcfcdfab
 runc
 Version ..rc
 GitCommit ffcecbcfecaeaaff
 dockerinit
 Version ..
 GitCommit dead
 runc version
runc version ..rc
commit ffcecbcfecaeaaff
spec ..dev
Prepare a test file that will use the faccessat syscall
include fcntl.h
include unistd.h
include stdio.h

int mainvoid

 int r
 r faccessatATFDCWD etcresolv.conf ORDONLY ATEACCESS
 printfReturned d\n r
 return r

Run a container using musl.. build it and execute it
 docker run it v pwdsrc meredev
 pacman Q musl
musl ..
 cc test.c o test static
 file test
test ELF bit LSB executable x version SYSV statically linked not stripped
 .test
Returned 
Running with strace would also give something like this
faccessatATFDCWD etcresolv.conf FOK ATEACCESS EPERM Operation not permitted

 How to verify it
Build locally with this change I simply ran 'make' and 'make install'
Afterwards the docker and runc version reported this
 docker version
Client
 Version ..dev
 API version .
 Go version go..
 Git commit af
 Built Mon Feb 
 OSArch linuxamd
 Context default
 Experimental true

Server
 Engine
 Version dev
 API version . minimum version .
 Go version go..
 Git commit bcfcc
 Built Mon Feb 
 OSArch linuxamd
 Experimental false
 containerd
 Version v..
 GitCommit faeabfcfcdfab
 runc
 Version ..rc
 GitCommit eebdafdaffacfefdec
 dockerinit
 Version ..
 GitCommit dead
 runc version
runc version ..rc
commit eebdafdaffacfefdec
spec ..dev
go go..
libseccomp ..
And testing the statically compiled C file running in the same container now works
 docker run it v pwdsrc meredev
 .test
Returned 
 Description for the changelog

Build static binaries with libseccomp..
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Block obsolete and unusual socket families in the default seccomp profile;"Cherrypick 
Block obsolete and unusual socket families in the default seccomp profile
cherry picked from commit 
ping justincormack vieux riyazdf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2663;checkconfig.sh add NETFILTERXTMARK;"Points out another symbol that Docker might need. in this case Docker's
mesh network in swarm mode does not route Virtual IPs if it's unset.
From varlogsdocker.log
timeT levelerror msgset up rule failed t mangle A INPUT d ... j MARK setmark iptables failed iptables wait t mangle A INPUT d ... j MARK setmark iptables v.. legacy unknown option setmark\nTry iptables h' or 'iptables help' for more information.\n exit status 
Bug mobylibnetwork
Bug dockerforlinux
Bug dockerforlinux

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. cherrypicks;"imagecache fix isValidParent logic 
Prevent freeing a possible invalid pointer from journald 
Synchronize the cursor returned by followJournal 
Fix duplicate mount points for multiple volumesfrom in docker run 
Shutdown leaks an error when the container was never started 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2664;CI update tests to be more resilient against CLI output format and for libnetwork changes;"relates to in preparation of vendor dockerlibnetwork bbebcbebbfbe
integrationcontainer wrap some long lines for readability
Just some minor codestyle changes for readability
integration update getExternalAddress to prefer IPv
Rootlesskit doesn't currently handle IPv addresses causing TestNetworkLoopbackNat and TestNetworkNat to fail
Error starting userland proxy
error while calling PortManager.AddPort listen tcp address too many colons in address

This patch

Updates getExternalAddress to pick IPv address if both IPv and IPv are found
Update TestNetworkNat to net.JoinHostPort so that square brackets are used for IPv addresses e.g. 

integrationcli rely less on docker port output format
Also reformatting some lines for readability.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rather than remove the swarm directory and recreate remove the subdirs;"What I did
Bindmounted the varlibdockerswarm directory in a running container for instance to monitor current peers and the expiry of the cert then ran docker swarm init.
 How I did it
In one terminal
docker run it v varlibdockerswarms";0
2665;. backport builder fix pull synchronization regression;"backport of 
fixes mobybuildkit Failed to compute cache key in newer version
regression from dbffbe and fae v. only . Buildkit standalonebuildx is not affected.
Config resolution was synchronized based on a wrong key as ref
variable is initialized only after in the same function. Using
the right key isn't fully correct either as the synchronized method
changes properties of the puller instance and can't be just skipped.
Added better error handling for the same case as well.
Signedoffby Tonis Tiigi tonistiigigmail.com
cherry picked from commit bea
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Synchronize the cursor returned by followJournal;"Make sure that the cursor value returned by followJournal is the last of the values returned by its goroutine's calls to drainJournal by waiting for the goroutine to explicitly send the intended value back to its caller. Previously if followJournal signalled the goroutine that its work was done by closing a pipe depending on scheduling it was possible for followJournal to return a value which the goroutine would also pass to drainJournal which would free the value and allocate another one.
Along with this may be part of the cause for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2666;Fix containerscreate response description;"fix containerscreate response description
 What I did Fixed a minor documentation error
 Description for the changelog
Fixed containerscreate response description.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Bump runc to adafdbccccbdbffeaddfeb;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
dockerarchiveruncdfb...adafd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2667;. backport Check the length of the correct variable;"backport of 

 What I did
 How I did it
 How to verify it
 Description for the changelog

Closes 
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump runc to version adafdbccccbdbffeaddfeb;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2668;. Fallback to manifest list when no platform match;"Cherrypick 
relates to addresses dockerforlinux comment

In some cases in fact many in the wild an image may have the incorrect
platform on the image config.
This can lead to failures to run an image particularly when a user
specifies a platform.
Typically what we see in the wild is a manifest list with an an entry
for as an example linuxarm pointing to an image config that has
linuxamd on it.
This change falls back to looking up the manifest list for an image to
see if the manifest list shows the image as the correct one for that
platform.
In order to accomplish this we need to traverse the leases associated
with an image. Each image if pulled with Docker . will have the
manifest list stored in the containerd content store with the resource
assigned to a lease keyed on the image ID.
So we look up the lease for the image then look up the assocated
resources to find the manifest list then check the manifest list for a
platform match then ensure that manifest referes to our image config.
This is only used as a fallback when a user specified they want a
particular platform and the image config that we have does not match
that platform.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support customizing the default network for a stack;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2669;Check the length of the correct variable;"What I did
 How I did it
 How to verify it
 Description for the changelog

Closes 
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated succe";build add multistage build support;"fixes 
fixes 
depends on 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2670;. backport Update TestDaemonRestartWithLiveRestore fix docker subnet missmatch;"backport of 
 What I did
In some companies continuous integrations are launched from a docker dind container with the Gitlab CI docker executor for example.
When the tests are initiated from docker dind TestDaemonRestartWithLiveRestore fails because it checks that this subnet of the docker interface is ... while it is not in this case we have the ... subnet instead.
Here is the error that is displayed when we run the integration tests from a dind container 
servicetest.go assertion failed ... out.IPAM.Config.Subnet string ... string
Ip subnets with docker dind 
machine 
dockersubnet ...

dockerdindcontainer
 ethsubnet ...
 dockersubnet ...

 dockerintegrationtestcontainer
 ethsubnet ...
 dockersubnet ...

Ip subnets with baremetal or vm server 
machine 
dockersubnet ...

dockerintegrationtestcontainer
 ethsubnet ...
 dockersubnet ...

 How I did it
So instead of comparing the docker subnet with a hardcoded value in TestDaemonRestartWithLiveRestore I compare it with the docker subnet that there was before restarting the docker daemon.

fetch the subnet from docker
restart the docker daemon
fetch the subnet from docker
Ensure that the docker subnet has not changed with daemon restarts

 How to verify it
The integration test should pass when initiated from a docker dind container
docker run privileged rm v pwdapp workdir app it dockerdind sh
apk add make bash git
dockerd devnull 
make testintegration

 Description for the changelog
Update TestDaemonRestartWithLiveRestore dynamic check of the docker subnet after restarting the docker daemon.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rectify the function name used by note;"rectify the function name used by note
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2671;oci.Device fix FileMode to match runtime spec;"relates to opencontainersruntimespec containerdcontainerd and opencontainersrunc
The runtime spec expects the FileMode field to only hold file permissions however unix.Statt.Mode contains both file type and mode.
This patch strips file type so that only file mode is included in the Device.
Thanks to Iceber Gu Iceber who noticed the same issue in containerd and runc.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. docs cherry picks;"cherrypicks of the following PR's
 f
 acd
 cfbc
 fb
 d
 ebabe
 
 cae
 bbc
 fbb
 cd
 afc
 cd
 d
 d
 effce
 df
 
 dbf
 c
 bba
 dea
 ecc
 dc
 dbb
 de
 deb
 b
 eaa
 caa
 dbea
 dbbd
 baff
 fddab
 bb
 afd
 dec
 d
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2672;builder fix pull synchronization regression;"fixes mobybuildkit Failed to compute cache key in newer version
regression from dbffbe and fae v. only. Buildkit standalonebuildx is not affected.
Config resolution was synchronized based on wrong key as ref
variable is initialized only after in the same function. This means that
on parallel config pulls keys can collide and one side is ignored. Using
right key isn't fully correct either as the syncronized method
changes properties of the puller instance and can't be just skipped.
Added better error handling for the same case as well.
DRoet summera
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";build accept f to read Dockerfile from stdin;"fixes 
Heavily based on implementation by dsheets httpsgithub.comdsheetsdockercommitsbuilddockerfilestdin
Signedoffby David Sheets sheetsalum.mit.edu
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2673;dockerdrootless.sh prohibit running as root;"What I did
Prohibit running dockerdrootless.sh as root
 How I did it
Added if id u then echo error exit fi
 How to verify it
 sudo dockerdrootless.sh 
...
Must not run as root
 exit 
 A picture of a cute animal not mandator";move James to alumni;"I finally got to meet jamtur in person and that shocked me so much that I'm removing him from the maintainers list.
Kidding of course ?ÿä. James is busy doing awesome things at httpswww.empatico.org help is welcome on that ?æì so doesn't have a lot of time to spare being around the docker repository a lot but don't hesitate to ping him if you need a review ?¥ñ??Å.
This PR moves him to our alumni. Thanks so much James

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2674;Move cgroup v out of experimental;"What I did
We have upgraded runc to rc and added CI for cgroup .
So we can move cgroup v out of experimental.
Close 
 How I did it
Removed WARNING Support for cgroup v is experimental from docker info
 How to verify it
Run docker info
 De";Prevent freeing a possible invalid pointer from journald;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

May fix 
After looking at the code at the moment the only explanation I can muster is that somehow sdjournalgetcursor failed and left the cursor variable with an invalid value.
boutros amatsus any chance you'd be able to test this patch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2675;. backport Jenkinsfile add cgroup;"backport of 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use t.Fatal to output the err message and fix typo;"What I did
.use t.Fatal to output the err message where the values used for formatting text does not appear to contain a placeholder
.use errors.New to return err message
.fix misspell semantically
 How I did it
 How to verify it
 Descriptio";0
2676;volumes only send create event when actually creating volume;"fixes 
The VolumesService did not have information wether or not a volume was created or if a volume already existed in the driver and the existing volume was used.
As a result multiple create events could be generated for the same volume. For example


Run docker events in a shell to start listening for events


Create a volume
docker volume create myvolume


Start a container that uses that volume
docker run dit v myvolumefoo busybox


Check the events that were generated
T. volume create myvolume driverlocal
T. volume create myvolume driverlocal
T. container create cbbfeefacfceddddeecad imagebusybox namegracioushypatia
T. network connect afbbdffdfaecbffddeacbde containercbbfeefacfceddddeecad namebridge typebridge
T. volume mount myvolume containercbbfeefacfceddddeecad destinationfoo driverlocal propagation readwritetrue
T. container start cbbfeefacfceddddeecad imagebusybox namegracioushypatia


Notice that a volume create event is created twice

once when docker volume create was ran
once when docker run ... was ran



This patch moves the generation of most events to the volume store and only generates an event if the volume did not yet exist.
 Description for the changelog

Fix multiple volume create events being created when using an existing volume

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";invalide detach keys provided;"invalide detach keys provided?Çé
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2677;. backport Update rootlesskit to v.. to fix handling of IPv addresses;"backport of 
relates to 
v..

Refactor ParsePortSpec to handle IPv addresses and improve validation

v..

rootlesskit pidns fix propagating exit status
Support cgroup evacuation e.g. systemdrun p Delegateyes user t rootlesskit cgroupns pidns evacuatecgroupevac netslirpnetns bash

v..

Port forwarding API now supports setting ChildIP
The vendor directory is no longer included in this repo. Run go mod vendor if you need

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit eae
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add even more docs around BuildArgs and string;"PR made me think I needed to add more text explaining why
BuildArgs needs to be a string instead of string.
Signedoffby Doug Davis dugus.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2678;Fix grammar in client function comments;"What I did
I was looking through the client documentation and found a small grammar mistake in one of the comments and ended up falling down this rabbit hole. I change certain words and added punctuation to the comments of functions. I didn't get every";fix wrong print format;"Signedoffby Reficul xuzhenglungmail.com
hi
in I misunderstood the purpose of the code and now it should be fine.
 Description for the changelog
val is a Pointer of String type and s is not suitable for Pointer it should change to val
health.Timeout is a type of time.Duration which should be format as s or d and I think s will be more readable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2679;Update rootlesskit to v.. to fix handling of IPv addresses;"testing the changes I made in rootlesscontainersrootlesskit separate from 
v..

Refactor ParsePortSpec to handle IPv addresses and improve validation

v..

rootlesskit pidns fix propagating exit status
Support cgroup evacuation e.g. systemdrun p Delegateyes user t rootlesskit cgroupns pidns evacuatecgroupevac netslirpnetns bash

v..

Port forwarding API now supports setting ChildIP
The vendor directory is no longer included in this repo. Run go mod vendor if you need

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update CHANGELOG for ..ce;"ping aaronlehmann mavenugo aboch thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2680;builder fix blobs releasing via leases after pull;"fix 
Deleting leases did not trigger containerd gc synchronously after releasing blobs. Also some references were not in correct order. For old state running prune should clean it up now.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing Secrets in Swagger docs;"This fix tries to address the issue in where secrets fields is missing for docker service create or docker service update.
This fix adds Secrets for ContainerSpec in Swagger docs.
This fix fixes .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2681;. backport avoid creating parent dirs for XGlobalHeader and fix permissions;"fixes 
backport of

 archive avoid creating parent dirs for XGlobalHeader
 pkgarchive Unpack use permissions for missing directories

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing fields in Swagger docs;"This fix adds the missing fields of Hostname OpenStdin Hosts Groups and Healthcheck to ContainerSpec.
This fix also moves the Label around in ContainerSpec to align with the definition order.
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2682;pkgarchive Unpack use permissions for missing directories;"together with this fixes If I create a compressed tar ball with etcpassword in it
replacescloses 
Commit edba fixed a bug in MkdirAllAndChown that caused the specified permissions to not be applied correctly. As a result of that bug the configured umask would be applied.
When extracting archives Unpack used permissions when creating missing parent directories for files that were extracted. Before edba this resulted in actual permissions of the directories to be on most configurations using a default umask.
Creating these directories should not depend on the host's umask configuration. This patch changes the permissions to to match the previous behavior and to reflect the original intent of using as default.
 Description for the changelog

Fix permissions for newly created dirs in ADD

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improved aarch build;"What I did
Fixed some issue that prevented me from running make all on aarch.
 How I did it
Updated Dockerfile.aarchto include a few things that are included in the files for other platforms

golint
yamllint
swagger

I've also updated manDockerfi";0
2683;. backport update runc binary to v..rc;"backport of 
update runc binary to v..rc
full diff opencontainersruncv..rc...v..rc
release notes httpsgithub.comopencontainersruncreleasestagv..rc
Release notes for runc v..rc
This is the last featurerich RC release and we are in a featurefreeze until
.. ..rc will be released in a few weeks with minimal bug fixes only
and .. will be released soon afterwards.


runc's cgroupv support is no longer considered experimental. It is now
believed to be fully ready for production deployments. In addition runc's
cgroup code has been improved

The systemd cgroup driver has been improved to be more resilient and
handle more systemd properties correctly.
We now make use of openat when possible to improve the security of
cgroup operations in future runc will be wholesale ported to libpathrs to
get this protection in all codepaths.



runc's mountinfo parsing code has been reworked significantly making
container startup times significantly faster and less wasteful in general.


runc now has special handling for seccomp profiles to avoid making new
syscalls unusable for glibc. This is done by installing a custom prefix to
all seccomp filters which returns ENOSYS for syscalls that are newer than
any syscall in the profile meaning they have a larger syscall number.
This should not cause any regressions because previously users would simply
get EPERM rather than ENOSYS and the rule applied above is the most
conservative rule possible but please report any regressions you find as a
result of this change in particular programs which have special fallback
code that is only run in the case of EPERM.


runc now supports the following new runtimespec features

The umask of a container can now be specified.
The new Linux . capabilities CAPPERFMON CAPBPF and
CAPCHECKPOINTRESTORE are now supported.
The unified cgroup configuration option which allows users to explicitly
specify the limits based on the cgroup file names rather than abstracting
them through OCI configuration. This is currently limited in scope to
cgroupv.



Various rootless containers improvements

runc will no longer cause conflicts if a user specifies a custom device
which conflicts with a userconfigured device the user device takes
precedence.
runc no longer panics if sysfscgroup is missing in rootless mode.



runc root is now always treated as local to the current working directory.


The nopivotroot hardening was improved to handle nested mounts properly
please note that we still strongly recommend that users do not use
nopivotroot it is still an insecure option.


A large number of code cleanliness and other various cleanups including
fairly large changes to our tests and CI to make them all run more
efficiently.


For packagers the following changes have been made which will have impact on
your packaging of runc

The selinux and apparmor buildtags have been removed and now all runc
builds will have SELinux and AppArmor support enabled. Note that seccomp
is still optional though we very highly recommend you enable it.
make install DESTDIR now functions correctly.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for command aliases to bash completion of docker volume;"When bash completion for docker volume was created there were no command aliases.
This PR adds support for the aliases docker volume list and docker volume remove.
Like in the other command families this means that the aliases are not completed at command level docker volume tab. They are however considered if the user types a command alias manually e.g. docker volume list tab.
Related 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2684;. backport Fix usernsremap option when username UID match;"backport of 
 What I did
Fixes by only matching UID or username.
 How I did it
Check subuidRangesWithUID first then subuidRangesWithUserName.
 How to verify it

echo xnonexistentbinfalse etcpasswd
echo x etcgroup
echo etcsubuid
echo etcsubgid
dockerd usernsremap 
docker run helloworld

 Description for the changelog

Fix usernsremap option when username UID match
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support for debianjessie on aarch;"This is similar to PR . It does use a golang package from jessiebackports instead of a custom build one though.
 What I did

Added build of package for debianjessie on aarch.

 How I did it

Added debianjessie to generate.sh script. In order to properly build Go .. from source golang.go from jessiebackports is required.

 How to verify it
You just need to build the Debian packages on an aarch. As mentioned in PR this can be done with A machines at packet.net.
 Description for the changelog
Added support for debianjessie as make deb output for aarch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2685;. backport apidocs fix NanoCPUs casing in swagger;"backport of 
fixes 
While the field in the Go struct is named NanoCPUs it has a JSON label to
use NanoCpus which was added in the original pull request not clear what
the reason was baf 
Some notes

Golang processes field names caseinsensitive so when using the API
both cases should work but when inspecting a container the field is
returned as NanoCpus.
This only affects Containers.Resources. The Limits and Reservation
for SwarmKit services and SwarmKit nodes do not override the name
for JSON so have the canonical NanoCPUs casing.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";don't log v pull as error when retrying;"When looking at httpsgithub.comdockerdockerpullfilesdiffdaeecbefcaaabcfR I noticed that the current code logged this as an error but the actual error is handled and followed by a retry fallback. For that reason logging as an informational message seems more appropriate.
This changes those errors to be logged as Info instead of Error.
After this patch debug logs look like this
DEBU Calling GET ping
DEBU Calling POST v.imagescreatefromImagelocalhostAFfootaglatest
DEBU Trying to pull localhostfoo from httpslocalhost v
WARN Error getting v registry Get httpslocalhostv http server gave HTTP response to HTTPS client
INFO Attempting next endpoint for pull after error Get httpslocalhostv http server gave HTTP response to HTTPS client
DEBU Trying to pull localhostfoo from httplocalhost v
INFO Attempting next endpoint for pull after error manifest unknown manifest unknown
DEBU Trying to pull localhostfoo from httpslocalhost v
DEBU attempting v ping for registry endpoint httpslocalhostv
DEBU Fallback from error Get httpslocalhostvping http server gave HTTP response to HTTPS client
INFO Attempting next endpoint for pull after error Get httpslocalhostvping http server gave HTTP response to HTTPS client
DEBU Trying to pull localhostfoo from httplocalhost v
DEBU registry Calling GET httplocalhostvrepositoriesfooimages
ERRO Not continuing with pull after error Error image foolatest not found

ping aaronlehmann dmcgowan ptal
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2686;Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE;"fixes 
Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE
Now that runc v..rc is used we can revert this temporary workaround
This reverts commit abb .
relates to

 . beta Unknown capability CAPPERFMON on Linux ..
kubernetessigskind master kubeproxy doesn't start up due to apply caps operation not permitted error
opencontainersruntimespec

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Hide aliases in bash completion of docker node|service;"Background Docker CLI hides aliases of subcommands in its help output. The aliases only appear in the help message of such subcommands. Example docker volume list
 docker volume help
...
Commands
 create Create a volume
 inspect Display detailed information on one or more volumes
 ls List volumes
 prune Remove all unused volumes
 rm Remove one or more volumes
...
 docker volume ls help
...
Aliases
 ls list
...
To be consistent with the CLI bash completion of such commands does not offer subcommand aliases. This means that docker volume ltab directly expands to docker volume ls without the potential match list interfering same for rm and remove.
Note that the aliases are still honored once you manually typed them docker volume list tab will complete the available options.
There are some historical deviations from this rule that this PR starts to resolve.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2687;apidocs fix NanoCPUs casing in swagger;"fixes 
While the field in the Go struct is named NanoCPUs it has a JSON label to
use NanoCpus which was added in the original pull request not clear what
the reason was baf 
Some notes

Golang processes field names caseinsensitive so when using the API
both cases should work but when inspecting a container the field is
returned as NanoCpus.
This only affects Containers.Resources. The Limits and Reservation
for SwarmKit services and SwarmKit nodes do not override the name
for JSON so have the canonical NanoCPUs casing.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";imagecache fix isValidParent logic;"Fix 
Signedoffby Antonio Murdaca runcomredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2688;Refactor seccomp types to reuse runtimespec and add support for ErrnoRet;"Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";log error if restoring plugin fails;"I noticed this error was not used or logged. Not sure if all these fields are useful to include so happy to change ?ÿä
ping cpuguy
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2689;Fix usernsremap option when username UID match;"Signedoffby Grant Millar ridcylo.io

 What I did
Fixed by only matching UID or username.
 How I did it
Check subuidRangesWithUID first then subuidRangesWithUserName.
 How to verify it

echo xnonexistentbinfalse etcpasswd
echo x etcgroup
echo etcsubuid
echo etcsubgid
dockerd usernsremap 
docker run helloworld

 Description for the changelog

Fix usernsremap option when username UID match
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";do not allow sub second in healthcheck options in Dockerfile;"Signedoffby allencloud allen.sundaocloud.io
This is a followup for 
Since in dockermaster we do not allow docker daemon to validate healthcheck parameter Timeout and Interval to be not less than second. We discussed about that we should not support sub second validation.
Without this PR if a user specifies Timeout in Dockerfile to be .ssub second then the docker build will be OK and let us call the built image to be builtimage. However the docker run builtimage will report error since PR .
 What I did

validate healthcheck parameters Timeout and Interval in Dockerfile options.

ping cpuguy LKD
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2690;. backport Fix daemon panic when starting container with invalid device cgroup rule;"backport of 
fixesaddresses dockercompose
This fixes a panic when an invalid device cgroup rule is passed resulting in an index out of range.
This bug was introduced in the original implementation in af but was not reproducible when using the CLI because the same commit also added clientside validation on the flag before making an API request. The following example uses an invalid rule c rwm two spaces before the permissions
 docker run rm networkhost devicecgrouprule'c rwm' busybox
invalid argument c rwm for devicecgrouprule flag invalid device cgroup format 'c rwm'
Doing the same but using the API results in a daemon panic when starting the container

Create a container with an invalid device cgroup rule

 curl v \
 unixsocket varrundocker.sock \
 httplocalhostv.containerscreatenamefoobar \
 H ContentType applicationjson \
 d 'Imagebusyboxlatest HostConfigDeviceCgroupRules c rwm'

Start the container

 curl v \
 unixsocket varrundocker.sock \
 X POST \
 httplocalhostv.containersfoobarstart

Observe the daemon logs

 . I | http panic serving runtime error index out of range with length 
goroutine running
nethttp.conn.serve.funcxccbd
	usrlocalgosrcnethttpserver.go xb
panicxf xcaebfc
	usrlocalgosrcruntimepanic.go xb
github.comdockerdockeroci.AppendDevicePermissionsFromCgroupRulesxcc x x xcbd x x x x xcec x ...
	gosrcgithub.comdockerdockerocioci.go xf

This patch

fixes the panic allowing the daemon to return an error on container start
adds a unittest to validate various permutations
adds a todo to verify the regular expression and handling of the a all value

We should also consider performing this validation when creating the container
so that an error is produced early.
 Description for the changelog

Fix daemon panic when starting container with invalid device cgroup rule

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";stack deploy exits with error if both 'external' and other options are specified for a volume;"stack deploy should exit with error if both 'external' and other options are specified for a volume. Fixes .
Signedoffby Arash Deshmeh adeshmehca.ibm.com
 What I did
stack deploy command ignores options specified for a volume when the 'external' option is set to true for that volume. This PR makes it an error to specify both 'external' and other options for a volume.
 How I did it
Added a check to test whether both 'external' is set and other options are specified for any of the volumes in the yaml compose file.
 How to verify it

Use a compose file with the following contents

version ''
volumes
 externalvolume
 driveropts
 device mypathonhost
 external true


run stack deploy. With this PR included
 docker stack deploy composefile.compose.yml s
both 'external' and options are specified for volume externalvolume. Only one is allowed

 Description for the changelog
docker stack deploy exits with error if both 'external' is set and other options are specified for a volume.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2691;. backport Dockerfile.simple Fix compile docker binary error with btrfs;"backport of 
Use the image build from Dockerfile.simple to build docker binary failed
with not find brtfsioctl.h we need to install libbtrfsdev to fix this.
Building bundlesdynbinarydaemondockerddev
GOOS GOARCH GOARM
.gopathsrcgithub.comdockerdockerdaemongraphdriverbtrfsbtrfs.go fatal error btrfsioctl.h No such file or directory
 include btrfsioctl.h


 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x..x Vendoring libnetwork ce;"Once an overlay network is encrypted a participating host should not accept clear packets for it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2692;Fix for lack of synchronization in daemonupdate.go;"fixes 
Signedoffby dmytro.iakovliev dmytro.iakovlievzodiacsystems.com

 What I did
Reordered operations to fix race.
 How I did it
The container state checking has been placed between container.Lock and container.Unlock. Added container state checking into the defer handler.
 How to verify it
See script to reproduce failing conditions in .
 Description for the changelog
Fix for lack of syncronization in daemonupdate.go.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. update clientclient.go DefaultVersion;"it's only used in tests to just an update for consistency. I forgot to update it in 
see in master to avoid the duplcation
cc vdemeester thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2693;Dockerfile.simple Fix compile docker binary error with btrfs;"Use the image build from Dockerfile.simple to build docker binary failed
with not find brtfsioctl.h we need to install libbtrfsdev to fix this.
Building bundlesdynbinarydaemondockerddev
GOOS GOARCH GOARM
.gopathsrcgithub.comdockerdockerdaemongraphdriverbtrfsbtrfs.go fatal error btrfsioctl.h No such file or directory
 include btrfsioctl.h


Signedoffby Lei Jitang leijitangoutlook.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add missing API changes;"fix 
cc vdemeester thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2694;Bump runc binary v..rc;"update runc binary to v..rc
full diff opencontainersruncv..rc...v..rc
release notes httpsgithub.comopencontainersruncreleasestagv..rc
Release notes for runc v..rc
This is the last featurerich RC release and we are in a featurefreeze until
.. ..rc will be released in a few weeks with minimal bug fixes only
and .. will be released soon afterwards.


runc's cgroupv support is no longer considered experimental. It is now
believed to be fully ready for production deployments. In addition runc's
cgroup code has been improved

The systemd cgroup driver has been improved to be more resilient and
handle more systemd properties correctly.
We now make use of openat when possible to improve the security of
cgroup operations in future runc will be wholesale ported to libpathrs to
get this protection in all codepaths.



runc's mountinfo parsing code has been reworked significantly making
container startup times significantly faster and less wasteful in general.


runc now has special handling for seccomp profiles to avoid making new
syscalls unusable for glibc. This is done by installing a custom prefix to
all seccomp filters which returns ENOSYS for syscalls that are newer than
any syscall in the profile meaning they have a larger syscall number.
This should not cause any regressions because previously users would simply
get EPERM rather than ENOSYS and the rule applied above is the most
conservative rule possible but please report any regressions you find as a
result of this change in particular programs which have special fallback
code that is only run in the case of EPERM.


runc now supports the following new runtimespec features

The umask of a container can now be specified.
The new Linux . capabilities CAPPERFMON CAPBPF and
CAPCHECKPOINTRESTORE are now supported.
The unified cgroup configuration option which allows users to explicitly
specify the limits based on the cgroup file names rather than abstracting
them through OCI configuration. This is currently limited in scope to
cgroupv.



Various rootless containers improvements

runc will no longer cause conflicts if a user specifies a custom device
which conflicts with a userconfigured device the user device takes
precedence.
runc no longer panics if sysfscgroup is missing in rootless mode.



runc root is now always treated as local to the current working directory.


The nopivotroot hardening was improved to handle nested mounts properly
please note that we still strongly recommend that users do not use
nopivotroot it is still an insecure option.


A large number of code cleanliness and other various cleanups including
fairly large changes to our tests and CI to make them all run more
efficiently.


For packagers the following changes have been made which will have impact on
your packaging of runc

The selinux and apparmor buildtags have been removed and now all runc
builds will have SELinux and AppArmor support enabled. Note that seccomp
is still optional though we very highly recommend you enable it.
make install DESTDIR now functions correctly.

Revert Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix missing whitespace between words in manpage;"Hi I read the contribution guide and following Not sure if that typo is worth a pull request Found a bug and know how to fix it Do it We will appreciate it. Any significant improvement should be documented as a GitHub issue before anybody starts working on it. I have not created a bug request for a change this simple sorry if this is incorrect. This also means I cant follow the convention of naming my branch after a bug number.
I'm also on the road at the moment and making this change via the Github web interface so I'm not sure how to go about doing Make sure all your commits include a signature generated with git commit s 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2695;Update TestDaemonRestartWithLiveRestore fix docker subnet missmatch;"What I did
In some companies continuous integrations are launched from a docker dind container with the Gitlab CI docker executor for example.
When the tests are initiated from docker dind TestDaemonRestartWithLiveRestore fails because it checks that";Don?ÇÖt hold container lock for size calculation;"fixes 
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2696;archive avoid creating parent dirs for XGlobalHeader;"fixes the part about created tmp dir not permissions
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Allow syncfilerange on supported architectures.;"Allow syncfilerange on supported architectures this syscall is a variant due to alignment considerations on some architectures.
Signedoffby Gabriel Linder linder.gabrielgmail.com
cherry pick of 
cc vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2697;. backport assorted small fixes docs changes and contrib;"Backports

 Fix Error in daemonunix.go and dockerclirununittest.go

fixes Invalid error message when providing MB memory reservations through dockercompose


 contribcheckconfig.sh fixes for cgroup v and kernel v.x

fixes contribcheckconfig.sh shows dropped configuration as missing
fixes contribcheckconfig.sh cgroup hierarchy nonexistent with cGroups v


 swagger.yaml Remove extra 'the' wrapped by newline
 docs fix double the in existing API versions

 httpsgithub.commobymobypull Fix Error in daemonunix.go and dockerclirununittest.go
git cherrypick s S x fbfbdeeedbeaa

 httpsgithub.commobymobypull contribcheckconfig.sh fixes for cgroup v and kernel v.x
git cherrypick s S x baedcabdefebcc eebcfddafcbbebbacb daafbacdbfcbfd fdddefaaec efbaaeaebc dfaccfcdffbabbffbb

 httpsgithub.commobymobypull swagger.yaml Remove extra 'the' wrapped by newline
git cherrypick s S x dbceceacffeaebafd

 httpsgithub.commobymobypull docs fix double the in existing API versions
git cherrypick s S x dbbbbffacce
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. bashzsh completion script cherrypicks;"cherrypicks of bashzsh completion scripts for .
 cfaee
 dcb
 ab
 db
 febf
 dbbe
 daa
PTAL sdurrheimer albers vdemeester vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2698;. backport replace json.Unmarshal with NewFromJSON in Create;"backport of 
fixes imagestore.go Empty configuration causes runtime panic

 What I did
Reuse NewFromJSON to handle no rootfs key situation in imagestore.go to solve the issue in 
 How I did it
Simply replace the json.Unmarshal function with NewFromJSON in imageimage.go
 How to verify it
Running this mainly modified from will show invalid image JSON no RootFS
package main

import 
 github.comdockerdockerimage
 os
 ioioutil
 runtime
 github.comdockerdockerlayer
 fmt



type mockLayerGetReleaser struct

func ls mockLayerGetReleaser Getlayer.ChainID layer.Layer error 
 return nil nil


func ls mockLayerGetReleaser Releaselayer.Layer layer.Metadata error 
 return nil nil


func main
 tmpdir err ioutil.TempDir imagesfsstore
 defer os.RemoveAlltmpdir
 if err nil 
 fmt.Printerr
 os.Exit
 
 fsBackend err image.NewFSStoreBackendtmpdir
 if err nil 
 fmt.Printerr
 os.Exit
 
 mlgrMap makemapstringimage.LayerGetReleaser
 mlgrMapruntime.GOOS mockLayerGetReleaser
 store err image.NewImageStorefsBackend mlgrMap
 if err nil 
 fmt.Printerr
 os.Exit
 
 err store.Createbyte
 if err nil 
 fmt.Printerr
 os.Exit
 

 Description for the changelog

Prevent a panic when handling an image json with no rootfs key present.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add cpus support for docker update;"What I did
This fix tries to address the issue raised in where it was not possible to specify cpus for docker update.
 How I did it
This fix adds cpus support for docker update. In case both cpus and cpuperiodcpuquota have been spec";0
2699;. backport Handle long log messages correctly on SizedLogger;"backport of 
fixes awslogs driver with nonblocking mode cause log events to split larger then k size
Loggers that implement BufSize e.g. awslogs uses the method to
tell Copier about the maximum log line length. However loggerWithCache
and RingBuffer hide the method by wrapping loggers.
As a result Copier uses its default KB limit which breaks log
lines kB even the destinations can handle that.
This change implements BufSize on loggerWithCache and RingBuffer to
make sure these logger wrappes don't hide the method on the underlying
loggers.
Fixes .
Signedoffby Kazuyoshi Kato katokazuamazon.com

 What I did
I've added BufSize to loggerWithCache and RingLogger to make Copier aware about the size limit of the underlying loggers.
 How I did it
I've added the method to the structs.
 How to verify it
I built Docker and tested the change with logsplit container image I made.
docker run d logdriverawslogs logopt modenonblocking logopt awslogsgrouplogsplittest logopt awslogsregionuswest logsplitlatest

The Dockerfile for the image is below.
FROM ubuntu.
CMD tr dc AZaz devurandom | head c echo ''

I also added new unit tests on Copier.
 Description for the changelog

Fix loggers to make sure they don't break long lines when the destinations' limits allow.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docker stack deploy interpolation format error due to not escaping now includes a hint;"Added code to print a hint if not escaping the '' character in the compose file causes an interpolation format error for docker stack deploy command. Fixes .
Signedoffby Arash Deshmeh adeshmehca.ibm.com
 What I did
When the command 'docker stack deploy' fails due to not escaping the '' in the compose file the error message does not indicate the cause of failure. This PR fixes this by adding a hint to the error message.
 How I did it
Added a code which checks for '' and '' patterns in the template string if an error is encountered during the interpolation and adds a hint to the error message if needed.
 How to verify it
Run docker stack deploy and specify the composefile option. Use the compose file shown in .


Current behavior
 docker stack deploy composefiledockercompose.yml monitoring
Invalid interpolation format for command option in service nodeexporter sys|proc|dev|host|etc|


With this PR
 docker stack deploy composefiledockercompose.yml monitoring
Invalid interpolation format for command option in service nodeexporter sys|proc|dev|host|etc|. You may need to escape any with another .


 Description for the changelog
The error from 'docker stack deploy' includes a hint if the error is caused by '' delimiter not having been escaped with another ''.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2700;. backport Add shim config for custom runtimes for plugins;"backport of 
fixes dockerforlinux v.. dockerd panics when configuring default runtime
fixes dockerforlinux .. start docker failed
This fixes a panic when an admin specifies a custom default runtime
when a plugin is started the shim config is nil.
 Description for the changelog

Fix a daemon panic on setups with a custom default runtime configured

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update versionhistory.md for ReadOnly parameter;"This fix updates the docsapiversionhistory.md for ReadOnly parameter which is now available in POST servicescreate and POST servicesid or nameupdate.
This fix is a follow up to .
Signedoffby Yong Tang yong.tang.githuboutlook.com
cc vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2701;. backport Fix builder inconsistent error on buggy platform;"backport of 
addresses dockerforlinux
When pulling an image by platform it is possible for the image's
configured platform to not match what was in the manifest list.
The image itself is buggy because either the manifest list is incorrect
or the image config is incorrect. In any case this is preventing people
from upgrading because many times users do not have control over these
buggy images.
This was not a problem in . because we did not compare on platform
before. It just assumed if we had the image it was the one we wanted
regardless of platform which has its own problems.
Example Dockerfile that has this problem
FROM platformlinuxarm ks.gcr.iobuildimagedebianiptablesbusterv..
RUN echo hello
This fails the first time you try to build after it finishes pulling but
before performing the RUN command.
On the second attempt it works because the image is already there and
does not hit the code that errors out on platform mismatch Actually it
ignores errors if an image is returned at all.
Must be run with the classic builder DOCKERBUILDKIT.
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Synchronous service create and service update;"Change service create and service update to wait until the creation or update finishes when detachfalse is specified. Show progress bars for the overall operation and for each individual task when there are a small enough number of tasks unless q quiet is specified.
Internals

 The current implementation is polling. It would be much better to use the Swarm events API once it's ready dongluochen.
 The task endpoint spec is not included when evaluating if a task is up to date. This structure isn't exposed through the REST API so it would need to be added or we need to come up with a better way of checking if a task is up to date.
 The method of checking for global service convergence is a terrible hack. The constraint evaluator was ported to the client so it can tell which nodes match the constraints. This needs to be redone in a better way.
 Handle rollback update states once is merged

CosmeticUX

 The progress bars show numbers like BB assuming the units are bytes. This should be changed to drop the B suffix.
 Upon C the command should print a notice that the creation or update is still continuing in the background.
 Possible visual improvements line up progress bars etc.

cc dockercoreswarmkitmaintainers tiborvass anusharagunathan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2702;. backport builder ensure libnetwork state file do not leak;"backport of 

Apparently calling sandbox.Delete is not enough to remove all the libnetwork state files eg. the hosts and resolv.conf file. So to avoid leaks clean up the sandbox state directory manually.
Looking at what happens on regular containers it seems that netns is cleaned up by finalized and not directly by code. This could be investigated more in the future as could leak on restarts etc. The hostsresolv.conf is stored in container state directory and cleaned up with container afaics.

Cherrypick was not clean but only a minor issue same but reverse as comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Vendor swarmkit a;"Vendor a new swarmkit for ..
This brings in two fixes

dockerswarmkit Fixes 
dockerswarmkit Fixes 

cc thaJeztah yongtang
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2703;. backport profiles seccomp update to Linux . syscall list;"backport of 
These syscalls some of which have been in Linux for a while but were
missing from the profile fall into a few buckets


closerange epollpwait are just extensions of existing safe
for everyone syscalls.


The mountv API syscalls fs movemount opentree are
all equivalent to aspects of mount and thus go into the
CAPSYSADMIN category.


processmadvise is similar to the other process syscalls and
thus goes in the CAPSYSPTRACE category.


 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add seconds delay to allow gossip converge;"Signedoffby Dong Chen dongluo.chendocker.com
Fixes .
 What I did
There is a race condition between removing service binding load balancer rotation DNS records of a container and shutting down a container. This may lead to request loss. This change adds seconds sleep between removing service binding and shutting down container.
 How to verify it
In rolling update keep sending requests to published port. The requests shouldn't be lost.
cc sanimej aluzzardi.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2704;. backport backport various testing fixes;"Backports

 Make test work with rootless mode
 integration fix TestBuildUserNamespaceValidateCapabilitiesAreV not using frozen image
 testing update dockerpy ..
 Dockerfile.buildx update buildx to v..
 testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failures

 httpsgithub.commobymobypull Make test work with rootless mode
git cherrypick s S x eacabfbfefecffcacffa

 httpsgithub.commobymobypull integration fix TestBuildUserNamespaceValidateCapabilitiesAreV not using frozen image
git cherrypick s S x dfcafadbdeba

 httpsgithub.commobymobypull testing update dockerpy ..
git cherrypick s S x fbfcbffdbce

 httpsgithub.commobymobypull Dockerfile.buildx update buildx to v..
git cherrypick s S x babddeadabbdeffbe

 httpsgithub.commobymobypull testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failures
git cherrypick s S x fbfaeddeebfcbe faccabcbabeb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix statuscode for locked swarm and certificate expired;"These errors were producing the wrong status code
changing to .
replaces 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2705;master prevent an invalid image from crashing docker daemon CVE;"This forwardports the changes related to CVE Advisory GHSAfjmrqx.
These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branch
cherrypick was clean
git cherrypick s S x adaf

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. cherry picks;"a
 fc
 eaffb
 ff
 c
 ed
 ad
 ea
 eab
 
 c
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2706;master Ensure AppArmor and SELinux profiles are applied when building with BuildKit;"These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branch
git cherrypick s S x afe ebf

Second commit did not apply cleanly because ce was merged on master and is not yet in the . branch
diff cc builderbuildernextexecutorunix.go
index ccefbbaf..
 abuilderbuildernextexecutorunix.go
 bbuilderbuildernextexecutorunix.go
 import

 const networkName bridge

 HEAD
 func newExecutorroot cgroupParent string net libnetwork.NetworkController dnsConfig oci.DNSConfig rootless bool idmap idtools.IdentityMapping executor.Executor error 
 netRoot filepath.Joinroot net

 func newExecutorroot cgroupParent string net libnetwork.NetworkController dnsConfig oci.DNSConfig rootless bool idmap idtools.IdentityMapping apparmorProfile string executor.Executor error 
 ebffb buildkit Apply apparmor profile
 networkProviders mappb.NetModenetwork.Provider
 pb.NetModeUNSET bridgeProviderNetworkController net Root filepath.Joinroot net
 pb.NetModeUNSET bridgeProviderNetworkController net Root netRoot
 pb.NetModeHOST network.NewHostProvider
 pb.NetModeNONE network.NewNoneProvider
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Release the network attachment on allocation failure;"otherwise the attachment task will stay in store and
consume IP addresses and there is no way to remove it.

cherrypick of b
Signedoffby Alessandro Boch abochdocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2707;master Fix Access to remapped root allows privilege escalation to real root CVE;"This forwardports the changes related to CVE Advisory GHSAxqpjrpc. These changes are already included in the v.. and v.. security releases and this PR forwards those changes to the master branch
Cherrypick was clean
git cherrypick s S x edba bfedd ecc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add more locking to storage drivers;"fixes 
Most drivers currently seem to rely on the lock in the refCounter but this is not enough for a safe api. A simple case that is not working is parallel Get calls. First one will start the actual mountslow process while the second gets a cache hit from the refcounter. After the second one returns data is read from that path but it has not even finished mounting yet.
cpuguy dmcgowan
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2708;dockerdrootless.sh add typo guard;"What I did
dockerdrootless.sh install is a common typo of dockerdrootlesssetuptool.sh install.
Now dockerdrootless.sh install shows humanreadable error.
 How I did it
Added a humanreadable error
 How to verify it
 dockerdrootless.sh install";..x swagger cherrypicks;"This cherry picks the following PR's commits
 ab
 fa
 deae
 
 dafd
 fda
 
I tried to cherrypick ffa from but it didn't apply easily so decided to skip that for now. We may want to do a separate PR for that or take whole of cc dnephin
ping stevvooe as well for the changes in status code ?ÿà
note that was labeled as cherrypicked but apparently was missed and not actually cherrypicked into ..x
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2709;. backport TestCgroupNamespacesRunOlderClient support cgroup v;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix TestPullFailsWithAlteredLayer;"This test was failing after the busybox image switched to a
single layer.
The test fails because it alters the data of an empty layer and
relies on a side effect of another empty layer not being skipped
on pull to pass.
Thanks to tonistiigi for providing the patch comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2710;. backport docker info silence unhandleable warnings;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add unit tests to clicommandvolume package;"Another cli unit test PR this time on volumes ?æ?
ok github.comdockerdockerclicommandvolume .s coverage . of statements

cc aaronlehmann thaJeztah cpuguy dnephin icecrime
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2711;. backport pkgarchive allow mknodding FIFO inside userns;"Cherrypick 

 What I did
Fix 
Also attempt to mknod devices.
Mknodding devices are likely to fail but still worth trying when running with a seccomp user notification.
 How I did it
By allowing mknodding FIFO inside userns.
 How to verify it
docker pull docker.iogitlabgitlabee..ee. with rootless
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";split compose deploy from deploy.go;"Signedoffby allencloud allen.sundaocloud.io
split compose deploy from deploy.go to better the code file organization.
In the code base we can be more clear that there are two kinds of deploy type for command docker stack deploy.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2712;. backport rootless prevent the service hanging when stopping set systemd KillMode to mixed;"Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Automatic service rollback on failure;"This PR adds support for a rollback failure action. When this is selected the orchestrator will automatically roll back to the previous version of a service if an update hits the failure threshold.
It adds the following options to control the behavior of rollbacks. They are kept separate from the existing update options since there are situations where the behavior should be different for rollbacks. For example an administrator may wish to roll out a new version of a service very slowly but if failure thresholds are exceeded switch back to the old version quickly. Arguably we may be able to live with hardcoded defaults for some of these options but it seemed better to stay consistent with the update options than to introduce arbitrary differences.

rollbackdelay
rollbackfailureaction
rollbackmaxfailureratio
rollbackmonitor
rollbackparallelism

I'm open to reducing the set of options if desired but at a minimum we should keep rollbackdelay and rollbackparallelism.
This PR also switches the manually invoked service update rollback to work on the server side instead of being a purely client side operation. This allows manuallyinitiated rollbacks to respect the new rollback parameters and it also has the benefits of avoiding some nasty hacks we previously used. The client is versionaware so it will still use the old method against an older daemon.
Note that rollback has been changed so that it can't be used in combination with other service update flags. This is a compromise to avoid adding further hacks. While it's unfortunate to be restricting this functionality it does make the implementation much cleaner.
cc aluzzardi dongluochen
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2713;Fallback to manifest list when no platform match;"relates to addresses dockerforlinux comment
In some cases in fact many in the wild an image may have the incorrect
platform on the image config.
This can lead to failures to run an image particularly when a user
specifies a platform.
Typically what we see in the wild is a manifest list with an an entry
for as an example linuxarm pointing to an image config that has
linuxamd on it.
This change falls back to looking up the manifest list for an image to
see if the manifest list shows the image as the correct one for that
platform.
In order to accomplish this we need to traverse the leases associated
with an image. Each image if pulled with Docker . will have the
manifest list stored in the containerd content store with the resource
assigned to a lease keyed on the image ID.
So we look up the lease for the image then look up the assocated
resources to find the manifest list then check the manifest list for a
platform match then ensure that manifest referes to our image config.
This is only used as a fallback when a user specified they want a
particular platform and the image config that we have does not match
that platform.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add option to autoconfigure blkdev for devmapper;"Instead of forcing users to manually configure a block device to use
with devmapper this gives the user the option to let the devmapper
driver configure a device for them.
Adds several new options to the devmapper storageopts

dm.directlvmdevice path to the block device to configure for
directlvm
dm.thinppercent sets the percentage of space to use for
storage from the passed in block device
dm.thinpmetapercent sets the percentage of space to for metadata
storage from the passed in block device
dm.thinpautoextendthreshold sets the threshold for when lvm
should automatically extend the thin pool as a percentage of the total
storage space
dm.thinpautoextendpercent sets the percentage to increase the
thin pool by when an autoextend is triggered.

Defaults are taken from here
The only option that is required is dm.directlvmdevice for docker to
set everything up.
Changes to these settings are not currently supported and will error
out.
Future work could support allowing changes to these values.
ping rhvgoyal
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2714;Makefile install buildx from binary release instead of building;"This was originally added in c at which time buildx did not yet have a release so we had to build from source.
Now that buildx has binary releases on GitHub we should be able to consume those binaries instead of building.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update storage driver options link;"Old link redirects but loses the anchor.
thaJeztah
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2715;. backport pkgarchive allow mknodding FIFO inside userns;"Fix 
Cherrypick 
cherry picked from commit ddccc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Yong Tang to maintainers;"This adds Yong Tang yongtang as a maintainer for dockerdocker as was proposed and voted on the maintainers mailinglist ?æ? ?É?.

cc dockercoremaintainers yongtang
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2716;rootless prevent the service hanging when stopping set systemd KillMode to mixed;"What I did
Fix Docker rootless does not exit properly if containers are running
Now systemctl user stop docker completes just with in or seconds.
 How I did it
Changed the KillMode from controlgroup default to mixed
See systemd";Update SwarmKit to bcecfaccdfadcbdd;"This fix tries to update the SwarmKit to
bcecfaccdfadcbdd
from
edfbfebdffdfa
The following is the list of docker related changes

Took long time for Docker Swarm service turn desired state from Ready to Running Issue 
Native Swarm in . panic runtime error index out of range Issue 
Global mode target replicas keep increasing Issue 
Creating service with publish modehost and without published port crashes swarm manager Issue 
Define signals used to stop containers for updates Issue PR 
Cannot start container dockergwbridge exchange full Issue 

This fix fixes in master branch Fix for and in ..x branch have been addressed by PR 
This fix is required by PR .
Fixes 
Fixes 
Fixes 
Fixes 
Fixes 
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2717;docs fix double the in existing API versions;"Backport of db to the swagger files used in the documentation
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Typo fixed and this time I provide my cSpell.json;"Signedoffby Aaron.L.Xu likexuharmonycloud.cn

 What I did
I was very annoyed by those kind of typo mistakes and maybe this file httpsgithub.comxulikevscodespellcheckerhelperblobmasterdockerspellcheck.txt could help our developers in a selfdiscipline and distributed way.
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2718;testing fix TestBuildUserNamespaceValidateCapabilitiesAreV failures;"relates to comment
relates to comment

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Sort docker stack ls by name;"Part of ?Çö let's sort the stack by name. At some point we might want to add format and sortby to this command but could be in a followup ?æ?.
cc dnephin thaJeztah icecrime
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2719;Resume healthcheck when daemon restarts;"Call updateHealthMonitor for alive nonpaused containers when daemon restarts.

What I did
Fix issue feat. ealessandriaorange
 How I did it
While dockerd restores call updateHealthMonitor for non paused alive containers.
 How to verify it
At dockerd restart containers' healthcheck is still running.
 Description for the changelog

Fix issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix some typos from module contrib to man;"Signedoffby Aaron.L.Xu likexuharmonycloud.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2720;Dockerfile.buildx update buildx to v..;"will conflict with but need to have another look at that one for the buildcache pruning.
full diff dockerbuildxv.....v..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hackvalidatevendor add more checks;"What I did
This PR adds two checks

make sure all the vendored packages are used
make sure all the packages contain license information

 How I did it
 How to verify it
 make validate
WARNING could not find copyright information for github.comkrp";0
2721;Use golang.orgxsysexecabs;"Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Switch to new versioning scheme;"This PR changes the versioning scheme of Docker. The next version of Docker will use a YY.MM.rev versioning scheme. The next version to be released from the current master branch is expected in April so the version used in this PR is ... We will also release .. from the ..x branch based on the ..x branch.
The new version scheme also includes ce short for ?Ç£Community Edition?Ç¥. ?Ç£Community Edition?Ç¥ is one of a couple of changes to the way Docker is packaged that we?ÇÖre preparing
There are no functional changes that go along with the versioning change and the API version stays the same in this release.
As part of the packaging changes we?ÇÖll also work on consolidating package repos and other downloads on download.docker.com. This is part of our efforts to reduce the sprawl of download properties into a single secure location. get.docker.com and other release infrastructure will be maintained for backwards compatibility for now. Packaging code for distros and similar will still live in hack and contrib.
We will take care of updating all GitHub labelsmilestones after this change is merged.
ping dockercoreenginemaintainers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2722;Jenkinsfile add cgroup;"Thanks to StefanScherer for setting up the Jenkins nodes comment
Closes 
Replaces Vagrant on GitHub Actions


TestInspectOomKilledTrue is skipped due to its flakiness on v 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Release the network attachment on allocation failure;"otherwise the attachment task will stay in store and
consume IP addressess and there is no way to remove it.

Fixes 
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2723;swagger.yaml Remove extra 'the' wrapped by newline;"Just a typo fix. This PR was originally proposed by phillc here docker

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Service creation using network plugin filters.;"Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2724;Fix panic when starting container with invalid device cgroup rule;"fixesaddresses dockercompose
This fixes a panic when an invalid device cgroup rule is passed resulting in an index out of range.
This bug was introduced in the original implementation in af but was not reproducible when using the CLI because the same commit also added clientside validation on the flag before making an API request. The following example uses an invalid rule c rwm two spaces before the permissions
 docker run rm networkhost devicecgrouprule'c rwm' busybox
invalid argument c rwm for devicecgrouprule flag invalid device cgroup format 'c rwm'
Doing the same but using the API results in a daemon panic when starting the container

Create a container with an invalid device cgroup rule

 curl v \
 unixsocket varrundocker.sock \
 httplocalhostv.containerscreatenamefoobar \
 H ContentType applicationjson \
 d 'Imagebusyboxlatest HostConfigDeviceCgroupRules c rwm'

Start the container

 curl v \
 unixsocket varrundocker.sock \
 X POST \
 httplocalhostv.containersfoobarstart

Observe the daemon logs

 . I | http panic serving runtime error index out of range with length 
goroutine running
nethttp.conn.serve.funcxccbd
	usrlocalgosrcnethttpserver.go xb
panicxf xcaebfc
	usrlocalgosrcruntimepanic.go xb
github.comdockerdockeroci.AppendDevicePermissionsFromCgroupRulesxcc x x xcbd x x x x xcec x ...
	gosrcgithub.comdockerdockerocioci.go xf

This patch

fixes the panic allowing the daemon to return an error on container start
adds a unittest to validate various permutations
adds a todo to verify the regular expression and handling of the a all value

We should also consider performing this validation when creating the container
so that an error is produced early.
 Description for the changelog

Fix daemon panic when starting container with invalid device cgroup rule

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix cpu spin waiting for log write events;"This loop is not ever going to return since it's never actually setting
the err var except on the first iteration.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2725;TestCgroupNamespacesRunOlderClient support cgroup v;"What I did
TestCgroupNamespacesRunOlderClient support cgroup v.
When running with cgroup v cgroup namespace should be always enabled regardless to API version. 
 How to verify it
 make TESTSKIPINTEGRATIONCLI TESTFLAGS'test.run Test";overlay fix unmounting layer without merge dir;"dmcgowan
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2726;builder produce error when using unsupported Dockerfile option;"fixes 
depends on

 vendor github.commobybuildkit v..

 depends on mobybuildkit mobybuildkit



builder produce error when using unsupported Dockerfile option
With the promotion of the experimental Dockerfile syntax to stable the Dockerfile
syntax now includes some options that are supported by BuildKit but not yet
supported in the classic builder.
As a result parsing a Dockerfile may succeed but any flag that's known to BuildKit
but not supported by the classic builder is silently ignored
 mkdir buildkitflags cd buildkitflags
 touch foo.txt

For example RUN mount
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
RUN mounttypecachetargetfoo echo hello
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 eef
Step RUN mounttypecachetargetfoo echo hello
 Running in fdbbc
hello
Removing intermediate container fdbbc
 efd
Successfully built efd

Or COPY chmod same for ADD chmod
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
COPY chmod foo.txt foo.txt
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 eef
Step COPY chmod foo.txt foo.txt
 baa
Successfully built baa

Note that unknown flags still produce and error for example the below fails because hello is an unknown flag
DOCKERBUILDKIT docker build EOF
FROM busybox
RUN hello echo hello
EOF

Sending build context to Docker daemon .kB
Error response from daemon dockerfile parse error line Unknown flag hello

With this patch applied
With this patch applied flags that are known in the Dockerfile spec but are not
supported by the classic builder produce an error which includes a link to the
documentation how to enable BuildKit
DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
RUN mounttypecachetargetfoo echo hello
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 bfca
Step RUN mounttypecachetargetfoo echo hello
the mount option BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.


DOCKERBUILDKIT docker build nocache f . EOF
FROM busybox
COPY chmod foo.txt foo.txt
EOF

Sending build context to Docker daemon .kB
Step FROM busybox
 bfca
Step COPY chmod foo.txt foo.txt
the chmod option requires BuildKit. Refer to httpsdocs.docker.comgobuildkit to learn how to build images with BuildKit enabled.

 Description for the changelog

Fix classic builder silently ignoring unsupported Dockerfile options

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix incorect login client credential save when the registry is the default docker registry;"closes 


What I did
compare the user login url with the default registry and if the same just ignore


How I did it
parsing the url using url.Parse and compare it with the default docker registry


How to verify it
docker login index.docker.io
docker login docker.io


in the .dockerconfig.json
before the fix the login will succeed but docker pullpush for private images will fail as the saved auth is not saved as the default docker registry url
auths 
index.docker.io 
auth xxxxxxx


after the fix any url that is the default docker registry will be saved properly so it can be used with docker pushpull for private images
auths 
httpsindex.docker.iov 
auth xxxxxxxx


some more discussions

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2727;Handle long log messages correctly on SizedLogger;"Loggers that implement BufSize e.g. awslogs uses the method to
tell Copier about the maximum log line length. However loggerWithCache
and RingBuffer hide the method by wrapping loggers.
As a result Copier uses its default KB limit which breaks log
lines kB even the destinations can handle that.
This change implements BufSize on loggerWithCache and RingBuffer to
make sure these logger wrappes don't hide the method on the underlying
loggers.
Fixes .
Signedoffby Kazuyoshi Kato katokazuamazon.com

 What I did
I've added BufSize to loggerWithCache and RingLogger to make Copier aware about the size limit of the underlying loggers.
 How I did it
I've added the method to the structs.
 How to verify it
I built Docker and tested the change with logsplit container image I made.
docker run d logdriverawslogs logopt modenonblocking logopt awslogsgrouplogsplittest logopt awslogsregionuswest logsplitlatest

The Dockerfile for the image is below.
FROM ubuntu.
CMD tr dc AZaz devurandom | head c echo ''

I also added new unit tests on Copier.
 Description for the changelog

Fix loggers to make sure they don't break long lines when the destinations' limits allow.
 A picture of a cute animal not mandatory but encouraged

From httpswww.zoo.organimalsdigital
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Reset stdin config before running build actions;"fixes 
When base image is created with docker commit stdin might be open in the containerConfig. When build is attempted on top of that image this config would carry on to the build actions and result a cache invalidation because all config that uses stdin is uncomparable httpsgithub.comdockerdockerblobdfdaccefacfbddimagecachecompare.goL.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2728;vendor dockerlibnetwork bbebcbebbfbe;"also somewhat related to which discusses the implicit binding of IPv
depends on

 Update rootlesskit to v.. to fix handling of IPv addresses

 rootlesscontainersrootlesskit Refactor ParsePortSpec to handle IPv addresses and improve validation


 CI update tests to be more resilient against CLI output format and for libnetwork changes
 update rootlesskit to v..

 rootlesscontainersrootlesskit Port API support specifying IP version explicitly tcp tcp



full diff mobylibnetworkfaa...b

fixed IPv iptables rules for enabled firewalld mobylibnetwork

fixes Docker uses 'iptables' instead of 'iptables' for IPv NAT rule crashes


Fix regression in mobylibnetwork

introduced in Fix IPv Port Forwarding for the Bridge Driver mobylibnetwork
fixes mobylibnetwork IPv and IPv addresses are not bound by default anymore
fixes IPv is no longer proxied by default anymore


Use hostIP to decide on Portmapper version mobylibnetwork

fixes dockerproxy not being stopped correctly



 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Retry workaround for RSRS compute system enumeration;"Signedoffby John Howard jhowardmicrosoft.com
Fixes 
georgyturevich consl FYI
There's a race condition in HCS in RS and RS builds fixed in RS whereby the call to
enumerate compute systems can return access denied if a silo is being torn down in the kernel
underneath it.
The net result is that docker rm may fail. In fact using these two scripts I have been
able to repro the failure almost immediately usually with less than containers having
been started
docker stop recovertest
docker rm f recovertest
removeitem failed.txt erroraction silentlycontinue
while true 
 count
 WriteHost Iteration count GetDate
 docker ps q
 docker run d i name recovertest microsoftiis
 if lastexitcode ne newitem .\failed.txt exit 
 docker stop recovertest
 if lastexitcode ne newitem .\failed.txt exit 
 docker rm recovertest
 if lastexitcode ne newitem .\failed.txt exit 
 if TestPath .\failed.txt WriteHost Quitting as failed.txt exists exit 


docker stop recovertest
docker rm f recovertest
removeitem failed.txt erroraction silentlycontinue
while true 
 count
 WriteHost Iteration count GetDate
 docker ps q
 docker run d i name recovertest microsoftiis
 if lastexitcode ne newitem .\failed.txt exit 
 docker stop recovertest
 if lastexitcode ne newitem .\failed.txt exit 
 StartSleep Seconds 
 docker rm recovertest
 if lastexitcode ne newitem .\failed.txt exit 
 if TestPath .\failed.txt WriteHost Quitting as failed.txt exists exit 


With this fix I've had the scripts running for a couple of hours without failure.
darrenstahlmsft johnstep PTAL.
thaJeztah vieux friism this is one that should be strongly considered for a future . release and for CS.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2729;Updated checkconfig with cgroupv controllers;"Fixes 

 What I did
Added cgroupv available controllers and check for CONFIGCGROUPBPF in contribcheckconfig.sh
 How I did it

Reading the sysfscgroupcgroup.controllers file for available controllers
Added a new CheckFlag for CONFIGCGROUPBPF to BPFCGROUPDEVICE support
 How to verify it
Output 
Ran on Linux ..generic


 Description for the changelog

Update in contribcheckconfig.sh cgroupv controllers and CONFIGCGROUPBPF
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Wait for OOBE to prevent crashing during host update;"Signedoffby Darren Stahl darstmicrosoft.com

 What I did
Prevent a Daemon crash during host update.
 How I did it
Some services Docker depends on are not active during a host update. This PR holds daemon initialization until after a host update is completed.
It also notifies the Windows Service Control Manager that the service has started as soon as the API is active to prevent service start timeouts waiting for OOBE or daemon initialization.
 How to verify it
Install Docker service on a machine that receives manual OS updates such as a Windows Insider machine. After an update is installed the daemon was not running with an SCM log stating that it terminated unexpectedly. With this update the daemon will be running.
 Description for the changelog

Prevent crash during Windows host update.
cc jhowardmsft jstarks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2730;docker info silence unhandleable warnings;"fixes 

 What I did
The following warnings in docker info are now discarded because there is no action user can actually take.
On cgroup v

WARNING No blkio weight support
WARNING No blkio weightdevice support

On cgroup v

WARNING No kernel memory TCP limit support
WARNING No oom kill disable support

docker run still prints warnings when the missing feature is being attempted to use.
 How I did it
See the code
 How to verify it
Run docker info
 Description for the changelog

docker info silence unhandleable warnings
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Flags for specifying bind mount consistency;"This PR introduces a small change to the Docker CLI as part of a larger project to address some longstanding file sharing performance on Docker for Mac .
The poor performance of bind mounts in Docker for Mac for some applications arises from osxfs ensuring perfectly consistent views of bind mounts between container and host reads writes and events from within a container are propagated synchronously to the host and vice versa.
Perfect consistency is the right default but for some workloads where it's unnecessary it puts a low ceiling on performance. To improve performance for such workloads we plan to allow the user to relax consistency guarantees for individual bindmounted directories.
The full details of the proposal are available here. This patch includes one small piece of the work namely additional bind options cached delegated consistent for selecting consistency modes. Although the immediate aim is improving osxfs performance these options are not macOSspecific they give a general view of consistency that applies to many systems both for bind mounts and volume plugins. For example

essentially the same consistency taxonomy is used by Infinit
the same approach may be used in future to improve performance on Windows
on systems that directly expose the host file system to a container such as Linux ignoring the options is an acceptable implementation of all three modes. Even on Linux a container runtime could in principle take advantage of the relaxed semantics associated with delegated and cached.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2731;rootless support pidhost;"What I did
rootless support pidhost
Fix 
Also port TestRunModePIDHost from CLI test to API test
 How I did it
By substituting procfs mount with rbind httpsgithub.comcontainerspodmanblobv..rcpkgspecgengenerateoci.goLL";fix docker stack omit external volume's nocopy parameter;"What I did
Fix docker stack omit volume's nocopy parameter.
 How I did it
Process external volume mount's nocopy parameter when create stack's services.
 How to verify it
create a volume
docker volume create nfs

deploy stack file link as follow";0
2732;pkgarchive allow mknodding FIFO inside userns;"What I did
Fix 
Also attempt to mknod devices.
Mknodding devices are likely to fail but still worth trying when running with a seccomp user notification.
 How I did it
By allowing mknodding FIFO inside userns.
 How to verify it
docker pull dock";add rollback explanation to docker service update command document;"Signedoffby erxian evelynhsugmail.com
Hi this PR refers to issue adds the explanation of rollback option to docker service update command document which locates in dockerdocsreferencecommandlineserviceupate.md.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2733;profiles seccomp update to Linux . syscall list;"These syscalls some of which have been in Linux for a while but were
missing from the profile fall into a few buckets


closerange epollwait are just extensions of existing safe
for everyone syscalls.


The mountv API syscalls fs movemount opentree are
all equivalent to aspects of mount and thus go into the
CAPSYSADMIN category.


processmadvise is similar to the other process syscalls and
thus goes in the CAPSYSPTRACE category.



Signedoffby Aleksa Sarai asaraisuse.de
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Docs Add docs for stating stopped containers;"This commit adds docs with example showing docker stats stopped
containers.
Signedoffby Zhang Wei zhangweihuawei.com
This is a followup PR for cc LKD thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2734;Fix spurious error from docker load;"What I did
Fixed the spurious error ...is not a valid parent for... when using docker load. Closes 
 How I did it
Added an Equal method to History which normalizes UTCequivalent times into UTC before comparison. This is used instead of reflec";..x Vendoring swarmkit cdf;"Brings the fixes for and to the ..x branch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2735;volumeslocal gofmt;"What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but t";fix docker daemon reload bug;NOM;0
2736;Fix builder inconsistent error on buggy platform;"addresses dockerforlinux
When pulling an image by platform it is possible for the image's
configured platform to not match what was in the manifest list.
The image itself is buggy because either the manifest list is incorrect
or the image config is incorrect. In any case this is preventing people
from upgrading because many times users do not have control over these
buggy images.
This was not a problem in . because we did not compare on platform
before. It just assumed if we had the image it was the one we wanted
regardless of platform which has its own problems.
Example Dockerfile that has this problem
FROM platformlinuxarm ks.gcr.iobuildimagedebianiptablesbusterv..
RUN echo hello
This fails the first time you try to build after it finishes pulling but
before performing the RUN command.
On the second attempt it works because the image is already there and
does not hit the code that errors out on platform mismatch Actually it
ignores errors if an image is returned at all.
Must be run with the classic builder DOCKERBUILDKIT.
This should mostly be safe and certainly safer than . since we only check this immediately after a pull.
Example output before the fix
rootdfffgosrcgithub.comdockerdocker DOCKERBUILDKIT docker build t test .Dockerfile.fix 
Sending build context to Docker daemon .kB
Step FROM platformlinuxarm ks.gcr.iobuildimagedebianiptablesbusterv..
busterv.. Pulling from buildimagedebianiptables
bdba Pull complete 
eacba Pull complete 
eeae Pull complete 
ccbdfe Pull complete 
eadafc Pull complete 
ecdcd Pull complete 
Digest shacaeedcbebbdfccacfcbddfefaeaea
Status Downloaded newer image for ks.gcr.iobuildimagedebianiptablesbusterv..
image with reference ks.gcr.iobuildimagedebianiptablesbusterv.. was found but does not match the specified platform wanted linuxarm actual linuxamd
rootdfffgosrcgithub.comdockerdocker 

Example output after the fix
rootdeagosrcgithub.comdockerdocker DOCKERBUILDKIT docker build t test .Dockerfile.fix 
Sending build context to Docker daemon .kB
Step FROM platformlinuxarm ks.gcr.iobuildimagedebianiptablesbusterv..
busterv.. Pulling from buildimagedebianiptables
bdba Pull complete 
eacba Pull complete 
eeae Pull complete 
ccbdfe Pull complete 
eadafc Pull complete 
ecdcd Pull complete 
Digest shacaeedcbebbdfccacfcbddfefaeaea
Status Downloaded newer image for ks.gcr.iobuildimagedebianiptablesbusterv..

WARNING Pulled image with specified platform linuxarm but resulting image's configured platform linuxamd does not match.
This is most likely caused by a bug in the build system that created the fetched image ks.gcr.iobuildimagedebianiptablesbusterv...
Please notify the image author to correct the configuration.

 eee
Step RUN echo hello
 Running in eb
hello
Removing intermediate container eb
 cdcadbce
Successfully built cdcadbce
Successfully tagged testlatest

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix some Liquid errors;"Fix some Liquid errors that cause rendering problems when reusing these reference files in the docs website

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2737;contribcheckconfig.sh fixes for cgroup v and kernel v.x;"fixes 
fixes 

contribcheckconfig.sh support for cgroupv

Before

Generally Necessary

cgroup hierarchy nonexistent
see httpsgithub.comtianoncgroupfsmount


After

Generally Necessary

cgroup hierarchy cgroupv



Make check for various CONFIG options recently removed from the kernel conditional.

See individual commits for details.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docker version output is not consistent when there are downgrades or incompatibilities;". docker version output is not consistent when there are downgrades or incompatibilities 
Signedoffby Daniel Zhang jmzwcngmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2738;integration fix TestBuildUserNamespaceValidateCapabilitiesAreV not using frozen image;"Commit ff added this test to verify loading of images that were built with usernamespaces enabled.
However because this test spins up a new daemon not the daemon that's set up by the testsuite's TestMain which loads the frozen images.
As a result the debianbullseye image was pulled from Docker Hub when running the test
Calling POST v.imagesloadquiet
Applying tar in gosrcgithub.comdockerdockerbundlestestintegrationTestBuildUserNamespaceValidateCapabilitiesAreVddbbroot.overlayffacafbcbcffedccccaddiff storagedriveroverlay
Applied tar shafeedbcadccafbeaaccfdc to ffacafbcbcffedccccad size 
Calling POST v.buildbuildargsnullcachefromnullcgroupparentcpuperiodcpuquotacpusetcpuscpusetmemscpusharesdockerfilelabelsnullmemorymemswapnetworkmodermshmsizetcapabilitiesA.targetulimitsnullversion
Trying to pull debian from httpsregistry.docker.io v
Fetching manifest from remote digestshafdbadcfcbedaafabaeedd errornil remotedocker.iolibrarydebianbullseye
Pulling ref from V registry debianbullseye
...

This patch updates TestBuildUserNamespaceValidateCapabilitiesAreV to load the frozen image. StartWithBusybox is also changed to Start because the test is not using the busybox image so there's no need to load it.
In a followup we should probably add some utilities to make this easier to set up and to allow passing the list frozen images that we want to load without having to hardcode the image name to load.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update docs for experimental features;"What I did

Added some info about starting dockerd with experimental
Updated the usage listing for dockerd
Added new experimental features to experimentalREADME file

Fixes 

 
 
 
 
 
 

";0
2739;builder ensure libnetwork state files do not leak;"Apparently calling sandbox.Delete is not enough to remove all the libnetwork state files eg. the hosts and resolv.conf file. So to avoid leaks clean up the sandbox state directory manually.
Looking at what happens on regular containers it seems that netns is cleaned up by finalized and not directly by code. This could be investigated more in the future as could leak on restarts etc. The hostsresolv.conf is stored in container state directory and cleaned up with container afaics.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetowrk cb;"Fixes 
Fixes 

Also

optimization in limiting the number of access to the external kvstore for docker network list commands
fixes an out of order fdb programming issue in overlay network driver when used with external kvstore
fixes vtep programming for containers with restart policy on overlay network when used with external kvstore
fixes a deadlock in overlay driver when used with external kvstore
fixes a netlink socket leak

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2740;Fix Error in daemonunix.go and dockerclirununittest.go;"Signedoffby gunadhya gunadhyausers.noreply.github.com
fixes 

 What I did

 
 
 mobyintegrationclidockerclirununixtest.go
 
 
 Line 
 in
 dbc
 
 
 
 

 
 
 expected Minimum memory reservation allowed is MB 
 
 
 



 
 
 mobydaemondaemonunix.go
 
 
 Line 
 in
 c
 
 
 
 

 
 
 return warnings fmt.ErrorfMinimum memory reservation allowed is MB 
 
 
 


Fixed the error message as requested comment
 How I did it
Changed the error message from MB to MB
 How to verify it
gunadhyaf
 Description for the changelog

error message stating the minimum memory reservation allowed is changed from MB to MB
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update LICENSE date;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2741;Make test work with rootless mode;"Using d.Kill with rootless mode causes the restarted daemon to not
be able to start containerd it times out.
Originally this was SIGKILLing the daemon because we were hoping to not
have to manipulate on disk state but since we need to anyway we can
shut it down normally.
I also tested this to ensure the test fails correctly without the fix
that the test was added to check for.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Do not remove containers from memory on error;"Before this if forceRemove is set the container data will be removed
no matter what including if there are issues with removing containerondisk state rw layer container root.
In practice this causes a lot of issues with leaked data sitting on
disk that users are not able to clean up themselves.
This is particularly a problem while the EBUSY errors on remove are so
prevalent. So for now let's not keep this behavior.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2742;Add shim config for custom runtimes for plugins;"This fixes a panic when an admin specifies a custom default runtime
when a plugin is started the shim config is nil.
Fixes dockerforlinux
fixes dockerforlinux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Vendoring libnetwork bbae;"optimization in limiting the number of access to the external kvstore for docker network list commands
fixes an out of order fdb programming issue in overlay network driver when used with external kvstore
fixes vtep programming for containers with restart policy on overlay network when used with external kvstore
fixes a deadlock in overlay driver when used with external kvstore
fixes a netlink socket leak
fixes datapath encryption key rotation issue in NAT case issues

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2743;docs fix typos in API docs;"carry of 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Set as default secret mode in stack deploy;"Change the default secret mode to match the default one used in
service subcommands.
Fix 
cc dnephin mstanleyjones nathanleclaire aaronlehmann ehazlett thaJeztah
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2744;Reject null manifests during tar import;"What I did
I was using kaniko to build images which erroneously produced a tarball with a manifest containing null. Surprisingly docker accepted the manifest but... didn't do anything.
This is not outlined in the docker spec but I believe null manife";reference handle combination of tag and digest in ImageDelete;"If you remove an image with digesttag it will fail because it wont
find it in the reference store where digesttag digest. Let's
make sure we do the same in ImageDelete stripping the tag if
digesttag are present.
This is related to and should hopefully fix the winlin build failures ?æ?
cc aaronlehmann johnstep dmcgowan
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2745;cmddockerd sdnotify STOPPING when shutting down;"Signal systemd when we start shutting down to complement the READY notify
that was originally implemented in eb related to 
From sdnotify

STOPPING
Tells the service manager that the service is beginning its shutdown. This is useful
to allow the service manager to track the service's internal state and present it to
the user.

 Description for the changelog

 systemd send sdnotify STOPPING when shutting down

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update dockerdistribution to bebbfadeecb;"This fix updates dockerdistribution to
bebbfadeecb
from
eaaafdfbcdaaed
Changes related to docker issue

Validate insecure registry insecureregistry values PR 

This fix is needed for .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2746;overlay pageSize Fix an offbyone bug;"fixes dockerforlinux Overlay mount fails for larger Dockerfiles when length of dataroot is 
The code was not considering that C strings are NULLterminated so we need to leave one extra byte.
Without this fix the testcase in dockerforlinux fails with
Step RUN echo 
 Running in ddeacbe
Removing intermediate container ddeacbe
 aaa
Step RUN echo 
error creating overlay mount to overlaydabccdcebcffaedddcbdbeabdfinitmerged no such file or directory

with the output of dmesg T as
Sat Dec overlayfs failed to resolve 'overlayeabcabbeabfadbfaefcfaainitwor' 

with this fix you get the expected
Step RUN echo 
 Running in fedae
max depth exceeded


 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Convert script shebangs from binbash to usrbinenv bash;"This is especially important for distributions like NixOS where binbash doesn't exist or for MacOS users who've installed a newer version of Bash than the one that comes with their OS.
 What I did
Swapped binbash for usrbinenv bash.
 How I did it
I used grep sed then manually verified each change as I added it.
 How to verify it
Run the scripts and make sure bash is still invoked ?ÿä
 Description for the changelog

Updated shell script shebangs to use usrbinenv bash instead of hardcoding binbash

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2747;Fix a potential hang when starting after a nonclean shutdown;"What I did
This fixes a hang discovered by Docker Desktop users when migrating to v.. when docker is stopped abruptly which can happen on Windows Restart with WSL restarting could potentially hang.
 How I did it
Previous startup sequence used t";Fix bash completion for logopt mode;"Ref comment 
LKD PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2748;fuseoverlayfs fix godoc;"fuseoverlayfs storage driver had wrong godoc comments that were copied from overlay.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add docs to describe experimental CLI argument squash to docker build;"Signedoffby erxian evelynhsugmail.com
Hi This PR adds docs to describe the experimental CLI argument squash to docker build includes it's problem statement and usage which locates in dockerexperimentaldockerbuildwithsquash.md .
 What I did
 How I did it
 How to verify it
 Description for the changelog
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2749;Fix service job mode filter;"What I did
Previously filtering based on mode would fail with jobs because users expect to filter on mode replicatedjob or globaljob but the filtering code was checking for replicatedjob or globaljob. Now the filter matches the correct mode string.";Allow syncfilerange on supported architectures.;"Using docker .. on a ppcle host running postgres tried with . to . gives the following warning when trying to flush data to disks which happens very frequently 
WARNING could not flush dirty data Operation not permitted.
A quick dig in postgres source code indicate it uses syncfilerange to flush data which on ppele and arm is translated to syncfilerange for alignements reasons.
But docker does not allow syncfilerange making postgres sad because it can not flush its buffers. armsyncfilerange is an ancient alias to syncfilerange the syscall was renamed in Linux .. when the same syscall was added for PowerPC.
This diff make postgres docker and ppcle great again.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2750;Vendor in Libnetwork changes;"Brings in mobylibnetwork
fixes Upgrade to . fails to release ports published to IPv literal addresses
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Force copy on make install to avoid Text file busy error;"When you attempt to manually install docker on a previous install copying binaries will fail with Text file busy error if docker is already running.
Add f to cp will fix this behavior old binaries will be removed before copying the new ones.
This issue has been encountered on ppcle arch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2751;vendor opencontainersselinux v..;"keeping the remove selinux tag changes separate in in case we need the Go . changes into . but not want the buildtag changes
full diff opencontainersselinuxv.....v..

Implement getdefaultcontextwithlevel from libselinux
Wrap some syscalls lgetattr lsetattr fstatfs statfs to retry on EINTR.
Improve code quality by turning fixing many problems found by linters
Use bufio.Scanner for parsing labels and policy confilabelg
Cache the value for SELinux policy directory
test on ppcle and go .

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Inspect output on service without labels is an empty map instead of null fixes;"Added code to output an empty map instead of null by the inspect command for labels of a service that has no labels. Fixes also changes 'null' output to an empty object for other types with labels secret node task network swarm
Signedoffby Arash Deshmeh adeshmehca.ibm.com
 What I did
The output of inspect command for labels of a service that has no labels is currently 'null' which is inconsistent with other objects e.g. inspect output for labels of containers without labels is an empty object . This PR fixes this inconsistency by changing the output to '' when the service has no labels.
 How I did it
Added code which replaces nil labels maps on service objects with an empty map when retrieved by the daemon.
 How to verify it
Create a service
 docker service create name nolabels nginxalpine
Run inspect on the service with Labels specified in format string.


Without this PR
 docker service inspect format ' json .Spec.Labels ' nolabels
null


With this PR included
 docker service inspect format ' json .Spec.Labels ' nolabels



 Description for the changelog
The inspect command outputs an empty json object i.e. instead of null for labels of a service that has no labels
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2752;daemon improve log messages during startup shutdown;"Consistently set container ID as a field for log messages so that logs can be associated with a container.
For example to correlate messages like below
TZ dockerd timeT.Z leveldebug msgcontainer mounted via layerStore varlibdockeroverlayfaeecabadfdcefebabcdfcfbemerged xad xad

With this patch logs look like
INFOT.Z Loading containers start.
DEBUT.Z processing event stream modulelibcontainerd namespacemoby
DEBUT.Z loaded container containerdecfddabcebcfaebcefbcdebc pausedfalse runningfalse
DEBUT.Z loaded container containerffacddeceedadfddbdcc pausedfalse runningfalse
DEBUT.Z loaded container containereccbbcecbaebfbeffecddfad pausedfalse runningfalse
DEBUT.Z loaded container containerdeeeaebeebcbecdecacaaeaffeacd pausedfalse runningfalse
DEBUT.Z loaded container containerddbdcadeebcbacecdbadacc pausedfalse runningfalse
DEBUT.Z loaded container containerbccccfcfbbefadacadebb pausedfalse runningfalse
DEBUT.Z loaded container containerbafbfffafabadbfaaaadbdbfacc pausedfalse runningfalse
DEBUT.Z loaded container containerbfffcfdefbdefcbfbdceaffac pausedfalse runningfalse
DEBUT.Z restoring container containerbfffcfdefbdefcbfbdceaffac pausedfalse runningfalse
DEBUT.Z restoring container containerdeeeaebeebcbecdecacaaeaffeacd pausedfalse runningfalse
DEBUT.Z restoring container containerbafbfffafabadbfaaaadbdbfacc pausedfalse runningfalse
DEBUT.Z restoring container containerbccccfcfbbefadacadebb pausedfalse runningfalse
DEBUT.Z restoring container containerffacddeceedadfddbdcc pausedfalse runningfalse
DEBUT.Z restoring container containerdecfddabcebcfaebcefbcdebc pausedfalse runningfalse
DEBUT.Z restoring container containerddbdcadeebcbacecdbadacc pausedfalse runningfalse
DEBUT.Z restoring container containereccbbcecbaebfbeffecddfad pausedfalse runningfalse
...
INFOT.Z Loading containers done.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix typo;"Signedoffby yupengzte yu.pengzte.com.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2753;Vendor buildkit to v..;"Signedoffby Tibor Vass tibordocker.com
Diff mobybuildkitd...v..

llb make sure fileop uses the platform for current state mobybuildkit
solver delay before discarding job mobybuildkit
fix building from git url without a protocol mobybuildkit not affecting moby
flightcontrol fix possible invalid cancellation mobybuildkit
solver fix slowcache status tracking with preprocess mobybuildkit
handle foreign mediatypes on push mobybuildkit not affecting moby
exporter return config digest when exporting singlearch image mobybuildkit not affecting moby
allow nil return from frontend mobybuildkit

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";implement format for history with docs;"What I did
Adds the format option to the history command. Part of 
 How I did it
Refactored history to use a formatter add the format flag
 How to verify it
Wrote unit tests to check that formatter is working correctly.
 Description for the";0
2754;vendor bump etcd v..;"fixes 
Bump etcd to v.. which includes etcdioetcd
to fix 
Full diff etcdioetcdv.....v..
This is a draft pending a .. release etcdioetcd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove redundant colon introduced by mistake;"Signedoffby allencloud allen.sundaocloud.io
remove redundant colon introduced by mistake thaJeztah pointed out this in pr comment
ping thaJeztah vdemeester
 What I did

remove redundant colon introduced by mistake

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2755;Dockerfile switch to stable dockerfile frontend;"The RUN mount options have been promoted to the stable channel so we can switch from experimental to stable.
Note that the syntax directive should no longer be needed now but it's good practice to add a syntaxdirective to allow building on older versions of docker.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing link in deprecated.md;"This fix adds a missing link in deprecated.md as v.. has been released.
Deprecated In Release v.....

Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2756;vendor opencontainersselinux v.. and remove selinux buildtag and stubs;"followup to 
relates to opencontainersselinux
full diff opencontainersselinuxv.....v..
Remove selinux build tag
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve documentation of Version usage for Swarm API;"This fix is an attempt to improve the documentation of Version usage for Swarm API in Swagger docs.
As is shown in the docs updates Version field in Swarm API is a way to ensure safe concurrency and determinism so that multiple updates to the same swarm related objects Node Service etc will not unintentially overwrite each other.
This fix fixes .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2757;Vendor in libnetwork changes;"Vendor in IPTables fixes
mobylibnetwork
mobylibnetwork
Signedoffby Arko Dasgupta arko.dasguptadocker.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add attachable for network object in swagger api docs;"This fix adds Attachable property for network object in the documentation of Swagger API docs
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2758;Fix converting status code to error canceled;"closes 
 How to verify it
go test errdefshttphelperstest.go
 Description for the changelog
Fix converting status code to error canceled
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker psservice ls filter expose|publish';"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2759;Revert Add multiuser.target to After;"This reverts commit ca
which caused the docker service to not be starting or delayed
starting the service in certain conditions.
relates to introduced in dockerdockercepackaging systemd add multiuser.target to After list
relates to systemctl docker start get stuck in cloudinit
relates to dockerforlinux Docker service not starting in centos .
relates to dockerforlinux Docker . daemon takes minutes to start after reboot
relates to dockermachine Latest docker release .. doesn't work with dockermachine
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service lsstack services format';"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2760;docs add API v.;"This copies the current swagger.yaml to the docs as v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'dockerd defaultshmsize';"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2761;compression add support for the zstd algorithm;"zstd is a compression algorithm that has a very fast decoder while
providing also good compression ratios. The fast decoder makes it
suitable for container images as decompressing the tarballs is a very
expensive operation.
opencontainersimagespec added support
for zstd to the OCI image specs.
Signedoffby Giuseppe Scrivano gscrivanredhat.com
 What I did
added read support for layers compressed with zstd
 How I did it
added a new zstd compression format to pkgarchive
 How to verify it
try pulling an image compressed with zstd e.g. docker pull gscrivanozstdchunkedfedora
 Description for the changelog
support zstd compressed layers
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for docker log options 'maxbuffersize|mode';"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2762;Remove more registry v code carry;"closes 
rebasecarry of with an extra commit to check if preserving some of the fallback behavior fixes the failures on that PR
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for missing 'docker plugin' commands and options;"This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2763;daemon remove migration code from docker . to .;"This code was added in c to fix upgrades from docker . to . with existing containers .
Given that any container after . should have the correct configuration already it should be safe to assume this upgrade logic is no longer needed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker build squash';"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2764;Add fallback for pull by tag;"Some registries seem to be nonconformant and return a not found error
when pulling by digest which docker now does all the time.
To work around this fallback when all of the following are true

Image reference is a tag
Tagdigest resolution succeeds
Fetch by resolved digest fails with a not found error.

This is intentionally not caching the manifests to reduce complexity for
this edge case.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker checkpoint' commands;"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2765;vendor remove vendored golang.orgxtools as it's not needed;"This dependency was added in cdbfbedaddfbfbbeeca but looks like the code was vendored manually or vendored then removed from vendor.conf.
This commit removes the vendored files as they are not needed to build our binaries.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker service logs' command;"ref. 
This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2766;vendor BuildKit daaebfffbecafa;"Followup to .
Also updates containerd comment
EDIT by tiborvass see comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker swarm unlock|unlockkey' commands;"This can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2767;Fix jobsrelated bug in task conversion;NOM;Add zsh completion for missing 'docker swarm init|update' options;"Can be planned for ...
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2768;Dishonoured capabilities test;"What I did
Tests so that the fix in can be verified.
 How I did it
Adds debianbullseye as a frozen image debianbuster doesn't support the n option to getcap.
The test would be much harder to write otherwise and much uglier.
As it sta";Fix both logs commands to correctly handle errors;"NB This PR is a workinprogress and does not contain unit tests it has been submitted for a design and highlevel code review so I don't waste a bunch of time if this fix is barking up the wrong tree
This PR is ready for full review and merging if there are no errors.
 What I did
docker logs is broken I think and has been for a long time. Specifically it's programmed to multiplex many output streams stdout and stderr through one http response and then demux the HTTP response in the CLI. This multiplexing and demultiplexing is done by dockerdockerpkgstdcopy which uses a stdWriter to write and StdCopy to copy to the output streams. StdCopy adds a byte header to the message which describes which stream the log message belongs to stdout or stderr.
In apiserverroutercontainercontainerroutes.go line 
 select 
 case chStarted
 The client may be expecting all of the data we're sending to
 be multiplexed so send it through OutStream which will
 have been set up to handle that if needed.
 fmt.FprintflogsConfig.OutStream Error running logs job v\n err
 default
 return err
 
 

But outstream is not a stdWriter which can handled muxed streams it's just an https.ResponseWriter so the error message gets inserted verbatim into the response from the server no byte header is ever inserted. Then when the response is demuxed by StdCopy it looks at the first byte of that error that was inserted verbatim and sees that it doesn't match any known output stream stdout or stderr and so it returns an error which gets bubbled up to the user and displayed as Unrecognized input header and the numerical representation of the first byte usually which is E as in Error something bad happened
We haven't caught this until now because errors in logging at that stage are very rare but they do happen as evidenced by this google search httpswww.google.comsearchqunrecognizedinputheader
It has become an issue now however because docker service logs used the same errorhandling code verbatim and errors in docker service logs are relatively common.
This PR fixes both docker logs and docker service logs to correctly handle errors that occur while logs are streaming.
 How I did it
StdCopy has been modified to accept another stream header Systemerr which when demuxed causes StdCopy to return an error with whatever was packed into that stream. The container router and service router have both been modified to write to the output stream with a stdwriter muxed to Systemerr.
 How to verify it
Before applying patch do docker service create name test whatever docker service logs test and note the Unrecognized input header error.
After applying patch repeat and note that a real error is displayed.
 Description for the changelog

Fixed rare and esoteric docker logs error and fixed related common but still esoteric docker service logs error.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2769;update containerd binary to v.. CVE;"full diff containerdcontainerdv.....v..
Release notes
Welcome to the v.. release of containerd
The third patch release for containerd . is a security release to
address CVE. See GHSAxwfxcr for more details
GHSAxwfxcr
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add plugin socket related debug docs.;"Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2770;. update containerd binary to v.. address CVE;"update containerd binary to v..
full diff containerdcontainerdv.....v..
Release notes
Welcome to the v.. release of containerd
The ninth patch release for containerd . is a security release to address
CVE. See GHSAxwfxcr for more details
GHSAxwfxcr
update containerd binary to v..
full diff containerdcontainerdv.....v..
Release notes
Welcome to the v.. release of containerd
The eighth patch release for containerd . includes several bug fixes and updates.
Notable Updates

Fix metrics monitoring of v runtime tasks
Fix nil pointer error when restoring checkpoint
Fix devmapper device deletion on rollback
Fix integer overflow on Windows
Update seccomp default profile

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add Aliyun mirror support to hackinstall.sh;"Signedoffby hyzhou.zhy hyzhou.zhyalibabainc.com

Add Aliyun mirror support to hackinstall.sh
I received an email today The https transformation for Aliyun mirror is complete. friism thaJeztah
we will just run this
curl sSL httpsget.docker.com | sh s mirror Aliyun

Tested in Aliyun ECS??ÜUbuntu .?ÇüCentOS.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2771;Networking add regression test for networks endpoint with trailing slash;"relates to 
relates to 
closes 
This adds a regression test for 
make DOCKERGRAPHDRIVERvfs TESTFILTER'TestNetworkList' testintegration

INFO Testing against a local daemon
 RUN TestNetworkList
 RUN TestNetworkListnetworks
 PAUSE TestNetworkListnetworks
 RUN TestNetworkListnetworks
 PAUSE TestNetworkListnetworks
 CONT TestNetworkListnetworks
 CONT TestNetworkListnetworks
 PASS TestNetworkList .s
 PASS TestNetworkListnetworks .s
 PASS TestNetworkListnetworks .s
PASS

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove redundant code and better error msg;"Signedoffby allencloud allen.sundaocloud.io
 What I did

remove redundant code in swarmunlock.go
better volume prune error message

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2772;Use v capabilities in layer archives;"What I did
Fixes 
When building images in a usernamespaced container v capabilities are
stored including the root UID of the creator of the usernamespace.
This UID does not make sense outside the build environment however. If
the image is run";remove unused headers in secretcreate.go;"Signedoffby allencloud allen.sundaocloud.io
 What I did

remove unused headers in secretcreate.go

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2773;Fix permissions oci fixtures;"Fix permission for oci fixture files ie. remove executable bit on these json files
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix some easy typos in cmd D;"Signedoffby Aaron.L.Xu likexuharmonycloud.cn

 What I did fix typo
 How I did it code review
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2774;Skip some root tests;"Hello here are two patches to conditionally skip tests that require root for you to consider.
More context
In Debian we have a patch that skips privileged tests under one big ugly patch httpssalsa.debian.orgdockerteamdockerblobmasterdebianpatchestestskipprivilegedunittests.patch
I'm working on splitting this patch into smaller patches so that I can submit what's relevant here in this PR.
Thanks 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add before the value of PublishedPort;"Signedoffby yupengzte yu.pengzte.com.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
expect

actually

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2775;update containerd binary to v..;"NOTE the Dockerfile currently uses a single version of Golang for all
stages. This means that currently all binaries are built with Go
..x including the containerd binary upstream containerd switched
to use Go ..
full diff containerdcontainerdv.....v..
Release notes
Welcome to the v.. release of containerd
The second patch release for containerd . includes multiple minor fixes
and updates.
Notable Updates

Fix bug limiting the number of layers by default containerdcri
Fix selinux shared memory issue by relabeling devshm containerdcri
Fix unknown state preventing removal of containers containerdcontainerd
Fix nil pointer error when restoring checkpoint containerdcontainerd
Improve image pull performance when using HTTP . containerdcontainerd
Update default seccomp profile for pidfd containerdcontainerd
Update Go to .

Windows

Fix integer overflow on Windows containerdcontainerd
Fix lcow snapshotter to read trailing tar data containerdcontainerd

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add link query in container rm api doc;"Signedoffby allencloud allen.sundaocloud.io

 What I did

add link query in container rm api in swagger.yml
test from docker ..x to ..x same link query is missing add them back to api docs.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2776;vendor libnetwork to fix mix up between IPv and IPv;"Signedoffby Tibor Vass tibordocker.com
Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update FindNetwork to address network name duplications;"What I did
This fix is part of the effort to address comment where issue arise when creating services because of the fact that multiple networks may share the same name within or across localswarm scopes.
 How I did it
The focus of this fix";0
2777;testing update dockerpy ..;"run dockerpy integration tests of the latest release
full diff dockerdockerpy.......
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows make.ps emit commit ID;"Signedoffby John Howard jhowardmicrosoft.com
vdemeester thaJeztah johnstep
Minor followup to the changes to not send the .git directory during a build emits the commit ID in the output which otherwise isn't visible on RS CI
eg before this change
. INFO Building the test binaries at ...
. INFO make.ps starting at 
. INFO Git commit assumed from DOCKERGITCOMMIT environment variable
. INFO Invoking autogen...
. INFO Building daemon...
. INFO Building client...
. 

and after
. INFO Building the test binaries at ...
. INFO make.ps starting at 
. INFO Git commit ffff assumed from DOCKERGITCOMMIT environment variable
. INFO Invoking autogen...
. INFO Building daemon...

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2778;vendor gotest.tools v..;"assert fixes a bug that would cause a panic if there were any
function calls before assert.Check on the same line
golden create the directory if it does not exist when run with
test.updategolden

full diff gotestyourselfgotest.toolsv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Temporarily disable TestBuildLastModified;"Signedoffby John Howard jhowardmicrosoft.com
thaJeztah AkihiroSuda Temporarily fixes Looks like something has changed in the master busybox image so that e is no longer working on ls.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2779;replace json.Unmarshal with NewFromJSON in Create;"fixes 

 What I did
Reuse NewFromJSON to handle no rootfs key situation in imagestore.go to solve the issue in 
 How I did it
Simply replace the json.Unmarshal function with NewFromJSON in imageimage.go
 How to verify it
Running this mainly modified from will show invalid image JSON no RootFS
package main

import 
 github.comdockerdockerimage
 os
 ioioutil
 runtime
 github.comdockerdockerlayer
 fmt



type mockLayerGetReleaser struct

func ls mockLayerGetReleaser Getlayer.ChainID layer.Layer error 
 return nil nil


func ls mockLayerGetReleaser Releaselayer.Layer layer.Metadata error 
 return nil nil


func main
 tmpdir err ioutil.TempDir imagesfsstore
 defer os.RemoveAlltmpdir
 if err nil 
 fmt.Printerr
 os.Exit
 
 fsBackend err image.NewFSStoreBackendtmpdir
 if err nil 
 fmt.Printerr
 os.Exit
 
 mlgrMap makemapstringimage.LayerGetReleaser
 mlgrMapruntime.GOOS mockLayerGetReleaser
 store err image.NewImageStorefsBackend mlgrMap
 if err nil 
 fmt.Printerr
 os.Exit
 
 err store.Createbyte
 if err nil 
 fmt.Printerr
 os.Exit
 

 Description for the changelog

Handle an image json that rootfs key is not present.
 A picture of a cute animal not mandatory but encouraged
?Éò
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add awslogs multiline support;"Signedoffby Justin Menga justin.mengagmail.com

 What I did
This PR adds multiline processing to the AWS CloudWatch logs driver providing functionality similar to the native AWS CloudWatch logs agent.
The feature allows users to optionally specify multiline pattern matching logic using either a regular expression or a Python strftime expression meaning application events that span multiple lines e.g. application stack traces can be published to CloudWatch logs as a single event.
The awslogsmultilinepattern and awslogsdatetimeformat log options have been added

awslogsdatetimeformat defines a multiline start pattern in Python strftime format. This option always takes precedence if both awslogsdatetimeformat and awslogsmultilinepattern are configured.
awslogsmultilinepattern defines a multiline start pattern using a regular expression. This option is ignored if awslogsdatetimeformat is also configured.

 How I did it
Implemented an event buffer that buffers log messages until a new multiline start pattern is matched. As soon as a new event is detected the event buffer is appendedflushed to the preexisting events slice for normal processing using the preexisting batch publishing mechanism.
The implementation will immediately flush the event buffer if the maximum CloudWatch logs event size is reached appending the buffer to the events slice up to the maximum event size.
The implementation also will only buffer up to the batch publishing frequency currently seconds. If a multiline event has been buffered for longer it will be flushed to the events slice for normal processing at the next batch processing ticker. This ensures a multiline message will not be buffered for a long period of time in the scenario where no further messages are sent by the application for an extended period of time the maximum amount of time a message can be buffered is batch publishing frequency or seconds
 How to verify it
Assuming you have AWS access key ID and secret access key with permissions to a preexisting CloudWatch logs group called test in the Docker development container first start up the Docker daemon with AWS permissions
 Make sure we have accurate time
aptget install ntp y
service ntp start

 Compile and install Docker daemon
hackmake.sh binary installbinary 

 Replace with your AWS settings must have permissions to write to the CloudWatch logs group
export AWSREGIONuswest
export AWSACCESSKEYIDxxxxx
export AWSSECRETACCESSKEYxxxxx

 Start Docker daemon with AWS permissions
dockerd D

Next run the examples below...
Example using awslogsmultlinepattern
docker run it rm logdriverawslogs logopt awslogsgrouptest logopt awslogsmultilinepattern'ABCD' mycontainer
With the following container stdout
ABCD First event
Some more lines
Another line
ABCD Second event 

Two CloudWatch log events will be generated
Event 
ABCD First event
Some more lines
Another line

Event 
ABCD Second event 

Example using awslogsdatetimeformat
docker run it rm logdriverawslogs logopt awslogsgrouptest logopt awslogsdatetimeformat'Ymd' mycontainer
With the following container stdout
 First event
Some more lines
Another line
 Second event 
 Third event 

Three CloudWatch log events will be generated
Event 
 First event
Some more lines
Another line

Event 
 Second event

Event 
 Third event

 Description for the changelog

Add AWS CloudWatch Logs multiline processing
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2780;Move container exit state to after cleanup.;"Before this change there is no way to know if container runtime
resources have been cleaned up unless you actually remove the container.
This change allows callers of the wait API or the events API to know
that all runtime resources for the container are released e.g. IP
addresses.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";reference Handle combination of tag and digest in AddReference;"With the switchover to the unified reference package AddReference no
longer does the right thing when passed a reference that has both a
digest and a tag. It would put both the digest in the tag in the
reference stored in the repositories.json file which isn't the right
format and would mean that neither docker run nor docker services
could locate the image. This meant that a simple docker service create
command like docker service create name foo busybox top would create
a service that immediately went into a restart loop because it couldn't
use the image that had been pulled.
Fix AddReference to strip out the tag when both a tag and digest are
specified. We do this because we don't necessarily want to overwrite the
tag when both a digest and tag are specified the tag is only
advisory.
cc dmcgowan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2781;dockerdrootlesssetuptool.sh show more helpful error messages;"What I did
dockerdrootlesssetuptool.sh show more helpful error messages
 How I did it

Print how to show daemon logs
Print a workaround for . This error happens only when Rootless Docker was installed as RPM on Fedora with SELinux enabled.

";Add debug output to manifest list parsing;"Fixes 
Per request for more debug info on how the engine deals with
multiplatform manifest list images this adds information about the
manifest list entries and whether it found an osarch match and the
digest of the match.
DockerDCO.Signedoffby Phil Estes estesplinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2782;vendor github.commobyterm beabbebfdfdffdf;"full diff mobytermfaf...beabbe

Fix windows integer overflow on GOOSwindows GOARCHarm
go.mod github.comcreackpty v..

v.. Add arm support for OpenBSD
v.. Fix CTTY to work with go.


CI fix Go version matrix and drop go . add go .
CI remove sudo to fix incorrect Go versions incorrect PATH GOROOT

 Description for the changelog
 Fix windows integer overflow on GOOSwindows GOARCHarm

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add ..x CHANGELOG to master;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2783;vendor update github.comMicrosofthcsshim v.. back to tagged release;"This switches the hcsshim dependency back to tagged releases instead of the special
moby branch. This makes the dependency align with both BuildKit and containerd
which use these versions.
The switch to the moby branch was done in to bring in a fix for image import without having to bring in additional changes
 comment

We changed to the moby branch for a couple of reasons

Allows us to take this important change without needing to also pull in all
of the other work that has been going on in the repo.
moby uses an older set of APIs exposed from hcsshim based on the HCS v
functionality. Going forwards we have discussed deprecatingremoving these
APIs from the mainline branch in hcsshim so our thinking was we could keep
this moby branch around to ensure we don't break compatibility there.

... Long term the best path here is to get moby using containerd as the
backend on Windows which should alleviate these issues.

full diff httpsgithub.comMicrosofthcsshimcomparedcbffdbaebbaa..v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";print 'worker' join token after swarm init;"the changed was introduced here by mistake fcdiffbfabecdceeaR
cc cyli tonistiigi vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2784;vendor BuildKit v..rc containerd and dependencies;"vendor golang.orgxcrypto cffbffccfcaaabcd
included from 
full diff golangcryptob...cff
relevant changes

pkcs document that we use the wrong PEM type
pkcs drop PKCS attributes with unknown OIDs
ocsp Improve documentation for ParseResponse and ParseResponseForCert
ssh improve error message for KeyboardInteractiveChallenge
ssh remove slow unnecessary diffiehellmangroupexchange primality check

other changes not in vendor

sshterminal replace with a golang.orgxterm wrapper

Deprecates sshterminal in favor of golang.orgxterm


sshterminal add support for zos
sshterminal bump xterm dependency to fix jsnacl
naclauth use Size instead of KeySize for Sum output
sha remove gonocheckptr annotation

vendor github.comtonistiigifsutil fbbefbbfafacadaac
tonistiigifsutilcedf...f

copy use Clonefileat from golang.orgxsysunix on macOS
go.mod update opencontainersgodigest v..
Add github action CI
github test go.

vendor github.comcontainerdttrpc v..
full diff containerdttrpcv.....v..

fix bug failed to assert net error due to error wrap

fixes ttrpc client receive read connection reset by peer unknown


client add UserOnCloseWait function
travis add go .

vendor github.comcontainerdfifo cbcfbbacabfcadacb
full diff containerdfifofa...c

Add OpenFifoDup
use golang.orgxsysunix for dup fixes build on arm

vendor github.comcontainerdcgroups bcffdadddefcdff
full diff containerdcgroupsa...bc

vstats add all fields of memory.oomcontrol
memory remove wrong memory.kmem.limitinbytes check
CI test against Go .

vendor github.comcontainerdcontainerd edcdccedffebadbc
full diff containerdcontainerdde...edc

integrates containerdcri into main containerd repository
seccomp add pidfdopen and pidfdsendsignal
seccomp add pidfdgetfd syscall gated by CAPSYSPTRACE
docker don?ÇÖt hide pusher response error

vendor github.commobybuildkit v..rc
full diff mobybuildkitf...v..rc

dockerfile rename experimental channel to labs
dockerfile build fix not exit when meet error in load config metadata
copy containerd.UnknownExitStatus to local const to reduce dependency graph in client
executor switch to docker seccomp profile
add retry handlers to pushpull
SSHbased auth for llb.Git operations
Allow gateway execing into a failed solve with an exec op
Fix parsing sshbased git sources
Fix sshkeyscan to work with ipv
fix assumption that ssh port must be digits
vendor github.comMicrosoftgowinio v..
vendor github.comtonistiigifsutil v..fbb
vendor containerd v...edcdc
vendor golang.orgxcrypto v..cffbffc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for docker service;"Fixes 
Fixes 
 was cherrypicked into ..x but relied on a prerequisite refactoring eb from that was not present in this branch.
As a consequence it calls dockerdaemonisexperimental instead of dockerisexperimental.
I'm sorry about the confusion that the refactoring caused.
At that time there were quite a few bash completion PRs pending and I forgot to update .
Note This PR is against branch ..x so it can be abandoned if no .. release is created.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2785;. dockerlibnetwork ebaacdeaefcf bump. branch;"Bumping . libnework to address nil deference mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for start checkpoint;"Bash completion for checkpoint was added in .
There was a refactoring between its creation and merge which renamed a helper function used by it.
This PR fixes so that it uses the new helper function.
To trigger the broken behavior

type docker container start 
press tab

Expected result bash completion of options
Actual result a message bash dockerisexperimental command not found is inserted at the cursor position.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2786;vendor dockerlibnetwork bdfbbbaccdeababaafaf;"Bumping libnework to address nil deference mobylibnetwork
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";split dockerapiswarmtest.go into multiple files;"Signedoffby allencloud allen.sundaocloud.io
I found that almost all the api swarm test cases are located in one file dockerapiswarmtest.go including node test service test swarm test task test. The big file makes me feel difficult to write test case and I think it will definitely make it hard to maintain.
Then I hope to split the dockerapiswarmtest.go into several test files dockerapiswarmservicetest.go dockerapiswarmnodetest.go dockerapiswarmsecrettest.go and so on.
 What I did

split dockerapiswarmtest.go into several test file
move dockerapiserviceupdatetest.go into dockerapiswarmservicetest.go

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2787;vendor github.comMicrosoftgowinio v.. was tagged;"Same commit as we were already vendoring so only updating the comment httpsgithub.commicrosoftgowinioreleasestagv..
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the rm error message when a container is restartingpaused;NOM;0
2788;Fix error handling;"closes 
 What I did
added Unwrap
 How I did it
magic
 How to verify it
daf
 Description for the changelog
Fix error handling 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix poule configuration;"Poule configuration is broken by yes that's me.
This is an emergency fix I'll work on having proper validation on the yaml format before merging. In the meantime this one was verified manually
 poule validate repositoryconfig poule.yml 
 repository configuration file is valid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2789;seccomp add pidfd syscalls;"What I did
Added pidfdgetfd open sendsignal syscalls into default seccomp profile closes issue .
 How I did it
By adding syscall names into the json file.
 How to verify it
See dockerforlinux reproduction steps.
 Description for t";plugin check errors;"Signedoffby Antonio Murdaca runcomredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2790;Jenkinsfile remove ee image stage;"The image that's built is not pushed anywhere and is just
building the same as the main image already builds so didn't
add value.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";make secret update support name and id prefix;"Signedoffby allencloud allen.sundaocloud.io
This PR makes daemon support update secret by receiving secret's name. name prefix id and id prefix.
 What I did

when updating secret in daemon daemon gets the secret first by nameid prefix then update the secret.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2791;pkgsystem fix compile on darwin macOS;"relates to dockercli
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add testcase check connect.EndpointConfig not nil;"Signedoffby chchliang chen.chuanliangzte.com.cn
 What I did
In clientnetworkconnecttest.go file func TestNetworkConnectt testing.T add branch check connect.EndpointConfig not nil
 How I did it

 How to verify it
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2792;testutil remove remaining use of deprecated pkgmount;"looks like I missed this one in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump engine API to .;". is used by Docker .. so master should be bumped to .
cc thaJeztah dnephin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2793;daemon unexport internal functions and some minor refactoring;"daemon unexport IsRunningSystemd
This utility was added after . and is only used in the daemon code
itself so we can unexport it until there's an external use for it.
Also updated the description because the runc code already copied it
from coreosgosystemd so better to describe the actual source.


daemon use sync.Once for systemd detection


daemon unexport VerifyCgroupDriver


daemon unexport ModifyRootKeyLimit


daemon move DefaultShimBinary DefaultRuntimeBinary to config package


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Suppressing image digest in docker ps;"Signedoffby Nishant Totla nishanttotlagmail.com
This PR suppresses digest in docker ps requiring the use of notrunc if digest is to be seen.
Without notrunc
 docker ps a
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
ce alpine sleep minutes ago Exited About a minute ago nothing
db alpinelatest sleep minutes ago Exited About a minute ago tag
dfab alpine sleep minutes ago Exited About a minute ago digest
eefc alpinelatest sleep minutes ago Exited About a minute ago taganddigest

With notrunc
 docker ps a notrunc
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
cebfbdabefcbdabdc alpine sleep minutes ago Exited About a minute ago nothing
dbeabdcffdbecbfcadcefbee alpinelatest sleep minutes ago Exited About a minute ago tag
dfabaceffacceabdaef alpineshadfbdaaebcaebdfabddbdfeccbde sleep minutes ago Exited About a minute ago digest
eefcedfacfeceddfffaabddde alpinelatestshadfbdaaebcaebdfabddbdfeccbde sleep minutes ago Exited About a minute ago taganddigest

This follows up from to make behavior consistent with service lsps.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2794;DEL remove useless assert;"remove useless assert keep code clean.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Few daemon duplication refactor;"Few small refactoring to limit duplication where I thought I could. For some part this is more a try to get opinion than a definite refactoring. It is separate in separate commit to ease the review and also to remove if the refactoring doesn't make sense.
The refactor happens mainly in cluster package and at some part of the daemon one.
cc aaronlehmann tonistiigi AkihiroSuda yongtang cpuguy
Hopefully this does not break anything ?æ?
?É?
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2795;use containerdcgroups to detect cgroups v;"libcontainer does not guarantee a stable API and is not intended for external consumers. This patch replaces some uses of libcontainercgroups with containerdcgroups.
relates to containerdcontainerd comment and some other discussions about libcontainer uses
Looks like the remaining uses of libcontainercgroups are now to initialise the cpurt controller and to detect which cgroups are supported for docker info I didn't find equivalents for that yet in containerdcgroups but possibly we can add those
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update SwarmKit to edfbfebdffdfa;"This fix updates SwarmKit to edfbfebdffdfa.
Notable changes since last update cabaaeccdbecd

Fix duplicated ports allocation with restarted swarm. Docker issue 
Topologyaware scheduling Docker PR 

Docker issue was labeled .. though it was advised that related SwarmKit changes only to be merged to master based on the feedback dockerswarmkit comment
This fix fixes master only.
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2796;builder fix detection of experimental stream option deprecated;"fixes 
Commit caec deprecated the experimental stream option for the legacy builder adding an error message is a client attempted to use this feature.
However the detection used the sessionID sessionxxx query parameter which happens to be set automatically by the CLI if it detects that the daemon has session support. Because of this builds fail when trying to perform them on a daemon with the experimental flag set.
This patch changes the detection to look for the remote query parameter which is set to clientsession when using the stream option with the classic nonBuildkit builder.
Before this change running docker build with an older . or older cli against a daemon with experimental enabled caused an error
 dockerd experimental 
 docker pull docker.
 docker run it rm v varrundocker.sockvarrundocker.sock docker. sh c 'echo FROM scratch | docker build '

Sending build context to Docker daemon .kB
Error response from daemon experimental session with v builder is no longer supported use builder version v BuildKit instead

 docker run it rm v varrundocker.sockvarrundocker.sock w foo docker. sh c 'echo FROM scratch Dockerfile docker build stream .'
Error response from daemon experimental session with v builder is no longer supported use builder version v BuildKit instead
With this patch the error only occurs when trying to use the experimental stream option
 dockerd experimental 
 docker pull docker.
 docker run it rm v varrundocker.sockvarrundocker.sock docker. sh c 'echo FROM scratch | docker build '

Step FROM scratch
 
No image was generated. Is your Dockerfile empty

 docker run it rm v varrundocker.sockvarrundocker.sock w foo docker. sh c 'echo FROM scratch Dockerfile docker build stream .'

Error response from daemon experimental session with v builder is no longer supported use builder version v BuildKit instead
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Randomly assigned pull requests after weeks;"Add a daily job to randomly assign pull requests which have been opened for more than two weeks.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2797;to fix comment for apis.extensions.JobCondition;"Nit and no real code here but the comment is erroneous. See
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix outdated JobCondition.Type api comment;"soltysh erictune
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2798;fix master to pass hooksprecommit;"thockin quintonhoole
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix swagger docs;"Some earlier merge broke verifyswaggerdocs so pretty much everything is failing now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2799;integrating labels selector in api step;"bgrant smarterclayton thockin
pkglabelsselector.go the labels.Selector is now a slice of labels.Requirement since the nil of the previous type was a mess.
replaced mapstringstring selector with labels.Selector
in vbeta the selector are stored";Change pod.spec.NodeSelector to full label selector;"This will enable user to take advantage of exists
in notin operators for filtering nodes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2800;Add protection for the pods member varaible.;"Partially addresses 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add a mutex which guards access to pods in Kubelet.;"As per .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2801;Fix cockroachdb statefulset ee test by adding insecure flag;"What this PR does why we need it
This fixes the cochroachdb statefulset ee test which are currently failing httpskstestgrid.appspot.comgooglegcegcigcestatefulsetincludefilterbyregexEOverallCTest
It sets the insecure flag on the cockroackdb command which is needed when no certificates are configured. Full error httpsksgubernator.appspot.combuildkubernetesjenkinslogscikuberneteseegcigcestatefulset
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
I failed to find a related issue.
Special notes for your reviewer
Release note


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix cockroachdb statefulset test readwrite commands;"Explicitly specifying insecure is required on insecure clusters
which started being enforced in a very recent release. In weeks
we'll have a stable image version that we can reliably pin the
relevant statefulset yaml file to in order to avoid stupid failures
like this. I'm really sorry for the flakes
What this PR does why we need it
It fixes the currently broken statefulset test suite httpsstorage.googleapis.comksgubernatortriageindex.htmljobgcigcestatefulsettestCockroachDB
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged
NA
Special notes for your reviewer
NA
Release note
NONE

kowns
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2802;Bare metal loadblancers;"Because fun. thockin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add a binary that links haproxy and kubernetes services;"I know this needs tests. I'll add them before I submit sending for feedback in parallel.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2803;Move pkgvolumetesting.go to pkgvolumetestingfakes.go;"Fix 
It is the convention to use a specific testing directory within the
package. This commit moves the file and also updates all references to
the elements of the package.
Signedoffby mattjmcnaughton mattjmcnaughtongmail.com


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move testonly volume files to testonly volume package;"For 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2804;Do not prompt for gcloud update by default;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use gcloud install instead of gcloud update for components to remove the annoying prompt;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2805;Fix new docker config format for private registries;"Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for .dockerconfig.json in kubelet;"This change adds support in the Kubelet's credentialprovider package for
reading the Docker v. credential keyring which moved to .dockerconfig.json.
Docker's behavior is to read .dockerconfig.json if present and fall
back on reading .dockercfg for backwards compatibility.
The credentialprovider package is designed to produce N keyrings with different
credentials from different sources so the most natural solution is to
simply support reading both .dockerconfig.json and .dockercfg and
blending the keyrings.
Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2806;fix cluster scoped selflink;"Might fix definitely fixes the clusterscoped resource problem. Looks like it was just a typo when compared against httpsgithub.comkuberneteskubernetesblobmasterstagingsrcks.ioapiserverpkgendpointsinstaller.goL
adohe DirectXMan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix incorrect selfLink path;"What this PR does why we need it
Fix incorrect selfLink path when querying resources via REST apiserver.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
The SelfLinkPathPrefix is misconfigured.
Release note


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2807;fix kubelet tls overwrite issue;"lavalamp apply the same thing to kubelet. dchen ptal.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix kubelet tls overwrite bug;"apiserver was fixed in
c
We need to patch up kubelet as well
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2808;update kubectl help output for better organization;"Pull Request Guidelines

Please read our contributor guidelines.
See our developer guide.
Follow the instructions for labeling and writing a release note for this PR in the block below.

 Use the releasenote labels to set the release note state 
 Clear this block to use the PR title as the release note 
OR
 Enter your extended release note here




This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move displaying globalflags to separate help subcommand;"Move displaying globalflags to separate help subcommands and make help command of regular kubectl commands more clear.
Output of new subcommand
 kubectl help globalflags
Global flags are toplevel flags that affect all commands.

List of global flags
 alsologtostderrfalse log to standard error as well as files
 as Username to impersonate for the operation
 certificateauthority Path to a cert. file for the certificate authority
 clientcertificate Path to a client certificate file for TLS
 clientkey Path to a client key file for TLS
 cluster The name of the kubeconfig cluster to use
 context The name of the kubeconfig context to use
 insecureskiptlsverifyfalse If true the server's certificate will not be checked for validity. This will make your HTTPS connections insecure
 kubeconfig Path to the kubeconfig file to use for CLI requests.
 logbacktraceat when logging hits line fileN emit a stack trace
 logdir If nonempty write log files in this directory
 logflushfrequencys Maximum number of seconds between log flushes
 logtostderrtrue log to standard error instead of files
 matchserverversionfalse Require server version to match client version
 namespace If present the namespace scope for this CLI request
 password Password for basic authentication to the API server
 s server The address and port of the Kubernetes API server
 stderrthreshold logs at or above this threshold go to stderr
 token Bearer token for authentication to the API server
 user The name of the kubeconfig user to use
 username Username for basic authentication to the API server
 v log level for V logs
 vmodule commaseparated list of patternN settings for filefiltered logging


Output of help for help command
Help provides help for any command in the application.
Simply type kubectl help path to command for full details.

 Show usage of kubectl
kubectl help

 Show a list of global flags
kubectl help globalflags
 or
kubectl help gf

 Show help for help command. Yes you can do it.
kubectl help help

Additional help topics

Usage
 kubectl help command | STRINGTOSEARCH flags




This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2809;Move CIDR allocation logic away from nodecontroller.go;"Refactoring for 
cc fgrzadkowski wojtekt mqliang
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";split CIDR allocation controller out of NodeController;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2810;GarbageCollector Adding garbage collector controller;"Garbage collector is an alpha feature and is disabled by default. Garbage collector deletes the dependent objects when the owner object is deleted. The ownerdependent relationship is established by setting the metadata.ownerReferences field of the dependent object to the owner object. In . release the metadata.ownerReferences has to be set manually by the user. Garbage collector is disabled by default. It can be enabled by setting the enablegarbagecollectortrue when starting the controller manager.

Adding the propagator and garbage processor of the gc.
Design doc is at httpsgithub.comkuberneteskubernetesblobmasterdocsproposalsgarbagecollection.md


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Print meta.Accessor errors;"meta.Accessor returns some very informative messages that are currently discarded by the caller
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2811;Refactor volume operation log and error messages;"What this PR does why we need it
Adds wrappers for volumespecific error and log messages. Each message has a simple version that can be displayed to the user and a detailed version that can be used in logs. I also tried to cleanup the messages that are used for events.
Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
pkgkubeletvolumemanagerreconcilerreconciler.go can be refactored too. I can do that after this one.
Release note

NONE
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactor volume operation log and error messages;"What this PR does why we need it
Adds wrappers for volumespecific error and log messages. Each message has a simple version that can be displayed to the user and a detailed version that can be used in logs. The messages that are used for events was also cleaned up. msau
Which issue this PR fixes optional in fixes fixes issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
pkgkubeletvolumemanagerreconcilerreconciler.go can be refactored. I can do that refactoring after this one.
Release note
NONE
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2812;Removed unused imports from mesos contrib.;"Removed the unused imports from the main.gos.
Fixes 


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix build errors in contribmesos;"Errors I see
 ks.iokubernetescontribmesoscmdksmexecutor
contribmesoscmdksmexecutormain.go imported and not used ks.iokubernetespkgutil
 ks.iokubernetescontribmesoscmdksmscheduler
contribmesoscmdksmschedulermain.go imported and not used ks.iokubernetespkgutil
 ks.iokubernetescontribmesoscmdksmcontrollermanager
contribmesoscmdksmcontrollermanagermain.go imported and not used ks.iokubernetespkgutil

Signedoffby Doug Davis dugus.ibm.com


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2813;Federationinitd Use the right service names in controller manager.;"Please review only the last commit here. This is based on PR which will be reviewed independently.
Design Doc PR 
cc kubernetessigclusterfederation nikhiljindal


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FederationBugfix Fix some flakes with kubefed init;"this PR is the fix for 
cc kubernetessigclusterfederation madhusudancs nikhiljindal


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2814;Fix reflector test;"Fix 
piosz
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cache return watchHandler errors from reflectors;"Fixes 
xiang wojtekt PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2815;Munger;"thockin these are my latest changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix mungedocs for absolute paths;"chdir into the parent of the docs directory then walk docs.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2816;fix kubectl edit f FILE;"fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Add the ability to edit fields within a config map.;"Fixes 
This reverts commit eca.
 broke edit for all resources other than configmaps
 kubectl edit serviceaccount default
Error from server NotFound configmaps serviceaccount not found

also edit is a generic command we can't add subcommands that claim the configmap space and mess with the things resourcebuilder accepts
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2817;Update etcdclient godep to ..;"This transitively level sets the godeps to yank in the .. client.
Currently WIP bc it required some regen and I had some weird local permissions issue.
xref 
cc xiang mml
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated etcd to .. to remove panic while running TestUpdate with go.;"Following error was coming while running make j test
 RUN TestCreate
 . I | integration launching node unixlocalhostnode.sock.bridge
 . I | etcdserver name node
 . I | etcdserver data dir tmpetcd
 . I | etcdserver member dir tmpetcdmember
 . I | etcdserver heartbeat ms
 . I | etcdserver election ms
 . I | etcdserver snapshot count 
 . I | etcdserver advertise client URLs unix.....sock
 . I | etcdserver initial advertise peer URLs unix.....sock
 . I | etcdserver initial cluster nodeunix.....sock
 . I | etcdserver starting member bee in cluster baadcd
 . I | raft bee became follower at term 
 . I | raft newRaft bee peers term commit applied lastindex lastterm 
 . I | raft bee became follower at term 
 . I | etcdserver set snapshot count to default 
 . I | etcdserver starting server... version .. cluster version tobedecided
 . I | integration launched node unixlocalhostnode.sock.bridge
 . I | membership added member bee unix.....sock to cluster baadcd
 . I | raft bee is starting a new election at term 
 . I | raft bee became candidate at term 
 . I | raft bee received vote from bee at term 
 . I | raft bee became leader at term 
 . I | raft raft.node bee elected leader bee at term 
 . I | etcdserver setting up the initial cluster version to .
 . N | membership set the initial cluster version to .
 . I | api enabled capabilities for version .
 . I | etcdserver published Namenode ClientURLsunix.....sock to cluster baadcd
panic test timed out after ms

goroutine running
testing.startAlarm.func
	usrlocalgosrctestingtesting.go xd
created by time.goFunc
	usrlocalgosrctimesleep.go x

goroutine chan receive minutes
testing.T.Runxceb x xa xc xedb
	usrlocalgosrctestingtesting.go x
testing.runTests.funcxceb
	usrlocalgosrctestingtesting.go x
testing.tRunnerxceb xcd
	usrlocalgosrctestingtesting.go xc
testing.runTestsxcac xeceb x x x
	usrlocalgosrctestingtesting.go x
testing.M.Runxcbf xcf
	usrlocalgosrctestingtesting.go xe
main.main
	ks.iokubernetesfederationregistryclusteretcdtesttestmain.go xe

goroutine syscall minutes locked to thread
runtime.goexit
	usrlocalgosrcruntimeasmppcx.s x

goroutine chan receive
ks.iokubernetesvendorgithub.comgolangglog.loggingT.flushDaemonxedcba
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comgolangglogglog.go x
created by ks.iokubernetesvendorgithub.comgolangglog.init.
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comgolangglogglog.go xfc

goroutine select minutes
ks.iokubernetesvendorgithub.comcoreosetcdwal.filePipeline.runxcdea
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdwalfilepipeline.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdwal.newFilePipeline
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdwalfilepipeline.go xc

goroutine chan receive
ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.MergeLogger.outputLoopxcaa
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.NewMergeLogger
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xc

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdmvccbackend.backend.runxcd
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccbackendbackend.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdmvccbackend.newBackend
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccbackendbackend.go x

goroutine chan receive
ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.MergeLogger.outputLoopxc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.NewMergeLogger
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xc

goroutine sleep
time.Sleepx
	usrlocalgosrcruntimetime.go xf
ks.iokubernetesvendorgithub.comcoreosetcdintegration.cluster.waitMembersMatchxca xceb xcbd x x
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xfc
ks.iokubernetesvendorgithub.comcoreosetcdintegration.cluster.Launchxca xceb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go x
ks.iokubernetesvendorgithub.comcoreosetcdintegration.NewClusterVxceb xcde x
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xc
ks.iokubernetesvendorks.ioapiserverpkgstorageetcdtesting.NewUnsecuredEtcdTestClientServerxceb xcd x x
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorks.ioapiserverpkgstorageetcdtestingutils.go xc
ks.iokubernetespkgregistryregistrytest.NewEtcdStoragexceb xbb xa x x
	rootkubernetesoutputlocalgosrcks.iokubernetespkgregistryregistrytestetcd.go xc
ks.iokubernetesfederationregistryclusteretcd.newStoragexceb xcd xc
	rootkubernetesoutputlocalgosrcks.iokubernetesfederationregistryclusteretcdetcdtest.go x
ks.iokubernetesfederationregistryclusteretcd.TestCreatexceb
	rootkubernetesoutputlocalgosrcks.iokubernetesfederationregistryclusteretcdetcdtest.go x
testing.tRunnerxceb xc
	usrlocalgosrctestingtesting.go xc
created by testing.T.Run
	usrlocalgosrctestingtesting.go x

goroutine IO wait minutes
net.runtimepollWaitxfffaee x x
	usrlocalgosrcruntimenetpoll.go x
net.pollDesc.waitxc x xe xcaa
	usrlocalgosrcnetfdpollruntime.go x
net.pollDesc.waitReadxc xffffffffffffffff x
	usrlocalgosrcnetfdpollruntime.go x
net.netFD.acceptxc x xeab xcaa
	usrlocalgosrcnetfdunix.go x
net.UnixListener.acceptxcdf xabc x xc
	usrlocalgosrcnetunixsockposix.go x
net.UnixListener.Acceptxcdf xdede xcef xcef xca
	usrlocalgosrcnetunixsock.go xc
ks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xff xcdc xcef xaee
	autogenerated x
ks.iokubernetesvendorgithub.comcoreosetcdintegration.bridge.serveListenxcdc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationbridge.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdintegration.newBridge
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationbridge.go x

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdraft.node.runxcd xcdc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdraftnode.go xd
created by ks.iokubernetesvendorgithub.comcoreosetcdraft.StartNode
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdraftnode.go xc

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdlease.lessor.runLoopxcbc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdlease.newLessor
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go x

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdlease.lessor.runLoopxcbcb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdlease.newLessor
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go x

goroutine select minutes
ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.fifo.runxcc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.NewFIFOScheduler
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xac

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdmvcc.watchableStore.syncWatchersLoopxcc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xc
created by ks.iokubernetesvendorgithub.comcoreosetcdmvcc.newWatchableStore
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xc

goroutine select minutes
ks.iokubernetesvendorgithub.comcoreosetcdmvcc.watchableStore.syncVictimsLoopxcc
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdmvcc.newWatchableStore
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xc

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.runxcb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.start
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go x

goroutine select minutes
ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.purgeFilexcb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xc
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Start
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go x

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.monitorFileDescriptorxcd
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdservermetrics.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Start
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xa

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.monitorVersionsxcb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Start
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xc

goroutine IO wait minutes
net.runtimepollWaitxfffa x x
	usrlocalgosrcruntimenetpoll.go x
net.pollDesc.waitxc x xe xceec
	usrlocalgosrcnetfdpollruntime.go x
net.pollDesc.waitReadxc xffffffffffffffff x
	usrlocalgosrcnetfdpollruntime.go x
net.netFD.acceptxcc x xeab xceec
	usrlocalgosrcnetfdunix.go x
net.UnixListener.acceptxcfff xc x xf
	usrlocalgosrcnetunixsockposix.go x
net.UnixListener.Acceptxcfff xf xcfff xef xcae
	usrlocalgosrcnetunixsock.go xc
ks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xce xf xece xebb
	autogenerated x
nethttp.Server.Servexc xe xc x x
	usrlocalgosrcnethttpserver.go xcc
nethttphttptest.Server.goServe.funcxcd
	usrlocalgosrcnethttphttptestserver.go x
created by nethttphttptest.Server.goServe
	usrlocalgosrcnethttphttptestserver.go xc

goroutine IO wait minutes
net.runtimepollWaitxfffa x x
	usrlocalgosrcruntimenetpoll.go x
net.pollDesc.waitxc x xe xceeb
	usrlocalgosrcnetfdpollruntime.go x
net.pollDesc.waitReadxc xffffffffffffffff x
	usrlocalgosrcnetfdpollruntime.go x
net.netFD.acceptxc x xeab xceeb
	usrlocalgosrcnetfdunix.go x
net.UnixListener.acceptxcf xcf x xf
	usrlocalgosrcnetunixsockposix.go x
net.UnixListener.Acceptxcf xf xcf xef xca
	usrlocalgosrcnetunixsock.go xc
ks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxca xcf xf xece xebb
	autogenerated x
nethttp.Server.Servexcdc xe xca x x
	usrlocalgosrcnethttpserver.go xcc
nethttphttptest.Server.goServe.funcxcdaa
	usrlocalgosrcnethttphttptestserver.go x
created by nethttphttptest.Server.goServe
	usrlocalgosrcnethttphttptestserver.go xc

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.raftNode.start.funcxcb
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverraft.go xabc
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.raftNode.start
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverraft.go xb

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.fifo.runxcd
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.NewFIFOScheduler
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xac

goroutine select
ks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpc.monitorLeader.funcxcb xcbd
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpcinterceptor.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpc.monitorLeader
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpcinterceptor.go xac

goroutine IO wait minutes
net.runtimepollWaitxfffafa x x
	usrlocalgosrcruntimenetpoll.go x
net.pollDesc.waitxc x xe xceeb
	usrlocalgosrcnetfdpollruntime.go x
net.pollDesc.waitReadxc xffffffffffffffff x
	usrlocalgosrcnetfdpollruntime.go x
net.netFD.acceptxca x xeab xceeb
	usrlocalgosrcnetfdunix.go x
net.UnixListener.acceptxcfe x xccde x
	usrlocalgosrcnetunixsockposix.go x
net.UnixListener.Acceptxcfe xf xccdf xccdf xcbd
	usrlocalgosrcnetunixsock.go xc
ks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xafe xcaa xe xc
	autogenerated x
ks.iokubernetesvendorgoogle.golang.orggrpc.Server.Servexcaa xe xc x x
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgoogle.golang.orggrpcserver.go x
created by ks.iokubernetesvendorgithub.comcoreosetcdintegration.member.Launch
	rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xc
exit status 
FAIL	ks.iokubernetesfederationregistryclusteretcd	.s

This error basically comes from not receiving any response from the socket address. Socket address generated in the version of etcd being used with kubernetes currently contains '.' character whereas Go. doesn't support '.' character in the socket address. So latest .. version of etcd resolved this problem by generating adresses which does not contain any '.' character. Kubernetes needs to update it's vendored etcd to .. for the above mentioned reason. This pull request takes care of that.
Signedoffby Abhishek Dasgupta aguptalinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2818;Refine kubectl doc;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update kubectl docs.;"Updated the docs for clarity and standardized the examples with leading spaces and for comments. The spaces will affect the doc generation script but should be a positive change overall.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2819;Add locks in HPA test;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the race in podautoscaler test;"Fix using locks to prevent race.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2820;add a return value for remove all test file;"I think we should add a return value tempDir that we can remove all tmp files after the test case over.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cleanup temp dirs;"So funny story my tmp ran out of space running the unit tests so I am cleaning up all the temp dirs we create.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2821;CRI Implement Dockershim Checkpoint;"refer kubernetescommunity
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dont throw error if network is already torn down when deleting container;"Fixes . kubernetessignodeprreviews
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2822;Fixed incorectly displayed min replicas in kubectl get hpa;"cc fgrzadkowski jszczepkowski
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the incorrect min pods when kubectl get hpa;"Fixes 
We recently change HorizontalPodAutoscalerSpec.MinReplicas from int to int and it breaks kubectl get hpa
 kubectl get hpa
NAME REFERENCE TARGET CURRENT MINPODS MAXPODS AGE
frontend ReplicationControllerdefaultfrontendscale waiting s
Fixed it to
 kubectl get hpa
NAME REFERENCE TARGET CURRENT MINPODS MAXPODS AGE
frontend ReplicationControllerdefaultfrontendscale waiting m
cc bgrant jszczepkowski shall we add this fix to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2823;modify loglevel;"I think it's better to log in here as a warning level.Because it may cause the kubeporxy not to work properly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Raise a warning instead of info if brnetfilter is missing or unset;"Took quite a while to figure out why service VIP is unreachable on my cluster. It turns out brnfcalliptables is unset. I wish this message could be a warning to attract considerable attention.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2824;Fix a crash for kubelet when without EtcdClient.;"Authored by dchen commit ef
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Test for and fix crash with nil client in kubelet.;"Added test that fails before fix.
Fixed use of nil pointer.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2825;improve the osx build experience;"give the dockermachine VM more memory and access to all CPU cores
make DOCKERMACHINENAME not readonly beacuse it is set by dockermachine
redirect stderr to ignore unhelpful error messages
unquote 'dockermachine create' argument

I am on OSX and having a difficult time getting started. Is the precommit hook supposed to work on OSX
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Resolve 'readonly variable' warning;"This resolves a cosmetic warning added in when building with Docker Machine. Since DOCKERMACHINENAME was declared readonly when eval dockermachine env DOCKERMACHINENAME was called it would throw a warning when it tried to redeclare DOCKERMACHINENAME.

build..buildcommon.sh line DOCKERMACHINENAME readonly variable

Since dockermachine env is the source of truth for the Docker Machine environment variables I can't see any problem with DOCKERMACHINENAME being mutable.
cc spiffxp any objections
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2826;Fix cadvisorunsupported and the crossbuild;"Resolves a bug in the cadvisorunsupported.go code.
Fixes 
Introduced by 
We should consider to cherrypick this as also was cherrypicked
cc kubernetessigtesting vishh dashpole jessfraz
Fix cadvisorunsupported and the crossbuild



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add rootdir input argument to unsupported cadvisor manager interface;"Fixes builds on nonlinux platforms


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2827;Federation Segregate DNS related code to separate controller;"What this PR does why we need it
This is the continuation of service controller refactor work as outlined in 
This PR segregates DNS related code from service controller to another controller servicedns controller which manages the DNS records on the configured DNS provider.
servicedns controller monitors the federated services for the ingress annotations and createupdatedelete DNS records accordingly.
servicedns controller can be optionally disabled and DNS record management could be done by third party components by monitoring the ingress annotations on federated services. This would enable something like federation middleware for CoreDNS where federation api server could be used as a backend to CoreDNS eliminating the need for etcd storage.
Special notes for your reviewer
Release note
Federation A new controller for managing DNS records is introduced which can be optionally disabled to enable third party components to manage DNS records for federated services.

cc kubernetessigfederationprreviews
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Resolve name collision and separate Run goroutines;"Resolve collision between var name and package name imported move init to New in order to run go Run... and split Run into separated go routines
Release note
NONE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2828;ensure pkgutilmount compiles crosses;"What this PR does why we need it
osx doesn't build
Which issue this PR fixes optional in fixes issue number issuenumber ... format will close that issue when PR gets merged fixes 
Special notes for your reviewer
Release note


move compile time check from linux code to generic code
remove duplication of and to resolve 



This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove duplicated GetDeviceNameFromMount;"The file pkgutilmountmountunsupported.go has the method GetDeviceNameFromMount duplicated

httpsgithub.comkuberneteskubernetesblobmasterpkgutilmountmountunsupported.goL
httpsgithub.comkuberneteskubernetesblobmasterpkgutilmountmountunsupported.goL

I removed the first one because this breaks again the build on OSXMacOS and all the tooling.


This change is 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2829;Add timeout in CLI waiting for autoremove;"This makes sure the CLI doesn't hang in case for whatever reason an
event never comes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Container Wait;"Summary
The goal for this PR is to be able to use the POST containersnamewait API in order to no longer rely on the Events API when doing docker run ... and docker start in attached mode. Here is the set of behavioral changes in the API and CLI


The wait API now has on optional query parameter condition which specifies the state of the container which the client would like to wait for


notrunning
This is the default value which maintains the existing behavior of the Wait API. It blocks if the container is in a state which is considered to be running i.e. any of running paused or restarting. If it is already not in any of those states then it would not block at all and return immediately with the current exit code.


nextexit
This condition allows the client to wait for the container's state to change to a notrunning state or to be removed. This is different from the notrunning option because it will block if the container is in the created exited dead or removing state blocking through a transition to one of the running states and back to one of exited states or until the container is removed whichever comes first. It is similar to waiting for a die or destroy event. This option is very useful to use before issuing a container start API request.


removed
This condition allows the client to wait for the container to be removed. It is similar to waiting for a destroy event.




The Wait API will now return HTTP response headers immediately. This serves an an acknowledgement that a wait has been registered. The JSON response body will not be returned until the wait condition is met.


The Wait API's request context is extended to wait for a http.CloseNotifier event in the case that the client closes the connection while the server is blocked on the wait condition. This prevents leaked goroutines but should only be necessary until we switch to using Go .'s request context which cancels automatically if the client disconnects.


To handle a manual detach when the user enters the detach keys sequence when attached in TTY mode the CLI now detects this key sequence stops sending stdin and causes the CLI to exit immediately. This is done as an alternative to waiting for a detach event. The rug has been pulled out from under this bullet point. This will have to be done in the github.comdockercli repo along with the other CLI changes.


Followup to 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2830;Update runc;"Found some issues when working on which looked unrelated to that PR
but may be related to other changes.
Signedoffby Justin Cormack justin.cormackdocker.com

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update containerd and runc;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2831;Send Name and ID when stating stopped containers;"When docker stats stopped containers client will get empty stats data
this commit will gurantee client always get Name and ID field so
that it can format with ID and Name fields successfully.
Signedoffby Zhang Wei zhangweihuawei.com

This commit fixes panic when execute stats command

use format .Name with all when there're exited containers.
use format .Name while stating exited container.

The root cause is when stating an exited container the result from the
api didn't contain the Name and ID field which will make format
process panic.
Panic log is like this
panic runtime error slice bounds out of range recovered
	panic runtime error slice bounds out of range

goroutine running
panicxbf xc
	usrlocalgosrcruntimepanic.go xa
texttemplate.errRecoverxce
	usrlocalgosrctexttemplateexec.go xad
panicxbf xc
	usrlocalgosrcruntimepanic.go x
github.comdockerdockerclicommandformatter.containerStatsContext.Namexc
x x
	gosrcgithub.comdockerdockerclicommandformatterstats.go
x
reflect.Value.callxbaa xc x xbe x
xbcf x x xdb x ...
	usrlocalgosrcreflectvalue.go xc
reflect.Value.Callxbaa xc x xbcf x x
xc xb xb
	usrlocalgosrcreflectvalue.go xa
texttemplate.state.evalCallxc xbaa xc
x xbaa xc x xfa xcea
xcde ...
	usrlocalgosrctexttemplateexec.go x

Signedoffby Zhang Wei zhangweihuawei.com

Introduced in ping vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix panic in stats format 'table .Name' with no container;"This fix fixes the issue in where stats format 'table .Name' will panic when there is no container available.
The reason for the panic is becuse c.s.Name is out of bound. When there is no container the placeholder is only invoked for the header printout.
This fix fixes the issue.
This fix fixes .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2832;volume create error on conflict option;"fixes 
Signedoffby Kun Zhang zkazuregmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";volumecreate returns error if volume exist;"Signedoffby Deng Guangxing dengguangxinghuawei.com
docker volume
DRIVER VOLUME NAME
local test
 docker volume create name test driver anotherdriver
test

Creating a volume with existing namein different driver would return successfully. This pr will return an error instead
 docker volume create name testdriver anotherdriver
Error response from daemon volume test already exist in driver local
.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2833;Change shm mode to;"Fixes 
DockerDCO.Signedoffby Michael Crosby michaelcrosbymichael.com github crosbymichael
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow access to devshm;"devshm is mounted writable for root only which disallows nonroot processes in the container from using POSIX shared memory IPC.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2834;Fix ADD remote issue. Different file's content hit the same cache;"Force reading of downloaded file contents to obtain the checksum used by cache validation.
DockerDCO.Signedoffby German Del Zotto germndz.com.ar github GermanDZ
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix remote ADD cache processing;"cc amuino you showed me a Dockerfile with a false cache HIT but can't find it. This PR should solve that issue.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2835;Proposal docker ps add fields for ordering and column selection;"apiclientcommands.go Refactor CmdPs to use a fields list of
characters to determine which columns to print on docker ps
invocation.

This adds an ability for the docker command to print the columns of
output in arbitrary order.
This is nominally related to 
Signedoffby Jeff Mickey jcodemac.net
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";docker ps;"This changes makes the default ps output only columns and reflects the wishes of of the comments in the ticket . I have also updated the tests in integrationcli to refect these changes.
Signedoffby Paul Fortin paulcpsoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2836;Fix to avoid a compile error due to float to int truncation with GCCGO;"The unit test pkgunitssizetest.go fails with GCCGO due to a compilation error
inagakiblackupstreamsrcgithub.comdockerdockerpkgunits go version
go version gccgo GCC .. experimental linuxamd
inagakiblackupstreamsrcgithub.comdockerdockerpkgunits go test
 homeinagakiupstreamsrcgithub.comdockerdockerpkgunits
.sizetest.go error floating point constant truncated to integer
 assertEqualst . PB HumanSize.PB
 
FAIL homeinagakiupstreamsrcgithub.comdockerdockerpkgunits build failed
inagakiblackupstreamsrcgithub.comdockerdockerpkgunits

According to the discussion on GCC Bugzilla this is due to the difference between GCCGO and GC in the implementations of floating point constant expression. The language specifies that a compiler raises an error when a floating point constant expression is truncated to integer a precision of the internal representation is implementationdependent. While my workaround is modifying sizetest.go as
assertEqualst . PB HumanSizeintfloat.PB

 is it better to modify the parameter of HumanSize from int to float like BytesSize
Signedoffby Tatsushi Inagaki ejp.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix to avoid a compile error due to float to int truncation with GCCGO;"As part of Power and Z system port compiling docker with latest gccgo compiler.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2837;change url for jfrazellego;"Signedoffby Jessica Frazelle acidburndocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revendor Notary and dockergo;"This updates Notary and updates github.comjfrazellego to be github.comdockergo.
This also includes thaJeztah's changes in which update the notary versions in all the Dockerfiles for different architectures to use the notary tag. This PR bumps the version to docker. instead of docker..
Repeating his comment re the versions here

Dockerfile.aarch uses Golang .. so guess we should be safe there
Dockerfile.armhf uses Golang .. but already used Notary . not sure which version of notary added the Yubico things
Dockerfile.ppcle has notary disabled do we need it enabled in there
Dockerfile.sx mentions after we upgrade to Go .. I don't see a Go version in there only GOTOOLSCOMMIT is that what determins the Go version in that file If so we should probably should not change it

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2838;add cpu.cfsperiodus support;"Signedoffby Ma Shimiao mashimiao.fnstcn.fujitsu.com
We can use this to control cpu period and quota of a container.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adds support for setting cgroup CPU CFS period.;"This allows one to set the cpu period used in cpu quota calculation.
Signedoffby Mrunal Patel mrunalpgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2839;Remove lpthread and ldl from ldflags;"There is no need in those flags now when we use amalgamated sqlite from
mattngosqlite.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";hackmake.sh rm unneeded linker flags;"Flag ldl was added by me in commit aadd. No one including me
noticed that since sqlite is now being built with OMITLOADEXTENTION
see we no longer need ldl.
Flag lpthread was added by crosbymichael in commit ae I can't
figure out why. I tried rebuilding with this flag removed and it's
working just fine so let's assume the flag is no longer needed.

PS ideally these should be two separate commits but let's go wild
This is sort of a followup to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2840;load authConfig only when needed and fix useless WARNING;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Don't output a warning if .dockercfg is missing.;"This file is not needed unless we need to use a private repository or
to send images.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2841;Allow mknod with systemd cgroup implementation;"DockerDCO.Signedoffby Michael Crosby michaelcrosbymichael.com github crosbymichael
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cgroups Allow mknod for any device in systemd cgroup backend;"Without this any container startup fails
 setup mount namespace copy additional dev nodes mknod fuse operation not permitted
DockerDCO.Signedoffby Alexander Larsson alexlredhat.com github alexlarsson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2842;Update instructions to build packages on Debian wheezy;"This should fix issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove distro packaging replace Makefile with Dockerfileshell script;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2843;Fix the bug of docker import command when import a image with a tag use format 'URL| REPOSITORYTAG';"In latest version ..when use command 'docker import' to import a image with a tag use format 'URL|
REPOSITORYTAG'it will return a error message shows that the repository name is invalidfor example
rootlocalhost images tar c . | docker import testv
 Invalid repository name testv only az. are allowed
In previous versionit will parse the Arg which value is 'REPOSITORYTAG' get the REPOSITORY and TAGthen check if REPOSITORY can be resolvedbut in the .. version when import a image with a tag use format 'URL| REPOSITORYTAG'it will check the variable 'repository' which value is Arg directlybut in fact the value of variable 'repository' is 'REPOSITORYTAG' which contains a colon and colon is not in character set az.so the error occurred.
I add codes to call parsers.ParseRepositoryTag function to parse variable 'repository' and return the REPOSITORY which store in variable 'repo'then check the variable 'repo'.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix repo validation in import;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2844;Fix racedeadlock in v plugin handlers;"When a plugin is activated and then plugins.Handle is called to
register a new handler for a given plugin type a deadlock occurs for anything which calls waitActive including Get and GetAll.
This happens because Handle is setting activated to false to
ensure that plugin handlers are run on next activation.
Maybe these handlers should be called immediately for any plugins which
are already registered... but to preserve the existing behavior while
fixing the deadlock track if handlers have been run on plugins and
reset when a new handler is registered.
The simplest way to reproduce the deadlock with Docker is to add a v foo to the test container created for the external graphdriver tests.
ping mavenugo anusharagunathan tiborvass
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";concurrent read and write operations on a map should use lock;"Signedoffby frank yang yybgmail.com
i bumped into a docker panic with version .. and i checked upstream code found that it hasn't been fixed so i commit a pull request to fix it.
raw panic output
fatal error concurrent map read and map write

goroutine running
runtime.throwxdae x
 usrlocalgosrcruntimepanic.go x fpxca spxca
runtime.mapaccessfaststrxad xcdd xcfcbb x xcfcb x
 usrlocalgosrcruntimehashmapfast.go xb fpxcab spxca
github.comdockerdockerpkgplugins.GetAllxbfba xc xcea x x x x
 gosrcgithub.comdockerdockerpkgpluginsplugins.go xf fpxcba spxcab
github.comdockerdockerplugin.FindWithCapabilityxbfba xc xdafae xecffcd xb x x
 gosrcgithub.comdockerdockerpluginlegacy.go xf fpxcc spxcba
github.comdockerdockervolumedrivers.GetAllDriversx x x x x
 gosrcgithub.comdockerdockervolumedriversextpoint.go x fpxcd spxcc
github.comdockerdockervolumestore.VolumeStore.getVolumexceb xcf x x x xcfdd x
 gosrcgithub.comdockerdockervolumestorestore.go xf fpxcf spxcd
github.comdockerdockervolumestore.VolumeStore.createxceb xcf x x x xcaef x x xcaf xcfd ...
 gosrcgithub.comdockerdockervolumestorestore.go xc fpxc spxcf
github.comdockerdockervolumestore.VolumeStore.CreateWithRefxceb xcf x x x xcfc x xcaef x x ...
 gosrcgithub.comdockerdockervolumestorestore.go x fpxcf spxc
github.comdockerdockerdaemon.Daemon.createContainerPlatformSpecificSettingsxc xcddc xcfd xca x x
 gosrcgithub.comdockerdockerdaemoncreateunix.go x fpxcf spxcf
github.comdockerdockerdaemon.Daemon.createxc xcae xc xcfd xca xc x x x x ...
 gosrcgithub.comdockerdockerdaemoncreate.go xf fpxca spxcf
github.comdockerdockerdaemon.Daemon.containerCreatexc xcae xc xcfd xca xc x x x x ...
 gosrcgithub.comdockerdockerdaemoncreate.go xa fpxcc spxca
github.comdockerdockerdaemon.Daemon.ContainerCreatexc xcae xc xcfd xca xc x x x x ...
 gosrcgithub.comdockerdockerdaemoncreate.go xad fpxc spxcc
github.comdockerdockerapiserverroutercontainer.containerRouter.postContainersCreatexcefc xd xcfe xdc xcdfe xcc xcfd xcaf xcfe
 gosrcgithub.comdockerdockerapiserverroutercontainercontainerroutes.go xec fpxc spxc
github.comdockerdockerapiserverroutercontainer.containerRouter.github.comdockerdockerapiserverroutercontainer.postContainersCreatefmxd xcfe xdc xcdfe xcc xcfd x x
 gosrcgithub.comdockerdockerapiserverroutercontainercontainer.go x fpxce spxc
github.comdockerdockerapiservermiddleware.VersionMiddleware.WrapHandler.funcxd xcfe xdc xcdfe xcc xcfd xcd xaaf
 gosrcgithub.comdockerdockerapiservermiddlewareversion.go xc fpxc spxce

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2845;exec docs syntax fix;"The flags must come before the container name.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed the it example;" sudo docker exec ubuntubash it bash  dockerexec failed to exec exec it executable file not found in PATH   sudo docker exec it ubuntubash bash
rootffacc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2846;Prevent DNS server conflicts in CreateBridgeIface;"Fixes 

Read etcresolv.conf and extract listed nameservers. Format them as CIDR blocks ...
Check for conflicts when generating a bridge network block
Add tests to cover extensions in utils and network

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix the conflict between nameserver settings and the network used by bridge interface;"When launching docker in docker on a vm there is a bug that the nested docker may choose a docker network that conflicts with vm's network. This pull request fixes this problem.
Specifically suppose the vm uses ..XX and has ... as its nameserver. The first launched docker will avoid that and choose ... as its network. That is no problem.
When we launch nested docker in the first docker the nested docker only sees the route table of first docker ... so it will choose ... in func CreateBridgeIface as its network. Although there is no conflict between two networks the chosen network of nested docker will conflict with the nameserver ... of original vm.
Thus the network of nested docker can not work well since its dns lookup requests can not reach correct destination.
This commit adds additional check of nameserver settings in func CreateBridgeIface when choosing docker network.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2847;Fix positive case test.;"Signedoffby Allen Madsen blatyogmail.com
 was incorrect. It was testing that two pointers were not equal instead that the structs were equal.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes pointer error;"Fixes 
Signedoffby Paul Mou ppymougmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2848;Check if the container is running if no event;"When there is no event for the container it can happen because of a
crash and the container state on the persistent disk will have a
mismatch between what was in run machine crash .
This situation will create an unkillable container in docker because
containerd does not see it and it is not running but docker thinks it is
and you cannot tell it anything different.
This fixes the issue by checking if containerd has the container running
if we do not have an event instead of just returning.
Fixes the other half of 
Signedoffby Michael Crosby crosbymichaelgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Set container to exit if it has runningtrue state but not alive;"What I did
Fixes 
ping mlaventure
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
Signedoffby Lei Jitang leijitanghuawei.com
 
 
 
";1
2849;Finalize implementation of 'docker build';"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Pass b.config to b.builder.Commit;"Fixes a bug where the final image from docker build would end up without a config section in its json file rendering CMD and EXPOSE inoperable.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2850;make dockerengine RPM configuration backward compatible with older . docker RPMs;"At some point in the conversion from the docker RPM to
the dockerengine RPM the ability to source configuration files
in etcsysconfigdocker etc was lost.
This commit adds them back in.
Specifically this is an issue in the CentOS dockerengine . RPM
referenced on this page httpsdocs.docker.cominstallationcentos
Related issues include







 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Systemd init script should support DOCKEROPTS;"See specifically here. The systemd daemon should support DOCKEROPTS the same as upstart and sysv do.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2851;Rebased Dockerignore;"Close 
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Formatting and consistency fixes to CLI and RUN references;"Removed double backticks.
Reformatted paragraphs.
Fixed consistent STDOUTSTDINSTDERR references.
Fixed several broken URLs.
Fixed backtick mismatches.

DockerDCO.Signedoffby James Turnbull jameslovedthanlost.net github jamtur
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2852;Clean up localhost resolv logic and add IPv support to regexp;"Addresses 
This cleans up an error in the logic which removes localhost resolvers
from the host resolv.conf at container creation start time. Specifically
when the determination is made if any nameservers are left after
removing localhost resolvers it was using a string match on the word
nameserver which could have been anywhere including commented out
leading to incorrect situations where no nameservers were left but the
default ones were not added.
This also adds some complexity to the regular expressions for finding
nameservers in general as well as matching on localhost resolvers due
to the recent addition of IPv support. Because of IPv support now
available in the Docker daemon the resolvconf code is now aware of
IPv enabledisable state and uses that for both filtercleaning of
nameservers as well as adding default Google DNS IPv only vs. IPv
and IPv if IPv enabled. For all these changes tests have been
addedstrengthened to test these additional capabilities.
DockerDCO.Signedoffby Phil Estes estesplinux.vnet.ibm.com github estesp
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix up nameserver localhost detection;"The current code only cares about ... but lets the equally
devestating through. That needs fixing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2853;Error on missing in docker host.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix add checktest for localhost in ParseHost;"Fixes adds a test case for addr set to localhost.
DockerDCO.Signedoffby Jessica Frazelle jessdocker.com github jfrazelle
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2854;overlayfs search for upstream filesystem name;"upstream switched the word from overlayfs to overlay.
httpsgit.kernel.orgcgitlinuxkernelgittorvaldslinux.gitcommitidefbdedbebbdedfeb
Ping jfrazelle tiborvass unclejack
Might should be cherrypicked since . will release during the docker.. cycle
Signedoffby Vincent Batts vbattsredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rename overlayfs to overlay;"Since Linux .rc overlayfs has been renamed overlay.
This change was introduced by the following commit in linux.git
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2855;hackinstall.sh Add Linux Mint support;"Linux Mint is based off Ubuntu. The above change renames the lsbdist and distversion
variables to the correct Ubuntu version Linux Mint was built on.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add support for installing on Linux Mint;"Resolves error message about unsupported platform.
Linux Mint is a Linux distribution based on Ubuntu and Debian.
Starting with Mint and continuing until every release of
Linux Mint will be built on Ubuntu . LTS.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2856;Fix GET containersjson emtpy response regression;"GET containersjson route used to reply with and empty array when no
containers where available. Daemon containers list refactor introduced
this bug by declaring an empty slice istead of initializing it as well
and it was now replying with null.
Signedoffby Antonio Murdaca runcomlinux.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix regression in v...containersjson for empty array;"Reported as dockercompose
I believe f broke the API return value for v...containersjson when the response is empty. It should be an empty json array currently it returns null.
areaapi
kindbug
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2857;Fix bundle dir for integrationcli;"What I did
test.main was unexpectedly created under dockerintegrationclibundlesVERSIONtestintegrationcli directory.
This commit moves test.main to dockerbundlesVERSIONtestintegrationcli.
cherrypick httpsgithub.comdockerdockerpull";Carry ?Çö Do not require .git in the build context;"Carry and hopefully fixes builds ?æ?.

Add .git to .dockerignore
export DOCKERGITCOMMIT in the Makefile
prioritize DOCKERGITCOMMIT against the git command in
.hackmake.sh
Also add integrationclibundles to gitignore it's generated when
using integrationcli shell

Note that on my laptop for example I'm sending M of context with this and M without so I really think this can be a huge win 
cc tianon jhowardmsft icecrime thaJeztah cpuguy
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2858;Do not commit after ARG dockerfile command;"Since the ARG Dockerfile command doesn't change anything in the image
we're building there's no point in committing anything after processing
the command.
Signedoffby Doug Davis dugus.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";dockerfile Allow ARG in FROM;"Fixes 
This has been a major pain point for building from common base images. There's no way to build a base image with a unique tag git sha is a common one and then build app specific images from that tag.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2859;notary delegation integration into docker;"Adds newest notary code into docker which includes delegations.
Docker changes

We prioritize a releases delegation role as a highest priority but fall back to the targets role if the releases delegation role does not exist
Update integration tests to comply with new notary error formats and server configuration format

Notary changes

Also introduces remote snapshot signing the snapshot key will be maintained on the server to allow for delegation functionality
Key role information is now included in PEM headers rather than as a suffix on the key filename but the code is backwards compatible with older keys on old reposclients
Command line key rotation for a single key andor having the server manage the snapshot key

Caveats

Old clients cannot push to repos created or updated by new clients
Old clients cannot read keys on new repos created by new clients

Signedoffby Riyaz Faizullabhoy riyaz.faizullabhoydocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update notary and reenable on arm;"See discussion in 
Notary now builds on arm so reenable build and make all
releases use the same version.
Signedoffby Justin Cormack justin.cormackunikernel.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2860;Fix plugin file descriptor leaks;"Ping cpuguy
This PR fixes a newly discovered issue where the retrieval of available plugins would cause file descriptor leaks. This issue is documented here rexrayrexray.
The problem becomes worse as documented in dockerarchiveclassicswarm with Swarm since it constantly issues List calls. This eventually and quickly causes open files problems.
The following is an example of the old behavior where a List or Get would result in newly initialized plugins and more file descriptors note the and .
rootlocalhost vagrant docker volume lssudo lsof |grep rexray.sock|wc l
DRIVER VOLUME NAME
local ikdiididid
local ikdiidididiiii
rexray acabacadd
rexray 
rexray ffebaef
rexray defeacebaccbd
rexray aafcfbbafedcf
rexray ccafdddadfa
rexray bdacaa
rexray testabc
rexray testabc

rootlocalhost vagrant docker volume lssudo lsof |grep rexray.sock|wc l
DRIVER VOLUME NAME
local ikdiididid
local ikdiidididiiii
rexray acabacadd
rexray 
rexray ffebaef
rexray defeacebaccbd
rexray aafcfbbafedcf
rexray ccafdddadfa
rexray bdacaa
rexray testabc
rexray testabc


The following is a trace after to List methods which shows the rexray.sock being opened initialized twice lstat stat connect getpeername.
 lstatrundockerpluginsrexray.sock stmodeSIFSOCK| stsize ... 
 statrundockerpluginsrexray.sock stmodeSIFSOCK| stsize ... 
 connect safamilyAFLOCAL sunpathrundockerpluginsrexray.sock 
 getpeername safamilyAFLOCAL sunpathrundockerpluginsrexray.sock 
 lstatrundockerpluginsrexray.sock stmodeSIFSOCK| stsize ... 
 statrundockerpluginsrexray.sock stmodeSIFSOCK| stsize ... 
 connect safamilyAFLOCAL sunpathrundockerpluginsrexray.sock 
 getpeername safamilyAFLOCAL sunpathrundockerpluginsrexray.sock 

This is after the fix consistently there are the same amount of descriptors open.
rootlocalhost vagrant docker volume ls sudo lsof |grep scaleio|wc l
DRIVER VOLUME NAME
scaleio test
scaleio test
scaleio test
scaleio testabc

rootlocalhost vagrant docker volume ls sudo lsof |grep scaleio|wc l
DRIVER VOLUME NAME
scaleio test
scaleio test
scaleio test
scaleio testabc


Signedoffby Clinton Kitson clintonskitsongmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Avoid calling Plugin.Activate on every 'List' call;"Please provide the following information

What did you do
How did you do it
How do I see it or verify it
A picture of a cute animal not mandatory but encouraged

When docker is used with swarm 'List' is called often and
plugins.GetAll is called every time during this. Since GetAll
uses loadWithRetry method the plugin is initialized more than once.
This leaves a lot of connections to the plugin open and resulting on
Plugin.Activate called more than once
This patch uses plugins.Get method which does what is needed from this
API
Closes 
Signedoffby Babu Shanmugam babu.shanmugamgmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2861;Fix testunit run without parallel;"Testunit fails when running without parallel because BUILDFLAGSFILE is not created in this conditional branch. This PR moves the code outside of the conditional expression.
Signedoffby Fabiano Rosas farosasbr.ibm.com
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make testunit work without parallel;"Closes 
You can test by removing parallel from the Dockerfile and running make testunit
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2862;WIPmake remove multiple secret run normally;"fix 
 What I did

make getCliRequestedSecretIDs returned slice have equal length of input slice
add a secret remove test file

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
Signedoffby allencloud allen.sundaocloud.io
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Move secret name or ID prefix resolving from client to daemon;"What I did
This fix is a follow up for comment
 comment
Currently secret name or ID prefix resolving is done at the client side which means different behavior of API and CMD.
cc thaJeztah ehazlett allencloud
 How I did it
This fix is a fo";1
2863;cherrypick runc install path changed from usrlocalbin to usrlocalsbin;"cherrypick into master
fixes 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update path used for copying runc during debrpm generation;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

This should fix the docker automatic experimental build generator.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2864;DON'T PANIC when migrating to native drivers with lxcconf.;"Addresses .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix panic in monitor;"If you do a while true do docker run ubuntu ls done let it run for a while and ctrlc the daemon.
When you restart the daemon you'll get a panic.
We already fixed a bug like this in httpsgithub.comvieuxdockerblobdfcaadbcbcfbcdaruntimecontainer.goL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2865;Update the docker attach section of the Hello World example;"This removes the description about sigproxytrue from the example in Hello World. I removed this from the example because it is not currently being used in the example when you use docker attach. Having the description for an option that is not being used in the Hello World example is confusing for new learners of Docker.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove explanation of removed argument;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2866;Fix compilation errors with btrfsprogs.;"btrfsprogs. introduces device delete by devid
for this reason btrfsioctlvolargsv's name was encapsulated
in a union
this patch is for setting btrfsioctlvolargsv's name
using a C function in order to preserve compatibility
with all btrfsprogs versions
Signedoffby Julio Montes imc.codergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";daemon graphdriver btrfs use kernel structures;"In an update for libbtrfsdevel the ioctl structure
C.structbtrfsioctlvolargsv was changed such that one of the fields
used in the Go code were in a union. Since Go doesn't support unions
this caused Docker to not compile.
By using the kernel definition which is guaranteed to never change
thanks to Linus' fanatical obsession to backwards compatibility we can
ensure that Docker will build no matter what changes are made to other
headers.

Signedoffby Aleksa Sarai asaraisuse.de
Image source httpswww.flickr.comphotoswwarbyinpoolcreativecommonsfreepictures
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2867;Use defaultdocker when starting with systemd;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix DOCKEROPTS not being honored on debian . Fixes;"Adds the default environment file etcdefaultdocker to the default systemd configuration and applies the DOCKEROPTS variable to the daemon options.
This fixes DOCKEROPTS not applying properly on debian without hacking this file.
See 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2868;Add DOCKERHOST env var for client;"This env var will set the H flag on the docker
client.
This is the same as doing
docker H ps
 or
export DOCKERHOST
docker ps
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding support for Environment variable arguments;"is good to allow for config via environment variables for the cli to reduce keypress by user. Starting simple and just adding support for setting the Host which is the one that I do a lot .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2869;Fix Interactive container hangs when redirecting stdout;"These two commits fix both

docker run rm i ubuntu cat etcpasswd | grep root should not hang issue 
docker events tmpout should not print control characters to nonterminal STDOUT commit ba

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix check for terminal output.;"Previously ba fixed which stream was being checked but the
surrounding check for whether it is nil was testing the wrong
variable.
Signedoffby Ewen CheslackPostava meewencp.org
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2870;Use SSL to fetch the GPG key;"If we're going to use curl then at least over https
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use https when fetching Docker's GPG key;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2871;Remove daemon dependency from apiserver.;"I think those are the last references to the daemon package we have in the api ?Äë

Move routers initialization to the docker package.
Extract inspect types for docker exec.
Remove coupling between server reload and daemon config.

??£ docker gitremovelastdaemonreferences ag 'dockerdaemon' api
??£ docker gitremovelastdaemonreferences

Signedoffby David Calavera david.calaveragmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Split api cleanup;"little cleanup things.

seeing deamon in the image router was personally irritating.
using the interface return value matches ContainerInspect and was in the original but I'm not sure why it was dropped from 

With this the only reference to the daemon is in apiserverserver.go
Still some references to builder but mainly involving the calculation of context and context handling. Maybe that functionality should become a pkg for reuse.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2872;Update ps.rst;"I think that this update is correct.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Switch to getopt;"Switch to getopt feel free to add suggestions. I probably missed many reference in the documentation.
So now it support short p long port version and multiple short docker run it ubuntu bash
Most of the multi letters options we previously have notrunc only have long version notrunc
Otherwise it's pretty much the same.
Regarding the help I think I didn't change the way it works
docker help or docker h display the usage daemon mode
docker help display the usage client mode with the list of commands
docker help ps display the usage of docker ps
docker ps help or docker ps h displays the usage of docker ps
shykes creack crosbymichael keeb please take a look when you have time
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2873;Use specParts for volumes from id;"DockerDCO.Signedoffby Michael Crosby michaelcrosbymichael.com github crosbymichael
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix volumesfrom mount failure;"As explained in 
volumesfrom fails with ENOFILE errors.
This is because the code tries to look at the from volume without
ensuring that it is mounted yet. We fix this by mounting the containers
before stating in it.
DockerDCO.Signedoffby Alexander Larsson alexlredhat.com github alexlarsson
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2874;update recommended kernel in checkKernel;"We already changed docs 
Should change code as well.
Signedoffby Qiang Huang h.huangqianghuawei.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Check Linux kernel version .;"Should fix according to unclejack comment.

Add a build flag nokernelcheck for disabling the check useful for
CentOSRHEL for example.
The check is done only for the daemon part in the main.
First time I fiddle around the buildflags ?áand I'm not sure the name of file I choosed are right.
Wasn't sure how to provide tests on this ?ÿó.
Should probably add documentation right 
Should probably do something upstream for CentosRHEL too right 

?ÿë ?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2875;Update in daemon.restore the last fields of globalMap in portallocator;"Fixes 
DockerDCO.Signedoffby Tibor Vass teabeegmail.com github tiborvass
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Always mark as stopped for non running containers;"Fixes 
DockerDCO.Signedoffby Michael Crosby michaeldocker.com github crosbymichael
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2876;Do not ping registry from the cli;"Fixes 
This a problem because the cli was pinging the registry to inspect the transport if not provided. I moved this to the daemon so that all requests to the registries flow thought the daemon. This is true for every command even login expect for this first ping if a registry was provided.
DockerDCO.Signedoffby Michael Crosby michaelcrosbymichael.com github crosbymichael
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix registry auth and remove other hidden ping commands from client code;"This fix addresses and finishes SHA eeace
Solution discussed with crosbymichael on IRC.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2877;Allow RHEL init script to detect daemon start pid failure;"If you have some kind of bogus otherargs in etcsysconfigdocker the start script will report started but it's full of lies. This enhances the flow so that if the pidfile never shows up failure to start you get a proper failure message.
I also added dots for fun.
Signedoffby Jeff Minard jeff.minardcreditkarma.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Return failure if docker pid file still not exists after waiting dock?Çª;"?Çªer to start for seconds
Signedoffby Chun Chen ramichentencent.com
I've seen several times that service docker start succeeds even docker daemon fails to start and I think its reasonable to choose failure rather than success if daemon can't create pid file after seconds waiting.
Before
rootdocker datahomegaiachenchun service docker start
Starting docker via systemctl OK 
rootdocker datahomegaiachenchun 
rootdocker datahomegaiachenchun docker ps
FATA Get httpvarrundocker.sockv.containersjson dial unix varrundocker.sock no such file or directory. Are you trying to connect to a TLSenabled daemon without TLS

After
rootdocker datahomegaiachenchun service docker start
Starting docker via systemctl Job for docker.service failed. See 'systemctl status docker.service' and 'journalctl xn' for details.
 FAILED
rootdocker datahomegaiachenchun 
rootdocker datahomegaiachenchun systemctl status l docker.service
docker.service LSB start and stop docker
 Loaded loaded etcrc.dinit.ddocker
 Active failed Result exitcode since Tue CST s ago
 Process ExecStartetcrc.dinit.ddocker start codeexited status

Aug docker docker Redirecting to binsystemctl status cgconfig.service
Aug docker docker Starting docker FAILED
Aug docker docker varrundocker.pid not exists after waiting docker to initialize for seconds probably something is wrong you can check docker logs at gaiadockervarlibdockerdocker ...
Aug docker systemd docker.service control process exited codeexited status
Aug docker systemd Failed to start LSB start and stop docker.
Aug docker systemd Unit docker.service entered failed state.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2878;Move integrationservertest tests to integrationcli;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Port test from integration tests to integrationcli;"Addresses 
Signedoffby Srini Brahmaroutu srbrahmaus.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2879;Make docker cp bindmount volumes;"Allows docker cp to work seamlessly and a lot more cleanly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix copying file from overlay volume path;"docker run v alayer v blayerlayer XXX
docker cp ContainerIDlayerlayerxxx failed with
FATA Error response from daemon Could
not find the file layerlayerxxx in container.
This commit fix this.
Signedoffby Deng Guangxing dengguangxinghuawei.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2880;Image checksums computed using tarsum v;"DockerDCO.Signedoffby Josh Hawn josh.hawndocker.com github jlhawn
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";image don't use the dev version of TarSum;"ping jlhawn ...
Signedoffby Vincent Batts vbattsredhat.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2881;Handle nonascii package names in state.formatlog;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes unicode encoding bug where unicode strings were passed;"What does this PR do
When I tried to install microsoft office from a state I got a traceback and a failed state.
What issues does this PR fix or reference
I thought I saw an issue for this but I can't seem to find anything when I google now.
Previous Behavior
WHen I try to install MS Office I get the following error.

The minion function caused an exception Traceback most recent call last
File C\salt\bin\lib\sitepackages\salt\minion.py line in threadreturn
returndata executor.execute
File C\salt\bin\lib\sitepackages\salt\executors\directcall.py line in execute
return self.funcself.args self.kwargs
File C\salt\bin\lib\sitepackages\salt\modules\state.py line in apply
return slsmods kwargs
File C\salt\bin\lib\sitepackages\salt\modules\state.py line in sls
ret st.state.callhighhigh
File C\salt\bin\lib\sitepackages\salt\state.py line in callhigh
ret dictlistdisabled.items listself.callchunkschunks.items
File C\salt\bin\lib\sitepackages\salt\state.py line in callchunks
running self.callchunklow running chunks
File C\salt\bin\lib\sitepackages\salt\state.py line in callchunk
runningtag self.calllow chunks running
File C\salt\bin\lib\sitepackages\salt\state.py line in call
formatlogret
File C\salt\bin\lib\sitepackages\salt\state.py line in formatlog
'''\n'.formatpkg old new
UnicodeEncodeError 'ascii' codec can't encode character u'\xf' in position ordinal not in range

 New Behavior
The state finishes with no traceback. The intended strings appear in the log messages. I used the mcbs codec for python . In windows powershell the nonascii characters don't come out right but the only two reasonable choices for codec at this point are mcbs and utf and neither of them are giving a perfect result. Anyway I wouldn't know how to improve on the situation. I left the strings alone in python .


 Tests written

No

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2882;Set newrev var to avoid reference before assignment;"Resolves a concern raised by jasonrm in . This should also make ready to close.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixe git.latest testtrue changes check;"Thanks jasonrm for pointing out the problem.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2883;Remove epoch from version string if present when installing with yum;"yum install does not support epoch without the arch and we won't know
what the arch will be when it's not provided. It could either be the OS
architecture or 'noarch' and we don't make that distinction in the
pkg.listpkgs return data.
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";RPM epoch is not part of the pakage name;"What does this PR do
Fixes a bug related to RPM epoch
What issues does this PR fix or reference
Previous Behavior
If the epoch was set it was used as part of the package name. For example in case for package X epoch version.. and release it was trying to install X.. instead of X..
New Behavior
It ignores the epoch when constructing the package name
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2884;Make the value extraction a little smarter.;"The previous method of splitting on then removing had the problem of leaving a trailing new line making the makeconf.present state always fail if given a valid comparison. It would also fail to cope with inline comments and leadingtrailing whitespace.
This code isn't foolproof but works as long as there's no quotes in the comment or the string isn't quoted but the comment does have a quote in it.
This is primarily a bug fix so I've submitted it against the . branch but it will want cherry picking over.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";getvar in makeconf returns value with '\n' suffix;"Since commit a makeconf.present state raises an error when trying to set a variable with a specified value because getvar in makeconf module returns value with '\n' suffix and comparaison between old value and new one is always false
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2885;iptables append rejectwith after jump;"Fixes .
Fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Be more explicit when passing in family;"Fixes .
basepi please cherry pick.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2886;Fix traceback in salt.utils.network.getfqhostname;"This traceback occurs when the lookup fails in some way raising an
exception.
This code is only in develop and does not need to be cherrypicked.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added tryexcept to use old socket.getgqdn if socket.getaddrinfo fails;"References 
Added a tryexcept to network.getfqhostname to handle the thrown exception in gethostbyname when sockets.getaddrinfo fails.
Some basic tests are forthcoming.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2887;factorize call;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make scriptssaltapi call salt.scripts.saltapi;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2888;Fix for crossplatform sysctl with test and custom config location when using systemd;"When using a custom config path for sysctl states it would fail with an IOError
as it was looking for the defaults which also may not exist as shown below

 ID net.ipv.tcpkeepaliveintvl
Function sysctl.present
 Result False
 Comment An exception occurred in this state Traceback most recent call last
 File usrlibpython.sitepackagessaltstate.py line in call
 cdata'kwargs'
 File usrlibpython.sitepackagessaltstatessysctl.py line in present
 configured salt'sysctl.show'configfileTrue
 File usrlibpython.sitepackagessaltmoduleslinuxsysctl.py line in show
 for line in salt.utils.fopenconfigfilepath
 File usrlibpython.sitepackagessaltutilsinit.py line in fopen
 fhandle openargs kwargs
 IOError Errno No such file or directory 'etcsysctl.dsalt.conf'

The corresponding state had a config file specified that was ignored. But this would hold true for any
minion meeting the systemd conditions and not having salt.conf. Now for normal highstate runs the current
and configured options are not run unless test is specified and if the configured check returns none the
user will be notified that there was an issue reading the defaultspecified file.
Platforms other than linux also appeared to not have the configfile argument for show that would have probably I did not verify bail out with argument number errors during normal runs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";sysctl use user provided config if any;"After upgrade to .. sysctl states will show a message like this 
Sysctl value is currently set on the running system but not in a config file.
But we have provide a config file when define state for salt.states.sysctl.present. After check the code we found current module will always use the default config to check present. This pull request is intend to fix the bug please review thanks.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2889;nodedata is a libcloud Node instance which is unsubscriptable;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bug fix for nodedata is an object of type Node not a dictionar...;"It looks to me like the conn.createnode returns an object of type Node but it is treated as a dictionary on line . Hopefully this is a fix for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2890;Fix lint issues;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";saltclientraetinit.py fix spacing per pylint;"Module salt.client.raet.init
saltclientraetinit.py Cbadwhitespace No space allowed around keyword argument assignment
 name 'client' yid

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2891;Fix pacman.listupgrades for new pythonshell default.;". sets the default for pythonshell to False so the pipe used in
pacman.listupgrades no longer works. The egrep invocation after the
pipe has the effect of skipping the first output line which is an
informational message. Instead of piping to egrep we simply skip the
first line of output when parsing for the available upgrades.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add pythonshellTrue to pacman.listupgrades;"Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2892;salt utils aws encoding fix;"What does this PR do
requests api says Response.encoding can sometimes be None httpdocs.pythonrequests.orgenmasterapirequests.Response.encoding and result.text.encode doesn't accept None expects a string.
this change prevents unexpected type exceptions and defaults the encoding back to 'utf' the default prior to 
What issues does this PR fix or reference

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";default to utf encoding if not specified;"What does this PR do
On errors for some reason AWS does not always have an encoding on the
message. Default to 'utf'.
What issues does this PR fix or reference

Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2893;Revert Fixes secgroup return for ECVPC;"As described in this change is dangerous and should be reverted.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert Fixes secgroup return for ECVPC;"This will break other things so it should be reverted.
By making the documentation more clear and adding some extra examples would avoid this issues.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2894;Prevent DBusException when snapper module is loaded and dbus is not running;"What does this PR do
This PR fixes the snapper execution module and prevents from DBusException when loading the snapper module. e.g. dbus is present but is not running
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bugfix prevent snapper module crash on load if no DBus is available in the system;"What does this PR do
Bugfix
What issues does this PR fix or reference
If an OS has no DBus installed but does have python bindings to it installed then the module crashes while loading.
Previous Behavior
salt.modules.snapper crashes if no DBus installed.
New Behavior
salt.module.snapper shows the following error in the log instead
ERROR org.freedesktop.DBus.Error.NoServer Failed to connect to socket varrundbussystembussocket Connection refused

Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2895;Restore old refresh logic;"This was erroneously changed in aa causing a refresh to not be
performed when refresh is set to None or not passed to
pkg.latestpkg.installed states.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert refresh logic in pkg to to do it once per run;"The change happened in aa. Previously package db refresh happened once per run but after the change it does not happen anymore if you don't specify refreshTrue explicitly.
Closes .
Here's how to verify

.. one aptget update

 docker build t salt q buildarg SALTVERSION. devnull httpsgist.githubusercontent.combobrikeceabdfbafcrawbbddbefbfeabcfcfbedDockerfile docker run rm it salt saltcall l info local state.sls test | fgrep aptget
shacffecafecdcafcdeeffcefebbbe
INFO Executing command 'aptget q update' in directory 'root'
INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'htop' in directory 'root'
INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'strace' in directory 'root'


.. no aptget update

 docker build t salt q buildarg SALTVERSION. devnull httpsgist.githubusercontent.combobrikeceabdfbafcrawbbddbefbfeabcfcfbedDockerfile docker run rm it salt saltcall l info local state.sls test | fgrep aptget
shaecbaaadacbdbaafd
INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'htop' in directory 'root'
INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'strace' in directory 'root'

I also found out that docs for v.. are much better

 httpsdocs.saltstack.comen.refstatesallsalt.states.pkg.htmlsalt.states.pkg.latest
The problem is I can't find these docs in .. or in develop. I can't even see them in v.. in git. How did that happen
cc secumod twangboy hrumph DenisBY jfindlay.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2896;yumpkg Ignore epoch in version comparison for explict versions without an epoch;"Also properly handle comparisions for packages with multiple versions.
Resolves 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix epoch handling for rpm. If epoch is given it is also required in ?Çª;"?Çªversion checks. The previous behaviour extracted the epoch so that version checks with installed epoch versions led to invalid yum downgrades.
What does this PR do
Fixing a problem with rpmyum.
When pkg.install is used with version and epoch number the epoch number is stripped of the version string to build the package string for yum. This leads to a misleading version comparison afterwards since the installed version contains the epoch number and the version to install not anymore.
What issues does this PR fix or reference
Did not create an issue
Previous Behavior
e.g. yelp
installed version ...fc
pkg.install yelp version.. would result in yum downgrade call instead of yum install
New Behavior
e.g. yelp
installed version ...fc
pkg.install yelp version.. would results in yum install
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2897;Fix syntaxerror;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix a SYNTAXERROR from a merge forward;"bfecccommitcomment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2898;fixes causing lots of mayham onchange with .. for me;"What does this PR do
nlines and slines were handled differently handle them the same.
This causes changes to be present if a line ended with a whitespace. In turn causing mayham in my environment due to using onchange resulting in mutliple unneeded service restarts on every state.apply.
What issues does this PR fix or reference

Previous Behavior
always changes if a file contained a line that had a whitespace at the end.
New Behavior
only have changes on well actualy changes
Tests written
No
Affected

. untested but assumed
. . and up
develop

Please review Salt's Contributing Guide for best practices.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Modified nlines variable in append method of file.py by updating list?Çª;"What does this PR do
Forces nlines and sliines to use the same criteria when being created. Currently one is created used rstrip and the other rstripos.pathsep
What issues does this PR fix or reference
Previous Behavior
When executing a file.append on a RHEL machine subsequent Salt runs were not idempotent because slines was always not equal to nlines.
New Behavior
Subsequent file.append Salt runs are idempotent.
Tests written
No
Please review Salt's Contributing Guide for best practices.
?Çª comprehension.
When executing a file.append slines is set to item.rstrip for item in slines while nlines is set to item.rstripos.linesep for item in nlines. Later if slines is not equal to nlines then it is determined that a change has occurred. This prevents subsequent Salt runs from being idompotent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2899;This corrects a syntax error for the sudo command;"normally the parameters 'username c' is associated with 'su'
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use sudo correctly;"This command is formatted as if it was su.
So this is the first part.
I have no idea how to fix the second part which is it cann't find the thin version.
 .decodebase' config 'id salt.gtmanfred.com rootdir tmp.saltrunningdata' delimeter edbcefaacbbbdcafbfacfcff saltdir tmp.salt checksum fbccfcdaffd hashfunc sha version ..gfee test.ping
 WARNING Unable to locate current thin version.

stdout
 ERROR Failure deploying thin edbcefaacbbbdcafbfacfcff
 deploy

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2900;set default user variable to the user cmd runs as;"What issues does this PR fix or reference

Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Set the user to the actual user running the minion daemon;"This PR fixes issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2901;Backport to .;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update openbsdpkg.py;"Same change request as for a Dev. branch Merge pull request from sergeppatch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2902;Tweak network address comparisons;"Punish ipv addresses that start with '.' more than other ipv
addresses to follow original logic before refactor.
Related to Pull Request 
Signedoffby Sergey Kizunov sergey.kizunovni.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";A more accurate punishment for IPv addresses;"Suggested change contributed by skizunov
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2903;Fix unit tests mocking;"What does this PR do
Fixes the unit tests mocking by not polluting the loader modules namespace and instead patch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove encode;"What does this PR do
Fixes integration.modules.testgit so that it will run. The encode was causing problems in Python . I tested removing the encode on Py and it didn't have any problems. I introduced this problem myself 
What issues does this PR fix or reference
httpsgithub.comsaltstackzhissues
Previous Behavior
Test fails on Py with an error similar to the following
Traceback most recent call last
 File version.py line in module
 printLooseVersion'..'.encode
 File C\Program Files\Python\lib\distutils\version.py line in init
 self.parsevstring
 File c\saltdev\salt\salt\utils\versions.py line in parse
 LooseVersion.parseself vstring
 File C\Program Files\Python\lib\distutils\version.py line in parse
 components x for x in self.componentre.splitvstring
TypeError cannot use a string pattern on a byteslike object

New Behavior
testgit test runs
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2904;Boto cfn;"module state
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated the botocfn.py to once again add the parameters and capabilitie...;"...s to the botocfn.create. Fixed some indention and modified a few errortrace messages.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2905;Default grains should contain kernel version;"What does this PR do
Adds a kernelversion grain to helps Debian users when checking for security notifications amongst other things.
What issues does this PR fix or reference

Previous Behavior
There was no kernelversion grain.
New Behavior
 sudo salt 'testvm' grains.ls | grep kernelversion
 kernelversion

 sudo salt 'work' grains.get kernelversion
testvm
 SMP Tue Mar UTC 

Tests written
No apologies. This is really one of my first times investigating production python code.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add kernelversion grain;"What does this PR do
Adds the 'kernelversion' grain to the core grains.
What issues does this PR fix or reference

Tests written
Yes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2906;Use absolute imports in salt.utils.dns;"Resolves .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix import;"What does this PR do
it fixes the import of the itertools module in the utilsdns.py as itertools.py does also exist in utils and I think Salt shouldn't name modules the same as stdlib modules
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2907;adding splitenv call to cp.hashfile to pick up saltenv in file quer?Çª;"?Çªy parameter
fixes issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fileclient.RemoteClient.hashfile query env from URL;"Related to .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2908;Added Windows master related scripts;"Added the following scripts to Windows installations

salt
saltkey
saltmaster
saltrun

Fixed an issue where setup.py will not run at all in Windows due to
the script attempting to invoke os.uname which isn't supported on
Windows.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use platform instead of os for uname;"Unable to pip install salt on windows
C\SaltDev\saltpip install e .
Obtaining fileCSaltDevsalt
 Complete output from command python setup.py egginfo
 Traceback most recent call last
 File string line in module
 File C\SaltDev\salt\setup.py line in module
 ISSMARTOSPLATFORM os.uname 'SunOS' and os.uname.startswith'joyent'
 AttributeError 'module' object has no attribute 'uname'

os.uname is not available on windows. use platform.uname instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2909;MongoDB lint;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix develop pylint error;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2910;vmware fix when resolvedips is None;"
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";resolvedips could be None;"What does this PR do
Only run len when we know that resolvedips is a list.
What issues does this PR fix or reference

Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2911;Fix;"Actually use rev argument in modules.git.rebase
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use the 'rev' arg in git.rebase Fix;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2912;Check for blockDeviceMapping;"Fixes .
Addresses .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bugfix for;"check if exists not just if null
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2913;Use os.access in grains.core to check a file for usage;"The os.path.existspath just checks for the existence of a file. The
os.accesspath os.ROK for the existence and readability. The latter
is preferred in cases where that functionality is wanted.
Fixes a bug in eb
See ebdiffebbcbabeadR
What does this PR do
Fixes a bug for linux containers where files exist but are not readable for root.
What issues does this PR fix or reference
See ebdiffebbcbabeadR
Tests written
No
Please review Salt's Contributing Guide for best practices.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Do not fail to init grains for nonroot user.;"What does this PR do
This fixes unit tests pass if ran as a nonroot user. Actually helps on devboxes.
What issues does this PR fix or reference
None.
Previous Behavior
A number of tests like unit.testpyobjects.RendererTests fail with the following error
PermissionError Errno Permission denied 'sysclassdmiidproductuuid'
New Behavior
Remove this section if not relevant
Tests written
No
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2914;spm updaterepo doesn't always require arguments;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed a lint error in parsers.py;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2915;Requisite documentation;"Fixes 

Make Requisites docs main source for requisite and other global state arguments the default landing page
Create go here link to requisites page on Global State Arguments docs

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed bad link to new requisites page;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2916;Fix salt.utils.vt import error in python .;"Python . does not have subprocess.mswindows. Instead use sys.platform to detect Windows since no other imports from subprocess were being used.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Python . support.;"Some fixes for python .

Fix subprocess.mswindows check for Python ..
Added hash variable to the OrderedDict classes.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2917;travis Test on PHP .;"Q
A




Branch
.


Tests pass
let's see


License
MIT



PHP . RC has been released today.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";added PHP . to Travis;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2918;allow TraceableEventDispatcher to reuse event instance in nested events;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";store thisid in local id to avoid errors when this value is changed;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2919;Workflow Clarify validator API fixed unknown scalar marking store;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no if merged in .


Deprecations
no


Tests pass
yes


Fixed tickets
commaseparated list of tickets fixed by the PR if any


License
MIT


Doc PR
reference to the documentation PR if any



See also httpsgithub.comsymfonysymfonyblobmastersrcSymfonyBundleFrameworkBundleDependencyInjectionCompilerValidateWorkflowsPass.phpL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use Yoda Conditions in Test Condition;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets



License
MIT


Doc PR




Use yoda conditions in test conditons
Ref httpsymfony.comdoccurrentcontributingcodestandards.htmlstructure
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2920;Form fixed ChoiceListCache made hash more unique;"this PR refers to this issue 
Especially naming in the unittests wasn't that easy for me. I'm open for any better suggestions.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
none



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Fixed hashing of choice lists containing nonUTF characters;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2921;Security Improve deprecation logic to minimalize the changes required in .;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Abstract voter tweaks;"Q
A




Bug fix
yes a little


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



Based on suggestions from stof in this simplifies the BC and deprecation throwing code. This also adds a BadMethodCallException in case the user doesn't override isGranted or voteOnAttribute because that's just plain wrong as is calling isGranted on the parent class directly since that was formerly abstract.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2922;WebProfilerBundle HttpKernel A static approach to version feedback;"Q
A




Bug fix
yes


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
NA



This is an alternative approach for the version feedback feature of PR . The original PR performed a serverside HTTP request to symfony.com which might be problematic in certain environments see .
This PR makes the following assumptions

Symfony's release roadmap is rarely changed
After the first release of a branch the Symfony development team is committed to the announced support dates.
The support period of a stable branch might be extended but it's usually not reduced.

Given those assumptions the EOM and EOL dates may be shipped with the Symfony release and may be updated with a later bugfix release. The information would be available offline without any need to query Symfony's servers.
If the user is running the latest bugfix release of a branch the EOMEOL dates should be accurate. If he's running an earlier version he might get a false positive warning about reaching EOM or EOL if the support period has been extended in the meantime. But since he's running an outdated version anyway would this really be a problem
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpKernel Added useragent when requesting symfony roadmap;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2923;Updated copyright year;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



Happy new year to you all I updated the copyright years in all license
files.
PS. and the many others only cover the main LICENSE file but this one is more thorough. I might have missed some but I couldn't find any other occurrences of ''
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated copyright to;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2924;DependencyInjection Fixed bug in XmlFileLoader for xml with namespace prefix;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DependencyInjection Use DOM instead of SimpleXML for namespace support;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This PR makes the XmlFileLoader use the DOM instead of SimpleXML. This allows full namespace support in XML files. Previously the Symfony container namespace had to be the default namespace for the document. See also .
Some things to discuss
I avoided any BC breaks but I do not know if the things I avoided breaking are actually part of the API. There are two places this applies to

The Symfony\Component\DependencyInjection\SimpleXMLElement still exists but it is no longer used except to maintain BC. It does not appear to be used anywhere else in Symfony itself. Maybe some userland code uses it somewhere. If this is not part of the API it could be removed.
The parseFile method still returns a SimpleXMLElement to maintain BC. I have added a new function parseFileToDOM that is used by the XmlFileLoader itself. If this is not part of the API we could drop that new function and have parseFile return a \DOMDocument instead.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2925;Form Fixed SubmitTypeValidatorExtension not correctly extending BaseValidatorExtension;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Although stated in the documentation is was not actually possible to use validationgroups config on a submit form type. Turns out that although a BaseValidatorExtension had be created with the required functionality SubmitTypeValidatorExtension was not yet extending from it.
This pull request corrects this issue adds tests for SubmitTypeValidatorExtension and as a bonus removes an unused import in FormTypeValidatorExtension.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Fixed Added validationgroups option to submit button;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2926;Fixed translation typos on the Security componente;"Hi
In my last PR I've introduced some translation typos on the Security component messages for the Spanish translation.
So sorry.
Christian.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update srcSymfonyComponentSecurityResourcestranslationssecurity.es...;"....xlf
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2927;Routing added route compile check to identify a default value...;"... of a required variable that does not match the requirement
reopened version of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Routing Check if default value matches requirement;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Check if the default value defined in a route matches the requirement of that value.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2928;Form Added additional data attributes for collections;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
WIP




 fix the tests as they have not been updated yet
 submit changes to the documentation


I've added extra data attributes to collections in twig and php views for easier js manipulation.
New attributes

dataformwidget'collection' This is a collection and all children are form types
datacollectionallowadd Allow adding of new elements
datacollectionallowdelete Allow deletion of elements new and existing
dataprototypename The prototype name

This should make javascript integration much easier.
Example js
'dataformwidgetcollection'.eachfunction

 var collection this
 prototypeString collection.data'prototype'
 prototypeName collection.data'prototypeName' || 'name'
 prototypeNameRegx new RegExpprototypeNamelabelg
 count collection.children.length

 var deleteLink span 
 'class' 'jsdelete'
 'text' 'Delete'
 

 var addLink span 
 'class' 'jsadd'
 'text' 'Add'
 

 ifcollection.data'collectionAllowDelete' 

 collection
 .children
 .appenddeleteLink.clonetrue

 collection.on'click' '.jsdelete' function
 event.preventDefault
 this.parent.remove
 
 

 ifcollection.data'collectionAllowAdd' 

 addLink.clickfunctionevent
 event.preventDefault
 var newPrototypeString prototypeString.replaceprototypeNameRegx count
 newPrototype newPrototypeString.appenddeleteLink.clonetrue
 newPrototype.insertBeforeaddLink
 count
 

 collection.appendaddLink
 

Replaces 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form make prototypename available in twig template;"When using several collection types on the same page you might wan't to use different prototype names. Having the name in the template allows for a clean javascript to replace the prototype name in the prototype see adjusted sample in the Doc PR.



Q
A




Bug fix
yes


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
n.a


License
MIT


Doc PR
symfonysymfonydocs



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2929;FrameworkBundle removed support for HHVM builtin web server as it is deprecated now;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle backport;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2930;Update session start check;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Handle PHP sessions started outside of Symfony;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



This PR brings a way to allow Symfony to manage a session started outside of Symfony in such a way that quite explicit. It also introduces more robust detection of previously started sessions under PHP . and supports real session status detection under PHP .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2931;FrameworkBundle fix broken command registration;"fixed 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use Symfony\Component\HttpKernel\Bundle seems to be incomplete;"Fixed wrong use of namespace Symfony\Component\HttpKernel\Bundle\Bundle
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2932;BridgeDoctrine cannot use entity with noninteger ID as keyvalue in choicelist;"Bug fix yes
Feature addition no
Backwards compatibility break no
Symfony tests pass yes
I updated the testSubmitSingleStringIdentifier test to contain a space in the identifier after which it would fail. The EntityChoiceList now only uses the ID as keyvalue when it is an Integer type.
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Fixed index generation in EntityChoiceList if ID is not an integer;"Bug fix yes
Feature addition no
Backwards compatibility break no
Symfony tests pass yes
Fixes the following tickets 
Todo 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2933;HttpFoundationSecurity;"I've changed the semantics of RequesthasSession slightly. This is an alternative fix for .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Removed the RequesthasSession;"Currently RequesthasSession is used for a dual purpose as shown below

Check the session cookie exists

Bundle\FrameworkBundle\RequestListener


Check the Request has the Session object

Component\Security\Firewall\ContextListener
Component\Security\Firewall\ExceptionListener
Component\HttpKernel\DataCollector\RequestDataCollector



This method seem to be implemented for first purpose. And there is some problems in the second case.
For example the RequestDataCollector does not record the session data when in the process with the start of a new session. In the same condition ExceptionListener does not save the targetpath that is used as next path after authentication.
This method is used ambiguouslysession object exists session started. I think this method shuld be removed and the callers should check the condition of the Request properly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2934;FrameworkBundleValidator Fix apc cache service config;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Keep track of comment
NOTE This PR is on standby. If is merged this one might probably be closed as everything will be done during the merge.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Revert removal of correct APC cache service remove deprecated one;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
httpstackoverflow.comq


License
MIT


Doc PR




See also 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2935;Validator Added Polish translations for IBAN and ISBN messages.;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update validators.pl.xlf;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2936;VarDumper Use symfony.com's colorscheme;"As promised this PR changed the current colorscheme to something used in Symfony. This means developers have a consistent experience and the colorscheme is easier to read.
While doings this I also improved the HtmlDumperstyle method to make it easier to understand and maintain. I also changed a bit of the output it created mostly adding visibility prefixes to properties.
Before

After




Q
A




Bug fix
yes


New feature
yes


BC breaks



Deprecations



Tests pass



Fixed tickets



License
MIT


Doc PR
the one about the VarDumper



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";VarDumper Changed color scheme of HTMLDumper to Solarized Dark Scheme;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR





 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2937;Fixed generation mistake in changelog;"Q
A




Branch
master


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove repeated CHANGELOG title;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Seems like there is an error in the release script see 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2938;Validator;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Refactoring DateValidator and DateTimeValidator;"And add check if the value is an instance of \DateTime in the DateValidator.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2939;Validator DateRange constraint added;"Added DateRange constraint and appropriate translations in russian and english.
Simple example
 
 Assert\DateRange
 min 
 max 
 
 
 protected birthday
Custom format example
Date format by default is dmY but easily can be overridden by 'format' property of constraint f.e.
 
 Assert\DateRange
 min ..
 max ..
 format d.m.Y
 
 
 protected birthday
This is my first commit to symfony components so feel free to request any additionals write docs improve something and so on.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator added before and after options to Date constraints;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT


Doc PR
todo



I've added an after and before options to Date and DateTime constraints. It uses the strtotime function so it's user friendly values like now week can be used.
I think it can be very useful some examples 

an appointment can't be scheduled before days
a user must be more than years old checking the birthday
a date must be in the future

What do you think
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2940;VarDumper edge case fixes;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Debug Fix profiler dump template;"Fix a template issue introduced in daddfe



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2941;ExpressionLanguage Added a failing test to prove that EL does not respect 'lazy operator';"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets
no


License
MIT


Doc PR
no



 
 MethodGET
 Routefoobar namefoobar
 Template
 Securityisgranted'ROLEUSER' and user.foobar
 
 public function foobarAction
 

 
If the user is not connected this throw an exception RuntimeException Unable to get a property on a nonobject. in vendorsymfonysymfonysrcSymfonyComponentExpressionLanguageNodeGetAttrNode.php at line .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ExpressionLanguage Fixed evaluation of short circuit operators;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2942;Console Added three state long option;"Console Added three state long option



Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




A three state long option instead of the current state version

Not setting the longoption will make the default set to false just like a standard longoption.
Setting the longoption without a value will set it to it's default
Setting the longoption with a value will set it to that value.

Let's say dev
php tool.php
array 
 'dev' 
 boolfalse

php tool.php dev
array 
 'dev' 
 'the default value'

php tool.php devtest
array 
 'dev' 
 'test'


A couple of notes

I assume you guys agree that it's not a good idea to break current functionality. Therefor VALUEOPTIONAL will stay how it is and I added a new constant VALUEOPTIONULL.
All the tests still work
We need to come up with a better name.
I'll need to write new test for the new config option VALUEOPTIONULL.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console Add method to know parsed option;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2943;Validator Add deprecation message .;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ValidatorHackday . Add a deprecation note about ValidationVisito...;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
none



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2944;Ldap add some missing license file headers;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 comment


License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";CS Added some missing license headers;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
none


License
MIT


Doc PR
none



Some headers were missing from the LDAP request. This PR fixes this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2945;HttpKernel ExceptionHandler is actually displaying all PHP errors;"So there is no need to set displayerrors to true in that case.
Partially fixes .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. ClassLoader Cosmetic change to remove extra spaces in bootstrap file;"Bug fix no
Feature addition no
Backwards compatibility break no
Fixes the following tickets 
License of the code MIT
This patch removes spaces from TWHITESPACE token before a comment TCOMMENT token.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2946;Security RoleSecurityIdentity checks for instances of RoleInterface to allow custom Role implementation;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
no



Hi
We are using a custom Role entity that's implementing the RoleInterface but when we tried to apply ACL on the application some SecurityContextisGranted calls were denying access when they should actually allow.
After checking database our code Symfony code we got to the dead end where the following triple comparison was returning false
thisrole sidgetRole

One thisrole was holding our custom object that implements the RoleInterface the other sidgetRole was holding a string the strict comparison would obviously fail.
After updating the constructor and tests everything looks great.
Thanks
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Changed Role to RoleInterface;"Changed Role to RoleInterface so that one doesn't have to extend Role but simply implement RoleInterface.
Maybe be better to merge to branch ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2947;Console Make Helper\TablesetStyle chainable again;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2948;File Fix bug in TemporaryStorage. Make tempDir if it's not exist;"Without this fix I have many warnings while trying to upload file then directory appcachedevupload doesn't exist.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2949;TwigBundle Fix bug where namespaced paths don't take parent bundles in account;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Currently namespaced paths for templates such as extends 'AppLayoutlayout.html.twig' do not work with bundles that have overruled templates using the getParent method in another bundle. See attached ticket. This change prepends the path of the bundle implementing getParent to the paths of the namespace of bundle returned as a parent.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TwigBundle register template paths for overridden bundles;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
FriendsOfSymfonyFOSUserBundle FriendsOfSymfonyFOSUserBundle


License
MIT


Doc PR




Previously paths for bundles overriding a parent bundle wouldn't have been registered with the namespace of the parent bundle. I am not completely sure if this is the best solution so I didn't invest time to write tests confirming the fix. Will do that if we agree on this approach.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2950;Validator Fixed UniqueEntityValidator to properly handle association fields;"Issue 
If one of the fields in a UniqueEntity constraint is actually an association field use the value of the associated entity related field to perform the validation for uniqueness.
This patch doesn't fix the case where the association field is a composite primary key entity. This will be fixed inside Doctrine in the future.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";GH;"Handle associations in unique validator correctly.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2951;Console ConsoleOuputisDecorated is detected from STDOUT and STDERR;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




In a Symfony command the OutputInterface has wrong result for isDecorated in this very simple scenario
 appconsole vendorcommand output
Here output is a regular file so outputisDecorated should return false but it returns true. This happen because the the automatic detection is done on stdout first and then overridden by a second detection on stderr which is tty in the example above.
I've added a test which hopefully make clear the scenario.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console Separate formatter for stdoutstderr;"Console
When piping output from a console command through | more for example stderr is still considered to have color support although stdout does not. When stdout and stderr share the same formatter this results in color codes being output while this is not desired behaviour.
E.g.
 stdout.php
php
requireonce 'vendorautoload.php'
out new Symfony\Component\Console\Output\ConsoleOutput
outwriteln'infoOKinfo'
without patch
 php stdout.php | more
ESCmOKESCm

 php stdout.php devnull | more
OK
with patch
 php stdout.php | more
OK
The cleanest solution I could think of was simply cloning the given formatter rather than sharing the same instance.
Partial credit goes to Seldaek as well for discovering and debugging this unexpected behaviour with me.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2952;Filesystem Fixed fabbot report about 'unix' comment;"This is a minor coding standards PR. fabbot warning
 httphook.fabbot.ioreportsymfonysymfonydfcbcecfdbfe



Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets
Coding standards


License
MIT


Doc PR
NA



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fixed various typos;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2953;FrameworkBundle A controller must be callable;"Am I right to say that a controller must be callable ie methodexists is a bug 
No BC tests pass.
The change is a one liner however I have rewritten some code tests to the current standards what a long way since the genesis of Sf 
I have also added a FIXME for Sf because returning false is too much PHP 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpKernel allowed any callable to be returned by ControllerResolvercreateController;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2954;.Form Dereferenced Formall since it is not supported for PHP ..;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




see bc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form fix method signature for PHP ..;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This should fix the annoying Travis build failure for PHP ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2955;Removed unused use statements.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Code cleanup;"Not sure at the end if this good or not. If it is useless just close it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2956;WebProfiler fix contenttype parameter;"Bc break no
This fixes an error in that was raising a fatal error.
It also adds the typehint for consistency because the typehint is also present in ResponseHeaderBag where the param is passed through. This should help that such errors are more unlikely to happen.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfiler Can't consult the exception panel when there is an exception;"Q
A




Bug fix
yes


New feature
no


BC breaks
no not yet


Deprecations
no


Tests pass
yes


Fixed tickets
not reported yet AFAIK


License
MIT


Doc PR
none



When consulting the Exception Panel of the Web Profiler there was an exception stating that the ResponseHeaderBag expects an array as a typehint and it has a string instead
An exception has been thrown during the rendering of a template Catchable Fatal Error Argument passed to Symfony\Component\HttpFoundation\ResponseHeaderBagconstruct must be of the type array string given

This was induced in the commit db.
The thing is as I already discussed on IRC with lsmith I think it is strange that the Response's constructor does not have a typehint on the headers parameter as it is directly fed to the ResponseHeaderBag on the very first instruction of the mentionned controller which provokes the mentionned error. So either we can add the typehint on the Response or we can also typehint the parameter 
php

class Response

 ...
 public function constructcontent '' status headers array
 
 thisheaders new ResponseHeaderBagarray headers
 

 ...

Though I think it is not as neat as the typehint directly on the parameter but I heard that it was a nogo to add a typehint on object's constructor as this could be a potential BC Break. Is it still the case Even though this call are here for at least years now...
Cheers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2957;TranslationForm Do not translate form labels and placeholders when 'translationdomain' is false;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Seems like this behaviour was already partially added as stated here to solve the problem of expanded choice widgets.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form translationdomain in placeholder of collapsed choice;"Check that translationdomain is not false



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2958;Code coverage on HttpFoundationResponse;"Added tests on HttpFoundationResponse
Also fixes the code coverage generation crash when the resources folder are more than folder deep.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpFoundation fixed Response Bug added more Tests;"HttpFoundation fixed bug with LastModified Header
HttpFoundation added Response Tests
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2959;Console End of options signal support;"Q
A




Bug fix
yes


New feature
yes


BC breaks
yesish


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




The first commit is only about support fixes a few other little issues I discovered while adding tests to cover my feature.
The second commit makes use of the first in the Application class so that if you do console foo help for example it should not trigger the help anymore but simply have help available as a dummy arg.
To keep BC I did this by adding a param to hasParameterOptiongetParameterOption instead of doing it by default. This creates another BC issue though in that it changes the InputInterface. I don't think that's a major concern but it's worth mentioning.
The other only minor BC change is if you do getParameterOption of a flag option i.e. foo without a value. Before it was returning null in ArgvInput and true in ArrayInput. I normalized this to true for both since I think that makes more sense but strictly speaking while it improves interface interchangeability it's a BC break.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console Add a concept of 'tail' arguments;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This PR introduces the concept of a tail argument. It is essentially an extension of the concept of InputArgumentISARRAY that allows the last argument in the command line to unconditionally capture all the remaining arguments whether they look like options or not.
The use case targeted here is the one of command lines that chains or wrap other command lines. It makes possible to implement those without forcing the user to use the separator to explicitly separate the options of the wrapper with the options of the wrapped command at least when they are nonoverlapping.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2960;Add TypeExtensions and TypeGuessers on FormIntegrationTestCase;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This PR is a improvement suggestion about FormIntegrationTestCase.
Based on the documentation we currently have to setUp again all the form builder process just to add a type extension to get for example constraints option working.
With this modification we can simply do something like this.
class ChangePasswordFormTypeTest extends TypeTestCase

 protected function getTypeExtensions
 
 validator thisgetMock'Symfony\Component\Validator\Validator\ValidatorInterface'
 validatormethod'validate'willthisreturnValuenew ConstraintViolationList

 return array
 new FormTypeValidatorExtensionvalidator
 
 

 ... Do your tests here.

Much simpler isn't it
I think this could be done also for type guessers. Will work on it.
I'm excited to see yours review comments ?æì
Note This should be cherrypick on .. Could be very useful to have it on . also because of new LTS. It's up to you.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Added support for type extensions to FormIntegrationTestCase;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This PR allows to use FormIntegrationTestCase to test form types with extensions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2961;Displaying vardump with xdebug in exceptions;"When debugging code I often use vardump to quickly look into variables. Since . alle output generated by vardump is displayed in one line. httpscreencast.comtLuIlIdHsvP
It seems to be no problem for small objects but it becomes a real pain when displaying huge arrays or objects.
This is caused by the changed wordwrapping for the pre tag introduced in 
With fix httpscreencast.comtGdAdkpWxU
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Keep pre meaning for vardump quickanddirty debug;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This is a minor fix to have a quickanddirty vardump nicely work with the exception output from Symfony.
In short the default pre whitespace CSS rules should be kept outside of block content so that vardump output is not diplayed in a single huge line.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2962;WIP.Form Removed usage of deprecated form tag attributes;"Q
A




Bug fix
yes


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




WIP because it needs some adjustments after is merged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WIPForm remove short form names;"Requires and 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2963;.TwigBridge Fixes Issue in TwigBridge;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed not initialized data variable;"Fixed not initialized data variable in the Scope class which leads to a PHP warnings when using arraykeyexists.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2964;Extracted the DI loading of an array from the YamlFileLoader;"Q
A




Bug fix
no


New feature
sort of


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
none


License
MIT


Doc PR
na



This allows to reuse the logic easily for other loaders needing to extract data from an array.
Note that references and expressions are subject to the same syntax than in YAML files. the goal is to load arrays from a place where you might not be able to instantiate objects.
currently only the YAMLFileLoader is using it but the PlainArrayLoader better named ArrayFileLoader btw submitted in could reuse it as well. This would make it benefit from the safeguards added in as well.
I haven't added dedicated tests yet but the code is executed by the YamlFileLoader tests. I can add some tests if there is an interest in merging this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DI More generic loaders;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no could introduce some though


Tests pass
yes


Fixed tickets
... 


License
MIT


Doc PR
symfonysymfonydocs... 




Standardizes Config\Loaderimport with ImportingLoaderInterface new interface
Favors Config\FileLoadersetCurrentResource over setCurrentDir
Moves container resource tracking to DI\FileLoadersetCurrentResource fixing nested resource tracking outofthe box.

If we deprecate setCurrentDir the upgrade path would be
 before
loadersetCurrentDircurrentDir
loaderimportresource format ignoreErrors currentFile

 after
loadersetCurrentResourcecurrentFile
loaderimportresource format ignoreErrors
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2965;Form Allow NumberToLocalizedStringTransformerreverseTransform to accept intfloat;"Q
A




Bug fix
not sure


New feature
not sure


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




When adding a form type integer with a emptydata aka with a int or float value the form field will never validate correctly because the NumberToLocalizedStringTransformer will throw a TransformationFailedException because the value is not a string.
This PR fixes this problem by allowing int and float types as values in reverseTransform. Because the string only behavior was enforced by the transformer tests this is a BC change. Personally I think that this is not a BC break that would cause problems.
Another possible fix is to add a normalizer for the emptydata option and transform a int or float to a LocalizedString but that looksfeels like a bad patch job.
I hope this PR will have less people going through there validation schema just to figure out that it's the NumberToLocalizedStringTransformer causing the problem.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Fixed edge case where empty data may not be a string and throws TransformationFailedException;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT



I just can't recreate this error by any means.
I somehow have a form with an integer type which happens to submit null as viewData somehow and it reuses emptydata option. Now my field was configured like
builderadd'page' 'integer' array
 'emptydata' 

And since the assignment of viewData is the emptydata one of the normalizers while calling viewToNorm throws a TransformationFailedException with the following message Expected a string.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2966;TwigBundle Attempted to call an undefined method named getTemplate?Çª;"?ÇªName of class TwigErrorRuntime. 
TwigBundle Attempted to call an undefined method named getTemplateName of class TwigErrorRuntime. 



Q
A




Branch
master . . . or . 


Bug fix
yesno


New feature
yesno


BC breaks
yesno


Deprecations
yesno


Tests pass
yesno


Fixed tickets
... 


License
MIT


Doc PR
symfonysymfonydocs... 




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TwigBundle Fixing regression in TwigEngine exception handling;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



Fixing regression after in TwigEngine exception handling.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2967;Form Fix legacy tests that break master;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix OptionsResolverInterface tests;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2968;Validator Added a format option to the DateTime constraint.;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



This PR adds a new format option to the DateTime constraint and deprecate the Date and Time constraints in favor of this new option.

 update docs

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Add format option to DateTime constraint;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets
 and partial 


License
MIT


Doc PR
None yet



This PR adds a new format option to the DateTime constraint and deprecates Date and Time constraints.
I will do a PR with necessary changes on SymfonyDocumentation if accepted.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2969;Security Fixed persistence of AuthenticationException;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



During the refresh of an authenticated user the potential AuthenticationException is ignored now it is persisted in session just like after an authentication failure.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security?ácontext listener hardening user provider handling;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




After the wrong fix in this is the second attempt to solve . If more than one user provider support the user for the current context all of them will be applied instead of returning prematurely when the first user provider does not find the logged in user.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2970;HttpFoundation Added status code;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT



httpsdatatracker.ietf.orgdocdraftietfhttpbislegallyrestrictedstatusincludetext
The HTTP status code was approved by the ISG a few days ago on the th December '.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added HTTP Code;"English httpsen.wikipedia.orgwikiHTTP
German httpsde.wikipedia.orgwikiHTTPStatuscode
httpstools.ietf.orghtmldrafttbrayhttplegallyrestrictedstatussection
httpswww.google.desearchqhttpcode

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2971;HttpFoundation Redis session handler;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpFoundation Implement RedisSession Handler;"Q
A




Bug Fix
no


New Feature
yes


BC Breaks
no


Deprecations
no


Tests Pass
yes


Fixed Tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2972;SecurityBundleSecurityFinder Remove deprecated code paths;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets
bb aefd bfe


License
MIT


Doc PR
NA



Removing my own deprecated stuff from . 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security remove deprecated features;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2973;fixing BC break with validatePropertyValue;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
none



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Made it possible again to pass a class name to validatePropertyValue;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




In the . API it was possible to do both
validatorvalidatePropertyValueobject 'propertyName' myValue
validatorvalidatePropertyValue'\Vendor\Namespace\ClassName' 'propertyName' myValue
In the . API the second case was not supported anymore. This is fixed now.
Together with the fix comes also a small change also in the . API which I'll demonstrate with a code snippet
metadataaddPropertyConstraint'ClassName' 'propertyName' new Callback
 function value context 
 vardumpcontextgetRoot
 vardumpcontextgetPropertyPath
 


validatorvalidatePropertyValue'ClassName' 'propertyName' 'foobar'
Before this PR the output would be
string ClassName
string propertyName

This doesn't make a lot of sense because usually the following condition holds during validation
'' contextgetPropertyPath || value propertyAccessorgetValuecontextgetRoot contextgetPropertyPath
which obviously cannot work if root is a class name. Thus I changed the root and property path to become
string foobar
string 

With this change the condition holds also in this case.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2974;DomCrawler Create a getter for baseHref;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



As requested in I created a getter for baseHref. Happy Hack Day
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DomCrawler Exposed getter for baseHref;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



I know that PR for this issue already created but it is Hack Day so I'm making my first contribution anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2975;property access Fix issue for broken reference chain;"For the 'property values' that corresponds to a property path in PropertyAccessorreadPropertiesUntil method if current element's 'ISREF' flag is true it means and only means that it is passed as a reference to its immediate parent in the property path.
It does not guarantee that current element's reference will be automatically escalated to the top because if there is an element which is passed by value stands in its way of going back to the top the reference chain will be broken.
However a broken reference chain does NOT necessarily break the reference itself.
There are actually two scenarios

Current element is an object this won't break the object's reference because object is always passed as reference even if the array that holds it is copied the object is still copied as reference.
Current element is an array element this will also break the reference because when copying an array the array elements are copied as values instead of references. This means at this point the top element is referring to a different current element. In order to escalate current element back to the top its values must be copied explicitly.

The original code of PropertyAccessor does not recognize the nd senario so it will raise issues in method setValue and isWritable.
Let's explain this issue with some examples
 example 

class Foo

 protected value

 public function getValue
 
 return thisvalue
 

 public function setValuevalue
 
 thisvalue value
 

 public function constructvalue
 
 thisvalue value
 


pa new PropertyAccessor

b new Foo'oldvalue'
a new Foo
 array
 'a' array
 'b' array
 'c' b
 
 
 


pasetValuea 'valueabc.value' 'newvalue'
 The reference chain is broken at a.value because array is
 passed as value. But since a.valueabc.value is an object
 which is always passed as reference the refernce itself is not broken
 the original code base works and the value of a.valueabc.value
 will be changed to 'newvalue'
 example .

class Foo

 protected value

 public function getValue
 
 return thisvalue
 

 public function setValuevalue
 
 thisvalue value
 

 public function constructvalue
 
 thisvalue value
 


a new Foo
 array
 'a' array
 'b' 'oldvalue'
 
 


pa new PropertyAccessor

pasetValuea 'valueab' 'newvalue'

 The reference chain is broken at a.value because array is
 passed as value and the reference of a.valueab is broken as
 well because when a.value is copied a.valueab is passed by
 value as well.
 But the original code base does not recognize this scenario and will
 terminate the process earlier which will fail to update the value of
 a.valueab
This issue is caused by the incorrect use of 'ISREF' flag the original
code base only use the 'ISREF' flag to identify reference element but
it does not care if it's an object or array element. For object it's
safe to terminate the process earlier but for array element we should
not terminate the process unless we can confirm that its reference chain
is not broken all of its ancient elements in the property path are
passed by reference.
This issue affects both the setValue and the isWritable methods.
So we need introduce a new flag 'ISREFCHAINED' to identify an
element that is passed as reference and all its ancient elements in
the property path are also passed as reference.
And we can terminate the process as follows


If current element is an object then it's safe to terminate the value setting process here because object is always passed as reference.


If current element is not an object and its 'ISREFCHAINED' flag is true then it's safe to terminate the value setting process because all the acient elements in the property path are referring
to this object as reference so there is no need to copy values.


Otherwise we should not terminate the value setting process here
so that the element value can be copied explicitly later.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na





 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PropertyAccess BC Break since ..;"setValue isWratable loops must only stops on reference and object. References can also be arrays and if the loop stops the value is never set in the object. Breaks since .. commit ee



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This merge request fixes the following cases taht was working with version previous to ..
A class with a property myArray which can be a multi dimensional array can now be accesed using myArrayfoobarbaz
Previously only myArrayfoo was working the break is since commit ee
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2976;Remove deprecated container injections and compiler passes;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";TwigBundle Remove ContainerAwareRuntimeLoader;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2977;DoctrineBridge Fixed nonutf recognition;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed non utf strings recognition;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2978;WebProfilerBundle Fix toolbar maxwidth for long ajax url;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT



Before 

After 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfilerBundle Fix AJAX panel width for long URLs;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




When the AJAX url path is very long the profile td token value is not fully displayed.
Before

After

Other Possible Solutions

Fix maxwidth from .sftoolbarblockhover .sftoolbarinfo class to px. same result but the AJAX panel is a bit longer
Fix maxwidth from .sftoolbarblockhover .sftoolbarinfo class to none or remove it. It would avoid future issues mainly with third bundles with children width greater than px. Promising 

cc javiereguiluz
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2979;. Update required PHP to ..;"Q
A




Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR




This PR upgrades composer.json files to php..
.. is the lowest version available on Travis and the version shipped with Ubuntu LTS ..
We can change the php version later when we'll agree on some other requirement but currently this is required to safely merge in master without having some users reporting issues because they have a devmasterdev requirement.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Bumped the minimum php version to .;"Q
A




Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT


Doc PR
NA



This pull request bumps the minimum php version of symfony . to php ..
This also removes all the hacky workarounds for php . and ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2980;. Upgrade Guide Describing how to pass data to a form through options resolver;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Enhanced the upgrade guide by adding details regarding passing data to a form through the options resolver.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form. Upgrade Guide Describe how to build forms after deprecations;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2981;Fix hide button in toolbar;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfiler added missing event parameter to click handler;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT



After updating to symfony . i realized that the debug toolbar does not get closed any more throwing an error on javascript console event not defined.
This fixes it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2982;Added getter and setter of QuestionHelper to SymfonyStyle;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Current SymfonyStyle implementation disallow to test interactively input of command according docs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console Fix Allow to inject QuestionHelper into SymfonyStyle;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets
na


License
MIT


Doc PR
na



This PR

 asserts that a Helper\QuestionHelper can be injected into Style\SymfonyStyle
 provides a mutator for the Helper\QuestionHelper otherwise internally created by Style\SymfonyStyle

?Æü If using Style\SymfonyStyle and asking a question in a command it's impossible to use the instructions laid out here to provide an input stream. By allowing to inject an instance of Helper\QuestionHelperinto Style\SymfonyStyle testing becomes possible again.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2983;FormType DateTime added choicetranslationdomain option.;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 and 


License
MIT




 add test

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Stop translating numbers in DateType and TimeType;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
waiting for travis


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2984;TwigBundle properly set request attributes in controller test;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix tests for error page preview;"See comment and following comments there.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2985;BrowserKit Fix browser kit redirect with ports;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
No ticket opened


License
MIT


Doc PR
None



Whilst using Mink to do automated tests I encountered a problem where redirects with ports would not work as the port was removed in the updateServerFromURI method. This PR fixes the problem.
During my testing I encountered clientfollowRedirectsfalse in the ClientTest class that was causing the redirectWithPort test to pass even though it should have been failing Removing the line caused the test to correctly fail before the patch was written
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BrowserKit Fixed regression with redirects and port number;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




updateServerFromUri did not consider the PORT as part of the Host but request does this since symfonybrowserkitdbc .
Changed the method to use extractHost to be consistent with other behavior.
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2986;. Form New CollectionType prototypedata option;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



Hey
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Add prototypedata option to collection type;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



Makes it possible to have default data for collection prototypes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2987;ClassLoaderHttpKernel Remove ClassLoader component KernelloadClassCache;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
NA



As deprecated in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ClassLoader remove the component;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
yes


Deprecations
no


Tests pass
no


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2988;WIP OptionsResolver handle nested options;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
todo




 Gather feedback
 Address a doc PR
 Update CHANGELOG
 Add a lot of tests 

Summary


cac fixes . Handle nested options resolving

add OptionsResolvernested a private array of nested OptionsResolver instances by root names
add OptionsResolversetNestedoption array defaults defines an option as a new self and returns the nested OptionsResolver instance
add OptionsResolverisNestedoption returns whether an option name is a root name for a nested OptionsResolver instance
add OptionsResolvergetNested an array of root names representing nested OptionsResolver instances.

connexionResolver resolversetNested'connexion' array
 'host' 'localhost'
 'port' 


connexionResolversetRequired'user'
connexionResolversetDefault'password' function Options connexion 
 return issetnested'user' '' null

connexionResolversetDefault'secure' false
connexionResolversetNormalizer'secure' function Options connexion secure 
 return nested'port' secure

connexionResolversetAllowedTypes'port' 'int'
connexionResolversetAllowedTypes'user' 'string'

resolversetRequired'connexion'
resolversetNormalizer'connexion' function Options options resolvedConnexion 
 if 'localhost' resolvedConnexion'host' 
 resolvedConnexion'host' option'param'
 

 return resolvedConnexion


 In a sub class
parentconfigureOptionsresolver

resolversetDefault'user' user
connexionResolver resolversetDefault
 'connexion' function Options options previousDefaultConnexion 
 if options'user' instanceof UserInterface and 'localhost' previousDefaultConnexion'host'
 connexion'user' options'user'getUsername
 


options resolverresolvearray
Allowed methods are not supported with root name of nested options since they always have to be an array so


fad trigger warning throw BadMethodCallException what do you think 


eea fixes . Handle extra options resolving and addAllowedForAll rules with constant flags

add OptionsNONE constant
add OptionsALL constant matches defined and extra options
add OptionsDEFINED constant
add OptionsNESTED constant
add OptionsEXTRA constant matches any undefined options helps dealing with anonymous options using a numerical index
add OptionsResolverallowedValuesForAll a private array to validate all options even undefined but not root of nested options as they must always be an array
add OptionsResolverallowedTypesForAll a private array to validate all options as previous
add OptionsResolverresolveUndefined a private bool to allow extra options resolving
add OptionsResolveraddAllowedValuesForAlloptions allowedValues replace false nested OptionsALL first argument may be an array of options names or any flag constant except OptionsNONE if a root name of nested options is passed asamong first argument the method will be recursive because the fourth argument default is OptionsALL prevent it by passing OptionsNONE instead
add OptionsResolveraddAllowedTypesForAlloptions allowedTypes replace nested same as previous note that passing OptionsALL as first argument will not apply to root of nested options as they must always be arrays and on contrary will apply on extra options pass true as third argument to override previous allowed types
add OptionsResolversetPrototypesstring|string types mixed values options OptionsEXTRA sets resolveUndefined to true and validate any extra options with the any given type with its corresponding allowed values
add OptionsResolverallowExtraOptionsallow true

resolversetNested'attachments' arrayattachments
 allowExtraOptions
 addAllowedTypesForAllOptionsALL '\SwiftAttachment'

 Another way by implicitly allowing extra options
resolversetNested'emails'
 setPrototypes'string' function email use regex 
 return pregmatchregex email
 
The difference is that in the second case implicitly the flag OptionsEXTRA is passed so previous defaults will not be validate by prototypes rules if that's not what you want pass OptionsALL as third argument.
Note that setNested returns the nested OptionsResolver instance in this examples you could call these methods on the resolver as well but this not the same
 Any undefined global options can only be strings
resolver
 allowExtraOptions
 addAllowTypesForAllOptionsEXTRA 'string' true OptionsNONE


ccdce Harden dependency of nested options with an internal class

add NestedOptions class which extends OptionsResolver
add NestedOptionsroot the parent OptionsResolver instance
add NestedOptionsrootName the root option name
add NestedOptionsresolve overrides to throw an exception is parent OptionsResolver instance is not locked
add OptionsResolverisLocked internal public method to check from NestedOptions if it can be resolved.



Work in Progress RFC

add OptionsResolversetExtraNormalizerfunction Options options extraName extraValue ... to normalize any undefined options basically a shortcut for the currently supported setNormalizerOptionsExtra callable but with handling of extraName
add a OptionsResolverprototypes private array holding allowed values by allowed types to validate extra options.
be more strict on NestedOptions array type and indexing when setting defaults. Currently the implementation does not distinguish nested defaults using a numerical index instead of names which may cause problem when overriding them or to properly map validationnormalization.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";OptionsResolver Allow setting same normalizer to multiple option;"Q
A




Branch
master


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2989;Cache Add MemcachedAdapter;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cache Simple Memcached Adapter;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs


Related PRs
 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2990;DependencyInjectionRouting add files used in FileResource objects;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 comment


License
MIT


Doc PR




Starting with Symfony . the constructor of the FileResource class
will throw an exception when the passed file does not exist.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Config Fix FileResource usages;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Once merged up to master this should make tests green there.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2991;Issue Added some CA and ES translations;"Added some translations in CA
Fixed some translations in ES

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. sync master translations with .;"Sync translations of master that are missing in .



Q
A




Bug fix
yes sort of


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
part of 


License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2992;HttpKernel Container class name should start with letter or underscore;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Hi all
this PR tries to fix rather rare issue when generated Container Class name is starting with number which is the case when kernel name base name of root dir starts with one.
Not sure if my solution is correct it's the easiest I could think off it just adds underscore in front of the generated class name.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpKernel Fix invalid Container class name;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Steps to reproduce this bug based on Building your own Framework with the MicroKernelTrait

 git clone httpsgithub.comycerutomicrokernel foobar
 cd foobar
 composer update
 php index.php

Result

Parse error syntax error unexpected '' TLNUMBER expecting identifier TSTRING in varwwwvhostfoobarcachedevfoobarDevDebugProjectContainer.php on line 

The solution was taken from httpphp.netmanualenlanguage.oop.basic.php

A valid class name starts with a letter or underscore followed by any number of letters numbers or underscores. As a regular expression it would be expressed thus azAZ\xf\xffazAZ\xf\xff.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2993;. Process Add getPid and sendSignal methods to Process;"Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass yes
License of the code MIT
This method is particularly nice for sending posix signal to a process
example of use 
 send a SIGCONT signal to the related process
posixkillprocessgetPid SIGCONT
I've not implement the signal sender in the Process API because it requires posix environment but I think could be nice to have it and throw an exception in case it's not supported.
What do you think about it 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Process add signal method.;"Pull request for issue .
Perhaps a signalsignal method instead of kill since stop is already taking that role and looks like other issue already talking about sending SIGTERM vs SIGKILL and what not.
It might be a good idea to limit the signals you can send so you don't terminate using this function. Also probably a good idea to have a list of POSIX signals as constants.
Thoughts
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2994;Security sync translations and add a test for it;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security Add test to ensure translation files are synced;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets
 comment


License
MIT


Doc PR




This new test ensure both SymfonyComponentSecurityResourcestranslations and SymfonyComponentSecurityCoreResourcestranslations translation files are synced.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2995;Notice Undefined variable fixtures in ...;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed problem with previous pull request;"Just had an issue with how i ported the code from the orm and it caused an exception.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2996;. Validator added comparison constraints and validators;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




They work on a class level and you specify a list of properties. Included are the standard GreaterThan GreaterThanOrEqual LessThan LessThanOrEqual and Equal. e.g.
php

 assertGreaterThandiedDate bornDate
 assertLessThanOrEqualbornDate firstSchoolDayDate diedDate
 
class Person

 private bornDate
 private firstSchoolDayDate
 private diedDate

I think it would also be useful if they worked on a property level rather than just class. I'm not sure what the default option should be though. e.g. is there a reliable way to determine what's a raw value and what's a property name
php
 assertGreaterThan 
private iq
 assertLessThan'dateDied' 
private bornDate
 assertLessThanOrEqual'C' 
private grade
 assertGreaterThanOrEqual 'ageStartedSchool' 
private age
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Added property inequality constraint;"Validator Added constraint validator and test to ensure that two class property respect an inequality order i.e. start date earlier than end date one number greater than the other
Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass yes
Fixes the following tickets 
Todo Write the doc
License of the code MIT
Documentation PR todo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
2997;Don't set image on containerd container.;"We aren't using containerd's image store so we shouldn't be setting
this value.
This fixes container checkpoints where containerd attempts to
checkpoint the image since one is set but the image does not exist in
containerd.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";refactor clusterhelper.go and split cluster.go into multiple files;"Signedoffby allencloud allen.sundaocloud.io
This PR did two things

split clustercluster.go into multiple files services.go nodes.go networks.go swarm.go tasks.go
refactor clusterhelper.go to make it more efficient.

I found that when docker is in Swarm Mode all the handlers about swarm cluster is located in clustercluster.go except secret handlers. We could split clustercluster.go into several parts like secrets.go services.go swarm.go nodes.go network.go task.go and so on. This explains the purpose of my first part of work.
For second part of this pr's work I refactor the clusterhelper.go I think I did not change the original logic while I changed to a more reasonable way like return fast like avoid a long block and so on.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2998;Unhide containerdnamespace flags;"The daemon expects to managehandle everything going into the containerd namespace it uses and things break when it shares that namespace with a second instance so we should expose these flags and expect users that want two daemons sharing a containerd instance to use separate namespaces for them.
 Description for the changelog

expose containerdnamespace for running multiple daemons against the same containerd instance

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove and for get nodes endpoint and add for secret update;"Signedoffby allencloud allen.sundaocloud.io

We know that GET nodes endpoint does not take parameters so there will no status code of . In addition this endpoint is not going to get the specific node so no status code of returned either.
Since secret operation is supported in Swarm mode when a node is not in Swarm Mode we specify the status code to be to show service unavailable. So I added for this endpoint in swagger.yml.
 What I did

remove and for GET nodes endpoint
add for POST secretsidupdate endpoint

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
2999;Reinstate Windows CI Pipeline usefulness;"What I did

Fixed falsegreen state from the Windows CI pipeline when unit tests failed.


This should apply to integration tests too.


Fixed failing unit tests that snuck into master due to the falsegreen CI results.

Supplants 
 How I did it";Add bash completion for docker plugin upgrade;"Ref 
As the corresponding feature will be added in .. this PR should go there as well.
Ping sdurrheimer for zsh completion
Notes for reviewers
The first nonoption is completed as plugin nametag. Completions that include require ltrimcoloncompletions so that they work on the part after the colon.
The following argument is completed to the available plugin names without the tag but with a colon appended.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3000;Set GB default sandbox size for WCOW and ensure storageopts is honoured on all paths under WCOW and LCOW;"What I did

Applied the GB WCOW default sandbox size for RUN introduced in to all WCOW sandboxes.


Also ensured this default applies whether WCOW was chosen by explicit platform windows or by imagebased or defaulted platform choice.


En";fix the type;"Signedoffby yupengzte yu.pengzte.com.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3001;. backport bump up rootlesskit to v..;"Backport 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add PORTS field for docker service ls ingress;"This fix is related to comment where docker service ls does not show PORTS information like docker service ps.
This fix adds PORTS fields for services that publish ports in ingress mode.
Additional unit tests cases have been updated.
This fix is related to .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3002;bump up rootlesskit to v..;"Important fix Lock state dir for preventing automatic cleanup by systemdtmpfiles
rootlesscontainersrootlesskit
Full changesrootlesscontainersrootlesskitv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add filters for plugin list endpoint in swagger.yml;"Signedoffby allencloud allen.sundaocloud.io
I fount that in swagger.yml there is filters query missing. This pr adds the missing filters in swagger.yml.
The filter related code is here httpsgithub.comdockerdockerblobmasterpluginbackendlinux.goLL
 What I did

add filters for plugin list endpoint in swagger.yml

ping anusharagunathan thaJeztah vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3003;vendor github.comcreackpty v.. includes fixes for go .;"full diff creackptyv.....v..

v.. Add arm support for OpenBSD
v.. Fix CTTY to work with go.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";make secret ls support filters in CLI;"Signedoffby allencloud allen.sundaocloud.io
This pr makes command docker secret ls support filter.
I found that in daemon API we have already supported secret list filter query. While I found that in docker CLI there is no support of this filter yet.
 What I did

rename .secretls.go to .secretlist.go
support filter in secret ls command
add a test case for docker secret ls filter
add more filter options in swagger.yml
update command line reference of docker secret ls.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3004;pkgdevicemapper fix invalid usage of reflect.SliceHeader;"The current usage of reflect.SliceHeader violates rule th of
unsafe.Pointer conversion. In short reflect.SliceHeader could not be
used as plain struct.
See httpsgolang.orgpkgunsafePointer
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Correct fmt.Fprintf and t.Fatalf;"Signedoffby Helen Xie chenjgharmonycloud.cn

 What I did
Correct fmt.Fprintf and t.Fatalf because the values used for formatting text does not appear to contain a placeholder.
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3005;handleContainerExit timeout on containerd DeleteTask;"Also move c.Lock below containerd delete task as it doesn't seem that
there is any necessity to hold the container lock while containerd is
deleting the corresponding task.
This fixes a potential edgecase where containerd delete task hangs and
thereafter all operations on the container would hang forever as this
function is holding onto the container lock.
Signedoffby Cam ghsparr.email

 What I did
We ecs are not sure how this situation arose but we have encountered an issue with a customer where the containerd DeleteTask operation was hanging. This led to the container lock being held forever and thereafter all calls to StopContainer or KillContainer would hang forever.
 Description for the changelog

bug fix container deadlock if containerd.DeleteTask hangs
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Check parameter ip ip linklocalip in docker network connect;"Signedoffby chchliang chen.chuanliangzte.com.cn
 What I did
Execute docker network connect ipaa network xxx but successfuli think ip address invalidshould be failure. like ip linklocalip

 How I did it
To add check code in containercontainer.go
if epConfig nil 
ipam epConfig.IPAMConfig
	if ipam nil 
		var 
			ipList net.IP
			ip ip linkip net.IP
		

		for ips range ipam.LinkLocalIPs 
			if linkip net.ParseIPips linkip nil ips 
				return nil fmt.ErrorfInvalid linklocal IP addresss ipam.LinkLocalIPs
			
			ipList appendipList linkip

		

		if ip net.ParseIPipam.IPvAddress ip nil ipam.IPvAddress 
			return nil fmt.ErrorfInvalid IPv addresss ipam.IPvAddress
		

		if ip net.ParseIPipam.IPvAddress ip nil ipam.IPvAddress 
			return nil fmt.ErrorfInvalid IPv addresss ipam.IPvAddress
		

		createOptions appendcreateOptions
			libnetwork.CreateOptionIpamip ip ipList nil

	

	for alias range epConfig.Aliases 
		createOptions appendcreateOptions libnetwork.CreateOptionMyAliasalias
	


 How to verify it
docker network connect ipaa network bbf
Error response from daemon Invalid IPv addressaa
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3006;IPv iptables config option;"Note This requires pull request to be merged first already merged
 What I did
Added an config option to enable the IPv iptables rule creation based on mobylibnetwork.
This should close .
fixes 
 How I did it
Add a config option iptables like iptables for IPv which can be used to enable the IPv iptables rule creation.
By default this option is disabled too keep backward compatibility.
 How to verify it
To enable this functionality it is required to enable ipv set a fixed cidr and enable the ipitpables.
This can be done for example via CLI parameters on the daemon
dockerd ipv fixedcidrv fddeadbeef iptables

or by setting the configurations inside the daemon.json.
Now a container can be started and if a port is published the IPv NAT iptables rules are also created.
 Description for the changelog

iptables enables IPv iptables rules only if experimental
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Bump api version to .;"this PR only takes care of ..x for now I'll fix master later.
Let's keep things simple we simply say ..x is API version . and we lock . to the tag v.. as shown here dockerdocker.github.io
ping dnephin thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3007;container make hostconfig.json nonworldreadable;"fixes permissions for config.json and the like security issue together with which updated permissions for config.v.json
When writing container's hostconfig.json permissions were set to worldreadable. While this is not a security concern as the varlibdockercontainers directory has or permissions there is no need to have these permissions as this file is only accessed by the daemon.
Looking at history for file permissions

be first implementation used worldwritable
cfac refactored the code and removed explicit permissions
eacbd introduced atomic writes and brought back the explicit permissions
ecfed removed worldwritable bits but kept worldreadable

This patch updates the permissions to matching what's used for config.v.json which was updated in aecea but forgot to update hostconfig.json.
The second commit is some small cleanuprefactoring
 Description for the changelog

 change permissions on container hostconfig.json files to was 

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cli fixups;"Two smaller commits address dockerdocker.github.io and remove an unused GIF from docsreferencecommandline.
The big commit standardizes formatting of CLI reference commands

Command name should be a H
Only Description Examples and Related Commands should be H
Changed 'Related information' heading to 'Related commands' since it is only linking commands
Added some examples where relevant

These changes will enable us to automate use of the CLI reference files in generated YAML output.

cc FrenchBen
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3008;opts unify hostoptions and use consts;"I should've seen this when working on but I didn't so opening as a followup PR ?ÿà
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add plugin debug docs.;"Doc fix for 
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3009;Added container ID to containerd task delete event messages;"Signedoffby Cam ghsparr.email

 What I did
capture TaskDelete messages in the switch statement so we can add the container ID context to them as this can help users see at what time exactly containerd deleted the container.
logs look like this before change
timeT.Z levelinfo msgignoring event modulelibcontainerd namespacemoby topictasksdelete typeevents.TaskDelete

to this after change
timeT.Z levelinfo msgignoring event containercdfbccbffabafdbccdaaecbdeafb modulelibcontainerd namespacemoby topictasksdelete typeevents.TaskDelete

 Description for the changelog

Added container ID to containerd task delete event messages
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Carry Bump gounits;"Carry 
cc thaJeztah LKD cpuguy tiborvass icecrime

To include dockergounits
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3010;Move HostGatewayName const to opts and change vars to consts;"This prevents consumers of the opts package to also having to
depend on daemonnetwork and everything related.
We can probably change some of the other constants to strings
for easier concatenating and need to review the windowsspecific
... instead of localhost which may no longer be
needed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update docker stack experimental notes;"Update command usage and help.
Carrying and 
cc thaJeztah AkihiroSuda dnephin
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3011;cache manifests on pull;"The tag service does a HEAD request to get the manifest digest where
we can then do a GET against the digest.
The GET by tag is not cacheable but the GET against the digest is.
This allows proxies to work way better.
This is also how containerd works.
It also caches the manifest in containerd's content store so if HEAD returns a manifest we already have we don't need to hit the registry again.
Caches are cleaned up when all images using that manifest are removed.
It also saves a round trip on pull by digest when the manifest is already cached.
Before this change mitmdump
... clientconnect
... GET httpsregistry.docker.iov
 Unauthorized b
... clientdisconnect
... clientconnect
... GET httpsauth.docker.iotokenscoperepositoryAlibraryFbusyboxApullserviceregistry.docker.io
 OK .k
... clientconnect
... clientdisconnect
... GET httpsregistry.docker.iovlibrarybusyboxmanifestslatest
 OK .k
... clientdisconnect
... clientconnect
... GET httpsregistry.docker.iovlibrarybusyboxmanifestsshacfdffdeaeeecbffceabebc
 OK b
... clientdisconnect

With this change mitmdump
... clientconnect
... GET httpsregistry.docker.iov
 Unauthorized b
... clientdisconnect
... clientconnect
... GET httpsauth.docker.iotokenscoperepositoryAlibraryFbusyboxApullserviceregistry.docker.io
 OK .k
... clientconnect
... clientdisconnect
... HEAD httpsregistry.docker.iovlibrarybusyboxmanifestslatest
 OK b
... clientdisconnect
... clientconnect
... GET httpsregistry.docker.iovlibrarybusyboxmanifestsshaadefababadbaedbcbeeebfebbdaeded
 OK .k
... clientdisconnect
... clientconnect
... GET httpsregistry.docker.iovlibrarybusyboxmanifestsshacfdffdeaeeecbffceabebc
 OK b
... clientdisconnect

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Hide command options that are related to Windows;NOM;0
3012;replace pkgsymlink with github.commobysyssymlink;"followup to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix some types on errors and form;"Signedoffby kaiwentan kaiwentanharmonycloud.cn

 What I did
Server should be server add missing period
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3013;registry.loginV minor cleanup;"just some minor cleaning up construct the endpointpath once instead of twice and grouping all variable declarations at the start.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";compose fix environment interpolation from the client;"What I did
Fix newly support environment interpolation from the client
e.g.
services
 x
 environment
 needs to be propagated from the client
 FOO

 How I did it
Please refer to the code.
 How to verify it
Prepare following files
doc";0
3014;Vendor in Libnetwork changes;"Bring in changes from mobylibnetwork to moby
Signedoffby Arko Dasgupta arko.dasguptadocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update dependency for Grayloggogelf;"Signedoffby Aaron.L.Xu likexuharmonycloud.cn

 What I did Update dependency for Grayloggogelf
 How I did it Well actually I just try to use govendor and the nChunksI size was updated by joschi.
 How to verify it please test it or fetch latest code for gogelf by own
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3015;vendor buildkit ffdefefdeedaa;"Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Avoid TestExecWindowsOpenHandles timing out;"Signedoffby John Howard jhowardmicrosoft.com
Found while running Windows CI against nanoserver with a bit busybox image that is build slightly differently. This test currently has an incorrect assumption and can end up stuck in the for loop forever before CI times out. seconds is a reasonable duration to loop for waiting.?áI'll probably need to modify this test in the future too but at least this avoids the?ápossible infinite loop.
darrenstahlmsft FYI.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3016;contrib remove downloadfrozenimagev script;"I don't think we still had a use for this script and if someone needs this it'll still be accessible in older tagsreleases.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix panic of docker stats format .Name all;"This commit fixes panic when execute stats command

use format .Name with all when there're exited containers.
use format .Name while stating exited container.

The root cause is when stating an exited container the result from the
api didn't contain the Name and ID field which will make format
process panic.
Panic log is like this
panic runtime error slice bounds out of range recovered
	panic runtime error slice bounds out of range

goroutine running
panicxbf xc
	usrlocalgosrcruntimepanic.go xa
texttemplate.errRecoverxce
	usrlocalgosrctexttemplateexec.go xad
panicxbf xc
	usrlocalgosrcruntimepanic.go x
github.comdockerdockerclicommandformatter.containerStatsContext.Namexc
x x
	gosrcgithub.comdockerdockerclicommandformatterstats.go
x
reflect.Value.callxbaa xc x xbe x
xbcf x x xdb x ...
	usrlocalgosrcreflectvalue.go xc
reflect.Value.Callxbaa xc x xbcf x x
xc xb xb
	usrlocalgosrcreflectvalue.go xa
texttemplate.state.evalCallxc xbaa xc
x xbaa xc x xfa xcea
xcde ...
	usrlocalgosrctexttemplateexec.go x

Signedoffby Zhang Wei zhangweihuawei.com
This is part of here is the client fix daemon fix is still under discussion.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3017;Cleanup v registry code that is not used for searching;"See individual commits for details. This will likely conflict with which also removes the fallback errors but I think that's causing that PR to fail i.e. when using insecure registries and connecting to https fails it should continue with the next endpoint.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix grammatical error in swarmleave.md;"Correct this sentence so it reads correctly. to on a manager should be
on a manager.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3018;Pass through GOCACHE to testenv;"Otherwise the cache gets written to bundles instead of to the volume
that we setup in the Makefile as expected.
Found this because vscode did not like having these huge objects in
bundlesfakeHOME... it didn't harm anything just that it noticed and said hey I don't
like that.
This enables cachereuse when building the test binaries.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";getAllNetworks unnecessary walks all the networks;"libnetwork controller Networks already returns
a copy list. Also Networks correctly skips any
network which ahs already been marked for deletion
while getAllNetworks implementation bypasses this.

 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3019;. backport docs fix builderversion swagger;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ppcle and sx fixes for manpages;"Extension of 
Fixes manpages for p and z by downloading a specific version
of go instead of relying on the distro version.
Note something may need to be done for aarch too but I don't have a machine that I can test that on.
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com
cc vieux justincormack andrewhsu
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3020;docs fix builderversion swagger;"The field is called BuilderVersion 
 
 
 mobyapiserverroutersystemsystemroutes.go
 
 
 Line 
 in
 ee
 
 
 
 

 
 
 w.Header.SetBuilderVersion stringbv 
 
 
 


Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix command.PromptForConfirmation to accept enter for the N default;"What I did
This adjusts command.PromptForConfirmation in clicommandutils.go to use bufio's ReadLine rather than using fmt.Fscan for reading input which makes Enter properly accept the default value of No as one would expect.
 How I did it
This n";0
3021;docker kill fix bug where failed kills didnt fallback to unix kill;"fixes 
removes potential infinite Wait and goroutine leak at end of kill
function
refactored container state waiting out of containeroperationsunix.go
and into kill.go for consistency

fixes 
Signedoffby Cam ghsparr.email

before change
docker kill would just return error if the first sigkill function failed
 docker kill kt
Error response from daemon Cannot kill container kt foo error

after change
docker falls back to unix kill and container exits
 docker kill kt
kt

docker logs
Oct ip.uswest.compute.internal dockerd timeT.Z levelerror msgContainer failed to exit within seconds of kill trying direct SIGKILL containerfdfdbafbadffcedfceefdfffbcbacfc errorcontext deadline exceeded
Oct ip.uswest.compute.internal dockerd timeT.Z levelinfo msgignoring event modulelibcontainerd namespacemoby topictasksdelete typeevents.TaskDelete

 Description for the changelog

fix bug where docker kill would not properly fallback to unix sigkill
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update swagger spec for plugin upgrade;"This was added in c but spec was
not updated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3022;Fix hung docker stop if stop signal and daemon.Kill both fail;"replaces 
this refactors the Stop command to fix a few issues and behaviors that
dont seem completely correct

first it fixes a situation where stop could hang forever 
fixes a behavior where if sending the
stop signal failed then the code directly sends a signal. If that
fails it returns without waiting for the process to exit or going
through the full docker kill codepath.
fixes a behavior where if sending the stop signal failed then the
code sends a signal. If that succeeds then we still go through the
same stop waiting process and may even go through the docker kill path
again even though we've already sent a .
fixes a behavior where the code would wait the full seconds after
sending a stop signal even if we already know the stop signal failed.

 and were both fixed to not send a directly and instead rely on the docker kill codepath
fixes 

 What I did
remove waiting without a timeout when docker kill fails within docker stop
before change
cli
 docker stop hangs forever

Oct ip.uswest.compute.internal dockerd timeT.Z levelinfo msgContainer edecadadebabcbbdfafcbbeefc failed to exit within seconds of signal using the force

after change
cli
 docker stop kt
Error response from daemon cannot stop container kt foo error

docker logs
Oct ip.uswest.compute.internal dockerd timeT.Z levelinfo msgContainer failed to exit within seconds of signal using the force containeraeefcdebebabcfbdbdcfdfefc
Oct ip.uswest.compute.internal dockerd timeT.Z levelerror msgError killing the container containeraeefcdebebabcfbdbdcfdfefc errorfoo error
Oct ip.uswest.compute.internal dockerd timeT.Z levelerror msgHandler for POST v.containersktstop returned error cannot stop container kt foo error

 Description for the changelog

Fix hung docker stop if SIGTERM and SIGKILL both fail
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Show stacktrace in daemon logs only if internal error;"Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3023;docker stats fix 'panic close of closed channel';"Signedoffby fanjiyun fan.jiyunzte.com.cn

 What I did
When executing ?Ç£docker stats?Ç¥ and ?Ç£docker rm?Ç¥ in parallel there is a certain probability that problems panic close of closed channelwill occur.
docker rm f call this func

 
 
 mobypkgpubsubpublisher.go
 
 
 Lines to 
 in
 cfdfc
 
 
 
 

 
 
 func p Publisher Close 
 

 
 
 	p.m.Lock 
 

 
 
 	for sub range p.subscribers 
 

 
 
 		deletep.subscribers sub 
 

 
 
 		closesub 
 

 
 
 	 
 

 
 
 	p.m.Unlock 
 

 
 
 
 
 
 


docker stats call this func

 
 
 mobypkgpubsubpublisher.go
 
 
 Lines to 
 in
 cfdfc
 
 
 
 

 
 
 func p Publisher Evictsub chan interface 
 

 
 
 	p.m.Lock 
 

 
 
 	deletep.subscribers sub 
 

 
 
 	closesub 
 

 
 
 	p.m.Unlock 
 

 
 
 
 
 
 


Once this panic occurs the lock of Collector will not be released and all docker stats and docker rm will be blocked.
So I added a step to check the channel before closing it.
 How I did it
In the func Evict??î check whether the channel exists in the map p.subscribers.
 How to verify it

Repeated execution ?Ç£docker stats cid?Ç¥.
At the same time execution docker rm f cid to delete container.

However the probability of problems is very small.
Adding time.sleep in the code can increase the recurrence probability.
 after this line add time.sleep

 
 
 mobydaemondelete.go
 
 
 Line 
 in
 cfdfc
 
 
 
 

 
 
 daemon.statsCollector.StopCollectioncontainer 
 
 
 


 before this line add time.sleep

 
 
 mobydaemonstats.go
 
 
 Line 
 in
 cfdfc
 
 
 
 

 
 
 daemon.statsCollector.Unsubscribec ch 
 
 
 


 Description for the changelog

In the func Evict check the channel before closing it.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix the create API when fromSrc has a bad URL;"What I did
When a bad URL is provided in the fromSrc parameter the response status code is set to although the download fails.
This commit fixes this by making sure the resource is available.
Another problem this commit fixes is when sending a URL w";0
3024;vendor golang.orgxsys eeedfffdeebaffa;"golangsysaeed...eeedf

all add GOOSios
unix add back IoctlCtlInfo on darwin
windows add SetConsoleCursorPosition
unix update Dockerfile to Linux . and Go .. adds CAPCHECKPOINTRESTORE

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update Go Yaml;"changes license to Apache from LGPLv
small fixes for Go . parsing.

Signedoffby Justin Cormack justin.cormackdocker.com

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3025;vendor github.comcontainerdconsole v..;"full diff containerdconsolev.....v..
Fixes compatibility with current versions of golang.orgxsys
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";use golang .. for building man pages;"What I did
Updated manDockerfile to use golang .. when building man pages. This is needed because builds of debian packages are failing during man page generation because the golang installed is version . which does not have context package
docke";0
3026;Update array length check logic for preventing offbyone error;"Array length should be greater than or equal to when accessing index 

 What I did
Prevent offbyone error.
Though procpidmountinfo has somewhat fixed format this change will decrease possibility of runtime panic.
 How I did it
Update array length verification logic.
 How to verify it
package main

import 
	fmt
	strings


func main 
	mountinfo 
	if fields strings.Fieldsmountinfo lenfields 
		mnt fields
		fmt.Printlnmnt
	

Code above will make a runtime panic.
 Description for the changelog
Update array length check logic for preventing offbyone error

 A picture of a cute animal not mandatory but encouraged
?Éê

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add stopsignal for service create and service update;"What I did
This fix tries to address the issue raised in where it was not possible to specify stopsignal for docker service create and docker service update in order to use special signal to stop the container.
 How I did it
This fix adds";0
3027;Temporarily disable CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE;"fixes 
This prevents docker from setting CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE
capabilities on privileged or CAPALL containers on Kernel . and up.
While these kernels support these capabilities the current release of runc ships with an older version of gocapabilitycapability and does not know about them causing an error to be produced.
We can remove this restriction once opencontainersruncdfbeb is included in a runc release and once we stop supporting containerd ..x which ships with runc v..rc.
Thanks to aiordache for reporting.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove Register return value;"Since Register will never return errremove the return value
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3028;Dockerfile fix golangcilint installer;"Similar fix as 
We were using go get whith would try to fetch some dependencies that are not in the version we're installing
go get d github.comgolangcigolangcilintcmdgolangcilint

Causing the build to fail
package d.comgochecknoglobalschecknoglobals unrecognized import path d.comgochecknoglobalschecknoglobals parse httpsd.comgochecknoglobalschecknoglobalsgoget no goimport meta tags 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix Windows docker stats showing Linux headers;"What I did
This fix is an attempt to fix issue raised in where docker stats on Windows shows Linux headers if there is no containers in stats.
The reason for the issue is that in case there is no container a header is faked in
httpsgithub.c";0
3029;. backport dockerdrootless.sh support new containerd shim socket path convention;"The new shim socket path convention hardcodes runcontainerd containerdcontainerd
dockerdrootless.sh is updated to hide the rootful runcontainerd from the mount namespace of the rootless dockerd.
Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update git hoist powershell setttings to top and get git simpler;"What I did

simplified the Windows Dockerfile a little

 How to verify it
docker build t test f dockerfile.windows .
docker run e DOCKERGITCOMMITfoo test hack\make.ps Binary

 
 
 
 
 
 

";0
3030;Don't set default platform on container create;"fixes 
This fixes a regression based on expectations of the runtime
docker pull armvalpine
docker run armvalpine

Without this change the docker run will fail due to platform
matching on nonarmv systems even though the image could run
assuming the system is setup correctly.
This also emits a warning to make sure that the user is aware that a
platform that does not match the default platform of the system is being
run for the cases like
docker pull platform armhf busybox
docker run busybox

Not typically an issue if the requests are done together like that but
if the image was already there and someone did docker run without an
explicit platform they may very well be expecting to run a native
version of the image instead of the armhf one.
This warning does add some extra noise in the case of platform specific
images being run such as armvalpine but this can be supressed by
explicitly setting the platform.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validate insecure registry insecureregistry values;"What I did
This fix is based on comment
Currently the insecure registry is only checked to see if it contains scheme https or not. No full validation is done and this caused many confusions like in .
This fix tries to address the";0
3031;Bump vndr v..;"full diff LKDvndrv.....v..

cleanVCS prevent panic
Consider '.syso' as a Go file for vendoring

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add compose support of attachable in networks;"What I did
This fix tries to address the issue raised in where it was not possible to specify attachable flag for networks in compose format.
 How I did it
This fix adds the support of attachable for compose v. format.
 How to verify it
Addit";0
3032;vendor github.comspfcobra v..;"full diff spfcobrav.....v..
Notable changes

Extend Go completions and revamp zsh comp
Add completion for help command
Complete subcommands when TraverseChildren is set
Fix stderr printing functions
fix fish output redirection
fix manpage building with new gomdman

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add label filter for docker system prune;"What I did
This fix tries to address the issue raised in where it was not possible to mask these items like important nonremovable stuff from docker system prune.
 How I did it
This fix adds label and label field for filter in system prune";0
3033;Fix checkpoint on v runtime;"CheckpointRestore is horribly broken all around.
But on the now default v runtime it's even more broken.
This at least makes checkpoint equally broken on both runtimes.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add status code for api endpoint events;"Signedoffby allencloud allen.sundaocloud.io
I found that in master and ..x ..x there is a status code of for events endpoint just add this status code.
code is like below
return errors.NewBadRequestErrorfmt.Errorfsince time s cannot be after until time s r.Form.Getsince r.Form.Getuntil

in master code is here httpsgithub.comdockerdockerblobmasterapiserverroutersystemsystemroutes.goL
in docker .. code is here httpsgithub.comdockerdockerblobv..apiserverroutersystemsystemroutes.goL
in docker .. code is herehttpsgithub.comdockerdockerblobv..apiserverroutersystemsystemroutes.goL
While in docker .. there is no such status code of .
 What I did

add status code of for events endpoint in swagger.yml
add status code of for events endpoint in api docs .

ping thaJeztah
It is about docker ..x and ..x I think there is no need to separate PRcommits there right
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3034;. backport pkgaaparser support parsing version like ..beta;"backport of and 
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow format to use different delim in table format;"What I did
This fix is an attempt to address comment
Currently when specify table format with table format table .ID... the delimiter in the header section of the table is always \t. That is actually different from the content of the";0
3035;Also trim ... from AppArmor versions;"What I did
Asked Canonical who in turn had spoken to AppArmor upstream maintainers whether we needed to trim ... from AppArmor versions too comment. ?ÿä
 How I did it
I found httpsgitlab.comapparmorapparmorcommitbcadddd";clusterexecutor check mounts at start;"While it is important to not create controllers for an invalid task
certain properties should only be checked immediately before use. Early
host validation of mounts prevents resolution of the task Executor when
the mounts are not relevant to execution flow. In this case we have a
check for the existence of a bind mount path in a creation function that
prevents a task controller from being resolved. Such early validation
prevents one from interacting directly with a controller and result in
unnecessary error reporting.
In accordance with the above we move the validation of the existence of
host bind mount paths to the Controller.Start phase. We also call
these checks as they are valid mounts but reference nonexistent
paths.
Signedoffby Stephen J Day stephen.daydocker.com
Related to 
See comment for a concrete analysis.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3036;testing Init plugin config when for tests;"fixes 
This fixes a panic when running this test for me locally.

This is not panicing on CI because CI has TESTSKIPINTEGRATIONCLI ?æÄ
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Parameter name in GetPluginPrivileges is remote;"According to the behavior of Engine .. as well as code in master the name of the query param for pluginsprivileges is remote but the swagger file currently lists name instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3037;vendor github.comgofrsflock v..;"full diff gofrsflockv.....v..
Relevant changes

fix closeUnlock won't close the file descriptor if not locked
fix license text update year

Note that there's also a v.. release that release only adds aix support
which is currently of no interest to us so skipping that version for now.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Update go connections .;"Changes windows message about system certificates from warn to info level. Ensures that server does not attempt to load an empty ca file.
fixes 
Like but against .. Uses httpsgithub.comdockergoconnectionstreedocker. instead of master which only contains windows fix.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3038;Remove default oom score adj;"Related

 dockerdockercepackaging systemd set OOMScoreAdjust for dockerd
 dockerlibrarydocker Explicitly set oomscoreadjust to 

 What I did
This removes the default oomscoreadjust from the daemon. The test utilities are updated to keep the old default as our tests start the daemon manually not through systemd
 How I did it
 How to verify it
 Description for the changelog

Remove default oom score for dockerd. When starting the daemon manually not through systemd users should set the oomscoreadjust daemon option to preserve the old behavior.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update goconnections package;"Changes windows message about system certificates from warn to info level. Ensures that server does not attempt to load an empty ca file.
fixes 
fixes dockergoconnections
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3039;daemon don't adjust oomscore if score is;"relates to addresses dockerforlinux
This patch makes two changes if oomscoreadj is set to 

do not adjust the oomscoreadjust cgroup for dockerd
do not set the hardcoded score for containerd if
containerd is running as child process

Before this change



oomscoreadj
dockerd
containerd as childprocess






 same as dockerd




 same as dockerd




 hardcoded default



With this change



oomscoreadj
dockerd
containerd as childprocess






 same as dockerd




 same as dockerd



not adjusted
not adjusted



 Description for the changelog

Do not adjust the OOMscore for the daemon and containerd if oomscoreadj is 

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Add plugin upgrade;"ping vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3040;Update documentation to reflect deprecation of NewEnvClient;"What I did
As NewEnvClient is deprecated in favor of NewClientWithOpts the client package documentation should reflect this. This is also the text that appears on godoc.org so it's quite important that it is correct for newbies like me
 How I did it";Topologyaware scheduling;"This adds support for placement preferences in Swarm services design doc dockerswarmkit swarmkit PR dockerswarmkit. This feature allows services to be balanced over nodes based on a particular userdefined property such as which datacenter or rack they are located in.

Convert PlacementPreferences between GRPC API and HTTP API
Add placementprefadd and placementprefrm to CLI
Add support for placement preferences in service inspect pretty
Add integration test

cc aluzzardi dongluochen dnephin
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3041;. backport Fix gcplogs memoryconnection leak;"backport of 
fixes 
The cloud logging client should be closed when the log driver is closed. Otherwise dockerd will keep a gRPC connection to the logging endpoint open indefinitely.
This results in a slow leak of tcp sockets and memory Kb any time that a container using logdrivergcplogs is terminates.
 Description for the changelog

 Fix gcplogs memoryconnection leak
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactor use of shared completion functions;"For several commands options are so similar that they share the completion function in bash completion
dockercontainercreate delegates to dockercontainerrun
dockerservicecreate delegates to dockerserviceupdate
In review AkihiroSuda remarked

The name of dockerserviceupdate is confusing because it is also related to nonupdate.

This PR improves the situation by renaming the shared functions to dockercontainerrunandcreate and dockerserviceupdateandcreate.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3042;pkgaaparser support parsing version like ..beta;"Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix RefCounter count return;"Signedoffby Alfred Landrum alfred.landrumdocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3043;seccomp implement marshalunmarshall for MinVersion;"A little lunchtime experiment as alternative approach to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update incorrect comments of CheckpointList;"Signedoffby allencloud allen.sundaocloud.io

update incorrect comments of CheckpointList
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3044;Fix gcplogs memoryconnection leak;"The cloud logging client should be closed when the log driver is closed. Otherwise dockerd will keep a gRPC connection to the logging endpoint open indefinitely.
This results in a slow leak of tcp sockets and memory Kb any time that a container using logdrivergcplogs is terminates.
fixes 
Testing
Tested locally in docker dev environment docker run rm logdrivergcplogs helloworld no longer grows the connection count of dockerd.
 Description for the changelog
Fix gcplogs memoryconnection leak
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for dockerd defaultshmsize;"Ref 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3045;vendor sirupsenlogrus v..;"full diff sirupsenlogrusv.....v..
removes dependency on github.comkonsortengowindowsterminalsequences
Features

a new buffer pool management API has been added
a set of LogLevelFn functions have been added

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for stack services|service ls format;"Ref 
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3046;vendor github.comcoreospkg v;"full diff coreospkgv...v

capnslog fix compatibility with pflag

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add missing filter type in swagger.yml and sort filter type in alphabets;"Signedoffby allencloud allen.sundaocloud.io
I found that there are some missing types about filter in daemon API in swagger.yml. Here is the missing type list

in GET containersjson filter type expose and publish
in GET events filter type plugin
in GET volumes filter type label

Secondly I sort the all filter type in swagger.yml sorted by alphabet sequence.
Thirdly I add filter type volume network and isolation in command ps and sorted this filter types. Also update events command line reference to sort filter types.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3047;Add TARGETARCH var to frozen images stage;"This allows the arch that buildkit passes through to be used for the
frozen image downloader.

Don't know why I didn't think about this on the last PR ?ÿä
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add status code for plugin api endpoint enable and disable;"Signedoffby allencloud allen.sundaocloud.io
This pr adds missing status code for plugin api endpoint enable and disable
ping anusharagunathan
 What I did

add status code for plugin api endpoint enable and disable in swagger.yml tested in docker ..
add status code for plugin api endpoint enable and disable in api doc. tested in docker..exeperimental

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3048;seccomp remove dependency on oci package;"followup to and 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update status code for network api;"Signedoffby allencloud allen.sundaocloud.io
fixes 
 What I did

add status code for api endpoint GET networksid or name status code is from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goL
add status code for api endpoint DELETE networksid or name status code is from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goL
update network api endpoints' url replace id with id or name.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3049;seccomp add test for loading old JSON format;"Commit ffad changed the JSON format that's used for seccomp profiles but keeping the code backward compatible to allow both the old or new format.
This patch adds a new test which loads the old format. It takes the default seccomp profile before the format was changed.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes take reference to RWLayer while committingexporting;"fixes 
Take an extra reference to rwlayer while the container is being
committed or exported to avoid the removal of that layer.
Also add some checks before commitexport.
coolljt thaJeztah cpuguy PTAL ?ÿ£
Signedoffby Yuanhong Peng pengyuanhonghuawei.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3050;. backport awslogs Update awssdkgo to support IMDSv;"backport of 
AWS recently launched a new version of the EC Instance Metadata
Service which is used to provide credentials to the awslogs driver when
running on Amazon EC. This new version of the IMDS adds
defenseindepth mechanisms against open firewalls reverse proxies and
SSRF vulnerabilities and is generally an improvement over the previous
version. An updated version of the AWS SDK is able to handle the both
the previous version and the new version of the IMDS and functions when
either is enabled.
More information about IMDSv is available at the following links

httpsaws.amazon.comblogssecuritydefenseindepthopenfirewallsreverseproxiesssrfvulnerabilitiesecinstancemetadataservice
httpsdocs.aws.amazon.comAWSEClatestUserGuideconfiguringinstancemetadataservice.html

Closes 
Signedoffby Samuel Karp skarpamazon.com
cherry picked from commit ae
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add NILVALUE for STRUCTUREDDATA in RFC logs;"RFC httpstools.ietf.orghtmlrfcsection. requires that
STRUCTUREDDATA be present either as NILVALUE or as one or more
SDELEMENT items. Because Docker doesn't ever create any SDELEMENT items
the format should output the NILVALUE instead. This resolves parsing issues
in various RFC compliant syslog servers. Fixes but does not
address the suggestion there for allowing the contained application to
supply a SDELEMENT value.
Signedoffby Mark Parker godefroigmail.com
 What I did
Add NILVALUE to the RFC format strings
 How I did it
 How to verify it
 Description for the changelog
Correct RFC syslog log message formatting
 A picture of a cute animal not mandatory but encouraged
 ..
 oo 
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3051;seccomp remove dependency on pkgparserskernel;"Followup to 
This removes the dependency on the pkgparserskernel package because secomp
only needs to consider Linux and no parsing is needed for Windows or Darwin kernel
versions.
This patch implements the minimum requirements for this implementation

only kernel and major versions are considered
minor version flavor and rcXX suffixes are ignored

So for example

...longterm kernel major 
..generic kernel major 
.....el.x kernel major 

Some systems also omit the minor andor have oddformatted versions. In context
of generating seccomp profiles both versions below are considered equal

..gentoo kernel major 
.amd kernel major 

Note that rcX suffixes are also not considered and thus e.g. kernel .rc
.rc and . are all considered equal.
The motivation for ignoring minor versions and flavors is that

The upstream kernel only does kernel.major releases
While releasecandidates exists for kernel e.g. .rc we don't expect users
to write profiles that target a specific releasecandidate and therefore consider
e.g. kernel .rc .rc and . to be equal.
Generally a seccompprofile should either be portable or written for a specific
infrastructure in which case the writer of the profile would know if the kernelflavors
used doesdoes not support certain things.
 Description for the changelog


 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Vendoring libnetwork b for ..x;"This is the counterpart of for ..x branch
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3052;api clarify v option behavior in the container remove endpoint;"Current description of the v option doesn't explain what happens to the volumes that are still in use by other containers. Turns out that the only volumes that are removed are unnamed ones 
 
 
 mobydaemonmounts.go
 
 
 Lines to 
 in
 aac
 
 
 
 

 
 
 Do not remove named mountpoints 
 

 
 
 these are mountpoints specified like docker run v namefoo 
 

 
 
 if m.Spec.Source 
 

 
 
 	continue 
 

 
 
 
 
 
 


Perhaps a good way of clarifying this behavior would be adapting the description from docker rm help.
As for the docsapiv..yaml changes ?Çö they seem to be applicable since the origin of this behavior dates way back to the or v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetwork f;"Fixes 
Fixes 
Also changes to

ease the load on external kv stores when retrieving tp level network objects
expose nw db node discovery notifications to external drivers
harden ipvs service creationremoval logic

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3053;plugin.Manager.setupNewPlugin remove unused blobsums argument;"What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but t";Add Windows specific exec root for plugins.;"Fixes 
Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3054;Remove redundant os.IsNotExist checks on os.RemoveAll;"os.RemoveAll should never return this error. From the docs

If the path does not exist RemoveAll returns nil no error.

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Remove unused commandLine;"Signedoffby John Howard jhowardmicrosoft.com
This?áremoves commandLine which is unused in the Windows implementation of libcontainerd. It was?áoriginally introduced for a minimal implementation of the?átop call but was superceeded later by platform support from HCS but?ánot removed.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3055;daemongraphdrivercopy use IoctlFileClone from golang.orgxsysunix;"Vendor the latest version of golang.orgxsysunix full diff golangsysbba...aeed to get unix.IoctlClone and use it in copyRegular. This allows to drop the cgobased implementation.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding support for docker max restart time;"Signedoffby milindchawre milindchawregmail.com
Fixes 
 What I did
Added support for max restart time.
 How I did it
Added maxRestartTimeout this is the max restart timeout set to minute.
 How to verify it
Run a container with restart policy always and ensure this container always crash.
docker run restartalways alpine binsh c 'sleep exit '
The max timeout between the restart of this container should be minute.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3056;Windows CI Add support for testing with containerd;"What I did
Set Windows Server Preview Build and later to use ContainerD as default runtime like agreed on comment and provided CI for it by modifying Win CI added by .
Updated to working with 
 How I did it

Some pre";Add example for devicecgrouprule to create reference;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
Doc follow up for 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3057;pkgsystem make EnsureRemoveAll unixspecific;"The tricks performed by EnsureRemoveAll only make sense for Linux and
other Unices so separate it out and make EnsureRemoveAll for Windows
just an alias of os.RemoveAll.
This makes sure RecursiveUnmount is not called on Windows.
Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";List Networks need not pull all the endpoints;"Pulling all the endpoints is a very resource heavy operation especially
for Globalscoped networks with a backing KVStore. Such heavy operations
can be fetched for individual network inspect. These are unneccessary
for a simple network list operation.
Signedoffby Madhu Venugopal madhudocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3058;Windows CI Force DownloadFile function to use TLS . fix to RS CI;"What I did
I noticed that RS CI from master have been broken for a while that is because .NET version which RS uses does not have TLS . enabled by default and nuget.org does not have TLS . enabled anymore.
This PR will set both RS and RS to use";Fixing issue of docker top command failure when dealing with m option;"Signedoffby catinthesky yaozaiyonghotmail.com

 What I did
Ignore the ps m command's thread line that has character as pid which can not be converted into a int.
 How I did it
When detecting pid column is ignore this line and continue forward.
 How to verify it
Using command docker top m to check if the problem of Unexpected pid '' strconv.ParseInt parsing invalid synta disappeared
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
Fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3059;Allow downloadfrozenimages to work without go;"Currently we use the go command to read GOARCH and use the value for
matching manifests.
This change allows

Specifying the arch through TARGETARCH
Falling back to dpkg if go is not available
Falling back to uname m if dpkg is not available
A default value amd if none of these commands is available.

Some of these fallbacks could definitely be better.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for dockerddocker run logopt maxbuffersize|mode;"Ref 
Also updated the link to the documentation which moved to docker.github.io.
According to the PR

added builtin logopts that work on all logging drivers mode blocking|nonblocking and maxbuffersize e.g. m which enables a nonblocking log buffer

the new options are common to all log drivers so I created a new variable for common options.
Question
The log options env labels and tag seem to be global too. But in the documentation they are missing for selected drivers

awslogs and logentries do not support any of them
gcplogs and jsonfile are missing tag

Is the documentation wrong here Can some of these options be promoted to the common options
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3060;seccomp refactor to use runtimespec types where possible;"What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but t";referencecommandline small tfix;"Signedoffby Ma Shimiao mashimiao.fnstcn.fujitsu.com
 What I did
small tfix
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3061;vendor opencontainersgodigest v..;"to match the version used in containerd
full diff opencontainersgodigestv..rc...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update API history and man page for filter exposepublish;"This fix updates API history and man page for
docker ps filter exposepublish from the feedback
 comment
Signedoffby Yong Tang yong.tang.githuboutlook.com
cc thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3062;vendor dockerlibnetwork dbfafcfbfbeebab;"full diff mobylibnetworkeaf...d

mobylibnetwork types remove some dead code
mobylibnetwork clientmflag remove use of dockerdockerpkghomedir
mobylibnetwork Skip redundant kernel version checks
mobylibnetwork vendor update docker to ca and reduce dependency graph

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make markdown for man pages of docker container ... consistent;"This fix updates the markdown for man pages of docker container ...
so that they are consistent. The changes are based on feedback
 comment
 comment

Use H as needed
Use unrpiviledged prompt instead of 

This PR covers files under mansrccontainer.md
Signedoffby Yong Tang yong.tang.githuboutlook.com
cc thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3063;Windows CI Fix collecting the logs of the daemon under test;"What I did
This PR fixes an issue we discussed in . Sometimes the logs of the daemon under test couldn't be found.
 How I did it
I first ran a test to show me the current dir in the script and indeed in some cases the script was a sub folder an";Support netcontainerNameOrID for windows Shared Pod Network;NOM;0
3064;vendor github.comsyndtrgocapability cbfdefcadebfeaffb;"full diff syndtrgocapabilityd...cb
Update Capabilities

Add CAPPERFMON
Add CAPBPF
Add CAPCHECKPOINTRESTORE

 Description for the changelog

Add support for CAPPERFMON CAPBPF and CAPCHECKPOINTRESTORE on supported kernels

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Unify workdir handling;"Signedoffby John Howard jhowardmicrosoft.com
Working directory processing was?áhandled differently for HyperV and WindowsServer containers as annotated in the builder documentation updated in this PR. For HyperV containers the working directory set by WORKDIR was not created. This PR makes HyperV containers work the same as Windows Server containers and the same as Linux.
swernli As discussed offline. PTAL.
Example only applies to HyperV containers so not reproducible under CI environment
Dockerfile
escape
FROM microsoftnanoserver
WORKDIR c\installer
ENV GOROOTc\installer
ADD go.exe .
RUN go help

Running on Windows Server using docker master without this change but with daemon set to?áexecopt isolationhyperv as it would be for Client operating systems.
PS E\go\src\github.com\docker\docker dockerd g c\control execopt isolationhyperv
timeT. levelinfo msgWindows default isolation mode hyperv
timeT. levelinfo msggraphdriver using prior storage driver windowsfilter
timeT. levelinfo msgGraph migration to contentaddressability took . seconds
timeT. levelinfo msgLoading containers start.
timeT. levelinfo msgLoading containers done.
timeT. levelinfo msgDaemon has completed initialization
timeT. levelinfo msgDocker daemon commitc graphdriverwindowsfilter version..dev

First with no explicit isolation
PS E\docker\build\unifyworkdir docker build nocache .
Sending build context to Docker daemon . MB
Step FROM microsoftnanoserver
 bcbca
Step WORKDIR c\installer
 efd
Removing intermediate container ca
Step ENV GOROOT c\installer
 Running in eac
 b
Removing intermediate container eac
Step ADD go.exe .
 eac
Removing intermediate container dcceb
Step RUN go help
 Running in efeebbb
container efeebbbabccdcebadccdecb encountered an error during CreateProcess failure in a Windows system call The directory name is invalid. xb extra info ApplicationNameCommandLinecmd S C go helpUserWorkingDirectoryC\\installerEnvironmentGOROOTc\\installerEmulateConsolefalseCreateStdInPipetrueCreateStdOutPipetrueCreateStdErrPipetrueConsoleSize
PS E\docker\build\unifyworkdir

Then?áforcing process isolation
PS E\docker\build\unifyworkdir docker build isolationprocess nocache .
Sending build context to Docker daemon . MB
Step FROM microsoftnanoserver
 bcbca
Step WORKDIR c\installer
 cc
Removing intermediate container cec
Step ENV GOROOT c\installer
 Running in bdecee
 bbb
Removing intermediate container bdecee
Step ADD go.exe .
 eacfb
Removing intermediate container deeda
Step RUN go help
 Running in eaaaff
Cannot mkdir C\installer is not a directory
PS E\docker\build\unifyworkdir

Now compare the same results after this PR. Again first with no explicit isolation defaulting to HyperV containers as that's what the daemon it set to note it now succeeds ?ÿä
PS E\docker\build\unifyworkdir docker build nocache .
Sending build context to Docker daemon . MB
Step FROM microsoftnanoserver
 bcbca
Step WORKDIR c\installer
 ffc
Removing intermediate container bcbfff
Step ENV GOROOT c\installer
 Running in cadd
 aabab
Removing intermediate container cadd
Step ADD go.exe .
 dfaf
Removing intermediate container dcafffe
Step RUN go help
 Running in bdff
Go is a tool for managing Go source code.

Usage

 go command arguments

The commands are

 build compile packages and dependencies
 clean remove object files
 doc show documentation for package or symbol
 env print Go environment information
 fix run go tool fix on packages
 fmt run gofmt on package sources
 generate generate Go files by processing source
 get download and install packages and dependencies
 install compile and install packages and dependencies
 list list packages
 run compile and run Go program
 test test packages
 tool run specified go tool
 version print Go version
 vet run go tool vet on packages

Use go help command for more information about a command.

Additional help topics

 c calling between Go and C
 buildmode description of build modes
 filetype file types
 gopath GOPATH environment variable
 environment environment variables
 importpath import path syntax
 packages description of package lists
 testflag description of testing flags
 testfunc description of testing functions

Use go help topic for more information about that topic.

The command 'cmd S C go help' returned a nonzero code 

And the same with forcing process isolation. Also works ?ÿä
PS E\docker\build\unifyworkdir docker build isolationprocess nocache .
Sending build context to Docker daemon . MB
Step FROM microsoftnanoserver
 bcbca
Step WORKDIR c\installer
 fbcce
Removing intermediate container cd
Step ENV GOROOT c\installer
 Running in badbf
 ebfec
Removing intermediate container badbf
Step ADD go.exe .
 ebc
Removing intermediate container aaaafd
Step RUN go help
 Running in ae
Go is a tool for managing Go source code.

Usage

 go command arguments

The commands are

 build compile packages and dependencies
 clean remove object files
 doc show documentation for package or symbol
 env print Go environment information
 fix run go tool fix on packages
 fmt run gofmt on package sources
 generate generate Go files by processing source
 get download and install packages and dependencies
 install compile and install packages and dependencies
 list list packages
 run compile and run Go program
 test test packages
 tool run specified go tool
 version print Go version
 vet run go tool vet on packages

Use go help command for more information about a command.

Additional help topics

 c calling between Go and C
 buildmode description of build modes
 filetype file types
 gopath GOPATH environment variable
 environment environment variables
 importpath import path syntax
 packages description of package lists
 testflag description of testing flags
 testfunc description of testing functions

Use go help topic for more information about that topic.

The command 'cmd S C go help' returned a nonzero code 
PS E\docker\build\unifyworkdir

friism thaJeztah This might not sure will let you guys make the call be an important?áone to pull into?á.. and CS in particular for client container scenarios. Server scenarios it's not so impactful as the default isolation is processWindows Server containers.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3065;ocicaps refactor remove unused code and improved error messages;"ocicaps rename some vars that conflicted with imports builtins
ocicaps minor optimization in init
ocicaps generate list of all capabilities on init
ocicaps use map for capabilities to simplify lookup
ocicaps improve error message for unsupported capabilities
A capability can either be invalid or not supported by the kernel on which we're running. This patch changes the error message produced to reflect if the capability is invalidunknown or a known capability but not supported by the kernel version.
ocicaps remove unused GetCapability and ValidateCapabilities
ocicaps simplify and remove types that were not needed
The CapabilityMapping and Capabilities types appeared to be only used locally and added unneeded complexity. This patch removes those types and simplifies the logic to use a map that maps names to capability.Caps
ocicaps remove hack for RHEL kernels
We no longer support these kernels so we can remove the workaround

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";more descriptive error for checkpoint ls for non existent containers;"Signedoffby Krasi Georgiev krasivipconsult.solutions
closes 
 What I did
added server reply status code change to return the conainernofound error type
 How I did it
instead of printing the error message from the server it checks the return code and if it is not found it prints the containerNotFoundError error type
 How to verify it
docker checkpoint ls ....
docker checkpoint ls noneexistent
 Description for the changelog
more descriptive message for checkpoint ls on non existing containers
 Note
not sure if it is by design but docker checkpoint ls .... returns not found not because it doesn't find the container but because it doesn't find the endpoint.
Gorilla mux translates the call to containers....checkpoints checkpoints and it returns page not found error where containersnoexistentcheckpoints returns container not found.
it is the same for docker inspect .... or any other endpoint that is in the format endpointcontaineridmethod 
the client only checks if the returning code i so it doesn't matter in this case but the code might need refactoring to check for a valid container name similar to the reserveName function in the names.go file
if validContainerNamePattern.MatchStringstrings.TrimPrefixname 
return fmt.ErrorfInvalid container name s only s are allowed name validContainerNameChars

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3066;vendor mobysys mountinfov..;"full diff mobysysmountinfov.....mountinfov..

Note that this dependency uses submodules providing github.commobysysmount
and github.commobysysmountinfo. Our vendoring tool vndr currently doesn't
support submodules so we vendor the toplevel mobysys repository which contains
both and pick the most recent tag which could be either mountinfovXXX or
mountvXXX.

github.commobysysmountinfo v..
Breaking changes

PidMountInfo is now deprecated and will be removed before v. users should switch to GetMountsFromReader

Fixes and improvements

run filter after all fields are parsed
correct handling errors from bufio.Scan
documentation formatting fixes

github.commobysysmountinfo v..

mount use MNT flags from golang.orgxsysunix on freebsd
various godoc and CI fixes
mountinfo make GetMountinfoFromReader Linuxspecific
Add support for OpenBSD in addition to FreeBSD
mountinfo use idiomatic naming for fields

github.commobysysmountinfo v..
Bug fixes

Fix path unescaping for paths with double quotes

Improvements

Mounted speed up by adding fast paths using openat Linuxonly and stat
Mounted relax path requirements allow relative noncleaned paths symlinks
Unescape fstype and source fields
Documentation improvements

TestingCI

Unit tests exclude darwin
CI run tests under Fedora to test openat
TestGetMounts fix for Ubuntu build system
Makefile fix ignoring test failures
CI add cross build

github.commobysysmount v..
httpsgithub.commobysysreleasestagmountFv..
Improvements

RecursiveUnmount add a fast path 
Unmount improve doc
fix CI linter warning on Windows

TestingCI

Unit tests exclude darwin
Makefile fix ignoring test failures
CI add cross build

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";If caller specifies label overrides don't override security options;"If a caller specifies an SELinux type or MCS Label and still wants to
share an IPC Namespace or the host namespace we should allow them.
Currently we are ignoring the label specification if ipcmodcontainer
or pidmodehost.
Signedoffby Daniel J Walsh dwalshredhat.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3067;vendor github.commobyterm fafefecefddfaacde;"full diff mobytermfe...faf

update gotest.tools to v
Use unix.IoctlGetSetTermios on all unix platforms
Make Termios type alias remove casts

vendor golang.orgxsys bbaacbfedab
full diff golangsysedf...bba
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Revendor swarmkit to cfdfdfedef;"Includes dockerswarmkit
cc dongluochen vieux
Partially fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3068;. vendor buildkit v..gdfddc;"full diff mobybuildkitv..gdafbf...v..gdfddc
no local changes in the daemon code actual fix is for the CLI dockercli
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x bump RunC libcontainer to fix SELinux regression;"This bumps RunC and libcontainer to fix a regression
in . that caused SELinux labels to not be
applied correctly.
diff is httpgithub.comdockerrunccomparefaafceeabebee...dfbdfdabedebddf
For more information about this change see the discussion on opencontainersrunc comment and opencontainersrunc comment
ping cpuguy runcom rhatdan PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3069;update containerd vendor and binary to v..;"relates to containerdcontainerd
full diff httpsgithub.comcontainerdcomparev.....v..
Welcome to the v.. release of containerd
The first patch release for containerd . includes a fix for v shims hanging
on exit and exec when the log pipe fills up along with other minor changes.
Notable Updates

Always consume shim logs to prevent logs in the shim from blocking
Fix error deleting v bundle directory when removing rootfs returns ErrNotExist
Fix metrics monitoring of v runtime tasks
Fix incorrect stat for Windows containers
Fix devmapper device deletion on rollback
Update seccomp default profile

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";do not fail fast when executing inspect command;"Signedoffby allencloud allen.sundaocloud.io
fixes 
do not fail fast when executing inspect command.
Current if user executes a command like docker network inspect nonexist exist exist it will fail fast. Like
rootubuntu docker network ls
NETWORK ID NAME DRIVER SCOPE
bbdf allen bridge local
fdaaadff bridge bridge local
dedb dockergwbridge bridge local
dafbc host host local
zsybtvchu ingress overlay swarm
affc none null local
rootubuntu docker network inspect nonexist bridge host

Error No such network nonexist

This PR tries to fix this improper fast failing.
 What I did
 How I did it
 How to verify it
Choose an inspect command in which nonexistent object locates at the head and check if it fails fast.
rootip .docker..dev network inspect allen allen host

 
 Name host
 Id ceafddcddadefecbacddcdef
 Created TZ
 Scope local
 Driver host
 EnableIPv false
 IPAM 
 Driver default
 Options null
 Config 
 
 Internal false
 Attachable false
 Containers 
 Options 
 Labels 
 

Error No such network allen
Error No such network allen

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3070;Unify same fromStatT implementation for FreeBSD and NetBSD;"Suggested by Sebastiaan van Stijn thaJeztah thanks
Possible bugs are mine though

 What I did
I shared a PR to add NetBSD implementation for fromStatT
and in the review Sebastiaan van Stijn thaJeztah kindly pointed out
that the implementation is the same and we can share both in a single
one.
 How I did it
See above.
 How to verify it
See above.
 Description for the changelog

Unify same fromStatT implementation for FreeBSD and NetBSD
 A picture of a cute animal not mandatory but encouraged
No cute animal this time too sorry but here a nice cat emoji
?É?
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";.. rc cherrypicks;"Update systemd dropin link 
Revendor Microsoftgowinio v.. 
plugin use pkgerrors in more places 
Add bash completion for docker checkpoint 
install dirmngr if needed 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3071;daemonlisteners use pkgerrors;"taking the second commit from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add markdown for man page of docker plugin ls;"This fix adds markdown for man page of docker plugin ls
based on the feedback comment
Signedoffby Yong Tang yong.tang.githuboutlook.com
cc thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3072;. backport swagger fix MemTotal units in SystemInfo endpoint;"backport of 
MemTotal represents bytes not kilobytes. See Linux and Windows
implementations.
Signedoffby Nikolay Edigaryev edigaryevgmail.com
cherry picked from commit eba
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows make.ps validate go version;"Signedoffby John Howard jhowardmicrosoft.com
johnstep FYI. Another minor tweak to make.ps to do?áwhat?áCI used to do before it took the go installer out of the container to ensure the host and container were in sync.?áFor local?ábuilds eg running make.ps Binary outside of a container this ensures that the version of GO installed on the host is?ácorrect.
I just?ágot caught out my dev box still had version .. whereas master is currently at ...?á
You now get this additional warning
E\go\src\github.com\docker\docker jjhmakecheckgoversion make.ps client
INFO make.ps starting at 

WARNING Not running in a container. The result might be an incorrect build.


WARNING Building with golang version ... You should update to ..

INFO Invoking autogen...
INFO Building client...

 .
 \ \ | | |
 | \| 
 | \ | \
 \ | \
 \ \

INFO make.ps ended at 
E\go\src\github.com\docker\docker jjhmakecheckgoversion

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3073;fix integration test case TestExternalGraphDriver failed in mips arch;"Signedoffby limeidan limeidanloongson.cn

 What I did
make the integration test case TestExternalGraphDriver pass in mips arch.
 How I did it
replace the specified image with one support mips arch's version
 How to verify it
run integration test case in mips arch
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing build tag for stack tests;"Addresses missing build tag from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3074;Add fromStatT implementation for NetBSD;"What I did
When packaging amazonecscli in pkgsrcwip I have noticed build failure due nonexistent statnetbsd.go.
 How I did it
On a NetBSD machine that supports Go assuming pkgsrc tree and
pkgsrcwip tree are checked out try
 cd pkgsrcwipamaz";Improve bash completion for docker plugin enable|disable;"Now that we can filter plugins by their enabled state bash completion for docker plugin enable and docker plugin disable can be improved so that only plugins with matching state are completed.
Ref 
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3075;Remove mkimage.sh and associated scripts;"I looked at fixing httpsbugs.debian.org but these scripts haven't been materially changed in years and better alternatives exist elsewhere so we should probably just remove them instead.
Consider this a request for comment from Moby maintainers andor community members who might be using them ?ÿà
IMO it would also make sense to remove the other mkimage.sh scripts alpine x arch ?¥ù crux pld yum but I've been less directly involved in those so I'm not positive how much use they've seen happy to throw them in here too if maintainers agree.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker plugin ls filter;"Ref 
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3076;replace pkglocker with github.commobylocker;"closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Windows Make.ps default to build binaries;"Signedoffby John Howard jhowardmicrosoft.com
johnstep Minor tweak to make.ps which makes local development outside of a container on Windows a tiny bit easier for the most common operation. The default for running make.ps is now to build the binaries rather than throw an error. Hence can just?árun make.ps rather than?áexplicitly doing make.ps Binary
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3077;swagger fix MemTotal units in SystemInfo endpoint;"MemTotal represents bytes not kilobytes.
Linux implementation

 
 
 mobypkgsystemmeminfolinux.go
 
 
 Line 
 in
 fae
 
 
 
 

 
 
 meminfo.MemTotal bytes 
 
 
 


Windows implementation

 
 
 mobypkgsystemmeminfowindows.go
 
 
 Line 
 in
 fae
 
 
 
 

 
 
 MemTotal intmsi.ullTotalPhys 
 
 
 


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker ps filter expose|publish;"Ref 
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3078;vendor containerd v..;"followup to 
This is just to align to a tagged version but given that the containerd
goapi is not considered stable we may switch back to a commit from
master at some point if needed.
No local changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Followup of Use default driver for IPAM if none;"Follow up for in master this time

We use the 'default' driver if none is specified.
Fix 
Fix 
cc dnephin icecrime thaJeztah mavenugo vieux
?É?
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3079;Revendor Microsoftgowinio for gB file fix when importing or committing image layers;"What I did
Revendored httpsgithub.commicrosoftgowinio to pull microsoftgowinio which replaces a bundled fork of archivetar for Go . with use of vanilla archivetar.
There's more context on this issue on microsoftWindowsContainers.
F";some grammatical errors;"carries 
closes 
ping LKD vdemeester PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3080;Simplify seccomp logic;"Simplifies the existent seccomp code without impacting behaviour.
This is a followup PR from which adds test coverage.

img source httpswww.dogbreedinfo.comaussiedoodle.htm
Signedoffby Paulo Gomes pjbgflinux.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for in docs;"dockerdocker.github.io
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3081;add partial metadata to journald logs;"add all partial metadata available to journald logs to allow easier reassembly of partial messages in downstream logging systems
fixes 
Signedoffby Christian Becker christian.beckersixt.com
 What I did
provide all details about partial messages to downstream services
 How I did it
forward all information from the relevant struct
 How to verify it
check that the fields are present in journald
import json
printjson.dumpsmessage a tag foobar

Results in the following log
Tue . UTC sbedfbfebfaabfaibbaecbcdecaamataeeccdxfdfdc
 PRIORITY
 TRANSPORTjournal
 COMMdockerd
 IMAGENAMEpython
 CONTAINERPARTIALMESSAGEtrue
 CONTAINERPARTIALORDINAL
 CONTAINERPARTIALLASTfalse
 MESSAGEmessage aaaaaasnipaaa
 CONTAINERIDcbb
 CONTAINERNAMEheuristicfermi
 CONTAINERIDFULLcbbcbcaefecfeeaccfafdaebde
 CONTAINERTAGcbb
 CONTAINERPARTIALIDabcbebcfdfdefeecabddbf
Tue . UTC sbedfbfebfaabfaibbaecbcdecaamftaeecfxcebbabbe
 PRIORITY
 TRANSPORTjournal
 COMMdockerd
 IMAGENAMEpython
 CONTAINERPARTIALORDINAL
 CONTAINERPARTIALLASTtrue
 MESSAGEaaasnipaaaa tag foobar
 CONTAINERIDcbb
 CONTAINERNAMEheuristicfermi
 CONTAINERIDFULLcbbcbcaefecfeeaccfafdaebde
 CONTAINERTAGcbb
 CONTAINERPARTIALIDabcbebcfdfdefeecabddbf

 Description for the changelog
improve partial log message support for journald
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix some data races;"After running the test suite with the race detector enabled I found
these gems that need to be fixed.
This is just round one sadly lost my test results after I built the
binary to test this... whoops
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3082;vendor github.comopencontainersselinux v..;"full diff opencontainersselinuxv.....v..
this also adds github.comwillfbitset as a dependency
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";install dirmngr if needed;"as of Ubuntu Yakkety dirmngr is now in a separate
package see httpsbugs.launchpad.netubuntusourceaptbug
this patch updates the install script to install
the dirmngr package if it's not installed.
fixes 
... I hope because DigitalOcean was having issues so I couldn't spin up a droplet to test ?ÿè

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3083;vendor github.comgorillamux v..;"full diff gorillamuxv.....v..

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugin use pkgerrors in more places;"Also provide stack trace output in daemon logs.
Signedoffby Tibor Vass tibordocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3084;Remove dependency in dockerd on libseccomp;"This was just using libseccomp to get the right arch but we can use
GOARCH to get this.
The nativeToSeccomp map needed to be adjusted a bit for mipsle vs mipsel
since that's go how refers to it. Also added some other arches to it.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revendor Microsoftgowinio v..;"Signedoffby John Howard jhowardmicrosoft.com
Fixes?á
There was a length check error in gowinio causing an invalid filename on alternate datastreams as described in . This is fixed in Microsoftgowinio v..
swernli
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3085;pkgidtools refactor to avoid stringsplitting;"fixes 
The package used a lot of stringformatting followed by stringsplitting.
This looked to originate from attempts to use templating to allow future
extensibility aab .
Looking at the history of the package only a single update was made to
these templates years go which makes it unlikely that more templating
will be needed.
This patch simplifies the handling of arguments to use string instead
of a single string and splitting to a string. This both simplifies
the code somewhat and prevents usergroupnames containing spaces to be
splitted causing e.g. getent to fail.
Note that usergroupnames containing spaces are invalid or at least
discouraged there are situations where such names may be used so we
should avoid breaking on such names.
Before this change a usergroup name with a space in its name would fail
dockerd usernsremapuserdomain users
INFOT. Starting up
Error during groupname lookup for domain users getent unable to find entry domain in group database

With this change
 Add some possibly problematic usernames for testing
 need to do this manually as adduser useradd won't accept these names
echo 'user namexhomeonebinfalse' etcpasswd \
echo 'user namex' etcgroup \
echo 'user name' etcsubuid \
echo 'user name' etcsubgid \
echo 'userHOMExhomeonebinfalse' etcpasswd \
echo 'userHOMEx' etcgroup \
echo 'userHOME' etcsubuid \
echo 'userHOME' etcsubgid \
echo 'user'''namexhomeonebinfalse' etcpasswd \
echo 'user'''namex' etcgroup \
echo 'user'''name' etcsubuid \
echo 'user'''name' etcsubgid \
echo 'usernamexhomeonebinfalse' etcpasswd \
echo 'usernamex' etcgroup \
echo 'username' etcsubuid \
echo 'username' etcsubgid

 Start the daemon using those users
dockerd usernsremapuser nameuser name
dockerd usernsremap'userHOMEuserHOME'
dockerd usernsremapuser'nameuser'name
dockerd usernsremap'username''username'


 What I did
 How I did it
 How to verify it
 Description for the changelog

Fix handling of looking up user and groupnames with spaces

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add tracking to elided layer pulls.;"Today if I pull an image from multiple repositoriesregistries only the one from which the layer is originally downloaded is Registered this inhibits the docker client's ability to mount a layer from any of these secondary repositories even if that secondary repository is the only repository in which a given layer preexists for a particular registry domain.
For example if I pull
 docker pull a.comfoobar
 docker pull b.combazblah

Any layers that are shared between these will be associated with the first repository. So if I turn around and push
 docker tag b.combazblah b.combloopblop
 docker push b.combloopblop

Since the client has only associated the common layers with a repository on registry a.com and crossrepository mounting only works intraregistry no mounting will be attempted for the common layers and they will be reuploaded even though they exist on registry b.com.
This change adds the same metadata registration logic that exists for when a layer pull completes to the logic for when a layer download is elided.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3086;Builder Add buffer to two channels to avoid blocking goroutine;"What I did
Avoid two potential goroutine leaks by adding buffer to the channels.
In the code below if the function returns at line then the child goroutine created at Line will be leaked.

 
 
 mobybuilderdockerfilecontainerbackend";..x Update containerd to version aadbdbaddeeadeefaed;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Changelog

dockerarchivecontainerdaad Prevent panic if exec process dies before sync channel is created
httpsgithub.comdockercontainerdpull Fix deadlock in monitor
httpsgithub.comdockercontainerdpull Ignore does not exit error on deleting container from runtime
httpsgithub.comdockercontainerdpull Cleanup ctr stdio tmp directory

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3087;opts simplify ValidateEnv to use os.LookupEnv;"os.LookupEnv was not available yet at the time that this was implemented ab but now provides the functionality we need so replacing our custom handling.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update containerd to version fbfaefdcfffefd;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com
fix 

Changelog

httpsgithub.comdockercontainerdpull Prevent panic if exec process dies before sync channel is created

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3088;Add openat and faccessat to default seccomp profile.;"follow up to comment
Note openat first appeared in Linux .. And Glibc does not provide a wrapper for this system call call it using
syscall.
ref httpsman.orglinuxmanpagesmanopenat..html
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix syntax in label example;"Fix syntax in example about maintainer info in a label

Signedoffby Jeroen Franse jeroenfransegmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3089;Add solaris support to lstat;"Signedoffby Till Wegm??ller toastersongmail.com
 What I did
Add missing function to convert syscall.Statt to system.Stat for Solaris based systems
 How to verify it
On my illumosSolaris machine the test related to the functionality passes
go test v . run TestLstat
testing warning no tests to run
PASS
ok github.comdockerdockerpkgsystem .s no tests to run

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update systemd dropin link;"Discovered this when changing graphdrivers.
Right now it redirects so change it to the correct one.
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3090;vendor runc rc;"vendor containerd to v..rc.
full diff containerdcontainerdef...v..rc.


vendor runc to v..rc
full diff opencontainersrunca...ffc


golangcryptoaac...b


golangnetdecce...ab


golangsysdaef...edf


 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add expanded mount format to stack deploy;"Fixes 
Fixes 
Also should fix some windows support for volumes
I've added this to Compose format v. for now but it might be more appropriate for a v. depending on when it gets merged and where it gets cherrypicked.
cpuguy I'd appreciate your review of cdebaabccabdc. It adds a clientside parser for the old volume spec. As far as I know this is the first time we're attempting to fully parse the spec on the client without being aware of the engine platform. It assumes no knowledge of the platform so windows and linux container paths are both supported on all clients.
shin we will probably need to implement this on the python side as well. It should be a smaller change. I think we'll only need to copy the schema and implement something like cdebaabccabdc
cc vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3091;Wait for container exit before forcing handler;"This code assumes that we missed an exit event since the container is
still marked as running in Docker but attempts to signal the process in
containerd returns a process not found error.
There is a case where the event wasn't missed just that it hasn't been
processed yet.
This change tries to work around that possibility by waiting to see if
the container is eventually marked as stopped. It uses the container's
configured stop timeout for this.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix typo in swagger.yaml for NetworkPrune operation;"Verified this was the actual key name in .. API .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3092;Update dockerpy to ..;"full diff dockerdockerpy.......
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Cherrypick SwarmKit update to afacccdededdeffe;"This fix cherrypick SwarmKit update to afacccdededdeffe for branch ..x. The following has been added

dockerswarmkit raft Disable address change detection
dockerswarmkit Fix issue in service update of published ports in host mode

This fix fixes and fixes in docker
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3093;Update tini v..;"full diff krallintiniv.....v..
Release notes

mipsel build
include checksums in releases
ppcle alias for the ppcel build

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ppclesx add pz to releasedeb;"This adds ppcle and sx architectures to those supported
by hackmakereleasedebs
How I tested
I built the debs made the end repo and then followed the release guide
make deb
sudo mkdir p volumesrepos
docker build t docker .
 docker run rm it privileged \
 v volumesreposvolumesrepos \
 v pwdbundlesgosrcgithub.comdockerdockerbundles \
 e DOCKERRELEASEDIRvolumesrepos \
 e KEEPBUNDLE \
 docker \
 hackmake.sh releasedeb
Then verified that the debs were in volumesrepospoolexperimentalddockerengine. Then I installed the debs on my testvm
Client
 Version ..dev
 API version .
 Go version go..
 Git commit adaunsupported
 Built Mon Jan 
 OSArch linuxppcle

Server
 Version ..dev
 API version . minimum version .
 Go version go..
 Git commit adaunsupported
 Built Mon Jan 
 OSArch linuxppcle
 Experimental false
Note I added aptutils because it's required for 'aptftparchive'
which is used by the releasedeb script. This enables us to run
the script through the p and z dockerfiles. It's also already
included in the x Dockerfile.
Signedoffby Christopher Jones tophjlinux.vnet.ibm.com

ping clnperez ddingel wfarner
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3094;apparmor permit signals from unconfined programs;"Otherwise if you try to kill a container process from the host directly
you get EACCES. Also add a comment to make sure that the profile code
which has been replicated by several projects doesn't get out of sync.
Signedoffby Aleksa Sarai asaraisuse.de
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..x Add two arm specific syscalls to seccomp profile;"cherry pick 
These are arm variants with different argument ordering because of
register alignment requirements.
Signedoffby Justin Cormack justin.cormackdocker.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3095;daemon.setupPathsAndSandboxOptions skip resolving symlinks;"This came up in a review of ad but for some reason that comment didn't find its way to GitHub andor I forgot to push the change.
These files are copied by reading their content with ioutil.Readfile resolving the symlinks should therefore not be needed and paths can be passed asis
func copyFilesrc dst string error 
	sBytes err ioutil.ReadFilesrc
	if err nil 
		return err
	
	return ioutil.WriteFiledst sBytes filePerm

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add powerpc and z to rebuild labels;"ping dmp estesp thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3096;. backport Bump Golang ..;"backport of 
full diff golanggogo.....go..
go.. released includes security fixes to the encodingbinary
package. See the Go .. milestone on the issue tracker for details.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";..rc cherrypicks;"Dockerfile bump Go to .. 
add status code for build api 
added to ..x directly install map debianversion .X to debian stretch 
added to ..x directly Add bash completion for docker service logs 
added to ..x directly Fix typo in swagger.yaml for NetworkPrune operation 
added to ..x directly Add docs for service create based on plugins. 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3097;Bump Golang ..;"full diff golanggogo.....go..
go.. released includes security fixes to the encodingbinary
package. See the Go .. milestone on the issue tracker for details.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add docs for service create based on plugins.;"Signedoffby Anusha Ragunathan anusha.ragunathandocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3098;Add size option to volumes on linuxunix via xfs pquota;NOM;added listing for Nimble Storage's volume plugin;"What I did
Added listing for Nimble Storage's volume plugin
 Description for the changelog
Added listing for Nimble Storage's volume plugin
 
 
 
 
 
 

 The text was updated successfully bu";0
3099;Add more error message for ops when container limit use an device whi?Çª;"This relates to 
Signedoffby Jeff Zvier zviergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated dockerd docs with note about user namespaces;"Signedoffby Lewis Daly lewisdalyme.com
 What I did
Added a note about docker image caching when using usernsremap documentation to docsreferencecommandlinedockerd.md
closes 
 How I did it
Simple documentation fix.
 How to verify it
Look at the commandline reference docs for dockerd.
 Description for the changelog
Added note for dockerd reference about docker image caching when using usernsremap
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3100;Builder print relative path if COPYADD source path was not found;"relates to 
Before this change the error returned to the user would include the physical
path inside the tmp dir on the daemon host. These paths should be considered
an implementation detail and provide no value to the user. Printing the tmp
path can confuse users and will be even more confusing if the daemon is running
remotely or in a VM such as on Docker Desktop in which case the path in the
error message does not exist on the local machine
echo e FROM busybox\nCOPY somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .

Sending build context to Docker daemon .kB
Step FROM busybox
 cc
Step COPY somenonexistingfile.txt .
COPY failed stat varlibdockertmpdockerbuildersomenonexistingfile.txt no such file or directory

When copying files from an image or a build stage using from the error
is similarly confusing
echo e FROM busybox\nCOPY frombusybox somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
Sending build context to Docker daemon .kB
Step FROM busybox
 cdbb
Step COPY frombusybox somenonexistingfile.txt .
COPY failed stat varlibdockeroverlayefccbafaeaedbfcbdfdcdaemergedsomenonexistingfile.txt no such file or directory

This patch updates the error messages to be more userfriendly. Changes are slightly
different depending on if the source was a local path or an image or buildstage
using from.
If from is used only the path is updated and we print the relative path
instead of the full path
echo e FROM busybox\nCOPY frombusybox somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
Sending build context to Docker daemon .kB
Step FROM busybox
 cdbb
Step COPY frombusybox somenonexistingfile.txt .
COPY failed stat somenonexistingfile.txt file does not exist

In other cases additional information is added to mention build context and
.dockerignore which could provide the user some hints to find the problem
echo e FROM busybox\nCOPY somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
Sending build context to Docker daemon .kB
Step FROM busybox
 cdbb
Step COPY somenonexistingfile.txt .
COPY failed file not found in build context or excluded by .dockerignore stat somenonexistingfile.txt file does not exist

echo e FROM busybox\nADD somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
Sending build context to Docker daemon .kB
Step FROM busybox
 cdbb
Step ADD somenonexistingfile.txt .
ADD failed file not found in build context or excluded by .dockerignore stat somenonexistingfile.txt file does not exist

This patch only improves the error for the classic builder. Similar changes could
be made for BuildKit which produces equally or even more confusing errors
echo e FROM busybox\nCOPY somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
 Building .s FINISHED
 internal load build definition from Dockerfile .s
 transferring dockerfile B .s
 internal load .dockerignore .s
 transferring context B .s
 internal load metadata for docker.iolibrarybusyboxlatest .s
 internal load build context .s
 transferring context B .s
 CACHED FROM docker.iolibrarybusyboxshafc... .s
 ERROR COPY somenonexistingfile.txt . .s

 COPY somenonexistingfile.txt .

failed to compute cache key failed to walk varlibdockertmpbuildkitmountsomenonexisting
lstat varlibdockertmpbuildkitmountsomenonexisting no such file or directory

echo e FROM busybox\nCOPY frombusybox somenonexistingfile.txt . | DOCKERBUILDKIT docker build f .
 Building .s FINISHED
 internal load build definition from Dockerfile .s
 transferring dockerfile B .s
 internal load .dockerignore .s
 transferring context B .s
 internal load metadata for docker.iolibrarybusyboxlatest .s
 FROM docker.iolibrarybusyboxlatest .s
 resolve docker.iolibrarybusyboxlatest .s
 CACHED stage FROM docker.iolibrarybusyboxshafc... .s
 ERROR stage COPY frombusybox somenonexistingfile.txt . .s

 stage COPY frombusybox somenonexistingfile.txt .

failed to compute cache key failed to walk varlibdockeroverlayadefccfbdfdeebefebcefbadmergedsomenonexisting
lstat varlibdockeroverlayadefccfbdfdeebefebcefbadmergedsomenonexisting no such file or directory

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update SwarmKit to aefacaacdfeff;"This fix updates SwarmKit to aefacaacdfeff
from bdbcbfdcecaf
In addition to improvements in SwarmKit the following issues are related to Docker

Can not update service in host publish mode fixed
Add ReadOnly in ContainerSpec for readonly needed
Explicitly disallow network pluginv creation in swarm mode
See discussion in dockerswarmkit dockerswarmkit and 

This fix fixes 
Signedoffby Yong Tang yong.tang.githuboutlook.com
NOTE There is a change in TestSwarmNetworkPlugin Ref 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3101;builderremotecontext use lowercase for error;"Errors should not be capitalized. This error was marked as being compatible with the old error However looking at the original error that was in place before dfafd I noticed that the error was lowercase before so it should be ok to change it back to be lowercase.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add two arm specific syscalls to seccomp profile;"These are arm variants with different argument ordering because of
register alignment requirements.
fix 
Signedoffby Justin Cormack justin.cormackdocker.com

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3102;Add test coverage to seccomp.;"Created tests to make seccomp behaviour explicit and increase our regression cover.


This relates to 
Signedoffby Paulo Gomes pjbgflinux.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixes work of inspectResponse in case of ContentLength;"What I did
Provide a fix for . Unable to build dockerfile hosted remotely if ContentLength
 How I did it
I've sliced preamble array for a number of bytes actually read from stream in this line 	rlen err r.Readpreamble
 How to verify i";0
3103;Update runc binary to v..rc;"full diff opencontainersruncv..rc...v..rc

This release contains a hotfix to solve a regression in v..rc that
concerns Docker this only affects Docker's vendoring of libcontainer
not the usage of runc as the runtime
Fix helpers used by Docker to correctly handle symlinks in dev when running
with privileged containers.
As well as some other improvements
Updates to CRIU support.
Improvements to cgroupfs performance and correctness.
Static Linking Notices
The runc binary distributed with this release are statically linked with
the following GNU LGPL. licensed libraries with runc acting
as a work that uses the Library
libseccomp
The versions of these libraries were not modified from their upstream versions
but in order to comply with the LGPL. ?ºa we have attached the
complete source code for those libraries which when combined with the attached
runc source code may be used to exercise your rights under the LGPL..
However we strongly suggest that you make use of your distribution's packages
or download them from the authoritative upstream sources especially since
these libraries are related to the security of your containers.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Remove unnecessary if in builderdockerfilesparser Dump;"What I did
Was poking around this module and noticed some unnecessary code.
 How to verify it
 go test . v
 RUN TestJSONArraysOfStrings
 PASS TestJSONArraysOfStrings .s
 RUN TestTestNegative
 PASS TestTestNegative .s
 R";0
3104;Update authors and mailmap;"Updated and sorted .mailmap and regenerated authors
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Underscoring an unused var in tests;"What I did
I found out that are an unused var in dockercliexectest.go so i added an assert to it.
 How I did it
Create a new Assert who will fail if err var isn't equal to Nil
 How to verify it
Running dockercliexectest.go
 Description for the";0
3105;. backport testfixes for flaky test TestCheckCapacityAndRotate;"fixes flaky test TestCheckCapacityAndRotate
backports of

 Fix flakey test for log file rotate
 Fix log file rotation test

Minor conflict in the imports because . is not yet on gotest.toolsv
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove clicommandsecretsutils.go;"Signedoffby allencloud allen.sundaocloud.io
Since was merged I think file httpsgithub.comdockerdockerblobmasterclicommandsecretutils.go is not necessary any more.
While in clicommandstackdeploy.go there is still something should be changed.
httpsgithub.comdockerdockerblobmasterclicommandstackdeploy.goLL should be changed with secret err client.SecretInspectWithRawctx secretSpec.Name.
ping ehazlett thaJeztah yongtang
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3106;. backport Check for context error that is wrapped in url.Error;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add status code for build api;"Signedoffby allencloud allen.sundaocloud.io
This pr is related to .
Code httpsgithub.comdockerdockerblobmasterbuilderdockerfilebuilder.goLL here seems to introduces a status code so I think it is better to add this. At the very beginning I thought we should remove this while it seems unreasonable here then I try to make this change versioned in api docs.
Please correct me if I missed something. ?É?
ping cpuguy LKD dnephin
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3107;fix TestDaemonNoSpaceLeftOnDeviceError for mipsle;"Signedoffby wanghuaiqing wanghuaiqingloongson.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixup use of Error with format string to use Errorf;"Signedoffby Adam Eijdenberg adam.eijdenberggmail.com
 What I did
Fixup use of Error with format string to use Errorf
 How I did it
go vet nagged me so I fixed it.
 How to verify it
 Description for the changelog
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3108;update containerd to v..;"Release note httpsgithub.comcontainerdcontainerdreleasestagv..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update pluginvolume apidocs for v;"What I did
Updated the volume plugin apidoc as per .

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3109;Supplement the omission of pr;"Signedoffby wanghuaiqing wanghuaiqingloongson.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Document init flag for docker run;"londoncalling mstanleyjones johndmulhausen PTAL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3110;fix buildkit nil panic when frontend image exists;"What I did
Fix the nil panic in buildernext
 How I did it
I got a nil panic with these steps
Dockerfile 
 cat Dockerfile
 syntax dockerdockerfile.experimental
FROM redis
COPY a 

The frontend image exists on the server
 docker images |g";Fix installation using make install;"The following command fails when the target directory does not exist.
 sudo make install DOCKERMAKEINSTALLPREFIXoptdocker AUTOGOPATH
KEEPBUNDLE hackmake.sh installbinary
 WARNING I don't seem to be running in a Docker container.
 The result of this command might be an incorrect build and will not be
 officially supported.

 Try this instead make all


 Making bundle installbinary in bundles..devinstallbinary
Installing docker to optdockerbin
cp cannot create regular file 'optdockerbin' No such file or directory
make Makefile install Error 

The patch installs the target directory before copying any binaries.
 sudo make install DOCKERMAKEINSTALLPREFIXoptdocker AUTOGOPATH
KEEPBUNDLE hackmake.sh installbinary
 WARNING I don't seem to be running in a Docker container.
 The result of this command might be an incorrect build and will not be
 officially supported.

 Try this instead make all


 Making bundle installbinary in bundles..devinstallbinary
Installing docker to optdockerbin
Installing dockerd to optdockerbin
Installing dockerrunc to optdockerbin
Installing dockercontainerd to optdockerbin
Installing dockercontainerdctr to optdockerbin
Installing dockercontainerdshim to optdockerbin
Installing dockerproxy to optdockerbin
Installing dockerinit to optdockerbin

Signedoffby Ga?½l PORTAY gael.portaysavoirfairelinux.com

 What I did
I fixed sudo make install DOCKERMAKEINSTALLPREFIXadirectorythatdoesnotexist.
Currently sudo make install is safe because the default directory usrlocalbin is usually present on every system.
 How I did it
I simply creates the target directory before copying any files to make sure it exists.
 How to verify it
A simple check test consists in running sudo make install DOCKERMAKEINSTALLPREFIXPWDinstall AUTOGOPATH echo It works || echo Oops.
 Description for the changelog
Fix installation into a destination that does not yet exist.

 A picture of a cute animal

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3111;docker.service Add multiuser.target to After in unit file;"After installing docker on Arch and enabling the docker.service I noticed that the time to boot my computer increased substantially. I traced this down to a dependency chain involving docker and I believe that I have a solution that maintains the correct functionality of the docker.service unit file while also preventing the hang when booting.

 What I did
I noticed on my Arch machine that the time to reach multiuser.target was delayed by several seconds because docker.service was waiting for a network connection. This was preventing the launch of the graphical environment until my WiFi was connected adding about six seconds to my boot.
I added the multiuser.target to the After list on the docker.service unit file in hopes that it would allow multiuser.target to complete before docker.service. This seemed to work and I think that it would make a good contribution to the unit file. The docker.service still starts up at boot but it no longer stalls the graphical environment.
 How I did it
I used systemdanalyse and systemctl to locate what was causing my slow boot problem. I found that because socker.service requires networkonline.target and is wanted by multiuser.target the critical chain of services for the graphical.target included waiting for NetworkManagerwaitonline.service. This meant that my computer was waiting until after my wifi connection was established to show me a login screen. By adding multiuser.target to the After list on my unit file this situation was avoided.
 How to verify it
Add multiuser.target to the After list in docker.service so that multiuser.target does not wait for docker.service and consequently wait for networkonline.target.
 Description for the changelog

 Afternetworkonline.target docker.socket firewalld.service
 Afternetworkonline.target docker.socket firewalld.service multiuser.target
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";clicompose cleanup remove the old loading system;"The original Compose config loading used the compose struct tag which was replaced by mapstructure. Some fields were left on the old tag as part of the transition. This PR removes the old tag and uses types and mapstructure for config loading.
cc vdemeester
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3112;Disable manifest v schema push;"temporary alternative for 
For CI a temporary DOCKERALLOWSCHEMAPUSHDONOTUSE environment variable was added while we work out a solution for testing schema pulls which currently require pushing them to a local registry first for testing.
 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";change sh to bash for shopt;"close 
cc tianon
obviously when I come back its for the bash 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3113;. backport oci correctly use user.GetExecUser interface;"backport of 
A nil interface in Go is not the same as a nil pointer that satisfies
the interface. libcontaineruser has special handling for missing
etcpasswdgroup files but this is all based on nil interface checks
which were broken by Docker's usage of the API.
When combined with some recent changes in runc that made read errors
actually be returned to the caller this results in spurrious EINVAL
errors when we should detect the situation as there is no passwd file.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";bump to ..rc;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3114;Pass underlying network error in ErrorConnectionFailed;"What I did
I changed the check for context error returned by nethttp.Client.Do
 How I did it
by using github.compkgerrors.Is that searches for desired error in err's chain
 How to verify it
I've encountered shallow error message telling me to check";Yaml Generation;"What I did
I added support for YAML output for the engine CLI
 How I did it
Extended on the Cobra docs output but for Yaml Some of the changes have been pushed back to upstream spfcobra
 How to verify it
make yamlfiles will output Yaml files";0
3115;ocideviceCgroup remove redundant variable;"noticed this when looking at another PR
Was also wondering why Device is exported as it's only used within this package it was added in bb but didn't see a mention why it was exported
tiborvass
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cherrypick to ..x;"Fix broken relative links in old API docs
cherry picked from commit dc
Signedoffby Misty StanleyJones mistydocker.com
I know there are other cherrypicks that need to go in but this one is affecting the live docs.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3116;Simplify getUser to use libcontainer builtin functionality;"Followup to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker service logs;"Sorry missed this one .
Please schedule for ...
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3117;oci correctly use user.GetExecUser interface;"extracting this from as it's an existing bug. This patch was provided by cyphar on opencontainersrunc comment
A nil interface in Go is not the same as a nil pointer that satisfies
the interface. libcontaineruser has special handling for missing
etcpasswdgroup files but this is all based on nil interface checks
which were broken by Docker's usage of the API.
When combined with some recent changes in runc that made read errors
actually be returned to the caller this results in spurrious EINVAL
errors when we should detect the situation as there is no passwd file.
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add OPTIONS to usage of plugin disable|push;"These are the usage lines from several plugin commands
 for command in push disable enable do docker plugin command help | grep Usage done
Usage docker plugin push PLUGINTAG
Usage docker plugin disable PLUGIN
Usage docker plugin enable OPTIONS PLUGIN
All three commands have options other than help but only enable included just for reference has OPTIONS in the usage line.
With this fix
 for command in push disable enable do docker plugin command help | grep Usage done
Usage docker plugin push OPTIONS PLUGINTAG
Usage docker plugin disable OPTIONS PLUGIN
Usage docker plugin enable OPTIONS PLUGIN
The reference pages were also adjusted.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3118;. backport vendor vishvanandanetns dbceaaecccfacbdacd;"backport of . Added one extra commit to account for the netns bump not in . from eecc 
full diff vishvanandanetnsabb...dbce

Use golang.orgxsysunix instead of syscall
Set OCLOEXEC when opening a network namespace

Fixes the container?Çÿs netns fds leak causing the container netns to not
clean up successfully after the container stops


Allows to create and delete named network namespaces

 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make docker stack deploy a little bit more indempotent;"Version of for master.

Make sure running multiple times docker stack deploy composefile dockercompose.yml foo on the same unchanged file doesn't update the services each times. This is mainly due to the use of map .
This is related to 
This is sorting environment extraHost and port too. There is some weirdiness with ports but a PR might follow for that. You can reproduce and validate this using the following compose file.
version .

services
 test
 image busybox
 command top
 extrahosts
 foo...
 bar...
 environment
 FOOBAR
 FARBOO
 ports
 
 
 networks fronttier backtier

networks
 fronttier
 backtier
This also helps with Error response from daemon rpc error code desc changing network in service is not supported when you didn't change the networks.
cc thaJeztah dnephin icecrime cpuguy aaronlehmann aanand
If it gets in I'll do a PR against master.
Signedoffby Vincent Demeester vincentsbr.pm
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3119;Sterner warnings and deprecation notice for unauthenticated tcp access;"People keep doing this and getting pwned because they accidentally left
it exposed to the internet.
The warning about doing this has been there forever.
This introduces a sleep after warning.
To disable the extra sleep users must explicitly specify tlsfalse
or tlsverifyfalse
Warning also specifies this sleep will be removed in the next release
where the flag will be required if running unauthenticated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix json format of plugin;"Signedoffby Janonymous janonymous.codevulturegmail.com

 What I did
Fix Incorrect Format of Json format
 How I did it
Removing a character causing problem
 How to verify it
Tested with Ssl enabled version of remote driver and works fine.
 Description for the changelog

Fix tls setting for remote driver plugin
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3120;Support ulimits on Swarm services.;"What I did

Bump swarmkit to dddefdaaadffcbbab to include dockerswarmkit 
Ulimits field has been added to the ContainerSpec API type such that the Docker daemon API can now take ulimits when declaring new services updatin";..x cherrypick secrets to compose;"Add secrets to stack deploy 
Add SecretUpdate method to client 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3121;vendor vishvanandanetns dbceaaecccfacbdacd;"full diff vishvanandanetnsabb...dbce

Use golang.orgxsysunix instead of syscall
Set OCLOEXEC when opening a network namespace

Fixes the container?Çÿs netns fds leak causing the container netns to not
clean up successfully after the container stops


Allows to create and delete named network namespaces

 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetwork e;"Fixes an issue with starting containers after upgrade from ..x to .dev
Fixes docker 

Signedoffby Santhosh Manohar santhoshdocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3122;vendor dockerswarmkit aaeacbfdebaacff;"full diff dockerswarmkitd...aae

Fix bad comment on capabilitydrop field in protobuf def

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile bump Go to ..;"What I did
I've bumped the Go version to ...
 How I did it
I've edited all the relevant files.
 How to verify it
This can be done by taking a look at the changelog.
 Description for the changelog
Dockerfile bump Go to ..
 
 
";0
3123;vendor update containerdcontinuity efbcdfebdcbdebddba;"full diff containerdcontinuityc...efbc
Relevant changes

sysxxattr fix and improve

fix getxattrAll change initial buffer size to to prevent unneeded
iterations and change the logic to get the real size in case we get ERANGE
rather than doubling the buffer
improve listxattrAll refactor for readability prevent calling listxattr
twice. Handle condition when attributes size is changed in between the two
calls to listxattr.


Remove Windows' Readlink fork

Drops support for Go . and under


Fix sameFile to recognize empty files as the same

fixes Empty files can diff as modified even when they're not



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add truncate function for Go templates;"This fix is part of the discussion in about using truncate to replace notrunc.
As part of the fix a new function truncate has been added for Go templates so that it is possible to use
docker stack services format truncate .ID .Mode .Replicas

to show truncated ID limited by length.
A unit test has been added.
This fix is related to .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3124;. vendor mobybuildkit v..gdafbf;"full diff mobybuildkitaef...dafbf

mobybuildkit v. backport cache avoid nil dereference

fixes mobybuildkit panic interface conversion interface is nil not int



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";install map debianversion .X to debian stretch;"Signedoffby Felix Abecassis fabecassisnvidia.com
 What I did
Add missing case for etcdebianversion .X in the install.sh script
See 
 How I did it
Add a case mapping debianversion .X to version stretch
 How to verify it
Launch debian stretch RC e.g. in a VM check that it only works with the patch.
Also verify that the patch doesn't break debian jessie.
 Description for the changelog
Fix debian stretch support in install.sh
 A picture of a cute animal not mandatory but encouraged
Should be relevant for debian stretch 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3125;. backport bump up rootlesskit to v..;"Fix port forwarder resource leak rootlesscontainersrootlesskit.
Changes rootlesscontainersrootlesskitv.....v..

Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix ImageDelete type;"Fixes broken master
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3126;bump up rootlesskit to v..;"Fix port forwarder resource leak rootlesscontainersrootlesskit.
Changes rootlesscontainersrootlesskitv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix broken relative links in old API docs;"What I did
Fixed broken links in API docs that are affecting docs.docker.com and also Github browsing
This will need to be cherrypicked back at least to v. if not further....
cc aduermael
 A picture of a cute animal not mandatory but encouraged";0
3127;. backport plugin fix a double RLock bug;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Support expanded syntax of ports in docker stack deploy;"What I did
NOTE The description has been updated based on comment
This fix tries to address the issue in where it was not possible to specify modehost for ports in compose.
 How I did it
This fix addresses the issue by adding support";0
3128;. backport Assorted swagger fixes;"backport of

 Swagger fix type for BuildCache CreatedAt and LastUsedAt

fixes for the . branch


 Swagger move system version response to definitions

closes 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";sort volume drivers and auth plugins in info response;"Signedoffby allencloud allen.sundaocloud.io
I found that in API GET info there are several kinds of plugins network volume and authorization plugins.
When we get the response network plugins are sorted while others are not. This PR tries to sort volume drivers and AuthorizationPlugins.
 What I did

sort volume driver in info response
sort AuthorizationPlugins in info response.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3129;. backport Remove apt.dockerproject.org from test;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use native call for listing plugins in bash completion;"Prior to this PR plugin lists for bash completion were generated by parsing the raw output of docker plugin ls with awk. This was done because there was no format option available when the functionality was created.
In yongtang added format so this can now be cleaned up.
This change will make generation of plugin lists faster and robust against future changes in docker plugin ls output format.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3130;Remove apt.dockerproject.org from test;"to address comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update api docs on Placement.Constraints for services;"Signedoffby LarsMagnus Skog ralphtheninjariseup.net
 What I did
I noticed that when inspecting a service with constraints the output of Placement doesn't correspond with the api docs i.e. Placement is not an array of constraints but rather contains a Constraints property which holds the array of constraints.
 Description for the changelog
Document Placement.Constraints as the array of constraints and give some simple examples of what it can look like.
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3131;. vendor mobybuildkit v..gaefe;"full diff mobybuildkitcbe...aef
Brings in the cherrypicks from mobybuildkit and mobybuildkit 

Add force flag in git fetch command
Fix socket handling during copy Treat unix sockets as regular files
Remotecache Only visit each item once when walking results.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendoring libnetwork cb;"Pulling in mobylibnetwork to address 
Signedoffby Madhu Venugopal madhudocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3132;Swagger fix type for BuildCache CreatedAt and LastUsedAt;"fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use binary frame for websocket attach endpoint;"What I did
This fix tries to address the issue raised in where text frame was used in websocket attach endpoint. In case the data send out contains non utf data the connection will be closed in certain browsers e.g. Safari.
 How I did it
Thi";0
3133;API add prune events;"Relates to linuxkitlinuxkit
This patch adds a new prune event type to indicate that pruning of a resource
type completed.
This eventtype can be used on systems that want to perform actions after
resources have been cleaned up. For example Docker Desktop performs an fstrim
after resources are deleted httpsgithub.comlinuxkitlinuxkittreev.pkgtrimafterdelete.
While the current remove destroy events can provide information on most
resources there is currently no event triggered after the BuildKit buildcache
is cleaned.
Prune events have a reclaimed attribute indicating the amount of space that
was reclaimed in bytes. The attribute can be used for example to use as a
threshold for performing fstrim actions. Reclaimed space for network events
will always be but the field is added to be consistent with prune events for
other resources.
To test this patch
Create some resources
for i in foo bar baz do \
 docker network create networki \
 docker volume create volumei \
 docker run d name containeri v volumeivolume busybox sh c 'truncate s M somefile truncate s M volumefile' \
 docker tag busyboxlatest imagei \
done

docker pull alpine
docker pull nginxalpine

echo e FROM busybox\nRUN truncate s M bigfile | DOCKERBUILDKIT docker build 

Start listening for prune events in another shell
docker events filter eventprune

Prune containers networks volumes and buildcache
docker system prune af volumes

See the events that are returned
docker events filter eventprune
T.Z container prune reclaimed
T.Z network prune reclaimed
T.Z volume prune reclaimed
T.Z image prune reclaimed
T.Z builder prune reclaimed

 Description for the changelog

GET events now returns prune events after pruning resources have completed.
 Prune events are returned for container network volume image and
 builder and have a reclaimed attribute indicating the amount of space
 reclaimed in bytes.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";reference use distribution reference and remove fork;"Remove forked reference package. Use normalized named values everywhere and familiar functions to convert back to familiar strings for UX and storage compatibility. The reference.Named type is now always normalized in Docker.
WIP Also requires dockerswarmkit to keep parsing an nonnormalized name from returning an error.
Ping aaronlehmann stevvooe
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3134;Deprecate KernelMemory;"What I did
Deprecate Kernel Memory.
Kernel memory limit is not supported on cgroup v. Even on cgroup v kernel memory limit kmem.limitinbytes has been deprecated since kernel ..
torvaldslinux
Fix 
 How to verify it
 docker run";Return error in case docker network inspect is ambiguous;"This fix is partially based on comment comment
Currently docker network inspect relies on FindNetwork which does not take into consideration that multiple networks with the same name might exist.
This fix propose to return docker network inspect in a similiar fashion like other commands

Lookup full ID
Lookup full name
Lookup partial name Lookup partial ID

If multiple networks exist an error will be returned.
NOTE this fix is not a complete fix for the issue raised in comment where SwarmKit is unable to update when multiple networks with the same name exit.
To fix that issue requires multiple places when FindNetwork is called. Because of the impact of changing FindNetwork this fix focus on the issue in docker network inspect.
A separate PR will follow up to address comment
An integration test has been added.
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3135;statsV implement Failcnt;"What I did
Implemented MemoryStats.Failcnt for cgroup v
 How I did it
Used the oom field of memory.events file
 How to verify it
 docker run it rm name foo memory M alpine
 dd ifdevurandom ofdevnull bsM count
Killed
 dd if";Compose fixes for ..;"Includes 
There were conflicts with the first commits. I think I manually merged them correctly but a lot moved files so it's hard to be sure.
This would have been a lot easier if we had accepted these refactoring PRs in ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3136;Replace swarm Capabilites API with cap adddrop API;"Replace service Capabilities w adddrop API
After dicussing with maintainers it was decided putting the burden of
providing the full cap list on the client is not a good design.
Instead we decided to follow along with the container API and use cap
adddrop.
This brings in the changes already merged into swarmkit.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Resolve race conditions in attach API call;"Signedoffby Jim Minter jminterredhat.com
Fixes 
 What I did
In containercontainer.go split AttachStreams into two pieces. The first returns the container's streams having registered stdout stderr in the broadcaster. The second does the byte copying as before.
In daemonattach.go pull forward the call to container.AttachStreams so that these are held before the HTTP response is returned to the client via c.GetStreams.
 How to verify it
See reproducer in 
 Description for the changelog
Resolve race conditions in attach API call
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3137;. backport Swagger Updates;"Backports of

 swagger clarify the meaning of Image field in ContainerInspect endpoint
 swagger reformat and wrap to chars
 swagger add DeviceRequests to container create inspect example
 docs add example calculations to container stats API

fixes dockerdocker.github.io


 docs sync swagger changes to v. and v.
 swagger sync v. and v. formatting with current version

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker checkpoint;"Ref 
Note completion for docker start checkpoint is just any word. This is because checkpoints can only be queried for a given container which is unknown at this stage see .
Gathering a full list of all checkpoints seemed to expensive so I'm waiting for a solution to and improve in a followup.
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3138;docs sync swagger changes to v. and v.;"Updates the v. and v. swagger files with updates from

 swagger clarify the meaning of Image field in ContainerInspect endpoint
 swagger add DeviceRequests to container create inspect example
 docs add example calculations to container stats API
 Document message parameter to imagescreate
 Swagger add missing container Health docs and add ContainerState as definition

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add windows specific bash completion for docker run|create|build;"We already selectively enable experimental features in bash completion.
This PR extents the concept to OS specific enablement of features.
You can now write code like
local optionsfoo bar
if dockerdaemonosis windows then
 options windowsoption
elif dockerdaemonosis solaris then
 options solarisoption
fi
This PR then adds five missing windows specific options to docker run|create references . These options were found by executing docker run help | grep i windows.
An existing option isolation is then moved to windows specific treatment.
For consistency and better naming an existing helper function is renamed sdockerisexperimentaldockerdaemonisexperimentalg
In a next step Linux specific options could be hidden in Windows daemon context.
Ping tianon AkihiroSuda this is what we discussed on slack PTAL
Ping thaJeztah Think you gonna like this one.
Ping mlaventure for review
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3139;docs add example calculations to container stats API;"Signedoffby Velko Ivanov vivanovdeeperplane.com

addresses dockerdocker.github.io
 What I did
Added some formulas to the docs for calculating container stats from data obtained by the API. They are the same that are used in the cli tool for the stats command.
 Description for the changelog

Added examples for calculating container stats from data obtained by the API
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Replace kickass in name generator with vigorous;"Having curse words in container names can get awkward.
Closes .
Signedoffby Steve Dougherty steveasksteved.com
 Description for the changelog
Replace kickass in name generator with vigorous
 A picture of a cute animal not mandatory but encouraged

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3140;Fix log file rotation test.;"fixes 
The test was looking for the wrong file name.
Since compression happens asyncronously sometimes the test would
succeed and sometimes fail.
This change makes sure to wait for the compressed version of the file
since we can't know when the compression is going to occur.
Taken from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add format for docker node ls;"What I did
This fix tries to address the comment comment where it was not possible to specify format for docker node ls. The format flag is a quite useful flag that could be used in many places such as completion.
 How I did it
This fix im";0
3141;apitypes omit empty DefaultAddressPools;"Also a small followup to 
I was revendoring moby in the CLI and realised that we didn't add an omitempty to this field I think it would be ok to add that
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix linux mount calls not applying propagation type changes;"Propagation type changes must be done as a separate call in the same way as read only bind mounts.
To fix this

Ensure propagation type change flags aren't included in other calls.
Only apply read only bind mount changes once.
Make it clear which parameters are ignored by passing them as empty.
Apply propagation type change in a separate call.

Fixes 
Signedoffby Steven Hartland steven.hartlandmultiplay.co.uk
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3142;docs add mention of DefaultAddressPools to API history;"small followup to . I didn't want to block merging of that PR because of this ?ÿà
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Minor GoDoc fixup in integrationcli;"just going through some local branches ?ÿä
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3143;Swagger move system version response to definitions;"Also made the same change to the v. and v. swagger files used in the docs
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";do not ignore local buildcontexts starting with github.com;"Docker specialcases buildcontexts starting with github.com and
treats them as remote URLs.
Because of this special treatment local build contexts in a directory
named github.com are ignored by docker build.
This patch changes the way the buildcontext is detected and first
checks if a local path with the given name exists before considering
it to be a remote URL.
Before this change
 mkdir p github.comfoobar echo e FROM scratch\nLABEL iamlocal github.comfoobarDockerfile

 docker build t dontignoreme github.comfoobar
Username for 'httpsgithub.com'

After this change
 mkdir p github.comfoobar echo e FROM scratch\nLABEL iamlocal github.comfoobarDockerfile

 docker build t dontignoreme github.comfoobar
Sending build context to Docker daemon . kB
Step FROM scratch
 
Step LABEL iam local
 Using cache
 aecfe
Successfully built aecfe

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3144;. backport Bump Golang ..;"backport of and 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix deadlock on v plugin with activate error;"When a plugin has an activation error it was not being checked in the
waitActive loop. This means it will just wait forever for a manifest
to be populated even though it may never come.
This is needed for .. as well.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3145;vendor update buildkit to dfe;"full diffs


mobybuildkitdfe...df

mobybuildkit use containerdsys to detect UserNamespaces
mobybuildkit git support for token authentication
mobybuildkit image export Use correct media type when creating new layer blobs
mobybuildkit progressui fix logs time formatting
mobybuildkit push dedupe push handlers

work around containerd issue on parallel pushes containerdcontainerd


mobybuildkit secrets allow providing secrets with env

Support secret idfooenvMYENV as an alternative for storing a secret value to a file.
secret idGITAUTHTOKEN will load env if it exists and the file does not.


mobybuildkit solver fix marking already cached vertex as cancelled
mobybuildkit session track sessions with a group construct

Fixes issues described in mobybuildkit comment


mobybuildkit Update Executor interface for Run and Exec
mobybuildkit inline cache fix handling of duplicate blobs

Fixes mobybuildkit cachefrom working unreliably
Fixes Image built from cached layers is missing data


mobybuildkit Use containerd's default runtime shim instead of hardcoded runtime v
mobybuildkit Split LocalMounter.Mount into Windows and Unix
mobybuildkit remotecache Only visit each item once when walking results

Improves performance and CPU use on bigger graphs


mobybuildkit add RunExec to FrontendLLBBridge interface



tonistiigifsutilccdb...aead

Drop support for go. and use errors.Is for errordetection
Update dependencies



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add src alias for secret;"This patch adds a src alias for secret to be consistent with mount.
As noted in review and discussed in comment
ping AkihiroSuda icecrime ptal
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3146;Use IsServing to determine if cd client is ready;"Instead of sleeping an arbitrary amount of time using the client to
tell us when it's ready so we can start processing events sooner.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker swarm unlock|unlockkey;"There seem to be new commands in .. that were not mentioned in the release notes httpsgithub.comdockerdockerpullfilesr.
Please add to ..
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3147;Work around missing shim event;"Call DeleteTask when processe is not found
In this case we are sending a signal to the container typically this
would be SIGKILL or SIGTERM but could be any signal but container
reports that the process does not exist.
At the point this code is happening dockerd thinks that the container
is running but containerd reports that it is not.
Since containerd reports that it is not running try to collect the exit
status of the container from containerd and mark the container as
stopped in dockerd.
Repro this problem like so
iddocker run d busybox top
pkill containerd pkill top
docker stop id

Without this change docker stop id will first try to send SIGTERM
wait for exit then try SIGKILL.
Because the process doesn't exist to begin with no signal is sent and
so nothing happens.
Since we won't receive any event here to process the container can
never be marked as stopped until the daemon is restarted.
With the change docker stop succeeds immediately since the process is
already stopped and we mark the container as stopped.
There are definitely some other places in the stack that could use some
improvement here but this helps people get out of a sticky situation.
With io.containerd.runc.v no event is ever recieved by docker because
the shim quits trying to send the event.
With io.containerd.runtime.v.linux the TastExit event is sent before
dockerd can reconnect to the event stream and we miss the event.
No matter what we shouldn't be reliant on the shim doing the right
thing here nor can we rely on a steady event stream
Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add missing options to bash completion for docker swarm init|update;"I found some missing options in docker swarm init and docker swarm update.
Please add to ...
Ping sdurrheimer for zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3148;Bump Golang ..;"full diff golanggogo.....go..
go.. released includes fixes to the compiler vet and the
databasesql nethttp and reflect packages. See the Go .. milestone on
the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Zsh completion hide legacy commands;"ref 
ref comment
vincentbernat This is probably not the best solution if you have any ideas
I also fixed the typo mentionned by thaJeztah comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3149;. vendor mobybuildkit v..gcbef;"full diff mobybuildkitdcafa...cbe

mobybuildkit contenthash ignore system and security xattrs in calculation

fixes mobybuildkit COPY cache not reused depending on SELinux environment
fixes comment


mobybuildkit contenthash allow security.capability in cache checksum
mobybuildkit inline cache fix handling of duplicate blobs

fixes mobybuildkit cachefrom working unreliably



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendor vishvanandanetlink ebdfb;"So that docker stats reports bit counter nw statistics
CONTAINER CPU MEM USAGE LIMIT MEM NET IO BLOCK IO PIDS
r . KiB . GiB . . GB . GB kB B 

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3150;testing bump dockerpy ..;"full diff dockerdockerpy.......
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";validate CHANGELOG.md dates are in descending order;"What I did
Added validation script to check CHANGELOG.md has descending order of dates so RPM builds can process the changelog.
Fixed one line in CHANGELOG.md so the check succeeds.
Without this fix builds of RPM packages will fail with error
error";0
3151;Add more error details on plugin get;"Seeing this ErrNotImplements in some of our logs and it's not very
helpful because we don't know what plugin is causing it or even what the
requested interface is.
messagelegacy plugin Plugin does not implement the requested driver

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";typo fix typo in api documents;"Signedoffby Lei Jitang leijitanghuawei.com

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3152;Remove unused useShimV;"This function was removed in the Linux code as part of ffa but was not removed in the Windows code.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Vendor swarmkit containerd and related dependencies;"Update swarmkit to b.
As swarmkit switched to a newer gRPC version this also involves updating Docker's vendored gRPC which in turn requires updating containerd to a new version that has protobufs generated against this gRPC version.
Replaces 
Includes dockercontainerd dockercontainerd dockercontainerd
Fixes 
Fixes 
Addresses 
cc thaJeztah dockercoreswarmkitmaintainers dockercorecontainerdmaintainers
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3153;hackvendor add check for vendored archivetar;"relates to 
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add addhost for docker build;"Signedoffby Tony Abboud tdabboudhotmail.com

 What I did
Added the addhost flag to the docker build command. This flag allows you to add extra hosts to a containers etchosts file upon building an image.
 How I did it
I added another flag to the build handler and added server side code to accept and set the extra hosts when the build endpoint is hit.
 How to verify it
I have added an integration test TestBuildWithExtraHost which adds hosts whose ip is set to the localhost but then it tries to ping based off of the hostname that was set.
 Description for the changelog
Add the addhost flag to docker build to add entries to a containers etchosts file when building an image

Implements 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3154;Bump Go ..;"Includes security fixes to the cryptox and nethttp packages.
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Ensure proper value is used when computing reclaimable space;"When Size was reverted to be equal to VirtualSize the df command
formatter was not correctly updated to account for the change.
Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3155;cgroup v change the default runtime to io.containerd.runc.v;"What I did
Changed the default runtime to io.containerd.runc.v.
Fix 
Replace 
The previous default runtime io.containerd.runtime.v.linux is being deprecated containerdcontainerd
io.containerd.runc.v is available since containerd v";Fix bash completion for completing nodes;"There is a bug in bash completion for nodes.
To verify
 docker node inspect tab
cc self
 docker node inspect tabtab
cc self
expected result is expanded to the node name cc.
acutal result no completion cc self suggested again.
Only the special name self is expanded as expected.
The problem is also present in completion for docker node ps because it uses the same buggy helper function dockercompletenodesplusself.
This fix rewrites the logic used to add self. The idiom of an add option is already used in other helper functions.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3156;Remove use of mattngoshellwords;"This dependency was only used in two locations and didn't appear to be really needed for how it was used.
supersedes 
closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for docker service ps filter node;"The node filter was missing.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3157;Remove some outdated terminology where possible;"Replace uses of blacklistwhitelist where possible
Replace uses of masterslave where possible

There's still some occurrences in the code that are not under our control rslave mount propagation master branches in git repositories we reference and our own master branch masterslave for IPVlan interfaces and whitelist used by vndr I'll open a PR for that
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for docker service update;"Remove bash completion for docker service update publish|p
Before this PR this option would be completed in both create and update.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3158;. backport vendor hcsshim dcbffdbaebbaa;"Cherrypick




Fixes 
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix bash completion for docker plugin ls;"This addresses two minor glitches introduced in 

missing q short option
options with arguments should have special treatment for the argument. Although this is not strictly required in this particular case because there is no catchall for nonoption arguments it increases robustness against future changes.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3159;vendor libnetwork eafdfcaedca;"supersedes 
closes 
full diff mobylibnetworkeaed...eaf

mobylibnetwork Add docker interfaces to firewalld docker zone

fixes dockerforlinux DNS Not Resolving under Network CentOS
fixes mobylibnetwork Port Forwarding does not work on RHEL with Firewalld running with FirewallBackendnftables


store.getNetworksFromStore remove unused error return
mobylibnetwork Fix 'failed to get network during CreateEndpoint'

fixesaddresses dockerforlinux failed to get network during CreateEndpoint


mobylibnetwork master bridge disable IPv router advertisements
mobylibnetwork log error instead if disabling IPv router advertisement failed

fixes dockerforlinux Shouldn't be fatal Unable to disable IPv router advertisement open procsysnetipvconfdockeracceptra readonly file system



Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed secret creation usage during service create in docs;"Using source the following error is made
invalid field in secret request src
Signedoffby Michael Irwin mikesirgmail.com
 What I did
Documentation fix to align with outcome from running command
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3160;daemonstats use const for clockTicksPerSecond;"See the discussion on comment
The value comes from C.sysconfC.SCCLKTCK and on Linux it's a constant which is safe to be hard coded. See for example in the Musl libc source code httpsgit.musllibc.orgcgitmusltreesrcconfsysconf.cn
This removes the github.comopencontainersrunclibcontainersystem dependency from this package.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";remove indent from .dockerignore example;"What I did
I apologize if there's a reason for having the example show .dockerignore file with indents. I found it confusing so proposing it be removed.
Signedoffby Michael Friis friismgmail.com
 
 
 
 
";0
3161;. vendor buildkit dcafaffcbbefdfffbeccb v..gdcafaf;"full diff mobybuildkitadbf...dcafa

solver avoid recursive loop on cacheexport

fixes mobybuildkit exportcache option crashes buildkitd on custom frontend
fixes mobybuildkit Dockerd buildkit in a infinite loop and burning cpu
fixes .. goroutine stack exceeds byte limit
fixes Multistage docker build fails with unexpected EOF



 Description for the changelog

 Builder Next avoid recursive loop on cacheexport

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Refactor attach;"Moves container's attach code into stream package.
Additionally refactors copyEscapable to use a custom reader which handles the attach escape sequences rather than the copypaste of io.Copyescape sequence behavior.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3162;Runtime configure shim;"What I did
Move all shim config into runtime type and adds new builtin runtimes to allow explicitly switching from runcshimv and runcshimv
 How I did it
Add a ShimConfig type to types.Runtime which stores the shim config.
The daemon then uses";Fix dockerd leaks ExecIds on failed exec i;"If libcontainerd failed to start process there will be no callback about exec done so cleanup code should be added to ContainerExecStart
Signedoffby Dmitry Shyshkin dmitryshyshkin.org.ua
 What I did
Close streams and removed ExecConfig from container in case of process failed to start
 How I did it
Copy part of cleanup code from containerd exec callback
 How to verify it

execute docker exec i anycontainer invalidcommand
check for ExecIDs. docker inspect anycontainer | grep A ExecIDs

 Description for the changelog
Fix dockerd leaks ExecIds on failed exec i
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3163;vendor runc libraryv..rcgad;"full diff opencontainersruncv..rc...v..rc

vendor containerd efafebbabdbcaef containerdcontainerdcd...ef

containerdfifoffa...fa


vendor runc adffdaebacbeef opencontainersruncv..rc...a
vendor bbolt v.. etcdiobboltv.....v..

add go.mod
fix panic runtime error unsafe pointer conversion Go .


vendor prometheus dependency.
vendor protobuf v.. golangprotobufv.....v..

ptypes regenerate with v.. update for go. gofmt
go.mod set go version to go.



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing formatting errors in Run refdoc;"What I did
Cherrypicked the fix from to master
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3164;swagger sync v. and v. formatting with current version;"To allow for easier comparing between versions. Some followups may be coming noticed some differences that I need to look into
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Cherry pick docker and vendor corresponding swarmkit;"Verified that in swarmmode plugin install docker plugin install bborehamweave and network creation docker network create driverbborehamweave foo works using the plugin works.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3165;swagger add DeviceRequests to container create inspect example;"swagger move NetworkingConfig to definitions
swagger add DeviceRequests to container create inspect example

fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";.. rc cherrypicks;"Add zsh completion for 'docker containerimagenetworksystem prune filter 
Add zsh completion for 'docker swarm availability' 
Add bash completion for dockerd init and docker run|create init 
Add bash completion for build squash 
Honour DOCKERHIDELEGACYCOMMANDS in bash completion 
Fix treatment of DOCKERHIDELEGACYCOMMANDS in bash completion 
Add bash completion for docker swarm unlock|unlockkey 
Add missing options to bash completion for docker swarm init|update 
Add bash completion for docker service ps filter node 
Fix bash completion for docker service update 
Add zsh completion for 'docker plugin install alias' 
Add bash completion for plugin install disablecontenttrust 
Add zsh completion for 'dockerd init' and 'docker createrun init' 
Ensure proper value is used when computing reclaimable space 
Add bash completion and docs for docker run|create initpath 
distribution Add texthtml and applicationjson as image mediatypes 
Remove timeout on fifos opening 
Ignore certificate expiry error for toplevel inspect 
Fix pluginv Windows volumes 
Only show global warnings once 
do not create initdir if not needed 
Fix deadlock on v plugin with activate error 
Fix failure in docker ps format when .Label has args 
Fix bash completion for completing nodes 
plugins add example docs for a rexray plugin 
project bump go to go .. 
ppcle use official go .. binaries 
Windows Bump to latest version of git 
Windows Add service dependency ConDrv 
Fix incorrect Scope in network lsinspect with duplicate network names 
Add src alias for secret 
Fixed secret creation usage during service create in docs 
Remove attachable network on swarm leave 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3166;update containerd to v..;"Full diff containerdcontainerdv.....v..
The sixth patch release for containerd . includes a release process fix to not require the latest libseccomp. Prior
releases in this series were pinned to libseccomp .. and this update corrects the error in the v.. release which
linked to the latest libseccomp.
Notable Updates
Pin libseccomp to .. for the GH Actionsbased release.yml containerdcontainerd

There are no substantive changes in this upgrade. 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Prune named but untagged images if danglingOnlytrue;"Signedoffby KenfeMickael Laventure mickael.laventuregmail.com

Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3167;Set minimum memory limit to M to account for higher startup memory use;"fixes low memory on start causing strange failure condition
addresses Containers with memory limit M fail with obscure error message
relates to opencontainersrunc CVE Runc uses more memory during start up after the fix

For some time we defined a minimum limit for memory limits to account for
overhead during startup and to supply a reasonable functional container.
Changes in the runtime runc introduced a higher memory footprint during container
startup which now lead to obscure errormessages that are unfriendly for users
run rm memorym alpine echo success
docker Error response from daemon OCI runtime create failed containerlinux.go starting container process caused processlinux.go container init caused \processlinux.go setting cgroup config for procHooks process caused \\\failed to write \\\\\\\\\\\\\\ to \\\\\\\sysfscgroupmemorydockercdfebdfffceebdbdddbdmemory.limitinbytes\\\\\\\ write sysfscgroupmemorydockercdfebdfffceebdbdddbdmemory.limitinbytes device or resource busy\\\\ unknown.
ERRO error waiting for container context canceled

Containers that fail to start because of this limit will not be marked as OOMKilled
which makes it harder for users to find the cause of the failure.
Note that after this memory is only required during startup of the container. After
the container was started the container may not consume this memory and limits
could manually be lowered for example an alpine container running only a shell
can run with k of memory
echo sysfscgroupmemorydockeracddfbebcfccdfbddaefaaeeacacmemory.limitinbytes

However restarting the container will reset that manual limit to the container's
configuration. While docker container update would allow for the updated limit to
be persisted restarting the container after updating produces the same error message
again so we cannot use different limits for docker run docker create and docker update.
This patch raises the minimum memory limnit to M so that a better errormessage is
produced if a user tries to create a container with a memorylimit that is too low
docker create memorym alpine echo success
docker Error response from daemon Minimum memory limit allowed is MB.

 Description for the changelog

 Raise minimum memory limit to M to account for higher memory use by runtimes during container startup
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixing formatting errors in Run refdoc;"Fasttrack please the run reference is broken in the docs.
httpsdocs.docker.comenginereferencebuilderarg
Signedoffby John Mulhausen johndocker.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3168;Fix status code for missing volumesfrom container;"fixes dockercli Misleading error when using volumesfrom DOESNOTEXIST docker complains about the image
If the container specified in volumesfrom did not exist the
API returned a status which was interpreted by the CLI as the
specified image to be missing even if that was not the case.
This patch changes these error to return a bad request
Before this change
 make sure the image is present
docker pull busybox
docker create volumesfromnosuchcontainer busybox
 Unable to find image 'busyboxlatest' locally
 latest Pulling from librarybusybox
 Digest shacffcdfaafbbbeacffa
 Status Image is up to date for busyboxlatest
 Error response from daemon No such container nosuchcontainer

After this change
 make sure the image is present
docker pull busybox
docker create volumesfromnosuchcontainer busybox
 Error response from daemon No such container nosuchcontainer

 Description for the changelog

 Fix incorrect status code being returned by the API leading to docker run and docker create triggering am image pull when using volumesfrom that's pointing to a nonexisting container.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add network.internal to Compose schema;"Fixes 
Includes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3169;update containerd to v..;"Full diff containerdcontainerdv.....v..
The fifth patch release for containerd . includes bug fixes related to cleanup of IO and shim processes.
Notable Updates
Cleanup allocated resources in case of a binary IO error containerdcontainerd
Fix image usage calculation error containerdcontainerd
Make killing shims more resilient containerdcontainerd
shim v runc propagate options.Root to Cleanup containerdcontainerd
Bump Golang .. containerdcontainerd
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Run TestBuildCopyWilcardInName only on linux daemon and unix client;"Should fix winlin.
cc thaJeztah mlaventure johnstep tiborvass duglin
Signedoffby Vincent Demeester vincentsbr.pm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3170;seccomp allow 'rseq' syscall in default seccomp profile;"Restartable Sequences rseq are a kernelbased mechanism for fast
update operations on percore data in userspace. Some libraries like
the newest version of Google's TCMalloc depend on it .
This also makes dockers default seccomp profile on par with systemd's
which enabled 'rseq' in early .
 httpsgoogle.github.iotcmallocdesign.html
 systemdsystemdfeebe
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'dockerd init' and 'docker createrun init';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3171;info improve WARNING Running in rootlessmode without cgroup;"The cgroup v mode uses systemd driver by default.
Suggesting to set execopt native.cgroupdriversystemd isn't meaningful.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker containerimagenetworksystem prune filter;"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3172;dockerdrootless.sh support new containerd shim socket path convention;"The new shim socket path convention hardcodes runcontainerd containerdcontainerd
dockerdrootless.sh is updated to hide the rootful runcontainerd from the mount namespace of the rootless dockerd.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update dockerproxy to bbfebdedccafffde;"What I did
Update dockerproxy to mobylibnetworkbbfeb
httpsgithub.comdockerlibnetworkcommitsmastercmdproxy
Fix halfduplex TCP FIN issue via mobylibnetwork
 How I did it
Updated hackdockerfilebinariescommits
 How to ver";0
3173;fix typos and grammar in docs;"Signedoffby jieniu jieniusoutlook.com
 What I did
Fix typos and grammar
 How I did it
Fix typos and grammar
 How to verify it
NA
 Description for the changelog
Improve documentation by fixing typos and grammar
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";refactor config reload in daemon;"Signedoffby allencloud allen.sundaocloud.io
With the code base growing up in aspect of reload it seems that code becomes some kind of unreadable. This PR aimed at refactoring the reload.
 What I did

split func reload into a single reload.go
split reload test from daemontest.go to reloadtest.go
refactor func Reload into several independent functions.

 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3174;chrootarchive fix conversion from int to string yields a string of one rune;"update test to fix go . linting failure
pkgchrootarchivearchivetest.go conversion from int to string yields a string of one rune

relates to golanggo 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugins add example docs for a rexray plugin;"Signedoffby Tibor Vass tibordocker.com
cc anusharagunathan vieux
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3175;fix gotestsum.installer installing wrong version;"When using go modules go build will always fetch the latest
version of the package so ignores the version we previously go get'd.
Instead of running go get and go build separately this patch uses
go get without the d option to do it all in one step.
Given that this binary is only used for testing and only used inside the
Dockerfile we should consider inlining this step in the Dockerfile itself
but keeping that separate for now.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix failure in docker ps format when .Label has args;"This fix tries to fix the issue in where docker ps format fails if .Label has args. For example
docker ps format '.ID\t.Names\t.Label some.label'

The reason for the failure is that during the preprocessing phase to detect the existance of .Size the listOptionsProcessor does not has a method of Labelname string string.
This results in the failure of
template executing at .Label Label is not a method but has arguments

This fix fixes the issue by adding needed method of Labelname string string.
This fix fixes .
Signedoffby Yong Tang yong.tang.githuboutlook.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3176;Switch all Dockerfiles to use buster variant;"Commit eabe switched the main Dockerfile to the buster variant but did not update some of the other Dockerfiles.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Carry ?Çö Do not require .git in the build context;"Carry and hopefully fixes builds ?æ?.

Add .git to .dockerignore
export DOCKERGITCOMMIT in the Makefile
prioritize DOCKERGITCOMMIT against the git command in
.hackmake.sh
Also add integrationclibundles to gitignore it's generated when
using integrationcli shell

Note that on my laptop for example I'm sending M of context with this and M without ?ÖÇ so I really think this can be a huge win ?æ?
cc tianon jhowardmsft icecrime thaJeztah cpuguy
?É?
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3177;project remove obviously outdated docs;"Remove the following files

ARM.md ARM hosts including ARM are fully supported now
IRCADMINISTRATION.md IRC has gone
PACKAGEREPOMAINTENANCE.md debrpm has moved to httpsgithub.comdockerdockercepackaging
TOOLS.md most tools except Jenkins are unusedunmaintained

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion and docs for docker run|create initpath;"This adds

bash completion and docs for docker run|create initpath
docs for init

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3178;contrib remove dockermachineinstallbundle.sh;"Docker Machine is deprecated now
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker swarm availability';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3179;contrib remove outdated examples and files;"contrib remove outdated desktopintegration examples
These Dockerfiles haven't been maintained and more uptodate versions can be found in Jess's github repository

chromium httpsgithub.comjessfrazdockerfilestreeebffcafcdfaafchromium
gparted httpsgithub.comjessfrazdockerfilestreeebffcafcdfaafgparted


contrib remove outdated vagrant docs
contrib remove unused REVIEWERS files

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix broken JSON support in clicommandformatter;"What I did
Fir an issue in CLI formatter addendum to 
 docker images format 'json .'


..
 docker container stats format 'json .'


..
 How I did it
Added marshalJSON
 How to verify it
 docker images format 'json .";0
3180;dockerdrootless.sh allow specifying DOCKERDROOTLESSROOTLESSKITPORTDRIVER;"What I did
The default port driver builtin might not be always preferrable as it drops src IP information containerspodman
Now the port driver can be changed to slirpnetns via the environment variable DOCKERDROOTLESSROOTLESSKITPORTDRIVER";Add zsh completion for multiple service for 'docker service ps';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3181;Upgrading the versions of images in Dockerfile.;"In order to run tests at mipsel device.
Now officialimages has supported the following images for mipsel.
buildpackdepsstretch
buildpackdepsbuster
debianstretch
debianbuster
But officialimages does not support the following images for mipsel.
debianjessie
buildpackdepsjessie
Signedoffby wanghuaiqing wanghuaiqingloongson.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add zsh completion for 'docker plugin install alias';"ref. 
Signedoffby Steve Durrheimer s.durrheimergmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3182;Revendor hcsshim to fix image import bug;"This change brings in a single new commit from Microsofthcsshim. The
commit fixes an issue when unpacking a Windows container layer which
could result in incorrect directory timestamps.
This manifested most significantly in an impact to startup times of
some Windows container images such as anything based on servercore. This can be verified by running the mcr.microsoft.comwindowsnanoserver image both with and without this fix.
Fixes 
Signedoffby Kevin Parsons kevparmicrosoft.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix some typos;"Signedoffby Zhang Wei zhangweihuawei.com
All the files are scanned with misspell tool and this is the final result.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3183;TestUserNoEffectiveCapabilitiesNetBindService conditionally set net.ipv.ipunprivilegedportstart;"fixes 
Prevent the test from failng on environments where this sysctl is not supported.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add bash completion for dockerd init and docker run|create init;"Fixes 
Please schedule for ..
ping sdurrheimer also missing in zsh completion
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3184;. Enable build on DragonflyNetBSD;"What I did
Enable build on DragonflyNetBSD as it is required by upcoming Swarm support in the prometheus monitoring system.
 Description for the changelog

Enable building the client for DragonflyNetBSD
 A picture of a cute animal not mandatory but";add CheckDuplicate docs and logics in network;"Signedoffby allencloud allen.sundaocloud.io
Recently I ran into network create option CheckDuplicate and confused a lot. Related issues and PRs has 

 discussed about the real meaning of CheckDuplicate
 one related bug and confusion

This PR tries to make things consistent in API doc struct definition and code implementation. PR also hopes to reduce the potential misunderstanding user and developers may have.
This PR also reports a warning when creating a overlay network when there is already a bridge network with same name with CheckDuplicate false. Here is the two cases.
First Case
Step create a bridge network with name allen with CheckDuplicate false
Step create another bridge network with name allen with CheckDuplicate false.
In Step we will get a warning from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goLL.
Second Case
Step create a bridge network with name allen with CheckDuplicate false
Step create overlay network with name allen with CheckDuplicate false.
In Step we will never get a warning.
This PR also adds a warning for second case.
 What I did

add comments in CheckDuplicate field in definition
add description in api docs including swagger.yml
add code logic to fix overlay network creation warning.

ping mrjana thaJeztah
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3185;Enable client on netbsd and dragonfly;"What I did
Enable the build of the client for NetBSD. This is required for the native integration of docker swarm in the Prometheus monitoring system. Backport to the stable release is appreciated too.
 Description for the changelog
client add suppor";distribution Add texthtml and applicationjson as image mediatypes;"As noted by the new strict checking of mediatypes misses some
cases where earlier bugs caused nonstandard mediatypes to be stored in
manifests. Two of the known cases are texthtml and applicationjson
which were returned by certain registries and stored by earlier versions
of Docker. Add special cases for texthtml and applicationjson.
cc dmcgowan
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3186;TestDaemonDNSFallback increase timeout to reduce flakiness;"per comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swarm Add updaterollback order;"Update order is a new parameter to control the order of operations when rolling out an updated task. Either the old task is stopped before starting the new one or the new task is started first and the running tasks will briefly overlap.
Previously stopfirst was the only supported behavior. The behavior of startfirst could be emulated by temporarily scaling up the service so for awhile we hesitated to add it. However there are some cases where it is awkward to change the number of replicas in a service just to support temporary overlap during updates. It doesn't work for some new features we have in mind like automatic preemption.
This PR adds Order to the API and updateorder rollbackorder flags to the CLI. It adds an integration test that performs a rolling update in the new startfirst mode.
cc aluzzardi dongluochen
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3187;. vendor dockerlibnetwork aabaabaaaddcfcb bump. branch;"full diff mobylibnetworkd...aaba

mobylibnetwork Fix 'failed to get network during CreateEndpoint'

backport of mobylibnetwork
addresses dockerforlinux
possibly addresses 
possibly addresses mobylibnetwork
possibly addresses mobylibnetwork


mobylibnetwork log error instead if disabling IPv router advertisement failed

backport of mobylibnetwork
fixes dockerforlinux



Note that we may want to have the local changes from as well but that one isn't merged yet on master
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make Docker automatically update hostname for Swarm node;"Signedoffby Nishant Totla nishanttotlagmail.com

 What I did
Fix 
 How I did it
The Swarm node config swarmnode.Config sets hostname and passes it to the node object which in turn initializes hostname for the agent object. SwarmKit design makes sure that agent hostname always overrides what is reported by the machine. Currently since the agent hostname is set at the time of node creation any updates reported in the future are automatically discarded.
This PR ensures that the agent hostname is not set by Docker and instead picked up from the hostname reported by the machine. As a result SwarmKit's dynamic node update ticker picks up hostname changes and reports the correct hostname in docker node ls and docker node inspect.
 How to verify it
Start a single node Swarm and check the hostname reported as part of docker node ls. Then change the machine hostname and run docker node ls again.
 Description for the changelog
Automatically update Swarm node name when machine hostname changes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3188;vendor golang.orgxtext v.. CVE;"full diff golangtextv.....v..
includes a fix for CVE golangtextae
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix incorrect Scope in network lsinspect with duplicate network names;"What I did
This fix tries to address the issue raised in comment comment where the Scope field always changed to swarm in the ouput of docker network lsinspect when duplicate network name exists.
The reason for the issue was that buildNetworkR";0
3189;fix code note when push all tags;"when i watch the code of pushvI see some node is not correct.The node shoud be
push not pull .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Improve bash completion for docker run capadddrop;"Docker has several capabilities enabled by default and some not see httpsdocs.docker.comenginereferencerunruntimeprivilegeandlinuxcapabilities.
Before this PR both capadd and capdrop would complete the full set of capabilities.
This PR reduces the completion to only those capabilities that can be addeddropped.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3190;use containerdsys to detect UserNamespaces;"The implementation in libcontainersystem is quite complicated
and we only use it to detect if usernamespaces are enabled.
In addition the implementation in containerd uses a sync.Once
so that detection and readingparsing procselfuidmap is
only performed once.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix some ineffectual assignments and minor fixes;"To make goreportcard a bit happier
Also found that

TestCpToErrDstParentNotExists was partially broken because a runDockerCp was inadvertently removed in fae
TestDaemonRestartSaveContainerExitCode didn't verify the actual Error message so added that to the test.
TestVolumeCLICreateOptionConflict only checked for an error to occur but didn't validate if the error was due to conflicting options.

 How to verify it
Wait for Janky to hopefully become ?ÆÜ
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3191;buildernext update to new buildkit and fix upgrade bugs;"fixes 
Upgrades buildkit to bring in buildkit side fix mobybuildkit
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile.buildx bump to Go ..;"Looks like this Dockerfile was not yet updated possibly because go mod issues when building buildx ...
Given that the upstream repository uses vendoring I

removed the go mod download step
added modvendor to use vendoring mode

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3192;Fix windows log file rotation with readers;"This fixes the case where log rotation fails on Windows while there are
clients reading container logs.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";containerd.installer refactor;"add set e to prevent linting warnings
use install instead of cp
use a subshell for the whole function instead of starting one
inside it.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3193;Make script pass shellcheck;"What I did
Make the downloadfrozenimagev.sh script pass shellcheck
 How I did it

Prefer p q as p a q is not well defined.
Quote unquoted variable
local and assign separately to avoid masking return values.
split layersFs with m";swagger reformat and wrap to chars;"Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3194;dockerdrootlesssetuptool.sh use safer XRD on nonsystemd hosts;"tmpdockerid u is not a good candidate as XDGRUNTIMEDIR
because it might be already created by another user.
The new path is HOME.dockerrun.
Cherrypicked from dockerdockerinstall
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Makefile remove empty targets and slight refactor;"The empty binary dynbinary and cross targets at the top were only useful to provide the description for make help.
This patch splits the actual binary dynbinary and cross targets to separate lines introducing some slight duplicated code but making it slightly easier to read and removing the empty targets.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3195;. backport intcliTestRunInvalidCPUShares fix for newer runc;"backport of for the . branch
A newer runc changed a couple of certain error messages checked in this
test to be lowercased which lead to a mismatch in this test case.
Fix is to remove The which was replaced with the.
 opencontainersrunc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Make binary install all containerd shims to bundles;"The containerd.installer was updated to also copy containerdshimruncv in but hackmakebinarydaemon did not copy it to the bundles directory.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3196;intcliTestRunInvalidCPUShares fix for newer runc;"A newer runc changed a couple of certain error messages checked in this
test to be lowercased which lead to a mismatch in this test case.
Fix is to remove The which was replaced with the.
 opencontainersrunc
Fixes opencontainersrunc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor buildkit v..geaa;"full diff mobybuildkitbcff...ea

mobybuildkit Avoid creation of irrelevant temporary files on Windows

backport of mobybuildkit for the docker.v. branch



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3197;Validator Fixed constraint violation to string not handling array;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This bug was introduced on PR . Validator added comparison constraints and validators
Due to the change on root to become the value
 context new ExecutionContextthiscreateVisitornull thistranslator thistranslationDomain
 context new ExecutionContextthiscreateVisitorvalue thistranslator thistranslationDomain
httpsgithub.comsymfonysymfonypullfilesdifffacdfcbaeacaedR
My change on
 class string isobjectthisroot getclassthisroot thisroot
 class isobjectthisroot
 getclassthisroot
 isarraythisroot 'Array' string thisroot

Is inspired on TypeValidator
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";handle array root element;"An array to string conversion notice was thrown when the root element of the thing being validated is an array.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3198;HttpKernel Fix call to Memcachedset in MemcachedProfilerStorage;"The existing code seems to have been copied from MemcacheProfilerStorage. Memcacheset includes a flag argument but Memcachedset omits that. See

httpphp.netmanualenmemcached.set.php
httpphp.netmanualenmemcache.set.php


I assume TravisCI didn't catch the MemcachedProfilerStorageTest failures because those tests are skipped httptravisci.orgsymfonysymfonyjobsL
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpKernel Fixed failing tests due to incorrect parameters;"Incorrect params for Memcachedset see httpphp.netmanualenmemcached.set.php
These tests really be using test doubles imo.
Fixes the following errors
There were errors

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStore
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestChildren
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStoreSpecialCharsInUrl
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStoreDuplicateToken
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestRetrieveByIp
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestRetrieveByUrl
Memcachedset expects at most parameters given

homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.php
homedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.php
homedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3199;Validator Added context object method callback to choice validator;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Allow Choice Constraint Callback to be nonstatic;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
none


License
MIT


Doc PR
will write if community wants this feature



Now that as of . the ExecutionContextInterface has a getObject method the callback doesn't need to be static anymore it can actually be on the object that's being validated. This is great because you can actually have dynamic choices and this validator will actually work. Maintainers are free to add commits to this branch.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3200;Routing allow URLs to be generated that include the default param;"BC break yes even if no test needed to be changed so the old behavior was probably not even intended as no test for it existed
Fixes 
This can be achieved by explicitly passing the parameter. Previously it just ignored the parameter that equals the default value. You can still omit optional variables by not passing it at all or passing null as param value.
Example
Given the route new Route'index.format' array'format' 'html'
Previously generating this route with params array'format' 'html' resulted in index which means one could not generate index.html at all. This has been changed. You can of course still generate just index by passing array'format' null or not passing the param at all.
I'm certain this is the best solution to the problem even if it slightly breaks bc. But IMO this is how it is supposed to work. Because when I pass a parameter explicitly I want it to be included in the URL.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Routing remove route query param when it is the same as default;"Q
A




Bug fix
yes


New feature
no


BC breaks
maybe not shure i think this is a bug


Deprecations
no


Tests pass
yes


License
MIT



i think the original testcase for query params is broken see
httpsgithub.comsymfonysymfonyblobmastersrcSymfonyComponentRoutingTestsGeneratorUrlGeneratorTest.phpL
the generate method from the UrlGenerator removes parameter that has the same value as the default see
httpsgithub.comsymfonysymfonyblobmastersrcSymfonyComponentRoutingTestsGeneratorUrlGeneratorTest.phpL
but this is not the case for query parameters
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3201;SecurityBundle Support autowiring for AccessDecisionManagerInterface;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Add missing autowiring aliases for common interfaces;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3202;PhpUnitBridge Make ClockMock match namespaces that begin with Tests\\;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT


Doc PR
symfonysymfonydocs



See symfonysymfonystandard
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";PhpUnitBridge Support namespaces that begin with Tests\;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




When registering a test class with ClockMock the namespace of the tested class is resolved by removing \Test\ from the namespace of the test class. But that does not work if this namespace actually starts with Test\.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3203;Fix check the version of intl instead of the version of PHP;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Update DateType.php;"Check intl Version instead of phpversion.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3204;Filesystem Add two methods isFile and isDirectory;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Filesystem Added new methods isDir and isFile.;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Those methods are checking if a given path is a directory or a file.
Since we are using Symfony Filesystem component to decouple filesystem from our code I felt those methods are missing and should be there. People should use them in their code and then they will be able to mock filesystem dependency in their tests completely.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3205;Validator Fix caching of constraints derived from nonserializable parents;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This change allows to still cache constraints even when an uncachable constraint i.e. Callback
is added to a parent class at runtime.
This is achived by caching only the constraints that are loaded for the class in question only
and merging parent and interface constraints after reading from cache.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Dont cache metadata misses;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3206;HttpFoundation Fixed the way path to directory is trimmed;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
re 


License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Path bug fixed.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3207;issue adding support to retrieve PEARinstalled classes within the UniversalClassLoader;"As discussed here it would be cool as a final fallback to try include classes with streamresolveincludepath to for example autoload classes installed via PEAR.
I wrote a small patch including a protected method in the UniversalClassLoader which formats a PEARstyle class name in a FS relative path this snippet was used times with this patch times so I refactored and added a test.
Since I can't check classexists'PEAR' because PHP would say yes using the include path but the universal class loader would however not load it I checked if the findFile method finds the PEAR class which should be installed in almost every PC running the tests I don't know if there is a better way to test it.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Autoload;"GH Issue 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3208;Yaml Fixed double quotes escaping in Dumper;"Issue is caused by DumperescapeWithDoubleQuotes which uses strreplace.
From the php docs

Because strreplace replaces left to right it might replace a previously inserted value when doing multiple replacements.

We should be very careful in deciding about the order of elements in escapees array. I'd really appreciate if someone reviewed my fix. Tests say I didn't break anything but I'm not sure what percentage of Yaml specification is covered by tests.
Bug fix yes
Feature addition no
Backwards compatibility break not that I know
Symfony tests pass 
Fixes the following tickets 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix in YAML escaper;"When a string contains both \n and invalid YAML was generated on YAML.dump.
We fixed the errors and added a testcase.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3209;Fix profiler throwing javascript errors on IE IE;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfilerBundle Fixes event listener attaching error in IE;"I haven't tested the change because I don't any working Symfony installation at hand. By the looks of changes it should work.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
not sure do we have JS tests


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3210;. FrameworkBundle Tag support in container debug;"Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass yes
Fixes the following tickets na
License of the code MIT
This PR allows finding all services with a specified tag in the container
 appconsole containerdebug tagform.type
container Public services
Service Id Scope Class Name
form.type.birthday container Symfony\Component\Form\Extension\Core\Type\BirthdayType
form.type.checkbox container Symfony\Component\Form\Extension\Core\Type\CheckboxType
form.type.choice container Symfony\Component\Form\Extension\Core\Type\ChoiceType
form.type.collection container Symfony\Component\Form\Extension\Core\Type\CollectionType
form.type.country container Symfony\Component\Form\Extension\Core\Type\CountryType
 ... 

Also it adds more info on used tags when requesting info of a service
Before
 appconsole containerdebug datacollector.request
container Information for service datacollector.request

Service Id datacollector.request
Class Symfony\Bundle\FrameworkBundle\DataCollector\RequestDataCollector
Tags kernel.eventlistener datacollector
Scope container
Public yes
Synthetic no
Required File 

After
 appconsole containerdebug datacollector.request
container Information for service datacollector.request

Service Id datacollector.request
Class Symfony\Bundle\FrameworkBundle\DataCollector\RequestDataCollector
Tags
 kernel.eventlistener event kernel.controller method onKernelController
 datacollector template WebProfilerBundleCollectorrequest id request priority 
Scope container
Public yes
Synthetic no
Required File 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle DependencyInjection Adding a command to debug services by tag;"Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass yes
Fixes the following tickets 
Todo 
License of the code MIT
Documentation PR 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3211;Added more verbose message for exception when form types have wrong getName;"PR based on discussion of commit introduces exception when custom form type have no getName method. a
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added the form type name to the exception message.;"Added the form type name to the exception message so it's clear witch form type the framework expected.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3212;FrameworkBundle Clean unnecessary methodexists calls in descriptors;"Q
A




Branch
.


Bug fix
no only cleanup right now


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT


Doc PR
NA



Those checks look useless as soon as the FrameworkBundle v. already requires the DI component . version in which were introduced these methods.
I also spotted the fact the shared property is missing from the TextDescriptor at least should appear when a service is not shared IMHO and the autowiringTypes are also missing from the XmlDescriptor.
WDYT about fixing this here too as a bug fix Or should we actually consider the whole thing clean missing info in descriptors as an enhancement and target master instead
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Remove useless checks in descriptors;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



As pointed out by ogizanagi in comment some code in FrameworkBundle's descriptors is useless because the bundle works only with DI ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3213;WebServerBundle Mark ServerCommand as internal;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 comment


License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Web server abstract remove;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3214;Form Added additional data attributes for collection type output;"Refactored and up to date w master version of 



Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
WIP




 fix the tests as they have not been updated yet
 submit changes to the documentation


I've added extra data attributes to collections in twig and php views for easier js manipulation.
New attributes

dataformwidget'collection' This is a collection and all children are form types
datacollectionallowadd Allow adding of new elements
datacollectionallowdelete Allow deletion of elements new and existing
dataprototypename The prototype name

This should make javascript integration much easier.
Example js
'dataformwidgetcollection'.eachfunction

 var collection this
 prototypeString collection.data'prototype'
 prototypeName collection.data'prototypeName' || 'name'
 prototypeNameRegx new RegExpprototypeNamelabelg
 count collection.children.length

 console.logthis count prototypeString

 var deleteLink span 
 'class' 'jsdelete'
 'text' 'Delete'
 

 var addLink span 
 'class' 'jsadd'
 'text' 'Add'
 

 ifcollection.data'collectionAllowDelete' 

 collection
 .children
 .appenddeleteLink.clonetrue

 collection.on'click' '.jsdelete' function
 event.preventDefault
 this.parent.remove
 
 

 ifcollection.data'collectionAllowAdd' 

 addLink.clickfunctionevent
 event.preventDefault
 var newPrototypeString prototypeString.replaceprototypeNameRegx count
 newPrototype newPrototypeString.appenddeleteLink.clonetrue
 newPrototype.insertBeforeaddLink
 count
 

 collection.appendaddLink
 

Replaces 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Collection Pass prototypename value to the view;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This commit allows to handle the collection field option prototypename from the view. Associated JS can now count on it to get the placeholder for prototype replace string on adding element.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3215;FrameworkBundle Handle project dir in cacheclear command;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpKernel Inherit projectDir in the temporary kernel;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Contrary to all other directories defined in the kernel the getProjectDir method is not copied to the temporary kernel. This can lead to issues if the method is overridden in AppKernel. Unfortunately the method is not and obviously cannot be in the KernelInterface so methodexists was my only option to see if it can be called.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3216;Introduce dumpdie to directly output result;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Added dump and die function;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3217;Fixed the phpdoc in the DependencyInjection component;"I was sick of having a warning in my IDE each time I used DefinitionDecorator because of an invalid phpdoc in the constructor so I took some time and fixed it in the whole DI component.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Adding a missing annotation for the fluent interface for DIC builder;"Hello
Just a tiny contribution for a missing annotation for the fluent interface
provided by ContainerBuilder of the DI component
Florent
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3218;HttpFoundation MongoDB driver support for sessions;"Q
A




Branch
.


Bug fix
no


New feature
Yes MongoDB driver support


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT


Doc PR
NA



Adding support for the new MongoDB php driver in the mongodb sessions' handler.
phpref MongoDB driver
mongoref official mongophp library
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix for to add support for new PHP MongoDB extension in sessions.;"Q
A




Branch
.


Bug fix
yes


New feature
yes ish


BC breaks
no


Deprecations
no


Tests pass
no


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3219;FrameworkBundle Enable assets by default;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This should make the tests pass again.
There are two templates from TwigBundle that are used with functional tests and require the asset helper

srcSymfonyBundleTwigBundleResourcesviewsExceptionexceptionfull.html.twig
srcSymfonyBundleTwigBundleResourcesviewslayout.html.twig

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. FrameworkBundle bugfix in configuration for assets;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



If both of configurations are defined the exception breaks because it isn't
defined properly missing backslash in FQCN for \LogicException.
Also the message was wrong it's referred to templating.templating instead of
framework.templating.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3220;. Decouple mimetypetoextension logic from File class;"This allows guessing the extension from a given mime type
without requiring the existence of a local file.
If a file's meta information mimetype etc. is already available i.e. it's
been extracted once and stored in some persistent data store it would be
nice to be able to make a bestguess on the extension based on the known mimetype.
A concrete use case of this is for the symfonycmf where a file has been stored
in the jackrabbit data store. When delivering this file or saving it to disk we'd like to
use an extension that's created based on the known mime type of the file.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpFoundationFile Moved extension guessing to a dedicated class;"Added an ExtensionGuesser class and moved the extension guessing from HttpFoundation\File into it as this functionality can be useful outside of the HttpFoundation\File class.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3221;Form Fix submitting checkboxes and radios with PATCH method;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR





 Confirm this is the right fix
 Update tests for . with FQCN
 Update tests for . by flipping choice keys and values

The bug seems to make it impossible to submit an expanded ChoiceType with a PATCH method see .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form render hidden empty inputs for checkboxes;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This ensures that a form is always considered submitted even if it contains only checkboxes which all haven't been checked by the user.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3222;ProxyManager Add FC layer;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
yes minor


Deprecations
yes made a class final


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This makes PRoxyDumper compatible with DumperInterface v..
Technically this is a BC break but since I really don't expect anyone to extend ProxyDumper I think we should do it on . to close the gap as early as possible.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DependencyInjection fix method signature;"Q
A




Branch
master


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




To allow FC layers in Symfony . we need to allow null values in the
interface.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3223;Locale Fixed the StubLocaleTest for ICU versions lower than .;"Bug fix no
Feature addition no
Backwards compatibility break no
Symfony tests pass no but for other reason in an another component
Fixes the following tickets 
Todo 
License of the code MIT
Documentation PR 
Symbol for Brazilian Real is BR only in ICU .. All previous and later versions use R.
Links to the relevant data files

httpsource.icuproject.orgreposicuicutagsreleasesourcedatacurren.txt
httpsource.icuproject.orgreposicuicutagsreleasesourcedatacurren.txt
httpsource.icuproject.orgreposicuicutagsreleasesourcedatacurren.txt

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Intl Refactored Locale component into two new components Icu and Intl;"Q
A




Bug fix
yes


New feature
no


BC breaks
yes


Deprecations
yes


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



The Intl component is now a simple dropin replacement layer for the C intl extension. Install it via Composer and have it available automatically if the intl extension is not available.
Additionally the component ships data from the ICU library which can be accessed through the methods
use Symfony\Component\Intl\Intl

IntlgetCurrencyBundle...
IntlgetLanguageBundle...
IntlgetLocaleBundle...
IntlgetRegionBundle...
If the intl extension is installed Composer will install the ICU data for the ICU version in the intl extension. If the intl extension is not installed Composer will use stub ICU data for the latest ICU version see IntlgetStubIcuVersion.
See the README for more information.
Todo

 finish the Intl README file
 update the Icu README file
 update the documentation
 make parameter locale optional default to \LocalegetDefault in resource bundle methods
 remove IcuVersioncompare calls in the tests
 solve deployment problem when trying to install incompatible symfonyicu version listed in composer.lock

Create the following branches in the Icu component

 ..x
 ..x
 ..x

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3224;consoleArrayInput avoid return array value for getFirstArgument.;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Fixed tickets



Tests pass
yes


License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix currently broken tests;"Glitch from f
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3225;Added in support to ConfirmationQuestion;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
symfonysymfonydocs



For instance when creating a dutch cli app you want this to be j from Ja instead of the english y.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Console added possibility to choose right answers for a ConfirmationQuestion;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




With this pull request the ConfirmationQuestion can accept one or many answers like 'o' 'oui' in french or 'si' in spanish or anything else it's up to you 
Default value is still 'y' yes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3226;FrameworkBundleTranslation allow register custom resources paths.;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Fixed tickets



Tests pass
yes


License
MIT



This allow to add custom resources path via prepend config or in config.yml
framework
 translator
 paths
 kernel.rootdir..vendorSymfonyComponentFormResourcestranslations
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundleDX Add option to specify additional translation loading paths;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
TODO



Thanks to this PR next time I want to just do
 translator
 fallback locale
 paths 'kernel.rootdir..vendorinternalpackagetranslations'

I will be able to and won't have to dig in docs start building a translation loader before I realize it's not what I want dig in the framework ext and then have to write a compiler pass to inject my file to the translator resource paths.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3227;Config Allow nonexistent file resources;"Q
A




Branch
master


Bug fix
yes


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Updates FileResource to also evaluate freshness against file existence.
Currently FileResource assumes that the file always exists. I have a use case where this is not necessarily true for tests purposes I create a TestKernel class that uses MicroKernelTrait to define all the configs directly except some values that are defined in phpunit.xml and phpunit.xml.dist files. Since the tests can pass with the default values from phpunit.xml.dist creating the phpunit.xml file is not required. So in TestKernel I have to do this
if fileexists'phpunit.xml' 
 containeraddResourcenew FileResource'phpunit.xml'
 else 
 containeraddResourcenew FileExistenceResource'phpunit.xml'

Maybe it should be a new class instead WDYT
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";DI Add ContainerBuilderfileExists for checkingtracking resource existence;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 comment


License
MIT


Doc PR
na



Finishes Adds a convenient ContainerBuilderfileExists method as suggested by Nicolas and use it to track resources in the FrameworkExtension adding some missing ones.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3228;WebProfilerBundle Fixed collapsed profiler menu icons;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Added missing CSS and JS modifications from 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfilerBundle Fixed minimize panel;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3229;Security These interface allways send deprecated because of wrong inheritance;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security SimplePreAuthenticatorInterface Remove divert deprecation message;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Even if you use Security\Http\Authentication\SimplePreAuthenticatorInterface as deprecation of Security\Core\Authentication\SimplePreAuthenticatorInterface says it anyway show that message.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3230;Validator Fix propertyPath with nested collections in the LegacyExecutionContext;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR




Some tests are failing for other reasons.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Made sure that context changes don't leak out of ContextualValidatorInterface;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3231;BrowserKit Use a regex to guess if a URI is absolute or not.;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";BrowserKit Fix bug when uri starts with http.;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3232;Form setReadOnly and setAttribute on a Form after creation;"Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass 
Fixes the following tickets 
Todo 
In a From EventSubscriber i can manage to get the form via eventgetForm but i am pretty limited about what i can do with that form. If i only want to change the readonly property i can't because it's private so i end up creating the field again with the same name and overwriting it with
formaddthisfactorycreateNamed'text' 'name' null array'readonly' false
which is a bit time consuming since i only wanted to set the readonly property of that field to false.
I must say that i found it a bit strange that there weren't any options for doing this so please tell me if there is any powerful reason for not being able to change the readonly or other attributes when the form is already created.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";added a setReadOnly method;"Bug fix no
Feature addition yes
Backwards compatibility break no
Symfony tests pass yes
Fixes the following tickets 
Being able to set readonly directly in the form is useful when you want to set it from a prepostsetData listener
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3233;DoctrineBridgeForm Fix IdReader when indexing by primary foreign key;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Port to Symfony . of PR . The IdReader class can now resolve association and determine the real id value.
There is still room for improvement though. Since I've added a new IdReader in the constructor it is better to declare IdReader as final just to be safe.
PS sorry to keep you waiting webmozart . When merging both commit don't forget to add the deprecated annotation and that SingleAssociationToIntIdEntity.php is duplicated.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form DoctrineBridge added a failing test for EntityType;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
sometimes 


Fixed tickets
none


License
MIT


Doc PR
none



This is a new test for EntityType that uses an entity whose primary key is a foreign key to
another entity an association key as described here
httpdoctrineorm.readthedocs.orgenlatesttutorialscompositeprimarykeys.htmlidentitythroughforeignentities
Using the entity form type with an associationkey entity used to work before . so I believe this is a BC break.
Update I've added a possible fix to the IdReader class in the latest commit. I don't know if it is the right fix but...
 I say the tests pass sometimes because Symfony\Component\HttpKernel\Tests\HttpCache\HttpCacheTest is failing intermittently and I don't think it is related to my change.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3234;BrowserKit Fix BrowserKit is broken when using ip as host;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



As documented in httpphp.netmanualenfunction.pregreplace.php we have to use the notation for replacing the backreference

When working with a replacement pattern where a backreference is immediately followed by another number i.e. placing a literal number immediately after a matched pattern you cannot use the familiar \ notation for your backreference. \ for example would confuse pregreplace since it does not know whether you want the \ backreference followed by a literal or the \ backreference followed by nothing. In this case the solution is to use . This creates an isolated backreference leaving the as a literal.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix URI replacement when 'HTTPHOST' starts with a number;"Bug fix yes
Feature addition no
Backwards compatibility break no
Symfony tests pass yes
License of the code MIT

I had an issue with the BrowserKit while doing functional testing with Behat. Actually the URI generated had an IP address in place of the host. Because the host starts with a number pregreplace tries to replace a backreference that selects nothing in the regexp pattern.
The previous bug is repeatable with the following code
php
uri 'http...login'
serverhttphost '...'
echo pregreplace'https\'.parseurluri PHPURLHOST.'' '\\'.serverhttphost uri
 outputs ...login instead of http...login

Here is the php.net documentation related to this issue
When working with a replacement pattern where a backreference is immediately followed by another number i.e. placing a literal number immediately after a matched pattern you cannot use the familiar \ notation for your backreference. \ for example would confuse pregreplace since it does not know whether you want the \ backreference followed by a literal or the \ backreference followed by nothing. In this case the solution is to use . This creates an isolated backreference leaving the as a literal.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3235;FrameworkBundle Refactored assetsinstall command and apply Symfony styles;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Replaces 





 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WCM Updated the styles of the assetsinstall command;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




This PR uses comment which hasn't been merged yet. WIP PR at 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3236;github Tweak PR template;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Related to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Updated .githubPULLREQUESTTEMPLATE.md;"Q
A




Branch
.


Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3237;Security Fixed a variable name. Closes;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security Fix the http authentication entry points and test them;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3238;WebProfilerBundle Add missing use statement.;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




The RouterController creates a Request in getTraces but does not have a use statement which causes an exception when trying to view profile routing in ..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Forgotten use HttpFoundation\Request;"Symfony ..DEV
In function getTraces used traceRequest Requestcreate but class Request does not present in namespace Symfony\Bundle\WebProfilerBundle\Controller
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3239;Extend AbstractFactory for easy extending;"by this way it is possible to use the hole abstract class and just override the last getter functions. it will this class more reuseable
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security make it possible to override the default successfailure handler;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
symfonysymfonydocs



Overriding the default successfailure handler of the security firewalls is possible via the successhandler and failurehandler setting but this approach is not flexible as it does not allow you to get the optionsprovider key.
To sum up the problem

Overriding the default successfailure handler is possible via a service
When not overridden the default successfailure handler gets options and the provider key
Those options and the provider key are injected by the factory as they are dynamic they depend on the firewall and the provider key so getting those optionsprovider key is not possible for a custom service that is only configured via the container configuration
Extending the default handler does not help as the injection mechanism is only triggered when no custom provider is set
Wrapping the default handler is not possible as the service id is dynamic.

... and of course we need to keep BC and make it work for people extending the default handler but also for people just using the interface.
Instead of the current PR I propose this slightly different approach. It's not perfect but given the above constraint I think this is an acceptable tradeof.
So several use cases

Using the default handler no change
Using a custom handler that implements AuthenticationSuccessHandlerInterface directly and does not need any options no change
Using a custom handler that needs the optionsprovider key that's the new use case this PR supports.

This PR introduces new classes that wrap custom handlers. If those classes define the setOptions andor setProviderKey methods they are automatically called with the correct arguments. Yours handler does not need to extend the default handler DefaultAuthenticationHandler but doing so helps as the setters are already defined there.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3240;Security ACL Allows ObjectIdentity and UserSecurityIdentity to work with proxies;"Right now ACL doesn't really work with Doctrine either ORM ODM etc. because it tries to retrieve the actual class of the objects. We can still create new ObjectIdentity and UserSecurityIdentity with the constructors but most people just use the static methods which are easier to use.
This PR is far from perfect but it is IMO the only thing we can do in the . branch without too many modifications.
For . I suggest creating a new service able to retrieve an ObjectIdentityInterface from a given object.
This service would be given a list of other services with a given DIC tag and would iterate on this list until one gives a valid Identity. At last we would call a default one the actual implementation.
Bundles like Doctrine ORM ODM etc. would then each have to create a new service correctly tagged which would check if the given object is supported etc.
This would maybe also allows for instance Doctrine to retrieve an object identity even if the primary key is not retrieved through getId since the EntityManager knows what identifier identifies which object.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Acl ObjectIdentity Getting parent class on proxies;"As raised here
httpsgroups.google.comdtopicsymfonybhkAiSfloMdiscussion
The ObjectIdentity behavior on proxies can be improved.
Maybe this could be done in a cleaned way but this works and the Security component can be still used standalone with this.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3241;HttpKernel Use VarDumper in the profiler;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets
part of 


License
MIT


Doc PR




cc javiereguiluz nicolasgrekas As you're the main maintainers of the changed features.
Summary


The varToString method is deprecated in favor of cloneVar using the VarCloner and dump using the VarDumper.
This allows to show more detailed and better formatted data in the profiler.


The Data class of VarDumper is made serializable to reduce the size of the stored profiler data.


Screenshots

Further Improvements

Change the dump colors I've now implemented a very basic light theme but my colorskills are close to zero so a proper designer should look at it

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Correctly display multiline log entries in Profiler Logs section;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Multiline log entries are actually shown on a single line. This PR makes log messages run through Twig nlbr filter in order to display them on multiple lines.
Current behaviour

Proposed behaviour

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3242;FrameworkBundleValidator Fix apc cache service deprecation;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
yes


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Related to 
I guess the deprecation was on the wrong service.
Also no deprecation notice was triggered about using apc as the value of the framework.validation.cache configuration option. This PR adds the missing deprecation.

?ô¥ NOTE The standard edition will need to be updated here.

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. Deprecate the correct APC cache service;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
httpstackoverflow.comq


License
MIT


Doc PR




The new service was marked as deprecated instead of the old one this PR fixes that.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3243;Profiler Fix text selection click on file links on exception pages;"Q
A




Branch
. 


Bug fix
yes


New feature
no 


BC breaks
no


Deprecations
no 


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
NA



I don't really know the purpose of this css rule here but I admit it's quite frustrating not to be able to select something here.
This PR also prevents the following annoying behavior selecting text collapsesuncollapses traces

About the trick used I think the browser support is safe enough httpscaniuse.comsearchwindow.getSelection
EDIT new commit added which allows to fix 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Allow user select for exceptions header;"Q
A




Branch
master


Bug fix
Yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Allow user select on the exception trace header.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3244;VarDumper fix .sfdump zindex debug bar conflict;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Just changed the zindex because the twig dump is actually displaying over the debug bar .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Increases the debug toolbar zindex;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




The vardumper is using a zindex of . In order to not be hidden the debug toolbar by a content dumped in a template using the dump function the debug toolbar must have an higher zindex.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3245;Form fix deprecated use;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




A mistake made on master only
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Update assets configuration tests;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Previously assets where enabled if templating didn't contain asset configuration. This has been removed in .
Instead of enabling it back I propose to keep it disabled and update the tests instead since we already discussed disabling all FrameworkBundle features by default for . .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3246;Security Adding toString method to Role class;"Q
A




Bug fix
no


New feature
yes


BC breaks
possibly 


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT



This PR proposes adding the toString method to the \Symfony\Component\Security\Core\Role\Role class. This should ease the comparison of role strings and instances of Role itself. For example in the FOSUserBundle the User model contains roles which are represented as strings. This makes comparisons between arrays of Role objects and role strings difficult without creating your own Role class with a toString and this isn't always desirable.
I found some conversation around adding the \Seriazable interface to the Role class and I realise that this might also be considered a BC break if people are relying on the fact that it will not cast to a string.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security Role class magic method to make comparisons easier;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Now
inarray'ROLEADMIN' usergetRoles

will work.
I know this can be done with userhasRole method but consider following
arrayintersectarray'ROLE' 'ROLE' usergetRoles

to check if user has at least one of roles.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3247;Form Add allowextrafields option on forms;"This is specially useful when creating different nameless GET forms on the same page ex pagination and search.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Added a configuration that allow form extra data;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT



I can not understand how can solve or so i created this PR.
I can not also understand why can be considered as duplicate of .
The commit will solve problem if some fields is missing but says nothing about extra fields.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3248;Form Fix choice field validation;"To validate a choice field we use an array of allowed values. It can be guessed from Choice constraint or specified when calling add on the FormBuilder.
The validation is currently done using values of the given array. With this pull request we validate with the keys of the array which makes much more sense as this is what is transfered in the POST request.
Without this patch guessing is useless validation always fails and we're forced to give the list of allowed values arraykeys on what's given to Choice constraint when calling add on the FormBuilder.
This commit fixes issues and .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Validator Fix for;"Proposal fix for additional tests.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3249;WebProfiler Added deprecation message and original color back;"For some reason the deprecation message and its original yellow color were removed. This means that you don't know the error without a stack you would just see an empty bar and they aren't easy to find anymore in a long list of logs yeah the filter can be used....
Before

After




Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfilerBundle Fixed missing deprecation log message;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3250;Fixed pathinfo calculation for requests starting with a question mark.;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




With improper strpos result check calculated pathinfo for requests starting with '' equals to request itself.
Correct pathinfo for those requests should be ''.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";HttpFoundation fix path info when request path is not sent;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3251;Update srcSymfonyComponentConfigLoaderFileLoader.php;"from KniasConfigac
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Config Missing type argument passed to loader.;"In FileLoader the type is not passed to the child loader.
Bug fix yes
Feature addition no
Backwards compatibility break no
Symfony tests pass yes
License of the code MIT
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3252;VarDumper implemented expanding of all children;"Fixes 
It was not possible to expand all children of a big collection. This made the VarDumper component unpracticle if you
want to get an overview on a deeply nested datastructure.
This PR shows a second double arrow infront of the single arrow. Clicking on it expands the whole subtree.



Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";VarDumper Component ExpandCollapse button for all dumped data;"Q
A




Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3253;Form Improved debugger icon;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


License
MIT



Changes the form icon in the toolbar to be pixel perfect.



before
after









 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";WebProfilerBundle Fixed form icon in toolbar;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
NA


License
MIT


Doc PR
NA



Usage of same form icon in toolbar than the one in sidebar plus lossless compression of icon.
Before 

After 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3254;Security Revert PR due to issue;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Security Don't destroy the session on buggy php releases.;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
 


License
MIT


Doc PR
none



See for the discussion. This workaround avoids destroying the old session after login on the migrate strategy when running under a php version that we know to be broken.
Corresponding php bug httpsbugs.php.netbug.phpid
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3255;Translation Added unescaping of ids in PoFileLoader;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
na


License
MIT


Doc PR
na



Although it is not directly described in gettext docs msgid should be unescaped too. The other reason to unescape msgid is symmetry between PoFileLoader and PoFileDumper. The dumper escapes both msgid and msgstr values but the loader unescapes only msgstr.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Translation Fix loading of po translations with quoted characters;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3256;Serializer enable property info in framework bundle;"Q
A




Branch
.


Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




I've been wondering why the datetime normalizer won't work in combination with object normalizer in symfony . by default. I also found nothing in the documentation. Only httpsymfony.comblognewinsymfonydatetimenormalizer but here is not described how to use it with the object normalizer and how to configure the config.yml.
After debugging i found out that the object normalizer don't use the new property info component. With my change you can enabled it with following config
 serializer
 enabled true
 propertyinfo 
Should i add analog to enableannotation an enablepropertyinfo option
 serializer
 enabled true
 enablepropertyinfo true
 propertyinfo 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";FrameworkBundle Inject the PropertyInfo in the ObjectNormalizer;"Q
A




Branch
master


Bug fix
no


New feature
yes


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 allowed to deserialize object relations but users can't use it easily as it is not available in the framework yet.
We only need to pass the PropertyInfoExtractor to the ObjectNormalizer when it is available and this feature will be available for everyone 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3257;Create PULLREQUESTTEMPLATE.md;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
na


Fixed tickets
na


License
MIT


Doc PR
na



Github has support for issue and template files issuetemplate.md and pullrequesttemplate.md. The contents of these files will autopopulate new issuesPRs.
This PR creates a PULLREQUESTTEMPLATE.md file using the Symfony Pull Request Template.
See httpsgithub.comblogissueandpullrequesttemplates
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Pull request template;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets
none


License
MIT


Doc PR
none



According to httpshelp.github.comarticlescreatingapullrequesttemplateforyourrepository
would be useful to add it on the sf repo.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3258;Form Improve triggering of the setDefaultOptions deprecation error;"Bundles wanting to support both Sf . and Sf . which is a common requirement as both have at least more years of maintaince would have custom form types with both option methods defined setDefaultOptions for . support and configureOptions for .. support. In such case I don't think there is anything wrong with the code and a deprecation error shouldn't be triggered.



Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Form Update AbstractTypeAbstractTypeExtensionsetDefaultOptions deprecation detection;"Q
A




Bug fix
no


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Hey
I'm facing an issue when trying to fix some deprecation in one of my bundle See egeloenIvoryCKEditorBundle. The idea is to prepare the bundle for the upcoming . release but at the same time still being compatible with lower versions. Then I introduce a BC layer in order to use the less deprecated feature as much quicky as possible in order to ease the upgrade for the . release. In the PR I implement both setDefaultOptions and configureOptions but since the deprecation is based on the presence of the setDefaultOptions the fact that I have implemented the configureOptions is ignored. So this PR updated the code to detect if the configureOptions exists to trigger the deprecation.
What do you think
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3259;TwigBundle fix configuration tree for paths;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR
na



This is a joint effort with mdavis and cordoval ?æ? pairing up and warming for hacking day in Warsaw
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";twig fix merge of the paths defined in several config files.;"Q
A




Bug fix
yes


New feature
no


BC breaks
no


Deprecations
no


Tests pass
yes


Fixed tickets



License
MIT


Doc PR




Let's say I have two separate configs files in which I define twig.paths or an extension that implements PrependExtensionInterface and prepend twig paths there. If we have only entry where the paths is defined everything works fine. But if there two or more we may ended with php fatal error
Fatal error Uncaught exception 'TwigErrorLoader' with message 'The directory does not exist.' in homevagrantprojectsFoovendortwigtwiglibTwigLoaderFilesystem.php on line 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3260;Form Choice fix;"Form Remove choice or choicelist requirement as the following conditions already check enough and this condition prevents empty select forms populated by ajax for example
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Authorize the creation of an empty array of choices.;"Authorize the creation of an empty array of choices. nldr. For autocomplete ajax by example
As example
 builderadd'toComplete' 'choice' array
 'choices' array
 'multiple' true
 'required' false
 

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3261;FrameworkBundle Fix init bundle command;"Fixed UtilMustache to GeneratorGenerator
see commit fbcb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Mustache is now Generator;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";1
3262;info add warnings about missing blkio cgroup support;"These warnings were only logged and could therefore be overlooked by users. This patch makes these more visible by returning them as warnings in the API response.
We should probably consider adding boolean fields for these as well so that they can be consumed in other ways. In addition some of these warnings could potentially be grouped to reduce the number of warnings that are printed.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor sort imports to prevent vendoring race condition;"If both a versioned and nonversioned version of a dependency
exists in vendor.conf the longest path should be cloned last
otherwise the versioned dependency may be deleted when cloning its
nonversioned variant.
For example with the following vendor.conf
github.comcoreosgosystemdv v..
github.comcoreosgosystemd v

Running vndr would

recursively delete vendorsrcgithub.comcoreosgosystemdv
start cloning github.comcoreosgosystemdv
recursively delete vendorsrcgithub.comcoreosgosystemd
start cloning github.comcoreosgosystemd

This would lead to a conflicting situation step . will remove
the dependency that was previously cloned or in the process
of being cloned.
This patch sorts the dependencies by importpath cloning the
shortest import paths first which should prevent the race condition.
This should address the issue seen in comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3263;. backport Bump Golang ..;"backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Dockerfile update syntax to ..experimental;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3264;. backport allocateNetwork fix network sandbox not cleaned up on failure;"partial backport only the first commit of 
The defer function was checking for the local err variable not on the error that was returned by the function. As a result the sandbox would never be cleaned up for containers that used none networking and a failiure occured during setup.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor sirupsenlogrus v..;"full diff sirupsenlogrusv.....v..

Ability to DisableHTMLEscape when using the JSON formatter
Supportfixes for go .
Many many bugfixes
Add flag to disable quotes in TextFormatter

relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3265;Bump Golang ..;"What I did
full diff golanggogo.....go..
go.. released includes fixes to the runtime and the gotypes and mathbig packages. See the Go .. milestone on our issue tracker for details.
httpsgithub.comgolanggoissue";vendor konsortengowindowsterminalsequences v..;"full diff konsortengowindowsterminalsequencesv.....v..
Fixes a panic when using logrus on Go .
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3266;Fixes skip empty lines;"What I did
This is a trivial fix for 
 How I did it
add empty check and return directly
func s syslogger Logmsg logger.Message error 
	if lenmsg.Line 
		return nil
	

 
 
 
 
 
 

";cmddockerd remove outdated experimental annotation;"Follow up to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3267;cgroup unshare cgroupns by default regardless to API version;"What I did
Fix 
cgroup mode sets cgroupnsprivate by default but the default was overridden to host when API ..
 How to verify it
 sudo ls l procnscgroup
lrwxrwxrwx root root Jun procnscgroup 'cgroup";Replace errors.Cause with errors.Is errors.As;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3268;intbuildTestBuildWithEmptyLayers prevent panic;"The test case panics like that from comment

buildtest.go assertion failed int int
panic runtime error index out of range with length recovered
panic runtime error index out of range with length 

The fix is trivial.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";plugin Add NoLock version of resolvePluginID to fix double Rlock;NOM;0
3269;apitypes remove errdefs dependency;"This prevents projects that import only the apitypes package from
also having to use the errdefs package and because of that containerd
as a dependency.
Relates to mobylibnetwork and mobylibnetwork comment
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update mobyipvs v..;"full diff mobyipvsv.....v..

Fix compatibility issue on older kernels . where the address
family attribute for destination servers do not exist
Fix the stats attribute check when parsing destination addresses
NetlinkSocketsTimeout should be a constant

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3270;make install install containerdshimruncv remove useless constants;"What I did
Added containerdshimruncv used by cgroup mode to make install
 How to verify it
make install
 A picture of a cute animal not mandatory but encouraged
?Éº
 
 
 
 
 
 

 T";. backport bump up rootlesskit to v..;"Now rootlesskitdockerproxy returns detailed error message on
exposing privileged ports rootlesscontainersrootlesskit
Full changes rootlesscontainersrootlesskitv.....v..
Backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3271;testintegration support cgroup;"What I did
added cgroup support for make integration.
We don't have actual CI instances yet. Can we use Fedora Vagrant on either GH actions as in containerd or on Travis as in runc 
 How I did it

Modified hackdind to initialize nested controll";bump up rootlesskit to v..;"Now rootlesskitdockerproxy returns detailed error message on exposing privileged ports rootlesscontainersrootlesskit
Full changes rootlesscontainersrootlesskitv.....v..

Before
 docker contextrootless run it p rm alpine
docker Error response from daemon driver failed programming external connectiv
ity on endpoint clevereuclid cceeefddcbbbbff
ffbce Error starting userland proxy.
After
 docker contextrootless run it p rm alpine
docker Error response from daemon driver failed programming external connectiv
ity on endpoint bravemurdock efbacefdddfdcecaacaccdf
aeafcb Error starting userland proxy error while calling PortManager
.AddPort cannot expose privileged port you might need to add net.ipv.ip
unprivilegedportstart currently to etcsysctl.conf or set CAPNET
BINDSERVICE on rootlesskit binary listen tcp ... bind permission den
ied.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3272;testing bump dockerpy ..;"full diff dockerdockerpy.......
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Use strings.Index instead of strings.Split;"Since we don't need the actual split values instead of calling
strings.Split which allocates new slices on each call use
strings.Index.
This significantly reduces the allocations required when doing env value
replacements.
Additionally preallocate the env var slice even if we allocate a
little more than we need it keeps us from having to do multiple
allocations while appending.
benchmark old nsop new nsop delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

benchmark old allocs new allocs delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

benchmark old bytes new bytes delta
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .
BenchmarkReplaceOrAppendEnvValues .

Found that this function can often be a big allocator in actually the top allocator.
Ideally we wouldn't have to process these every time we start a container or exec but changing this may require changing behaviors and needs a discussion and some deeper changes.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3273;Add default sysctls to allow ping sockets and privileged ports with no capabilities;"fixes 
fixes 
Currently default capability CAPNETRAW allows users to open ICMP echo
sockets and CAPNETBINDSERVICE allows binding to ports under .
Both of these are safe operations and Linux now provides ways that
these can be set per container to be allowed without any capabilties
for non root users. Enable these by default. Users can revert to the
previous behaviour by overriding the sysctl values explicitly.
Signedoffby Justin Cormack justin.cormackdocker.com

picture by httpstwitter.comCountrysideBen
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Update CRIU to v. Silicon Willet;"backport of 
full diff checkpointrestorecriuv....v.
Here we have some bugfixes huuuge .py patch for coding style
and nice set of new features like bit for ARM TLS for page
server and new mode for CGroups.
New features

VDSO arm support
Add TLS support for page server communications
Ignore mode for managecgroups
Restore SOBROADCAST option for inet sockets

Bugfixes

Auxiliary events were left in inotify queues
Lazypages daemon didn't detect stack pages and surrounders properly and marked them as lazy
Memory and resource leakage were detected by coverity cppcheck and clang

Improvements

Use gettimeofday directly from vdso for restore timings
Reformat all .py code into pep style

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit fdb
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3274;vendor opencontainersselinux v..;"full diff opencontainersselinuxv.....v..

Implement FormatMountLabel unconditionally
Implementing FormatMountLabel on situations built without selinux
should be possible the context will be ignored if no SELinux is available.
Remote potential race condition where mcs label is freed
Theorectially if you do not change the MCS Label then we free it and two
commands later reserve it. If some other process was grabbing MCS Labels
at the same time the other process could get the same label.

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";cgroup use systemd cgroup driver by default when available;"What I did
Use systemd cgroup driver by default on systemdbased cgroup v hosts because the systemd cgroup driver is always preferred over cgroupfs on systemdbased hosts.
This commit does not affect cgroup v hosts.
 How I did it
 How to veri";0
3275;. backport Dockerfile bump CRIU .;"backport of 
fixes ARM builds on ARM agents in our Jenkins.
full diff checkpointrestorecriuv....v.
New features

CR of memfd memory mappings and file descriptors.
Add time namespace support.
Add the read predump mode which uses processvmreadv.
Add cgroupyard option
Add support of the cgroup v freezer.
Add support of opened OPATH fds.

Bugfixes

Fix CR ia processes on AMD
Fix crosscompilation
Many fixes here and there

Improvements

Use clone with settid to restore processes
Clean up compel headers.
Use the new mount API

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit a
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";support privileged cgroupnsprivate on cgroup v;"What I did
Support privileged cgroupnsprivate on cgroup v
Fix 
 How I did it
Eliminated extra check
 How to verify it
 docker run d namenginx privileged cgroupnsprivate nginxalpine
 sudo lsns
...
 cgroup";0
3276;fix stat.Rdev invalid operation mismatched types on mipsel;"compile error the stat.Rdev variable and s.Rdev mismatched types on mipsel
convert stat.Rdev type to uint explicitly
Signedoffby Xiaodong Liu liuxiaodongloongson.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor swarmkit bedaaeebaeaaae;"full diff dockerswarmkitb...be

dockerswarmkit Fix leaking tasks.db

backport of dockerswarmkit
addresses single manager docker swarm stuck in Down state after reboot
addresses dockerswarmkit Swarm's tasks.db takes up lots of disk space
addresses dockerswarmkit Possible bugs in task reaper
addresses Docker .. crash



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3277;update runc binary to v..rc;"release note httpsgithub.comopencontainersruncreleasestagv..rc
vendored library isn't updated in this commit waiting for containerd to vendor runc rc
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";fix clusterstoreopt deprecation annotation;"Commit marked this flag as deprecated but inadvertedtly used the plural which is used for daemon.json but not for the flag name.
This fixes the inccorect name of the flag.
relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3278;daemon.allocateNetwork include original error in logs;"When failing to destroy a stale sandbox we logged that the removal failed but omitted the original error message.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";ServiceCreateServiceUpdate refactor and fix potential NPE;"ContainerSpec and PluginSpec are mutually exclusive so instead of using two separate ifstatements combine them in a switch.
Use local variables at cost of some slight duplication
Fix a potential NPE if imagedigest resolution failed for a PluginSpec. The code was always using ContainerSpec.Image to create a digestWarning but in case we're resoling the digest for a PluginSpec ContainerSpec will be nil as they're mutually exclusive. This issue was introduced in cbcf where the new PluginSpec path was added.
imageWithDigestString return image unmodified if there are no changes
Instead of returning an empty string return the image unmodified
extract logic for resolving imageplugin digest and platform

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3279;Better selection of DNS server;"fixes addresses . breaks containers name resolution for non default networks on systems with systemdresolved
fixes addresses Wrong resolv.conf used on Ubuntu systemdresolved enabled
fixes addresses dockerforlinux Container etcresolv.conf does not update when runsystemdresolveresolv.conf changes
fixes addresses dockerforlinux dockerd should use ... when requested
relates to mobylibnetwork comment
relates to kubernetessigskind comment

Commit eee updated selection of the resolv.conf file to use in situations where systemdresolvd is used as a resolver.
If a host uses systemdresolvd the system's etcresolv.conf file is
updated to set ... as DNS which is the local IP address for
systemdresolvd. The DNS servers that are configured by the user will now
be stored in runsystemdresolveresolv.conf and systemdresolvd acts
as a forwarding DNS for those.
Originally Docker copied the DNS servers as configured in etcresolv.conf
as default DNS servers in containers which failed to work if systemdresolvd
is used as ... is not available inside the container's networking
namespace. To resolve this eee instead
detected if systemdresolvd is in use and in that case copied the upstream
DNS servers from the runsystemdresolveresolv.conf configuration.
While this worked for most situations it had some downsides among which

we're skipping systemdresolvd altogether which means that we cannot take
advantage of addition functionality provided by it such as perinterface
DNS servers
when updating DNS servers in the system's configuration those changes were
not reflected in the container configuration which could be problematic in
developer scenarios when switching between networks.

This patch changes the way we select which resolv.conf to use as template
for the container's resolv.conf

in situations where a custom network is attached to the container and the
embedded DNS is available we use etcresolv.conf unconditionally. If
systemdresolvd is used the embedded DNS forwards external DNS lookups to
systemdresolvd which in turn is responsible for forwarding requests to
the external DNS servers configured by the user.
if the container is running in host mode networking we also use the
DNS server that's configured in etcresolv.conf. In this situation no
embedded DNS server is available but the container runs in the host's
networking namespace and can use the same DNS servers as the host which
could be systemdresolvd or DNSMasq
if the container uses the default bridge network no embedded DNS is
available and the container has its own networking namespace. In this
situation we check if systemdresolvd is used in which case we skip
systemdresolvd and configure the upstream DNS servers as DNS for the
container. This situation is the same as is used currently which means
that dynamically switching DNS servers won't be supported for these
containers.

Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Deprecate pkgterm and make it an alias for github.commobyterm;"opening as draft pending mobyterm
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3280;allocateNetwork fix network sandbox not cleaned up on failure;"The defer function was checking for the local err variable not on the error that was returned by the function. As a result the sandbox would never be cleaned up for containers that used none networking and a failiure occured during setup.
The second commit is a small refactor allocateNetwork can return early in which case these variables were unused so assign them later in the function.
Looks like this was introduced in which was created to address 
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";daemon remove distributionuuid package;"This appeared to be unused because we no longer generate a uuid using this package.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3281;remove group name from identity mapping;"Signedoffby Akhil Mohan akhil.mohanmayadata.io

 What I did
Fixes .
removed a check for group name and gid in NewIdentityMapping
 How I did it

group name was removed from the argument of NewIdentityMapping
removed caller code which used to search with gid and group name

 How to verify it
 Description for the changelog

remove group name from identity mapping
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";update containerd to v..;"What I did
Full diff containerdcontainerdv.....v..
The fourth patch release for containerd . adds NOTIFYSOCKET support improves shim loggers shutdown behavior and includes a few bug fixes related to incorrect FIFO clean up and dangling shims";0
3282;refactor some CPU RT and CFS code;"A couple of patches touching CPU RT and CFS setting code. Should improve performance in CPU RT case and help adopting the runc changes in opencontainersrunc
Untangle CPU RT controller init
Commit fd added code that is doing some very ugly things.
In partucular calling cgroups.FindCgroupMountpointAndRoot and
daemon.SysInfoRaw inside a recursivelycalled initCgroupsPath
is not a good thing to do.
This commit tries to partially untangle this by moving some expensive
checks and calls up in the stack so they at least won't be called multiple
times. This is done in a minimally invasive way meaning I
tried hard to not break any logic however weird it is.
This also removes double call to MkdirAll not important but it sticks
out and renames the function to better reflect what it's doing.
This could be reworked more radically but at least this this commit
we are calling expensive functions once and only if necessary.
pkgsysinfo rm duplicates
The CPU CFS cgroupaware scheduler is one single kernel feature not
two so it does not make sense to have two separate booleans
CPUCfsQuota and CPUCfsPeriod. Merge these into CPUCfs.
Same for CPU realtime.
For compatibility reasons info stays the same for now.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swarm fix API version detection;"I noticed this while testing some variations of API versions in but using cURL instead of the docker cli or docker client.
While the docker cli may be sending a version header this header is not part of the API or at least should not determin what API version is used.
This code was added in cafdc to adjust the handling of requests when an older version of the API was used but because the code relied on the version header set by the CLI it didn't work with other clients e.g. when using cURL to make an API request.
 Description for the changelog

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3283;pkgsysinfo.applyPIDSCgroupInfo optimize;"For some reason commit cf PR chose not to use information
already fetched and called cgroups.FindCgroupMountpoint instead.
This is not a cheap call as it has to parse the whole nine yards
of procselfmountinfo and the info which it tries to get whether
the pids controller is present is already available from cgMounts map.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update buildkit to aeff;"Brings in support for mirrors fallbacks insecure tls and custom tls config.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3284;. Fix dns fallback regression;"Fixes 
fixes 
Ref mobylibnetwork
Backport of 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. update libnetwork bbcfcfbaefccbbabb;"fixes for .
full diff mobylibnetworkcf...bbcfc

mobylibnetwork Fix NPE due to null value returned by ep.Iface

backport of mobylibnetwork
addresses 



Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3285;Fix dns fallback regression;"fixes 
fixes 
Ref mobylibnetwork
To run only the test and confirm it fails if vendor commit is reverted
TESTSKIPINTEGRATIONCLI TESTINTEGRATIONDIR.integrationnetwork TESTFLAGS'test.run TestDaemonDNSFallback' make testintegration

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update libnetwork afbafebbbeaadd;"fixes 
full diff mobylibnetworkefa...afb

mobylibnetwork produce an error with invalid address pool

addresses dockerd ignores the defaultaddresspool option


mobylibnetwork DOCKERUSER chain not created when IPTableEnablefalse
mobylibnetwork Fix NPE due to null value returned by ep.Iface

carries mobylibnetwork Prevent NPE in addServiceInfoToCluster
addresses Error initializing docker.server while starting daemon by systemd



Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3286;seccomp remove the unused querymodule;"What I did
Removed the unused querymodule from seccomp default settings.
 How I did it
 How to verify it
 Description for the changelog
querymodule is only in kernels before Linux ..
httpman.orglinuxmanpagesmanquerymodule..html";Improve error feedback when plugin does not implement desired interface;"docker shows a confuse message when you attempt to run a legacy driver that does not implement the desired interface.
Example
docker run logdrivertsuru ubuntu binbash

Before
docker Error response from daemon logger no log driver named 'tsuru' is registered

After
docker Error response from daemon error looking up logging plugin tsuru legacy plugin Plugin does not implement the requested driver.

docker info
Client
 Debug Mode false

Server
 Containers 
 Running 
 Paused 
 Stopped 
 Images 
 Server Version ..ce
 Storage Driver overlay
 Backing Filesystem unknown
 Supports dtype true
 Logging Driver jsonfile
 Cgroup Driver cgroupfs
 Plugins
 Volume local
 Network bridge host ipvlan macvlan null overlay
 Log awslogs fluentd gcplogs gelf journald jsonfile local logentries splunk syslog
 Swarm inactive
 Runtimes runc
 Default Runtime runc
 Init Binary dockerinit
 containerd version dcfafcadcaeafee.m
 runc version dcafeefbfdbebdfadd
 init version fec
 Security Options
 seccomp
 Profile default
 Kernel Version ..arch
 Operating System Arch Linux
 OSType linux
 Architecture x
 CPUs 
 Total Memory .GiB
 Name wilsonredbull
 ID ELEJYHXZLYCATFLBDTKZYHTOAMBREIBHUEVL
 Docker Root Dir varlibdocker
 Debug Mode false
 Registry httpsindex.docker.iov
 Labels
 Experimental false
 Insecure Registries
 ...
 Live Restore Enabled false

WARNING the overlay storagedriver is deprecated and will be removed in a future release.

docker version
Client
 Version ..ce
 API version .
 Go version go..
 Git commit afacbbf
 Built Thu Apr 
 OSArch linuxamd
 Experimental false

Server
 Engine
 Version ..ce
 API version . minimum version .
 Go version go..
 Git commit afacbbf
 Built Fri Apr 
 OSArch linuxamd
 Experimental false
 containerd
 Version v...m
 GitCommit dcfafcadcaeafee.m
 runc
 Version ..rc
 GitCommit dcafeefbfdbebdfadd
 dockerinit
 Version ..
 GitCommit fec

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3287;rmtest fix goroutine leak;"Signedoffby Gaurav Singh gauravgmail.com

 What I did
Converted the channel done to a buffered channel
 How I did it
There is a local unbuffered channel done . The send operation to finished will definitely be executed but the receive operation may not when the select chooses the timeout case. If timeout there will be one goroutine leaked.
This PR gives the channel buffer. This PR is quite safe since the behavior of related goroutines won't change except that when timeout no goroutine will be leaked.
 How to verify it
By monitoring resource usage over time.
 Description for the changelog

Use a buffered channel to avoid goroutine leaking due to timeout.
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Bump Golang ..;"backport of 
go.. released includes fixes to the go command the runtime
osexec and time packages. See the Go .. milestone on the issue tracker
for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3288;Use unique names in integration tests build container image;"What I did
Removed hardcoded names used for images tags etc in some integration test folders build container image. Tried to unified a bit variable naming convention. Related to .
 How I did it
Calling the method to retrieve the name of the";Bump Golang ..;"go.. released includes fixes to the go command the runtime
osexec and time packages. See the Go .. milestone on the issue tracker
for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3289;. backport Fix bug in gotestsum installer causing dependencies to not be downloaded;"backport of the Linuxrelated changes of 
the Windows Dockerfile in the . branch does not yet install gotestsum so no changes were needed for Windows
Building gotestsum started to fail after the repository removed some
dependencies on master.
What happens is that first we go get the package with go modules disabled
GOMODULEoff go get d gotest.toolsgotestsum

Which gets the latest version from master and fetches the dependencies used
on master. Then we checkout the version we want to install for example v..
and run go build.
However v.. depends on logrus and given that we ran go get for master
that dependency was not fetched and build fails.
This patch modifies the installer to use go modules alternatively we could
probably run go get . after checking out the v.. version
We need to modify all installers as it looks like this is a standard pattern
we use but other dependencies were not failing yet so this patch only
addresses the immediate failure.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport vendor update goevents to fix alignment for bit systems;"backport of 

relates to mobybuildkit 
relates to mobybuildkit 
relates to dockerbuildx 

full diff dockergoevents...eb
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3290;update containerd binary to v..;"release note httpsgithub.comcontainerdcontainerdreleasestagv..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport api docs fix broken link on GitHub;"backport of 
The pages that were linked to have moved so changing the
links to point to docs.docker.com instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3291;Fix bug in gotestsum installer causing dependencies to not be downloaded;"Building gotestsum started to fail after the repository removed some
dependencies on master.
What happens is that first we go get the package with go modules disabled
GOMODULEoff go get d gotest.toolsgotestsum

Which gets the latest version from master and fetches the dependencies used
on master. Then we checkout the version we want to install for example v..
and run go build.
However v.. depends on logrus and given that we ran go get for master
that dependency was not fetched and build fails.
This patch modifies the installer to use go modules alternatively we could
probably run go get . after checking out the v.. version
We need to modify all installers as it looks like this is a standard pattern
we use but other dependencies were not failing yet so this patch only
addresses the immediate failure.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport Fix TESTFILTER to work for both integration and integrationcli;"backport of 
The TESTFILTER variable allows running a single integration or integrationcli
test. However it failed to work properly for integrationcli tests.
Before
 Filtering integration tests works
make TESTFILTERTestInspectCpusetInConfigPre testintegration
...
DONE tests in .s

 But running a single test in integrationcli did not

make TESTFILTERTestSwarmNetworkCreateIssue testintegration
...
DONE tests in .s

Trying to manually add the prefix didn't work either because that made the
grep fail to find which testsuites to runskip
make TESTFILTERTestSwarmNetworkCreateIssue testintegration
 Making bundle testintegration in bundlestestintegration
make testintegration Error 

After
make TESTFILTERTestInspectCpusetInConfigPre testintegration
...
DONE tests in .s

make TESTFILTERTestSwarmNetworkCreateIssue testintegration
...
DONE tests in .s

Note that the tests is still a bit misleading because every suite is
started which is counted as a test but no tests are run. This is still
something that could be improved on.
This patch also makes a small modification to the code that's setting
integrationapidirs and no longer runs go list if not needed.
Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit e
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3292;. backport Bump Golang ..;"backport of for .
full diff golanggogo.....go..
go.. released includes fixes to the compiler. See the Go ..
milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";api docs fix broken link on GitHub;"The pages that were linked to have moved so changing the links to point to docs.docker.com instead.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3293;Bump Golang ..;"full diff golanggogo.....go..
go.. released includes fixes to the compiler. See the Go ..
milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Reduce allocations for logfile reader;"Before this change the log decoder function provided by the log driver
to logfile would not be able to reuse buffers causing undeeded
allocations and memory bloat for dockerd.
This change introduces an interface that allows the log driver to manage
it's memory usge more effectively.
This only affects jsonfile and local log drivers.
jsonfile still is not great just because of how the json decoder in the
stdlib works.
local is significantly improved.
Relates to dockerforlinux
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3294;NOM;"reference
dockercli
containerdcontainerdcc
Signedoffby Xiaodong Liu liuxiaodongloongson.cn

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";swagger clarify the meaning of Image field in ContainerInspect endpoint;"Container's image term is rather ambiguous it can be both a name and an ID.
Looking at the sources it's actually an image ID so bring some clarity.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3295;. backport pkgarchive escape symbol in overlay lowerdir;"lowerdir needs escaping httpsgithub.comtorvaldslinuxblobv.fsoverlayfssuper.cLL
Fix 
Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";pkgauthorization Fix test failures on macOS;"On macOS unit tests were failing with
rootcacgosrcgithub.comdockerdockerpkgauthorization go test .
 FAIL TestAuthZRequestPluginError .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
 FAIL TestAuthZRequestPlugin .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
 FAIL TestAuthZResponsePlugin .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
timeTZ levelwarning msgRequest body is larger than '' skipping body
 FAIL TestMiddlewareWrapHandler .s
 authzunixtest.go listen unix authztestplugin.sock bind file name too long
FAIL
FAIL	github.comdockerdockerpkgauthorization	.s

This change moves the socket creation from a working test directory to a tmp directory
so the path is shorter.
 Description for the changelog
Fix unit test failures for authorization package on macOS
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3296;Fix flakey test for log file rotate.;"No description provided.
 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";On startup actually shutdown the container.;"When a container is left running after the daemon exits e.g. the daemon
is SIGKILL'd or crashes it should stop any running containers when the
daemon starts back up.
What actually happens is the daemon only sends the container's
configured stop signal and does not check if it has exited.
If the container does not actually exit then it is left running.
This fixes this unexpected behavior by calling the same function to shut
down the container that the daemon shutdown process does.
Fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3297;registry fix mtls config dir passing;"doesn't pass mtls config dirs for registries that are not mentioned in main config json. A better approach would be to use a callback so adding new directories would not require a restart but that requires changes to buildkit.
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Only check variant if set on image.;"This fixes an edge case where some images may not have a variant set
just because it didn't used to get set.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3298;. backport dockerdrootless.sh bump up slirpnetns requirement to v..;"slirpnetns v..X turned out not to work with RootlessKit v..
rootlesscontainersrootlesskit
As slirpnetns v..X reached EOL on Mar RootlessKit is not
going to fix support for slirpnetns v..X.
Backport 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fixed typo in inventor comments.;"Kirby and Noyce worked with silicon not silicone

 What I did
fixed spelling error in comments
 How I did it
changed silicone to silicon
 How to verify it
Take apart an ancient integrated circuit and confirm that they're made of silicon and not silicone.
 Description for the changelog
Fixed spelling of silicon in two inventor's contributions
 A picture of a cute animal not mandatory but encouraged
This is Dax

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3299;buildernext fix layer access bug;"fixes 
After switch to leases all ref IDs use generated IDs meaning that
EnsureLayer hack needs to save the chainID for pulled layers.
tao
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor buildkit bcffccafefabdffc;"full diff mobybuildkitv.....bcff

solver avoid looping over same keys in loadwithparents

brings in a backport of mobybuildkit
to address

mobybuildkit

dockerbuildx

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3300;pkgarchive escape symbol in overlay lowerdir;"What I did
Fix 
 How I did it
ReplaceAlllower \\ because lowerdir needs escaping
httpsgithub.comtorvaldslinuxblobv.fsoverlayfssuper.cLL
 How to verify it
Run docker pull osixiaphpldapadminstable on rootless wit";. backport Switch to sx Ubuntu .;"backport of for the . branch
change didn't apply cleanly because the . branch did not have the USEBUILDX so I ignored those changes
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3301;. vendor update buildkit to adbf;"Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport builder fix concurrent map write;"backport of 
fixes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3302;. backport bump up rootlesskit to v..;"Supports numeric ID in etcsubuid and etcsubgid .
Fix 
Full changes rootlesscontainersrootlesskitv.....v..
Cherrypick 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport docs add API versions v. v.;"backport of 
Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch. For each version of the API I picked
the highest release that uses the API to make sure to include possible fixes
in the swagger
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit bae
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3303;add dockerdrootlesssetuptool.sh;"What I did
Added contribdockerdrootlesssetuptool.sh.
The tool is expected to be used by httpsget.docker.comrootless script.
Can be included in RPMDPKG packages as well.
Fix 
Relates to 
Replaces Same as this PR but written in";docs add API versions v. v.;"Similar to 
Part of the work to address 
Adding separate documents for older API versions so that these don't have to
be collected from each tagrelease branch. For each version of the API I picked
the highest release that uses the API to make sure to include possible fixes
in the swagger
git mv apiswagger.yaml apiswaggercurrent.yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git checkout v..ce apiswagger.yaml
git mv apiswagger.yaml docsapiv..yaml

git mv apiswaggercurrent.yaml apiswagger.yaml

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3304;Fix TestSwarmManagerAddress to not depend on pretty format;"This allows this test to be run on other versions of the CLI
fixes one of the failing tests in 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Revert vendor update go.etcd.iobbolt v..;"This reverts commit ff .
See

containerdcontainerd Ocasional containerd crashes on CI
etcdiobbolt sweep increased allocation count with v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3305;bump up rootlesskit to v..;"Supports numeric ID in etcsubuid and etcsubgid .
Fix 
Full changes rootlesscontainersrootlesskitv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update goevents to fix alignment for bit systems;"relates to mobybuildkit
relates to mobybuildkit
relates to dockerbuildx

full diff dockergoevents...eb
follow up to the changes in and docker so marking for cherrypick
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3306;. backport SELinux fix ENOTSUP errors not being detected when relabeling;"backport of 
cherrypick was clean
Commit c updated the opencontainersselinux dependency to v.. which had a breaking change in the errors that were returned.
Before v.. the raw syscall.ENOTSUP was returned if the underlying filesystem did not support xattrs but later versions wrapped the error which caused our detection to fail.
This patch uses errors.Is to check for the underlying error. This requires github.compkgerrors v.. or above older versions could use errors.Cause but are not compatible with native wrapping of errors in Go . and up and could potentially cause these errors to not being detected again.
Fixes for .
 Description for the changelog

Fix Mounting Docker NFS Volume with selinux enabled failing with operation not supported

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor pkgerrors v.. mespathgojmespath v..;"vendor add version comments for some dependencies
vendor jmespathgojmespath v..
This update is just adding some typofixes and adding a go.mod but pins it to a tagged release jmespathgojmespathcbe...v..
vendor pkgserrors v.. pkgerrorsv.....v..

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3307;SELinux fix ENOTSUP errors not being detected when relabeling;"Commit c updated the opencontainersselinux dependency to v.. which had a breaking change in the errors that were returned.
Before v.. the raw syscall.ENOTSUP was returned if the underlying filesystem did not support xattrs but later versions wrapped the error which caused our detection to fail.
This patch uses errors.Is to check for the underlying error. This requires github.compkgerrors v.. or above older versions could use errors.Cause but are not compatible with native wrapping of errors in Go . and up and could potentially cause these errors to not being detected again.
Addresses for master
 Description for the changelog

Fix Mounting Docker NFS Volume with selinux enabled failing with operation not supported

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump Golang ..;"go.. released includes fixes to the go command tools the
runtime the toolchain and the cryptocypher package. See the Go ..
milestone on the issue tracker for details
httpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApproved
full diff golanggogo.....go..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3308;Don't use init to set unpigz path;"func init is evil here and the logrus calls are being made before
the logger is even setup.
It also means in order to use pigz you have to restart the daemon.
Instead this takes a small hit and resolves pigz on each extraction.
In the grand scheme of decompressing this is a very small hit.
Closes 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";builder fix concurrent map write;"fixes 
Signedoffby Tonis Tiigi tonistiigigmail.com
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3309;vendor gorillamux v..;"full diff gorillamuxv.....v..
v.. addresses a number of performance improvements bugs and documentation
improvements. httpsgithub.comgorillamuxreleasestagv..

Reduce allocations in routeRegexp.getURLQuery
Fixed golint warnings
fix headers regexp test case
Fix the CORSMethodMiddleware bug with subrouters
Removecleanup request context helpers
Guess the scheme if r.URL.Scheme is unset
Added capacity to slice creation when capacity is known
Modified http status codes using constants provided by the http package
bugfixsubrouter custom methodNotAllowed handler returning 
Update README selfhost logo
Remove TravisCI badge
Add documentation for using mux to serve a SPA
Simplify code
Avoid unnecessary conversion
Update config.yml elithrar

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. backport seccomp add bit timet syscalls;"backport of 
partially addresses 
Relates to httpspatchwork.kernel.orgpatch
Added to whitelist

clockgetrestime equivalent of clockgetres which was whitelisted
clockgettime equivalent of clockgettime which was whitelisted
clocknanosleeptime equivalent of clocknanosleep which was whitelisted
futextime equivalent of futex which was whitelisted
iopgeteventstime equivalent of iopgetevents which was whitelisted
mqtimedreceivetime equivalent of mqtimedreceive which was whitelisted
mqtimedsendtime equivalent of mqtimedsend which was whitelisted
ppolltime equivalent of ppoll which was whitelisted
pselecttime equivalent of pselect which was whitelisted
recvmmsgtime equivalent of recvmmsg which was whitelisted
rtsigtimedwaittime equivalent of rtsigtimedwait which was whitelisted
schedrrgetintervaltime equivalent of schedrrgetinterval which was whitelisted
semtimedoptime equivalent of semtimedop which was whitelisted
timergettime equivalent of timergettime which was whitelisted
timersettime equivalent of timersettime which was whitelisted
timerfdgettime equivalent of timerfdgettime which was whitelisted
timerfdsettime equivalent of timerfdsettime which was whitelisted
utimensattime equivalent of utimensat which was whitelisted

Not added to whitelist

clockadjtime equivalent of clockadjtime which was not whitelisted
clocksettime equivalent of clocksettime which was not whitelisted

Signedoffby Sebastiaan van Stijn githubgone.nl
cherry picked from commit fabf
Signedoffby Sebastiaan van Stijn githubgone.nl

 What I did
 How I did it
 How to verify it
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3310;API swarm move PidsLimit to TaskTemplate.Resources;"This is a follow up to Add API support for PidsLimit on services which implementation followed the Swarm API where PidsLimit is located in ContainerSpec. This is not the desired place for this property so moving the field to TaskTemplate.Resources in our API.
After discussing in the maintainers meeting we decided that we should update our API to move PidsLimit to the right location before the .x release a similar change should be made in the SwarmKit API likely keeping the old field for backward compatibility because it was merged some releases back dockerswarmkit
depends on

 API split types for Resources Reservations and Limits

addresses the API side of 
 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Rename newer buildshell target to build;"These two targets seem interchangeable just that the old build target
always built the final Dockerfile target even if the source was going
to be bind mounted anyway.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3311;API split types for Resources Reservations and Limits;"This introduces A new type ResourceLimit which allows Limits and Reservations to have different options as it's not possible to make Reservations for some kind of limits.
The GenericResources have been removed from the new type and thus from Limits the API did not handle specifying GenericResources as a Limit only as Reservations and this field would therefore always be empty omitted in the Limits case.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";LCOW add nolcow build tag to allow disabling lcow;"relates to 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3312;dockerdrootless.sh bump up slirpnetns requirement to v..;"slirpnetns v..X turned out not to work with RootlessKit v.. rootlesscontainersrootlesskit
As slirpnetns v..X reached EOL on Mar RootlessKit is not going to fix support for slirpnetns v..X.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";rootless graduate from experimental;"Close 
Note that the support for cgroup v isn't ready for production yet regardless to rootful or rootless.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3313;vendor spfcobra v.. spfpflag v..;"vendor spfcobra v..
full diff spfcobrav.....v..
Notable Changes

Fish completion including support for Go custom completion
API urgent Rename BashCompDirectives to ShellCompDirectives
Removereplace SetOutput on Command deprecated
Custom completions coded in Go instead of Bash
Partial Revert of 
Correct documentation for InOrStdin
Apply formatting to templates
Revert change so help is printed on stdout again
Update mdman to v..
update viper to v..
Update cmdroot.go example in README.md

vendor spfpflag v..
full diff spfpflagv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";. vendor containerd ccdfcdece;"full diff containerdcontainerdce...c

Fix error handling for task deletion
Snapshotsdevmapper deactivate thin device after committed
Fix fd leak of shim log
Fix killall when use pidnamespace
Improve ARM platform matching

 Description for the changelog

 Improve ARM platform matching
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3314;seccomp Whitelist clockadjtime;"What I did
fixes 
 How I did it
Allow making the syscall by default seccomp filter.
CAPSYSTIME is still required for time adjustment enforced by the kernel
kerneltimeposixtimers.c

 SYSCALLDEFINEclockadjtime const clockidt whi";build Dockerfile allows arg for base build FROM;"What I did

Allow an overridge ARG to specify an alternate GOLANG build environments

 How I did it

Dockerfile now has an ARG for fully specifying GOLANG base image used for build
Base image defaults to current patter

 Why I did it 


This";0
3315;vendor mobyterm feefafcebdba and dependencies;"vendor github.comgooglegocmp v..

full diff googlegocmpv.....v..
this also adds golang.orgxerrors as dependency because the gocmp package provides support for Go . and up.


vendor golang.orgxsys cacbcdfeabbadeac

full diff golangsyscbff...cac


vendor mobyterm feefafcebdba

full diff mobytermfcd...fe



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor update go.etcd.iobbolt v..;"full diff etcdiobboltv.....v..

Fix unsafe pointer conversions caught by Go . checkptr
Fix unexpected delete bucket error delete bucket incompatible value
Add support for aix
Add go.mod
db.Path resolves to db.file.Name

As mentioned in containerdcontainerd comment this update fixes issues when using Go . revealed by Go .
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3316;. logfile Check if log is closed on close error during rotate;"This prevents getting into a situation where a container log cannot make
progress because we tried to rotate a file got an error and now the
file is closed. The next time we try to write a log entry it will try
and rotate again but error that the file is already closed.
I wonder if there is more we can do to beef up this rotation logic.
Found this issue while investigating missing logs with errors in the
docker daemon logs like
Failed to log message for jsonfile error closing file close file
file already closed

I'm not sure why the original rotation failed since the data was no
longer available.
Cherrypicks 
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";add zombie check for container when killing it;"An alternative fix for .
related issues

fixes Zombie container can't stop lead to file descriptors le
addresses Docker stop container can't work When container pid becomes a zombie process
addresses Cannot stop container with zombie

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3317;logfile Check if log is closed on close error during rotate;"This prevents getting into a situation where a container log cannot make
progress because we tried to rotate a file got an error and now the
file is closed. The next time we try to write a log entry it will try
and rotate again but error that the file is already closed.
I wonder if there is more we can do to beef up this rotation logic.
Found this issue while investigating missing logs with errors in the
docker daemon logs like
Failed to log message for jsonfile error closing file close file
file already closed

I'm not sure why the original rotation failed since the data was no
longer available.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Bump swarmkit to ebeaeedcaaccccfc;"What I did
Bumps swarmkit vendoring.
Includes dockerswarmkit which fixes tasks.db growing out of control on worker nodes.
relates to addresses

 single manager docker swarm stuck in Down state after reboot
dockerswarmkit Swarm's";0
3318;vendor golang.orgxsys cbffcbbfcebfdbc;"full diff golangsysdeae...cbff
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";seccomp add bit timet syscalls;"hopefully fixes addresses 
Relates to httpspatchwork.kernel.orgpatch
Added to whitelist

clockgetrestime equivalent of clockgetres which was whitelisted
clockgettime equivalent of clockgettime which was whitelisted
clocknanosleeptime equivalent of clocknanosleep which was whitelisted
futextime equivalent of futex which was whitelisted
iopgeteventstime equivalent of iopgetevents which was whitelisted
mqtimedreceivetime equivalent of mqtimedreceive which was whitelisted
mqtimedsendtime equivalent of mqtimedsend which was whitelisted
ppolltime equivalent of ppoll which was whitelisted

?Üá??Å ppoll was removed in libseccomp was it confused for poll
update looks like it and fixed in seccomplibseccompef


pselecttime equivalent of pselect which was whitelisted
recvmmsgtime equivalent of recvmmsg which was whitelisted

no time equivalent for recvmsg 


rtsigtimedwaittime equivalent of rtsigtimedwait which was whitelisted
schedrrgetintervaltime equivalent of schedrrgetinterval which was whitelisted
semtimedoptime equivalent of semtimedop which was whitelisted
timergettime equivalent of timergettime which was whitelisted
timersettime equivalent of timersettime which was whitelisted
timerfdgettime equivalent of timerfdgettime which was whitelisted
timerfdsettime equivalent of timerfdsettime which was whitelisted
utimensattime equivalent of utimensat which was whitelisted

no time equivalent for utime and utimes 



Not added to whitelist

clockadjtime equivalent of clockadjtime which was not whitelisted
clocksettime equivalent of clocksettime which was not whitelisted

To be looked at
These syscalls are also new and added to libseccomp in seccomplibseccompbfeb but need to be looked at separately

clone equivalent of clone which was not whitelisted
fsconfig
fsmount
fsopen
fspick
movemount
opentree
pidfdopen
pidfdsendsignal

 Description for the changelog

 Fix bit timet syscalls being blocked by default seccomp profile

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3319;vendor update containerd cdbabbbcdabbcdea;"vendor update containerd becbabfbbcbf

full diff containerdcontainerdd...cd



depends on these PR's to have the dependencies match but I don't think there's a strict requirement in those changes

 vendor opencontainersselinux v..
 vendor opencontainersruntimespec v..
 vendor Microsofthcsshim v..
 vendor.conf add version comments
 vendor golang.orgxsys cbffcbbfcebfdbc

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";seccomp allow syscall membarrier;"What I did
Allow syscall membarrier in the default seccomp profile in order to fix memory coherency issues leading to segfault errors on Alpine containers. It was firstly noticed with AWS EC instances running the docker image nodealpine and failing";0
3320;vendor.conf add version comments;"These dependencies have tagged releases and we vendor a tagged release or have tagged releases but we're currently vendoring from master. Add a comment to give some clue what version we're vendoring.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Accept platform spec on container create;"This enables image lookup when creating a container to fail when the
reference exists but it is for the wrong platform. This prevents trying
to run an image for the wrong platform as can be the case with for
example binfmtmiscqemu.
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3321;Fix curl progress flags;"What I did
Fix wrong curl progress flags
 How I did it
Change progress to progressbar on calls to curl and fetchblob which in turn calls curl
 How to verify it
.contribdownloadfrozenimagev.sh dummy ubuntulatest

will run successfully
";vendor bump libnetwork efadfdeeeacbfddfabee;"Full diff mobylibnetworkbeab...efa
changes

mobylibnetwork Revert Always configure iptables forward policy
mobylibnetwork Fixes a panic in the DNS resolver

this change fix 



 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3322;vendor Microsofthcsshim v..;"full diff microsofthcsshimv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Add DefaultAddressPools to docker info;"What I did
This PR will enhance docker info following 

Things to enhance
show the current value as part of the output of docker info so that the user can see the configured value

Originally posted by thaJeztah in comment
 How I d";0
3323;vendor opencontainersruntimespec v..;"full diff opencontainersruntimespecdb...v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";Fix CPU Stat value UsageInUsermode on Windows;NOM;0
3324;vendor opencontainersselinux v..;"full diff opencontainersselinuxv.....v..
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";merge default address pool flags with daemon config;"What I did
Fixes 


if the given configuration file does not contain defaultaddresspools it should not reset the value set on the commandline Originally posted by thaJeztah in comment


this PR will fix the bug that cause dockerd ig";0
3325;Dockerfile bump CRIU .;"full diff checkpointrestorecriuv....v.
New features

CR of memfd memory mappings and file descriptors.
Add time namespace support.
Add the read predump mode which uses processvmreadv.
Add cgroupyard option
Add support of the cgroup v freezer.
Add support of opened OPATH fds.

Bugfixes

Fix CR ia processes on AMD
Fix crosscompilation
Many fixes here and there

Improvements

Use clone with settid to restore processes
Clean up compel headers.
Use the new mount API

 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";switch to mobysysmountmountinfo part II;"This PR finishes the replacement of the pkgmount package with github.commobysysmount and github.commobysysmountinfo.
Step by step

 Vendor in github.commobysys
 make pkgmount a shallow package
the above is the below is this PR
 really switch this repo to use mobysys directly
 add deprecation notice to pkgmount

The longterm plan is to remove pkgmount entirely. This of course depends on its external users I'm afraid we have a lot I was going to get it from e.g. httpspkg.go.devgithub.comdockerdockerv..pkgmounttabimportedby but because it does not recognize moby's v...v tags it's not possible so it shows users of v.... Filed golanggo
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
3326;. backport Move schema deprecation notice;"backport of 
fixes dockerforlinux for .
Currently we show this deprecation notice for any error returned by a
registry.
Registries can return an error for any number of reasons.
Instead let's show the deprecation notice only if the fallback was
successful.
 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";vendor vishvanandanetlink v..;"vishvanandanetlink vishvanandanetlinkv.....v..
vishvanandanetns vishvanandanetnsfa...abb
libnetwork mobylibnetworkbfbd...beab
github.commobyipvs new dependency was previously part of libnetwork

 Description for the changelog

 A picture of a cute animal not mandatory but encouraged
 
 
 
 
 
 

 The text was updated successfully but these errors were encountered";0
