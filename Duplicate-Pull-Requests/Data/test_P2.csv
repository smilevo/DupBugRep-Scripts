Fix typo in systemd kubelet apiservers flag.;Closes        The text was updated successfully but these errors were encountered
Add support to fetch config file from network;Closes Improves kubecfg to let you use config files fetched via https to do the following kubecfg c httpkubernetestutorials.comtutorialpod.json create pods kubecfg c httpmybuildserver.comreplicationController.json create replicationControllersThis lets terminals that use kubecfg not require write access to build files to create a pod etc.       The text was updated successfully but these errors were encountered
fix kubeadm token create;allow run kubeadm ex token create token or kubeadm ex token create to create tokenvalidate the token format at first       The text was updated successfully but these errors were encountered
Create client outside of Kubelet object.;Add apiserver client to standalone.KubeletConfig.Pass to SimpleRunKubelet and RunKubelet.Move creation of client in integration.go to earlier so kubelet can get it.Remove nolonger used vars from standalone.KubeletConfig.       The text was updated successfully but these errors were encountered
kubeapiextensionsserver Fix potential SEGV with null delegate handler;What this PR does why we need itIn the kubeapiextensionsserver there is a fallback value for null delegate to http.NotFoundHandler in handling group and versions discovery but no fallback for custom resources endpoint.It leads to SEGV when running with genericapiserver.EmptyDelegate.       The text was updated successfully but these errors were encountered
delete ubuntu kubeup;Remove deprecated ubuntu kubeup deployment.       The text was updated successfully but these errors were encountered
Automated cherry pick of;Cherry pick of on release.. Do not use sudo when untar node ee tar ball. Support set user with sshuser flag when running remote       The text was updated successfully but these errors were encountered
Fix hyperkube flag parsing;Hyperkube flag parsing was not playing nicely with kubectl command and subcommands. This PR addresses that problem and adds some tests which exercise hyperkube dispatching to nested cobra commands.\cc aaronlevy kbrwn mumoshufixes        The text was updated successfully but these errors were encountered
Run hackrungendocs.sh to fix issue otherwise shippable is failed f?Ǫ;?Ǫor all prs.cc ArtfulCoder       The text was updated successfully but these errors were encountered
Rename minionnode for Vagrant provider for;The inconsistent minionnode terminology was confusing. Replace use of term Minion explained the issue. I decided to bite off a chunk.This PR covers about of the uses of minion in the codebase but should be straightforward to review. Primary goal was to get the Vagrant provider related docs changed to node the environment and helper functions were logical additionsrequirements. The other cluster providers should probably be handled separately plus I'm not setup to test all of them. Salt Minion commentscode are untouched since differentiation is a reason for this change.Vagrant naming the node correctly node Importing base box 'kubefedora'... node Matching MAC address for NAT networking... node Setting the name of the VM kubernetesnode       The text was updated successfully but these errors were encountered
rename elasticsearch addon port to be IANASVCNAME;fixes        The text was updated successfully but these errors were encountered
Add to the Downward API the support of status.hostIP field;What this PR does why we need itThis PR allows to use the status.hostIP field in the downward API area.Global host networks services are running over the ks daemonSets like Heka for the logs.The Heka is able to received over UDP TCP logs from Pods.The easy way to reach the host is by the downward API.Currently the downward API only supports the spec.nodeName that will obviously cost DNS operations.Special notes for your reviewerThis is an example of the usage area of my PR httpsgithub.comJulienBalestraenjoliverblobebcfcdfcdededdbfbabfapptestseuidmanifestshttpddaemonset.yamlLLI select hostIP instead of nodeIP to match the current APIcurl s ...apivpods | jq .items.status.hostIP...       The text was updated successfully but these errors were encountered
Stop controller when the stop channel is closed when queue is empty and Pop is hanging;Fixes When a Pop function is invoked over empty queue the control loop inside the functions is stacked indefinitely. In order to break the loop introduce logic that waits for a signal to exit the loop.Intention of the PR is not to handle situation where manipulation operations are invoked over closed queue. Intention is to break the indefinite loop.This change is        The text was updated successfully but these errors were encountered
fix inconsistent util package import clause and some warning message ?Ǫ;What this PR does why we need itthis PR makes sure kubeadmutil.CheckErr other than cmdutil.CheckErr is called in kubeadm version subcommand.in version.go RunVersion function only returns nil kubeadmutil.CheckErr is enough for thisthis PR also fix some syntax errors in AlphaWarningOnExit message.Signedoffby redhatlinux ouyang.qinhuazte.com.cnThis change is        The text was updated successfully but these errors were encountered
add schedulable column to node;kubectl get node shows schedulable column but not to header. kubectl get nodeNAME LABELS STATUSeetestsabominionsr.c.igateway.internal Schedulable none Readyeetestsabominionx.c.igateway.internal Schedulable none ReadyThis fix added to header and changed the value just TrueFalse like following kubectl get nodeNAME SCHEDULABLE LABELS STATUSeetestsabominionsr.c.igateway.internal True none Readyeetestsabominionx.c.igateway.internal True none Ready       The text was updated successfully but these errors were encountered
Allow multiple APIs to register for the same API Group;Fixes kubernetessigapimachineryThis change is        The text was updated successfully but these errors were encountered
kubelet Move common labels out of dockertools package;moved labels and their Get functions to typesaliases kubernetestypes import to kubetypes to use kubelettypes as types       The text was updated successfully but these errors were encountered
fix annoying 'please check...' messages remove vbeta ref;bgrant caesarxuchao krouseyPart of this is a thing that was missed in removing vbeta and also in adding v.       The text was updated successfully but these errors were en
remove dead goetcd code;remove dead goetcd code. We use the official etcd client now this could be safely removed.       The text was updated successfully but these errors were encountered
Fix watch cache filtering;When serving watch events for a particular namespace the watch cache filters out events from other namespaces by checking the etcd key of the event's object and making sure it is prefixed with the root key for the namespace being watched. This tightens the check to ensure the prefix match occurs on a path segment boundary.       The text was updated successfully but these errors were encountered
match value from;fixes What this PR does why we need itMakes localupcluster work again when using the printed out information.Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerI don't understand how this works. If there's a better way to fix this let me know. pmorie deadskRelease noteNONE       The text was updated successfully but these errors were encountered
Fix find syntax on Mac;The BSD find on Mac needs the directory as first argument.       The text was updated successfully but these errors were encountered
Added Travis CI protractor support for testing web ui;Added support for Travis CI to run angular protractor ee tests for the web ui as discussed in        The text was updated successfully but these errors were encountered
Fix invocation of quay.io etcd in mesos getting started guide;The quay.io version of etcd listens on ... by default not on the docker veth interface.       The text was updated successfully but these errors were encountered
Update CNI plugin to newest version support ConfigLists;What this PR does why we need it Updates the CNI network plugin to use the newest version of CNI. This brings with it plugin chaining and support for multiple versions.Special notes for your reviewer This libcni change is backwardscompatible older plugins will work without any changes needed.Release noteThis adds support for CNI ConfigLists which permit plugin chaining.       The text was updated successfully but these errors were encountered
Update kubeletnodestatus.go;fix print error.I used as nodenamebut the log does't pring name as expected.you can the log belowbad formatI . kubeletnodestatus.go Deleted old node object q       The text was updated successfully but these errors were encountered
Fix kubectl run to print object on dry run;Originally Authored By tnachen in PRFixes        The text was updated successfully but these errors were encountered
Cleanup service.Strategy class;Ref        The text was updated successfully but these errors were encountered
Modify nodes to register directly with the master.;Ref .Fixes .       The text was updated successfully but these errors were encountered
fix ENABLEKUBELETDEBUGHANDLERS typo;There was a typo when the env var was added so this is an unbound variable.       The text was updated successfully but these errors were encountered
implement EBS and Cinder attacherdetacher;follow up with kubernetessigstorage       The text was updated successfully but these errors were encountered
Fixed kubelet deleting data from volumes on stop .;We must not clear the pod directory in killUnwantedPods volumes are stillmounted there at this time. There already is cleanupOrphanedPodDirscalled later in the SyncPods sequence which should remove these poddirectories.       The text was updated successfully but these errors were encountered
etcd use PrevKV to remove additional get;ref We are trying to test using PrevKV feature and see if it improves performance.In order to test this we will need etcd v. alpha image.Blockersupdate gcr.io image version v..etcd use PrevKV to remove additional getThis change is        The text was updated successfully but these errors were encountered
package name is error;Here package name is metav not metav.       The text was updated successfully but these errors were encountered
Show help message in kubectl.sh if no args.;When no args are passed to a script is unsetwhich causes a shell error in nounset mode.This change passes an empty string to kubectl in that caseso it can print help.This also updates docskubectl.md because the hook told me to.       The text was updated successfully but these errors were encountered
hack update cherrypick script to have settings to override remote names;What this PR does why we need itit allows you to override the remote names for the cherrypick script in case you have it named differentlyThis change is        The text was updated successfully but these errors were encountered
Enable Kubelet profiling;This PR adds a new command line flag to kubelet that enables debugpprof similar to what has already been added to apiserver and controllermanager.xref mesospherekubernetesmesoscc bgrant davidopp alexmohr       The text was updated successfully but these errors were encountered
Federation Add support for federationonly objects;What this PR does why we need itFederation controllers tries to sync all the objects created in federation api server. For few scenarios it is required that the object exist only in federation and should not be synced to federated cluster. This pr adds support to create such objects which should exist only in federation by using annotation.Special notes for your reviewerThis is a subtask of bigger work to add leader election to federation controller manager as documented in we need to create a ConfigMap object which should exist only in federation and should not be synced to federated clusters.Release noteFederation federationonly object can now be created by adding federation.kubernetes.iofederationonly annotationcc kubernetessigfederationprreviews       The text was updated successfully but these errors were encountered
Addressing . Abstract ExtractParams in kubectlrun for generators to share;kubectlrun.go has a TODO in line which indicate that'abstract this logic so that multiple generators can handle env in the same way.Same for parse envs.'This changeset creates a common ExtractParams which shares the common parameterparsing logic for env and args.It ensures none of the unit tests or system tests would be broken by this change.       The text was updated successfully but these errors were encountered
Fix TestCertificateController index out of range panic;What this PR does why we need itWhich issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerRelease noteNONE       The text was updated successfully but these errors were encountered
Fix with a hairpin pluginlike interface;Hifor this fix I needed to find the hostside interface of the veth pair. It seemed to be best in the pod status along with the pod's IP and other informations like that as it will allow reuse.I tried to follow the existing kubelet's network plugin interface but it doesn't offer the right extension point with the right interface. Since it began to look like another kind of plugin I just put a hook in the docker manager at the best place I could find.cc thockin       The text was updated successfully but these errors were encountered
Deepcopy fix generic pointer case;The changed code path is not used by Kubernetes but by downstream. It was leading to a type error.This change is        The text was updated successfully but these errors were encountered
Info about enabling the hostpath provisioner;The README for persistent volume provisioning had information about thehostpath provisioner for testing purposes but lacked instructions onhow to enable it.       The text was updated successfully but these errors were encountered
MESOS Fix compile error in portmappingtest.go;xref        The text was updated successfully but these errors were encountered
Fix unbound variable in ubuntu cluster script;roles role       The text was updated successfully but these errors were encountered
Remove unnecessary wrapper flags;What this PR does why we need itDrop KUBEGOFLAGS KUBEGOGCFLAGS KUBEGOLDFLAGS referencesfrom the build infrastructureWhich issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerRelease noteNONE       The text was updated successfully but these errors were encountered
Revert Merge pull request from derekwaynecarrsystemdpodcgr?Ǫ;We suspect that this was the cause of crossbuild failures e.g. build  ks.iokubernetespkgkubeletcmpkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in assignment unsupportedCgroupManager does not implement CgroupManager missing CgroupName methodpkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in return argument unsupportedCgroupManager does not implement CgroupManager missing CgroupName methodpkgkubeletcmcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in return argument unsupportedPodContainerManager does not implement PodContainerManager missing Destroy methodpkgkubeletcmpodcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in assignment unsupportedPodContainerManager does not implement PodContainerManager missing Destroy method windowsamd go build started ks.iokubernetespkgkubeletcmpkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in assignment unsupportedCgroupManager does not implement CgroupManager missing CgroupName methodpkgkubeletcmcgroupmanagerunsupported.go cannot use unsupportedCgroupManager literal type unsupportedCgroupManager as type CgroupManager in return argument unsupportedCgroupManager does not implement CgroupManager missing CgroupName methodpkgkubeletcmcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in return argument unsupportedPodContainerManager does not implement PodContainerManager missing Destroy methodpkgkubeletcmpodcontainermanagerunsupported.go cannot use unsupportedPodContainerManager literal type unsupportedPodContainerManager as type PodContainerManager in assignment unsupportedPodContainerManager does not implement PodContainerManager missing Destroy methodThis change is        The text was updated successfully but these errors were encountered
Fix syntax error in update.sh;Tested with sh n.       The text was updated successfully but these errors were encountered
Replace jregan with monopole in main OWNERS file;What this PR does why we need it Looks like there was a mistake there. It should be the github handle nothing else will work.Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged Doesn't fix any issue. Please approve noissue.Special notes for your reviewerRelease noteNONE       The text was updated successfully but these errors were encountered
don't reread world state after starting reconstruction;Fixes by not rereading the world state after reconstructing from ondisk pod volumespmorie saadali derekwaynecarrThis change is        The text was updated successfully but these errors were encountered
Fixed kubelet unit tests on osx;Similar to Kubelet's unit tests were failing on OS X due to missing structs and funcs excluded by conditional build flags.This PR makes fakeMountInterface common between platforms and fixes the unit tests. ks.iokubernetespkgkubeletoutputlocalgosrcks.iokubernetespkgkubeletkubelettest.go undefined fakeContainerMgrMountIntoutputlocalgosrcks.iokubernetespkgkubeletrunoncetest.go undefined fakeContainerMgrMountIntbrendandburns smarterclayton       The text was updated successfully but these errors were encountered
kubeadm fix to avoid panic if token not provided;What this PR does why we need it Prior to this kubeadm would panic if no token was provided running kubeadm ex token delete. This does a check to verify an arg has been passed and prints out a more reasonable message if it is not provided.Special notes for your reviewer cc luxas piresRelease noteNONE       The text was updated successfully but these errors were encountered
Add support to minion updating.;No description provided.        The text was updated successfully but these errors were encountered
Make kubectl ... local cmds work wo apiserver;The following commands now work work with local flag when theapiserver cannot be contactedconvertannotatelabelpatchset imageset resourcesset selectorset subjectCommands that support unstructured objects convert annotatelabel patch will only work with TPRs when the apiserver can becontacted.Added kubectl tests that cover kubectl ... local commands withoutrunning apiserver.Fixes        The text was updated successfully but these errors were encountered
Nodes Metrics API Summary Impl;No description provided.        The text was updated successfully but these errors were encountered
CRI Add security context for sandboxcontainer;Part of . This PRadds security context for sandbox and fixes encaps container security context to SecurityContext and adds missing featuresNote that capability is not fully accomplished in this PR because it is under discussion at .cc yujuhong yifangu RandomLiu kubernetessignodeThis change is        The text was updated successfully but these errors were encountered
Fix typo KUBECONIGKUBECONFIG in vagrant scripts.;Fix a benign typo which was causing an error after vagrantprovisioning completed.Fixes        The text was updated successfully but these errors were encountered
refactor;Fixed the window time issue by watch on a given index.Eliminate unnecessary timeout ticker.Changed kubelet.getKubeletStateFromEtcd to return an errorif the etcd is not found.Replaced with closechannel to signal notification in some places.       The text was updated successfully but these errors were encountered
Better kubectl run validations;Adds more validations to flags that must be mutually exclusive in kubectl run. For example dryrun must not be used with attach stdin or tty. Adds unit tests for these new validations and some previously existing ones.Release noteNONEThis change is        The text was updated successfully but these errors were encountered
Image garbage collector LowThresholdPercent can not be higher than HighThresholdPercent;if LowThresholdPercent HighThresholdPercent amountToFree at imagemanager.go is negative and image GC will not free memory properly.JustificationLowThresholdPercent HighThresholdPercent implies LowThresholdPercent capacity HighThresholdPercent capacity usage is at least HighThresholdPercent capacity amountToFree usage LowThresholdPercent capacity Combining and implies amountToFree can be negative.What happens if amountToFree is negative in freeSpace method for image range images loops at least onceand if everything goes fine deleteim.imageRecords image.id is executed.When checking for condition if spaceFreed bytesToFree it is always true as bytesToFree is negativeand spaceFreed is positive. The loop is finished so is image GC.At the end only the oldest image is deleted. In situations where there is a lot of dead containerseach container corresponing to distinct image number of unused images can get higher.If two new images get pulled in every minutes image GC will not work properly and will not free enough space.Secondly it will take a lot of time to free all unused images hours depending on a number of unused images.This is an incorrect configuration. Image GC should report it and refuse to work.       The text was updated successfully but these errors were encountered
fix kubectl proxy rejectmethod not use issue;quick fix kuberneteskubectl. liggitt ptal.       The text was updated successfully but these errors were encountered
Improvements to CLI usability and maintainability;Improves kubectl from an usability perspective byFixing how we handle terminal width in help. Some sections like the flags use the entire available width while others like long descriptions breaks lines but don't follow a well established max width screenshot below. This PR adds a new responsive writer that will adjust to terminal width and set or columns as the max width but not more than that given POSIX best practices and recommendations for better readability.Adds our own normalizers for long descriptions and cmd examples which allows us better control about how things like lists paragraphs line breaks etc are printed. Features markdown support. Looks like templates.LongDesc and templates.Examples instead of dedent.Dedend.Allows simple reordering and reuse of help and usage sections.Adds verifycliconventions.sh which intends to run tests to make sure cmd developers are using what we propose as kubectl conventions. Just a couple simple tests for now but the framework is there and it's easy to extend.Update kubectl conventions to use our own normalizers instead of dedent.Dedent.Release noteImproves how 'kubectl' uses the terminal size when printing help and usage.kuberneteskubectlThis change is        The text was updated successfully but these errors were encountered
fix issue;Which issue this PR fixes fixes        The text was updated successfully but these errors were encountered
Fix ratio calculation error in admission controller for LimitRange;Fixes Fixes Use float number to calculate ratio and use same unit to compareratios.       The text was updated successfully but these errors were encountered
Change default value of kubelet flags;maxpods from to andmaximumdeadcontainers from to cc yujuhong       The text was updated successfully but these errors were encountered
fix don't append redundant Z to docker mount option;fix        The text was updated successfully but these errors were encountered
OpenStack LBaaSV EnsureLoadBalancer now updates instead of recreates existing LBs;What this PR does why we need it Current LBaaSV integration recreates existing LBs and causes service downtime and floating ip rotation. New implementation updates LBs without service downtime or any ip rotation.Which issue this PR fixes optional in fixes issue number issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewer I really need this before we can move to production with kubernetes. Getting this to v. would be really great. I have performed plenty of testing lb and listener creation port changing and listener update multiple listeners for multiport LBs and deletion. Seems to work flawlessly.Release noteThis change is        The text was updated successfully but these errors were encountered
Fixup debug log line in federation controller;No description provided.        The text was updated successfully but these errors were encountered
Fix outdated JobCondition.Type api comment;soltysh erictune       The text was updated successfully but these errors were encountered
Fix swagger docs;Some earlier merge broke verifyswaggerdocs so pretty much everything is failing now.       The text was updated successfully but these errors were encountered
Change pod.spec.NodeSelector to full label selector;This will enable user to take advantage of existsin notin operators for filtering nodes.       The text was updated successfully but these errors were encountered
Add a mutex which guards access to pods in Kubelet.;As per .       The text was updated successfully but these errors were encountered
Fix cockroachdb statefulset test readwrite commands;Explicitly specifying insecure is required on insecure clusterswhich started being enforced in a very recent release. In weekswe'll have a stable image version that we can reliably pin therelevant statefulset yaml file to in order to avoid stupid failureslike this. I'm really sorry for the flakesWhat this PR does why we need itIt fixes the currently broken statefulset test suite httpsstorage.googleapis.comksgubernatortriageindex.htmljobgcigcestatefulsettestCockroachDBWhich issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets mergedNASpecial notes for your reviewerNARelease noteNONEkowns       The text was updated successfully but these errors were encountered
Add a binary that links haproxy and kubernetes services;I know this needs tests. I'll add them before I submit sending for feedback in parallel.       The text was updated successfully but these errors were encountered
Move testonly volume files to testonly volume package;For        The text was updated successfully but these errors were encountered
Use gcloud install instead of gcloud update for components to remove the annoying prompt;Fixes        The text was updated successfully but these errors were encountered
Add support for .dockerconfig.json in kubelet;This change adds support in the Kubelet's credentialprovider package forreading the Docker v. credential keyring which moved to .dockerconfig.json.Docker's behavior is to read .dockerconfig.json if present and fallback on reading .dockercfg for backwards compatibility.The credentialprovider package is designed to produce N keyrings with differentcredentials from different sources so the most natural solution is tosimply support reading both .dockerconfig.json and .dockercfg andblending the keyrings.Resolves        The text was updated successfully but these errors were encountered
Fix incorrect selfLink path;What this PR does why we need itFix incorrect selfLink path when querying resources via REST apiserver.Which issue this PR fixes optional in fixes issue number fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerThe SelfLinkPathPrefix is misconfigured.Release note       The text was updated successfully but these errors were encountered
Fix kubelet tls overwrite bug;apiserver was fixed incWe need to patch up kubelet as wellfixes        The text was updated successfully but these errors were encountered
Move displaying globalflags to separate help subcommand;Move displaying globalflags to separate help subcommands and make help command of regular kubectl commands more clear.Output of new subcommand kubectl help globalflagsGlobal flags are toplevel flags that affect all commands.List of global flags alsologtostderrfalse log to standard error as well as files as Username to impersonate for the operation certificateauthority Path to a cert. file for the certificate authority clientcertificate Path to a client certificate file for TLS clientkey Path to a client key file for TLS cluster The name of the kubeconfig cluster to use context The name of the kubeconfig context to use insecureskiptlsverifyfalse If true the server's certificate will not be checked for validity. This will make your HTTPS connections insecure kubeconfig Path to the kubeconfig file to use for CLI requests. logbacktraceat when logging hits line fileN emit a stack trace logdir If nonempty write log files in this directory logflushfrequencys Maximum number of seconds between log flushes logtostderrtrue log to standard error instead of files matchserverversionfalse Require server version to match client version namespace If present the namespace scope for this CLI request password Password for basic authentication to the API server s server The address and port of the Kubernetes API server stderrthreshold logs at or above this threshold go to stderr token Bearer token for authentication to the API server user The name of the kubeconfig user to use username Username for basic authentication to the API server v log level for V logs vmodule commaseparated list of patternN settings for filefiltered loggingOutput of help for help commandHelp provides help for any command in the application.Simply type kubectl help path to command for full details. Show usage of kubectlkubectl help Show a list of global flagskubectl help globalflags orkubectl help gf Show help for help command. Yes you can do it.kubectl help helpAdditional help topicsUsage kubectl help command | STRINGTOSEARCH flagsThis change is        The text was updated successfully but these errors were encountered
split CIDR allocation controller out of NodeController;fixes        The text was updated successfully but these errors were encountered
Print meta.Accessor errors;meta.Accessor returns some very informative messages that are currently discarded by the caller       The text was updated successfully but these errors were encountered
Refactor volume operation log and error messages;What this PR does why we need itAdds wrappers for volumespecific error and log messages. Each message has a simple version that can be displayed to the user and a detailed version that can be used in logs. The messages that are used for events was also cleaned up. msauWhich issue this PR fixes optional in fixes fixes issuenumber ... format will close that issue when PR gets merged fixes Special notes for your reviewerpkgkubeletvolumemanagerreconcilerreconciler.go can be refactored. I can do that refactoring after this one.Release noteNONE       The text was updated successfully but these errors were encountered
Fix build errors in contribmesos;Errors I see ks.iokubernetescontribmesoscmdksmexecutorcontribmesoscmdksmexecutormain.go imported and not used ks.iokubernetespkgutil ks.iokubernetescontribmesoscmdksmschedulercontribmesoscmdksmschedulermain.go imported and not used ks.iokubernetespkgutil ks.iokubernetescontribmesoscmdksmcontrollermanagercontribmesoscmdksmcontrollermanagermain.go imported and not used ks.iokubernetespkgutilSignedoffby Doug Davis dugus.ibm.comThis change is        The text was updated successfully but these errors were encountered
FederationBugfix Fix some flakes with kubefed init;this PR is the fix for cc kubernetessigclusterfederation madhusudancs nikhiljindalThis change is        The text was updated successfully but these errors were encountered
cache return watchHandler errors from reflectors;Fixes xiang wojtekt PTAL       The text was updated successfully but these errors were encountered
Fix mungedocs for absolute paths;chdir into the parent of the docs directory then walk docs.Fixes        The text was updated successfully but these errors were encountered
Revert Add the ability to edit fields within a config map.;Fixes This reverts commit eca. broke edit for all resources other than configmaps kubectl edit serviceaccount defaultError from server NotFound configmaps serviceaccount not foundalso edit is a generic command we can't add subcommands that claim the configmap space and mess with the things resourcebuilder accepts       The text was updated successfully but these errors were encountered
Updated etcd to .. to remove panic while running TestUpdate with go.;Following error was coming while running make j test RUN TestCreate . I | integration launching node unixlocalhostnode.sock.bridge . I | etcdserver name node . I | etcdserver data dir tmpetcd . I | etcdserver member dir tmpetcdmember . I | etcdserver heartbeat ms . I | etcdserver election ms . I | etcdserver snapshot count  . I | etcdserver advertise client URLs unix.....sock . I | etcdserver initial advertise peer URLs unix.....sock . I | etcdserver initial cluster nodeunix.....sock . I | etcdserver starting member bee in cluster baadcd . I | raft bee became follower at term  . I | raft newRaft bee peers term commit applied lastindex lastterm  . I | raft bee became follower at term  . I | etcdserver set snapshot count to default  . I | etcdserver starting server... version .. cluster version tobedecided . I | integration launched node unixlocalhostnode.sock.bridge . I | membership added member bee unix.....sock to cluster baadcd . I | raft bee is starting a new election at term  . I | raft bee became candidate at term  . I | raft bee received vote from bee at term  . I | raft bee became leader at term  . I | raft raft.node bee elected leader bee at term  . I | etcdserver setting up the initial cluster version to . . N | membership set the initial cluster version to . . I | api enabled capabilities for version . . I | etcdserver published Namenode ClientURLsunix.....sock to cluster baadcdpanic test timed out after msgoroutine runningtesting.startAlarm.funcusrlocalgosrctestingtesting.go xdcreated by time.goFuncusrlocalgosrctimesleep.go xgoroutine chan receive minutestesting.T.Runxceb x xa xc xedbusrlocalgosrctestingtesting.go xtesting.runTests.funcxcebusrlocalgosrctestingtesting.go xtesting.tRunnerxceb xcdusrlocalgosrctestingtesting.go xctesting.runTestsxcac xeceb x x xusrlocalgosrctestingtesting.go xtesting.M.Runxcbf xcfusrlocalgosrctestingtesting.go xemain.mainks.iokubernetesfederationregistryclusteretcdtesttestmain.go xegoroutine syscall minutes locked to threadruntime.goexitusrlocalgosrcruntimeasmppcx.s xgoroutine chan receiveks.iokubernetesvendorgithub.comgolangglog.loggingT.flushDaemonxedcbarootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comgolangglogglog.go xcreated by ks.iokubernetesvendorgithub.comgolangglog.init.rootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comgolangglogglog.go xfcgoroutine select minutesks.iokubernetesvendorgithub.comcoreosetcdwal.filePipeline.runxcdearootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdwalfilepipeline.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdwal.newFilePipelinerootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdwalfilepipeline.go xcgoroutine chan receiveks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.MergeLogger.outputLoopxcaarootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.NewMergeLoggerrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xcgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdmvccbackend.backend.runxcdrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccbackendbackend.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdmvccbackend.newBackendrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccbackendbackend.go xgoroutine chan receiveks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.MergeLogger.outputLoopxcrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdpkglogutil.NewMergeLoggerrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkglogutilmergelogger.go xcgoroutine sleeptime.Sleepxusrlocalgosrcruntimetime.go xfks.iokubernetesvendorgithub.comcoreosetcdintegration.cluster.waitMembersMatchxca xceb xcbd x xrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xfcks.iokubernetesvendorgithub.comcoreosetcdintegration.cluster.Launchxca xcebrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xks.iokubernetesvendorgithub.comcoreosetcdintegration.NewClusterVxceb xcde xrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xcks.iokubernetesvendorks.ioapiserverpkgstorageetcdtesting.NewUnsecuredEtcdTestClientServerxceb xcd x xrootkubernetesoutputlocalgosrcks.iokubernetesvendorks.ioapiserverpkgstorageetcdtestingutils.go xcks.iokubernetespkgregistryregistrytest.NewEtcdStoragexceb xbb xa x xrootkubernetesoutputlocalgosrcks.iokubernetespkgregistryregistrytestetcd.go xcks.iokubernetesfederationregistryclusteretcd.newStoragexceb xcd xcrootkubernetesoutputlocalgosrcks.iokubernetesfederationregistryclusteretcdetcdtest.go xks.iokubernetesfederationregistryclusteretcd.TestCreatexcebrootkubernetesoutputlocalgosrcks.iokubernetesfederationregistryclusteretcdetcdtest.go xtesting.tRunnerxceb xcusrlocalgosrctestingtesting.go xccreated by testing.T.Runusrlocalgosrctestingtesting.go xgoroutine IO wait minutesnet.runtimepollWaitxfffaee x xusrlocalgosrcruntimenetpoll.go xnet.pollDesc.waitxc x xe xcaausrlocalgosrcnetfdpollruntime.go xnet.pollDesc.waitReadxc xffffffffffffffff xusrlocalgosrcnetfdpollruntime.go xnet.netFD.acceptxc x xeab xcaausrlocalgosrcnetfdunix.go xnet.UnixListener.acceptxcdf xabc x xcusrlocalgosrcnetunixsockposix.go xnet.UnixListener.Acceptxcdf xdede xcef xcef xcausrlocalgosrcnetunixsock.go xcks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xff xcdc xcef xaeeautogenerated xks.iokubernetesvendorgithub.comcoreosetcdintegration.bridge.serveListenxcdcrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationbridge.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdintegration.newBridgerootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationbridge.go xgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdraft.node.runxcd xcdcrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdraftnode.go xdcreated by ks.iokubernetesvendorgithub.comcoreosetcdraft.StartNoderootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdraftnode.go xcgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdlease.lessor.runLoopxcbcrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdlease.newLessorrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go xgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdlease.lessor.runLoopxcbcbrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdlease.newLessorrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdleaselessor.go xgoroutine select minutesks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.fifo.runxccrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.NewFIFOSchedulerrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xacgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdmvcc.watchableStore.syncWatchersLoopxccrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xccreated by ks.iokubernetesvendorgithub.comcoreosetcdmvcc.newWatchableStorerootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xcgoroutine select minutesks.iokubernetesvendorgithub.comcoreosetcdmvcc.watchableStore.syncVictimsLoopxccrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdmvcc.newWatchableStorerootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdmvccwatchablestore.go xcgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.runxcbrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.startrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xgoroutine select minutesks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.purgeFilexcbrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xccreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Startrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdetcdserver.monitorFileDescriptorxcdrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdservermetrics.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Startrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xagoroutine selectks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.monitorVersionsxcbrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.EtcdServer.Startrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverserver.go xcgoroutine IO wait minutesnet.runtimepollWaitxfffa x xusrlocalgosrcruntimenetpoll.go xnet.pollDesc.waitxc x xe xceecusrlocalgosrcnetfdpollruntime.go xnet.pollDesc.waitReadxc xffffffffffffffff xusrlocalgosrcnetfdpollruntime.go xnet.netFD.acceptxcc x xeab xceecusrlocalgosrcnetfdunix.go xnet.UnixListener.acceptxcfff xc x xfusrlocalgosrcnetunixsockposix.go xnet.UnixListener.Acceptxcfff xf xcfff xef xcaeusrlocalgosrcnetunixsock.go xcks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xce xf xece xebbautogenerated xnethttp.Server.Servexc xe xc x xusrlocalgosrcnethttpserver.go xccnethttphttptest.Server.goServe.funcxcdusrlocalgosrcnethttphttptestserver.go xcreated by nethttphttptest.Server.goServeusrlocalgosrcnethttphttptestserver.go xcgoroutine IO wait minutesnet.runtimepollWaitxfffa x xusrlocalgosrcruntimenetpoll.go xnet.pollDesc.waitxc x xe xceebusrlocalgosrcnetfdpollruntime.go xnet.pollDesc.waitReadxc xffffffffffffffff xusrlocalgosrcnetfdpollruntime.go xnet.netFD.acceptxc x xeab xceebusrlocalgosrcnetfdunix.go xnet.UnixListener.acceptxcf xcf x xfusrlocalgosrcnetunixsockposix.go xnet.UnixListener.Acceptxcf xf xcf xef xcausrlocalgosrcnetunixsock.go xcks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxca xcf xf xece xebbautogenerated xnethttp.Server.Servexcdc xe xca x xusrlocalgosrcnethttpserver.go xccnethttphttptest.Server.goServe.funcxcdaausrlocalgosrcnethttphttptestserver.go xcreated by nethttphttptest.Server.goServeusrlocalgosrcnethttphttptestserver.go xcgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdetcdserver.raftNode.start.funcxcbrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverraft.go xabccreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserver.raftNode.startrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverraft.go xbgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.fifo.runxcdrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdpkgschedule.NewFIFOSchedulerrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdpkgscheduleschedule.go xacgoroutine selectks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpc.monitorLeader.funcxcb xcbdrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpcinterceptor.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpc.monitorLeaderrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdetcdserverapivrpcinterceptor.go xacgoroutine IO wait minutesnet.runtimepollWaitxfffafa x xusrlocalgosrcruntimenetpoll.go xnet.pollDesc.waitxc x xe xceebusrlocalgosrcnetfdpollruntime.go xnet.pollDesc.waitReadxc xffffffffffffffff xusrlocalgosrcnetfdpollruntime.go xnet.netFD.acceptxca x xeab xceebusrlocalgosrcnetfdunix.go xnet.UnixListener.acceptxcfe x xccde xusrlocalgosrcnetunixsockposix.go xnet.UnixListener.Acceptxcfe xf xccdf xccdf xcbdusrlocalgosrcnetunixsock.go xcks.iokubernetesvendorgithub.comcoreosetcdpkgtransport.unixListener.Acceptxc xafe xcaa xe xcautogenerated xks.iokubernetesvendorgoogle.golang.orggrpc.Server.Servexcaa xe xc x xrootkubernetesoutputlocalgosrcks.iokubernetesvendorgoogle.golang.orggrpcserver.go xcreated by ks.iokubernetesvendorgithub.comcoreosetcdintegration.member.Launchrootkubernetesoutputlocalgosrcks.iokubernetesvendorgithub.comcoreosetcdintegrationcluster.go xcexit status FAILks.iokubernetesfederationregistryclusteretcd.sThis error basically comes from not receiving any response from the socket address. Socket address generated in the version of etcd being used with kubernetes currently contains '.' character whereas Go. doesn't support '.' character in the socket address. So latest .. version of etcd resolved this problem by generating adresses which does not contain any '.' character. Kubernetes needs to update it's vendored etcd to .. for the above mentioned reason. This pull request takes care of that.Signedoffby Abhishek Dasgupta aguptalinux.vnet.ibm.com       The text was updated successfully but these errors were encountered
Update kubectl docs.;Updated the docs for clarity and standardized the examples with leading spaces and for comments. The spaces will affect the doc generation script but should be a positive change overall.       The text was updated successfully but these errors were encountered
Fix the race in podautoscaler test;Fix using locks to prevent race.       The text was updated successfully but these errors were encountered
Cleanup temp dirs;So funny story my tmp ran out of space running the unit tests so I am cleaning up all the temp dirs we create.       The text was updated successfully but these errors were encountered
Dont throw error if network is already torn down when deleting container;Fixes . kubernetessignodeprreviews       The text was updated successfully but these errors were encountered
Fix the incorrect min pods when kubectl get hpa;Fixes We recently change HorizontalPodAutoscalerSpec.MinReplicas from int to int and it breaks kubectl get hpa kubectl get hpaNAME REFERENCE TARGET CURRENT MINPODS MAXPODS AGEfrontend ReplicationControllerdefaultfrontendscale waiting sFixed it to kubectl get hpaNAME REFERENCE TARGET CURRENT MINPODS MAXPODS AGEfrontend ReplicationControllerdefaultfrontendscale waiting mcc bgrant jszczepkowski shall we add this fix to .       The text was updated successfully but these errors were encountered
Raise a warning instead of info if brnetfilter is missing or unset;Took quite a while to figure out why service VIP is unreachable on my cluster. It turns out brnfcalliptables is unset. I wish this message could be a warning to attract considerable attention.       The text was updated successfully but these errors were encountered
Test for and fix crash with nil client in kubelet.;Added test that fails before fix.Fixed use of nil pointer.       The text was updated successfully but these errors were encountered
Resolve 'readonly variable' warning;This resolves a cosmetic warning added in when building with Docker Machine. Since DOCKERMACHINENAME was declared readonly when eval dockermachine env DOCKERMACHINENAME was called it would throw a warning when it tried to redeclare DOCKERMACHINENAME.build..buildcommon.sh line DOCKERMACHINENAME readonly variableSince dockermachine env is the source of truth for the Docker Machine environment variables I can't see any problem with DOCKERMACHINENAME being mutable.cc spiffxp any objections       The text was updated successfully but these errors were encountered
add rootdir input argument to unsupported cadvisor manager interface;Fixes builds on nonlinux platformsThis change is        The text was updated successfully but these errors were encountered
Resolve name collision and separate Run goroutines;Resolve collision between var name and package name imported move init to New in order to run go Run... and split Run into separated go routinesRelease noteNONE       The text was updated successfully but these errors were encountered
Remove duplicated GetDeviceNameFromMount;The file pkgutilmountmountunsupported.go has the method GetDeviceNameFromMount duplicatedhttpsgithub.comkuberneteskubernetesblobmasterpkgutilmountmountunsupported.goLhttpsgithub.comkuberneteskubernetesblobmasterpkgutilmountmountunsupported.goLI removed the first one because this breaks again the build on OSXMacOS and all the tooling.This change is        The text was updated successfully but these errors were encountered
Update Container Wait;SummaryThe goal for this PR is to be able to use the POST containersnamewait API in order to no longer rely on the Events API when doing docker run ... and docker start in attached mode. Here is the set of behavioral changes in the API and CLIThe wait API now has on optional query parameter condition which specifies the state of the container which the client would like to wait fornotrunningThis is the default value which maintains the existing behavior of the Wait API. It blocks if the container is in a state which is considered to be running i.e. any of running paused or restarting. If it is already not in any of those states then it would not block at all and return immediately with the current exit code.nextexitThis condition allows the client to wait for the container's state to change to a notrunning state or to be removed. This is different from the notrunning option because it will block if the container is in the created exited dead or removing state blocking through a transition to one of the running states and back to one of exited states or until the container is removed whichever comes first. It is similar to waiting for a die or destroy event. This option is very useful to use before issuing a container start API request.removedThis condition allows the client to wait for the container to be removed. It is similar to waiting for a destroy event.The Wait API will now return HTTP response headers immediately. This serves an an acknowledgement that a wait has been registered. The JSON response body will not be returned until the wait condition is met.The Wait API's request context is extended to wait for a http.CloseNotifier event in the case that the client closes the connection while the server is blocked on the wait condition. This prevents leaked goroutines but should only be necessary until we switch to using Go .'s request context which cancels automatically if the client disconnects.To handle a manual detach when the user enters the detach keys sequence when attached in TTY mode the CLI now detects this key sequence stops sending stdin and causes the CLI to exit immediately. This is done as an alternative to waiting for a detach event. The rug has been pulled out from under this bullet point. This will have to be done in the github.comdockercli repo along with the other CLI changes.Followup to Fixes        The text was updated successfully but these errors were encountered
Update containerd and runc;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comFixes        The text was updated successfully but these errors were encountered
Fix panic in stats format 'table .Name' with no container;This fix fixes the issue in where stats format 'table .Name' will panic when there is no container available.The reason for the panic is becuse c.s.Name is out of bound. When there is no container the placeholder is only invoked for the header printout.This fix fixes the issue.This fix fixes .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
volumecreate returns error if volume exist;Signedoffby Deng Guangxing dengguangxinghuawei.comdocker volumeDRIVER VOLUME NAMElocal test docker volume create name test driver anotherdrivertestCreating a volume with existing namein different driver would return successfully. This pr will return an error instead docker volume create name testdriver anotherdriverError response from daemon volume test already exist in driver local.       The text was updated successfully but these errors were encountered
Allow access to devshm;devshm is mounted writable for root only which disallows nonroot processes in the container from using POSIX shared memory IPC.       The text was updated successfully but these errors were encountered
Fix remote ADD cache processing;cc amuino you showed me a Dockerfile with a false cache HIT but can't find it. This PR should solve that issue.       The text was updated successfully but these errors were encountered
docker ps;This changes makes the default ps output only columns and reflects the wishes of of the comments in the ticket . I have also updated the tests in integrationcli to refect these changes.Signedoffby Paul Fortin paulcpsoft.com       The text was updated successfully but these errors were encountered
Fix to avoid a compile error due to float to int truncation with GCCGO;As part of Power and Z system port compiling docker with latest gccgo compiler.       The text was updated successfully but these errors were encountered
Revendor Notary and dockergo;This updates Notary and updates github.comjfrazellego to be github.comdockergo.This also includes thaJeztah's changes in which update the notary versions in all the Dockerfiles for different architectures to use the notary tag. This PR bumps the version to docker. instead of docker..Repeating his comment re the versions hereDockerfile.aarch uses Golang .. so guess we should be safe thereDockerfile.armhf uses Golang .. but already used Notary . not sure which version of notary added the Yubico thingsDockerfile.ppcle has notary disabled do we need it enabled in thereDockerfile.sx mentions after we upgrade to Go .. I don't see a Go version in there only GOTOOLSCOMMIT is that what determins the Go version in that file If so we should probably should not change it       The text was updated successfully but these errors were encountered
Adds support for setting cgroup CPU CFS period.;This allows one to set the cpu period used in cpu quota calculation.Signedoffby Mrunal Patel mrunalpgmail.com       The text was updated successfully but these errors were encountered
hackmake.sh rm unneeded linker flags;Flag ldl was added by me in commit aadd. No one including menoticed that since sqlite is now being built with OMITLOADEXTENTIONsee we no longer need ldl.Flag lpthread was added by crosbymichael in commit ae I can'tfigure out why. I tried rebuilding with this flag removed and it'sworking just fine so let's assume the flag is no longer needed.PS ideally these should be two separate commits but let's go wildThis is sort of a followup to .       The text was updated successfully but these errors were encountered
Don't output a warning if .dockercfg is missing.;This file is not needed unless we need to use a private repository orto send images.       The text was updated successfully but these errors were encountered
cgroups Allow mknod for any device in systemd cgroup backend;Without this any container startup fails setup mount namespace copy additional dev nodes mknod fuse operation not permittedDockerDCO.Signedoffby Alexander Larsson alexlredhat.com github alexlarsson       The text was updated successfully but these errors were encountered
Remove distro packaging replace Makefile with Dockerfileshell script;No description provided.        The text was updated successfully but these errors were encountered
Fix repo validation in import;Fixes        The text was updated successfully but these errors were encountered
concurrent read and write operations on a map should use lock;Signedoffby frank yang yybgmail.comi bumped into a docker panic with version .. and i checked upstream code found that it hasn't been fixed so i commit a pull request to fix it.raw panic outputfatal error concurrent map read and map writegoroutine runningruntime.throwxdae x usrlocalgosrcruntimepanic.go x fpxca spxcaruntime.mapaccessfaststrxad xcdd xcfcbb x xcfcb x usrlocalgosrcruntimehashmapfast.go xb fpxcab spxcagithub.comdockerdockerpkgplugins.GetAllxbfba xc xcea x x x x gosrcgithub.comdockerdockerpkgpluginsplugins.go xf fpxcba spxcabgithub.comdockerdockerplugin.FindWithCapabilityxbfba xc xdafae xecffcd xb x x gosrcgithub.comdockerdockerpluginlegacy.go xf fpxcc spxcbagithub.comdockerdockervolumedrivers.GetAllDriversx x x x x gosrcgithub.comdockerdockervolumedriversextpoint.go x fpxcd spxccgithub.comdockerdockervolumestore.VolumeStore.getVolumexceb xcf x x x xcfdd x gosrcgithub.comdockerdockervolumestorestore.go xf fpxcf spxcdgithub.comdockerdockervolumestore.VolumeStore.createxceb xcf x x x xcaef x x xcaf xcfd ... gosrcgithub.comdockerdockervolumestorestore.go xc fpxc spxcfgithub.comdockerdockervolumestore.VolumeStore.CreateWithRefxceb xcf x x x xcfc x xcaef x x ... gosrcgithub.comdockerdockervolumestorestore.go x fpxcf spxcgithub.comdockerdockerdaemon.Daemon.createContainerPlatformSpecificSettingsxc xcddc xcfd xca x x gosrcgithub.comdockerdockerdaemoncreateunix.go x fpxcf spxcfgithub.comdockerdockerdaemon.Daemon.createxc xcae xc xcfd xca xc x x x x ... gosrcgithub.comdockerdockerdaemoncreate.go xf fpxca spxcfgithub.comdockerdockerdaemon.Daemon.containerCreatexc xcae xc xcfd xca xc x x x x ... gosrcgithub.comdockerdockerdaemoncreate.go xa fpxcc spxcagithub.comdockerdockerdaemon.Daemon.ContainerCreatexc xcae xc xcfd xca xc x x x x ... gosrcgithub.comdockerdockerdaemoncreate.go xad fpxc spxccgithub.comdockerdockerapiserverroutercontainer.containerRouter.postContainersCreatexcefc xd xcfe xdc xcdfe xcc xcfd xcaf xcfe gosrcgithub.comdockerdockerapiserverroutercontainercontainerroutes.go xec fpxc spxcgithub.comdockerdockerapiserverroutercontainer.containerRouter.github.comdockerdockerapiserverroutercontainer.postContainersCreatefmxd xcfe xdc xcdfe xcc xcfd x x gosrcgithub.comdockerdockerapiserverroutercontainercontainer.go x fpxce spxcgithub.comdockerdockerapiservermiddleware.VersionMiddleware.WrapHandler.funcxd xcfe xdc xcdfe xcc xcfd xcd xaaf gosrcgithub.comdockerdockerapiservermiddlewareversion.go xc fpxc spxce What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
fixed the it example;jijojijo sudo docker exec ubuntubash it bash dockerexec failed to exec exec it executable file not found in PATHjijojijo sudo docker exec it ubuntubash bashrootffacc       The text was updated successfully but these errors were encountered
fix the conflict between nameserver settings and the network used by bridge interface;When launching docker in docker on a vm there is a bug that the nested docker may choose a docker network that conflicts with vm's network. This pull request fixes this problem.Specifically suppose the vm uses ..XX and has ... as its nameserver. The first launched docker will avoid that and choose ... as its network. That is no problem.When we launch nested docker in the first docker the nested docker only sees the route table of first docker ... so it will choose ... in func CreateBridgeIface as its network. Although there is no conflict between two networks the chosen network of nested docker will conflict with the nameserver ... of original vm.Thus the network of nested docker can not work well since its dns lookup requests can not reach correct destination.This commit adds additional check of nameserver settings in func CreateBridgeIface when choosing docker network.       The text was updated successfully but these errors were encountered
Fixes pointer error;Fixes Signedoffby Paul Mou ppymougmail.com       The text was updated successfully but these errors were encountered
Set container to exit if it has runningtrue state but not alive;What I didFixes ping mlaventure How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouragedSignedoffby Lei Jitang leijitanghuawei.com   
Pass b.config to b.builder.Commit;Fixes a bug where the final image from docker build would end up without a config section in its json file rendering CMD and EXPOSE inoperable.       The text was updated successfully but these errors were encountered
Systemd init script should support DOCKEROPTS;See specifically here. The systemd daemon should support DOCKEROPTS the same as upstart and sysv do.       The text was updated successfully but these errors were encountered
Formatting and consistency fixes to CLI and RUN references;Removed double backticks.Reformatted paragraphs.Fixed consistent STDOUTSTDINSTDERR references.Fixed several broken URLs.Fixed backtick mismatches.DockerDCO.Signedoffby James Turnbull jameslovedthanlost.net github jamtur       The text was updated successfully but these errors were encountered
Fix up nameserver localhost detection;The current code only cares about ... but lets the equallydevestating through. That needs fixing.       The text was updated successfully but these errors were encountered
Fix add checktest for localhost in ParseHost;Fixes adds a test case for addr set to localhost.DockerDCO.Signedoffby Jessica Frazelle jessdocker.com github jfrazelle       The text was updated successfully but these errors were encountered
Rename overlayfs to overlay;Since Linux .rc overlayfs has been renamed overlay.This change was introduced by the following commit in linux.gitefbdedbebbdedfeb ovl rename filesystem type to overlaySignedoffby L??na?c Huard lhuardamadeus.com       The text was updated successfully but these errors were encountered
Add support for installing on Linux Mint;Resolves error message about unsupported platform.Linux Mint is a Linux distribution based on Ubuntu and Debian.Starting with Mint and continuing until every release ofLinux Mint will be built on Ubuntu . LTS.       The text was updated successfully but these errors were encountered
Fix regression in v...containersjson for empty array;Reported as dockercomposeI believe f broke the API return value for v...containersjson when the response is empty. It should be an empty json array currently it returns null.areaapikindbug       The text was updated successfully but these errors were encountered
Carry ? Do not require .git in the build context;Carry and hopefully fixes builds ??.Add .git to .dockerignoreexport DOCKERGITCOMMIT in the Makefileprioritize DOCKERGITCOMMIT against the git command in.hackmake.shAlso add integrationclibundles to gitignore it's generated whenusing integrationcli shellNote that on my laptop for example I'm sending M of context with this and M without ? so I really think this can be a huge win ??cc tianon jhowardmsft icecrime thaJeztah cpuguy??       The text was updated successfully but these errors were encountered
dockerfile Allow ARG in FROM;Fixes This has been a major pain point for building from common base images. There's no way to build a base image with a unique tag git sha is a common one and then build app specific images from that tag.       The text was updated successfully but these errors were encountered
Update notary and reenable on arm;See discussion in Notary now builds on arm so reenable build and make allreleases use the same version.Signedoffby Justin Cormack justin.cormackunikernel.com       The text was updated successfully but these errors were encountered
Avoid calling Plugin.Activate on every 'List' call;Please provide the following informationWhat did you doHow did you do itHow do I see it or verify itA picture of a cute animal not mandatory but encouragedWhen docker is used with swarm 'List' is called often andplugins.GetAll is called every time during this. Since GetAlluses loadWithRetry method the plugin is initialized more than once.This leaves a lot of connections to the plugin open and resulting onPlugin.Activate called more than onceThis patch uses plugins.Get method which does what is needed from thisAPICloses Signedoffby Babu Shanmugam babu.shanmugamgmail.com       The text was updated successfully but these errors were encountered
Make testunit work without parallel;Closes You can test by removing parallel from the Dockerfile and running make testunit       The text was updated successfully but these errors were encountered
Move secret name or ID prefix resolving from client to daemon;What I didThis fix is a follow up for comment commentCurrently secret name or ID prefix resolving is done at the client side which means different behavior of API and CMD.cc thaJeztah ehazlett allencloud How I did itThis fix is a fo
Update path used for copying runc during debrpm generation;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comThis should fix the docker automatic experimental build generator.       The text was updated successfully but these errors were encountered
fix panic in monitor;If you do a while true do docker run ubuntu ls done let it run for a while and ctrlc the daemon.When you restart the daemon you'll get a panic.We already fixed a bug like this in httpsgithub.comvieuxdockerblobdfcaadbcbcfbcdaruntimecontainer.goL       The text was updated successfully but these errors were encountered
Remove explanation of removed argument;No description provided.        The text was updated successfully but these errors were encountered
daemon graphdriver btrfs use kernel structures;In an update for libbtrfsdevel the ioctl structureC.structbtrfsioctlvolargsv was changed such that one of the fieldsused in the Go code were in a union. Since Go doesn't support unionsthis caused Docker to not compile.By using the kernel definition which is guaranteed to never changethanks to Linus' fanatical obsession to backwards compatibility we canensure that Docker will build no matter what changes are made to otherheaders.Signedoffby Aleksa Sarai asaraisuse.deImage source httpswww.flickr.comphotoswwarbyinpoolcreativecommonsfreepictures       The text was updated successfully but these errors were encountered
Fix DOCKEROPTS not being honored on debian . Fixes;Adds the default environment file etcdefaultdocker to the default systemd configuration and applies the DOCKEROPTS variable to the daemon options.This fixes DOCKEROPTS not applying properly on debian without hacking this file.See        The text was updated successfully but these errors were encountered
Adding support for Environment variable arguments;is good to allow for config via environment variables for the cli to reduce keypress by user. Starting simple and just adding support for setting the Host which is the one that I do a lot .       The text was updated successfully but these errors were encountered
Fix check for terminal output.;Previously ba fixed which stream was being checked but thesurrounding check for whether it is nil was testing the wrongvariable.Signedoffby Ewen CheslackPostava meewencp.org       The text was updated successfully but these errors were encountered
Use https when fetching Docker's GPG key;No description provided.        The text was updated successfully but these errors were encountered
Split api cleanup;little cleanup things.seeing deamon in the image router was personally irritating.using the interface return value matches ContainerInspect and was in the original but I'm not sure why it was dropped from With this the only reference to the daemon is in apiserverserver.goStill some references to builder but mainly involving the calculation of context and context handling. Maybe that functionality should become a pkg for reuse.       The text was updated successfully but these errors were encountered
Switch to getopt;Switch to getopt feel free to add suggestions. I probably missed many reference in the documentation.So now it support short p long port version and multiple short docker run it ubuntu bashMost of the multi letters options we previously have notrunc only have long version notruncOtherwise it's pretty much the same.Regarding the help I think I didn't change the way it worksdocker help or docker h display the usage daemon modedocker help display the usage client mode with the list of commandsdocker help ps display the usage of docker psdocker ps help or docker ps h displays the usage of docker psshykes creack crosbymichael keeb please take a look when you have time       The text was updated successfully but these errors were encountered
Fix volumesfrom mount failure;As explained in volumesfrom fails with ENOFILE errors.This is because the code tries to look at the from volume withoutensuring that it is mounted yet. We fix this by mounting the containersbefore stating in it.DockerDCO.Signedoffby Alexander Larsson alexlredhat.com github alexlarsson       The text was updated successfully but these errors were encountered
Check Linux kernel version .;Should fix according to unclejack comment.Add a build flag nokernelcheck for disabling the check useful forCentOSRHEL for example.The check is done only for the daemon part in the main.First time I fiddle around the buildflags ?and I'm not sure the name of file I choosed are right.Wasn't sure how to provide tests on this ?.Should probably add documentation right Should probably do something upstream for CentosRHEL too right ? ??Signedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Always mark as stopped for non running containers;Fixes DockerDCO.Signedoffby Michael Crosby michaeldocker.com github crosbymichael       The text was updated successfully but these errors were encountered
Fix registry auth and remove other hidden ping commands from client code;This fix addresses and finishes SHA eeaceSolution discussed with crosbymichael on IRC.       The text was updated successfully but these errors were encountered
Return failure if docker pid file still not exists after waiting dock?Ǫ;?Ǫer to start for secondsSignedoffby Chun Chen ramichentencent.comI've seen several times that service docker start succeeds even docker daemon fails to start and I think its reasonable to choose failure rather than success if daemon can't create pid file after seconds waiting.Beforerootdocker datahomegaiachenchun service docker startStarting docker via systemctl OK rootdocker datahomegaiachenchun rootdocker datahomegaiachenchun docker psFATA Get httpvarrundocker.sockv.containersjson dial unix varrundocker.sock no such file or directory. Are you trying to connect to a TLSenabled daemon without TLSAfterrootdocker datahomegaiachenchun service docker startStarting docker via systemctl Job for docker.service failed. See 'systemctl status docker.service' and 'journalctl xn' for details. FAILEDrootdocker datahomegaiachenchun rootdocker datahomegaiachenchun systemctl status l docker.servicedocker.service LSB start and stop docker Loaded loaded etcrc.dinit.ddocker Active failed Result exitcode since Tue CST s ago Process ExecStartetcrc.dinit.ddocker start codeexited statusAug docker docker Redirecting to binsystemctl status cgconfig.serviceAug docker docker Starting docker FAILEDAug docker docker varrundocker.pid not exists after waiting docker to initialize for seconds probably something is wrong you can check docker logs at gaiadockervarlibdockerdocker ...Aug docker systemd docker.service control process exited codeexited statusAug docker systemd Failed to start LSB start and stop docker.Aug docker systemd Unit docker.service entered failed state.       The text was updated successfully but these errors were encountered
Port test from integration tests to integrationcli;Addresses Signedoffby Srini Brahmaroutu srbrahmaus.ibm.com       The text was updated successfully but these errors were encountered
fix copying file from overlay volume path;docker run v alayer v blayerlayer XXXdocker cp ContainerIDlayerlayerxxx failed withFATA Error response from daemon Couldnot find the file layerlayerxxx in container.This commit fix this.Signedoffby Deng Guangxing dengguangxinghuawei.com       The text was updated successfully but these errors were encountered
image don't use the dev version of TarSum;ping jlhawn ...Signedoffby Vincent Batts vbattsredhat.com       The text was updated successfully but these errors were encountered
Fixes unicode encoding bug where unicode strings were passed;What does this PR doWhen I tried to install microsoft office from a state I got a traceback and a failed state.What issues does this PR fix or referenceI thought I saw an issue for this but I can't seem to find anything when I google now.Previous BehaviorWHen I try to install MS Office I get the following error.The minion function caused an exception Traceback most recent call lastFile C\salt\bin\lib\sitepackages\salt\minion.py line in threadreturnreturndata executor.executeFile C\salt\bin\lib\sitepackages\salt\executors\directcall.py line in executereturn self.funcself.args self.kwargsFile C\salt\bin\lib\sitepackages\salt\modules\state.py line in applyreturn slsmods kwargsFile C\salt\bin\lib\sitepackages\salt\modules\state.py line in slsret st.state.callhighhighFile C\salt\bin\lib\sitepackages\salt\state.py line in callhighret dictlistdisabled.items listself.callchunkschunks.itemsFile C\salt\bin\lib\sitepackages\salt\state.py line in callchunksrunning self.callchunklow running chunksFile C\salt\bin\lib\sitepackages\salt\state.py line in callchunkrunningtag self.calllow chunks runningFile C\salt\bin\lib\sitepackages\salt\state.py line in callformatlogretFile C\salt\bin\lib\sitepackages\salt\state.py line in formatlog'''\n'.formatpkg old newUnicodeEncodeError 'ascii' codec can't encode character u'\xf' in position ordinal not in range New BehaviorThe state finishes with no traceback. The intended strings appear in the log messages. I used the mcbs codec for python . In windows powershell the nonascii characters don't come out right but the only two reasonable choices for codec at this point are mcbs and utf and neither of them are giving a perfect result. Anyway I wouldn't know how to improve on the situation. I left the strings alone in python . Tests writtenNo       The text was updated successfully but these errors were encountered
Fixe git.latest testtrue changes check;Thanks jasonrm for pointing out the problem.       The text was updated successfully but these errors were encountered
RPM epoch is not part of the pakage name;What does this PR doFixes a bug related to RPM epochWhat issues does this PR fix or referencePrevious BehaviorIf the epoch was set it was used as part of the package name. For example in case for package X epoch version.. and release it was trying to install X.. instead of X..New BehaviorIt ignores the epoch when constructing the package nameTests writtenNo       The text was updated successfully but these errors were encountered
getvar in makeconf returns value with '\n' suffix;Since commit a makeconf.present state raises an error when trying to set a variable with a specified value because getvar in makeconf module returns value with '\n' suffix and comparaison between old value and new one is always false       The text was updated successfully but these errors were encountered
Be more explicit when passing in family;Fixes .basepi please cherry pick.       The text was updated successfully but these errors were encountered
Added tryexcept to use old socket.getgqdn if socket.getaddrinfo fails;References Added a tryexcept to network.getfqhostname to handle the thrown exception in gethostbyname when sockets.getaddrinfo fails.Some basic tests are forthcoming.       The text was updated successfully but these errors were encountered
Make scriptssaltapi call salt.scripts.saltapi;No description provided.        The text was updated successfully but these errors were encountered
sysctl use user provided config if any;After upgrade to .. sysctl states will show a message like this Sysctl value is currently set on the running system but not in a config file.But we have provide a config file when define state for salt.states.sysctl.present. After check the code we found current module will always use the default config to check present. This pull request is intend to fix the bug please review thanks.       The text was updated successfully but these errors were encountered
Bug fix for nodedata is an object of type Node not a dictionar...;It looks to me like the conn.createnode returns an object of type Node but it is treated as a dictionary on line . Hopefully this is a fix for        The text was updated successfully but these errors were encountered
saltclientraetinit.py fix spacing per pylint;Module salt.client.raet.initsaltclientraetinit.py Cbadwhitespace No space allowed around keyword argument assignment name 'client' yid       The text was updated successfully but these errors were encountered
Add pythonshellTrue to pacman.listupgrades;Fixes        The text was updated successfully but these errors were encountered
default to utf encoding if not specified;What does this PR doOn errors for some reason AWS does not always have an encoding on themessage. Default to 'utf'.What issues does this PR fix or referenceTests writtenNo       The text was updated successfully but these errors were encountered
Revert Fixes secgroup return for ECVPC;This will break other things so it should be reverted.By making the documentation more clear and adding some extra examples would avoid this issues.       The text was updated successfully but these errors were encountered
Bugfix prevent snapper module crash on load if no DBus is available in the system;What does this PR doBugfixWhat issues does this PR fix or referenceIf an OS has no DBus installed but does have python bindings to it installed then the module crashes while loading.Previous Behaviorsalt.modules.snapper crashes if no DBus installed.New Behaviorsalt.module.snapper shows the following error in the log insteadERROR org.freedesktop.DBus.Error.NoServer Failed to connect to socket varrundbussystembussocket Connection refusedTests writtenNo       The text was updated successfully but these errors were encountered
Revert refresh logic in pkg to to do it once per run;The change happened in aa. Previously package db refresh happened once per run but after the change it does not happen anymore if you don't specify refreshTrue explicitly.Closes .Here's how to verify.. one aptget update docker build t salt q buildarg SALTVERSION. devnull httpsgist.githubusercontent.combobrikeceabdfbafcrawbbddbefbfeabcfcfbedDockerfile docker run rm it salt saltcall l info local state.sls test | fgrep aptgetshacffecafecdcafcdeeffcefebbbeINFO Executing command 'aptget q update' in directory 'root'INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'htop' in directory 'root'INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'strace' in directory 'root'.. no aptget update docker build t salt q buildarg SALTVERSION. devnull httpsgist.githubusercontent.combobrikeceabdfbafcrawbbddbefbfeabcfcfbedDockerfile docker run rm it salt saltcall l info local state.sls test | fgrep aptgetshaecbaaadacbdbaafdINFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'htop' in directory 'root'INFO Executing command 'aptget' 'q' 'y' 'o' 'DPkgOptionsforceconfold' 'o' 'DPkgOptionsforceconfdef' 'install' 'strace' in directory 'root'I also found out that docs for v.. are much better httpsdocs.saltstack.comen.refstatesallsalt.states.pkg.htmlsalt.states.pkg.latestThe problem is I can't find these docs in .. or in develop. I can't even see them in v.. in git. How did that happencc secumod twangboy hrumph DenisBY jfindlay.       The text was updated successfully but these errors were encountered
Fix epoch handling for rpm. If epoch is given it is also required in ?Ǫ;?Ǫversion checks. The previous behaviour extracted the epoch so that version checks with installed epoch versions led to invalid yum downgrades.What does this PR doFixing a problem with rpmyum.When pkg.install is used with version and epoch number the epoch number is stripped of the version string to build the package string for yum. This leads to a misleading version comparison afterwards since the installed version contains the epoch number and the version to install not anymore.What issues does this PR fix or referenceDid not create an issuePrevious Behaviore.g. yelpinstalled version ...fcpkg.install yelp version.. would result in yum downgrade call instead of yum installNew Behaviore.g. yelpinstalled version ...fcpkg.install yelp version.. would results in yum installTests writtenNo       The text was updated successfully but these errors were encountered
Fix a SYNTAXERROR from a merge forward;bfecccommitcomment       The text was updated successfully but these errors were encountered
Modified nlines variable in append method of file.py by updating list?Ǫ;What does this PR doForces nlines and sliines to use the same criteria when being created. Currently one is created used rstrip and the other rstripos.pathsepWhat issues does this PR fix or referencePrevious BehaviorWhen executing a file.append on a RHEL machine subsequent Salt runs were not idempotent because slines was always not equal to nlines.New BehaviorSubsequent file.append Salt runs are idempotent.Tests writtenNoPlease review Salt's Contributing Guide for best practices.?Ǫ comprehension.When executing a file.append slines is set to item.rstrip for item in slines while nlines is set to item.rstripos.linesep for item in nlines. Later if slines is not equal to nlines then it is determined that a change has occurred. This prevents subsequent Salt runs from being idompotent.       The text was updated successfully but these errors were encountered
use sudo correctly;This command is formatted as if it was su.So this is the first part.I have no idea how to fix the second part which is it cann't find the thin version. .decodebase' config 'id salt.gtmanfred.com rootdir tmp.saltrunningdata' delimeter edbcefaacbbbdcafbfacfcff saltdir tmp.salt checksum fbccfcdaffd hashfunc sha version ..gfee test.ping WARNING Unable to locate current thin version.stdout ERROR Failure deploying thin edbcefaacbbbdcafbfacfcff deploy       The text was updated successfully but these errors were encountered
Set the user to the actual user running the minion daemon;This PR fixes issue        The text was updated successfully but these errors were encountered
Update openbsdpkg.py;Same change request as for a Dev. branch Merge pull request from sergeppatch       The text was updated successfully but these errors were encountered
A more accurate punishment for IPv addresses;Suggested change contributed by skizunov       The text was updated successfully but these errors were encountered
Remove encode;What does this PR doFixes integration.modules.testgit so that it will run. The encode was causing problems in Python . I tested removing the encode on Py and it didn't have any problems. I introduced this problem myself What issues does this PR fix or referencehttpsgithub.comsaltstackzhissuesPrevious BehaviorTest fails on Py with an error similar to the followingTraceback most recent call last File version.py line in module printLooseVersion'..'.encode File C\Program Files\Python\lib\distutils\version.py line in init self.parsevstring File c\saltdev\salt\salt\utils\versions.py line in parse LooseVersion.parseself vstring File C\Program Files\Python\lib\distutils\version.py line in parse components x for x in self.componentre.splitvstringTypeError cannot use a string pattern on a byteslike objectNew Behaviortestgit test runsTests writtenNo       The text was updated successfully but these errors were encountered
Updated the botocfn.py to once again add the parameters and capabilitie...;...s to the botocfn.create. Fixed some indention and modified a few errortrace messages.       The text was updated successfully but these errors were encountered
Add kernelversion grain;What does this PR doAdds the 'kernelversion' grain to the core grains.What issues does this PR fix or referenceTests writtenYes       The text was updated successfully but these errors were encountered
fix import;What does this PR doit fixes the import of the itertools module in the utilsdns.py as itertools.py does also exist in utils and I think Salt shouldn't name modules the same as stdlib modulesTests writtenNo       The text was updated successfully but these errors were encountered
fileclient.RemoteClient.hashfile query env from URL;Related to .       The text was updated successfully but these errors were encountered
Use platform instead of os for uname;Unable to pip install salt on windowsC\SaltDev\saltpip install e .Obtaining fileCSaltDevsalt Complete output from command python setup.py egginfo Traceback most recent call last File string line in module File C\SaltDev\salt\setup.py line in module ISSMARTOSPLATFORM os.uname 'SunOS' and os.uname.startswith'joyent' AttributeError 'module' object has no attribute 'uname'os.uname is not available on windows. use platform.uname instead.       The text was updated successfully but these errors were encountered
Fix develop pylint error;No description provided.        The text was updated successfully but these errors were encountered
resolvedips could be None;What does this PR doOnly run len when we know that resolvedips is a list.What issues does this PR fix or referenceTests writtenNo       The text was updated successfully but these errors were encountered
Use the 'rev' arg in git.rebase Fix;No description provided.        The text was updated successfully but these errors were encountered
bugfix for;check if exists not just if null       The text was updated successfully but these errors were encountered
Do not fail to init grains for nonroot user.;What does this PR doThis fixes unit tests pass if ran as a nonroot user. Actually helps on devboxes.What issues does this PR fix or referenceNone.Previous BehaviorA number of tests like unit.testpyobjects.RendererTests fail with the following errorPermissionError Errno Permission denied 'sysclassdmiidproductuuid'New BehaviorRemove this section if not relevantTests writtenNo       The text was updated successfully but these errors were encountered
Fixed a lint error in parsers.py;No description provided.        The text was updated successfully but these errors were encountered
Fixed bad link to new requisites page;No description provided.        The text was updated successfully but these errors were encountered
Python . support.;Some fixes for python .Fix subprocess.mswindows check for Python ..Added hash variable to the OrderedDict classes.       The text was updated successfully but these errors were encountered
added PHP . to Travis;QABranch.Bug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
store thisid in local id to avoid errors when this value is changed;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMIT       The text was updated successfully but these errors were encountered
Use Yoda Conditions in Test Condition;QABranchmasterBug fixyesNew featurenoBC breaksnoDeprecationsnoTests passnoFixed ticketsLicenseMITDoc PRUse yoda conditions in test conditonsRef httpsymfony.comdoccurrentcontributingcodestandards.htmlstructure       The text was updated successfully but these errors were encountered
Form Fixed hashing of choice lists containing nonUTF characters;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Abstract voter tweaks;QABug fixyes a littleNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRnaBased on suggestions from stof in this simplifies the BC and deprecation throwing code. This also adds a BadMethodCallException in case the user doesn't override isGranted or voteOnAttribute because that's just plain wrong as is calling isGranted on the parent class directly since that was formerly abstract.       The text was updated successfully but these errors were encountered
HttpKernel Added useragent when requesting symfony roadmap;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMIT       The text was updated successfully but these errors were encountered
Updated copyright to;No description provided.        The text was updated successfully but these errors were encountered
DependencyInjection Use DOM instead of SimpleXML for namespace support;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis PR makes the XmlFileLoader use the DOM instead of SimpleXML. This allows full namespace support in XML files. Previously the Symfony container namespace had to be the default namespace for the document. See also .Some things to discussI avoided any BC breaks but I do not know if the things I avoided breaking are actually part of the API. There are two places this applies toThe Symfony\Component\DependencyInjection\SimpleXMLElement still exists but it is no longer used except to maintain BC. It does not appear to be used anywhere else in Symfony itself. Maybe some userland code uses it somewhere. If this is not part of the API it could be removed.The parseFile method still returns a SimpleXMLElement to maintain BC. I have added a new function parseFileToDOM that is used by the XmlFileLoader itself. If this is not part of the API we could drop that new function and have parseFile return a \DOMDocument instead.       The text was updated successfully but these errors were encountered
Form Fixed Added validationgroups option to submit button;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Update srcSymfonyComponentSecurityResourcestranslationssecurity.es...;....xlf       The text was updated successfully but these errors were encountered
FrameworkBundle Routing Check if default value matches requirement;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRCheck if the default value defined in a route matches the requirement of that value.       The text was updated successfully but these errors were encountered
Form make prototypename available in twig template;When using several collection types on the same page you might wan't to use different prototype names. Having the name in the template allows for a clean javascript to replace the prototype name in the prototype see adjusted sample in the Doc PR.QABug fixyesNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsn.aLicenseMITDoc PRsymfonysymfonydocs       The text was updated successfully but these errors were encountered
FrameworkBundle backport;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
. Handle PHP sessions started outside of Symfony;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRsymfonysymfonydocsThis PR brings a way to allow Symfony to manage a session started outside of Symfony in such a way that quite explicit. It also introduces more robust detection of previously started sessions under PHP . and supports real session status detection under PHP .       The text was updated successfully but these errors were encountered
use Symfony\Component\HttpKernel\Bundle seems to be incomplete;Fixed wrong use of namespace Symfony\Component\HttpKernel\Bundle\Bundle       The text was updated successfully but these errors were encountered
Form Fixed index generation in EntityChoiceList if ID is not an integer;Bug fix yesFeature addition noBackwards compatibility break noSymfony tests pass yesFixes the following tickets Todo        The text was updated successfully but these errors were encountered
Removed the RequesthasSession;Currently RequesthasSession is used for a dual purpose as shown belowCheck the session cookie existsBundle\FrameworkBundle\RequestListenerCheck the Request has the Session objectComponent\Security\Firewall\ContextListenerComponent\Security\Firewall\ExceptionListenerComponent\HttpKernel\DataCollector\RequestDataCollectorThis method seem to be implemented for first purpose. And there is some problems in the second case.For example the RequestDataCollector does not record the session data when in the process with the start of a new session. In the same condition ExceptionListener does not save the targetpath that is used as next path after authentication.This method is used ambiguouslysession object exists session started. I think this method shuld be removed and the callers should check the condition of the Request properly.       The text was updated successfully but these errors were encountered
. Revert removal of correct APC cache service remove deprecated one;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketshttpstackoverflow.comqLicenseMITDoc PRSee also        The text was updated successfully but these errors were encountered
Update validators.pl.xlf;No description provided.        The text was updated successfully but these errors were encountered
VarDumper Changed color scheme of HTMLDumper to Solarized Dark Scheme;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Remove repeated CHANGELOG title;QABranchmasterBug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRSeems like there is an error in the release script see        The text was updated successfully but these errors were encountered
Validator Refactoring DateValidator and DateTimeValidator;And add check if the value is an instance of \DateTime in the DateValidator.       The text was updated successfully but these errors were encountered
Validator added before and after options to Date constraints;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesLicenseMITDoc PRtodoI've added an after and before options to Date and DateTime constraints. It uses the strtotime function so it's user friendly values like now week can be used.I think it can be very useful some examples an appointment can't be scheduled before daysa user must be more than years old checking the birthdaya date must be in the futureWhat do you think       The text was updated successfully but these errors were encountered
Debug Fix profiler dump template;Fix a template issue introduced in daddfeQABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
ExpressionLanguage Fixed evaluation of short circuit operators;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Console Add method to know parsed option;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed tickets LicenseMITDoc PR       The text was updated successfully but these errors were encountered
ValidatorHackday . Add a deprecation note about ValidationVisito...;QABug fixnoNew featurenoBC breaksnoDeprecationsyesTests passyesFixed ticketsLicenseMITDoc PRnone       The text was updated successfully but these errors were encountered
CS Added some missing license headers;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnoneLicenseMITDoc PRnoneSome headers were missing from the LDAP request. This PR fixes this.       The text was updated successfully but these errors were encountered
. ClassLoader Cosmetic change to remove extra spaces in bootstrap file;Bug fix noFeature addition noBackwards compatibility break noFixes the following tickets License of the code MITThis patch removes spaces from TWHITESPACE token before a comment TCOMMENT token.       The text was updated successfully but these errors were encountered
Changed Role to RoleInterface;Changed Role to RoleInterface so that one doesn't have to extend Role but simply implement RoleInterface.Maybe be better to merge to branch ..       The text was updated successfully but these errors were encountered
Fixed;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMIT       The text was updated successfully but these errors were encountered
Form;No description provided.        The text was updated successfully but these errors were encountered
TwigBundle register template paths for overridden bundles;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsFriendsOfSymfonyFOSUserBundle FriendsOfSymfonyFOSUserBundleLicenseMITDoc PRPreviously paths for bundles overriding a parent bundle wouldn't have been registered with the namespace of the parent bundle. I am not completely sure if this is the best solution so I didn't invest time to write tests confirming the fix. Will do that if we agree on this approach.       The text was updated successfully but these errors were encountered
GH;Handle associations in unique validator correctly.       The text was updated successfully but these errors were encountered
Console Separate formatter for stdoutstderr;ConsoleWhen piping output from a console command through | more for example stderr is still considered to have color support although stdout does not. When stdout and stderr share the same formatter this results in color codes being output while this is not desired behaviour.E.g. stdout.phpphprequireonce 'vendorautoload.php'out new Symfony\Component\Console\Output\ConsoleOutputoutwriteln'infoOKinfo'without patch php stdout.php | moreESCmOKESCm php stdout.php devnull | moreOKwith patch php stdout.php | moreOKThe cleanest solution I could think of was simply cloning the given formatter rather than sharing the same instance.Partial credit goes to Seldaek as well for discovering and debugging this unexpected behaviour with me.QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
fixed various typos;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
HttpKernel allowed any callable to be returned by ControllerResolvercreateController;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
Form fix method signature for PHP ..;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis should fix the annoying Travis build failure for PHP ..       The text was updated successfully but these errors were encountered
Code cleanup;Not sure at the end if this good or not. If it is useless just close it.       The text was updated successfully but these errors were encountered
WebProfiler Can't consult the exception panel when there is an exception;QABug fixyesNew featurenoBC breaksno not yetDeprecationsnoTests passyesFixed ticketsnot reported yet AFAIKLicenseMITDoc PRnoneWhen consulting the Exception Panel of the Web Profiler there was an exception stating that the ResponseHeaderBag expects an array as a typehint and it has a string insteadAn exception has been thrown during the rendering of a template Catchable Fatal Error Argument passed to Symfony\Component\HttpFoundation\ResponseHeaderBagconstruct must be of the type array string givenThis was induced in the commit db.The thing is as I already discussed on IRC with lsmith I think it is strange that the Response's constructor does not have a typehint on the headers parameter as it is directly fed to the ResponseHeaderBag on the very first instruction of the mentionned controller which provokes the mentionned error. So either we can add the typehint on the Response or we can also typehint the parameter phpclass Response ... public function constructcontent '' status headers array  thisheaders new ResponseHeaderBagarray headers  ...Though I think it is not as neat as the typehint directly on the parameter but I heard that it was a nogo to add a typehint on object's constructor as this could be a potential BC Break. Is it still the case Even though this call are here for at least years now...Cheers.       The text was updated successfully but these errors were encountered
Form translationdomain in placeholder of collapsed choice;Check that translationdomain is not falseQABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
HttpFoundation fixed Response Bug added more Tests;HttpFoundation fixed bug with LastModified HeaderHttpFoundation added Response Tests       The text was updated successfully but these errors were encountered
Console Add a concept of 'tail' arguments;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis PR introduces the concept of a tail argument. It is essentially an extension of the concept of InputArgumentISARRAY that allows the last argument in the command line to unconditionally capture all the remaining arguments whether they look like options or not.The use case targeted here is the one of command lines that chains or wrap other command lines. It makes possible to implement those without forcing the user to use the separator to explicitly separate the options of the wrapper with the options of the wrapped command at least when they are nonoverlapping.       The text was updated successfully but these errors were encountered
Form Added support for type extensions to FormIntegrationTestCase;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis PR allows to use FormIntegrationTestCase to test form types with extensions.       The text was updated successfully but these errors were encountered
FrameworkBundle Keep pre meaning for vardump quickanddirty debug;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis is a minor fix to have a quickanddirty vardump nicely work with the exception output from Symfony.In short the default pre whitespace CSS rules should be kept outside of block content so that vardump output is not diplayed in a single huge line.       The text was updated successfully but these errors were encountered
WIPForm remove short form names;Requires and        The text was updated successfully but these errors were encountered
Fixed not initialized data variable;Fixed not initialized data variable in the Scope class which leads to a PHP warnings when using arraykeyexists.       The text was updated successfully but these errors were encountered
DI More generic loaders;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsno could introduce some thoughTests passyesFixed tickets... LicenseMITDoc PRsymfonysymfonydocs... Standardizes Config\Loaderimport with ImportingLoaderInterface new interfaceFavors Config\FileLoadersetCurrentResource over setCurrentDirMoves container resource tracking to DI\FileLoadersetCurrentResource fixing nested resource tracking outofthe box.If we deprecate setCurrentDir the upgrade path would be beforeloadersetCurrentDircurrentDirloaderimportresource format ignoreErrors currentFile afterloadersetCurrentResourcecurrentFileloaderimportresource format ignoreErrors       The text was updated successfully but these errors were encountered
Form Fixed edge case where empty data may not be a string and throws TransformationFailedException;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesLicenseMITI just can't recreate this error by any means.I somehow have a form with an integer type which happens to submit null as viewData somehow and it reuses emptydata option. Now my field was configured likebuilderadd'page' 'integer' array 'emptydata' And since the assignment of viewData is the emptydata one of the normalizers while calling viewToNorm throws a TransformationFailedException with the following message Expected a string.       The text was updated successfully but these errors were encountered
TwigBundle Fixing regression in TwigEngine exception handling;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITFixing regression after in TwigEngine exception handling.       The text was updated successfully but these errors were encountered
Fix OptionsResolverInterface tests;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Validator Add format option to DateTime constraint;QABug fixnoNew featureyesBC breaksnoDeprecationsyesTests passyesFixed tickets and partial LicenseMITDoc PRNone yetThis PR adds a new format option to the DateTime constraint and deprecates Date and Time constraints.I will do a PR with necessary changes on SymfonyDocumentation if accepted.       The text was updated successfully but these errors were encountered
Security?context listener hardening user provider handling;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRAfter the wrong fix in this is the second attempt to solve . If more than one user provider support the user for the current context all of them will be applied instead of returning prematurely when the first user provider does not find the logged in user.       The text was updated successfully but these errors were encountered
Added HTTP Code;English httpsen.wikipedia.orgwikiHTTPGerman httpsde.wikipedia.orgwikiHTTPStatuscodehttpstools.ietf.orghtmldrafttbrayhttplegallyrestrictedstatussectionhttpswww.google.desearchqhttpcode       The text was updated successfully but these errors were encountered
HttpFoundation Implement RedisSession Handler;QABug FixnoNew FeatureyesBC BreaksnoDeprecationsnoTests PassyesFixed TicketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Security remove deprecated features;QABranchmasterBug fixnoNew featurenoBC breaksyesDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Validator Made it possible again to pass a class name to validatePropertyValue;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRIn the . API it was possible to do bothvalidatorvalidatePropertyValueobject 'propertyName' myValuevalidatorvalidatePropertyValue'\Vendor\Namespace\ClassName' 'propertyName' myValueIn the . API the second case was not supported anymore. This is fixed now.Together with the fix comes also a small change also in the . API which I'll demonstrate with a code snippetmetadataaddPropertyConstraint'ClassName' 'propertyName' new Callback function value context  vardumpcontextgetRoot vardumpcontextgetPropertyPath validatorvalidatePropertyValue'ClassName' 'propertyName' 'foobar'Before this PR the output would bestring ClassNamestring propertyNameThis doesn't make a lot of sense because usually the following condition holds during validation'' contextgetPropertyPath || value propertyAccessorgetValuecontextgetRoot contextgetPropertyPathwhich obviously cannot work if root is a class name. Thus I changed the root and property path to becomestring foobarstring With this change the condition holds also in this case.       The text was updated successfully but these errors were encountered
DomCrawler Exposed getter for baseHref;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRnaI know that PR for this issue already created but it is Hack Day so I'm making my first contribution anyway.       The text was updated successfully but these errors were encountered
PropertyAccess BC Break since ..;setValue isWratable loops must only stops on reference and object. References can also be arrays and if the loop stops the value is never set in the object. Breaks since .. commit eeQABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis merge request fixes the following cases taht was working with version previous to ..A class with a property myArray which can be a multi dimensional array can now be accesed using myArrayfoobarbazPreviously only myArrayfoo was working the break is since commit ee       The text was updated successfully but these errors were encountered
TwigBundle Remove ContainerAwareRuntimeLoader;QABranchmasterBug fixnoNew featurenoBC breaksyesDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
Fixed non utf strings recognition;No description provided.        The text was updated successfully but these errors were encountered
WebProfilerBundle Fix AJAX panel width for long URLs;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRWhen the AJAX url path is very long the profile td token value is not fully displayed.BeforeAfterOther Possible SolutionsFix maxwidth from .sftoolbarblockhover .sftoolbarinfo class to px. same result but the AJAX panel is a bit longerFix maxwidth from .sftoolbarblockhover .sftoolbarinfo class to none or remove it. It would avoid future issues mainly with third bundles with children width greater than px. Promising cc javiereguiluz       The text was updated successfully but these errors were encountered
. Bumped the minimum php version to .;QABug fixnoNew featurenoBC breaksyesDeprecationsnoTests passyesFixed ticketsNALicenseMITDoc PRNAThis pull request bumps the minimum php version of symfony . to php ..This also removes all the hacky workarounds for php . and ..       The text was updated successfully but these errors were encountered
Form. Upgrade Guide Describe how to build forms after deprecations;QABranch.Bug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
WebProfiler added missing event parameter to click handler;QABranchmasterBug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesLicenseMITAfter updating to symfony . i realized that the debug toolbar does not get closed any more throwing an error on javascript console event not defined.This fixes it.       The text was updated successfully but these errors were encountered
Console Fix Allow to inject QuestionHelper into SymfonyStyle;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passnoFixed ticketsnaLicenseMITDoc PRnaThis PR asserts that a Helper\QuestionHelper can be injected into Style\SymfonyStyle provides a mutator for the Helper\QuestionHelper otherwise internally created by Style\SymfonyStyle? If using Style\SymfonyStyle and asking a question in a command it's impossible to use the instructions laid out here to provide an input stream. By allowing to inject an instance of Helper\QuestionHelperinto Style\SymfonyStyle testing becomes possible again.       The text was updated successfully but these errors were encountered
Form Stop translating numbers in DateType and TimeType;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passwaiting for travisFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Fix tests for error page preview;See comment and following comments there.       The text was updated successfully but these errors were encountered
BrowserKit Fixed regression with redirects and port number;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRupdateServerFromUri did not consider the PORT as part of the Host but request does this since symfonybrowserkitdbc .Changed the method to use extractHost to be consistent with other behavior.fixes        The text was updated successfully but these errors were encountered
Form Add prototypedata option to collection type;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRsymfonysymfonydocsMakes it possible to have default data for collection prototypes.       The text was updated successfully but these errors were encountered
ClassLoader remove the component;QABranchmasterBug fixnoNew featurenoBC breaksyesDeprecationsnoTests passnoFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
OptionsResolver Allow setting same normalizer to multiple option;QABranchmasterBug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Cache Simple Memcached Adapter;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRsymfonysymfonydocsRelated PRs        The text was updated successfully but these errors were encountered
Config Fix FileResource usages;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PROnce merged up to master this should make tests green there.       The text was updated successfully but these errors were encountered
. sync master translations with .;Sync translations of master that are missing in .QABug fixyes sort ofNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketspart of LicenseMIT       The text was updated successfully but these errors were encountered
HttpKernel Fix invalid Container class name;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRSteps to reproduce this bug based on Building your own Framework with the MicroKernelTrait git clone httpsgithub.comycerutomicrokernel foobar cd foobar composer update php index.phpResultParse error syntax error unexpected '' TLNUMBER expecting identifier TSTRING in varwwwvhostfoobarcachedevfoobarDevDebugProjectContainer.php on line The solution was taken from httpphp.netmanualenlanguage.oop.basic.phpA valid class name starts with a letter or underscore followed by any number of letters numbers or underscores. As a regular expression it would be expressed thus azAZ\xf\xffazAZ\xf\xff.       The text was updated successfully but these errors were encountered
Process add signal method.;Pull request for issue .Perhaps a signalsignal method instead of kill since stop is already taking that role and looks like other issue already talking about sending SIGTERM vs SIGKILL and what not.It might be a good idea to limit the signals you can send so you don't terminate using this function. Also probably a good idea to have a list of POSIX signals as constants.Thoughts       The text was updated successfully but these errors were encountered
Security Add test to ensure translation files are synced;QABug fixyesNew featurenoBC breaksnoDeprecationsyesTests passyesFixed tickets commentLicenseMITDoc PRThis new test ensure both SymfonyComponentSecurityResourcestranslations and SymfonyComponentSecurityCoreResourcestranslations translation files are synced.       The text was updated successfully but these errors were encountered
Fixed problem with previous pull request;Just had an issue with how i ported the code from the orm and it caused an exception.       The text was updated successfully but these errors were encountered
Validator Added property inequality constraint;Validator Added constraint validator and test to ensure that two class property respect an inequality order i.e. start date earlier than end date one number greater than the otherBug fix noFeature addition yesBackwards compatibility break noSymfony tests pass yesFixes the following tickets Todo Write the docLicense of the code MITDocumentation PR todo       The text was updated successfully but these errors were encountered
handle array root element;An array to string conversion notice was thrown when the root element of the thing being validated is an array.QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMIT       The text was updated successfully but these errors were encountered
HttpKernel Fixed failing tests due to incorrect parameters;Incorrect params for Memcachedset see httpphp.netmanualenmemcached.set.phpThese tests really be using test doubles imo.Fixes the following errorsThere were errors Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStoreMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestChildrenMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStoreSpecialCharsInUrlMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestStoreDuplicateTokenMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestRetrieveByIpMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php Symfony\Tests\Component\HttpKernel\Profiler\MemcachedProfilerStorageTesttestRetrieveByUrlMemcachedset expects at most parameters givenhomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerMemcachedProfilerStorage.phphomedordrakwwwsymfonysrcSymfonyComponentHttpKernelProfilerBaseMemcacheProfilerStorage.phphomedordrakwwwsymfonytestsSymfonyTestsComponentHttpKernelProfilerMemcachedProfilerStorageTest.php       The text was updated successfully but these errors were encountered
Validator Allow Choice Constraint Callback to be nonstatic;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsnoneLicenseMITDoc PRwill write if community wants this featureNow that as of . the ExecutionContextInterface has a getObject method the callback doesn't need to be static anymore it can actually be on the object that's being validated. This is great because you can actually have dynamic choices and this validator will actually work. Maintainers are free to add commits to this branch.       The text was updated successfully but these errors were encountered
Routing remove route query param when it is the same as default;QABug fixyesNew featurenoBC breaksmaybe not shure i think this is a bugDeprecationsnoTests passyesLicenseMITi think the original testcase for query params is broken seehttpsgithub.comsymfonysymfonyblobmastersrcSymfonyComponentRoutingTestsGeneratorUrlGeneratorTest.phpLthe generate method from the UrlGenerator removes parameter that has the same value as the default seehttpsgithub.comsymfonysymfonyblobmastersrcSymfonyComponentRoutingTestsGeneratorUrlGeneratorTest.phpLbut this is not the case for query parameters       The text was updated successfully but these errors were encountered
FrameworkBundle Add missing autowiring aliases for common interfaces;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
PhpUnitBridge Support namespaces that begin with Tests\;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRWhen registering a test class with ClockMock the namespace of the tested class is resolved by removing \Test\ from the namespace of the test class. But that does not work if this namespace actually starts with Test\.       The text was updated successfully but these errors were encountered
Update DateType.php;Check intl Version instead of phpversion.       The text was updated successfully but these errors were encountered
Filesystem Added new methods isDir and isFile.;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThose methods are checking if a given path is a directory or a file.Since we are using Symfony Filesystem component to decouple filesystem from our code I felt those methods are missing and should be there. People should use them in their code and then they will be able to mock filesystem dependency in their tests completely.       The text was updated successfully but these errors were encountered
Validator Dont cache metadata misses;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Path bug fixed.;No description provided.        The text was updated successfully but these errors were encountered
Autoload;GH Issue        The text was updated successfully but these errors were encountered
Fix in YAML escaper;When a string contains both \n and invalid YAML was generated on YAML.dump.We fixed the errors and added a testcase.       The text was updated successfully but these errors were encountered
WebProfilerBundle Fixes event listener attaching error in IE;I haven't tested the change because I don't any working Symfony installation at hand. By the looks of changes it should work.QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passnot sure do we have JS testsFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
FrameworkBundle DependencyInjection Adding a command to debug services by tag;Bug fix noFeature addition yesBackwards compatibility break noSymfony tests pass yesFixes the following tickets Todo License of the code MITDocumentation PR        The text was updated successfully but these errors were encountered
Added the form type name to the exception message.;Added the form type name to the exception message so it's clear witch form type the framework expected.       The text was updated successfully but these errors were encountered
FrameworkBundle Remove useless checks in descriptors;QABranch.Bug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRnaAs pointed out by ogizanagi in comment some code in FrameworkBundle's descriptors is useless because the bundle works only with DI ..       The text was updated successfully but these errors were encountered
Web server abstract remove;QABranch.Bug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRna       The text was updated successfully but these errors were encountered
Form Collection Pass prototypename value to the view;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis commit allows to handle the collection field option prototypename from the view. Associated JS can now count on it to get the placeholder for prototype replace string on adding element.       The text was updated successfully but these errors were encountered
HttpKernel Inherit projectDir in the temporary kernel;QABranchmasterBug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRContrary to all other directories defined in the kernel the getProjectDir method is not copied to the temporary kernel. This can lead to issues if the method is overridden in AppKernel. Unfortunately the method is not and obviously cannot be in the KernelInterface so methodexists was my only option to see if it can be called.       The text was updated successfully but these errors were encountered
Added dump and die function;No description provided.        The text was updated successfully but these errors were encountered
Adding a missing annotation for the fluent interface for DIC builder;HelloJust a tiny contribution for a missing annotation for the fluent interfaceprovided by ContainerBuilder of the DI componentFlorent       The text was updated successfully but these errors were encountered
Fix for to add support for new PHP MongoDB extension in sessions.;QABranch.Bug fixyesNew featureyes ishBC breaksnoDeprecationsnoTests passnoFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
. FrameworkBundle bugfix in configuration for assets;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnaLicenseMITDoc PRnaIf both of configurations are defined the exception breaks because it isn'tdefined properly missing backslash in FQCN for \LogicException.Also the message was wrong it's referred to templating.templating instead offramework.templating.       The text was updated successfully but these errors were encountered
HttpFoundationFile Moved extension guessing to a dedicated class;Added an ExtensionGuesser class and moved the extension guessing from HttpFoundation\File into it as this functionality can be useful outside of the HttpFoundation\File class.       The text was updated successfully but these errors were encountered
Form render hidden empty inputs for checkboxes;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis ensures that a form is always considered submitted even if it contains only checkboxes which all haven't been checked by the user.       The text was updated successfully but these errors were encountered
DependencyInjection fix method signature;QABranchmasterBug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRTo allow FC layers in Symfony . we need to allow null values in theinterface.       The text was updated successfully but these errors were encountered
Intl Refactored Locale component into two new components Icu and Intl;QABug fixyesNew featurenoBC breaksyesDeprecationsyesTests passyesFixed ticketsLicenseMITDoc PRsymfonysymfonydocsThe Intl component is now a simple dropin replacement layer for the C intl extension. Install it via Composer and have it available automatically if the intl extension is not available.Additionally the component ships data from the ICU library which can be accessed through the methodsuse Symfony\Component\Intl\IntlIntlgetCurrencyBundle...IntlgetLanguageBundle...IntlgetLocaleBundle...IntlgetRegionBundle...If the intl extension is installed Composer will install the ICU data for the ICU version in the intl extension. If the intl extension is not installed Composer will use stub ICU data for the latest ICU version see IntlgetStubIcuVersion.See the README for more information.Todo finish the Intl README file update the Icu README file update the documentation make parameter locale optional default to \LocalegetDefault in resource bundle methods remove IcuVersioncompare calls in the tests solve deployment problem when trying to install incompatible symfonyicu version listed in composer.lockCreate the following branches in the Icu component ..x ..x ..x       The text was updated successfully but these errors were encountered
Fix currently broken tests;Glitch from f       The text was updated successfully but these errors were encountered
Console added possibility to choose right answers for a ConfirmationQuestion;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRWith this pull request the ConfirmationQuestion can accept one or many answers like 'o' 'oui' in french or 'si' in spanish or anything else it's up to you Default value is still 'y' yes       The text was updated successfully but these errors were encountered
FrameworkBundleDX Add option to specify additional translation loading paths;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRTODOThanks to this PR next time I want to just do translator fallback locale paths 'kernel.rootdir..vendorinternalpackagetranslations'I will be able to and won't have to dig in docs start building a translation loader before I realize it's not what I want dig in the framework ext and then have to write a compiler pass to inject my file to the translator resource paths.       The text was updated successfully but these errors were encountered
DI Add ContainerBuilderfileExists for checkingtracking resource existence;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed tickets commentLicenseMITDoc PRnaFinishes Adds a convenient ContainerBuilderfileExists method as suggested by Nicolas and use it to track resources in the FrameworkExtension adding some missing ones.       The text was updated successfully but these errors were encountered
WebProfilerBundle Fixed minimize panel;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Security SimplePreAuthenticatorInterface Remove divert deprecation message;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PREven if you use Security\Http\Authentication\SimplePreAuthenticatorInterface as deprecation of Security\Core\Authentication\SimplePreAuthenticatorInterface says it anyway show that message.       The text was updated successfully but these errors were encountered
Validator Made sure that context changes don't leak out of ContextualValidatorInterface;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
BrowserKit Fix bug when uri starts with http.;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
added a setReadOnly method;Bug fix noFeature addition yesBackwards compatibility break noSymfony tests pass yesFixes the following tickets Being able to set readonly directly in the form is useful when you want to set it from a prepostsetData listener       The text was updated successfully but these errors were encountered
Form DoctrineBridge added a failing test for EntityType;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passsometimes Fixed ticketsnoneLicenseMITDoc PRnoneThis is a new test for EntityType that uses an entity whose primary key is a foreign key toanother entity an association key as described herehttpdoctrineorm.readthedocs.orgenlatesttutorialscompositeprimarykeys.htmlidentitythroughforeignentitiesUsing the entity form type with an associationkey entity used to work before . so I believe this is a BC break.Update I've added a possible fix to the IdReader class in the latest commit. I don't know if it is the right fix but... I say the tests pass sometimes because Symfony\Component\HttpKernel\Tests\HttpCache\HttpCacheTest is failing intermittently and I don't think it is related to my change.       The text was updated successfully but these errors were encountered
Fix URI replacement when 'HTTPHOST' starts with a number;Bug fix yesFeature addition noBackwards compatibility break noSymfony tests pass yesLicense of the code MITI had an issue with the BrowserKit while doing functional testing with Behat. Actually the URI generated had an IP address in place of the host. Because the host starts with a number pregreplace tries to replace a backreference that selects nothing in the regexp pattern.The previous bug is repeatable with the following codephpuri 'http...login'serverhttphost '...'echo pregreplace'https\'.parseurluri PHPURLHOST.'' '\\'.serverhttphost uri outputs ...login instead of http...loginHere is the php.net documentation related to this issueWhen working with a replacement pattern where a backreference is immediately followed by another number i.e. placing a literal number immediately after a matched pattern you cannot use the familiar \ notation for your backreference. \ for example would confuse pregreplace since it does not know whether you want the \ backreference followed by a literal or the \ backreference followed by nothing. In this case the solution is to use . This creates an isolated backreference leaving the as a literal.       The text was updated successfully but these errors were encountered
WCM Updated the styles of the assetsinstall command;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThis PR uses comment which hasn't been merged yet. WIP PR at        The text was updated successfully but these errors were encountered
Updated .githubPULLREQUESTTEMPLATE.md;QABranch.Bug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Security Fix the http authentication entry points and test them;No description provided.        The text was updated successfully but these errors were encountered
Forgotten use HttpFoundation\Request;Symfony ..DEVIn function getTraces used traceRequest Requestcreate but class Request does not present in namespace Symfony\Bundle\WebProfilerBundle\Controller       The text was updated successfully but these errors were encountered
Security make it possible to override the default successfailure handler;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed tickets LicenseMITDoc PRsymfonysymfonydocsOverriding the default successfailure handler of the security firewalls is possible via the successhandler and failurehandler setting but this approach is not flexible as it does not allow you to get the optionsprovider key.To sum up the problemOverriding the default successfailure handler is possible via a serviceWhen not overridden the default successfailure handler gets options and the provider keyThose options and the provider key are injected by the factory as they are dynamic they depend on the firewall and the provider key so getting those optionsprovider key is not possible for a custom service that is only configured via the container configurationExtending the default handler does not help as the injection mechanism is only triggered when no custom provider is setWrapping the default handler is not possible as the service id is dynamic.... and of course we need to keep BC and make it work for people extending the default handler but also for people just using the interface.Instead of the current PR I propose this slightly different approach. It's not perfect but given the above constraint I think this is an acceptable tradeof.So several use casesUsing the default handler no changeUsing a custom handler that implements AuthenticationSuccessHandlerInterface directly and does not need any options no changeUsing a custom handler that needs the optionsprovider key that's the new use case this PR supports.This PR introduces new classes that wrap custom handlers. If those classes define the setOptions andor setProviderKey methods they are automatically called with the correct arguments. Yours handler does not need to extend the default handler DefaultAuthenticationHandler but doing so helps as the setters are already defined there.       The text was updated successfully but these errors were encountered
Acl ObjectIdentity Getting parent class on proxies;As raised herehttpsgroups.google.comdtopicsymfonybhkAiSfloMdiscussionThe ObjectIdentity behavior on proxies can be improved.Maybe this could be done in a cleaned way but this works and the Security component can be still used standalone with this.       The text was updated successfully but these errors were encountered
Correctly display multiline log entries in Profiler Logs section;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRMultiline log entries are actually shown on a single line. This PR makes log messages run through Twig nlbr filter in order to display them on multiple lines.Current behaviourProposed behaviour       The text was updated successfully but these errors were encountered
. Deprecate the correct APC cache service;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketshttpstackoverflow.comqLicenseMITDoc PRThe new service was marked as deprecated instead of the old one this PR fixes that.       The text was updated successfully but these errors were encountered
Allow user select for exceptions header;QABranchmasterBug fixYesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRAllow user select on the exception trace header.       The text was updated successfully but these errors were encountered
Increases the debug toolbar zindex;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRThe vardumper is using a zindex of . In order to not be hidden the debug toolbar by a content dumped in a template using the dump function the debug toolbar must have an higher zindex.       The text was updated successfully but these errors were encountered
FrameworkBundle Update assets configuration tests;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRPreviously assets where enabled if templating didn't contain asset configuration. This has been removed in .Instead of enabling it back I propose to keep it disabled and update the tests instead since we already discussed disabling all FrameworkBundle features by default for . .       The text was updated successfully but these errors were encountered
Security Role class magic method to make comparisons easier;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRNowinarray'ROLEADMIN' usergetRoleswill work.I know this can be done with userhasRole method but consider followingarrayintersectarray'ROLE' 'ROLE' usergetRolesto check if user has at least one of roles.       The text was updated successfully but these errors were encountered
Form Added a configuration that allow form extra data;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITI can not understand how can solve or so i created this PR.I can not also understand why can be considered as duplicate of .The commit will solve problem if some fields is missing but says nothing about extra fields.       The text was updated successfully but these errors were encountered
Validator Fix for;Proposal fix for additional tests.       The text was updated successfully but these errors were encountered
WebProfilerBundle Fixed missing deprecation log message;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
HttpFoundation fix path info when request path is not sent;QABranch.Bug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
Config Missing type argument passed to loader.;In FileLoader the type is not passed to the child loader.Bug fix yesFeature addition noBackwards compatibility break noSymfony tests pass yesLicense of the code MIT       The text was updated successfully but these errors were encountered
VarDumper Component ExpandCollapse button for all dumped data;QABug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
WebProfilerBundle Fixed form icon in toolbar;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsNALicenseMITDoc PRNAUsage of same form icon in toolbar than the one in sidebar plus lossless compression of icon.Before After        The text was updated successfully but these errors were encountered
Security Don't destroy the session on buggy php releases.;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed tickets LicenseMITDoc PRnoneSee for the discussion. This workaround avoids destroying the old session after login on the migrate strategy when running under a php version that we know to be broken.Corresponding php bug httpsbugs.php.netbug.phpid       The text was updated successfully but these errors were encountered
Translation Fix loading of po translations with quoted characters;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR       The text was updated successfully but these errors were encountered
FrameworkBundle Inject the PropertyInfo in the ObjectNormalizer;QABranchmasterBug fixnoNew featureyesBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PR allowed to deserialize object relations but users can't use it easily as it is not available in the framework yet.We only need to pass the PropertyInfoExtractor to the ObjectNormalizer when it is available and this feature will be available for everyone        The text was updated successfully but these errors were encountered
Pull request template;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsnoneLicenseMITDoc PRnoneAccording to httpshelp.github.comarticlescreatingapullrequesttemplateforyourrepositorywould be useful to add it on the sf repo.       The text was updated successfully but these errors were encountered
Form Update AbstractTypeAbstractTypeExtensionsetDefaultOptions deprecation detection;QABug fixnoNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRHeyI'm facing an issue when trying to fix some deprecation in one of my bundle See egeloenIvoryCKEditorBundle. The idea is to prepare the bundle for the upcoming . release but at the same time still being compatible with lower versions. Then I introduce a BC layer in order to use the less deprecated feature as much quicky as possible in order to ease the upgrade for the . release. In the PR I implement both setDefaultOptions and configureOptions but since the deprecation is based on the presence of the setDefaultOptions the fact that I have implemented the configureOptions is ignored. So this PR updated the code to detect if the configureOptions exists to trigger the deprecation.What do you think       The text was updated successfully but these errors were encountered
twig fix merge of the paths defined in several config files.;QABug fixyesNew featurenoBC breaksnoDeprecationsnoTests passyesFixed ticketsLicenseMITDoc PRLet's say I have two separate configs files in which I define twig.paths or an extension that implements PrependExtensionInterface and prepend twig paths there. If we have only entry where the paths is defined everything works fine. But if there two or more we may ended with php fatal errorFatal error Uncaught exception 'TwigErrorLoader' with message 'The directory does not exist.' in homevagrantprojectsFoovendortwigtwiglibTwigLoaderFilesystem.php on line        The text was updated successfully but these errors were encountered
Authorize the creation of an empty array of choices.;Authorize the creation of an empty array of choices. nldr. For autocomplete ajax by exampleAs example builderadd'toComplete' 'choice' array 'choices' array 'multiple' true 'required' false        The text was updated successfully but these errors were encountered
Mustache is now Generator;No description provided.        The text was updated successfully but these errors were encountered
Windows Wait for OOBE to prevent crashing during host update;Signedoffby Darren Stahl darstmicrosoft.com What I didPrevent a Daemon crash during host update. How I did itSome services Docker depends on are not active during a host update. This PR holds daemon initialization until after a host update is completed.It also notifies the Windows Service Control Manager that the service has started as soon as the API is active to prevent service start timeouts waiting for OOBE or daemon initialization. How to verify itInstall Docker service on a machine that receives manual OS updates such as a Windows Insider machine. After an update is installed the daemon was not running with an SCM log stating that it terminated unexpectedly. With this update the daemon will be running. Description for the changelogPrevent crash during Windows host update.cc jhowardmsft jstarks       The text was updated successfully but these errors were encountered
Flags for specifying bind mount consistency;This PR introduces a small change to the Docker CLI as part of a larger project to address some longstanding file sharing performance on Docker for Mac .The poor performance of bind mounts in Docker for Mac for some applications arises from osxfs ensuring perfectly consistent views of bind mounts between container and host reads writes and events from within a container are propagated synchronously to the host and vice versa.Perfect consistency is the right default but for some workloads where it's unnecessary it puts a low ceiling on performance. To improve performance for such workloads we plan to allow the user to relax consistency guarantees for individual bindmounted directories.The full details of the proposal are available here. This patch includes one small piece of the work namely additional bind options cached delegated consistent for selecting consistency modes. Although the immediate aim is improving osxfs performance these options are not macOSspecific they give a general view of consistency that applies to many systems both for bind mounts and volume plugins. For exampleessentially the same consistency taxonomy is used by Infinitthe same approach may be used in future to improve performance on Windowson systems that directly expose the host file system to a container such as Linux ignoring the options is an acceptable implementation of all three modes. Even on Linux a container runtime could in principle take advantage of the relaxed semantics associated with delegated and cached.       The text was updated successfully but these errors were encountered
fix docker stack omit external volume's nocopy parameter;What I didFix docker stack omit volume's nocopy parameter. How I did itProcess external volume mount's nocopy parameter when create stack's services. How to verify itcreate a volumedocker volume create nfsdeploy stack file link as follow
add rollback explanation to docker service update command document;Signedoffby erxian evelynhsugmail.comHi this PR refers to issue adds the explanation of rollback option to docker service update command document which locates in dockerdocsreferencecommandlineserviceupate.md. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Docs Add docs for stating stopped containers;This commit adds docs with example showing docker stats stoppedcontainers.Signedoffby Zhang Wei zhangweihuawei.comThis is a followup PR for cc LKD thaJeztah       The text was updated successfully but these errors were encountered
..x Vendoring swarmkit cdf;Brings the fixes for and to the ..x branch       The text was updated successfully but these errors were encountered
fix docker daemon reload bug;NOM
Fix some Liquid errors;Fix some Liquid errors that cause rendering problems when reusing these reference files in the docs website       The text was updated successfully but these errors were encountered
docker version output is not consistent when there are downgrades or incompatibilities;. docker version output is not consistent when there are downgrades or incompatibilities Signedoffby Daniel Zhang jmzwcngmail.com       The text was updated successfully but these errors were encountered
Update docs for experimental features;What I didAdded some info about starting dockerd with experimentalUpdated the usage listing for dockerdAdded new experimental features to experimentalREADME fileFixes       
Vendoring libnetowrk cb;Fixes Fixes Alsooptimization in limiting the number of access to the external kvstore for docker network list commandsfixes an out of order fdb programming issue in overlay network driver when used with external kvstorefixes vtep programming for containers with restart policy on overlay network when used with external kvstorefixes a deadlock in overlay driver when used with external kvstorefixes a netlink socket leak A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update LICENSE date;No description provided.        The text was updated successfully but these errors were encountered
Do not remove containers from memory on error;Before this if forceRemove is set the container data will be removedno matter what including if there are issues with removing containerondisk state rw layer container root.In practice this causes a lot of issues with leaked data sitting ondisk that users are not able to clean up themselves.This is particularly a problem while the EBUSY errors on remove are soprevalent. So for now let's not keep this behavior.       The text was updated successfully but these errors were encountered
..x Vendoring libnetwork bbae;optimization in limiting the number of access to the external kvstore for docker network list commandsfixes an out of order fdb programming issue in overlay network driver when used with external kvstorefixes vtep programming for containers with restart policy on overlay network when used with external kvstorefixes a deadlock in overlay driver when used with external kvstorefixes a netlink socket leakfixes datapath encryption key rotation issue in NAT case issues       The text was updated successfully but these errors were encountered
Set as default secret mode in stack deploy;Change the default secret mode to match the default one used inservice subcommands.Fix cc dnephin mstanleyjones nathanleclaire aaronlehmann ehazlett thaJeztah??Signedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
reference handle combination of tag and digest in ImageDelete;If you remove an image with digesttag it will fail because it wontfind it in the reference store where digesttag digest. Let'smake sure we do the same in ImageDelete stripping the tag ifdigesttag are present.This is related to and should hopefully fix the winlin build failures ??cc aaronlehmann johnstep dmcgowanSignedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Update dockerdistribution to bebbfadeecb;This fix updates dockerdistribution tobebbfadeecbfromeaaafdfbcdaaedChanges related to docker issueValidate insecure registry insecureregistry values PR This fix is needed for .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Convert script shebangs from binbash to usrbinenv bash;This is especially important for distributions like NixOS where binbash doesn't exist or for MacOS users who've installed a newer version of Bash than the one that comes with their OS. What I didSwapped binbash for usrbinenv bash. How I did itI used grep sed then manually verified each change as I added it. How to verify itRun the scripts and make sure bash is still invoked ? Description for the changelogUpdated shell script shebangs to use usrbinenv bash instead of hardcoding binbash A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix bash completion for logopt mode;Ref comment LKD PTAL       The text was updated successfully but these errors were encountered
add docs to describe experimental CLI argument squash to docker build;Signedoffby erxian evelynhsugmail.comHi This PR adds docs to describe the experimental CLI argument squash to docker build includes it's problem statement and usage which locates in dockerexperimentaldockerbuildwithsquash.md . What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Allow syncfilerange on supported architectures.;Using docker .. on a ppcle host running postgres tried with . to . gives the following warning when trying to flush data to disks which happens very frequently WARNING could not flush dirty data Operation not permitted.A quick dig in postgres source code indicate it uses syncfilerange to flush data which on ppele and arm is translated to syncfilerange for alignements reasons.But docker does not allow syncfilerange making postgres sad because it can not flush its buffers. armsyncfilerange is an ancient alias to syncfilerange the syscall was renamed in Linux .. when the same syscall was added for PowerPC.This diff make postgres docker and ppcle great again.       The text was updated successfully but these errors were encountered
Force copy on make install to avoid Text file busy error;When you attempt to manually install docker on a previous install copying binaries will fail with Text file busy error if docker is already running.Add f to cp will fix this behavior old binaries will be removed before copying the new ones.This issue has been encountered on ppcle arch.       The text was updated successfully but these errors were encountered
Inspect output on service without labels is an empty map instead of null fixes;Added code to output an empty map instead of null by the inspect command for labels of a service that has no labels. Fixes also changes 'null' output to an empty object for other types with labels secret node task network swarmSignedoffby Arash Deshmeh adeshmehca.ibm.com What I didThe output of inspect command for labels of a service that has no labels is currently 'null' which is inconsistent with other objects e.g. inspect output for labels of containers without labels is an empty object . This PR fixes this inconsistency by changing the output to '' when the service has no labels. How I did itAdded code which replaces nil labels maps on service objects with an empty map when retrieved by the daemon. How to verify itCreate a service docker service create name nolabels nginxalpineRun inspect on the service with Labels specified in format string.Without this PR docker service inspect format ' json .Spec.Labels ' nolabelsnullWith this PR included docker service inspect format ' json .Spec.Labels ' nolabels Description for the changelogThe inspect command outputs an empty json object i.e. instead of null for labels of a service that has no labels A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
fix typo;Signedoffby yupengzte yu.pengzte.com.cn What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
implement format for history with docs;What I didAdds the format option to the history command. Part of  How I did itRefactored history to use a formatter add the format flag How to verify itWrote unit tests to check that formatter is working correctly. Description for the
remove redundant colon introduced by mistake;Signedoffby allencloud allen.sundaocloud.ioremove redundant colon introduced by mistake thaJeztah pointed out this in pr commentping thaJeztah vdemeester What I didremove redundant colon introduced by mistake How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add missing link in deprecated.md;This fix adds a missing link in deprecated.md as v.. has been released.Deprecated In Release v.....Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Improve documentation of Version usage for Swarm API;This fix is an attempt to improve the documentation of Version usage for Swarm API in Swagger docs.As is shown in the docs updates Version field in Swarm API is a way to ensure safe concurrency and determinism so that multiple updates to the same swarm related objects Node Service etc will not unintentially overwrite each other.This fix fixes .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Add attachable for network object in swagger api docs;This fix adds Attachable property for network object in the documentation of Swagger API docsSignedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker psservice ls filter expose|publish';ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker service lsstack services format';ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'dockerd defaultshmsize';ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for docker log options 'maxbuffersize|mode';ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for missing 'docker plugin' commands and options;This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker build squash';ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker checkpoint' commands;ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker service logs' command;ref. This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker swarm unlock|unlockkey' commands;This can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for missing 'docker swarm init|update' options;Can be planned for ...Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Fix both logs commands to correctly handle errors;NB This PR is a workinprogress and does not contain unit tests it has been submitted for a design and highlevel code review so I don't waste a bunch of time if this fix is barking up the wrong treeThis PR is ready for full review and merging if there are no errors. What I diddocker logs is broken I think and has been for a long time. Specifically it's programmed to multiplex many output streams stdout and stderr through one http response and then demux the HTTP response in the CLI. This multiplexing and demultiplexing is done by dockerdockerpkgstdcopy which uses a stdWriter to write and StdCopy to copy to the output streams. StdCopy adds a byte header to the message which describes which stream the log message belongs to stdout or stderr.In apiserverroutercontainercontainerroutes.go line  select  case chStarted The client may be expecting all of the data we're sending to be multiplexed so send it through OutStream which will have been set up to handle that if needed. fmt.FprintflogsConfig.OutStream Error running logs job v\n err default return err  But outstream is not a stdWriter which can handled muxed streams it's just an https.ResponseWriter so the error message gets inserted verbatim into the response from the server no byte header is ever inserted. Then when the response is demuxed by StdCopy it looks at the first byte of that error that was inserted verbatim and sees that it doesn't match any known output stream stdout or stderr and so it returns an error which gets bubbled up to the user and displayed as Unrecognized input header and the numerical representation of the first byte usually which is E as in Error something bad happenedWe haven't caught this until now because errors in logging at that stage are very rare but they do happen as evidenced by this google search httpswww.google.comsearchqunrecognizedinputheaderIt has become an issue now however because docker service logs used the same errorhandling code verbatim and errors in docker service logs are relatively common.This PR fixes both docker logs and docker service logs to correctly handle errors that occur while logs are streaming. How I did itStdCopy has been modified to accept another stream header Systemerr which when demuxed causes StdCopy to return an error with whatever was packed into that stream. The container router and service router have both been modified to write to the output stream with a stdwriter muxed to Systemerr. How to verify itBefore applying patch do docker service create name test whatever docker service logs test and note the Unrecognized input header error.After applying patch repeat and note that a real error is displayed. Description for the changelogFixed rare and esoteric docker logs error and fixed related common but still esoteric docker service logs error. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add plugin socket related debug docs.;Signedoffby Anusha Ragunathan anusha.ragunathandocker.com       The text was updated successfully but these errors were encountered
Add Aliyun mirror support to hackinstall.sh;Signedoffby hyzhou.zhy hyzhou.zhyalibabainc.comAdd Aliyun mirror support to hackinstall.shI received an email today The https transformation for Aliyun mirror is complete. friism thaJeztahwe will just run thiscurl sSL httpsget.docker.com | sh s mirror AliyunTested in Aliyun ECS??Ubuntu .?CentOS. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
remove redundant code and better error msg;Signedoffby allencloud allen.sundaocloud.io What I didremove redundant code in swarmunlock.gobetter volume prune error message How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
remove unused headers in secretcreate.go;Signedoffby allencloud allen.sundaocloud.io What I didremove unused headers in secretcreate.go How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix some easy typos in cmd D;Signedoffby Aaron.L.Xu likexuharmonycloud.cn What I did fix typo How I did it code review How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add before the value of PublishedPort;Signedoffby yupengzte yu.pengzte.com.cn What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouragedexpectactually       The text was updated successfully but these errors were encountered
add link query in container rm api doc;Signedoffby allencloud allen.sundaocloud.io What I didadd link query in container rm api in swagger.ymltest from docker ..x to ..x same link query is missing add them back to api docs. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update FindNetwork to address network name duplications;What I didThis fix is part of the effort to address comment where issue arise when creating services because of the fact that multiple networks may share the same name within or across localswarm scopes. How I did itThe focus of this fix
Windows make.ps emit commit ID;Signedoffby John Howard jhowardmicrosoft.comvdemeester thaJeztah johnstepMinor followup to the changes to not send the .git directory during a build emits the commit ID in the output which otherwise isn't visible on RS CIeg before this change. INFO Building the test binaries at .... INFO make.ps starting at . INFO Git commit assumed from DOCKERGITCOMMIT environment variable. INFO Invoking autogen.... INFO Building daemon.... INFO Building client.... and after. INFO Building the test binaries at .... INFO make.ps starting at . INFO Git commit ffff assumed from DOCKERGITCOMMIT environment variable. INFO Invoking autogen.... INFO Building daemon...       The text was updated successfully but these errors were encountered
Windows Temporarily disable TestBuildLastModified;Signedoffby John Howard jhowardmicrosoft.comthaJeztah AkihiroSuda Temporarily fixes Looks like something has changed in the master busybox image so that e is no longer working on ls.       The text was updated successfully but these errors were encountered
Add awslogs multiline support;Signedoffby Justin Menga justin.mengagmail.com What I didThis PR adds multiline processing to the AWS CloudWatch logs driver providing functionality similar to the native AWS CloudWatch logs agent.The feature allows users to optionally specify multiline pattern matching logic using either a regular expression or a Python strftime expression meaning application events that span multiple lines e.g. application stack traces can be published to CloudWatch logs as a single event.The awslogsmultilinepattern and awslogsdatetimeformat log options have been addedawslogsdatetimeformat defines a multiline start pattern in Python strftime format. This option always takes precedence if both awslogsdatetimeformat and awslogsmultilinepattern are configured.awslogsmultilinepattern defines a multiline start pattern using a regular expression. This option is ignored if awslogsdatetimeformat is also configured. How I did itImplemented an event buffer that buffers log messages until a new multiline start pattern is matched. As soon as a new event is detected the event buffer is appendedflushed to the preexisting events slice for normal processing using the preexisting batch publishing mechanism.The implementation will immediately flush the event buffer if the maximum CloudWatch logs event size is reached appending the buffer to the events slice up to the maximum event size.The implementation also will only buffer up to the batch publishing frequency currently seconds. If a multiline event has been buffered for longer it will be flushed to the events slice for normal processing at the next batch processing ticker. This ensures a multiline message will not be buffered for a long period of time in the scenario where no further messages are sent by the application for an extended period of time the maximum amount of time a message can be buffered is batch publishing frequency or seconds How to verify itAssuming you have AWS access key ID and secret access key with permissions to a preexisting CloudWatch logs group called test in the Docker development container first start up the Docker daemon with AWS permissions Make sure we have accurate timeaptget install ntp yservice ntp start Compile and install Docker daemonhackmake.sh binary installbinary  Replace with your AWS settings must have permissions to write to the CloudWatch logs groupexport AWSREGIONuswestexport AWSACCESSKEYIDxxxxxexport AWSSECRETACCESSKEYxxxxx Start Docker daemon with AWS permissionsdockerd DNext run the examples below...Example using awslogsmultlinepatterndocker run it rm logdriverawslogs logopt awslogsgrouptest logopt awslogsmultilinepattern'ABCD' mycontainerWith the following container stdoutABCD First eventSome more linesAnother lineABCD Second event Two CloudWatch log events will be generatedEvent ABCD First eventSome more linesAnother lineEvent ABCD Second event Example using awslogsdatetimeformatdocker run it rm logdriverawslogs logopt awslogsgrouptest logopt awslogsdatetimeformat'Ymd' mycontainerWith the following container stdout First eventSome more linesAnother line Second event  Third event Three CloudWatch log events will be generatedEvent  First eventSome more linesAnother lineEvent  Second eventEvent  Third event Description for the changelogAdd AWS CloudWatch Logs multiline processing A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
reference Handle combination of tag and digest in AddReference;With the switchover to the unified reference package AddReference nolonger does the right thing when passed a reference that has both adigest and a tag. It would put both the digest in the tag in thereference stored in the repositories.json file which isn't the rightformat and would mean that neither docker run nor docker servicescould locate the image. This meant that a simple docker service createcommand like docker service create name foo busybox top would createa service that immediately went into a restart loop because it couldn'tuse the image that had been pulled.Fix AddReference to strip out the tag when both a tag and digest arespecified. We do this because we don't necessarily want to overwrite thetag when both a digest and tag are specified the tag is onlyadvisory.cc dmcgowan       The text was updated successfully but these errors were encountered
Add debug output to manifest list parsing;Fixes Per request for more debug info on how the engine deals withmultiplatform manifest list images this adds information about themanifest list entries and whether it found an osarch match and thedigest of the match.DockerDCO.Signedoffby Phil Estes estesplinux.vnet.ibm.com       The text was updated successfully but these errors were encountered
add ..x CHANGELOG to master;No description provided.        The text was updated successfully but these errors were encountered
print 'worker' join token after swarm init;the changed was introduced here by mistake fcdiffbfabecdceeaRcc cyli tonistiigi vdemeester       The text was updated successfully but these errors were encountered
Fix bash completion for docker service;Fixes Fixes  was cherrypicked into ..x but relied on a prerequisite refactoring eb from that was not present in this branch.As a consequence it calls dockerdaemonisexperimental instead of dockerisexperimental.I'm sorry about the confusion that the refactoring caused.At that time there were quite a few bash completion PRs pending and I forgot to update .Note This PR is against branch ..x so it can be abandoned if no .. release is created.       The text was updated successfully but these errors were encountered
Fix bash completion for start checkpoint;Bash completion for checkpoint was added in .There was a refactoring between its creation and merge which renamed a helper function used by it.This PR fixes so that it uses the new helper function.To trigger the broken behaviortype docker container start press tabExpected result bash completion of optionsActual result a message bash dockerisexperimental command not found is inserted at the cursor position.       The text was updated successfully but these errors were encountered
split dockerapiswarmtest.go into multiple files;Signedoffby allencloud allen.sundaocloud.ioI found that almost all the api swarm test cases are located in one file dockerapiswarmtest.go including node test service test swarm test task test. The big file makes me feel difficult to write test case and I think it will definitely make it hard to maintain.Then I hope to split the dockerapiswarmtest.go into several test files dockerapiswarmservicetest.go dockerapiswarmnodetest.go dockerapiswarmsecrettest.go and so on. What I didsplit dockerapiswarmtest.go into several test filemove dockerapiserviceupdatetest.go into dockerapiswarmservicetest.go How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fix the rm error message when a container is restartingpaused;NOM
Fix poule configuration;Poule configuration is broken by yes that's me.This is an emergency fix I'll work on having proper validation on the yaml format before merging. In the meantime this one was verified manually poule validate repositoryconfig poule.yml  repository configuration file is valid       The text was updated successfully but these errors were encountered
plugin check errors;Signedoffby Antonio Murdaca runcomredhat.com       The text was updated successfully but these errors were encountered
make secret update support name and id prefix;Signedoffby allencloud allen.sundaocloud.ioThis PR makes daemon support update secret by receiving secret's name. name prefix id and id prefix. What I didwhen updating secret in daemon daemon gets the secret first by nameid prefix then update the secret. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
add testcase check connect.EndpointConfig not nil;Signedoffby chchliang chen.chuanliangzte.com.cn What I didIn clientnetworkconnecttest.go file func TestNetworkConnectt testing.T add branch check connect.EndpointConfig not nil How I did it How to verify it       The text was updated successfully but these errors were encountered
bump engine API to .;. is used by Docker .. so master should be bumped to .cc thaJeztah dnephin       The text was updated successfully but these errors were encountered
Suppressing image digest in docker ps;Signedoffby Nishant Totla nishanttotlagmail.comThis PR suppresses digest in docker ps requiring the use of notrunc if digest is to be seen.Without notrunc docker ps aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESce alpine sleep minutes ago Exited About a minute ago nothingdb alpinelatest sleep minutes ago Exited About a minute ago tagdfab alpine sleep minutes ago Exited About a minute ago digesteefc alpinelatest sleep minutes ago Exited About a minute ago taganddigestWith notrunc docker ps a notruncCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMEScebfbdabefcbdabdc alpine sleep minutes ago Exited About a minute ago nothingdbeabdcffdbecbfcadcefbee alpinelatest sleep minutes ago Exited About a minute ago tagdfabaceffacceabdaef alpineshadfbdaaebcaebdfabddbdfeccbde sleep minutes ago Exited About a minute ago digesteefcedfacfeceddfffaabddde alpinelatestshadfbdaaebcaebdfabddbdfeccbde sleep minutes ago Exited About a minute ago taganddigestThis follows up from to make behavior consistent with service lsps.       The text was updated successfully but these errors were encountered
Few daemon duplication refactor;Few small refactoring to limit duplication where I thought I could. For some part this is more a try to get opinion than a definite refactoring. It is separate in separate commit to ease the review and also to remove if the refactoring doesn't make sense.The refactor happens mainly in cluster package and at some part of the daemon one.cc aaronlehmann tonistiigi AkihiroSuda yongtang cpuguyHopefully this does not break anything ????       The text was updated successfully but these errors were encountered
Update SwarmKit to edfbfebdffdfa;This fix updates SwarmKit to edfbfebdffdfa.Notable changes since last update cabaaeccdbecdFix duplicated ports allocation with restarted swarm. Docker issue Topologyaware scheduling Docker PR Docker issue was labeled .. though it was advised that related SwarmKit changes only to be merged to master based on the feedback dockerswarmkit commentThis fix fixes master only.Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Randomly assigned pull requests after weeks;Add a daily job to randomly assign pull requests which have been opened for more than two weeks.       The text was updated successfully but these errors were encountered
refactor clusterhelper.go and split cluster.go into multiple files;Signedoffby allencloud allen.sundaocloud.ioThis PR did two thingssplit clustercluster.go into multiple files services.go nodes.go networks.go swarm.go tasks.gorefactor clusterhelper.go to make it more efficient.I found that when docker is in Swarm Mode all the handlers about swarm cluster is located in clustercluster.go except secret handlers. We could split clustercluster.go into several parts like secrets.go services.go swarm.go nodes.go network.go task.go and so on. This explains the purpose of my first part of work.For second part of this pr's work I refactor the clusterhelper.go I think I did not change the original logic while I changed to a more reasonable way like return fast like avoid a long block and so on. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
remove and for get nodes endpoint and add for secret update;Signedoffby allencloud allen.sundaocloud.ioWe know that GET nodes endpoint does not take parameters so there will no status code of . In addition this endpoint is not going to get the specific node so no status code of returned either.Since secret operation is supported in Swarm mode when a node is not in Swarm Mode we specify the status code to be to show service unavailable. So I added for this endpoint in swagger.yml. What I didremove and for GET nodes endpointadd for POST secretsidupdate endpoint How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add bash completion for docker plugin upgrade;Ref As the corresponding feature will be added in .. this PR should go there as well.Ping sdurrheimer for zsh completionNotes for reviewersThe first nonoption is completed as plugin nametag. Completions that include require ltrimcoloncompletions so that they work on the part after the colon.The following argument is completed to the available plugin names without the tag but with a colon appended.       The text was updated successfully but these errors were encountered
fix the type;Signedoffby yupengzte yu.pengzte.com.cn What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add PORTS field for docker service ls ingress;This fix is related to comment where docker service ls does not show PORTS information like docker service ps.This fix adds PORTS fields for services that publish ports in ingress mode.Additional unit tests cases have been updated.This fix is related to .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
add filters for plugin list endpoint in swagger.yml;Signedoffby allencloud allen.sundaocloud.ioI fount that in swagger.yml there is filters query missing. This pr adds the missing filters in swagger.yml.The filter related code is here httpsgithub.comdockerdockerblobmasterpluginbackendlinux.goLL What I didadd filters for plugin list endpoint in swagger.ymlping anusharagunathan thaJeztah vdemeester       The text was updated successfully but these errors were encountered
make secret ls support filters in CLI;Signedoffby allencloud allen.sundaocloud.ioThis pr makes command docker secret ls support filter.I found that in daemon API we have already supported secret list filter query. While I found that in docker CLI there is no support of this filter yet. What I didrename .secretls.go to .secretlist.gosupport filter in secret ls commandadd a test case for docker secret ls filteradd more filter options in swagger.ymlupdate command line reference of docker secret ls. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Correct fmt.Fprintf and t.Fatalf;Signedoffby Helen Xie chenjgharmonycloud.cn What I didCorrect fmt.Fprintf and t.Fatalf because the values used for formatting text does not appear to contain a placeholder. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Check parameter ip ip linklocalip in docker network connect;Signedoffby chchliang chen.chuanliangzte.com.cn What I didExecute docker network connect ipaa network xxx but successfuli think ip address invalidshould be failure. like ip linklocalip How I did itTo add check code in containercontainer.goif epConfig nil ipam epConfig.IPAMConfigif ipam nil var ipList net.IPip ip linkip net.IPfor ips range ipam.LinkLocalIPs if linkip net.ParseIPips linkip nil ips return nil fmt.ErrorfInvalid linklocal IP addresss ipam.LinkLocalIPsipList appendipList linkipif ip net.ParseIPipam.IPvAddress ip nil ipam.IPvAddress return nil fmt.ErrorfInvalid IPv addresss ipam.IPvAddressif ip net.ParseIPipam.IPvAddress ip nil ipam.IPvAddress return nil fmt.ErrorfInvalid IPv addresss ipam.IPvAddresscreateOptions appendcreateOptionslibnetwork.CreateOptionIpamip ip ipList nilfor alias range epConfig.Aliases createOptions appendcreateOptions libnetwork.CreateOptionMyAliasalias How to verify itdocker network connect ipaa network bbfError response from daemon Invalid IPv addressaa       The text was updated successfully but these errors were encountered
..x Bump api version to .;this PR only takes care of ..x for now I'll fix master later.Let's keep things simple we simply say ..x is API version . and we lock . to the tag v.. as shown here dockerdocker.github.ioping dnephin thaJeztah       The text was updated successfully but these errors were encountered
Cli fixups;Two smaller commits address dockerdocker.github.io and remove an unused GIF from docsreferencecommandline.The big commit standardizes formatting of CLI reference commandsCommand name should be a HOnly Description Examples and Related Commands should be HChanged 'Related information' heading to 'Related commands' since it is only linking commandsAdded some examples where relevantThese changes will enable us to automate use of the CLI reference files in generated YAML output.cc FrenchBen       The text was updated successfully but these errors were encountered
Add plugin debug docs.;Doc fix for Signedoffby Anusha Ragunathan anusha.ragunathandocker.com       The text was updated successfully but these errors were encountered
Carry Bump gounits;Carry cc thaJeztah LKD cpuguy tiborvass icecrimeTo include dockergounitsSignedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Update docker stack experimental notes;Update command usage and help.Carrying and cc thaJeztah AkihiroSuda dnephinSignedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Hide command options that are related to Windows;NOM
fix some types on errors and form;Signedoffby kaiwentan kaiwentanharmonycloud.cn What I didServer should be server add missing period How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
compose fix environment interpolation from the client;What I didFix newly support environment interpolation from the cliente.g.services x environment needs to be propagated from the client FOO How I did itPlease refer to the code. How to verify itPrepare following filesdoc
Update dependency for Grayloggogelf;Signedoffby Aaron.L.Xu likexuharmonycloud.cn What I did Update dependency for Grayloggogelf How I did it Well actually I just try to use govendor and the nChunksI size was updated by joschi. How to verify it please test it or fetch latest code for gogelf by own Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Avoid TestExecWindowsOpenHandles timing out;Signedoffby John Howard jhowardmicrosoft.comFound while running Windows CI against nanoserver with a bit busybox image that is build slightly differently. This test currently has an incorrect assumption and can end up stuck in the for loop forever before CI times out. seconds is a reasonable duration to loop for waiting.?I'll probably need to modify this test in the future too but at least this avoids the?possible infinite loop.darrenstahlmsft FYI.       The text was updated successfully but these errors were encountered
Fix panic of docker stats format .Name all;This commit fixes panic when execute stats commanduse format .Name with all when there're exited containers.use format .Name while stating exited container.The root cause is when stating an exited container the result from theapi didn't contain the Name and ID field which will make formatprocess panic.Panic log is like thispanic runtime error slice bounds out of range recoveredpanic runtime error slice bounds out of rangegoroutine runningpanicxbf xcusrlocalgosrcruntimepanic.go xatexttemplate.errRecoverxceusrlocalgosrctexttemplateexec.go xadpanicxbf xcusrlocalgosrcruntimepanic.go xgithub.comdockerdockerclicommandformatter.containerStatsContext.Namexcx xgosrcgithub.comdockerdockerclicommandformatterstats.goxreflect.Value.callxbaa xc x xbe xxbcf x x xdb x ...usrlocalgosrcreflectvalue.go xcreflect.Value.Callxbaa xc x xbcf x xxc xb xbusrlocalgosrcreflectvalue.go xatexttemplate.state.evalCallxc xbaa xcx xbaa xc x xfa xceaxcde ...usrlocalgosrctexttemplateexec.go xSignedoffby Zhang Wei zhangweihuawei.comThis is part of here is the client fix daemon fix is still under discussion.       The text was updated successfully but these errors were encountered
Fix grammatical error in swarmleave.md;Correct this sentence so it reads correctly. to on a manager should beon a manager.       The text was updated successfully but these errors were encountered
getAllNetworks unnecessary walks all the networks;libnetwork controller Networks already returnsa copy list. Also Networks correctly skips anynetwork which ahs already been marked for deletionwhile getAllNetworks implementation bypasses this. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
ppcle and sx fixes for manpages;Extension of Fixes manpages for p and z by downloading a specific versionof go instead of relying on the distro version.Note something may need to be done for aarch too but I don't have a machine that I can test that on.Signedoffby Christopher Jones tophjlinux.vnet.ibm.comcc vieux justincormack andrewhsu       The text was updated successfully but these errors were encountered
Fix command.PromptForConfirmation to accept enter for the N default;What I didThis adjusts command.PromptForConfirmation in clicommandutils.go to use bufio's ReadLine rather than using fmt.Fscan for reading input which makes Enter properly accept the default value of No as one would expect. How I did itThis n
Update swagger spec for plugin upgrade;This was added in c but spec wasnot updated.       The text was updated successfully but these errors were encountered
Show stacktrace in daemon logs only if internal error;Signedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
Fix the create API when fromSrc has a bad URL;What I didWhen a bad URL is provided in the fromSrc parameter the response status code is set to although the download fails.This commit fixes this by making sure the resource is available.Another problem this commit fixes is when sending a URL w
Update Go Yaml;changes license to Apache from LGPLvsmall fixes for Go . parsing.Signedoffby Justin Cormack justin.cormackdocker.com       The text was updated successfully but these errors were encountered
use golang .. for building man pages;What I didUpdated manDockerfile to use golang .. when building man pages. This is needed because builds of debian packages are failing during man page generation because the golang installed is version . which does not have context packagedocke
Add stopsignal for service create and service update;What I didThis fix tries to address the issue raised in where it was not possible to specify stopsignal for docker service create and docker service update in order to use special signal to stop the container. How I did itThis fix adds
remove Register return value;Since Register will never return errremove the return value       The text was updated successfully but these errors were encountered
Fix Windows docker stats showing Linux headers;What I didThis fix is an attempt to fix issue raised in where docker stats on Windows shows Linux headers if there is no containers in stats.The reason for the issue is that in case there is no container a header is faked inhttpsgithub.c
update git hoist powershell setttings to top and get git simpler;What I didsimplified the Windows Dockerfile a little How to verify itdocker build t test f dockerfile.windows .docker run e DOCKERGITCOMMITfoo test hack\make.ps Binary      
Validate insecure registry insecureregistry values;What I didThis fix is based on commentCurrently the insecure registry is only checked to see if it contains scheme https or not. No full validation is done and this caused many confusions like in .This fix tries to address the
Add compose support of attachable in networks;What I didThis fix tries to address the issue raised in where it was not possible to specify attachable flag for networks in compose format. How I did itThis fix adds the support of attachable for compose v. format. How to verify itAddit
Add label filter for docker system prune;What I didThis fix tries to address the issue raised in where it was not possible to mask these items like important nonremovable stuff from docker system prune. How I did itThis fix adds label and label field for filter in system prune
add status code for api endpoint events;Signedoffby allencloud allen.sundaocloud.ioI found that in master and ..x ..x there is a status code of for events endpoint just add this status code.code is like belowreturn errors.NewBadRequestErrorfmt.Errorfsince time s cannot be after until time s r.Form.Getsince r.Form.Getuntilin master code is here httpsgithub.comdockerdockerblobmasterapiserverroutersystemsystemroutes.goLin docker .. code is here httpsgithub.comdockerdockerblobv..apiserverroutersystemsystemroutes.goLin docker .. code is herehttpsgithub.comdockerdockerblobv..apiserverroutersystemsystemroutes.goLWhile in docker .. there is no such status code of . What I didadd status code of for events endpoint in swagger.ymladd status code of for events endpoint in api docs .ping thaJeztahIt is about docker ..x and ..x I think there is no need to separate PRcommits there right How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Allow format to use different delim in table format;What I didThis fix is an attempt to address commentCurrently when specify table format with table format table .ID... the delimiter in the header section of the table is always \t. That is actually different from the content of the
clusterexecutor check mounts at start;While it is important to not create controllers for an invalid taskcertain properties should only be checked immediately before use. Earlyhost validation of mounts prevents resolution of the task Executor whenthe mounts are not relevant to execution flow. In this case we have acheck for the existence of a bind mount path in a creation function thatprevents a task controller from being resolved. Such early validationprevents one from interacting directly with a controller and result inunnecessary error reporting.In accordance with the above we move the validation of the existence ofhost bind mount paths to the Controller.Start phase. We also callthese checks as they are valid mounts but reference nonexistentpaths.Signedoffby Stephen J Day stephen.daydocker.comRelated to See comment for a concrete analysis.       The text was updated successfully but these errors were encountered
Parameter name in GetPluginPrivileges is remote;According to the behavior of Engine .. as well as code in master the name of the query param for pluginsprivileges is remote but the swagger file currently lists name instead.       The text was updated successfully but these errors were encountered
. Update go connections .;Changes windows message about system certificates from warn to info level. Ensures that server does not attempt to load an empty ca file.fixes Like but against .. Uses httpsgithub.comdockergoconnectionstreedocker. instead of master which only contains windows fix.       The text was updated successfully but these errors were encountered
Update goconnections package;Changes windows message about system certificates from warn to info level. Ensures that server does not attempt to load an empty ca file.fixes fixes dockergoconnections       The text was updated successfully but these errors were encountered
. Add plugin upgrade;ping vieux       The text was updated successfully but these errors were encountered
Topologyaware scheduling;This adds support for placement preferences in Swarm services design doc dockerswarmkit swarmkit PR dockerswarmkit. This feature allows services to be balanced over nodes based on a particular userdefined property such as which datacenter or rack they are located in.Convert PlacementPreferences between GRPC API and HTTP APIAdd placementprefadd and placementprefrm to CLIAdd support for placement preferences in service inspect prettyAdd integration testcc aluzzardi dongluochen dnephin       The text was updated successfully but these errors were encountered
Refactor use of shared completion functions;For several commands options are so similar that they share the completion function in bash completiondockercontainercreate delegates to dockercontainerrundockerservicecreate delegates to dockerserviceupdateIn review AkihiroSuda remarkedThe name of dockerserviceupdate is confusing because it is also related to nonupdate.This PR improves the situation by renaming the shared functions to dockercontainerrunandcreate and dockerserviceupdateandcreate.       The text was updated successfully but these errors were encountered
Fix RefCounter count return;Signedoffby Alfred Landrum alfred.landrumdocker.com       The text was updated successfully but these errors were encountered
update incorrect comments of CheckpointList;Signedoffby allencloud allen.sundaocloud.ioupdate incorrect comments of CheckpointList What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add bash completion for dockerd defaultshmsize;Ref        The text was updated successfully but these errors were encountered
Add bash completion for stack services|service ls format;Ref Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
add missing filter type in swagger.yml and sort filter type in alphabets;Signedoffby allencloud allen.sundaocloud.ioI found that there are some missing types about filter in daemon API in swagger.yml. Here is the missing type listin GET containersjson filter type expose and publishin GET events filter type pluginin GET volumes filter type labelSecondly I sort the all filter type in swagger.yml sorted by alphabet sequence.Thirdly I add filter type volume network and isolation in command ps and sorted this filter types. Also update events command line reference to sort filter types. What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
add status code for plugin api endpoint enable and disable;Signedoffby allencloud allen.sundaocloud.ioThis pr adds missing status code for plugin api endpoint enable and disableping anusharagunathan What I didadd status code for plugin api endpoint enable and disable in swagger.yml tested in docker ..add status code for plugin api endpoint enable and disable in api doc. tested in docker..exeperimental How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
update status code for network api;Signedoffby allencloud allen.sundaocloud.iofixes  What I didadd status code for api endpoint GET networksid or name status code is from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goLadd status code for api endpoint DELETE networksid or name status code is from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goLupdate network api endpoints' url replace id with id or name. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fixes take reference to RWLayer while committingexporting;fixes Take an extra reference to rwlayer while the container is beingcommitted or exported to avoid the removal of that layer.Also add some checks before commitexport.coolljt thaJeztah cpuguy PTAL ?Signedoffby Yuanhong Peng pengyuanhonghuawei.com       The text was updated successfully but these errors were encountered
Add NILVALUE for STRUCTUREDDATA in RFC logs;RFC httpstools.ietf.orghtmlrfcsection. requires thatSTRUCTUREDDATA be present either as NILVALUE or as one or moreSDELEMENT items. Because Docker doesn't ever create any SDELEMENT itemsthe format should output the NILVALUE instead. This resolves parsing issuesin various RFC compliant syslog servers. Fixes but does notaddress the suggestion there for allowing the contained application tosupply a SDELEMENT value.Signedoffby Mark Parker godefroigmail.com What I didAdd NILVALUE to the RFC format strings How I did it How to verify it Description for the changelogCorrect RFC syslog log message formatting A picture of a cute animal not mandatory but encouraged .. oo         The text was updated successfully but these errors were encountered
..x Vendoring libnetwork b for ..x;This is the counterpart of for ..x branch       The text was updated successfully but these errors were encountered
Vendoring libnetwork f;Fixes Fixes Also changes toease the load on external kv stores when retrieving tp level network objectsexpose nw db node discovery notifications to external driversharden ipvs service creationremoval logic       The text was updated successfully but these errors were encountered
Add Windows specific exec root for plugins.;Fixes Signedoffby Anusha Ragunathan anusha.ragunathandocker.com       The text was updated successfully but these errors were encountered
Windows Remove unused commandLine;Signedoffby John Howard jhowardmicrosoft.comThis?removes commandLine which is unused in the Windows implementation of libcontainerd. It was?originally introduced for a minimal implementation of the?top call but was superceeded later by platform support from HCS but?not removed.       The text was updated successfully but these errors were encountered
Adding support for docker max restart time;Signedoffby milindchawre milindchawregmail.comFixes  What I didAdded support for max restart time. How I did itAdded maxRestartTimeout this is the max restart timeout set to minute. How to verify itRun a container with restart policy always and ensure this container always crash.docker run restartalways alpine binsh c 'sleep exit 'The max timeout between the restart of this container should be minute. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add example for devicecgrouprule to create reference;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comDoc follow up for        The text was updated successfully but these errors were encountered
List Networks need not pull all the endpoints;Pulling all the endpoints is a very resource heavy operation especiallyfor Globalscoped networks with a backing KVStore. Such heavy operationscan be fetched for individual network inspect. These are unneccessaryfor a simple network list operation.Signedoffby Madhu Venugopal madhudocker.com       The text was updated successfully but these errors were encountered
Fixing issue of docker top command failure when dealing with m option;Signedoffby catinthesky yaozaiyonghotmail.com What I didIgnore the ps m command's thread line that has character as pid which can not be converted into a int. How I did itWhen detecting pid column is ignore this line and continue forward. How to verify itUsing command docker top m to check if the problem of Unexpected pid '' strconv.ParseInt parsing invalid synta disappeared Description for the changelog A picture of a cute animal not mandatory but encouragedFix        The text was updated successfully but these errors were encountered
Add bash completion for dockerddocker run logopt maxbuffersize|mode;Ref Also updated the link to the documentation which moved to docker.github.io.According to the PRadded builtin logopts that work on all logging drivers mode blocking|nonblocking and maxbuffersize e.g. m which enables a nonblocking log bufferthe new options are common to all log drivers so I created a new variable for common options.QuestionThe log options env labels and tag seem to be global too. But in the documentation they are missing for selected driversawslogs and logentries do not support any of themgcplogs and jsonfile are missing tagIs the documentation wrong here Can some of these options be promoted to the common options       The text was updated successfully but these errors were encountered
referencecommandline small tfix;Signedoffby Ma Shimiao mashimiao.fnstcn.fujitsu.com What I didsmall tfix       The text was updated successfully but these errors were encountered
Update API history and man page for filter exposepublish;This fix updates API history and man page fordocker ps filter exposepublish from the feedback commentSignedoffby Yong Tang yong.tang.githuboutlook.comcc thaJeztah       The text was updated successfully but these errors were encountered
Make markdown for man pages of docker container ... consistent;This fix updates the markdown for man pages of docker container ...so that they are consistent. The changes are based on feedback comment commentUse H as neededUse unrpiviledged prompt instead of This PR covers files under mansrccontainer.mdSignedoffby Yong Tang yong.tang.githuboutlook.comcc thaJeztah       The text was updated successfully but these errors were encountered
Support netcontainerNameOrID for windows Shared Pod Network;NOM
Windows Unify workdir handling;Signedoffby John Howard jhowardmicrosoft.comWorking directory processing was?handled differently for HyperV and WindowsServer containers as annotated in the builder documentation updated in this PR. For HyperV containers the working directory set by WORKDIR was not created. This PR makes HyperV containers work the same as Windows Server containers and the same as Linux.swernli As discussed offline. PTAL.Example only applies to HyperV containers so not reproducible under CI environmentDockerfileescapeFROM microsoftnanoserverWORKDIR c\installerENV GOROOTc\installerADD go.exe .RUN go helpRunning on Windows Server using docker master without this change but with daemon set to?execopt isolationhyperv as it would be for Client operating systems.PS E\go\src\github.com\docker\docker dockerd g c\control execopt isolationhypervtimeT. levelinfo msgWindows default isolation mode hypervtimeT. levelinfo msggraphdriver using prior storage driver windowsfiltertimeT. levelinfo msgGraph migration to contentaddressability took . secondstimeT. levelinfo msgLoading containers start.timeT. levelinfo msgLoading containers done.timeT. levelinfo msgDaemon has completed initializationtimeT. levelinfo msgDocker daemon commitc graphdriverwindowsfilter version..devFirst with no explicit isolationPS E\docker\build\unifyworkdir docker build nocache .Sending build context to Docker daemon . MBStep FROM microsoftnanoserver bcbcaStep WORKDIR c\installer efdRemoving intermediate container caStep ENV GOROOT c\installer Running in eac bRemoving intermediate container eacStep ADD go.exe . eacRemoving intermediate container dccebStep RUN go help Running in efeebbbcontainer efeebbbabccdcebadccdecb encountered an error during CreateProcess failure in a Windows system call The directory name is invalid. xb extra info ApplicationNameCommandLinecmd S C go helpUserWorkingDirectoryC\\installerEnvironmentGOROOTc\\installerEmulateConsolefalseCreateStdInPipetrueCreateStdOutPipetrueCreateStdErrPipetrueConsoleSizePS E\docker\build\unifyworkdirThen?forcing process isolationPS E\docker\build\unifyworkdir docker build isolationprocess nocache .Sending build context to Docker daemon . MBStep FROM microsoftnanoserver bcbcaStep WORKDIR c\installer ccRemoving intermediate container cecStep ENV GOROOT c\installer Running in bdecee bbbRemoving intermediate container bdeceeStep ADD go.exe . eacfbRemoving intermediate container deedaStep RUN go help Running in eaaaffCannot mkdir C\installer is not a directoryPS E\docker\build\unifyworkdirNow compare the same results after this PR. Again first with no explicit isolation defaulting to HyperV containers as that's what the daemon it set to note it now succeeds ?PS E\docker\build\unifyworkdir docker build nocache .Sending build context to Docker daemon . MBStep FROM microsoftnanoserver bcbcaStep WORKDIR c\installer ffcRemoving intermediate container bcbfffStep ENV GOROOT c\installer Running in cadd aababRemoving intermediate container caddStep ADD go.exe . dfafRemoving intermediate container dcafffeStep RUN go help Running in bdffGo is a tool for managing Go source code.Usage go command argumentsThe commands are build compile packages and dependencies clean remove object files doc show documentation for package or symbol env print Go environment information fix run go tool fix on packages fmt run gofmt on package sources generate generate Go files by processing source get download and install packages and dependencies install compile and install packages and dependencies list list packages run compile and run Go program test test packages tool run specified go tool version print Go version vet run go tool vet on packagesUse go help command for more information about a command.Additional help topics c calling between Go and C buildmode description of build modes filetype file types gopath GOPATH environment variable environment environment variables importpath import path syntax packages description of package lists testflag description of testing flags testfunc description of testing functionsUse go help topic for more information about that topic.The command 'cmd S C go help' returned a nonzero code And the same with forcing process isolation. Also works ?PS E\docker\build\unifyworkdir docker build isolationprocess nocache .Sending build context to Docker daemon . MBStep FROM microsoftnanoserver bcbcaStep WORKDIR c\installer fbcceRemoving intermediate container cdStep ENV GOROOT c\installer Running in badbf ebfecRemoving intermediate container badbfStep ADD go.exe . ebcRemoving intermediate container aaaafdStep RUN go help Running in aeGo is a tool for managing Go source code.Usage go command argumentsThe commands are build compile packages and dependencies clean remove object files doc show documentation for package or symbol env print Go environment information fix run go tool fix on packages fmt run gofmt on package sources generate generate Go files by processing source get download and install packages and dependencies install compile and install packages and dependencies list list packages run compile and run Go program test test packages tool run specified go tool version print Go version vet run go tool vet on packagesUse go help command for more information about a command.Additional help topics c calling between Go and C buildmode description of build modes filetype file types gopath GOPATH environment variable environment environment variables importpath import path syntax packages description of package lists testflag description of testing flags testfunc description of testing functionsUse go help topic for more information about that topic.The command 'cmd S C go help' returned a nonzero code PS E\docker\build\unifyworkdirfriism thaJeztah This might not sure will let you guys make the call be an important?one to pull into?.. and CS in particular for client container scenarios. Server scenarios it's not so impactful as the default isolation is processWindows Server containers.       The text was updated successfully but these errors were encountered
more descriptive error for checkpoint ls for non existent containers;Signedoffby Krasi Georgiev krasivipconsult.solutionscloses  What I didadded server reply status code change to return the conainernofound error type How I did itinstead of printing the error message from the server it checks the return code and if it is not found it prints the containerNotFoundError error type How to verify itdocker checkpoint ls ....docker checkpoint ls noneexistent Description for the changelogmore descriptive message for checkpoint ls on non existing containers Notenot sure if it is by design but docker checkpoint ls .... returns not found not because it doesn't find the container but because it doesn't find the endpoint.Gorilla mux translates the call to containers....checkpoints checkpoints and it returns page not found error where containersnoexistentcheckpoints returns container not found.it is the same for docker inspect .... or any other endpoint that is in the format endpointcontaineridmethod the client only checks if the returning code i so it doesn't matter in this case but the code might need refactoring to check for a valid container name similar to the reserveName function in the names.go fileif validContainerNamePattern.MatchStringstrings.TrimPrefixname return fmt.ErrorfInvalid container name s only s are allowed name validContainerNameChars       The text was updated successfully but these errors were encountered
If caller specifies label overrides don't override security options;If a caller specifies an SELinux type or MCS Label and still wants toshare an IPC Namespace or the host namespace we should allow them.Currently we are ignoring the label specification if ipcmodcontaineror pidmodehost.Signedoffby Daniel J Walsh dwalshredhat.com What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
..x Revendor swarmkit to cfdfdfedef;Includes dockerswarmkitcc dongluochen vieuxPartially fixes        The text was updated successfully but these errors were encountered
..x bump RunC libcontainer to fix SELinux regression;This bumps RunC and libcontainer to fix a regressionin . that caused SELinux labels to not beapplied correctly.diff is httpgithub.comdockerrunccomparefaafceeabebee...dfbdfdabedebddfFor more information about this change see the discussion on opencontainersrunc comment and opencontainersrunc commentping cpuguy runcom rhatdan PTAL       The text was updated successfully but these errors were encountered
do not fail fast when executing inspect command;Signedoffby allencloud allen.sundaocloud.iofixes do not fail fast when executing inspect command.Current if user executes a command like docker network inspect nonexist exist exist it will fail fast. Likerootubuntu docker network lsNETWORK ID NAME DRIVER SCOPEbbdf allen bridge localfdaaadff bridge bridge localdedb dockergwbridge bridge localdafbc host host localzsybtvchu ingress overlay swarmaffc none null localrootubuntu docker network inspect nonexist bridge hostError No such network nonexistThis PR tries to fix this improper fast failing. What I did How I did it How to verify itChoose an inspect command in which nonexistent object locates at the head and check if it fails fast.rootip .docker..dev network inspect allen allen host  Name host Id ceafddcddadefecbacddcdef Created TZ Scope local Driver host EnableIPv false IPAM  Driver default Options null Config   Internal false Attachable false Containers  Options  Labels  Error No such network allenError No such network allen Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
.. rc cherrypicks;Update systemd dropin link Revendor Microsoftgowinio v.. plugin use pkgerrors in more places Add bash completion for docker checkpoint install dirmngr if needed        The text was updated successfully but these errors were encountered
Add markdown for man page of docker plugin ls;This fix adds markdown for man page of docker plugin lsbased on the feedback commentSignedoffby Yong Tang yong.tang.githuboutlook.comcc thaJeztah       The text was updated successfully but these errors were encountered
Windows make.ps validate go version;Signedoffby John Howard jhowardmicrosoft.comjohnstep FYI. Another minor tweak to make.ps to do?what?CI used to do before it took the go installer out of the container to ensure the host and container were in sync.?For local?builds eg running make.ps Binary outside of a container this ensures that the version of GO installed on the host is?correct.I just?got caught out my dev box still had version .. whereas master is currently at ...?You now get this additional warningE\go\src\github.com\docker\docker jjhmakecheckgoversion make.ps clientINFO make.ps starting at WARNING Not running in a container. The result might be an incorrect build.WARNING Building with golang version ... You should update to ..INFO Invoking autogen...INFO Building client... . \ \ | | | | \|  | \ | \ \ | \ \ \INFO make.ps ended at E\go\src\github.com\docker\docker jjhmakecheckgoversion       The text was updated successfully but these errors were encountered
Add missing build tag for stack tests;Addresses missing build tag from        The text was updated successfully but these errors were encountered
Improve bash completion for docker plugin enable|disable;Now that we can filter plugins by their enabled state bash completion for docker plugin enable and docker plugin disable can be improved so that only plugins with matching state are completed.Ref Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Add bash completion for docker plugin ls filter;Ref Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Windows Make.ps default to build binaries;Signedoffby John Howard jhowardmicrosoft.comjohnstep Minor tweak to make.ps which makes local development outside of a container on Windows a tiny bit easier for the most common operation. The default for running make.ps is now to build the binaries rather than throw an error. Hence can just?run make.ps rather than?explicitly doing make.ps Binary       The text was updated successfully but these errors were encountered
Add bash completion for docker ps filter expose|publish;Ref Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Followup of Use default driver for IPAM if none;Follow up for in master this timeWe use the 'default' driver if none is specified.Fix Fix cc dnephin icecrime thaJeztah mavenugo vieux??Signedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
some grammatical errors;carries closes ping LKD vdemeester PTAL       The text was updated successfully but these errors were encountered
Fix for in docs;dockerdocker.github.io       The text was updated successfully but these errors were encountered
Fix some data races;After running the test suite with the race detector enabled I foundthese gems that need to be fixed.This is just round one sadly lost my test results after I built thebinary to test this... whoops       The text was updated successfully but these errors were encountered
install dirmngr if needed;as of Ubuntu Yakkety dirmngr is now in a separatepackage see httpsbugs.launchpad.netubuntusourceaptbugthis patch updates the install script to installthe dirmngr package if it's not installed.fixes ... I hope because DigitalOcean was having issues so I couldn't spin up a droplet to test ?       The text was updated successfully but these errors were encountered
plugin use pkgerrors in more places;Also provide stack trace output in daemon logs.Signedoffby Tibor Vass tibordocker.com       The text was updated successfully but these errors were encountered
Revendor Microsoftgowinio v..;Signedoffby John Howard jhowardmicrosoft.comFixes?There was a length check error in gowinio causing an invalid filename on alternate datastreams as described in . This is fixed in Microsoftgowinio v..swernli       The text was updated successfully but these errors were encountered
Add tracking to elided layer pulls.;Today if I pull an image from multiple repositoriesregistries only the one from which the layer is originally downloaded is Registered this inhibits the docker client's ability to mount a layer from any of these secondary repositories even if that secondary repository is the only repository in which a given layer preexists for a particular registry domain.For example if I pull docker pull a.comfoobar docker pull b.combazblahAny layers that are shared between these will be associated with the first repository. So if I turn around and push docker tag b.combazblah b.combloopblop docker push b.combloopblopSince the client has only associated the common layers with a repository on registry a.com and crossrepository mounting only works intraregistry no mounting will be attempted for the common layers and they will be reuploaded even though they exist on registry b.com.This change adds the same metadata registration logic that exists for when a layer pull completes to the logic for when a layer download is elided.       The text was updated successfully but these errors were encountered
..x Update containerd to version aadbdbaddeeadeefaed;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comChangelogdockerarchivecontainerdaad Prevent panic if exec process dies before sync channel is createdhttpsgithub.comdockercontainerdpull Fix deadlock in monitorhttpsgithub.comdockercontainerdpull Ignore does not exit error on deleting container from runtimehttpsgithub.comdockercontainerdpull Cleanup ctr stdio tmp directory       The text was updated successfully but these errors were encountered
Update containerd to version fbfaefdcfffefd;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comfix Changeloghttpsgithub.comdockercontainerdpull Prevent panic if exec process dies before sync channel is created       The text was updated successfully but these errors were encountered
Fix syntax in label example;Fix syntax in example about maintainer info in a labelSignedoffby Jeroen Franse jeroenfransegmail.com       The text was updated successfully but these errors were encountered
Update systemd dropin link;Discovered this when changing graphdrivers.Right now it redirects so change it to the correct one.Signedoffby Christopher Jones tophjlinux.vnet.ibm.com       The text was updated successfully but these errors were encountered
Add expanded mount format to stack deploy;Fixes Fixes Also should fix some windows support for volumesI've added this to Compose format v. for now but it might be more appropriate for a v. depending on when it gets merged and where it gets cherrypicked.cpuguy I'd appreciate your review of cdebaabccabdc. It adds a clientside parser for the old volume spec. As far as I know this is the first time we're attempting to fully parse the spec on the client without being aware of the engine platform. It assumes no knowledge of the platform so windows and linux container paths are both supported on all clients.shin we will probably need to implement this on the python side as well. It should be a smaller change. I think we'll only need to copy the schema and implement something like cdebaabccabdccc vdemeester       The text was updated successfully but these errors were encountered
Fix typo in swagger.yaml for NetworkPrune operation;Verified this was the actual key name in .. API .       The text was updated successfully but these errors were encountered
..x Cherrypick SwarmKit update to afacccdededdeffe;This fix cherrypick SwarmKit update to afacccdededdeffe for branch ..x. The following has been addeddockerswarmkit raft Disable address change detectiondockerswarmkit Fix issue in service update of published ports in host modeThis fix fixes and fixes in dockerSignedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
ppclesx add pz to releasedeb;This adds ppcle and sx architectures to those supportedby hackmakereleasedebsHow I testedI built the debs made the end repo and then followed the release guidemake debsudo mkdir p volumesreposdocker build t docker . docker run rm it privileged \ v volumesreposvolumesrepos \ v pwdbundlesgosrcgithub.comdockerdockerbundles \ e DOCKERRELEASEDIRvolumesrepos \ e KEEPBUNDLE \ docker \ hackmake.sh releasedebThen verified that the debs were in volumesrepospoolexperimentalddockerengine. Then I installed the debs on my testvmClient Version ..dev API version . Go version go.. Git commit adaunsupported Built Mon Jan  OSArch linuxppcleServer Version ..dev API version . minimum version . Go version go.. Git commit adaunsupported Built Mon Jan  OSArch linuxppcle Experimental falseNote I added aptutils because it's required for 'aptftparchive'which is used by the releasedeb script. This enables us to runthe script through the p and z dockerfiles. It's also alreadyincluded in the x Dockerfile.Signedoffby Christopher Jones tophjlinux.vnet.ibm.comping clnperez ddingel wfarner       The text was updated successfully but these errors were encountered
..x Add two arm specific syscalls to seccomp profile;cherry pick These are arm variants with different argument ordering because ofregister alignment requirements.Signedoffby Justin Cormack justin.cormackdocker.com What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
add powerpc and z to rebuild labels;ping dmp estesp thaJeztah       The text was updated successfully but these errors were encountered
..rc cherrypicks;Dockerfile bump Go to .. add status code for build api added to ..x directly install map debianversion .X to debian stretch added to ..x directly Add bash completion for docker service logs added to ..x directly Fix typo in swagger.yaml for NetworkPrune operation added to ..x directly Add docs for service create based on plugins.        The text was updated successfully but these errors were encountered
Add docs for service create based on plugins.;Signedoffby Anusha Ragunathan anusha.ragunathandocker.com       The text was updated successfully but these errors were encountered
added listing for Nimble Storage's volume plugin;What I didAdded listing for Nimble Storage's volume plugin Description for the changelogAdded listing for Nimble Storage's volume plugin       The text was updated successfully bu
Updated dockerd docs with note about user namespaces;Signedoffby Lewis Daly lewisdalyme.com What I didAdded a note about docker image caching when using usernsremap documentation to docsreferencecommandlinedockerd.mdcloses  How I did itSimple documentation fix. How to verify itLook at the commandline reference docs for dockerd. Description for the changelogAdded note for dockerd reference about docker image caching when using usernsremap A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update SwarmKit to aefacaacdfeff;This fix updates SwarmKit to aefacaacdfefffrom bdbcbfdcecafIn addition to improvements in SwarmKit the following issues are related to DockerCan not update service in host publish mode fixedAdd ReadOnly in ContainerSpec for readonly neededExplicitly disallow network pluginv creation in swarm modeSee discussion in dockerswarmkit dockerswarmkit and This fix fixes Signedoffby Yong Tang yong.tang.githuboutlook.comNOTE There is a change in TestSwarmNetworkPlugin Ref        The text was updated successfully but these errors were encountered
Add two arm specific syscalls to seccomp profile;These are arm variants with different argument ordering because ofregister alignment requirements.fix Signedoffby Justin Cormack justin.cormackdocker.com       The text was updated successfully but these errors were encountered
Fixes work of inspectResponse in case of ContentLength;What I didProvide a fix for . Unable to build dockerfile hosted remotely if ContentLength How I did itI've sliced preamble array for a number of bytes actually read from stream in this line rlen err r.Readpreamble How to verify i
Remove unnecessary if in builderdockerfilesparser Dump;What I didWas poking around this module and noticed some unnecessary code. How to verify it go test . v RUN TestJSONArraysOfStrings PASS TestJSONArraysOfStrings .s RUN TestTestNegative PASS TestTestNegative .s R
Underscoring an unused var in tests;What I didI found out that are an unused var in dockercliexectest.go so i added an assert to it. How I did itCreate a new Assert who will fail if err var isn't equal to Nil How to verify itRunning dockercliexectest.go Description for the
remove clicommandsecretsutils.go;Signedoffby allencloud allen.sundaocloud.ioSince was merged I think file httpsgithub.comdockerdockerblobmasterclicommandsecretutils.go is not necessary any more.While in clicommandstackdeploy.go there is still something should be changed.httpsgithub.comdockerdockerblobmasterclicommandstackdeploy.goLL should be changed with secret err client.SecretInspectWithRawctx secretSpec.Name.ping ehazlett thaJeztah yongtang What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
add status code for build api;Signedoffby allencloud allen.sundaocloud.ioThis pr is related to .Code httpsgithub.comdockerdockerblobmasterbuilderdockerfilebuilder.goLL here seems to introduces a status code so I think it is better to add this. At the very beginning I thought we should remove this while it seems unreasonable here then I try to make this change versioned in api docs.Please correct me if I missed something. ??ping cpuguy LKD dnephin What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Fixup use of Error with format string to use Errorf;Signedoffby Adam Eijdenberg adam.eijdenberggmail.com What I didFixup use of Error with format string to use Errorf How I did itgo vet nagged me so I fixed it. How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Update pluginvolume apidocs for v;What I didUpdated the volume plugin apidoc as per .       The text was updated successfully but these errors were encountered
Document init flag for docker run;londoncalling mstanleyjones johndmulhausen PTAL       The text was updated successfully but these errors were encountered
Fix installation using make install;The following command fails when the target directory does not exist. sudo make install DOCKERMAKEINSTALLPREFIXoptdocker AUTOGOPATHKEEPBUNDLE hackmake.sh installbinary WARNING I don't seem to be running in a Docker container. The result of this command might be an incorrect build and will not be officially supported. Try this instead make all Making bundle installbinary in bundles..devinstallbinaryInstalling docker to optdockerbincp cannot create regular file 'optdockerbin' No such file or directorymake Makefile install Error The patch installs the target directory before copying any binaries. sudo make install DOCKERMAKEINSTALLPREFIXoptdocker AUTOGOPATHKEEPBUNDLE hackmake.sh installbinary WARNING I don't seem to be running in a Docker container. The result of this command might be an incorrect build and will not be officially supported. Try this instead make all Making bundle installbinary in bundles..devinstallbinaryInstalling docker to optdockerbinInstalling dockerd to optdockerbinInstalling dockerrunc to optdockerbinInstalling dockercontainerd to optdockerbinInstalling dockercontainerdctr to optdockerbinInstalling dockercontainerdshim to optdockerbinInstalling dockerproxy to optdockerbinInstalling dockerinit to optdockerbinSignedoffby Ga?l PORTAY gael.portaysavoirfairelinux.com What I didI fixed sudo make install DOCKERMAKEINSTALLPREFIXadirectorythatdoesnotexist.Currently sudo make install is safe because the default directory usrlocalbin is usually present on every system. How I did itI simply creates the target directory before copying any files to make sure it exists. How to verify itA simple check test consists in running sudo make install DOCKERMAKEINSTALLPREFIXPWDinstall AUTOGOPATH echo It works || echo Oops. Description for the changelogFix installation into a destination that does not yet exist. A picture of a cute animal       The text was updated successfully but these errors were encountered
clicompose cleanup remove the old loading system;The original Compose config loading used the compose struct tag which was replaced by mapstructure. Some fields were left on the old tag as part of the transition. This PR removes the old tag and uses types and mapstructure for config loading.cc vdemeester       The text was updated successfully but these errors were encountered
change sh to bash for shopt;close cc tianonobviously when I come back its for the bash        The text was updated successfully but these errors were encountered
bump to ..rc;No description provided.        The text was updated successfully but these errors were encountered
Yaml Generation;What I didI added support for YAML output for the engine CLI How I did itExtended on the Cobra docs output but for Yaml Some of the changes have been pushed back to upstream spfcobra How to verify itmake yamlfiles will output Yaml files
Cherrypick to ..x;Fix broken relative links in old API docscherry picked from commit dcSignedoffby Misty StanleyJones mistydocker.comI know there are other cherrypicks that need to go in but this one is affecting the live docs.       The text was updated successfully but these errors were encountered
Add bash completion for docker service logs;Sorry missed this one .Please schedule for ...Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Add OPTIONS to usage of plugin disable|push;These are the usage lines from several plugin commands for command in push disable enable do docker plugin command help | grep Usage doneUsage docker plugin push PLUGINTAGUsage docker plugin disable PLUGINUsage docker plugin enable OPTIONS PLUGINAll three commands have options other than help but only enable included just for reference has OPTIONS in the usage line.With this fix for command in push disable enable do docker plugin command help | grep Usage doneUsage docker plugin push OPTIONS PLUGINTAGUsage docker plugin disable OPTIONS PLUGINUsage docker plugin enable OPTIONS PLUGINThe reference pages were also adjusted.       The text was updated successfully but these errors were encountered
Make docker stack deploy a little bit more indempotent;Version of for master.Make sure running multiple times docker stack deploy composefile dockercompose.yml foo on the same unchanged file doesn't update the services each times. This is mainly due to the use of map .This is related to This is sorting environment extraHost and port too. There is some weirdiness with ports but a PR might follow for that. You can reproduce and validate this using the following compose file.version .services test image busybox command top extrahosts foo... bar... environment FOOBAR FARBOO ports   networks fronttier backtiernetworks fronttier backtierThis also helps with Error response from daemon rpc error code desc changing network in service is not supported when you didn't change the networks.cc thaJeztah dnephin icecrime cpuguy aaronlehmann aanandIf it gets in I'll do a PR against master.Signedoffby Vincent Demeester vincentsbr.pmSignedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Fix json format of plugin;Signedoffby Janonymous janonymous.codevulturegmail.com What I didFix Incorrect Format of Json format How I did itRemoving a character causing problem How to verify itTested with Ssl enabled version of remote driver and works fine. Description for the changelogFix tls setting for remote driver plugin A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
..x cherrypick secrets to compose;Add secrets to stack deploy Add SecretUpdate method to client        The text was updated successfully but these errors were encountered
Vendoring libnetwork e;Fixes an issue with starting containers after upgrade from ..x to .devFixes docker Signedoffby Santhosh Manohar santhoshdocker.com       The text was updated successfully but these errors were encountered
Dockerfile bump Go to ..;What I didI've bumped the Go version to ... How I did itI've edited all the relevant files. How to verify itThis can be done by taking a look at the changelog. Description for the changelogDockerfile bump Go to ..  
Add truncate function for Go templates;This fix is part of the discussion in about using truncate to replace notrunc.As part of the fix a new function truncate has been added for Go templates so that it is possible to usedocker stack services format truncate .ID .Mode .Replicasto show truncated ID limited by length.A unit test has been added.This fix is related to .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
install map debianversion .X to debian stretch;Signedoffby Felix Abecassis fabecassisnvidia.com What I didAdd missing case for etcdebianversion .X in the install.sh scriptSee  How I did itAdd a case mapping debianversion .X to version stretch How to verify itLaunch debian stretch RC e.g. in a VM check that it only works with the patch.Also verify that the patch doesn't break debian jessie. Description for the changelogFix debian stretch support in install.sh A picture of a cute animal not mandatory but encouragedShould be relevant for debian stretch        The text was updated successfully but these errors were encountered
Fix ImageDelete type;Fixes broken master       The text was updated successfully but these errors were encountered
Fix broken relative links in old API docs;What I didFixed broken links in API docs that are affecting docs.docker.com and also Github browsingThis will need to be cherrypicked back at least to v. if not further....cc aduermael A picture of a cute animal not mandatory but encouraged
Support expanded syntax of ports in docker stack deploy;What I didNOTE The description has been updated based on commentThis fix tries to address the issue in where it was not possible to specify modehost for ports in compose. How I did itThis fix addresses the issue by adding support
sort volume drivers and auth plugins in info response;Signedoffby allencloud allen.sundaocloud.ioI found that in API GET info there are several kinds of plugins network volume and authorization plugins.When we get the response network plugins are sorted while others are not. This PR tries to sort volume drivers and AuthorizationPlugins. What I didsort volume driver in info responsesort AuthorizationPlugins in info response. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Use native call for listing plugins in bash completion;Prior to this PR plugin lists for bash completion were generated by parsing the raw output of docker plugin ls with awk. This was done because there was no format option available when the functionality was created.In yongtang added format so this can now be cleaned up.This change will make generation of plugin lists faster and robust against future changes in docker plugin ls output format.       The text was updated successfully but these errors were encountered
update api docs on Placement.Constraints for services;Signedoffby LarsMagnus Skog ralphtheninjariseup.net What I didI noticed that when inspecting a service with constraints the output of Placement doesn't correspond with the api docs i.e. Placement is not an array of constraints but rather contains a Constraints property which holds the array of constraints. Description for the changelogDocument Placement.Constraints as the array of constraints and give some simple examples of what it can look like. A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Vendoring libnetwork cb;Pulling in mobylibnetwork to address Signedoffby Madhu Venugopal madhudocker.com       The text was updated successfully but these errors were encountered
Use binary frame for websocket attach endpoint;What I didThis fix tries to address the issue raised in where text frame was used in websocket attach endpoint. In case the data send out contains non utf data the connection will be closed in certain browsers e.g. Safari. How I did itThi
reference use distribution reference and remove fork;Remove forked reference package. Use normalized named values everywhere and familiar functions to convert back to familiar strings for UX and storage compatibility. The reference.Named type is now always normalized in Docker.WIP Also requires dockerswarmkit to keep parsing an nonnormalized name from returning an error.Ping aaronlehmann stevvooe       The text was updated successfully but these errors were encountered
Return error in case docker network inspect is ambiguous;This fix is partially based on comment commentCurrently docker network inspect relies on FindNetwork which does not take into consideration that multiple networks with the same name might exist.This fix propose to return docker network inspect in a similiar fashion like other commandsLookup full IDLookup full nameLookup partial name Lookup partial IDIf multiple networks exist an error will be returned.NOTE this fix is not a complete fix for the issue raised in comment where SwarmKit is unable to update when multiple networks with the same name exit.To fix that issue requires multiple places when FindNetwork is called. Because of the impact of changing FindNetwork this fix focus on the issue in docker network inspect.A separate PR will follow up to address commentAn integration test has been added.Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Compose fixes for ..;Includes There were conflicts with the first commits. I think I manually merged them correctly but a lot moved files so it's hard to be sure.This would have been a lot easier if we had accepted these refactoring PRs in ..       The text was updated successfully but these errors were encountered
Resolve race conditions in attach API call;Signedoffby Jim Minter jminterredhat.comFixes  What I didIn containercontainer.go split AttachStreams into two pieces. The first returns the container's streams having registered stdout stderr in the broadcaster. The second does the byte copying as before.In daemonattach.go pull forward the call to container.AttachStreams so that these are held before the HTTP response is returned to the client via c.GetStreams. How to verify itSee reproducer in  Description for the changelogResolve race conditions in attach API call       The text was updated successfully but these errors were encountered
Add bash completion for docker checkpoint;Ref Note completion for docker start checkpoint is just any word. This is because checkpoints can only be queried for a given container which is unknown at this stage see .Gathering a full list of all checkpoints seemed to expensive so I'm waiting for a solution to and improve in a followup.Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Add windows specific bash completion for docker run|create|build;We already selectively enable experimental features in bash completion.This PR extents the concept to OS specific enablement of features.You can now write code likelocal optionsfoo barif dockerdaemonosis windows then options windowsoptionelif dockerdaemonosis solaris then options solarisoptionfiThis PR then adds five missing windows specific options to docker run|create references . These options were found by executing docker run help | grep i windows.An existing option isolation is then moved to windows specific treatment.For consistency and better naming an existing helper function is renamed sdockerisexperimentaldockerdaemonisexperimentalgIn a next step Linux specific options could be hidden in Windows daemon context.Ping tianon AkihiroSuda this is what we discussed on slack PTALPing thaJeztah Think you gonna like this one.Ping mlaventure for reviewPing sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Replace kickass in name generator with vigorous;Having curse words in container names can get awkward.Closes .Signedoffby Steve Dougherty steveasksteved.com Description for the changelogReplace kickass in name generator with vigorous A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Add format for docker node ls;What I didThis fix tries to address the comment comment where it was not possible to specify format for docker node ls. The format flag is a quite useful flag that could be used in many places such as completion. How I did itThis fix im
Fix linux mount calls not applying propagation type changes;Propagation type changes must be done as a separate call in the same way as read only bind mounts.To fix thisEnsure propagation type change flags aren't included in other calls.Only apply read only bind mount changes once.Make it clear which parameters are ignored by passing them as empty.Apply propagation type change in a separate call.Fixes Signedoffby Steven Hartland steven.hartlandmultiplay.co.uk       The text was updated successfully but these errors were encountered
Minor GoDoc fixup in integrationcli;just going through some local branches ?       The text was updated successfully but these errors were encountered
do not ignore local buildcontexts starting with github.com;Docker specialcases buildcontexts starting with github.com andtreats them as remote URLs.Because of this special treatment local build contexts in a directorynamed github.com are ignored by docker build.This patch changes the way the buildcontext is detected and firstchecks if a local path with the given name exists before consideringit to be a remote URL.Before this change mkdir p github.comfoobar echo e FROM scratch\nLABEL iamlocal github.comfoobarDockerfile docker build t dontignoreme github.comfoobarUsername for 'httpsgithub.com'After this change mkdir p github.comfoobar echo e FROM scratch\nLABEL iamlocal github.comfoobarDockerfile docker build t dontignoreme github.comfoobarSending build context to Docker daemon . kBStep FROM scratch Step LABEL iam local Using cache aecfeSuccessfully built aecfe       The text was updated successfully but these errors were encountered
Fix deadlock on v plugin with activate error;When a plugin has an activation error it was not being checked in thewaitActive loop. This means it will just wait forever for a manifestto be populated even though it may never come.This is needed for .. as well.       The text was updated successfully but these errors were encountered
Add src alias for secret;This patch adds a src alias for secret to be consistent with mount.As noted in review and discussed in commentping AkihiroSuda icecrime ptal       The text was updated successfully but these errors were encountered
Add bash completion for docker swarm unlock|unlockkey;There seem to be new commands in .. that were not mentioned in the release notes httpsgithub.comdockerdockerpullfilesr.Please add to ..Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Add missing options to bash completion for docker swarm init|update;I found some missing options in docker swarm init and docker swarm update.Please add to ...Ping sdurrheimer for zsh completion       The text was updated successfully but these errors were encountered
Zsh completion hide legacy commands;ref ref commentvincentbernat This is probably not the best solution if you have any ideasI also fixed the typo mentionned by thaJeztah comment       The text was updated successfully but these errors were encountered
Vendor vishvanandanetlink ebdfb;So that docker stats reports bit counter nw statisticsCONTAINER CPU MEM USAGE LIMIT MEM NET IO BLOCK IO PIDSr . KiB . GiB . . GB . GB kB B Fixes        The text was updated successfully but these errors were encountered
validate CHANGELOG.md dates are in descending order;What I didAdded validation script to check CHANGELOG.md has descending order of dates so RPM builds can process the changelog.Fixed one line in CHANGELOG.md so the check succeeds.Without this fix builds of RPM packages will fail with errorerror
typo fix typo in api documents;Signedoffby Lei Jitang leijitanghuawei.com What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Vendor swarmkit containerd and related dependencies;Update swarmkit to b.As swarmkit switched to a newer gRPC version this also involves updating Docker's vendored gRPC which in turn requires updating containerd to a new version that has protobufs generated against this gRPC version.Replaces Includes dockercontainerd dockercontainerd dockercontainerdFixes Fixes Addresses cc thaJeztah dockercoreswarmkitmaintainers dockercorecontainerdmaintainers       The text was updated successfully but these errors were encountered
Add addhost for docker build;Signedoffby Tony Abboud tdabboudhotmail.com What I didAdded the addhost flag to the docker build command. This flag allows you to add extra hosts to a containers etchosts file upon building an image. How I did itI added another flag to the build handler and added server side code to accept and set the extra hosts when the build endpoint is hit. How to verify itI have added an integration test TestBuildWithExtraHost which adds hosts whose ip is set to the localhost but then it tries to ping based off of the hostname that was set. Description for the changelogAdd the addhost flag to docker build to add entries to a containers etchosts file when building an imageImplements        The text was updated successfully but these errors were encountered
Ensure proper value is used when computing reclaimable space;When Size was reverted to be equal to VirtualSize the df commandformatter was not correctly updated to account for the change.Signedoffby KenfeMickael Laventure mickael.laventuregmail.comFixes        The text was updated successfully but these errors were encountered
Fix bash completion for completing nodes;There is a bug in bash completion for nodes.To verify docker node inspect tabcc self docker node inspect tabtabcc selfexpected result is expanded to the node name cc.acutal result no completion cc self suggested again.Only the special name self is expanded as expected.The problem is also present in completion for docker node ps because it uses the same buggy helper function dockercompletenodesplusself.This fix rewrites the logic used to add self. The idiom of an add option is already used in other helper functions.       The text was updated successfully but these errors were encountered
Add bash completion for docker service ps filter node;The node filter was missing.       The text was updated successfully but these errors were encountered
Fix bash completion for docker service update;Remove bash completion for docker service update publish|pBefore this PR this option would be completed in both create and update.       The text was updated successfully but these errors were encountered
Fix bash completion for docker plugin ls;This addresses two minor glitches introduced in missing q short optionoptions with arguments should have special treatment for the argument. Although this is not strictly required in this particular case because there is no catchall for nonoption arguments it increases robustness against future changes.       The text was updated successfully but these errors were encountered
Fixed secret creation usage during service create in docs;Using source the following error is madeinvalid field in secret request srcSignedoffby Michael Irwin mikesirgmail.com What I didDocumentation fix to align with outcome from running command       The text was updated successfully but these errors were encountered
remove indent from .dockerignore example;What I didI apologize if there's a reason for having the example show .dockerignore file with indents. I found it confusing so proposing it be removed.Signedoffby Michael Friis friismgmail.com    
Refactor attach;Moves container's attach code into stream package.Additionally refactors copyEscapable to use a custom reader which handles the attach escape sequences rather than the copypaste of io.Copyescape sequence behavior.       The text was updated successfully but these errors were encountered
Fix dockerd leaks ExecIds on failed exec i;If libcontainerd failed to start process there will be no callback about exec done so cleanup code should be added to ContainerExecStartSignedoffby Dmitry Shyshkin dmitryshyshkin.org.ua What I didClose streams and removed ExecConfig from container in case of process failed to start How I did itCopy part of cleanup code from containerd exec callback How to verify itexecute docker exec i anycontainer invalidcommandcheck for ExecIDs. docker inspect anycontainer | grep A ExecIDs Description for the changelogFix dockerd leaks ExecIds on failed exec i       The text was updated successfully but these errors were encountered
Fixing formatting errors in Run refdoc;What I didCherrypicked the fix from to master       The text was updated successfully but these errors were encountered
Cherry pick docker and vendor corresponding swarmkit;Verified that in swarmmode plugin install docker plugin install bborehamweave and network creation docker network create driverbborehamweave foo works using the plugin works.       The text was updated successfully but these errors were encountered
.. rc cherrypicks;Add zsh completion for 'docker containerimagenetworksystem prune filter Add zsh completion for 'docker swarm availability' Add bash completion for dockerd init and docker run|create init Add bash completion for build squash Honour DOCKERHIDELEGACYCOMMANDS in bash completion Fix treatment of DOCKERHIDELEGACYCOMMANDS in bash completion Add bash completion for docker swarm unlock|unlockkey Add missing options to bash completion for docker swarm init|update Add bash completion for docker service ps filter node Fix bash completion for docker service update Add zsh completion for 'docker plugin install alias' Add bash completion for plugin install disablecontenttrust Add zsh completion for 'dockerd init' and 'docker createrun init' Ensure proper value is used when computing reclaimable space Add bash completion and docs for docker run|create initpath distribution Add texthtml and applicationjson as image mediatypes Remove timeout on fifos opening Ignore certificate expiry error for toplevel inspect Fix pluginv Windows volumes Only show global warnings once do not create initdir if not needed Fix deadlock on v plugin with activate error Fix failure in docker ps format when .Label has args Fix bash completion for completing nodes plugins add example docs for a rexray plugin project bump go to go .. ppcle use official go .. binaries Windows Bump to latest version of git Windows Add service dependency ConDrv Fix incorrect Scope in network lsinspect with duplicate network names Add src alias for secret Fixed secret creation usage during service create in docs Remove attachable network on swarm leave        The text was updated successfully but these errors were encountered
Prune named but untagged images if danglingOnlytrue;Signedoffby KenfeMickael Laventure mickael.laventuregmail.comCloses        The text was updated successfully but these errors were encountered
Fixing formatting errors in Run refdoc;Fasttrack please the run reference is broken in the docs.httpsdocs.docker.comenginereferencebuilderargSignedoffby John Mulhausen johndocker.com       The text was updated successfully but these errors were encountered
Add network.internal to Compose schema;Fixes Includes        The text was updated successfully but these errors were encountered
Run TestBuildCopyWilcardInName only on linux daemon and unix client;Should fix winlin.cc thaJeztah mlaventure johnstep tiborvass duglinSignedoffby Vincent Demeester vincentsbr.pm       The text was updated successfully but these errors were encountered
Add zsh completion for 'dockerd init' and 'docker createrun init';ref. Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker containerimagenetworksystem prune filter;ref. Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
update dockerproxy to bbfebdedccafffde;What I didUpdate dockerproxy to mobylibnetworkbbfebhttpsgithub.comdockerlibnetworkcommitsmastercmdproxyFix halfduplex TCP FIN issue via mobylibnetwork How I did itUpdated hackdockerfilebinariescommits How to ver
refactor config reload in daemon;Signedoffby allencloud allen.sundaocloud.ioWith the code base growing up in aspect of reload it seems that code becomes some kind of unreadable. This PR aimed at refactoring the reload. What I didsplit func reload into a single reload.gosplit reload test from daemontest.go to reloadtest.gorefactor func Reload into several independent functions. How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
plugins add example docs for a rexray plugin;Signedoffby Tibor Vass tibordocker.comcc anusharagunathan vieux       The text was updated successfully but these errors were encountered
Fix failure in docker ps format when .Label has args;This fix tries to fix the issue in where docker ps format fails if .Label has args. For exampledocker ps format '.ID\t.Names\t.Label some.label'The reason for the failure is that during the preprocessing phase to detect the existance of .Size the listOptionsProcessor does not has a method of Labelname string string.This results in the failure oftemplate executing at .Label Label is not a method but has argumentsThis fix fixes the issue by adding needed method of Labelname string string.This fix fixes .Signedoffby Yong Tang yong.tang.githuboutlook.com       The text was updated successfully but these errors were encountered
Carry ? Do not require .git in the build context;Carry and hopefully fixes builds ??.Add .git to .dockerignoreexport DOCKERGITCOMMIT in the Makefileprioritize DOCKERGITCOMMIT against the git command in.hackmake.shAlso add integrationclibundles to gitignore it's generated whenusing integrationcli shellNote that on my laptop for example I'm sending M of context with this and M without ? so I really think this can be a huge win ??cc tianon jhowardmsft icecrime thaJeztah cpuguy??       The text was updated successfully but these errors were encountered
Add bash completion and docs for docker run|create initpath;This addsbash completion and docs for docker run|create initpathdocs for init       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker swarm availability';ref. Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Fix broken JSON support in clicommandformatter;What I didFir an issue in CLI formatter addendum to  docker images format 'json .'.. docker container stats format 'json .'.. How I did itAdded marshalJSON How to verify it docker images format 'json .
Add zsh completion for multiple service for 'docker service ps';ref. Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Add zsh completion for 'docker plugin install alias';ref. Signedoffby Steve Durrheimer s.durrheimergmail.com       The text was updated successfully but these errors were encountered
Fix some typos;Signedoffby Zhang Wei zhangweihuawei.comAll the files are scanned with misspell tool and this is the final result.       The text was updated successfully but these errors were encountered
Add bash completion for dockerd init and docker run|create init;Fixes Please schedule for ..ping sdurrheimer also missing in zsh completion       The text was updated successfully but these errors were encountered
add CheckDuplicate docs and logics in network;Signedoffby allencloud allen.sundaocloud.ioRecently I ran into network create option CheckDuplicate and confused a lot. Related issues and PRs has  discussed about the real meaning of CheckDuplicate one related bug and confusionThis PR tries to make things consistent in API doc struct definition and code implementation. PR also hopes to reduce the potential misunderstanding user and developers may have.This PR also reports a warning when creating a overlay network when there is already a bridge network with same name with CheckDuplicate false. Here is the two cases.First CaseStep create a bridge network with name allen with CheckDuplicate falseStep create another bridge network with name allen with CheckDuplicate false.In Step we will get a warning from httpsgithub.comdockerdockerblobmasterdaemonnetwork.goLL.Second CaseStep create a bridge network with name allen with CheckDuplicate falseStep create overlay network with name allen with CheckDuplicate false.In Step we will never get a warning.This PR also adds a warning for second case. What I didadd comments in CheckDuplicate field in definitionadd description in api docs including swagger.ymladd code logic to fix overlay network creation warning.ping mrjana thaJeztah       The text was updated successfully but these errors were encountered
distribution Add texthtml and applicationjson as image mediatypes;As noted by the new strict checking of mediatypes misses somecases where earlier bugs caused nonstandard mediatypes to be stored inmanifests. Two of the known cases are texthtml and applicationjsonwhich were returned by certain registries and stored by earlier versionsof Docker. Add special cases for texthtml and applicationjson.cc dmcgowan       The text was updated successfully but these errors were encountered
swarm Add updaterollback order;Update order is a new parameter to control the order of operations when rolling out an updated task. Either the old task is stopped before starting the new one or the new task is started first and the running tasks will briefly overlap.Previously stopfirst was the only supported behavior. The behavior of startfirst could be emulated by temporarily scaling up the service so for awhile we hesitated to add it. However there are some cases where it is awkward to change the number of replicas in a service just to support temporary overlap during updates. It doesn't work for some new features we have in mind like automatic preemption.This PR adds Order to the API and updateorder rollbackorder flags to the CLI. It adds an integration test that performs a rolling update in the new startfirst mode.cc aluzzardi dongluochen       The text was updated successfully but these errors were encountered
Make Docker automatically update hostname for Swarm node;Signedoffby Nishant Totla nishanttotlagmail.com What I didFix  How I did itThe Swarm node config swarmnode.Config sets hostname and passes it to the node object which in turn initializes hostname for the agent object. SwarmKit design makes sure that agent hostname always overrides what is reported by the machine. Currently since the agent hostname is set at the time of node creation any updates reported in the future are automatically discarded.This PR ensures that the agent hostname is not set by Docker and instead picked up from the hostname reported by the machine. As a result SwarmKit's dynamic node update ticker picks up hostname changes and reports the correct hostname in docker node ls and docker node inspect. How to verify itStart a single node Swarm and check the hostname reported as part of docker node ls. Then change the machine hostname and run docker node ls again. Description for the changelogAutomatically update Swarm node name when machine hostname changes       The text was updated successfully but these errors were encountered
Fix incorrect Scope in network lsinspect with duplicate network names;What I didThis fix tries to address the issue raised in comment comment where the Scope field always changed to swarm in the ouput of docker network lsinspect when duplicate network name exists.The reason for the issue was that buildNetworkR
Improve bash completion for docker run capadddrop;Docker has several capabilities enabled by default and some not see httpsdocs.docker.comenginereferencerunruntimeprivilegeandlinuxcapabilities.Before this PR both capadd and capdrop would complete the full set of capabilities.This PR reduces the completion to only those capabilities that can be addeddropped.       The text was updated successfully but these errors were encountered
fix some ineffectual assignments and minor fixes;To make goreportcard a bit happierAlso found thatTestCpToErrDstParentNotExists was partially broken because a runDockerCp was inadvertently removed in faeTestDaemonRestartSaveContainerExitCode didn't verify the actual Error message so added that to the test.TestVolumeCLICreateOptionConflict only checked for an error to occur but didn't validate if the error was due to conflicting options. How to verify itWait for Janky to hopefully become ?       The text was updated successfully but these errors were encountered
Dockerfile.buildx bump to Go ..;Looks like this Dockerfile was not yet updated possibly because go mod issues when building buildx ...Given that the upstream repository uses vendoring Iremoved the go mod download stepadded modvendor to use vendoring mode       The text was updated successfully but these errors were encountered
containerd.installer refactor;add set e to prevent linting warningsuse install instead of cpuse a subshell for the whole function instead of starting oneinside it.       The text was updated successfully but these errors were encountered
swagger reformat and wrap to chars;Signedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Makefile remove empty targets and slight refactor;The empty binary dynbinary and cross targets at the top were only useful to provide the description for make help.This patch splits the actual binary dynbinary and cross targets to separate lines introducing some slight duplicated code but making it slightly easier to read and removing the empty targets.       The text was updated successfully but these errors were encountered
Make binary install all containerd shims to bundles;The containerd.installer was updated to also copy containerdshimruncv in but hackmakebinarydaemon did not copy it to the bundles directory.       The text was updated successfully but these errors were encountered
. vendor buildkit v..geaa;full diff mobybuildkitbcff...eamobybuildkit Avoid creation of irrelevant temporary files on Windowsbackport of mobybuildkit for the docker.v. branch       The text was updated successfully but these errors were encountered
vendor sort imports to prevent vendoring race condition;If both a versioned and nonversioned version of a dependencyexists in vendor.conf the longest path should be cloned lastotherwise the versioned dependency may be deleted when cloning itsnonversioned variant.For example with the following vendor.confgithub.comcoreosgosystemdv v..github.comcoreosgosystemd vRunning vndr wouldrecursively delete vendorsrcgithub.comcoreosgosystemdvstart cloning github.comcoreosgosystemdvrecursively delete vendorsrcgithub.comcoreosgosystemdstart cloning github.comcoreosgosystemdThis would lead to a conflicting situation step . will removethe dependency that was previously cloned or in the processof being cloned.This patch sorts the dependencies by importpath cloning theshortest import paths first which should prevent the race condition.This should address the issue seen in comment       The text was updated successfully but these errors were encountered
Dockerfile update syntax to ..experimental;No description provided.        The text was updated successfully but these errors were encountered
vendor sirupsenlogrus v..;full diff sirupsenlogrusv.....v..Ability to DisableHTMLEscape when using the JSON formatterSupportfixes for go .Many many bugfixesAdd flag to disable quotes in TextFormatterrelates to        The text was updated successfully but these errors were encountered
vendor konsortengowindowsterminalsequences v..;full diff konsortengowindowsterminalsequencesv.....v..Fixes a panic when using logrus on Go .relates to        The text was updated successfully but these errors were encountered
cmddockerd remove outdated experimental annotation;Follow up to        The text was updated successfully but these errors were encountered
Replace errors.Cause with errors.Is errors.As;No description provided.        The text was updated successfully but these errors were encountered
plugin Add NoLock version of resolvePluginID to fix double Rlock;NOM
vendor update mobyipvs v..;full diff mobyipvsv.....v..Fix compatibility issue on older kernels . where the addressfamily attribute for destination servers do not existFix the stats attribute check when parsing destination addressesNetlinkSocketsTimeout should be a constant       The text was updated successfully but these errors were encountered
. backport bump up rootlesskit to v..;Now rootlesskitdockerproxy returns detailed error message onexposing privileged ports rootlesscontainersrootlesskitFull changes rootlesscontainersrootlesskitv.....v..Backport of        The text was updated successfully but these errors were encountered
bump up rootlesskit to v..;Now rootlesskitdockerproxy returns detailed error message on exposing privileged ports rootlesscontainersrootlesskitFull changes rootlesscontainersrootlesskitv.....v..Before docker contextrootless run it p rm alpinedocker Error response from daemon driver failed programming external connectivity on endpoint clevereuclid cceeefddcbbbbffffbce Error starting userland proxy.After docker contextrootless run it p rm alpinedocker Error response from daemon driver failed programming external connectivity on endpoint bravemurdock efbacefdddfdcecaacaccdfaeafcb Error starting userland proxy error while calling PortManager.AddPort cannot expose privileged port you might need to add net.ipv.ipunprivilegedportstart currently to etcsysctl.conf or set CAPNETBINDSERVICE on rootlesskit binary listen tcp ... bind permission denied.       The text was updated successfully but these errors were encountered
Use strings.Index instead of strings.Split;Since we don't need the actual split values instead of callingstrings.Split which allocates new slices on each call usestrings.Index.This significantly reduces the allocations required when doing env valuereplacements.Additionally preallocate the env var slice even if we allocate alittle more than we need it keeps us from having to do multipleallocations while appending.benchmark old nsop new nsop deltaBenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .benchmark old allocs new allocs deltaBenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .benchmark old bytes new bytes deltaBenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .BenchmarkReplaceOrAppendEnvValues .Found that this function can often be a big allocator in actually the top allocator.Ideally we wouldn't have to process these every time we start a container or exec but changing this may require changing behaviors and needs a discussion and some deeper changes.       The text was updated successfully but these errors were encountered
. backport Update CRIU to v. Silicon Willet;backport of full diff checkpointrestorecriuv....v.Here we have some bugfixes huuuge .py patch for coding styleand nice set of new features like bit for ARM TLS for pageserver and new mode for CGroups.New featuresVDSO arm supportAdd TLS support for page server communicationsIgnore mode for managecgroupsRestore SOBROADCAST option for inet socketsBugfixesAuxiliary events were left in inotify queuesLazypages daemon didn't detect stack pages and surrounders properly and marked them as lazyMemory and resource leakage were detected by coverity cppcheck and clangImprovementsUse gettimeofday directly from vdso for restore timingsReformat all .py code into pep styleSignedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit fdbSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
cgroup use systemd cgroup driver by default when available;What I didUse systemd cgroup driver by default on systemdbased cgroup v hosts because the systemd cgroup driver is always preferred over cgroupfs on systemdbased hosts.This commit does not affect cgroup v hosts. How I did it How to veri
support privileged cgroupnsprivate on cgroup v;What I didSupport privileged cgroupnsprivate on cgroup vFix  How I did itEliminated extra check How to verify it docker run d namenginx privileged cgroupnsprivate nginxalpine sudo lsns... cgroup
. vendor swarmkit bedaaeebaeaaae;full diff dockerswarmkitb...bedockerswarmkit Fix leaking tasks.dbbackport of dockerswarmkitaddresses single manager docker swarm stuck in Down state after rebootaddresses dockerswarmkit Swarm's tasks.db takes up lots of disk spaceaddresses dockerswarmkit Possible bugs in task reaperaddresses Docker .. crash       The text was updated successfully but these errors were encountered
fix clusterstoreopt deprecation annotation;Commit marked this flag as deprecated but inadvertedtly used the plural which is used for daemon.json but not for the flag name.This fixes the inccorect name of the flag.relates to        The text was updated successfully but these errors were encountered
ServiceCreateServiceUpdate refactor and fix potential NPE;ContainerSpec and PluginSpec are mutually exclusive so instead of using two separate ifstatements combine them in a switch.Use local variables at cost of some slight duplicationFix a potential NPE if imagedigest resolution failed for a PluginSpec. The code was always using ContainerSpec.Image to create a digestWarning but in case we're resoling the digest for a PluginSpec ContainerSpec will be nil as they're mutually exclusive. This issue was introduced in cbcf where the new PluginSpec path was added.imageWithDigestString return image unmodified if there are no changesInstead of returning an empty string return the image unmodifiedextract logic for resolving imageplugin digest and platform       The text was updated successfully but these errors were encountered
Deprecate pkgterm and make it an alias for github.commobyterm;opening as draft pending mobyterm       The text was updated successfully but these errors were encountered
daemon remove distributionuuid package;This appeared to be unused because we no longer generate a uuid using this package.       The text was updated successfully but these errors were encountered
update containerd to v..;What I didFull diff containerdcontainerdv.....v..The fourth patch release for containerd . adds NOTIFYSOCKET support improves shim loggers shutdown behavior and includes a few bug fixes related to incorrect FIFO clean up and dangling shims
swarm fix API version detection;I noticed this while testing some variations of API versions in but using cURL instead of the docker cli or docker client.While the docker cli may be sending a version header this header is not part of the API or at least should not determin what API version is used.This code was added in cafdc to adjust the handling of requests when an older version of the API was used but because the code relied on the version header set by the CLI it didn't work with other clients e.g. when using cURL to make an API request. Description for the changelog       The text was updated successfully but these errors were encountered
vendor update buildkit to aeff;Brings in support for mirrors fallbacks insecure tls and custom tls config.Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
. update libnetwork bbcfcfbaefccbbabb;fixes for .full diff mobylibnetworkcf...bbcfcmobylibnetwork Fix NPE due to null value returned by ep.Ifacebackport of mobylibnetworkaddresses Signedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
vendor update libnetwork afbafebbbeaadd;fixes full diff mobylibnetworkefa...afbmobylibnetwork produce an error with invalid address pooladdresses dockerd ignores the defaultaddresspool optionmobylibnetwork DOCKERUSER chain not created when IPTableEnablefalsemobylibnetwork Fix NPE due to null value returned by ep.Ifacecarries mobylibnetwork Prevent NPE in addServiceInfoToClusteraddresses Error initializing docker.server while starting daemon by systemdSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Improve error feedback when plugin does not implement desired interface;docker shows a confuse message when you attempt to run a legacy driver that does not implement the desired interface.Exampledocker run logdrivertsuru ubuntu binbashBeforedocker Error response from daemon logger no log driver named 'tsuru' is registeredAfterdocker Error response from daemon error looking up logging plugin tsuru legacy plugin Plugin does not implement the requested driver.docker infoClient Debug Mode falseServer Containers  Running  Paused  Stopped  Images  Server Version ..ce Storage Driver overlay Backing Filesystem unknown Supports dtype true Logging Driver jsonfile Cgroup Driver cgroupfs Plugins Volume local Network bridge host ipvlan macvlan null overlay Log awslogs fluentd gcplogs gelf journald jsonfile local logentries splunk syslog Swarm inactive Runtimes runc Default Runtime runc Init Binary dockerinit containerd version dcfafcadcaeafee.m runc version dcafeefbfdbebdfadd init version fec Security Options seccomp Profile default Kernel Version ..arch Operating System Arch Linux OSType linux Architecture x CPUs  Total Memory .GiB Name wilsonredbull ID ELEJYHXZLYCATFLBDTKZYHTOAMBREIBHUEVL Docker Root Dir varlibdocker Debug Mode false Registry httpsindex.docker.iov Labels Experimental false Insecure Registries ... Live Restore Enabled falseWARNING the overlay storagedriver is deprecated and will be removed in a future release.docker versionClient Version ..ce API version . Go version go.. Git commit afacbbf Built Thu Apr  OSArch linuxamd Experimental falseServer Engine Version ..ce API version . minimum version . Go version go.. Git commit afacbbf Built Fri Apr  OSArch linuxamd Experimental false containerd Version v...m GitCommit dcfafcadcaeafee.m runc Version ..rc GitCommit dcafeefbfdbebdfadd dockerinit Version .. GitCommit fec       The text was updated successfully but these errors were encountered
. backport Bump Golang ..;backport of go.. released includes fixes to the go command the runtimeosexec and time packages. See the Go .. milestone on the issue trackerfor detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedfull diff golanggogo.....go..       The text was updated successfully but these errors were encountered
Bump Golang ..;go.. released includes fixes to the go command the runtimeosexec and time packages. See the Go .. milestone on the issue trackerfor detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedfull diff golanggogo.....go..       The text was updated successfully but these errors were encountered
. backport vendor update goevents to fix alignment for bit systems;backport of relates to mobybuildkit relates to mobybuildkit relates to dockerbuildx full diff dockergoevents...eb       The text was updated successfully but these errors were encountered
. backport api docs fix broken link on GitHub;backport of The pages that were linked to have moved so changing thelinks to point to docs.docker.com instead.       The text was updated successfully but these errors were encountered
. backport Fix TESTFILTER to work for both integration and integrationcli;backport of The TESTFILTER variable allows running a single integration or integrationclitest. However it failed to work properly for integrationcli tests.Before Filtering integration tests worksmake TESTFILTERTestInspectCpusetInConfigPre testintegration...DONE tests in .s But running a single test in integrationcli did notmake TESTFILTERTestSwarmNetworkCreateIssue testintegration...DONE tests in .sTrying to manually add the prefix didn't work either because that made thegrep fail to find which testsuites to runskipmake TESTFILTERTestSwarmNetworkCreateIssue testintegration Making bundle testintegration in bundlestestintegrationmake testintegration Error Aftermake TESTFILTERTestInspectCpusetInConfigPre testintegration...DONE tests in .smake TESTFILTERTestSwarmNetworkCreateIssue testintegration...DONE tests in .sNote that the tests is still a bit misleading because every suite isstarted which is counted as a test but no tests are run. This is stillsomething that could be improved on.This patch also makes a small modification to the code that's settingintegrationapidirs and no longer runs go list if not needed.Signedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit eSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
api docs fix broken link on GitHub;The pages that were linked to have moved so changing the links to point to docs.docker.com instead.       The text was updated successfully but these errors were encountered
Reduce allocations for logfile reader;Before this change the log decoder function provided by the log driverto logfile would not be able to reuse buffers causing undeededallocations and memory bloat for dockerd.This change introduces an interface that allows the log driver to manageit's memory usge more effectively.This only affects jsonfile and local log drivers.jsonfile still is not great just because of how the json decoder in thestdlib works.local is significantly improved.Relates to dockerforlinuxFixes        The text was updated successfully but these errors were encountered
swagger clarify the meaning of Image field in ContainerInspect endpoint;Container's image term is rather ambiguous it can be both a name and an ID.Looking at the sources it's actually an image ID so bring some clarity.       The text was updated successfully but these errors were encountered
pkgauthorization Fix test failures on macOS;On macOS unit tests were failing withrootcacgosrcgithub.comdockerdockerpkgauthorization go test . FAIL TestAuthZRequestPluginError .s authzunixtest.go listen unix authztestplugin.sock bind file name too long FAIL TestAuthZRequestPlugin .s authzunixtest.go listen unix authztestplugin.sock bind file name too long FAIL TestAuthZResponsePlugin .s authzunixtest.go listen unix authztestplugin.sock bind file name too longtimeTZ levelwarning msgRequest body is larger than '' skipping body FAIL TestMiddlewareWrapHandler .s authzunixtest.go listen unix authztestplugin.sock bind file name too longFAILFAILgithub.comdockerdockerpkgauthorization.sThis change moves the socket creation from a working test directory to a tmp directoryso the path is shorter. Description for the changelogFix unit test failures for authorization package on macOS       The text was updated successfully but these errors were encountered
On startup actually shutdown the container.;When a container is left running after the daemon exits e.g. the daemonis SIGKILL'd or crashes it should stop any running containers when thedaemon starts back up.What actually happens is the daemon only sends the container'sconfigured stop signal and does not check if it has exited.If the container does not actually exit then it is left running.This fixes this unexpected behavior by calling the same function to shutdown the container that the daemon shutdown process does.Fixes        The text was updated successfully but these errors were encountered
Only check variant if set on image.;This fixes an edge case where some images may not have a variant setjust because it didn't used to get set.       The text was updated successfully but these errors were encountered
Fixed typo in inventor comments.;Kirby and Noyce worked with silicon not silicone What I didfixed spelling error in comments How I did itchanged silicone to silicon How to verify itTake apart an ancient integrated circuit and confirm that they're made of silicon and not silicone. Description for the changelogFixed spelling of silicon in two inventor's contributions A picture of a cute animal not mandatory but encouragedThis is Dax       The text was updated successfully but these errors were encountered
. vendor buildkit bcffccafefabdffc;full diff mobybuildkitv.....bcffsolver avoid looping over same keys in loadwithparentsbrings in a backport of mobybuildkitto addressmobybuildkitdockerbuildx       The text was updated successfully but these errors were encountered
. backport Switch to sx Ubuntu .;backport of for the . branchchange didn't apply cleanly because the . branch did not have the USEBUILDX so I ignored those changes       The text was updated successfully but these errors were encountered
. backport builder fix concurrent map write;backport of fixes        The text was updated successfully but these errors were encountered
. backport docs add API versions v. v.;backport of Part of the work to address Adding separate documents for older API versions so that these don't have tobe collected from each tagrelease branch. For each version of the API I pickedthe highest release that uses the API to make sure to include possible fixesin the swaggergit mv apiswagger.yaml apiswaggercurrent.yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit mv apiswaggercurrent.yaml apiswagger.yamlSignedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit baeSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
docs add API versions v. v.;Similar to Part of the work to address Adding separate documents for older API versions so that these don't have tobe collected from each tagrelease branch. For each version of the API I pickedthe highest release that uses the API to make sure to include possible fixesin the swaggergit mv apiswagger.yaml apiswaggercurrent.yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit checkout v..ce apiswagger.yamlgit mv apiswagger.yaml docsapiv..yamlgit mv apiswaggercurrent.yaml apiswagger.yaml       The text was updated successfully but these errors were encountered
Revert vendor update go.etcd.iobbolt v..;This reverts commit ff .Seecontainerdcontainerd Ocasional containerd crashes on CIetcdiobbolt sweep increased allocation count with v..       The text was updated successfully but these errors were encountered
vendor update goevents to fix alignment for bit systems;relates to mobybuildkitrelates to mobybuildkitrelates to dockerbuildxfull diff dockergoevents...ebfollow up to the changes in and docker so marking for cherrypick       The text was updated successfully but these errors were encountered
vendor pkgerrors v.. mespathgojmespath v..;vendor add version comments for some dependenciesvendor jmespathgojmespath v..This update is just adding some typofixes and adding a go.mod but pins it to a tagged release jmespathgojmespathcbe...v..vendor pkgserrors v.. pkgerrorsv.....v..       The text was updated successfully but these errors were encountered
Bump Golang ..;go.. released includes fixes to the go command tools theruntime the toolchain and the cryptocypher package. See the Go ..milestone on the issue tracker for detailshttpsgithub.comgolanggoissuesqmilestoneAGo..labelACherryPickApprovedfull diff golanggogo.....go..       The text was updated successfully but these errors were encountered
builder fix concurrent map write;fixes Signedoffby Tonis Tiigi tonistiigigmail.com       The text was updated successfully but these errors were encountered
. backport seccomp add bit timet syscalls;backport of partially addresses Relates to httpspatchwork.kernel.orgpatchAdded to whitelistclockgetrestime equivalent of clockgetres which was whitelistedclockgettime equivalent of clockgettime which was whitelistedclocknanosleeptime equivalent of clocknanosleep which was whitelistedfutextime equivalent of futex which was whitelistediopgeteventstime equivalent of iopgetevents which was whitelistedmqtimedreceivetime equivalent of mqtimedreceive which was whitelistedmqtimedsendtime equivalent of mqtimedsend which was whitelistedppolltime equivalent of ppoll which was whitelistedpselecttime equivalent of pselect which was whitelistedrecvmmsgtime equivalent of recvmmsg which was whitelistedrtsigtimedwaittime equivalent of rtsigtimedwait which was whitelistedschedrrgetintervaltime equivalent of schedrrgetinterval which was whitelistedsemtimedoptime equivalent of semtimedop which was whitelistedtimergettime equivalent of timergettime which was whitelistedtimersettime equivalent of timersettime which was whitelistedtimerfdgettime equivalent of timerfdgettime which was whitelistedtimerfdsettime equivalent of timerfdsettime which was whitelistedutimensattime equivalent of utimensat which was whitelistedNot added to whitelistclockadjtime equivalent of clockadjtime which was not whitelistedclocksettime equivalent of clocksettime which was not whitelistedSignedoffby Sebastiaan van Stijn githubgone.nlcherry picked from commit fabfSignedoffby Sebastiaan van Stijn githubgone.nl What I did How I did it How to verify it Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
Rename newer buildshell target to build;These two targets seem interchangeable just that the old build targetalways built the final Dockerfile target even if the source was goingto be bind mounted anyway.       The text was updated successfully but these errors were encountered
LCOW add nolcow build tag to allow disabling lcow;relates to        The text was updated successfully but these errors were encountered
rootless graduate from experimental;Close Note that the support for cgroup v isn't ready for production yet regardless to rootful or rootless.       The text was updated successfully but these errors were encountered
. vendor containerd ccdfcdece;full diff containerdcontainerdce...cFix error handling for task deletionSnapshotsdevmapper deactivate thin device after committedFix fd leak of shim logFix killall when use pidnamespaceImprove ARM platform matching Description for the changelog Improve ARM platform matching       The text was updated successfully but these errors were encountered
build Dockerfile allows arg for base build FROM;What I didAllow an overridge ARG to specify an alternate GOLANG build environments How I did itDockerfile now has an ARG for fully specifying GOLANG base image used for buildBase image defaults to current patter Why I did it This
vendor update go.etcd.iobbolt v..;full diff etcdiobboltv.....v..Fix unsafe pointer conversions caught by Go . checkptrFix unexpected delete bucket error delete bucket incompatible valueAdd support for aixAdd go.moddb.Path resolves to db.file.NameAs mentioned in containerdcontainerd comment this update fixes issues when using Go . revealed by Go .       The text was updated successfully but these errors were encountered
add zombie check for container when killing it;An alternative fix for .related issuesfixes Zombie container can't stop lead to file descriptors leaddresses Docker stop container can't work When container pid becomes a zombie processaddresses Cannot stop container with zombie       The text was updated successfully but these errors were encountered
Bump swarmkit to ebeaeedcaaccccfc;What I didBumps swarmkit vendoring.Includes dockerswarmkit which fixes tasks.db growing out of control on worker nodes.relates to addresses single manager docker swarm stuck in Down state after rebootdockerswarmkit Swarm's
seccomp add bit timet syscalls;hopefully fixes addresses Relates to httpspatchwork.kernel.orgpatchAdded to whitelistclockgetrestime equivalent of clockgetres which was whitelistedclockgettime equivalent of clockgettime which was whitelistedclocknanosleeptime equivalent of clocknanosleep which was whitelistedfutextime equivalent of futex which was whitelistediopgeteventstime equivalent of iopgetevents which was whitelistedmqtimedreceivetime equivalent of mqtimedreceive which was whitelistedmqtimedsendtime equivalent of mqtimedsend which was whitelistedppolltime equivalent of ppoll which was whitelisted??? ppoll was removed in libseccomp was it confused for pollupdate looks like it and fixed in seccomplibseccompefpselecttime equivalent of pselect which was whitelistedrecvmmsgtime equivalent of recvmmsg which was whitelistedno time equivalent for recvmsg rtsigtimedwaittime equivalent of rtsigtimedwait which was whitelistedschedrrgetintervaltime equivalent of schedrrgetinterval which was whitelistedsemtimedoptime equivalent of semtimedop which was whitelistedtimergettime equivalent of timergettime which was whitelistedtimersettime equivalent of timersettime which was whitelistedtimerfdgettime equivalent of timerfdgettime which was whitelistedtimerfdsettime equivalent of timerfdsettime which was whitelistedutimensattime equivalent of utimensat which was whitelistedno time equivalent for utime and utimes Not added to whitelistclockadjtime equivalent of clockadjtime which was not whitelistedclocksettime equivalent of clocksettime which was not whitelistedTo be looked atThese syscalls are also new and added to libseccomp in seccomplibseccompbfeb but need to be looked at separatelyclone equivalent of clone which was not whitelistedfsconfigfsmountfsopenfspickmovemountopentreepidfdopenpidfdsendsignal Description for the changelog Fix bit timet syscalls being blocked by default seccomp profile A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
seccomp allow syscall membarrier;What I didAllow syscall membarrier in the default seccomp profile in order to fix memory coherency issues leading to segfault errors on Alpine containers. It was firstly noticed with AWS EC instances running the docker image nodealpine and failing
Accept platform spec on container create;This enables image lookup when creating a container to fail when thereference exists but it is for the wrong platform. This prevents tryingto run an image for the wrong platform as can be the case with forexample binfmtmiscqemu.       The text was updated successfully but these errors were encountered
vendor bump libnetwork efadfdeeeacbfddfabee;Full diff mobylibnetworkbeab...efachangesmobylibnetwork Revert Always configure iptables forward policymobylibnetwork Fixes a panic in the DNS resolverthis change fix        The text was updated successfully but these errors were encountered
Add DefaultAddressPools to docker info;What I didThis PR will enhance docker info following Things to enhanceshow the current value as part of the output of docker info so that the user can see the configured valueOriginally posted by thaJeztah in comment How I d
Fix CPU Stat value UsageInUsermode on Windows;NOM
merge default address pool flags with daemon config;What I didFixes if the given configuration file does not contain defaultaddresspools it should not reset the value set on the commandline Originally posted by thaJeztah in commentthis PR will fix the bug that cause dockerd ig
switch to mobysysmountmountinfo part II;This PR finishes the replacement of the pkgmount package with github.commobysysmount and github.commobysysmountinfo.Step by step Vendor in github.commobysys make pkgmount a shallow packagethe above is the below is this PR really switch this repo to use mobysys directly add deprecation notice to pkgmountThe longterm plan is to remove pkgmount entirely. This of course depends on its external users I'm afraid we have a lot I was going to get it from e.g. httpspkg.go.devgithub.comdockerdockerv..pkgmounttabimportedby but because it does not recognize moby's v...v tags it's not possible so it shows users of v.... Filed golanggo       The text was updated successfully but these errors were encountered
vendor vishvanandanetlink v..;vishvanandanetlink vishvanandanetlinkv.....v..vishvanandanetns vishvanandanetnsfa...abblibnetwork mobylibnetworkbfbd...beabgithub.commobyipvs new dependency was previously part of libnetwork Description for the changelog A picture of a cute animal not mandatory but encouraged       The text was updated successfully but these errors were encountered
